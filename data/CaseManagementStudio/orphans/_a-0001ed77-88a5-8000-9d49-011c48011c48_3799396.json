{
  "uuid": "_a-0001ed77-88a5-8000-9d49-011c48011c48_3799396",
  "name": "CMGT_Case_ConfigureTask_Task_WorkflowSettingsSection",
  "type": "Interface",
  "description": "UI components to configure the workflow settings",
  "sail_code": "#\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n  contents: {\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      labelPosition: \"COLLAPSED\",\n      value: {\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: #\"urn:appian:translation-string:v1:1d75c2e0-04ea-4b38-97fd-62fb1a14f0f4\",\n          color: ri!brandingMap.SecondaryTextColor\n        )\n      },\n      showWhen: ri!taskBehaviorTypeId = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION\n    ),\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      labelPosition: \"COLLAPSED\",\n      value: {\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: ri!selectedTask[recordType!CMGT_Task.questionLabel]\n        )\n      },\n      showWhen: ri!taskBehaviorTypeId = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION,\n      marginBelow: \"LESS\"\n    ),\n    /*List of Dependents*/\n    rule!CMGT_Case_ConfigureTask_ListOfDependents(\n      taskBranchMaps: ri!taskBranchMaps,\n      afterTaskBranchMapIndices: ri!afterTaskBranchMapIndices,\n      taskBehaviorTypeId: ri!taskBehaviorTypeId,\n      case: ri!case,\n      visibleTaskIndices: ri!visibleTaskIndices,\n      availableTasks: ri!availableTasks,\n      previousTasks: ri!previousTasks,\n      brandingMap: ri!brandingMap,\n      taskResponseOptions: ri!taskResponseOptions,\n      isStartTask: ri!isStartTask,\n      uniqueAfterTaskInstanceUUIDsInViolation: ri!uniqueAfterTaskInstanceUUIDsInViolation,\n      selectedTask: ri!selectedTask\n    ),\n    a!localVariables(\n      local!availableTasksExist: if(\n        a!isNotNullOrEmpty(ri!availableTasks),\n        if(\n          ri!isStartTask,\n          length(\n            rule!CMGT_UTIL_Filter(\n              filterType: \"REJECT\",\n              records: ri!availableTasks,\n              field: recordType!CMGT_Task.taskInstanceUuid,\n              value: index(\n                rule!CMGT_UTIL_Filter(\n                  records: a!flatten(ri!taskBranchMaps.afterTaskBranches),\n                  fieldValuePairs: {\n                    a!map(\n                      field: recordType!CMGT_TaskBranch.isRequired,\n                      value: true\n                    ),\n                    a!map(\n                      field: recordType!CMGT_TaskBranch.isActive,\n                      value: true\n                    )\n                  }\n                ),\n                recordType!CMGT_TaskBranch.afterTaskInstanceUuid,\n                null\n              )\n            )\n          ) > 0,\n          true\n        ),\n        false\n      ),\n      {\n        #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: if(\n              local!availableTasksExist,\n              #\"urn:appian:translation-string:v1:c03b57d0-b6a1-4ede-8039-d09e78574067\",\n              #\"urn:appian:translation-string:v1:4401a43e-cce1-4a87-844e-ba908e38a312\"\n            ),\n            color: ri!brandingMap.SecondaryTextColor,\n            style: \"EMPHASIS\"\n          ),\n          showWhen: or(\n            not(local!availableTasksExist),\n            rule!CMGT_UTIL_IsBlank(\n              ri!taskBranchMaps[ri!afterTaskBranchMapIndices].afterTaskBranches\n            )\n          )\n        ),\n        /*Add Dependent button*/\n        #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n          buttons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n            label: #\"urn:appian:translation-string:v1:50f0154e-4d77-42df-bcc1-51c02a40a7d9\",\n            icon: \"plus-circle\",\n            saveInto: a!save(\n              ri!taskBranchMaps,\n              append(\n                ri!taskBranchMaps,\n                rule!CMGT_ConstructTaskBranchMap(\n                  taskInstanceUUID: ri!selectedTask[recordType!CMGT_Task.taskInstanceUuid],\n                  taskResponseOptionUUID: fn!tointeger(null),\n                  isRequired: true,\n                  afterTaskBranches: recordType!CMGT_TaskBranch(\n                    recordType!CMGT_TaskBranch.beforeTaskInstanceUuid: ri!selectedTask[recordType!CMGT_Task.taskInstanceUuid],\n                    recordType!CMGT_TaskBranch.isRequired: true,\n                    /*Note, defaulting this to NULL until an actual selection is made so that the network renderer doesn't think there's a task*/\n                    recordType!CMGT_TaskBranch.isActive: null\n                  ),\n                  isActive: true\n                )\n              )\n            ),\n            style: \"LINK\",\n            showWhen: local!availableTasksExist,\n            accessibilityText: #\"urn:appian:translation-string:v1:9e159048-eba6-486b-9a68-0a8e9f01b555\"\n          ),\n          showWhen: ri!isStartTask = false(),\n          align: \"START\",\n          marginBelow: \"NONE\"\n        )\n      }\n    )\n  },\n  marginBelow: \"EVEN_LESS\"\n)",
  "calls": [
    {
      "name": "CMGT_Case_ConfigureTask_ListOfDependents",
      "type": "Interface",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_UTIL_Filter",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_UTIL_IsBlank",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_ConstructTaskBranchMap",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION",
      "type": "Constant",
      "dep_type": "USES_CONSTANT"
    },
    {
      "name": "CMGT_Task",
      "type": "Record Type",
      "dep_type": "USES_RECORD_TYPE"
    },
    {
      "name": "CMGT_TaskBranch",
      "type": "Record Type",
      "dep_type": "USES_RECORD_TYPE"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_Role",
      "type": "Record Type",
      "dep_type": "USES_RECORD_TYPE"
    },
    {
      "name": "CMGT_Case",
      "type": "Record Type",
      "dep_type": "USES_RECORD_TYPE"
    }
  ],
  "called_by": []
}
{
  "uuid": "_a-0001ed77-88a5-8000-9d49-011c48011c48_3799927",
  "name": "CMGT_Case_ConfigureTask_Task_SLASection",
  "type": "Interface",
  "description": "UI components to configure the task SLA",
  "sail_code": "a!localVariables(\n  local!sla: rule!CMGT_UTIL_ContructSLAMap(\n    slaJson: ri!selectedTask[recordType!CMGT_Task.sla]\n  ),\n  local!isEmptySla: rule!CMGT_UTIL_isEmptySLA(slaMap: local!sla),\n  {\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_textField\"(\n              label: #\"urn:appian:translation-string:v1:4794decc-5e8c-4cb6-bf94-0696d49b4fa5\",\n              value: index(local!sla, \"days\", \"\"),\n              saveInto: {\n                a!save(\n                  local!sla,\n                  rule!CMGT_UTIL_ContructSLAMap(\n                    hours: index(local!sla, \"hours\", \"\"),\n                    minutes: index(local!sla, \"minutes\", \"\"),\n                    days: save!value,\n                    isBusinessDays: index(local!sla, \"isBusinessDays\", \"\")\n                  )\n                ),\n                if(\n                  rule!CMGT_UTIL_isEmptySLA(local!sla),\n                  a!save(local!sla, null),\n                  {}\n                ),\n                a!save(\n                  ri!selectedTask[recordType!CMGT_Task.sla],\n                  if(\n                    rule!CMGT_UTIL_IsNotBlank(local!sla),\n                    #\"SYSTEM_SYSRULES_toJson_v1\"(local!sla),\n                    null\n                  )\n                ),\n                a!save(\n                  ri!selectedTask[recordType!CMGT_Task.dueOn],\n                  rule!CMGT_Task_UpdateDueDate_Conditions(\n                    previousStatusOfSelectedTask: ri!previousStatusOfSelectedTask,\n                    selectedTask: ri!selectedTask\n                  )\n                ),\n                a!save(\n                  ri!case[recordType!CMGT_Case.tasks],\n                  #\"urn:appian:function:v1:a:update\"(\n                    ri!case[recordType!CMGT_Case.tasks],\n                    /*Index of the case task that we want to update in the caseTypeWorkflowTasks array*/\n                    wherecontains(\n                      ri!selectedTaskInstanceUUID,\n                      ri!case[recordType!CMGT_Case.tasks.taskInstanceUuid]\n                    ),\n                    /*The updated case task*/\n                    #\"urn:appian:function:v1:a:update\"(\n                      ri!selectedTask,\n                      {\n                        recordType!CMGT_Task.sla,\n                        recordType!CMGT_Task.dueOn\n                      },\n                      {\n                        ri!selectedTask[recordType!CMGT_Task.sla],\n                        ri!selectedTask[recordType!CMGT_Task.dueOn]\n                      }\n                    )\n                  )\n                )\n              },\n              validations: rule!CMGT_UTIL_ValidateSLA(value: index(local!sla, \"days\", \"\"))\n            )\n          }\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_textField\"(\n              label: #\"urn:appian:translation-string:v1:befd59bf-3568-4c2b-9afd-71b7d6f7060a\",\n              value: index(local!sla, \"hours\", \"\"),\n              saveInto: {\n                a!save(\n                  local!sla,\n                  rule!CMGT_UTIL_ContructSLAMap(\n                    hours: save!value,\n                    minutes: index(local!sla, \"minutes\", \"\"),\n                    days: index(local!sla, \"days\", \"\"),\n                    isBusinessDays: index(local!sla, \"isBusinessDays\", \"\")\n                  )\n                ),\n                if(\n                  rule!CMGT_UTIL_isEmptySLA(local!sla),\n                  a!save(local!sla, null),\n                  {}\n                ),\n                a!save(\n                  ri!selectedTask[recordType!CMGT_Task.sla],\n                  if(\n                    rule!CMGT_UTIL_IsNotBlank(local!sla),\n                    #\"SYSTEM_SYSRULES_toJson_v1\"(local!sla),\n                    null\n                  )\n                ),\n                a!save(\n                  ri!selectedTask[recordType!CMGT_Task.dueOn],\n                  rule!CMGT_Task_UpdateDueDate_Conditions(\n                    previousStatusOfSelectedTask: ri!previousStatusOfSelectedTask,\n                    selectedTask: ri!selectedTask\n                  )\n                ),\n                a!save(\n                  ri!case[recordType!CMGT_Case.tasks],\n                  #\"urn:appian:function:v1:a:update\"(\n                    ri!case[recordType!CMGT_Case.tasks],\n                    /*Index of the case task that we want to update in the caseTypeWorkflowTasks array*/\n                    wherecontains(\n                      ri!selectedTaskInstanceUUID,\n                      ri!case[recordType!CMGT_Case.tasks.taskInstanceUuid]\n                    ),\n                    /*The updated case task*/\n                    #\"urn:appian:function:v1:a:update\"(\n                      ri!selectedTask,\n                      {\n                        recordType!CMGT_Task.sla,\n                        recordType!CMGT_Task.dueOn\n                      },\n                      {\n                        ri!selectedTask[recordType!CMGT_Task.sla],\n                        ri!selectedTask[recordType!CMGT_Task.dueOn]\n                      }\n                    )\n                  )\n                )\n              },\n              validations: rule!CMGT_UTIL_ValidateSLA(value: index(local!sla, \"hours\", \"\"))\n            )\n          }\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_textField\"(\n              label: #\"urn:appian:translation-string:v1:8011a7b9-c1f3-45f4-9f16-99471296e83d\",\n              value: index(local!sla, \"minutes\", \"\"),\n              saveInto: {\n                a!save(\n                  local!sla,\n                  rule!CMGT_UTIL_ContructSLAMap(\n                    hours: index(local!sla, \"hours\", \"\"),\n                    minutes: save!value,\n                    days: index(local!sla, \"days\", \"\"),\n                    isBusinessDays: index(local!sla, \"isBusinessDays\", \"\")\n                  )\n                ),\n                if(\n                  rule!CMGT_UTIL_isEmptySLA(local!sla),\n                  a!save(local!sla, null),\n                  {}\n                ),\n                a!save(\n                  ri!selectedTask[recordType!CMGT_Task.sla],\n                  if(\n                    rule!CMGT_UTIL_IsNotBlank(local!sla),\n                    #\"SYSTEM_SYSRULES_toJson_v1\"(local!sla),\n                    null\n                  )\n                ),\n                a!save(\n                  ri!selectedTask[recordType!CMGT_Task.dueOn],\n                  rule!CMGT_Task_UpdateDueDate_Conditions(\n                    previousStatusOfSelectedTask: ri!previousStatusOfSelectedTask,\n                    selectedTask: ri!selectedTask\n                  )\n                ),\n                a!save(\n                  ri!case[recordType!CMGT_Case.tasks],\n                  #\"urn:appian:function:v1:a:update\"(\n                    ri!case[recordType!CMGT_Case.tasks],\n                    /*Index of the case task that we want to update in the caseTypeWorkflowTasks array*/\n                    wherecontains(\n                      ri!selectedTaskInstanceUUID,\n                      ri!case[recordType!CMGT_Case.tasks.taskInstanceUuid]\n                    ),\n                    /*The updated case task*/\n                    #\"urn:appian:function:v1:a:update\"(\n                      ri!selectedTask,\n                      {\n                        recordType!CMGT_Task.sla,\n                        recordType!CMGT_Task.dueOn\n                      },\n                      {\n                        ri!selectedTask[recordType!CMGT_Task.sla],\n                        ri!selectedTask[recordType!CMGT_Task.dueOn]\n                      }\n                    )\n                  )\n                )\n              },\n              validations: rule!CMGT_UTIL_ValidateSLA(value: index(local!sla, \"minutes\", \"\"))\n            )\n          }\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_checkboxField_v1\"(\n      choiceLabels: #\"urn:appian:translation-string:v1:759245e6-9b85-4710-831f-f11ad593d08a\",\n      choiceValues: true(),\n      labelPosition: \"COLLAPSED\",\n      value: if(\n        a!isNotNullOrEmpty(index(local!sla, \"isBusinessDays\", null)),\n        if(\n          index(local!sla, \"isBusinessDays\", null),\n          true(),\n          null\n        ),\n        null\n      ),\n      saveInto: {\n        a!save(\n          local!sla,\n          rule!CMGT_UTIL_ContructSLAMap(\n            hours: index(local!sla, \"hours\", \"\"),\n            minutes: index(local!sla, \"minutes\", \"\"),\n            days: index(local!sla, \"days\", \"\"),\n            isBusinessDays: save!value\n          )\n        ),\n        a!save(\n          ri!selectedTask[recordType!CMGT_Task.sla],\n          if(\n            rule!CMGT_UTIL_IsNotBlank(local!sla),\n            #\"SYSTEM_SYSRULES_toJson_v1\"(local!sla),\n            null\n          )\n        ),\n        a!save(\n          ri!selectedTask[recordType!CMGT_Task.dueOn],\n          rule!CMGT_Task_UpdateDueDate_Conditions(\n            previousStatusOfSelectedTask: ri!previousStatusOfSelectedTask,\n            selectedTask: ri!selectedTask\n          )\n        ),\n        a!save(\n          ri!case[recordType!CMGT_Case.tasks],\n          #\"urn:appian:function:v1:a:update\"(\n            ri!case[recordType!CMGT_Case.tasks],\n            /*Index of the case task that we want to update in the caseTypeWorkflowTasks array*/\n            wherecontains(\n              ri!selectedTaskInstanceUUID,\n              ri!case[recordType!CMGT_Case.tasks.taskInstanceUuid]\n            ),\n            /*The updated case task*/\n            #\"urn:appian:function:v1:a:update\"(\n              ri!selectedTask,\n              {\n                recordType!CMGT_Task.sla,\n                recordType!CMGT_Task.dueOn\n              },\n              {\n                ri!selectedTask[recordType!CMGT_Task.sla],\n                ri!selectedTask[recordType!CMGT_Task.dueOn]\n              }\n            )\n          )\n        )\n      },\n      disabled: local!isEmptySla\n    )\n  }\n)",
  "calls": [
    {
      "name": "CMGT_UTIL_ContructSLAMap",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_UTIL_isEmptySLA",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_UTIL_IsNotBlank",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_Task_UpdateDueDate_Conditions",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_UTIL_ValidateSLA",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_Task",
      "type": "Record Type",
      "dep_type": "USES_RECORD_TYPE"
    },
    {
      "name": "CMGT_Case",
      "type": "Record Type",
      "dep_type": "USES_RECORD_TYPE"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_Role",
      "type": "Record Type",
      "dep_type": "USES_RECORD_TYPE"
    }
  ],
  "called_by": []
}
{
  "_metadata": {
    "bundle_id": "CMGT_EXT_GenerateDemoUsers"
  },
  "objects": {
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_21360": {
      "name": "CMGT_EXT_ReturnUserGroupMap",
      "type": "Expression Rule",
      "sail_code": "/*For all the business groups add either case manager users or case worker users.So the cases and tasks will be\nassigned to only those maximum data user of that group*/\na!localVariables(\n  local!caseManagers: rule!CMGT_EXT_returnOnlyTheActiveUsers(\n    usernames: cons!CMGT_EXT_CASE_MANAGERS_DATA_USERS\n  ),\n  local!caseWorkers: rule!CMGT_EXT_returnOnlyTheActiveUsers(\n    usernames: cons!CMGT_EXT_CASE_WORKERS_DATA_USERS\n  ),\n  {\n    a!map(\n      group: cons!CMGT_GRP_CASE_MANAGERS,\n      activeUsers: local!caseManagers\n    ),\n    a!map(\n      group: cons!CMGT_GRP_CASE_WORKERS,\n      activeUsers: local!caseWorkers\n    ),\n    a!map(\n      group: cons!CMGT_EXT_GRP_ANALYSTS,\n      activeUsers: local!caseWorkers\n    ),\n    a!map(\n      group: cons!CMGT_EXT_GRP_PLANNING_BOARD,\n      activeUsers: local!caseManagers\n    ),\n    a!map(\n      group: cons!CMGT_EXT_GRP_ENVIRONMENTAL_REVIEWERS,\n      activeUsers: local!caseWorkers\n    ),\n    a!map(\n      group: cons!CMGT_EXT_GRP_ELECTRICAL_REVIEWERS,\n      activeUsers: local!caseWorkers\n    ),\n    a!map(\n      group: cons!CMGT_EXT_GRP_BUILDING_REVIEWERS,\n      activeUsers: local!caseWorkers\n    ),\n    a!map(\n      group: cons!CMGT_EXT_GRP_FINANCE_AND_BILLING,\n      activeUsers: local!caseManagers\n    ),\n    a!map(\n      group: cons!CMGT_EXT_GRP_INSPECTORS,\n      activeUsers: local!caseManagers\n    ),\n    a!map(\n      group: cons!CMGT_EXT_GRP_LEGAL_ADVISORS,\n      activeUsers: local!caseWorkers\n    ),\n    a!map(\n      group: cons!CMGT_EXT_GRP_ACH_OPERATORS,\n      activeUsers: local!caseWorkers\n    ),\n    a!map(\n      group:cons!CMGT_EXT_GRP_DISPUTE_OPERATORS,\n      activeUsers:local!caseWorkers\n    ),\n    a!map(\n      group:cons!CMGT_EXT_GRP_CUSTOMER_SERVICE,\n      activeUsers:local!caseWorkers\n    ),\n    a!map(\n      group:cons!CMGT_EXT_GRP_CUSTOMER_RESOLUTION,\n      activeUsers:local!caseManagers\n    ),\n    a!map(\n      group:cons!CMGT_EXT_GRP_COMPLIANCE_AND_RISK,\n      activeUsers:local!caseManagers\n    ),\n    a!map(\n      group:cons!CMGT_EXT_GRP_PERMIT_SERVICE_DEPARTMENT,\n      activeUsers:local!caseManagers\n    )\n  }\n)"
    },
    "000cec1b-8330-8000-faf5-7f0000014e7a": {
      "name": "CMGT_EXT_GenerateDemoUsers",
      "type": "Process Model",
      "sail_code": "// Input: ?\n=pv!originalPhotos\n\n// Input: ?\n=pv!x180pixel\n\n// Input: ?\n=pv!x90pixel\n\n// Input: ?\n=pv!x60pixel\n\n// Input: ?\n=pv!userGroupMap[tp!instanceindex].activeUsers\n\n// Input: ?\n=pv!userGroupMap[tp!instanceindex].group\n\n// Input: ?\n= append( cons!CMGT_EXT_MALE_USERNAMES, cons!CMGT_EXT_FEMALE_USERNAMES)\n\n// Output: ?\nrule!CMGT_EXT_filterExistingUsers(\n  usernames: ac!allUsernames\n)\n\n// Output: ?\nappend(\n  cons!CMGT_EXT_DOC_MALE_ORIGINAL,\n  cons!CMGT_EXT_DOC_FEMALE_ORIGINAL\n)\n\n// Output: ?\nappend(\n  cons!CMGT_EXT_DOC_MALE_60PX,\n  cons!CMGT_EXT_DOC_FEMALE_60PX\n)\n\n// Output: ?\nappend(\n  cons!CMGT_EXT_DOC_MALE_90PX,\n  cons!CMGT_EXT_DOC_FEMALE_90PX\n)\n\n// Output: ?\nappend(\n  cons!CMGT_EXT_DOC_MALE_180PX,\n  cons!CMGT_EXT_DOC_FEMALE_180PX\n)\n\n// Output: ?\nrule!CMGT_EXT_ReturnUserGroupMap()\n\n// Input: ?\n=pv!usernames[tp!instanceindex]\n\n// Input: ?\n=proper( split(pv!usernames[tp!instanceindex], \".\"))[1]\n\n// Input: ?\n=proper( split(pv!usernames[tp!instanceindex], \".\"))[2]\n\n// Input: ?\n=if( contains( cons!CMGT_EXT_MAXIMUM_DATA_USERS, pv!usernames[tp!instanceindex] ), user(pp!initiator, \"email\"), pv!usernames[tp!instanceindex] & cons!CMGT_EXT_TXT_DEFAULT_EMAIL_DOMIAN)"
    },
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_21367": {
      "name": "CMGT_EXT_returnOnlyTheActiveUsers",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!usernames),\n  null,\n  index(\n    ri!usernames,\n    where(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!usernames,\n        expression: user(fv!item, \"status\")\n      )\n    ),\n    null()\n  )\n)"
    },
    "_a-0000ec18-c90d-8000-9baa-011c48011c48_22631": {
      "name": "CMGT_EXT_filterExistingUsers",
      "type": "Expression Rule",
      "sail_code": "reject(fn!isusernametaken, ri!usernames)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_25890": {
      "name": "CMGT_UTIL_IsBlank",
      "type": "Expression Rule",
      "sail_code": "length(a!flatten(ri!value)) = 0"
    }
  }
}
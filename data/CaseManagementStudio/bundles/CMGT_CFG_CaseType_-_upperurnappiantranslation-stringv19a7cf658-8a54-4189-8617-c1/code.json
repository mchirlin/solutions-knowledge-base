{
  "_metadata": {
    "bundle_id": "CMGT_CFG_CaseType_-_upperurnappiantranslation-stringv19a7cf658-8a54-4189-8617-c1"
  },
  "objects": {
    "_a-0000edbd-1f9f-8000-9d6d-011c48011c48_4084639": {
      "name": "CMGT_CFG_CaseTypeMetadata_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!caseTypeMetaData,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_CFG_CaseTypeMetadata.modifiedBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_CFG_CaseTypeMetadata.modifiedOn,\n        value: now()\n      )\n    },\n    /*Only modify these fields if they are currently null*/\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_CFG_CaseTypeMetadata.caseTypeUuid,\n        value: fv!item[recordType!CMGT_CFG_CaseTypeMetadata.caseType.uuid]\n      ),\n      a!map(\n        field: recordType!CMGT_CFG_CaseTypeMetadata.prefix,\n        value: rule!CMGT_setPrefixDefault(\n          caseType: ri!caseType\n        )\n      ),\n      a!map(\n        field: recordType!CMGT_CFG_CaseTypeMetadata.priorityId,\n        value: cons!CMGT_REFID_PRIORITY_NONE\n      ),\n      a!map(\n        field: recordType!CMGT_CFG_CaseTypeMetadata.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_CFG_CaseTypeMetadata.createdOn,\n        value: now()\n      )\n    },\n    /*Set metadata for all child relationships*/\n    childRelationships: {}\n  )\n)"
    },
    "_a-0000ece2-0128-8000-9bb8-011c48011c48_40224": {
      "name": "CMGT_UTIL_ContructSLAMap",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    rule!CMGT_UTIL_IsNotBlank(input: ri!slaJson),\n    isvalidjson(ri!slaJson)\n  ),\n  cast(\n    'type!{http://www.appian.com/ae/types/2009}Map',\n    #\"SYSTEM_SYSRULES_fromJson_v1\"(ri!slaJson)\n  ),\n  a!map(\n    days: a!defaultValue(ri!days, tostring(null())),\n    hours: a!defaultValue(ri!hours, tostring(null())),\n    minutes: a!defaultValue(ri!minutes, tostring(null())),\n    isBusinessDays: a!defaultValue(ri!isBusinessDays, false)\n  )\n)"
    },
    "_a-0000ec06-54a3-8000-9cca-011c48011c48_2504116": {
      "name": "CMGT_CaseTypeActiveLogicalExpression",
      "type": "Expression Rule",
      "sail_code": "if(\n  ri!includeInactive <> true,\n  #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n    operator: \"AND\",\n    filters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_CFG_CaseType.isActive,\n        operator: \"=\",\n        value: true\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_CFG_CaseType.areParentsActive,\n        operator: \"=\",\n        value: true\n      )\n    }\n  ),\n  {}\n)"
    },
    "_a-0000e98b-cfe0-8000-9ba5-011c48011c48_22352": {
      "name": "CMGT_UTIL_QueryRecord",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Chosen return type*/\n  local!returnType: a!defaultValue(ri!returnType, \"OBJECT_ARRAY\"),\n  /*Determine the query parameters to use by the return type*/\n  local!queryParams: a!match(\n    value: local!returnType,\n    equals: \"OBJECT_ARRAY\",\n    then: a!map(\n      castToType: if(\n        a!isNullOrEmpty(ri!groupByFields),\n        #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(ri!recordType),\n        'type!{http://www.appian.com/ae/types/2009}Map?list'\n      ),\n      fetchTotalCount: false,\n      isArray: true,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: a!defaultValue(\n          ri!pagingInfo.batchSize,\n          cons!CMGT_INT_BATCH_SIZE_MAX\n        ),\n        sort: { ri!pagingInfo.sort, ri!sort }\n      )\n    ),\n    equals: \"SINGLE_OBJECT\",\n    then: a!map(\n      castToType: if(\n        a!isNullOrEmpty(ri!groupByFields),\n        ri!recordType,\n        'type!{http://www.appian.com/ae/types/2009}Map'\n      ),\n      fetchTotalCount: false,\n      isArray: false,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: 1,\n        sort: { ri!pagingInfo.sort, ri!sort }\n      )\n    ),\n    equals: \"DATA_SUBSET\",\n    then: a!map(\n      castToType: 'type!{http://www.appian.com/ae/types/2009}DataSubset',\n      fetchTotalCount: true,\n      isArray: false,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: a!defaultValue(ri!pagingInfo.startIndex, 1),\n        batchSize: a!defaultValue(\n          ri!pagingInfo.batchSize,\n          cons!CMGT_INT_BATCH_SIZE_MAX\n        ),\n        sort: { ri!pagingInfo.sort, ri!sort }\n      )\n    ),\n    equals: \"TOTAL_COUNT\",\n    then: a!map(\n      castToType: 'type!{http://www.appian.com/ae/types/2009}Integer',\n      fetchTotalCount: true,\n      isArray: false,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(startIndex: 1, batchSize: 0)\n    ),\n    default: fn!error(\n      \"Invalid returnType, must be one of: OBJECT_ARRAY, SINGLE_OBJECT, DATA_SUBSET, TOTAL_COUNT\"\n    )\n  ),\n  if(\n    /*Early exit for skip execution*/\n    ri!executeWhen = false,\n    cast(\n      local!queryParams.castToType,\n      if(local!queryParams.isArray, {}, null)\n    ),\n    a!localVariables(\n      /*Run the query*/\n      local!queryResult: a!refreshVariable(\n        value: #\"SYSTEM_SYSRULES_queryRecordType_v2\"(\n          recordType: ri!recordType,\n          fields: if(\n            a!isNullOrEmpty(ri!groupByFields),\n            reject(\n              a!isNullOrEmpty,\n              a!flatten(\n                {\n                  ri!fields,\n                  index(ri!relatedRecordData, \"relationship\", {})\n                }\n              )\n            ),\n            #\"SYSTEM_SYSRULES_aggregationFields\"(\n              groupings: #\"SYSTEM_SYSRULES_forEach\"(\n                items: ri!groupByFields,\n                expression: #\"SYSTEM_SYSRULES_grouping\"(field: fv!item, alias: tostring(fv!item))\n              ),\n              measures: #\"SYSTEM_SYSRULES_measure\"(\n                field: ri!groupByFields[1],\n                function: \"COUNT\",\n                alias: \"count\"\n              )\n            )\n          ),\n          filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            ignoreFiltersWithEmptyValues: true,\n            logicalExpressions: {\n              ri!logicalExpressions,\n              if(\n                and(\n                  a!isNotNullOrEmpty(ri!searchFields),\n                  a!isNotNullOrEmpty(ri!searchTerm)\n                ),\n                #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                  operator: \"AND\",\n                  logicalExpressions: #\"SYSTEM_SYSRULES_forEach\"(\n                    items: split(trim(ri!searchTerm), \" \"),\n                    expression: a!localVariables(\n                      local!splitSearchTerm: fv!item,\n                      #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                        operator: \"OR\",\n                        filters: #\"SYSTEM_SYSRULES_forEach\"(\n                          items: ri!searchFields,\n                          expression: #\"SYSTEM_SYSRULES_queryFilter\"(\n                            field: fv!item,\n                            operator: \"includes\",\n                            value: local!splitSearchTerm\n                          )\n                        )\n                      )\n                    )\n                  )\n                ),\n                {}\n              )\n            },\n            filters: ri!filters\n          ),\n          pagingInfo: if(\n            a!isNullOrEmpty(ri!groupByFields),\n            local!queryParams.pagingInfo,\n            #\"urn:appian:function:v1:a:update\"(\n              local!queryParams.pagingInfo,\n              \"sort\",\n              null\n            )\n          ),\n          fetchTotalCount: local!queryParams.fetchTotalCount,\n          relatedRecordData: if(\n            a!isNullOrEmpty(ri!groupByFields),\n            ri!relatedRecordData,\n            {}\n          )\n        ),\n        refreshOnVarChange: ri!triggerRefresh,\n        refreshAfter: { \"RECORD_ACTION\" }\n      ),\n      /*Format the output*/\n      local!output: a!match(\n        value: local!returnType,\n        equals: \"OBJECT_ARRAY\",\n        then: cast(\n          local!queryParams.castToType,\n          local!queryResult.data\n        ),\n        equals: \"SINGLE_OBJECT\",\n        then: cast(\n          local!queryParams.castToType,\n          local!queryResult.data\n        ),\n        equals: \"DATA_SUBSET\",\n        then: cast(\n          local!queryParams.castToType,\n          local!queryResult\n        ),\n        equals: \"TOTAL_COUNT\",\n        then: local!queryResult.totalCount,\n        default: null\n      ),\n      local!output\n    )\n  )\n)"
    },
    "0006ea29-5883-8000-02ea-7f0000014e7a": {
      "name": "CMGT_CFG_CaseTypeMetadata_CreateEdit",
      "type": "Process Model",
      "sail_code": "// Input: ?\n={pv!caseTypeMetaData}\n\n// Input: ?\n={recordType!CMGT_CFG_CaseTypeMetadata}\n\n// Input: ?\n= rule!CMGT_WFL_MTR_CaseTypeMetadataWrapper(caseTypeMetadata: pv!caseTypeMetaData)\n\n// Output: ?\nrule!CMGT_CFG_CaseTypeMetadata_SetMetaData(\n  caseTypeMetaData: pv!caseType[recordType!CMGT_CFG_CaseType.caseTypeMetadata],\n  caseType: pv!caseType,\n  initiator: pp!initiator\n)"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_566597": {
      "name": "CMGT_CFG_CaseType_RecordAction_CaseTypeMetaDataCreateEdit",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!brandingMap: rule!CMGT_CB_UTIL_LoadBrandingMap(),\n  local!caseTypeMetadata: a!defaultValue(\n    ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeMetadata],\n    recordType!CMGT_CFG_CaseTypeMetadata(\n      recordType!CMGT_CFG_CaseTypeMetadata.caseTypeUuid: ri!caseType[recordType!CMGT_CFG_CaseType.uuid],\n      recordType!CMGT_CFG_CaseTypeMetadata.prefix: rule!CMGT_setPrefixDefault(\n        caseType: ri!caseType\n      ),\n      recordType!CMGT_CFG_CaseTypeMetadata.priorityId: cons!CMGT_REFID_PRIORITY_NONE\n    )\n  ),\n  #\"SYSTEM_SYSRULES_formLayout_v2\"(\n    titleBar: #\"urn:appian:translation-string:v1:9a7cf658-8a54-4189-8617-c1a355c955ee\",\n    contents: {\n      rule!CMGT_CFG_CaseTypeMetadata_Details(\n        caseTypeMetadata: local!caseTypeMetadata,\n        brandingMap: local!brandingMap\n      )\n    },\n    buttons: #\"SYSTEM_SYSRULES_ButtonLayout\"(\n      primaryButtons: {\n        #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          label: #\"urn:appian:translation-string:v1:06dbafc7-e085-40de-a68a-c83054c1d7ec\",\n          submit: true,\n          saveInto: {\n            a!save(\n              ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeMetadata],\n              local!caseTypeMetadata\n            )\n          },\n          style: \"SOLID\",\n          color: \"ACCENT\",\n          validate: true\n        )\n      },\n      secondaryButtons: {\n        #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          label: #\"urn:appian:translation-string:v1:edd4df67-d878-46d6-ab67-732a3700a588\",\n          value: true,\n          saveInto: { a!save(ri!caseType, null) },\n          submit: true,\n          style: \"OUTLINE\",\n          color: \"ACCENT\",\n          validate: false\n        )\n      }\n    )\n  )\n)"
    },
    "_a-0000e9d3-70bf-8000-9bbd-011c48011c48_180568": {
      "name": "CMGT_UTIL_IsNotBlank",
      "type": "Expression Rule",
      "sail_code": "not(rule!CMGT_UTIL_IsBlank(ri!input))"
    },
    "_a-0000eb4d-d051-8000-9c68-011c48011c48_1673368": {
      "name": "CMGT_WFL_MTR_UserCreatesCasetypeMetadata",
      "type": "Expression Rule",
      "sail_code": "now()"
    },
    "_a-0000ece2-0128-8000-9bb8-011c48011c48_40321": {
      "name": "CMGT_UTIL_isEmptySLA",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    a!isNullOrEmpty(ri!slaMap.days),\n    a!isNullOrEmpty(ri!slaMap.hours),\n    a!isNullOrEmpty(ri!slaMap.minutes)\n  ),\n  true,\n  false\n)"
    },
    "_a-0000edbd-1f9f-8000-9d6d-011c48011c48_4081638": {
      "name": "CMGT_QR_GetCaseTypeMetadata",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_CFG_CaseTypeMetadata,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_CaseTypeMetadata.caseTypeUuid,\n      operator: \"in\",\n      value: ri!caseTypeUuid\n    )\n  },\n  fields: {\n    ri!fields\n  },\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ea72-a399-8000-9c0d-011c48011c48_863909": {
      "name": "CMGT_UTIL_ValidateSLA",
      "type": "Expression Rule",
      "sail_code": "{\n  if(\n    /*Allows nulls & integers*/\n    regexmatch(\"^(-?(0|[1-9]\\d*)|)$\", ri!value) <> true(),\n    #\"urn:appian:translation-string:v1:0ab37401-6bd6-43b5-8b4a-484b1b1c7378\",\n    if(\n      and(\n        tointeger(ri!value) < 0,\n        a!isNotNullOrEmpty(ri!value)\n      ),\n      #\"urn:appian:translation-string:v1:f1ea8a38-1904-4cd0-80cc-1f1c119f5abe\",\n      if(\n        and(\n          tointeger(ri!value) > cons!CMGT_MAX_SLA_DAYS,\n          a!isNotNullOrEmpty(ri!value)\n        ),\n        #\"urn:appian:translation-string:v1:2cfd2a67-27ef-4dc4-b0d5-6fb08358e1ee\"(\n          #\"urn:appian:translation-variable:v1:9c7b4738-1840-4d1b-a7ab-0e41ce103e3e\": cons!CMGT_MAX_SLA_DAYS\n        ),\n        null\n      )\n    )\n  )\n}"
    },
    "_a-0000eb88-676f-8000-9c81-011c48011c48_1925601": {
      "name": "CMGT_CB_UTIL_LoadBrandingMap",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_MergeMaps(\n  map1: rule!CMGT_UTIL_LoadBrandingMap(),\n  map2: a!localVariables(\n    local!branding: getbrandingconfig(\n      cons!CMGT_WFL_DOC_DEFAULT_BRANDING_CONFIG,\n      true\n    ),\n    local!output: reduce(\n      #\"urn:appian:function:v1:a:update\"(_, _, _),\n      a!map(),\n      merge(\n        {\n          local!branding.defaultBranding.key,\n          local!branding.customBranding.key\n        },\n        {\n          local!branding.defaultBranding.value,\n          local!branding.customBranding.value\n        }\n      )\n    ),\n    local!output\n  )\n)"
    },
    "_a-0000edbd-1f9f-8000-9d6d-011c48011c48_4081813": {
      "name": "CMGT_setPrefixDefault",
      "type": "Expression Rule",
      "sail_code": "left(\n  initials(\n    proper(\n      ri!caseType[recordType!CMGT_CFG_CaseType.name]\n    )\n  ),\n  3\n)"
    },
    "_a-0000ea2f-ac11-8000-9bf4-011c48011c48_606547": {
      "name": "CMGT_UTIL_WarningBanner",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_cardLayout\"(\n  contents: {\n    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n      items: {\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            labelPosition: \"COLLAPSED\",\n            value: {\n              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                icon: a!defaultValue(ri!alertIcon, \"exclamation-circle\"),\n                color: a!defaultValue(ri!alertIconColor, \"NEGATIVE\"),\n                size: \"MEDIUM\"\n              )\n            }\n          ),\n          width: \"MINIMIZE\"\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            labelPosition: \"COLLAPSED\",\n            value: {\n              \" \",\n              ri!warningLabel,\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: \" \" & joinarray(ri!dependentNames, \", \"),\n                showWhen: a!isNotNullOrEmpty(ri!dependentNames),\n                style: \"STRONG\"\n              )\n            }\n          )\n        )\n      },\n      alignVertical: \"MIDDLE\",\n      spacing: \"STANDARD\"\n    )\n  },\n  showWhen: ri!showWhen,\n  style: a!defaultValue(ri!alertStyle, \"ERROR\"),\n  padding: a!defaultValue(value: ri!padding, default: \"LESS\"),\n  marginBelow: \"STANDARD\",\n  showBorder: false,\n  decorativeBarPosition: \"START\",\n  decorativeBarColor: a!defaultValue(ri!alertIconColor, \"NEGATIVE\")\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_33778": {
      "name": "CMGT_UTIL_SetRecordFields",
      "type": "Expression Rule",
      "sail_code": "/*\nFuture enhancement ideas:\n1 Parameter to skip update if the field isn't present in the object\n--- This would also apply to nested fields, as in, don't set a relationship field if the entire relationship object isn't there because it will instantiate it\n2 Parameter to overwrite based on more enhanced logic\n3 Allow list types for the `value`\n4 Allow reuse to apply setting metadata for nested relationships, but using their own set metadata rule\n--- e.g. CMGT_Entity_SetMetaData can be used in both the Case process and the individual Entity process\n*/\nif(\n  a!isNullOrEmpty(ri!record),\n  ri!record,\n  a!localVariables(\n    local!allUpdates: rule!CMGT_UTIL_RejectBlank(a!flatten(\n      {\n        ri!alwaysOverwrite,\n        ri!childRelationships,\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!neverOverwrite,\n          expression: #\"urn:appian:function:v1:a:update\"(\n            fv!item,\n            \"value\",\n            /*Specifically using this instead of a!defaultValue() to account for the `{null}` value*/\n            if(\n              rule!CMGT_UTIL_IsBlank(ri!record[fv!item.field]),\n              fv!item.value,\n              ri!record[fv!item.field]\n            )\n          )\n        )\n      }\n    )),\n    local!onlyChangedUpdates: a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!allUpdates,\n        expression: if(\n          or(\n            tostring(ri!record[fv!item.field]) = tostring(fv!item.value),\n            toboolean(fv!item.applyWhen) = false\n          ),\n          {},\n          fv!item\n        )\n      )\n    ),\n    if(\n      a!isNullOrEmpty(local!onlyChangedUpdates),\n      ri!record,\n      #\"urn:appian:function:v1:a:update\"(\n        data: ri!record,\n        index: local!onlyChangedUpdates.field,\n        value: local!onlyChangedUpdates.value\n      )\n    )\n  )\n)"
    },
    "_a-0000ea54-9653-8000-9c00-011c48011c48_751727": {
      "name": "CMGT_CFG_CaseTypeMetadata_Details",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!prefixEnteredManually,\n  local!sla: rule!CMGT_UTIL_ContructSLAMap(\n    slaJson: ri!caseTypeMetadata[recordType!CMGT_CFG_CaseTypeMetadata.sla]\n  ),\n  #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n    contents: {\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_textField\"(\n                label: #\"urn:appian:translation-string:v1:78ecdd7f-8128-4f65-bd14-46bde6be71de\",\n                value: ri!caseTypeMetadata[recordType!CMGT_CFG_CaseTypeMetadata.prefix],\n                saveInto: {\n                  local!prefixEnteredManually,\n                  a!save(\n                    ri!caseTypeMetadata[recordType!CMGT_CFG_CaseTypeMetadata.prefix],\n                    upper(save!value)\n                  )\n                },\n                characterLimit: 10,\n                showCharacterCount: false,\n                required: true,\n                requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n                  #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:78ecdd7f-8128-4f65-bd14-46bde6be71de\"\n                )\n              )\n            },\n            width: \"4X\"\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n            },\n            width: \"6X\"\n          )\n        }\n      ),\n      a!localVariables(\n        local!isPrefixInUse: rule!CMGT_QR_GetCaseTypeMetadata(\n          returnType: \"TOTAL_COUNT\",\n          executeWhen: a!isNotNullOrEmpty(\n            ri!caseTypeMetadata[recordType!CMGT_CFG_CaseTypeMetadata.prefix]\n          ),\n          additionalFilters: {\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_CFG_CaseTypeMetadata.caseTypeUuid,\n              operator: \"<>\",\n              value: ri!caseTypeMetadata[recordType!CMGT_CFG_CaseTypeMetadata.caseTypeUuid]\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_CFG_CaseTypeMetadata.prefix,\n              operator: \"=\",\n              value: ri!caseTypeMetadata[recordType!CMGT_CFG_CaseTypeMetadata.prefix]\n            )\n          }\n        ) > 0,\n        rule!CMGT_UTIL_WarningBanner(\n          alertStyle: ri!brandingMap.WarningBackgroundColor,\n          alertIconColor: ri!brandingMap.WarningAccentColor,\n          warningLabel: #\"urn:appian:translation-string:v1:bd71c625-c5a4-4116-853e-0e3826aba323\",\n          alertIcon: \"exclamation-triangle\",\n          showWhen: local!isPrefixInUse\n        )\n      ),\n      #\"SYSTEM_SYSRULES_dropdownField_v1\"(\n        data: recordType!CMGT_CFG_Priority,\n        choiceLabels: recordType!CMGT_CFG_Priority.priorityName,\n        choiceValues: recordType!CMGT_CFG_Priority.priorityId,\n        label: #\"urn:appian:translation-string:v1:7b86ad78-c822-4359-b564-8ddc2fcf9bf8\",\n        placeholder: #\"urn:appian:translation-string:v1:5720ed7a-4287-4613-9eaa-73bea746874b\",\n        value:ri!caseTypeMetadata[recordType!CMGT_CFG_CaseTypeMetadata.priorityId],\n        saveInto: ri!caseTypeMetadata[recordType!CMGT_CFG_CaseTypeMetadata.priorityId]\n      ),\n      /*Default SLA Section*/\n      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: #\"urn:appian:translation-string:v1:9f41e6f7-45b5-4350-af35-58bf2b3af4eb\",\n          style: \"STRONG\"\n        ),\n        marginBelow: \"NONE\"\n      ),\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: #\"urn:appian:translation-string:v1:4794decc-5e8c-4cb6-bf94-0696d49b4fa5\",\n                  color: ri!brandingMap.SecondaryTextColor\n                )\n              ),\n              #\"SYSTEM_SYSRULES_textField\"(\n                label: #\"urn:appian:translation-string:v1:4794decc-5e8c-4cb6-bf94-0696d49b4fa5\",\n                labelPosition: \"COLLAPSED\",\n                value: index(local!sla, \"days\", \"\"),\n                saveInto: {\n                  a!save(\n                    local!sla,\n                    rule!CMGT_UTIL_ContructSLAMap(\n                      hours: local!sla.hours,\n                      minutes: local!sla.minutes,\n                      days: save!value,\n                      isBusinessDays: local!sla.isBusinessDays\n                    )\n                  ),\n                  if(\n                    rule!CMGT_UTIL_isEmptySLA(slaMap: local!sla),\n                    a!save(local!sla, null),\n                    {}\n                  ),\n                  a!save(\n                    ri!caseTypeMetadata[recordType!CMGT_CFG_CaseTypeMetadata.sla],\n                    if(\n                      rule!CMGT_UTIL_IsNotBlank(local!sla),\n                      #\"SYSTEM_SYSRULES_toJson_v1\"(local!sla),\n                      null\n                    )\n                  )\n                },\n                validations: rule!CMGT_UTIL_ValidateSLA(value: index(local!sla, \"days\", \"\"))\n              )\n            }\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: #\"urn:appian:translation-string:v1:befd59bf-3568-4c2b-9afd-71b7d6f7060a\",\n                  color: ri!brandingMap.SecondaryTextColor\n                )\n              ),\n              #\"SYSTEM_SYSRULES_textField\"(\n                label: #\"urn:appian:translation-string:v1:befd59bf-3568-4c2b-9afd-71b7d6f7060a\",\n                labelPosition: \"COLLAPSED\",\n                value: index(local!sla, \"hours\", \"\"),\n                saveInto: {\n                  a!save(\n                    local!sla,\n                    rule!CMGT_UTIL_ContructSLAMap(\n                      hours: save!value,\n                      minutes: local!sla.minutes,\n                      days: local!sla.days,\n                      isBusinessDays: local!sla.isBusinessDays\n                    )\n                  ),\n                  if(\n                    rule!CMGT_UTIL_isEmptySLA(slaMap: local!sla),\n                    a!save(local!sla, null),\n                    {}\n                  ),\n                  a!save(\n                    ri!caseTypeMetadata[recordType!CMGT_CFG_CaseTypeMetadata.sla],\n                    if(\n                      rule!CMGT_UTIL_IsNotBlank(local!sla),\n                      #\"SYSTEM_SYSRULES_toJson_v1\"(local!sla),\n                      null\n                    )\n                  )\n                },\n                validations: rule!CMGT_UTIL_ValidateSLA(value: index(local!sla, \"hours\", \"\"))\n              )\n            }\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: #\"urn:appian:translation-string:v1:8011a7b9-c1f3-45f4-9f16-99471296e83d\",\n                  color: ri!brandingMap.SecondaryTextColor\n                )\n              ),\n              #\"SYSTEM_SYSRULES_textField\"(\n                label: #\"urn:appian:translation-string:v1:8011a7b9-c1f3-45f4-9f16-99471296e83d\",\n                labelPosition: \"COLLAPSED\",\n                value: index(local!sla, \"minutes\", \"\"),\n                saveInto: {\n                  a!save(\n                    local!sla,\n                    rule!CMGT_UTIL_ContructSLAMap(\n                      hours: local!sla.hours,\n                      minutes: save!value,\n                      days: local!sla.days,\n                      isBusinessDays: local!sla.isBusinessDays\n                    )\n                  ),\n                  if(\n                    rule!CMGT_UTIL_isEmptySLA(slaMap: local!sla),\n                    a!save(local!sla, null),\n                    {}\n                  ),\n                  a!save(\n                    ri!caseTypeMetadata[recordType!CMGT_CFG_CaseTypeMetadata.sla],\n                    if(\n                      rule!CMGT_UTIL_IsNotBlank(local!sla),\n                      #\"SYSTEM_SYSRULES_toJson_v1\"(local!sla),\n                      null\n                    )\n                  )\n                },\n                validations: rule!CMGT_UTIL_ValidateSLA(value: index(local!sla, \"minutes\", \"\"))\n              )\n            }\n          )\n        }\n      ),\n      #\"SYSTEM_SYSRULES_checkboxField_v1\"(\n        choiceLabels: #\"urn:appian:translation-string:v1:759245e6-9b85-4710-831f-f11ad593d08a\",\n        choiceValues: true,\n        labelPosition: \"COLLAPSED\",\n        value: if(\n          a!isNotNullOrEmpty(index(local!sla, \"isBusinessDays\", null)),\n          if(\n            index(local!sla, \"isBusinessDays\", null),\n            true(),\n            null\n          ),\n          null\n        ),\n        saveInto: {\n          a!save(\n            local!sla,\n            rule!CMGT_UTIL_ContructSLAMap(\n              hours: local!sla.hours,\n              minutes: local!sla.minutes,\n              days: local!sla.days,\n              isBusinessDays: a!defaultValue(value: save!value, default: false)\n            )\n          ),\n          a!save(\n            ri!caseTypeMetadata[recordType!CMGT_CFG_CaseTypeMetadata.sla],\n            if(\n              rule!CMGT_UTIL_IsNotBlank(local!sla),\n              #\"SYSTEM_SYSRULES_toJson_v1\"(local!sla),\n              null\n            )\n          )\n        },\n        disabled: rule!CMGT_UTIL_isEmptySLA(slaMap: local!sla)\n      )\n    }\n  )\n)"
    },
    "_a-0000eb4d-d051-8000-9c68-011c48011c48_1673683": {
      "name": "CMGT_WFL_MTR_UserEditsCasetypeMetadata",
      "type": "Expression Rule",
      "sail_code": "now()"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_25890": {
      "name": "CMGT_UTIL_IsBlank",
      "type": "Expression Rule",
      "sail_code": "length(a!flatten(ri!value)) = 0"
    },
    "_a-0000e98b-cfe0-8000-9ba5-011c48011c48_19651": {
      "name": "CMGT_QR_GetCaseType",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_CFG_CaseType,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_CaseType.uuid,\n      operator: \"in\",\n      value: ri!caseTypeUuid\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_CaseType.isCategory,\n      operator: \"=\",\n      value: ri!isCaseCategory\n    )\n  },\n  fields: {\n    ri!fields,\n    if(\n      ri!excludeRelatedRecords,\n      {},\n      recordType!CMGT_CFG_CaseType.parentCaseType\n    )\n  },\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  logicalExpressions: {\n    ri!additionalLogicalExpression,\n    rule!CMGT_CaseTypeActiveLogicalExpression(includeInactive: ri!includeInactive)\n  },\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000eb4d-d051-8000-9c68-011c48011c48_1673695": {
      "name": "CMGT_WFL_MTR_CaseTypeMetadataWrapper",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(\n    ri!caseTypeMetadata[recordType!CMGT_CFG_CaseTypeMetadata.createdOn]\n  ),\n  rule!CMGT_WFL_MTR_UserCreatesCasetypeMetadata(),\n  rule!CMGT_WFL_MTR_UserEditsCasetypeMetadata()\n)"
    }
  }
}
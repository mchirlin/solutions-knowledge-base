{
  "_metadata": {
    "bundle_id": "AS_GCM_QNM_T_Rule_-_View_Rule_History"
  },
  "objects": {
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_1021202": {
      "name": "AS_GAM_UT_ArrayLength",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!array),\n  0,\n  length(ri!array)\n)"
    },
    "_a-0000e61a-f20f-8000-9ba5-011c48011c48_53654": {
      "name": "AS_GCM_CO_UT_loadBundleFromFolder",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!lang: \"en_US\",\n/* below is deprecated for now, uncomment to support multi-language display */\n  /*if(*/\n    /*isnull(ri!langISOCode),*/\n    /*userlocale(loggedInUser()),*/\n    /*ri!langISOCode*/\n  /*),*/\n  local!bundleName: rule!AS_GCM_determineValueBySolutionFlavor(\n    options: cons!AS_GCM_TXT_VALID_SOLUTION_FLAVORS\n  ),\n  /*local!bundleName*/\n  local!output: loadbundlepropertiesfile(\n    cons!AS_GCM_FLD_PROPERTIES_FILES,\n    local!lang,\n    local!bundleName\n  )[local!bundleName],\n  local!output\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73660": {
      "name": "AS_CO_UT_displayUser",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  if(\n    rule!AS_CO_UT_checkIfUserExists(user: ri!user),\n    concat(fn!user(ri!user, \"firstName\"), \" \", fn!user(ri!user, \"lastName\")),\n    if(\n      and(ri!showHyphenIfValueNull = true, isnull(ri!user)),\n      \"-\",\n      ri!user\n    )\n  )\n)"
    },
    "_a-0000e6d1-2aad-8000-9bdd-011c48011c48_1776371": {
      "name": "AS_GCM_GRD_refRuleChangesAudit",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!bundle: rule!AS_GCM_CO_UT_loadBundleFromFolder(langISOCode: null()),\n  local!refData: rule!AS_GCM_QR_getRefData(\n    refTypes: {\n      cons!AS_GCM_REF_TYPE_CONDITION_OPERATOR,\n      cons!AS_GCM_REF_TYPE_RULE_OPERATOR,\n      cons!AS_GCM_REF_TYPE_SOLICITATION_TYPE,\n      cons!AS_GCM_REF_TYPE_CONTRACT_METHOD,\n      cons!AS_GCM_REF_TYPE_CLAUSE_SET_TYPE,\n      cons!AS_GCM_REF_TYPE_CLAUSE_SET_DATA\n    },\n    doCastToCdt: false\n  ),\n  {\n    #\"SYSTEM_SYSRULES_gridField_v3\"(\n      label: \"Rule History\",\n      labelPosition: \"ABOVE\",\n      rowHeader: 1,\n      data: rule!AS_GCM_QE_getRefRuleAudits(\n        ruleId: ri!rule[recordType!AS GCM QNM T Rule.ruleId],\n        executeWhen: rule!AS_CO_UT_isNotBlank(\n          ri!rule[recordType!AS GCM QNM T Rule.ruleId]\n        ),\n        returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n        pagingInfo: fv!pagingInfo\n      ),\n      columns: {\n        /*User name*/\n        rule!AS_GCM_DPL_CO_UI_userImageAndDisplayNameGridColumns(\n          usernameField: \"username\",\n          label: \"\",\n          allowSorting: false,\n          width: \"NARROW\"\n        ),\n        /*Modification*/\n        #\"SYSTEM_SYSRULES_gridColumn\"(\n          label: rule!AS_GAM_CO_I18N_UT_displayLabel(\n            bundleKey: \"lbl_Modification\",\n            bundle: local!bundle\n          ),\n          align: \"\",\n          value: rule!AS_GCM_DSP_modificationCommentForRefRuleAudit(\n            ruleAudit: fv!row,\n            rule: ri!rule,\n            bundle: local!bundle,\n            refData: local!refData,\n            ruleClauses: ri!rule[recordType!AS GCM QNM T Rule.conditionClauses]\n          ),\n          width: \"WIDE\"\n        ),\n        /*Time*/\n        #\"SYSTEM_SYSRULES_gridColumn\"(\n          label: rule!AS_GAM_CO_I18N_UT_displayLabel(\n            bundleKey: \"lbl_Time\",\n            bundle: local!bundle\n          ),\n          value: rule!AS_CO_UT_formatDateTime(datetime: fv!row.timestamp),\n          sortField: \"timestamp\",\n          align: \"END\",\n          width: \"NARROW_PLUS\"\n        )\n      },\n      borderStyle: \"LIGHT\",\n      shadeAlternateRows: true,\n      pageSize: cons!AS_CO_ENUM_PAGE_SIZE_MEDIUM,\n      initialSorts: #\"SYSTEM_SYSRULES_sortInfo\"(field: \"timestamp\", ascending: false),\n      secondarySorts: #\"SYSTEM_SYSRULES_sortInfo\"(field: \"ruleAuditId\", ascending: false),\n      emptyGridMessage: rule!AS_GAM_CO_I18N_UT_displayLabel(\n        bundleKey: \"ins_Nohistory\",\n        bundle: local!bundle\n      )\n    )\n  }\n)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1467714": {
      "name": "AS_GCM_QNM_QR_getRule",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!useQueryRecordByidentifier: and(\n    ri!executeWhen,\n    all(\n      rule!AS_CO_UT_isBlank(_),\n      {\n        ri!additionalFilters,\n        ri!logicalExpression,\n        ri!aggregation\n      }\n    ),\n    rule!AS_GAM_UT_ArrayLength(ri!ruleIds) = 1,\n    not(\n      rule!AS_CO_UT_booleanDefaultFalse(ri!returnAllData)\n    )\n  ),\n  local!relatedRecordDataLimit: if(\n    local!useQueryRecordByidentifier,\n    100,\n    10\n  ),\n  local!relatedRecordData: a!flatten(\n    {\n      if(\n        ri!includeRelatedRecords,\n        {\n          #\"SYSTEM_SYSRULES_relatedRecordData\"(\n            relationship: recordType!AS GCM QNM T Rule.conditions,\n            limit: local!relatedRecordDataLimit,\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!AS GCM QNM T Rule Condition.mapId,\n                operator: \"in\",\n                value: ri!mapIds,\n                applyWhen: rule!AS_CO_UT_isNotBlank(ri!mapIds)\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!AS GCM QNM T Rule Condition.isActive,\n                operator: \"=\",\n                value: true,\n                applyWhen: ri!showInactive <> true\n              )\n            }\n          ),\n          #\"SYSTEM_SYSRULES_relatedRecordData\"(\n            relationship: recordType!AS GCM QNM T Rule.conditionClauses,\n            limit: local!relatedRecordDataLimit,\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!AS GCM QNM T Rule Condition Clause.clauseMapId,\n                operator: \"in\",\n                value: ri!clauseMapIds,\n                applyWhen: rule!AS_CO_UT_isNotBlank(ri!clauseMapIds)\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!AS GCM QNM T Rule Condition Clause.isActive,\n                operator: \"=\",\n                value: true,\n                applyWhen: ri!showInactive <> true\n              )\n            }\n          )\n        },\n        {}\n      ),\n      if(\n        ri!returnLatestRuleVersion,\n        {\n          #\"SYSTEM_SYSRULES_relatedRecordData\"(\n            relationship: recordType!AS GCM QNM T Rule.ruleVersions,\n            limit: 1,\n            sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n              field: recordType!AS GCM QNM Rule Version.ruleVersion,\n              ascending: false\n            )\n          ),\n          #\"SYSTEM_SYSRULES_relatedRecordData\"(\n            relationship: recordType!AS GCM QNM T Rule.ruleVersions,\n            limit: local!relatedRecordDataLimit,\n            filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM QNM Rule Condition Version.ruleConditionGroupVersionId,\n              operator: \"is null\"\n            )\n          ),\n          #\"SYSTEM_SYSRULES_relatedRecordData\"(\n            relationship: recordType!AS GCM QNM T Rule.ruleVersions,\n            limit: local!relatedRecordDataLimit,\n            filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM QNM Rule Condition Group Version.parentConditionGroupVersionId,\n              operator: \"is null\"\n            )\n          ),\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: {\n              #\"urn:appian:record-relationship:v1:0e51d64b-81db-423f-87e6-ef610fc3274c/84044f63-97e7-40ee-800d-e10b7335b754/93bc1dae-3b06-448e-b601-6a151e256626/6473bca8-dd71-4cc3-9dae-22208fd859b4\",\n              #\"urn:appian:record-relationship:v1:0e51d64b-81db-423f-87e6-ef610fc3274c/84044f63-97e7-40ee-800d-e10b7335b754/93bc1dae-3b06-448e-b601-6a151e256626/794d60ae-9d8c-4ad5-84fa-8742a75efd67\",\n              #\"urn:appian:record-relationship:v1:0e51d64b-81db-423f-87e6-ef610fc3274c/84044f63-97e7-40ee-800d-e10b7335b754/93bc1dae-3b06-448e-b601-6a151e256626/794d60ae-9d8c-4ad5-84fa-8742a75efd67/6473bca8-dd71-4cc3-9dae-22208fd859b4\",\n              #\"urn:appian:record-relationship:v1:0e51d64b-81db-423f-87e6-ef610fc3274c/84044f63-97e7-40ee-800d-e10b7335b754/93bc1dae-3b06-448e-b601-6a151e256626/794d60ae-9d8c-4ad5-84fa-8742a75efd67/794d60ae-9d8c-4ad5-84fa-8742a75efd67\",\n              #\"urn:appian:record-relationship:v1:0e51d64b-81db-423f-87e6-ef610fc3274c/84044f63-97e7-40ee-800d-e10b7335b754/93bc1dae-3b06-448e-b601-6a151e256626/794d60ae-9d8c-4ad5-84fa-8742a75efd67/794d60ae-9d8c-4ad5-84fa-8742a75efd67/6473bca8-dd71-4cc3-9dae-22208fd859b4\",\n              #\"urn:appian:record-relationship:v1:0e51d64b-81db-423f-87e6-ef610fc3274c/84044f63-97e7-40ee-800d-e10b7335b754/93bc1dae-3b06-448e-b601-6a151e256626/794d60ae-9d8c-4ad5-84fa-8742a75efd67/794d60ae-9d8c-4ad5-84fa-8742a75efd67/794d60ae-9d8c-4ad5-84fa-8742a75efd67\"\n            },\n            expression: #\"SYSTEM_SYSRULES_relatedRecordData\"(\n              relationship: fv!item,\n              limit: local!relatedRecordDataLimit\n            )\n          )\n        },\n        {}\n      ),\n      ri!relatedRecordData\n    }\n  ),\n  if(\n    local!useQueryRecordByidentifier,\n    rule!AS_GCM_UT_queryRecordByIdentifier(\n      recordType: recordType!AS GCM QNM T Rule,\n      identifier: ri!ruleIds[1],\n      fields: { ri!fields },\n      triggerRefresh: ri!triggerRefresh,\n      executeWhen: ri!executeWhen,\n      relatedRecordData: local!relatedRecordData\n    ),\n    rule!AS_CO_UT_queryRecord(\n      recordType: recordType!AS GCM QNM T Rule,\n      returnType: a!defaultValue(\n        value: ri!returnType,\n        default: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT\n      ),\n      aggregationFields: ri!aggregation,\n      logicalExpression: ri!logicalExpression,\n      filters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM T Rule.ruleId,\n          operator: \"in\",\n          value: ri!ruleIds\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM T Rule.isActive,\n          operator: \"=\",\n          value: true(),\n          applyWhen: ri!showInactive <> true\n        ),\n        ri!additionalFilters\n      },\n      fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n        {\n          ri!fields,\n          index(\n            local!relatedRecordData,\n            \"relationship\",\n            null\n          )\n        }\n      ),\n      pagingInfo: ri!pagingInfo,\n      triggerRefresh: ri!triggerRefresh,\n      executeWhen: and(\n        ri!executeWhen,\n        or(\n          any(\n            rule!AS_CO_UT_isNotBlank(_),\n            {\n              ri!additionalFilters,\n              ri!logicalExpression,\n              ri!aggregation\n            }\n          ),\n          rule!AS_CO_UT_isNotBlank(ri!ruleIds),\n          rule!AS_CO_UT_booleanDefaultFalse(ri!returnAllData),\n          ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_TOTAL_COUNT\n        )\n      ),\n      relatedRecordData: local!relatedRecordData\n    )\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_31679": {
      "name": "AS_CO_UT_formatDate",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  if(\n    rule!AS_CO_UT_isBlank(ri!date),\n    \"\",\n    if(\n      rule!AS_CO_I18N_UT_isUserLocaleEnglishUs(),\n      text(ri!date, \"mmm d, yyyy\"),\n      text(ri!date, \"d mmm yyyy\")\n    )\n  )\n)"
    },
    "_a-0000e61a-f20f-8000-9ba5-011c48011c48_53662": {
      "name": "AS_GAM_CO_I18N_UT_displayLabel",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Text',\n  a!localVariables(\n    local!result: a!refreshVariable(\n      value: if(\n        rule!AS_CO_UT_isBlank(ri!bundleKey),\n        null,\n        if(\n          rule!AS_CO_UT_isBlank(ri!arguments),\n          rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!bundle[ri!bundleKey],\n            replacementValue: ri!bundleKey\n          ),\n          rule!AS_GAM_CO_I18N_UT_replaceArguments(\n            bundleKey: ri!bundle[ri!bundleKey],\n            arguments: ri!arguments\n          )\n        )\n      ),\n      refreshAlways: true\n    ),\n    local!result\n  )\n)"
    },
    "_a-0000e6d1-2aad-8000-9bdd-011c48011c48_1776766": {
      "name": "AS_GCM_DSP_modificationCommentForRefRuleAudit",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!ruleClauseAudits: rule!AS_GCM_QNM_QE_getRefRuleClauseAudits(\n    ruleAuditId: ri!ruleAudit.ruleAuditId,\n    returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n    executeWhen: rule!AS_CO_UT_isNotBlank(ri!ruleAudit.ruleAuditId),\n    additionalFilters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: \"auditActionCode\",\n        operator: \"<>\",\n        value: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n      )\n    }\n  ),\n  local!clauseMapAuditIds: rule!AS_CO_UT_indexPath(\n    cdt: local!ruleClauseAudits,\n    field: \"clauseMapAuditId\"\n  ),\n  local!ruleConditionGroupsAudit: rule!AS_GCM_QE_getRefRuleConditionGroupAudits(\n    ruleAuditId: ri!ruleAudit.ruleAuditId,\n    returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n    executeWhen: rule!AS_CO_UT_isNotBlank(ri!ruleAudit.ruleAuditId),\n    additionalFilters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: \"auditActionCode\",\n        operator: \"<>\",\n        value: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: \"parentConditionGroupAuditId\",\n        operator: \"is null\"\n      )\n    }\n  ),\n  local!ruleConditionsAudit: rule!AS_GCM_QE_getRefRuleConditionAudits(\n    ruleAuditId: ri!ruleAudit.ruleAuditId,\n    returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n    executeWhen: rule!AS_CO_UT_isNotBlank(ri!ruleAudit.ruleAuditId),\n    additionalFilters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: \"auditActionCode\",\n        operator: \"<>\",\n        value: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: \"ruleConditionGroupAuditId\",\n        operator: \"is null\"\n      )\n    }\n  ),\n  local!conditionMapAuditIds: index(\n    local!ruleConditionsAudit,\n    \"mapAuditId\",\n    null()\n  ),\n  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n    value: {\n      rule!AS_GCM_DSP_displayAuditActionCodeText(\n        actionCode: ri!ruleAudit.auditActionCode,\n        bundle: ri!bundle\n      ),\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: \"Rule\"\n      ),\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: \" \" & \"by Cross Environment Data Management\",\n        showWhen: or(\n          ri!ruleAudit.auditActionCode = cons!AS_GCM_CEDM_ADT_ENUM_AUDIT_ACTION_CODE_ADD,\n          ri!ruleAudit.auditActionCode = cons!AS_GCM_CEDM_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n          ri!ruleAudit.auditActionCode = cons!AS_GCM_CEDM_ADT_ENUM_AUDIT_ACTION_CODE_REACTIVATE,\n          ri!ruleAudit.auditActionCode = cons!AS_GCM_CEDM_ADT_ENUM_AUDIT_ACTION_CODE_DEACTIVATE\n        )\n      ),\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: {\n          if(\n            or(\n              ri!ruleAudit.auditActionCode = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_ADD,\n              ri!ruleAudit.auditActionCode = cons!AS_GCM_CEDM_ADT_ENUM_AUDIT_ACTION_CODE_ADD\n            ),\n            {\n              #\"SYSTEM_SYSRULES_richTextBulletedList\"(\n                items: {\n                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                    text: {\n                      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                        text: ri!rule[recordType!AS GCM QNM T Rule.ruleName]\n                      )\n                    }\n                  )\n                },\n                showWhen: rule!AS_CO_UT_isNotBlank(input: ri!ruleAudit.simpleFieldChanges)\n              ),\n              /*Conditions Added / Removed */\n              rule!AS_GCM_DSP_displayModificationCommentForRuleConditionsWrapper(\n                bundle: ri!bundle,\n                ruleConditionsAudit: local!ruleConditionsAudit,\n                refData: ri!refData\n              ),\n              /* Condition Groups */\n              rule!AS_GCM_DSP_displayModificationCommentForRuleConditionGroups(\n                bundle: ri!bundle,\n                refData: ri!refData,\n                ruleConditionGroupsAudit: local!ruleConditionGroupsAudit\n              ),\n              /*Complex Fields*/\n              /*Clauses Added / Removed/ Updated*/\n              rule!AS_GCM_DSP_displayModificationCommentForRuleClauses(\n                bundle: ri!bundle,\n                relationAuditIds: local!clauseMapAuditIds,\n                ruleClauses: ri!ruleClauses,\n                ruleClausesAudit: local!ruleClauseAudits,\n                refData: ri!refData\n              )\n            },\n            /*Log changes if Clause was edited*/\n            if(\n              or(\n                ri!ruleAudit.auditActionCode = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n                ri!ruleAudit.auditActionCode = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DEACTIVATE,\n                ri!ruleAudit.auditActionCode = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_REACTIVATE,\n                ri!ruleAudit.auditActionCode = cons!AS_GCM_CEDM_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n                ri!ruleAudit.auditActionCode = cons!AS_GCM_CEDM_ADT_ENUM_AUDIT_ACTION_CODE_REACTIVATE,\n                ri!ruleAudit.auditActionCode = cons!AS_GCM_CEDM_ADT_ENUM_AUDIT_ACTION_CODE_DEACTIVATE\n              ),\n              {\n                #\"SYSTEM_SYSRULES_richTextBulletedList\"(\n                  items: {\n                    /*Simple Fields*/\n                    #\"SYSTEM_SYSRULES_forEach\"(\n                      items: rule!AS_CO_UT_rejectNullValuesFromArray(\n                        {\n                          rule!AS_CO_UT_indexPath(\n                            cdt: ri!ruleAudit,\n                            field: \"simpleFieldChanges\"\n                          )\n                        }\n                      ),\n                      expression: rule!AS_GCM_UT_constructAuditCommentForRefRuleFields(\n                        fieldName: fv!item.fieldName,\n                        oldValue: fv!item.oldValue,\n                        newValue: fv!item.newValue,\n                        bundle: ri!bundle,\n                        refData: ri!refData\n                      )\n                    )\n                  },\n                  showWhen: rule!AS_CO_UT_isNotBlank(ri!ruleAudit.simpleFieldChanges)\n                ),\n                if(\n                  rule!AS_CO_UT_isBlank(ri!ruleAudit.simpleFieldChanges),\n                  char(10),\n                  {}\n                ),\n                /*Complex Fields*/\n                /*Conditions Added / Removed/ Updated*/\n                rule!AS_GCM_DSP_displayModificationCommentForRuleConditionsWrapper(\n                  bundle: ri!bundle,\n                  ruleConditionsAudit: local!ruleConditionsAudit,\n                  refData: ri!refData\n                ),\n                /*Condition Groups */\n                rule!AS_GCM_DSP_displayModificationCommentForRuleConditionGroups(\n                  bundle: ri!bundle,\n                  refData: ri!refData,\n                  ruleConditionGroupsAudit: local!ruleConditionGroupsAudit\n                ),\n                /*Clauses Added / Removed/ Updated*/\n                rule!AS_GCM_DSP_displayModificationCommentForRuleClauses(\n                  bundle: ri!bundle,\n                  relationAuditIds: local!clauseMapAuditIds,\n                  ruleClauses: ri!ruleClauses,\n                  ruleClausesAudit: local!ruleClauseAudits,\n                  refData: ri!refData\n                )\n              },\n              {}\n            )\n          )\n        }\n      )\n    },\n    showWhen: or(\n      rule!AS_CO_UT_isNotBlank(ri!ruleAudit.simpleFieldChanges),\n      rule!AS_CO_UT_isNotBlank(local!clauseMapAuditIds),\n      rule!AS_CO_UT_isNotBlank(local!conditionMapAuditIds),\n      rule!AS_CO_UT_isNotBlank(\n        local!ruleConditionGroupsAudit.ruleConditionGroupAuditId\n      )\n    )\n  )\n)"
    },
    "_a-0000e3ff-a5bc-8000-9ba8-011c48011c48_39082": {
      "name": "AS_CO_UT_booleanDefaultTrue",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  if(\n    isnull(ri!boolean),\n    true,\n    ri!boolean\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_157870": {
      "name": "AS_CO_UT_queryEntity",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS ON HOW TO USE\n\nPlease DO NOT auto-format this rule\n\n*/\n/*Error handling for invalid returnType or entityType*/\nif(\n  rule!AS_CO_UT_isBlank(ri!returnType),\n  fn!error(\n    concat(\n      \"Null `returnType` passed to AS_CO_UT_queryEntity for entityType `\",\n      ri!entityType,\n      \"`.  See documentation in AS_CO_UT_queryEntity for further information on how to use this parameter.\"\n    )\n  ),\n  if(\n    not(\n      contains(\n        rule!AS_CO_CONS_QE_RETURN_TYPES(),\n        ri!returnType\n      )\n    ),\n    fn!error(\n      concat(\n        \"Unknown `returnType` (\",\n        ri!returnType,\n        \") passed to AS_CO_UT_queryEntity for entityType `\",\n        ri!entityType,\n        \"`.  See documentation in AS_CO_UT_queryEntity for further information on how to use this parameter.\"\n      )\n    ),\n    if(\n      rule!AS_CO_UT_isBlank(ri!entityType),\n      fn!error(\n        concat(\n          \"Null `entityType` passed to AS_CO_UT_queryEntity for entity `\",\n          ri!entity,\n          \"`.  See documentation in AS_CO_UT_queryEntity for further information on how to use this parameter.\"\n        )\n      ),\n      if(\n        and(\n          ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n          rule!AS_CO_UT_isBlank(ri!pagingInfo)\n        ),\n        fn!error(\n          concat(\n            \"`pagingInfo` is required (cannot be null) for `returnType` DATA_SUBSET\"\n          )\n        ),\n        if(\n          and(\n            ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n            rule!AS_CO_UT_isNotBlank(ri!pagingInfo)\n          ),\n          fn!error(\n            concat(\n              \"`pagingInfo` must be null when the `returnType` is not DATA_SUBSET, instead use `sort` to pass custom sorting, `batchSize` to pass custom batch size, and `startIndex` & `batchSize` (if null) will be automatically calculated for you\"\n            )\n          ),\n          if(\n            and(\n              ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n              rule!AS_CO_UT_isBlank(ri!aggregation)\n            ),\n            fn!error(\n              \"You must provide an input for `aggregation` when `returnType` is AGGREGATION\"\n            ),\n            if(\n              and(\n                not(\n                  contains(\n                    {\n                      cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n                      cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET\n                    },\n                    ri!returnType\n                  )\n                ),\n                rule!AS_CO_UT_isNotBlank(ri!aggregation)\n              ),\n              fn!error(\n                \"You cannot provide an input for `aggregation` when `returnType` is not AGGREGATION or DATA_SUBSET\"\n              ),\n              a!localVariables(\n                /*Determine the castResultToType*/\n                local!castResultToType: rule!AS_CO_UT_displayValue(\n                  value: ri!returnType,\n                  inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n                  replacement: {\n                    /*DATA_SUBSET*/'type!{http://www.appian.com/ae/types/2009}DataSubset',\n                    /*SINGLE_OBJECT*/ri!entityType,\n                    /*OBJECT_ARRAY*/rule!AS_CO_UT_returnArrayTypeNumber(type: ri!entityType),\n                    /*AGGREGATION*/'type!{http://www.appian.com/ae/types/2009}Map?list',\n                    /*TOTAL_COUNT*/'type!{http://www.appian.com/ae/types/2009}Integer',\n                    \n                  }\n                ),\n                /*Determine the batchSize*/\n                local!batchSize: rule!AS_CO_UT_displayValue(\n                  value: ri!returnType,\n                  inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n                  replacement: {\n                    /*DATA_SUBSET*/ri!pagingInfo.batchSize,\n                    /*SINGLE_OBJECT*/1,\n                    /*OBJECT_ARRAY*/rule!AS_CO_UT_replaceNull(\n                      nullableValue: ri!batchSize,\n                      replacementValue: cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE\n                    ),\n                    /*AGGREGATION*/rule!AS_CO_UT_replaceNull(\n                      nullableValue: ri!batchSize,\n                      replacementValue: cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE\n                    ),\n                    /*TOTAL_COUNT*/0,\n                    \n                  }\n                ),\n                /*Determine the sort*/\n                local!sort: rule!AS_CO_UT_zInternal_queryEntity_determineSort(\n                  entityType: ri!entityType,\n                  returnType: ri!returnType,\n                  pagingInfo: ri!pagingInfo,\n                  sort: ri!sort,\n                  isAggregation: rule!AS_CO_UT_isNotBlank(ri!aggregation)\n                ),\n                /*Determine the pagingInfo*/\n                local!pagingInfo: if(\n                  ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n                  /*Use specific pagingInfo for DATA_SUBSET*/\n                  #\"SYSTEM_SYSRULES_pagingInfo\"(\n                    startIndex: ri!pagingInfo.startIndex,\n                    batchSize: ri!pagingInfo.batchSize,\n                    sort: local!sort\n                  ),\n                  /*Otherwise calculate pagingInfo for all other returnTypes*/\n                  #\"SYSTEM_SYSRULES_pagingInfo\"(\n                    startIndex: 1,\n                    batchSize: local!batchSize,\n                    sort: local!sort\n                  )\n                ),\n                /*Determine the fetchTotalCount*/\n                local!fetchTotalCount: rule!AS_CO_UT_displayValue(\n                  value: ri!returnType,\n                  inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n                  replacement: {\n                    /*DATA_SUBSET*/true,\n                    /*SINGLE_OBJECT*/false,\n                    /*OBJECT_ARRAY*/false,\n                    /*AGGREGATION*/false,\n                    /*TOTAL_COUNT*/true,\n                    \n                  }\n                ),\n                /*Execute the query*/\n                local!queryResult: a!refreshVariable(\n                  value: if(\n                    ri!executeWhen = false,\n                    null,\n                    #\"SYSTEM_SYSRULES_queryEntity_v1\"(\n                      entity: ri!entity,\n                      fetchTotalCount: local!fetchTotalCount,\n                      query: #\"SYSTEM_SYSRULES_query\"(\n                        pagingInfo: local!pagingInfo,\n                        aggregation: ri!aggregation,\n                        selection: if(\n                          and(\n                            ri!excludeNestedCdts = true,\n                            rule!AS_CO_UT_isBlank(ri!aggregation)\n                          ),\n                          #\"SYSTEM_SYSRULES_querySelection\"(\n                            columns: #\"SYSTEM_SYSRULES_forEach\"(\n                              items: rule!AS_CO_UT_returnCdtFields(\n                                type: ri!entityType,\n                                onlyPrimitiveFields: true\n                              ),\n                              expression: #\"SYSTEM_SYSRULES_queryColumn\"(field: fv!item)\n                            )\n                          ),\n                          null\n                        ),\n                        logicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                          operator: \"AND\",\n                          logicalExpressions: {\n                            #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                              operator: \"AND\",\n                              ignoreFiltersWithEmptyValues: true,\n                              filters: rule!AS_CO_UT_replaceNull(\n                                nullableValue: ri!filters,\n                                replacementValue: {}\n                              )\n                            ),\n                            rule!AS_CO_UT_replaceNull(\n                              nullableValue: ri!logicalExpression,\n                              replacementValue: {}\n                            )\n                          }\n                        )\n                      )\n                    )\n                  ),\n                  refreshOnVarChange: ri!triggerRefresh,\n                  refreshAfter: { \"RECORD_ACTION\" }\n                ),\n                /*Parse the queryResult*/\n                local!queryResultParse: choose(\n                  rule!AS_CO_UT_chooseWherecontainsHelper(\n                    value: ri!returnType,\n                    inArray: rule!AS_CO_CONS_QE_RETURN_TYPES()\n                  ),\n                  /*Default, required value based on how AS_CO_UT_chooseWherecontainsHelper operates*/\"\",\n                  /*DATA_SUBSET*/local!queryResult,\n                  /*SINGLE_OBJECT*/local!queryResult.data,\n                  /*OBJECT_ARRAY*/local!queryResult.data,\n                  /*AGGREGATION*/local!queryResult.data,\n                  /*TOTAL_COUNT*/local!queryResult.totalCount,\n                  \n                ),\n                rule!AS_CO_UT_cast(\n                  type: local!castResultToType,\n                  value: local!queryResultParse\n                )\n              )\n            )\n          )\n        )\n      )\n    )\n  )\n)/*\n\nDOCUMENTATION\n\nThis rule is designed to minimize the overhead with querying data and then casting the result\n\n\nRequired Inputs:\n\n1. entity \n- This is the data store entity you are querying\n-- e.g. cons!AS_DATA_STORE_ENTITY_CASES\n\n2. entityType\n- This is a type! input of the data type which maps to the underlying data store entity\n- Note that your type! input should not end in parenthesis; this is NOT designed to take in an empty CDT\n-- e.g. 'type!{urn:com:appian:types}Case'\n\n3. returnType\n- This depends on the purpose for the query, and should be one of the returnTypes in rule!AS_CO_CONS_QE_RETURN_TYPES\n-- DATA_SUBSET - This will return a DataSubset; pagingInfo is required\n-- SINGLE_OBJECT - This will return a single CDT whose type is the entityType; pagingInfo must be null\n-- OBJECT_ARRAY - This will return an array of CDTs whos type is an array of the entityType; pagingInfo must be null\n-- AGGREGATION - This will return an array of Dictionaries; pagingInfo must be null\n---- NOTE: If you need Aggregation with paging controls, such as for a grid, use returnType DATA_SUBSET\n-- TOTAL_COUNT - This will return an Integer of the total count; pagingInfo must be null\n\n\nOptional Inputs:\n\n4. executeWhen\n- The query will not execute if this is false, the query will execute if this is true or null\n-- This is meant to operate in a similar manner to the showWhen parameter of components\n- Usethistoskipexecutionofaquerywithoutneedingtowrapif()statementsaroundtherule\n-- Examples of this would be to skip querying if your filter value is a null ID\n- If the query does not execute, this will return a null value whose type is based on the returnType input\n\n5. triggerRefresh\n- By default, the query will always re-execute whenever any inputs change\n- However, by updating the value of triggerRefresh, you can also trigger a re-execution even if none of the other inputs change\n\n6. excludeNestedCdts\n- When true, this will exclude all nested CDTs from the query selection, and only include primitive fields\n- When false or null, all fields will be included in the query, including all nested CDTs\n\n7. filters\n- Array of filters to apply to the query, built with a!queryFilter()\n- These filters will be applied with an AND operator\n- These filters will apply in addition to the logicalExpression input, combining both with an AND operator\n\n8. logicalExpression\n- A logical expression to apply to the query, built with a!queryLogicalExpression()\n- This logical expression will apply in addition to the filters input, combining both with an AND operator\n\n9. aggregation\n- Aggregation to apply to the query, built with a!queryAggregation()\n\n10. pagingInfo\n- Paging info to apply to the query, built with a!pagingInfo() or derived from fv!pagingInfo in grids\n- This is required if passing returnType DATA_SUBSET, otherwise it must be null\n- For returnTypes that are not DATA_SUBSET, the batch size will be automatically calculated depending on the returnType\n-- For example, passing SINGLE_OBJECT will automatically apply a batch size of 1, whereas OBJECT_ARRAY and AGGREGATION will automatically apply a batch size of -1\n\n11. sort\n- Array of sort to apply to the query, built with a!sortInfo()\n- This is meant to be used with returnType OBJECT_ARRAY and AGGREGATION, since pagingInfo is not required for these, but a specified sort may be used\n\n12. batchSize\n- Batch size to apply to the query\n- This is meant to be used with returnType OBJECT_ARRAY and AGGREGATION, since pagingInfo is not required for these, but a specified batchSize may be used\n\n*/"
    },
    "_a-0000e4b1-2fbc-8000-9bc6-011c48011c48_852676-gcm": {
      "name": "AS_GCM_QNM_QR_getQuestion_Template",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    ri!getAllRelatedRecord,\n    a!isNullOrEmpty(ri!additionalFilters),\n    a!isNullOrEmpty(ri!logicalExpression),\n    rule!AS_GAM_UT_ArrayLength(ri!questionTemplateId) = 1\n  ),\n  rule!AS_GCM_UT_queryRecordByIdentifier(\n    recordType: recordType!AS GCM QNM T Question,\n    identifier: ri!questionTemplateId[1],\n    fields: rule!AS_CO_UT_rejectNullValuesFromArray(ri!fields),\n    relatedRecordData: rule!AS_CO_UT_rejectNullValuesFromArray(\n      {\n        #\"SYSTEM_SYSRULES_relatedRecordData\"(\n          relationship: recordType!AS GCM QNM T Question.responseOptions,\n          limit: 100\n        ),\n        #\"SYSTEM_SYSRULES_relatedRecordData\"(\n          relationship: recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n          limit: 100,\n          filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!AS GCM QNM T Question Precedent Set.isActive,\n            operator: \"in\",\n            value: rule!AS_CO_UT_replaceNull(\n              nullableValue: ri!isActive,\n              replacementValue: { true }\n            )\n          )\n        ),\n        #\"SYSTEM_SYSRULES_relatedRecordData\"(\n          relationship: recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n          limit: 100\n        ),\n        #\"SYSTEM_SYSRULES_relatedRecordData\"(\n          relationship: #\"urn:appian:record-relationship:v1:66fc3179-f0d8-4d6d-bbce-92b85f7c665a/35500f1d-7bad-40e6-8728-6bd75b0d3f03/8dca9ba9-cfbd-46c6-92b8-6a7d21aad4c4/b37fc648-4c9c-4add-b535-2cbb861e4e19\",\n          limit: 100\n        ),\n        ri!relatedRecordData\n      }\n    )\n  ),\n  rule!AS_CO_UT_queryRecord(\n    recordType: recordType!AS GCM QNM T Question,\n    returnType: a!defaultValue(\n      value: ri!returnType,\n      default: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n    ),\n    fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n      {\n        ri!fields,\n        if(\n          ri!includeRelatedRecords,\n          {\n            recordType!AS GCM QNM T Question.categories,\n            recordType!AS GCM QNM T Question.defaultResponses,\n            recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n            recordType!AS GCM QNM T Question.refQuestion,\n            recordType!AS GCM QNM T Question.isRequiredPrecedentSets,\n            recordType!AS GCM QNM T Question.responseOptions,\n            recordType!AS GCM QNM T Question.responseRequirements\n          },\n          {}\n        )\n      }\n    ),\n    filters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Question.questionTemplateId,\n        operator: \"in\",\n        value: ri!questionTemplateId\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Question.questionCategoryTemplateId,\n        operator: \"in\",\n        value: ri!questionCategoryTemplateId\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Question.questionnaireTemplateId,\n        operator: \"=\",\n        value: ri!questionnaireTemplateId\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Question.isActive,\n        operator: \"in\",\n        value: {\n          rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!isActive,\n            replacementValue: true\n          )\n        }\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Question.questionReferenceId,\n        operator: \"=\",\n        value: ri!questionReferenceId\n      ),\n      ri!additionalFilters\n    },\n    executeWhen: ri!executeWhen,\n    logicalExpression: ri!logicalExpression,\n    aggregationFields: ri!aggregationFields,\n    triggerRefresh: ri!triggerRefresh,\n    /*excludeNestedCdts: ri!excludeNestedCdts,*/\n    pagingInfo: ri!pagingInfo,\n    sort: if(\n      rule!AS_CO_UT_isBlank(ri!sort),\n      {\n        #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!AS GCM QNM T Question.groupNumber,\n          ascending: true\n        ),\n        #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!AS GCM QNM T Question.orderNumber,\n          ascending: true\n        )\n      },\n      ri!sort\n    ),\n    relatedRecordData: ri!relatedRecordData\n  )\n)"
    },
    "_a-0000eefb-2869-8000-9e60-011c48011c48_17821496": {
      "name": "AS_GCM_QE_getRefRuleConditionGroupAudits",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryEntity(\n  entity: cons!AS_GCM_QNM_ENT_A_T_RULE_CONDITION_GROUP,\n  entityType: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_A_T_Rule_Condition_Group',\n  returnType: ri!returnType,\n  executeWhen: and(\n    ri!executeWhen,\n    or(\n      any(\n        rule!AS_CO_UT_isNotBlank(_),\n        {\n          ri!additionalFilters,\n          ri!logicalExpression,\n          ri!aggregation\n        }\n      ),\n      rule!AS_CO_UT_isNotBlank(ri!ruleAuditId)\n    )\n  ),\n  /* To ensure proper null checks, we'll force all queryFilter values to not be null */\n  logicalExpression: ri!logicalExpression,\n  pagingInfo: ri!pagingInfo,\n  triggerRefresh: ri!triggerRefresh,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"ruleAuditId\",\n      operator: \"=\",\n      value: ri!ruleAuditId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"auditActionCode\",\n      operator: \"<>\",\n      value: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n    ),\n    ri!additionalFilters\n  },\n  aggregation: ri!aggregation,\n  sort: ri!sort\n)"
    },
    "5f18e821-865e-464d-b974-57c20096c58f": {
      "name": "AS_GCM_UT_getIdentifiersInBatches",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!identifiers),\n  null(),\n  a!localVariables(\n    /* Batching size to divide the identifiers into batches */\n    local!batchingSize: a!defaultValue(\n      value: ri!batchingSize,\n      default: cons!AS_GCM_INT_QUERY_BATCH_SIZE_TINY\n    ),\n    local!identifiers: if(\n      and(\n        ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n        ri!pagingInfo.batchSize <> - 1\n      ),\n      index(\n        ri!identifiers,\n        enumerate(\n          a!defaultValue(\n            value: ri!pagingInfo.batchSize,\n            default: local!batchingSize\n          )\n        ) + a!defaultValue(\n          value: ri!pagingInfo.startIndex,\n          default: 1\n        ),\n        null()\n      ),\n      ri!identifiers\n    ),\n    /* To divide the whole identifiers to the total Batch Size */\n    local!batches: if(\n      rule!AS_CO_UT_isBlank(local!identifiers),\n      null(),\n      enumerate(\n        ceiling(\n          length(local!identifiers) / local!batchingSize\n        )\n      )\n    ),\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!batches,\n      expression: a!localVariables(\n        local!itemCount: if(\n          fv!item * local!batchingSize + local!batchingSize < length(local!identifiers),\n          local!batchingSize,\n          length(local!identifiers) - fv!item * local!batchingSize\n        ),\n        a!map(\n          batch: fv!item,\n          identifiers: index(\n            local!identifiers,\n            enumerate(local!itemCount) + fv!item * local!batchingSize + 1,\n            null\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76367": {
      "name": "AS_CO_UT_rejectNullValuesFromArray",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!array),\n  reject(\n    rule!AS_CO_UT_isBlank(_),\n    a!flatten(ri!array)\n  )\n)"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9761091": {
      "name": "AS_GCM_filterRecords",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!fieldValuePairs: a!defaultValue(\n    ri!fieldValuePairs,\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: a!flatten(ri!field),\n      expression: a!map(\n        field: fv!item,\n        value: if(\n          fv!itemCount = 1,\n          ri!value,\n          index(a!flatten(ri!value), fv!index, null)\n        )\n      )\n    )\n  ),\n  local!matchIndices: if(\n    a!isNullOrEmpty(a!flatten(ri!records)),\n    tointeger({}),\n    reduce(\n      rule!AS_GCM_filterRecords_Reducer(\n        previousIndices: _,\n        records: a!flatten(ri!records),\n        fieldValuePair: _\n      ),\n      enumerate(count(a!flatten(ri!records))) + 1,\n      local!fieldValuePairs\n    )\n  ),\n  local!rejectIndices: difference(\n    if(\n      a!isNullOrEmpty(ri!records),\n      tointeger({}),\n      enumerate(count(a!flatten(ri!records))) + 1\n    ),\n    local!matchIndices\n  ),\n  local!matches: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!matchIndices, {})\n  ),\n  local!rejects: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!rejectIndices, {})\n  ),\n  local!output: a!match(\n    value: a!defaultValue(ri!filterType, \"FILTER\"),\n    equals: \"FILTER\",\n    then: local!matches,\n    equals: \"REJECT\",\n    then: local!rejects,\n    equals: \"FIRST_MATCH\",\n    then: index(local!matches, 1, null),\n    equals: \"FIRST_REJECT\",\n    then: index(local!rejects, 1, null),\n    equals: \"MATCH_COUNT\",\n    then: count(local!matchIndices),\n    equals: \"REJECT_COUNT\",\n    then: count(local!rejectIndices),\n    equals: \"MATCH_INDICES\",\n    then: local!matchIndices,\n    equals: \"REJECT_INDICES\",\n    then: local!rejectIndices,\n    equals: \"FULL_RESULT\",\n    then: a!map(\n      matches: local!matches,\n      rejects: local!rejects,\n      firstMatch: index(local!matches, 1, null),\n      firstReject: index(local!rejects, 1, null),\n      matchCount: count(local!matchIndices),\n      rejectCount: count(local!rejectIndices),\n      matchIndices: local!matchIndices,\n      rejectIndices: local!rejectIndices\n    ),\n    default: fn!error(\n      \"Invalid filterType, must be one of: FILTER, REJECT, FIRST_MATCH, FIRST_REJECT, MATCH_COUNT, REJECT_COUNT, MATCH_INDICES, REJECT_INDICES, FULL_RESULT\"\n    )\n  ),\n  local!output\n)"
    },
    "_a-0000e3ff-a5bc-8000-9ba8-011c48011c48_39070-am": {
      "name": "AS_AM_CO_UT_booleanDefaultFalse",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  if(\n    isnull(ri!boolean),\n    false,\n    ri!boolean\n  )\n)"
    },
    "_a-0000e841-a36f-8000-9bfa-011c48011c48_2676640": {
      "name": "AS_GCM_DPL_CO_UI_userImageAndDisplayNameGridColumns",
      "type": "Expression Rule",
      "sail_code": "{\n  #\"SYSTEM_SYSRULES_gridColumn\"(\n    label: ri!label,\n    value: rule!AS_GCM_DPL_CO_DSP_userImageDisplayField(\n      user: fv!row[ri!usernameField],\n      altText: rule!AS_CO_UT_displayUser(\n        user: fv!row[ri!usernameField]\n      )\n    ),\n    align: \"CENTER\",\n    width: rule!AS_CO_UT_replaceNull(nullableValue: ri!width,replacementValue: \"NARROW\"),\n    sortField: if(\n      ri!allowSorting = false,\n      null,\n      ri!usernameField\n    )\n  ),\n  #\"SYSTEM_SYSRULES_gridColumn\"(\n    value: rule!AS_CO_UT_displayUser(\n      user: fv!row[ri!usernameField]\n    ),\n    sortField: null\n  )\n}"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73536": {
      "name": "AS_CO_UT_isBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  length(a!flatten(ri!value)) = 0\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_74227": {
      "name": "AS_CO_UT_formatDateTime",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  if(\n    rule!AS_CO_UT_isBlank(ri!dateTime), \n    \"-\",\n    if(\n      rule!AS_CO_I18N_UT_isUserLocaleEnglishUs(),\n      text(ri!dateTime, \"mmm d, yyyy h:mm a\"),\n      text(ri!dateTime, \"d mmm yyyy hh:mm\")\n    )\n  )\n)"
    },
    "_a-0000ec50-376f-8000-9d94-011c48011c48_12909959": {
      "name": "AS_GCM_getColorBasedOnColorName",
      "type": "Expression Rule",
      "sail_code": "a!match(\n  value: ri!colorName,\n  /* White Colors */\n  equals: \"WHITE\",\n  then: cons!AS_GCM_HEX_CODE_WHITE,\n  equals: \"WHITE_2\",\n  then: cons!AS_GCM_HEX_CODE_WHITE_2,\n  /* Gray Colors */\n  equals: \"GRAY_0\",\n  then: cons!AS_GCM_HEX_CODE_GRAY_0,\n  equals: \"GRAY_1\",\n  then: \"#EDEDF2\",\n  equals: \"GRAY_2\",\n  then: \"#DCDCE5\",\n  equals: \"GRAY_3\",\n  then: cons!AS_GCM_HEX_CODE_GRAY_3,\n  equals: \"GRAY_4\",\n  then: \"#2E2E35\",\n  /* Orange Colors */\n  equals: \"ORANGE_1\",\n  then: \"#FFEED3\",\n  equals: \"ORANGE_2\",\n  then: \"#FFDCA3\",\n  equals: \"ORANGE_3\",\n  then: \"#FAA92F\",\n  equals: \"ORANGE_4\",\n  then: \"#995C00\",\n  /* Blue Colors */\n  equals: \"BLUE_0\",\n  then: cons!AS_GCM_HEX_CODE_BLUE_0,\n  equals: \"BLUE_1\",\n  then: cons!AS_GCM_HEX_CODE_BLUE_1,\n  equals: \"BLUE_2\",\n  then: \"#AFBFF8\",\n  equals: \"BLUE_3\",\n  then: \"#2322F0\",\n  equals: \"BLUE_4\",\n  then: cons!AS_GCM_HEX_CODE_BLUE_4,\n  equals: \"BLUE_5\",\n  then: \"#E9EDFC\",\n  equals: \"BLUE_6\",\n  then: \"#08088D\",\n  equals: \"BLUE_7\",\n  then: \"#DCDEF5\",\n  /* Green Colors  */\n  equals: \"GREEN_1\",\n  then: \"#E3FBDF\",\n  equals: \"GREEN_4\",\n  then: \"#117C00\",\n  /* Teal Colors */\n  equals: \"TEAL_1\",\n  then: \"#E2FAF9\",\n  equals: \"TEAL_3\",\n  then: \"#56ADC0\",\n  equals: \"TEAL_4\",\n  then: \"#2C6770\",\n  /* Purple Colors */\n  equals: \"PURPLE_1\",\n  then: \"#F2E9FF\",\n  equals: \"PURPLE_3\",\n  then: \"#B561FF\",\n  equals: \"PURPLE_4\",\n  then: \"#790DA1\",\n  /* Red Colors */\n  equals: \"RED_4\",\n  then: \"#9F0019\",\n  /* Yellow Colors */\n  equals: \"YELLOW_0\",\n  then: \"#FFFCEB\",\n  equals: \"YELLOW_1\",\n  then: \"#FFF6C9\",\n  equals: \"YELLOW_4\",\n  then: \"#856C00\",\n  /* Appian Colors */\n  equals: \"APPIAN_BACKGROUND\",\n  then: cons!AS_GCM_HEX_CODE_APPIAN_BACKGROUND,\n  equals: \"ACCENT\",\n  then: \"#2322f0\",\n  default: ri!colorName\n)"
    },
    "_a-0000e6d1-2aad-8000-9bdd-011c48011c48_1776725": {
      "name": "AS_GCM_UT_constructAuditCommentForRefRuleFields",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_richTextItem_v1\"(\n  text: {\n    {\n      \"\",\n      char(32),\n      rule!AS_GAM_CO_I18N_UT_displayLabel(\n        bundleKey: rule!AS_GCM_UT_displayFieldNamesForRefRuleAuditHistory(\n          fieldName: ri!fieldName,\n          clauseDataType: ri!clauseDataType,\n          refOperator: ri!refOperator\n        ),\n        bundle: ri!bundle\n      ),\n      \n    },\n    char(32),\n    \"\",\n    char(32),\n    if(\n      rule!AS_CO_UT_isBlank(ri!oldValue),\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: rule!AS_GAM_CO_I18N_UT_displayLabel(bundleKey: \"txt_Blank\", bundle: ri!bundle),\n        color: cons!AS_GCM_HEX_CODE_AUDIT_BLANK_TEXT\n      ),\n      {\n        char(34),\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: rule!AS_GCM_DSP_displayAuditModificationForRefRule(\n            value: ri!oldValue,\n            fieldName: ri!fieldName,\n            bundle: ri!bundle,\n            refData: ri!refData,\n            clauseDataType: ri!clauseDataType\n          )\n        ),\n        char(34)\n      }\n    ),\n    char(32),\n    \"\",\n    char(32),\n    if(\n      rule!AS_CO_UT_isBlank(ri!newValue),\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: rule!AS_GAM_CO_I18N_UT_displayLabel(bundleKey: \"txt_Blank\", bundle: ri!bundle),\n        color: cons!AS_GCM_HEX_CODE_AUDIT_BLANK_TEXT\n      ),\n      {\n        char(34),\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: rule!AS_GCM_DSP_displayAuditModificationForRefRule(\n            value: ri!newValue,\n            fieldName: ri!fieldName,\n            bundle: ri!bundle,\n            refData: ri!refData,\n            clauseDataType: ri!clauseDataType\n          )\n        ),\n        char(34)\n      }\n    ),\n    \n  },\n  size: \"STANDARD\"\n)"
    },
    "_a-0000ec50-376f-8000-9d94-011c48011c48_12937069": {
      "name": "AS_GCM_UT_queryRecordByIdentifier",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS ON HOW TO USE\n\nPlease DO NOT auto-format this rule\n\n*/\na!localVariables(\n  /*Determine the castResultToType*/\n  local!castResultToType: a!defaultValue(ri!castToCdtType, ri!recordType),\n  /*Execute the query*/\n  local!queryResult: a!refreshVariable(\n    value: if(\n      ri!executeWhen = false,\n      null(ri!recordType),\n      #\"SYSTEM_SYSRULES_queryRecordByIdentifier\"(\n        recordType: ri!recordType,\n        identifier: ri!identifier,\n        fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n          {\n            ri!fields,\n            index(\n              ri!relatedRecordData,\n              \"relationship\",\n              null\n            )\n          }\n        ),\n        relatedRecordData: ri!relatedRecordData\n      )\n    ),\n    refreshOnVarChange: ri!triggerRefresh,\n    refreshInterval: ri!refreshInterval,\n    refreshAfter: { \"RECORD_ACTION\" }\n  ),\n  rule!AS_CO_UT_cast(\n    type: local!castResultToType,\n    value: local!queryResult\n  )\n)/*\n\nDOCUMENTATION\n\nThis rule is designed to minimize the overhead with querying data and then casting the result\n\n\nRequired Inputs:\n\n1. recordType\n- This is a recordtype! input of the data type to be queried against\n\n2. identifier\n- The primary key of the record type which needs to be queried\n\nOptional Inputs:\n\n3. executeWhen\n- The query will not execute if this is false, the query will execute if this is true or null\n-- This is meant to operate in a similar manner to the showWhen parameter of components\n- Use this to skip execution of a query without needing to wrap if() statements around the rule\n-- Examples of this would be to skip querying if your filter value is a null ID\n- If the query does not execute, this will return a null value whose type is based on the returnType input\n\n4. triggerRefresh\n- By default, the query will always re-execute whenever any inputs change\n- However, by updating the value of triggerRefresh, you can also trigger a re-execution even if none of the other inputs change (e.g. after a record action)\n\n5. castToCdtType\n- Any cdt type to the cast the result set. \n\n6. fields\n- The record fields that need to be queried\n\n7. relatedRecordData\n- the relatedRecordData in which the filters and limit can be specified for each relationship\n\n*/"
    },
    "_a-0000eefb-2869-8000-9e60-011c48011c48_17821190": {
      "name": "AS_GCM_DSP_displayModificationCommentForRuleConditionGroups",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!ruleConditionGroups: if(\n    rule!AS_CO_UT_isBlank(ri!ruleConditionGroups),\n    rule!AS_GCM_QNM_QR_getRuleConditionGroups(\n      showInActive: true,\n      additionalFilters: #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Rule Condition Group.ruleConditionGroupId,\n        operator: \"in\",\n        value: {\n          index(\n            ri!ruleConditionGroupsAudit,\n            \"ruleConditionGroupId\",\n            {}\n          )\n        }\n      ),\n      includeRelatedRecords: true\n    ),\n    ri!ruleConditionGroups\n  ),\n  if(\n    rule!AS_CO_UT_isBlank(\n      index(\n        ri!ruleConditionGroupsAudit,\n        \"parentConditionGroupAuditId\",\n        {}\n      )\n    ),\n    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n      text: {\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: if(\n            count(ri!ruleConditionGroupsAudit) > 1,\n            \"Condition Groups\",\n            \"Condition Group\"\n          ),\n          style: \"STRONG\",\n          color: \"SECONDARY\"\n        ),\n        char(10),\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!ruleConditionGroupsAudit,\n          expression: a!localVariables(\n            local!conditionGroupAudit: fv!item,\n            local!ruleConditionAudits: fv!item.conditionsChanges,\n            local!ruleConditionGroup: rule!AS_GCM_filterRecords(\n              records: local!ruleConditionGroups,\n              field: recordType!AS GCM QNM T Rule Condition Group.ruleConditionGroupId,\n              value: local!conditionGroupAudit.ruleConditionGroupId\n            ),\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: {\n                rule!AS_GCM_DSP_displayAuditActionCodeText(\n                  actionCode: local!conditionGroupAudit.auditActionCode,\n                  bundle: ri!bundle,\n                  deactivateLabel: \"txt_Removed\"\n                ),\n                char(32),\n                \"Condition Group\",\n                char(32),\n                index(\n                  local!ruleConditionGroup,\n                  recordType!AS GCM QNM T Rule Condition Group.ruleConditionGroupName,\n                  \"\"\n                ) & \":\",\n                #\"SYSTEM_SYSRULES_richTextBulletedList\"(\n                  items: {\n                    if(\n                      and(\n                        contains(\n                          {\n                            cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n                            cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_ADD,\n                            cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DEACTIVATE\n                          },\n                          local!conditionGroupAudit.auditActionCode\n                        ),\n                        rule!AS_CO_UT_isNotBlank(\n                          local!conditionGroupAudit.simpleFieldChanges\n                        )\n                      ),\n                      #\"SYSTEM_SYSRULES_forEach\"(\n                        items: rule!AS_GCM_filterRecords(\n                          records: local!conditionGroupAudit.simpleFieldChanges,\n                          field: \"fieldName\",\n                          value: \"refOperatorId\"\n                        ),\n                        expression: #\"SYSTEM_SYSRULES_richTextListItem\"(\n                          text: rule!AS_GCM_UT_constructAuditCommentForRefRuleFields(\n                            fieldName: fv!item.fieldName,\n                            oldValue: fv!item.oldValue,\n                            newValue: fv!item.newValue,\n                            bundle: ri!bundle,\n                            refData: ri!refData,\n                            refOperator: local!ruleConditionGroup[recordType!AS GCM QNM T Rule Condition Group.refOperatorId]\n                          )\n                        )\n                      ),\n                      {}\n                    ),\n                    if(\n                      rule!AS_CO_UT_isNotBlank(local!ruleConditionAudits),\n                      rule!AS_GCM_DSP_displayModificationCommentForRuleConditionsWrapper(\n                        bundle: ri!bundle,\n                        ruleConditionsAudit: local!ruleConditionAudits,\n                        refData: ri!refData\n                      ),\n                      {}\n                    )\n                  },\n                  showWhen: or(\n                    and(\n                      contains(\n                        {\n                          cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n                          cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_ADD,\n                          cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DEACTIVATE\n                        },\n                        local!conditionGroupAudit.auditActionCode\n                      ),\n                      rule!AS_CO_UT_isNotBlank(\n                        local!conditionGroupAudit.simpleFieldChanges\n                      )\n                    ),\n                    rule!AS_CO_UT_isNotBlank(local!ruleConditionAudits)\n                  )\n                ),\n                if(\n                  rule!AS_CO_UT_isNotBlank(fv!item.conditionGroupsChanges),\n                  rule!AS_GCM_DSP_displayModificationCommentForRuleConditionGroups(\n                    bundle: ri!bundle,\n                    refData: ri!refData,\n                    ruleConditionGroupsAudit: fv!item.conditionGroupsChanges,\n                    ruleConditionGroups: local!ruleConditionGroup[recordType!AS GCM QNM T Rule Condition Group.conditionGroups]\n                  ),\n                  {}\n                )\n              }\n            )\n          )\n        )\n      },\n      showWhen: rule!AS_CO_UT_isNotBlank(\n        ri!ruleConditionGroupsAudit.ruleConditionGroupAuditId\n      )\n    ),\n    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n      text: {\n        #\"SYSTEM_SYSRULES_richTextBulletedList\"(\n          items: {\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: ri!ruleConditionGroupsAudit,\n              expression: #\"SYSTEM_SYSRULES_richTextListItem\"(\n                text: a!localVariables(\n                  local!conditionGroupAudit: fv!item,\n                  local!ruleConditionAudits: fv!item.conditionsChanges,\n                  local!ruleConditionGroup: rule!AS_GCM_filterRecords(\n                    records: local!ruleConditionGroups,\n                    field: recordType!AS GCM QNM T Rule Condition Group.ruleConditionGroupId,\n                    value: local!conditionGroupAudit.ruleConditionGroupId\n                  ),\n                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                    text: {\n                      rule!AS_GCM_DSP_displayAuditActionCodeText(\n                        actionCode: local!conditionGroupAudit.auditActionCode,\n                        bundle: ri!bundle,\n                        deactivateLabel: \"txt_Removed\"\n                      ),\n                      char(32),\n                      \"Condition Group\",\n                      char(32),\n                      index(\n                        local!ruleConditionGroup,\n                        recordType!AS GCM QNM T Rule Condition Group.ruleConditionGroupName,\n                        \"\"\n                      ),\n                      #\"SYSTEM_SYSRULES_richTextBulletedList\"(\n                        items: {\n                          if(\n                            and(\n                              contains(\n                                {\n                                  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n                                  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_ADD,\n                                  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DEACTIVATE\n                                },\n                                local!conditionGroupAudit.auditActionCode\n                              ),\n                              rule!AS_CO_UT_isNotBlank(\n                                local!conditionGroupAudit.simpleFieldChanges\n                              )\n                            ),\n                            #\"SYSTEM_SYSRULES_forEach\"(\n                              items: rule!AS_GCM_filterRecords(\n                                records: local!conditionGroupAudit.simpleFieldChanges,\n                                field: \"fieldName\",\n                                value: \"refOperatorId\"\n                              ),\n                              expression: #\"SYSTEM_SYSRULES_richTextListItem\"(\n                                text: rule!AS_GCM_UT_constructAuditCommentForRefRuleFields(\n                                  fieldName: fv!item.fieldName,\n                                  oldValue: fv!item.oldValue,\n                                  newValue: fv!item.newValue,\n                                  bundle: ri!bundle,\n                                  refData: ri!refData,\n                                  refOperator: local!ruleConditionGroup[recordType!AS GCM QNM T Rule Condition Group.refOperatorId]\n                                )\n                              )\n                            ),\n                            {}\n                          ),\n                          if(\n                            rule!AS_CO_UT_isNotBlank(local!ruleConditionAudits),\n                            rule!AS_GCM_DSP_displayModificationCommentForRuleConditionsWrapper(\n                              bundle: ri!bundle,\n                              ruleConditionsAudit: local!ruleConditionAudits,\n                              refData: ri!refData\n                            ),\n                            {}\n                          )\n                        },\n                        showWhen: or(\n                          and(\n                            contains(\n                              {\n                                cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n                                cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_ADD,\n                                cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DEACTIVATE\n                              },\n                              local!conditionGroupAudit.auditActionCode\n                            ),\n                            rule!AS_CO_UT_isNotBlank(\n                              local!conditionGroupAudit.simpleFieldChanges\n                            )\n                          ),\n                          rule!AS_CO_UT_isNotBlank(local!ruleConditionAudits)\n                        )\n                      ),\n                      if(\n                        rule!AS_CO_UT_isNotBlank(fv!item.conditionGroupsChanges),\n                        rule!AS_GCM_DSP_displayModificationCommentForRuleConditionGroups(\n                          bundle: ri!bundle,\n                          refData: ri!refData,\n                          ruleConditionGroupsAudit: fv!item.conditionGroupsChanges,\n                          ruleConditionGroups: local!ruleConditionGroup[recordType!AS GCM QNM T Rule Condition Group.conditionGroups]\n                        ),\n                        {}\n                      )\n                    }\n                  )\n                )\n              )\n            )\n          }\n        )\n      },\n      showWhen: rule!AS_CO_UT_isNotBlank(\n        ri!ruleConditionGroupsAudit.ruleConditionGroupAuditId\n      )\n    )\n  )\n)"
    },
    "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3316912": {
      "name": "AS_GCM_QNM_QR_getRuleConditionClauseDetails",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!applyBatching: a!defaultValue(\n    value: ri!applyBatching,\n    default: or(\n      tointeger(ri!pagingInfo.batchSize) > cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE,\n      tointeger(ri!pagingInfo.batchSize) =- 1,\n      rule!AS_GAM_UT_ArrayLength(ri!clauseMapIds) > cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n    )\n  ),\n  local!pagingInfo: if(\n    local!applyBatching,\n    #\"urn:appian:function:v1:a:update\"(\n      ri!pagingInfo,\n      \"batchSize\",\n      cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n    ),\n    ri!pagingInfo\n  ),\n  local!returnType: a!defaultValue(\n    value: ri!returnType,\n    default: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n  ),\n  local!fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n    {\n      if(\n        ri!includeRelatedRecords,\n        {\n          recordType!AS GCM QNM T Rule Condition Clause.refClause,\n          recordType!AS GCM QNM T Rule Condition Clause.refUsage\n        },\n        {}\n      ),\n      ri!fields,\n      index(\n        ri!relatedRecordData,\n        \"relationship\",\n        null\n      )\n    }\n  ),\n  rule!AS_GCM_UT_formatDataBasedOnReturnType(\n    pagingInfo: local!pagingInfo,\n    returnType: local!returnType,\n    data: a!match(\n      value: null,\n      /*  Happy Path scenario when batching is not needed  */\n      whenTrue: and(\n        ri!executeWhen,\n        not(local!applyBatching)\n      ),\n      then: rule!AS_CO_UT_queryRecord(\n        recordType: recordType!AS GCM QNM T Rule Condition Clause,\n        returnType: local!returnType,\n        executeWhen: and(\n          ri!executeWhen,\n          or(\n            any(\n              rule!AS_CO_UT_isNotBlank(_),\n              {\n                ri!additionalFilters,\n                ri!logicalExpression,\n                ri!aggregationFields\n              }\n            ),\n            rule!AS_CO_UT_isNotBlank(ri!ruleIds),\n            rule!AS_CO_UT_isNotBlank(ri!clauseMapIds)\n          )\n        ),\n        /* To ensure proper null checks, we'll force all queryFilter values to not be null */\n        logicalExpression: ri!logicalExpression,\n        pagingInfo: local!pagingInfo,\n        sort: ri!sort,\n        triggerRefresh: ri!triggerRefresh,\n        filters: {\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!AS GCM QNM T Rule Condition Clause.clauseMapId,\n            operator: \"in\",\n            value: ri!clauseMapIds\n          ),\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!AS GCM QNM T Rule Condition Clause.ruleId,\n            operator: \"in\",\n            value: ri!ruleIds\n          ),\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!AS GCM QNM T Rule Condition Clause.isActive,\n            operator: \"=\",\n            value: true(),\n            applyWhen: ri!showInActive <> true()\n          ),\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!AS GCM QNM T Rule Condition Clause.rule.isActive,\n            operator: \"=\",\n            value: ri!ruleIsActive\n          ),\n          ri!additionalFilters\n        },\n        fields: local!fields,\n        relatedRecordData: ri!relatedRecordData,\n        aggregationFields: ri!aggregationFields\n      ),\n      whenTrue: and(\n        ri!executeWhen,\n        local!applyBatching,\n        rule!AS_CO_UT_isBlank(ri!clauseMapIds)\n      ),\n      then: a!localVariables(\n        /*   Querying the total count to apply batching     */\n        local!totalCount: rule!AS_CO_UT_queryRecord(\n          recordType: recordType!AS GCM QNM T Rule Condition Clause,\n          returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_TOTAL_COUNT,\n          executeWhen: ri!executeWhen,\n          triggerRefresh: ri!triggerRefresh,\n          filters: {\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM QNM T Rule Condition Clause.ruleId,\n              operator: \"in\",\n              value: ri!ruleIds\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM QNM T Rule Condition Clause.isActive,\n              operator: \"=\",\n              value: true(),\n              applyWhen: ri!showInActive <> true()\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM QNM T Rule Condition Clause.rule.isActive,\n              operator: \"=\",\n              value: ri!ruleIsActive\n            ),\n            ri!additionalFilters\n          },\n          logicalExpression: ri!logicalExpression\n        ),\n        if(\n          local!totalCount > 0,\n          a!flatten(\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: enumerate(\n                ceiling(\n                  local!totalCount / local!pagingInfo.batchSize\n                )\n              ),\n              expression: rule!AS_CO_UT_queryRecord(\n                recordType: recordType!AS GCM QNM T Rule Condition Clause,\n                returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n                executeWhen: ri!executeWhen,\n                pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n                  startIndex: fv!item * local!pagingInfo.batchSize + 1,\n                  batchSize: local!pagingInfo.batchSize\n                ),\n                sort: ri!sort,\n                triggerRefresh: ri!triggerRefresh,\n                filters: {\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: recordType!AS GCM QNM T Rule Condition Clause.ruleId,\n                    operator: \"in\",\n                    value: ri!ruleIds\n                  ),\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: recordType!AS GCM QNM T Rule Condition Clause.isActive,\n                    operator: \"=\",\n                    value: true(),\n                    applyWhen: ri!showInActive <> true()\n                  ),\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: recordType!AS GCM QNM T Rule Condition Clause.rule.isActive,\n                    operator: \"=\",\n                    value: ri!ruleIsActive\n                  ),\n                  ri!additionalFilters\n                },\n                fields: local!fields,\n                relatedRecordData: ri!relatedRecordData,\n                castToCdtType: recordType!AS GCM QNM T Rule Condition Clause\n              ).data\n            )\n          ),\n          {}\n        )\n      ),\n      whenTrue: and(\n        ri!executeWhen,\n        local!applyBatching,\n        rule!AS_CO_UT_isNotBlank(ri!clauseMapIds),\n        rule!AS_CO_UT_isBlank(value: ri!aggregationFields)\n      ),\n      then: a!flatten(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          /*   batches       */\n          items: rule!AS_GCM_UT_getIdentifiersInBatches(\n            identifiers: rule!AS_CO_UT_rejectNullValuesFromArray(array: ri!clauseMapIds),\n            batchingSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE,\n            returnType: local!returnType,\n            pagingInfo: local!pagingInfo\n          ),\n          expression: rule!AS_CO_UT_queryRecord(\n            recordType: recordType!AS GCM QNM T Rule Condition Clause,\n            returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n            executeWhen: and(\n              ri!executeWhen,\n              rule!AS_CO_UT_isNotBlank(fv!item.identifiers)\n            ),\n            pagingInfo: local!pagingInfo,\n            sort: ri!sort,\n            triggerRefresh: ri!triggerRefresh,\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!AS GCM QNM T Rule Condition Clause.clauseMapId,\n                operator: \"in\",\n                value: tointeger(fv!item.identifiers)\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!AS GCM QNM T Rule Condition Clause.ruleId,\n                operator: \"in\",\n                value: ri!ruleIds\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!AS GCM QNM T Rule Condition Clause.isActive,\n                operator: \"=\",\n                value: true(),\n                applyWhen: ri!showInActive <> true()\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!AS GCM QNM T Rule Condition Clause.rule.isActive,\n                operator: \"=\",\n                value: ri!ruleIsActive\n              ),\n              ri!additionalFilters\n            },\n            fields: local!fields,\n            relatedRecordData: ri!relatedRecordData,\n            castToCdtType: recordType!AS GCM QNM T Rule Condition Clause\n          ).data\n        )\n      ),\n      default: {}\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75782": {
      "name": "AS_CO_UT_isNotBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  not(rule!AS_CO_UT_isBlank(ri!input))\n)"
    },
    "_a-0000e6d1-2aad-8000-9bdd-011c48011c48_1782574": {
      "name": "AS_GCM_DSP_displayModificationCommentForRuleClauses",
      "type": "Interface",
      "sail_code": "/*Clauses Added / Removed*/\na!localVariables(\n  /*Showing only first four clauses Audit*/\n  local!showLessData: if(\n    count(ri!ruleClausesAudit) > cons!AS_GCM_INT_LIMIT_FOR_SHOW_MORE_OR_LESS_MEDIUM,\n    true,\n    false\n  ),\n  local!ruleClausesAudit: if(\n    local!showLessData,\n    index(\n      ri!ruleClausesAudit,\n      enumerate(\n        cons!AS_GCM_INT_LIMIT_FOR_SHOW_MORE_OR_LESS_MEDIUM\n      ) + 1,\n      null\n    ),\n    ri!ruleClausesAudit\n  ),\n  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n    text: {\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: \"\",\n        style: \"STRONG\",\n        color: \"SECONDARY\"\n      ),\n      char(32),\n      rule!AS_GCM_DSP_showOrHideChangesLink(\n        showLessData: local!showLessData,\n        bundle: ri!bundle,\n        itemCount: cons!AS_GCM_INT_LIMIT_FOR_SHOW_MORE_OR_LESS_MEDIUM,\n        cdt: ri!ruleClausesAudit\n      ),\n      #\"SYSTEM_SYSRULES_richTextBulletedList\"(\n        items: {\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!ruleClausesAudit,\n            expression: #\"SYSTEM_SYSRULES_richTextListItem\"(\n              text: a!localVariables(\n                local!clauseAudit: fv!item,\n                local!ruleClause: index(\n                  rule!AS_GCM_filterRecords(\n                    records: ri!ruleClauses,\n                    field: recordType!AS GCM QNM T Rule Condition Clause.clauseMapId,\n                    value: tointeger(local!clauseAudit.clauseMapId)\n                  ),\n                  1,\n                  null\n                ),\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: {\n                    rule!AS_GCM_DSP_displayAuditActionCodeText(\n                      deactivateLabel: \"txt_Removed\",\n                      actionCode: local!clauseAudit.auditActionCode,\n                      bundle: ri!bundle\n                    ),\n                    rule!AS_GCM_QNM_DSP_displayRuleInclusionOrExclusionAfterAuditActionCodeText(\n                      actionCode: fv!item.auditActionCode,\n                      bundle: ri!bundle,\n                      ruleClausesAudit: fv!item,\n                      ruleClause: local!ruleClause\n                    ),\n                    \" \",\n                    local!ruleClause[recordType!AS GCM QNM T Rule Condition Clause.refClause.fullClauseTitle],\n                    #\"SYSTEM_SYSRULES_richTextBulletedList\"(\n                      items: {\n                        #\"SYSTEM_SYSRULES_forEach\"(\n                          items: local!clauseAudit.simpleFieldChanges,\n                          expression: #\"SYSTEM_SYSRULES_richTextListItem\"(\n                            text: rule!AS_GCM_UT_constructAuditCommentForRefRuleFields(\n                              fieldName: fv!item.fieldName,\n                              oldValue: fv!item.oldValue,\n                              newValue: fv!item.newValue,\n                              bundle: ri!bundle,\n                              refData: ri!refData\n                            )\n                          )\n                        )\n                      },\n                      showWhen: and(\n                        local!clauseAudit.auditActionCode = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n                        rule!AS_CO_UT_isNotBlank(local!clauseAudit.simpleFieldChanges)\n                      )\n                    )\n                  }\n                )\n              )\n            )\n          )\n        }\n      )\n    },\n    showWhen: rule!AS_CO_UT_isNotBlank(ri!relationAuditIds)\n  )\n)"
    },
    "_a-0000e63a-a5cb-8000-9bc6-011c48011c48_1228288": {
      "name": "AS_GCM_DSP_displayAuditActionCodeText",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_richTextItem_v1\"(\n  text: displayvalue(\n    ri!actionCode,\n    {\n      cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_ADD,\n      cons!AS_GCM_ADT_ENUM_AUDIT_ACTION_CODE_COPY,\n      cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DELETE,\n      cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DEACTIVATE,\n      cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n      cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_REACTIVATE,\n      cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_FINALIZE,\n      cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_FINALIZATION_FAILED,\n      cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_VALIDATE,\n      cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_VALIDATION_FAILED,\n      cons!AS_GCM_ADT_ENUM_AUDIT_ACTION_CODE_VALIDATION_UPDATE,\n      cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MANUAL_SYNC,\n      cons!AS_GCM_ENUM_AUDIT_ACTION_CODE_ADD_WEEKLY_SYNC,\n      cons!AS_GCM_ENUM_AUDIT_ACTION_CODE_MODIFY_WEEKLY_SYNC,\n      cons!AS_GCM_ENUM_AUDIT_ACTION_CODE_ADD_TEMPLATE_FILE_IMPORT,\n      cons!AS_GCM_ENUM_AUDIT_ACTION_CODE_ADD_ZIP_IMPORT,\n      cons!AS_GCM_ENUM_AUDIT_ACTION_CODE_MODIFY_ZIP_IMPORT,\n      cons!AS_GCM_ENUM_AUDIT_ACTION_CODE_BULK_CLAUSE_UPDATE,\n      cons!AS_GCM_CEDM_ADT_ENUM_AUDIT_ACTION_CODE_ADD,\n      cons!AS_GCM_CEDM_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n      cons!AS_GCM_CEDM_ADT_ENUM_AUDIT_ACTION_CODE_REACTIVATE,\n      cons!AS_GCM_CEDM_ADT_ENUM_AUDIT_ACTION_CODE_DEACTIVATE\n    },\n    {\n      \"\",\n      \"Copied\",\n      rule!AS_GAM_CO_I18N_UT_displayLabel(\n        bundle: ri!bundle,\n        bundleKey: a!defaultValue(\n          value: ri!deleteLabel,\n          default: \"txt_Deleted\"\n        )\n      ),\n      rule!AS_GAM_CO_I18N_UT_displayLabel(\n        bundle: ri!bundle,\n        bundleKey: a!defaultValue(\n          value: ri!deactivateLabel,\n          default: \"txt_Deactivated\"\n        )\n      ),\n      \"\",\n      rule!AS_GAM_CO_I18N_UT_displayLabel(\n        bundle: ri!bundle,\n        bundleKey: a!defaultValue(\n          value: ri!activatedLabel,\n          default: \"txt_Activated\"\n        )\n      ),\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      rule!AS_GAM_CO_I18N_UT_displayLabel(\n        bundle: ri!bundle,\n        bundleKey: a!defaultValue(\n          value: ri!activatedLabel,\n          default: \"txt_Activated\"\n        )\n      ),\n      rule!AS_GAM_CO_I18N_UT_displayLabel(\n        bundle: ri!bundle,\n        bundleKey: a!defaultValue(\n          value: ri!activatedLabel,\n          default: \"txt_Deactivated\"\n        )\n      )\n    },\n    \"\"\n  ) & \" \",\n  color: displayvalue(\n    ri!actionCode,\n    {\n      cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_ADD,\n      cons!AS_GCM_ADT_ENUM_AUDIT_ACTION_CODE_COPY,\n      cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DELETE,\n      cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DEACTIVATE,\n      cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n      cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_REACTIVATE,\n      cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_FINALIZE,\n      cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_FINALIZATION_FAILED,\n      cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_VALIDATE,\n      cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_VALIDATION_FAILED,\n      cons!AS_GCM_ADT_ENUM_AUDIT_ACTION_CODE_VALIDATION_UPDATE,\n      cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MANUAL_SYNC,\n      cons!AS_GCM_ENUM_AUDIT_ACTION_CODE_ADD_WEEKLY_SYNC,\n      cons!AS_GCM_ENUM_AUDIT_ACTION_CODE_MODIFY_WEEKLY_SYNC,\n      cons!AS_GCM_ENUM_AUDIT_ACTION_CODE_ADD_TEMPLATE_FILE_IMPORT,\n      cons!AS_GCM_ENUM_AUDIT_ACTION_CODE_ADD_ZIP_IMPORT,\n      cons!AS_GCM_ENUM_AUDIT_ACTION_CODE_MODIFY_ZIP_IMPORT,\n      cons!AS_GCM_ENUM_AUDIT_ACTION_CODE_BULK_CLAUSE_UPDATE,\n      cons!AS_GCM_CEDM_ADT_ENUM_AUDIT_ACTION_CODE_ADD,\n      cons!AS_GCM_CEDM_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n      cons!AS_GCM_CEDM_ADT_ENUM_AUDIT_ACTION_CODE_REACTIVATE,\n      cons!AS_GCM_CEDM_ADT_ENUM_AUDIT_ACTION_CODE_DEACTIVATE\n    },\n    {\n      cons!AS_GCM_HEX_CODE_AUDIT_ADDED_GREEN,\n      cons!AS_GCM_HEX_CODE_AUDIT_ADDED_GREEN,\n      cons!AS_GCM_HEX_CODE_AUDIT_REMOVED_RED,\n      cons!AS_GCM_HEX_CODE_AUDIT_REMOVED_RED,\n      cons!AS_GCM_HEX_CODE_AUDIT_MODIFIED_BLUEGRAY,\n      cons!AS_GCM_HEX_CODE_AUDIT_MISC_BLUE,\n      cons!AS_GCM_HEX_CODE_AUDIT_MISC_BLUE,\n      cons!AS_GCM_HEX_CODE_AUDIT_MISC_BLUE,\n      cons!AS_GCM_HEX_CODE_AUDIT_MISC_BLUE,\n      cons!AS_GCM_HEX_CODE_AUDIT_MISC_BLUE,\n      cons!AS_GCM_HEX_CODE_AUDIT_MODIFIED_BLUEGRAY,\n      cons!AS_GCM_HEX_CODE_AUDIT_MISC_BLUE,\n      cons!AS_GCM_HEX_CODE_AUDIT_ADDED_GREEN,\n      cons!AS_GCM_HEX_CODE_AUDIT_MISC_BLUE,\n      cons!AS_GCM_HEX_CODE_AUDIT_ADDED_GREEN,\n      cons!AS_GCM_HEX_CODE_AUDIT_ADDED_GREEN,\n      cons!AS_GCM_HEX_CODE_AUDIT_MISC_BLUE,\n      cons!AS_GCM_HEX_CODE_AUDIT_MISC_BLUE,\n      cons!AS_GCM_HEX_CODE_AUDIT_ADDED_GREEN,\n      cons!AS_GCM_HEX_CODE_AUDIT_MODIFIED_BLUEGRAY,\n      cons!AS_GCM_HEX_CODE_AUDIT_MISC_BLUE,\n      cons!AS_GCM_HEX_CODE_AUDIT_REMOVED_RED\n    },\n    \"\"\n  ),\n  style: \"STRONG\"\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76004": {
      "name": "AS_CO_I18N_UT_getUserLocale",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  userlocale(ri!user)\n)"
    },
    "_a-0000e99c-12b8-8000-9c55-011c48011c48_4960869": {
      "name": "AS_GAM_translateMultipleBundleKeys",
      "type": "Expression Rule",
      "sail_code": "/*Translates a list of bundle keys*/\n#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!bundleKeys,\n  expression: rule!AS_GAM_CO_I18N_UT_displayLabel(bundle: ri!bundle, bundleKey: fv!item)\n)"
    },
    "_a-0000e6e4-7cee-8000-9bde-011c48011c48_1788381": {
      "name": "AS_GCM_QE_getRefRuleConditionAudits",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryEntity(\n  entity: cons!AS_GCM_QNM_ENT_A_T_RULE_CONDITION,\n  entityType: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_A_T_Rule_Condition',\n  returnType: ri!returnType,\n  executeWhen: and(\n    ri!executeWhen,\n    or(\n      any(\n        rule!AS_CO_UT_isNotBlank(_),\n        {\n          ri!additionalFilters,\n          ri!logicalExpression,\n          ri!aggregation\n        }\n      ),\n      rule!AS_CO_UT_isNotBlank(ri!ruleAuditId)\n    )\n  ),\n  /* To ensure proper null checks, we'll force all queryFilter values to not be null */\n  logicalExpression: ri!logicalExpression,\n  pagingInfo: ri!pagingInfo,\n  triggerRefresh: ri!triggerRefresh,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"ruleAuditId\",\n      operator: \"=\",\n      value: ri!ruleAuditId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"auditActionCode\",\n      operator: \"<>\",\n      value: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n    ),\n    ri!additionalFilters\n  },\n  aggregation: ri!aggregation,\n  sort: ri!sort\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73980": {
      "name": "AS_CO_UT_replaceNull",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!nullableValue),\n  ri!replacementValue,\n  ri!nullableValue\n)"
    },
    "_a-0000e841-a36f-8000-9bfa-011c48011c48_2676647": {
      "name": "AS_GCM_DPL_CO_DSP_userImageDisplayField",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_imageField_v1\"(\n  images: #\"SYSTEM_SYSRULES_userImage\"(\n    user: ri!user,\n    altText: ri!altText\n  ),\n  size: \"SMALL\",\n  style: \"AVATAR\",\n  align: \"CENTER\",\n  labelPosition: \"COLLAPSED\"\n)"
    },
    "_a-0000e615-fd0f-8000-9bc1-011c48011c48_1164426": {
      "name": "AS_GCM_QR_getRefData",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryRecord(\n  recordType: recordType!AS GCM R Data,\n  returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n  fields: ri!fields,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM R Data.isActive,\n      operator: \"=\",\n      value: true,\n      applyWhen: not(\n        rule!AS_CO_UT_booleanDefaultFalse(boolean: ri!returnAllData)\n      )\n    )\n  },\n  logicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n    operator: \"OR\",\n    filters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM R Data.refType,\n        operator: \"in\",\n        value: ri!refTypes\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM R Data.refDataId,\n        operator: \"in\",\n        value: ri!refDataId\n      )\n    },\n    ignoreFiltersWithEmptyValues: true()\n  ),\n  sort: a!defaultValue(\n    value: ri!sortInfo,\n    default: {\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!AS GCM R Data.sortOrder,\n        ascending: true\n      ),\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!AS GCM R Data.refLabel,\n        ascending: true\n      )\n    }\n  ),\n  castToCdtType: if(\n    rule!AS_CO_UT_booleanDefaultTrue(boolean: ri!doCastToCdt),\n    'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Data',\n    null\n  )\n)"
    },
    "_a-0000eed7-628f-8000-9e56-011c48011c48_17598473": {
      "name": "AS_GCM_QNM_QR_getRuleConditionGroups",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!applyBatching: a!defaultValue(\n    value: ri!applyBatching,\n    default: or(\n      tointeger(ri!pagingInfo.batchSize) > cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE,\n      tointeger(ri!pagingInfo.batchSize) =- 1,\n      rule!AS_GAM_UT_ArrayLength(ri!ruleIds) > cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n    )\n  ),\n  local!pagingInfo: if(\n    local!applyBatching,\n    #\"urn:appian:function:v1:a:update\"(\n      ri!pagingInfo,\n      \"batchSize\",\n      cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n    ),\n    ri!pagingInfo\n  ),\n  local!returnType: a!defaultValue(\n    value: ri!returnType,\n    default: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n  ),\n  local!fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n    {\n      if(\n        ri!includeRelatedRecords,\n        {\n          recordType!AS GCM QNM T Rule Condition Group.rule,\n          recordType!AS GCM QNM T Rule Condition Group.conditionGroups,\n          recordType!AS GCM QNM T Rule Condition Group.conditions,\n          recordType!AS GCM QNM T Rule Condition Group.conditions,\n          recordType!AS GCM QNM T Rule Condition Group.conditions,\n          recordType!AS GCM QNM T Rule Condition Group.conditions,\n          recordType!AS GCM QNM T Rule Condition Group.conditions,\n          recordType!AS GCM QNM T Rule Condition Group.conditionGroups,\n          recordType!AS GCM QNM T Rule Condition Group.conditionGroups,\n          #\"urn:appian:record-relationship:v1:df718ee2-d9ba-4f1a-9500-07a07906abf5/f74e7d59-ff36-4de5-af0c-fd0c97d404c4/d34c79ff-bad5-433f-97b3-2c4e436f90da/4ccf47db-65e0-4898-8006-71425da23545\",\n          #\"urn:appian:record-relationship:v1:df718ee2-d9ba-4f1a-9500-07a07906abf5/f74e7d59-ff36-4de5-af0c-fd0c97d404c4/d34c79ff-bad5-433f-97b3-2c4e436f90da/171b8c2a-6f40-47d3-8ea9-c785363d29c2\",\n          #\"urn:appian:record-relationship:v1:df718ee2-d9ba-4f1a-9500-07a07906abf5/f74e7d59-ff36-4de5-af0c-fd0c97d404c4/d34c79ff-bad5-433f-97b3-2c4e436f90da/f70a9c59-efff-4627-a376-cdf2bb011595\",\n          #\"urn:appian:record-relationship:v1:df718ee2-d9ba-4f1a-9500-07a07906abf5/f74e7d59-ff36-4de5-af0c-fd0c97d404c4/d34c79ff-bad5-433f-97b3-2c4e436f90da/836d8f15-66f2-42fa-876d-da367f40632b\",\n          #\"urn:appian:record-relationship:v1:df718ee2-d9ba-4f1a-9500-07a07906abf5/f74e7d59-ff36-4de5-af0c-fd0c97d404c4/f74e7d59-ff36-4de5-af0c-fd0c97d404c4/f74e7d59-ff36-4de5-af0c-fd0c97d404c4\",\n          #\"urn:appian:record-relationship:v1:df718ee2-d9ba-4f1a-9500-07a07906abf5/f74e7d59-ff36-4de5-af0c-fd0c97d404c4/f74e7d59-ff36-4de5-af0c-fd0c97d404c4/d34c79ff-bad5-433f-97b3-2c4e436f90da\",\n          #\"urn:appian:record-relationship:v1:df718ee2-d9ba-4f1a-9500-07a07906abf5/f74e7d59-ff36-4de5-af0c-fd0c97d404c4/f74e7d59-ff36-4de5-af0c-fd0c97d404c4/d34c79ff-bad5-433f-97b3-2c4e436f90da/4ccf47db-65e0-4898-8006-71425da23545\",\n          #\"urn:appian:record-relationship:v1:df718ee2-d9ba-4f1a-9500-07a07906abf5/f74e7d59-ff36-4de5-af0c-fd0c97d404c4/f74e7d59-ff36-4de5-af0c-fd0c97d404c4/d34c79ff-bad5-433f-97b3-2c4e436f90da/171b8c2a-6f40-47d3-8ea9-c785363d29c2\",\n          #\"urn:appian:record-relationship:v1:df718ee2-d9ba-4f1a-9500-07a07906abf5/f74e7d59-ff36-4de5-af0c-fd0c97d404c4/f74e7d59-ff36-4de5-af0c-fd0c97d404c4/d34c79ff-bad5-433f-97b3-2c4e436f90da/f70a9c59-efff-4627-a376-cdf2bb011595\",\n          #\"urn:appian:record-relationship:v1:df718ee2-d9ba-4f1a-9500-07a07906abf5/f74e7d59-ff36-4de5-af0c-fd0c97d404c4/f74e7d59-ff36-4de5-af0c-fd0c97d404c4/d34c79ff-bad5-433f-97b3-2c4e436f90da/836d8f15-66f2-42fa-876d-da367f40632b\"\n        },\n        {}\n      ),\n      ri!fields,\n      index(\n        ri!relatedRecordData,\n        \"relationship\",\n        null\n      )\n    }\n  ),\n  local!flatLevelConditionGroupIds: rule!AS_CO_UT_queryRecord(\n    recordType: recordType!AS GCM QNM T Rule Condition Group,\n    returnType: a!defaultValue(\n      value: ri!returnType,\n      default: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n    ),\n    filters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Rule Condition Group.rule.isActive,\n        operator: \"=\",\n        value: ri!ruleIsActive,\n        applywhen: a!isNotNullOrEmpty(ri!ruleIsActive)\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Rule Condition Group.ruleId,\n        operator: \"in\",\n        value: ri!ruleIds,\n        applywhen: a!isNotNullOrEmpty(ri!ruleIds)\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Rule Condition Group.isActive,\n        operator: \"=\",\n        value: true(),\n        applyWhen: ri!showInActive <> true\n      ),\n      /* Adding default filter to get only direct condition groups*/\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Rule Condition Group.parentConditionGroupId,\n        operator: \"is null\"\n      ),\n      ri!additionalFilters\n    },\n    logicalExpression: ri!logicalExpression,\n    fields: recordType!AS GCM QNM T Rule Condition Group.ruleConditionGroupId,\n    pagingInfo: ri!pagingInfo,\n    triggerRefresh: ri!triggerRefresh,\n    executeWhen: and(\n      ri!executeWhen,\n      any(\n        rule!AS_CO_UT_isNotBlank,\n        { ri!additionalFilters, ri!ruleIds }\n      )\n    )\n  )[recordType!AS GCM QNM T Rule Condition Group.ruleConditionGroupId],\n  rule!AS_GCM_UT_formatDataBasedOnReturnType(\n    pagingInfo: local!pagingInfo,\n    returnType: local!returnType,\n    data: a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!flatLevelConditionGroupIds,\n        expression: {\n          rule!AS_GCM_UT_queryRecordByIdentifier(\n            recordType: recordType!AS GCM QNM T Rule Condition Group,\n            relatedRecordData: ri!relatedRecordData,\n            identifier: fv!item,\n            fields: local!fields\n          )\n        }\n      )\n    )\n  )\n)"
    },
    "_a-0000e6d1-2aad-8000-9bdd-011c48011c48_1776708": {
      "name": "AS_GCM_UT_displayFieldNamesForRefRuleAuditHistory",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!isBetweenDate: and(\n    or(\n      ri!clauseDataType = cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_START_DATE,\n      ri!clauseDataType = cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_END_DATE\n    ),\n    ri!refOperator = cons!AS_GCM_REF_ID_IS_BETWEEN_OPERATOR\n  ),\n  local!isBetweenAmount: and(\n    ri!clauseDataType = cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_ESTIMATED_DOLLAR_AMOUNT,\n    ri!refOperator = cons!AS_GCM_REF_ID_IS_BETWEEN_OPERATOR\n  ),\n  displayvalue(\n    ri!fieldName,\n    {\n      \"ruleName\",\n      \"isActive\",\n      \"refClauseId\",\n      \"questionId\",\n      \"refOperatorId\",\n      \"responseId\",\n      \"value\",\n      \"compValue\"\n    },\n    {\n      \"lbl_RuleName\",\n      \"lbl_Status\",\n      \"lbl_Clause\",\n      \"lbl_Question\",\n      \"lbl_Operator\",\n      \"lbl_Response\",\n      if(\n        local!isBetweenDate,\n        \"lbl_StartDate\",\n        if(\n          local!isBetweenAmount,\n          \"lbl_MinimumAmount\",\n          \"lbl_Value\"\n        )\n      ),\n      if(\n        local!isBetweenDate,\n        \"lbl_EndDate\",\n        if(\n          local!isBetweenAmount,\n          \"lbl_MaximumAmount\",\n          \"lbl_Value\"\n        )\n      )\n    },\n    ri!fieldName\n  )\n)"
    },
    "_a-0000e6d1-2aad-8000-9bdd-011c48011c48_1776733": {
      "name": "AS_GCM_DSP_displayAuditModificationForRefRule",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!value),\n  \"\",\n  choose(\n    a!match(\n      /*Field value*/\n      value: ri!fieldName,\n      whenTrue: contains({ \"ruleName\", \"refClauseId\" }, fv!value),\n      then: 1,\n      equals: \"isActive\",\n      then: 2,\n      equals: \"refOperatorId\",\n      then: 3,\n      equals: \"questionId\",\n      then: 4,\n      equals: \"responseId\",\n      then: 5,\n      whenTrue: contains({ \"value\", \"compValue\" }, fv!value),\n      then: 6,\n      default: 1\n    ),\n    /*Field value*/\n    { ri!value },\n    /*Active / InActive*/\n    if(\n      ri!value = true,\n      rule!AS_GAM_CO_I18N_UT_displayLabel(\n        bundleKey: \"txt_Active\",\n        bundle: ri!bundle\n      ),\n      rule!AS_GAM_CO_I18N_UT_displayLabel(\n        bundleKey: \"txt_Inactive\",\n        bundle: ri!bundle\n      )\n    ),\n    /*Ref Key*/\n    {\n      rule!AS_GAM_CO_I18N_UT_displayLabel(\n        bundle: ri!bundle,\n        bundleKey: index(\n          ri!refData,\n          wherecontains(\n            tointeger(ri!value),\n            ri!refData.refDataId\n          ),\n          null\n        ).refKey\n      )\n    },\n    /*Question*/\n    rule!AS_GCM_QNM_QR_getQuestion_Template(\n      questionTemplateId: ri!value,\n      returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT,\n      fields: recordType!AS GCM QNM T Question.label\n    )[recordType!AS GCM QNM T Question.label],\n    /*response*/\n    rule!AS_GCM_QNM_QR_getQuestionResponse_Template(\n      responseTemplateId: ri!value,\n      returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT,\n      fields: recordType!AS GCM QNM T Response.label\n    )[recordType!AS GCM QNM T Response.label],\n    a!match(\n      value: ri!clauseDataType,\n      /*Formatting Contract Type / Contract Method*/\n      whenTrue: contains(\n        {\n          cons!AS_GCM_REF_ID_CONTRACT_TYPE_DATA,\n          cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_METHOD\n        },\n        fv!value\n      ),\n      then: if(\n        ri!clauseDataType = cons!AS_GCM_REF_ID_CONTRACT_TYPE_DATA,\n        rule!AS_GCM_QR_getRefContractTypeData(\n          contractTypeIds: #\"SYSTEM_SYSRULES_fromJson_v1\"(ri!value),\n          doCastToCdt: false\n        )[recordType!AS GCM R Contract Type.displayValue],\n        /*Translating Multiple RefIds to Respective RefKeys*/\n        {\n          rule!AS_GAM_translateMultipleBundleKeys(\n            bundle: ri!bundle,\n            bundleKeys: index(\n              ri!refData,\n              wherecontains(\n                tointeger(#\"SYSTEM_SYSRULES_fromJson_v1\"(ri!value)),\n                ri!refData.refDataId\n              ),\n              null\n            ).refKey\n          )\n        }\n      ),\n      /*Formatting Contract Category / Clause Set Type*/\n      whenTrue: contains(\n        {\n          cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_CATEGORY,\n          cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CLAUSE_SET_TYPE\n        },\n        fv!value\n      ),\n      then: /*Translating Single RefId to Respective RefKey*/\n      rule!AS_GAM_CO_I18N_UT_displayLabel(\n        bundle: ri!bundle,\n        bundleKey: index(\n          ri!refData,\n          wherecontains(\n            tointeger(#\"SYSTEM_SYSRULES_fromJson_v1\"(ri!value)),\n            ri!refData.refDataId\n          ),\n          null\n        ).refKey\n      ),\n      /*Formatting User*/\n      whenTrue: contains(\n        {\n          cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_OFFICER_REP,\n          cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_SPECIALIST,\n          cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACTING_OFFICER\n        },\n        fv!value\n      ),\n      then: rule!AS_CO_UT_displayUser(\n        user: tostring(#\"SYSTEM_SYSRULES_fromJson_v1\"(ri!value)),\n        showHyphenIfValueNull: true()\n      ),\n      equals: cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_ESTIMATED_DOLLAR_AMOUNT,\n      then: {\n        rule!AS_GAM_CO_I18N_UT_displayLabel(\n          bundleKey: \"txt_CurrencySymbol\",\n          bundle: ri!bundle\n        ) & rule!AS_CO_UT_fixed(\n          number: #\"SYSTEM_SYSRULES_fromJson_v1\"(ri!value),\n          no_commas: false()\n        )\n      },\n      /*Formatting Contract Start Date & End Date*/\n      whenTrue: contains(\n        {\n          cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_END_DATE,\n          cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_START_DATE\n        },\n        fv!value\n      ),\n      then: rule!AS_CO_UT_formatDate(#\"SYSTEM_SYSRULES_fromJson_v1\"(ri!value)),\n      default: #\"SYSTEM_SYSRULES_fromJson_v1\"(ri!value)\n    )\n  )\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81749": {
      "name": "AS_CO_UT_checkIfUserExists",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  and(\n    rule!AS_CO_UT_isNotBlank(ri!user),\n    isusernametaken(ri!user)\n  )\n)"
    },
    "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3261182": {
      "name": "AS_GCM_UT_formatDataBasedOnReturnType",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!datasubset: todatasubset(\n    /* Output Modifier   */\n    rule!AS_GCM_updateDataByModifierMaps(\n      data: ri!data,\n      modifierMaps: ri!modifierMaps\n    ),\n    ri!pagingInfo\n  ),\n  a!match(\n    value: ri!returnType,\n    equals: cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    then: local!datasubset,\n    /* When the data is null then just return the same    */\n    whenTrue: rule!AS_CO_UT_isBlank(ri!data),\n    then: ri!data,\n    /* When the return type is SINGLE_OBJECT then type cast to its corresponding single object type   */\n    equals: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT,\n    then: rule!AS_CO_UT_cast(\n      typeOf: a!flatten(ri!data)[1],\n      value: index(local!datasubset.data, 1, null)\n    ),\n    default: rule!AS_CO_UT_cast(\n      typeOf: ri!data,\n      value: local!datasubset.data\n    )\n  )\n)"
    },
    "_a-0000eefb-2869-8000-9e60-011c48011c48_17821256": {
      "name": "AS_GCM_DSP_displayModificationCommentForRuleConditionsWrapper",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!auditActionCodes: a!map(\n    \"add\": { cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_ADD },\n    \"modify\": {\n      cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY\n    },\n    \"delete\": {\n      cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DEACTIVATE\n    }\n  ),\n  local!ruleConditions: rule!AS_GCM_QNM_QR_getRuleConditions(\n    mapIds: ri!ruleConditionsAudit.mapId,\n    showInActive: true,\n    includeDirectAndIndirectConditions: true\n  ),\n  {\n    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n      text: if(\n        count(ri!ruleConditionsAudit) > 1,\n        \"\",\n        \"Condition\"\n      ) & char(10),\n      style: \"STRONG\",\n      color: \"SECONDARY\",\n      showWhen: and(\n        rule!AS_CO_UT_isBlank(\n          ri!ruleConditionsAudit.ruleConditionGroupAuditId\n        ),\n        rule!AS_CO_UT_isNotBlank(ri!ruleConditionsAudit)\n      )\n    ),\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: a!keys(local!auditActionCodes),\n      expression: rule!AS_GCM_DSP_displayModificationCommentForRuleConditions(\n        bundle: ri!bundle,\n        ruleConditionsAudit: rule!AS_GCM_filterRecords(\n          records: ri!ruleConditionsAudit,\n          field: \"auditActionCode\",\n          value: local!auditActionCodes[fv!item]\n        ),\n        refData: ri!refData,\n        ruleConditions: local!ruleConditions\n      )\n    )\n  }\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73876": {
      "name": "AS_CO_UT_fixed",
      "type": "Expression Rule",
      "sail_code": "if(rule!AS_CO_UT_isBlank(ri!number),\n  null,\n  fixed(ri!number, if(isnull(ri!decimals), 2, ri!decimals), if(isnull(ri!no_commas), false, ri!no_commas))\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_157603": {
      "name": "AS_CO_UT_cast",
      "type": "Expression Rule",
      "sail_code": "with(  \n  local!typeNumber: rule!AS_CO_UT_returnTypeNumber(\n    type: ri!type,\n    typeOf: ri!typeOf\n  ),\n\n  /* If the object is empty, use null or {} depending on if it is array type or not */\n  local!objectToCast: if(\n    rule!AS_CO_UT_isNotBlank(ri!value),\n    ri!value,\n    rule!AS_CO_UT_checkIfSingleType(\n      type: ri!type,\n      typeOf: ri!typeOf\n    ),\n    null,\n    {}\n  ),\n\n  cast(\n    local!typeNumber,\n    local!objectToCast\n  )\n  \n)"
    },
    "_a-0000eefb-2869-8000-9e60-011c48011c48_17821329": {
      "name": "AS_GCM_constructRuleConditionAuditChanges",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /* Add condition - true,  Remove condition - false */\n  local!isActive: toboolean(\n    index(\n      rule!AS_GCM_filterRecords(\n        records: ri!simpleFieldChanges,\n        field: \"fieldName\",\n        value: \"isActive\"\n      ),\n      \"newValue\",\n      null\n    )\n  ),\n  local!refClauseDataId: rule!AS_GCM_filterRecords(\n    records: ri!simpleFieldChanges,\n    field: \"fieldName\",\n    value: \"refClauseDataId\"\n  ),\n  local!refOperatorId: rule!AS_GCM_filterRecords(\n    records: ri!simpleFieldChanges,\n    field: \"fieldName\",\n    value: \"refOperatorId\"\n  ),\n  /* In old audit we don't have audit for refClauseDataId in simpleFieldChanges when it is removed . Get it from ruleCondition  */\n  local!refClauseDataIdForInactiveCondition: a!defaultValue(\n    value: tointeger(\n      index(local!refClauseDataId, \"oldValue\", null)\n    ),\n    default: ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.refClauseDataId]\n  ),\n  /* Questionnaire Question index: 1 - old , 2 - new \nWhen Question is deleted set the value as 1\n*/\n  local!questionnaireQuestionIndexes: a!match(\n    value: local!isActive,\n    whenTrue: and(\n      rule!AS_CO_UT_isNotBlank(fv!value),\n      fv!value = false\n    ),\n    then: if(\n      ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.refClauseDataId] = cons!AS_GCM_REF_ID_QUESTIONNAIRE_QUESTION_DATA,\n      1,\n      tointeger({})\n    ),\n    default: wherecontains(\n      cons!AS_GCM_REF_ID_QUESTIONNAIRE_QUESTION_DATA,\n      tointeger(\n        {\n          index(local!refClauseDataId, \"oldValue\", null),\n          index(local!refClauseDataId, \"newValue\", null)\n        }\n      )\n    )\n  ),\n  /* Skip when question is not present in both old and new value */\n  local!questionId: if(\n    rule!AS_CO_UT_isBlank(local!questionnaireQuestionIndexes),\n    {},\n    rule!AS_GCM_filterRecords(\n      records: ri!simpleFieldChanges,\n      field: \"fieldName\",\n      value: \"questionId\"\n    )\n  ),\n  /* Skip when question is not present in both old and new value */\n  local!responseId: if(\n    rule!AS_CO_UT_isBlank(local!questionnaireQuestionIndexes),\n    {},\n    rule!AS_GCM_filterRecords(\n      records: ri!simpleFieldChanges,\n      field: \"fieldName\",\n      value: \"responseId\"\n    )\n  ),\n  /* Get value when no question present or only either the old condition or the new condition has question but not both*/\n  local!value: if(\n    count(local!questionnaireQuestionIndexes) <= 1,\n    rule!AS_GCM_filterRecords(\n      records: ri!simpleFieldChanges,\n      field: \"fieldName\",\n      value: \"value\"\n    ),\n    {}\n  ),\n  /* Get compValue when between operator is present in either the old condition or new condition */\n  local!compValue: if(\n    contains(\n      tointeger(\n        {\n          index(local!refOperatorId, \"oldValue\", null),\n          index(local!refOperatorId, \"newValue\", null)\n        }\n      ),\n      cons!AS_GCM_REF_ID_IS_BETWEEN_OPERATOR\n    ),\n    rule!AS_GCM_filterRecords(\n      records: ri!simpleFieldChanges,\n      field: \"fieldName\",\n      value: \"compValue\"\n    ),\n    {}\n  ),\n  local!oldData: a!match(\n    value: local!isActive,\n    /* Skip oldData construction when new condition is added   */\n    whenTrue: and(\n      rule!AS_CO_UT_isNotBlank(fv!value),\n      fv!value = true\n    ),\n    then: {},\n    /*Map for Questionnaire Question Condition*/\n    /*  Added default values to get the data from ruleCondition since the old audits has audit only for isActive field in simpleFieldChanges     */\n    whenTrue: or(local!questionnaireQuestionIndexes = 1),\n    then: a!map(\n      \"refClauseDataId\": rule!AS_GAM_CO_I18N_UT_displayLabel(\n        bundle: ri!bundle,\n        bundleKey: rule!AS_GCM_filterRecords(\n          records: ri!refData,\n          field: \"refDataId\",\n          value: local!refClauseDataIdForInactiveCondition\n        ).refKey\n      ),\n      \"refOperatorId\": rule!AS_GCM_DSP_displayAuditModificationForRefRule(\n        value: a!defaultValue(\n          value: index(local!refOperatorId, \"oldValue\", null),\n          default: ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.refOperatorId]\n        ),\n        fieldName: \"refOperatorId\",\n        bundle: ri!bundle,\n        refData: ri!refData,\n        clauseDataType: local!refClauseDataIdForInactiveCondition\n      ),\n      \"questionId\": rule!AS_GCM_DSP_displayAuditModificationForRefRule(\n        value: a!defaultValue(\n          value: index(local!questionId, \"oldValue\", null),\n          default: ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.questionId]\n        ),\n        fieldName: \"questionId\",\n        bundle: ri!bundle,\n        refData: ri!refData,\n        clauseDataType: local!refClauseDataIdForInactiveCondition\n      ),\n      \"responseId\": rule!AS_GCM_DSP_displayAuditModificationForRefRule(\n        value: a!defaultValue(\n          value: index(local!responseId, \"oldValue\", null),\n          default: ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.responseId]\n        ),\n        fieldName: \"responseId\",\n        bundle: ri!bundle,\n        refData: ri!refData,\n        clauseDataType: local!refClauseDataIdForInactiveCondition\n      )\n    ),\n    /*Map for Clause Data Condition*/\n    /*  Added default values to get the data from ruleCondition since the old audits has audit only for isActive field in simpleFieldChanges     */\n    default: a!map(\n      \"refClauseDataId\": rule!AS_GAM_CO_I18N_UT_displayLabel(\n        bundle: ri!bundle,\n        bundleKey: rule!AS_GCM_filterRecords(\n          records: ri!refData,\n          field: \"refDataId\",\n          value: local!refClauseDataIdForInactiveCondition\n        ).refKey\n      ),\n      \"refOperatorId\": rule!AS_GCM_DSP_displayAuditModificationForRefRule(\n        value: a!defaultValue(\n          value: index(local!refOperatorId, \"oldValue\", null),\n          default: ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.refOperatorId]\n        ),\n        fieldName: \"refOperatorId\",\n        bundle: ri!bundle,\n        refData: ri!refData,\n        clauseDataType: local!refClauseDataIdForInactiveCondition\n      ),\n      \"value\": joinarray(\n        rule!AS_GCM_DSP_displayAuditModificationForRefRule(\n          value: a!defaultValue(\n            value: index(local!value, \"oldValue\", null),\n            default: ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.value]\n          ),\n          fieldName: \"value\",\n          bundle: ri!bundle,\n          refData: ri!refData,\n          clauseDataType: local!refClauseDataIdForInactiveCondition\n        ),\n        \",\"\n      ),\n      \"compValue\": if(\n        if(\n          and(\n            rule!AS_CO_UT_isNotBlank(local!isActive),\n            local!isActive = false\n          ),\n          rule!AS_CO_UT_isBlank(\n            ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.compValue]\n          ),\n          or(\n            rule!AS_CO_UT_isBlank(local!compValue),\n            tointeger(local!refOperatorId.oldValue) <> cons!AS_GCM_REF_ID_IS_BETWEEN_OPERATOR\n          )\n        ),\n        \"\",\n        rule!AS_GCM_DSP_displayAuditModificationForRefRule(\n          value: a!defaultValue(\n            value: local!compValue.oldvalue,\n            default: ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.compValue]\n          ),\n          fieldName: \"compValue\",\n          bundle: ri!bundle,\n          refData: ri!refData,\n          clauseDataType: local!refClauseDataIdForInactiveCondition\n        )\n      )\n    )\n  ),\n  local!newData: a!match(\n    value: local!isActive,\n    /* Skip newData construction when the rule condition is deleted   */\n    whenTrue: and(\n      rule!AS_CO_UT_isNotBlank(fv!value),\n      fv!value = false\n    ),\n    then: {},\n    whenTrue: or(local!questionnaireQuestionIndexes = 2),\n    then: a!map(\n      \"refClauseDataId\": rule!AS_GAM_CO_I18N_UT_displayLabel(\n        bundle: ri!bundle,\n        bundleKey: rule!AS_GCM_filterRecords(\n          records: ri!refData,\n          field: \"refDataId\",\n          value: local!refClauseDataId.newValue\n        ).refKey\n      ),\n      \"refOperatorId\": rule!AS_GCM_DSP_displayAuditModificationForRefRule(\n        value: local!refOperatorId.newValue,\n        fieldName: \"refOperatorId\",\n        bundle: ri!bundle,\n        refData: ri!refData,\n        clauseDataType: local!refClauseDataId.newValue\n      ),\n      \"questionId\": rule!AS_GCM_DSP_displayAuditModificationForRefRule(\n        value: local!questionId.newValue,\n        fieldName: \"questionId\",\n        bundle: ri!bundle,\n        refData: ri!refData,\n        clauseDataType: local!refClauseDataId.newValue\n      ),\n      \"responseId\": rule!AS_GCM_DSP_displayAuditModificationForRefRule(\n        value: local!responseId.newValue,\n        fieldName: \"responseId\",\n        bundle: ri!bundle,\n        refData: ri!refData,\n        clauseDataType: local!refClauseDataId.newValue\n      )\n    ),\n    default: a!map(\n      \"refClauseDataId\": rule!AS_GAM_CO_I18N_UT_displayLabel(\n        bundle: ri!bundle,\n        bundleKey: rule!AS_GCM_filterRecords(\n          records: ri!refData,\n          field: \"refDataId\",\n          value: local!refClauseDataId.newValue\n        ).refKey\n      ),\n      \"refOperatorId\": rule!AS_GCM_DSP_displayAuditModificationForRefRule(\n        value: local!refOperatorId.newValue,\n        fieldName: \"refOperatorId\",\n        bundle: ri!bundle,\n        refData: ri!refData,\n        clauseDataType: local!refClauseDataId.newValue\n      ),\n      \"value\": joinarray(\n        rule!AS_GCM_DSP_displayAuditModificationForRefRule(\n          value: local!value.newValue,\n          fieldName: \"value\",\n          bundle: ri!bundle,\n          refData: ri!refData,\n          clauseDataType: local!refClauseDataId.newValue\n        ),\n        \",\"\n      ),\n      \"compValue\": if(\n        or(\n          rule!AS_CO_UT_isBlank(local!compValue),\n          tointeger(local!refOperatorId.newValue) <> cons!AS_GCM_REF_ID_IS_BETWEEN_OPERATOR\n        ),\n        \"\",\n        rule!AS_GCM_DSP_displayAuditModificationForRefRule(\n          value: local!compValue.newValue,\n          fieldName: \"compValue\",\n          bundle: ri!bundle,\n          refData: ri!refData,\n          clauseDataType: local!refClauseDataId.newValue\n        )\n      )\n    )\n  ),\n  local!old: a!match(\n    value: local!oldData,\n    whenTrue: or(\n      rule!AS_CO_UT_isBlank(fv!value),\n      rule!AS_CO_UT_isBlank(fv!value.refClauseDataId)\n    ),\n    then: null,\n    whenTrue: or(\n      tointeger(local!questionnaireQuestionIndexes) = 1\n    ),\n    then: fv!value.questionId & \" \" & fv!value.refOperatorId & \" \" & fv!value.responseId,\n    default: fv!value.refClauseDataId & \" \" & fv!value.refOperatorId & \" \" & fv!value.value & if(\n      rule!AS_CO_UT_isBlank(fv!value.compValue),\n      \"\",\n      \" \" & \"\" & \" \" & fv!value.compValue\n    )\n  ),\n  local!new: a!match(\n    value: local!newData,\n    whenTrue: or(\n      rule!AS_CO_UT_isBlank(fv!value),\n      rule!AS_CO_UT_isBlank(fv!value.refClauseDataId)\n    ),\n    then: null,\n    whenTrue: or(\n      tointeger(local!questionnaireQuestionIndexes) = 2\n    ),\n    then: fv!value.questionId & \" \" & fv!value.refOperatorId & \" \" & fv!value.responseId,\n    default: fv!value.refClauseDataId & \" \" & fv!value.refOperatorId & \" \" & fv!value.value & if(\n      rule!AS_CO_UT_isBlank(fv!value.compValue),\n      \"\",\n      \" \" & \"\" & \" \" & fv!value.compValue\n    )\n  ),\n  a!match(\n    value: tostring(local!old),\n    whenTrue: and(\n      rule!AS_CO_UT_isNotBlank(fv!value),\n      rule!AS_CO_UT_isNotBlank(local!new)\n    ),\n    then: fv!value & char(32) & \"\" & char(32) & local!new,\n    whenTrue: rule!AS_CO_UT_isNotBlank(fv!value),\n    then: fv!value,\n    default: local!new\n  )\n)"
    },
    "_a-0000e6e4-7cee-8000-9bde-011c48011c48_1788358": {
      "name": "AS_GCM_DSP_displayModificationCommentForRuleConditions",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_richTextItem_v1\"(\n  text: {\n    rule!AS_GCM_DSP_displayAuditActionCodeText(\n      actionCode: ri!ruleConditionsAudit.auditActionCode[1],\n      bundle: ri!bundle,\n      deactivateLabel: \"txt_Removed\"\n    ),\n    char(32),\n    if(\n      count(ri!ruleConditionsAudit) = 1,\n      \"Condition\",\n      \"\"\n    ),\n    \":\",\n    #\"SYSTEM_SYSRULES_richTextBulletedList\"(\n      items: {\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!ruleConditionsAudit,\n          expression: #\"SYSTEM_SYSRULES_richTextListItem\"(\n            text: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: {\n                rule!AS_GCM_constructRuleConditionAuditChanges(\n                  simpleFieldChanges: fv!item.simpleFieldChanges,\n                  refData: ri!refData,\n                  bundle: ri!bundle,\n                  ruleCondition: rule!AS_GCM_filterRecords(\n                    records: ri!ruleConditions,\n                    field: recordType!AS GCM QNM T Rule Condition.mapId,\n                    value: fv!item.mapId\n                  )\n                )\n              }\n            )\n          )\n        )\n      }\n    )\n  },\n  showWhen: rule!AS_CO_UT_isNotBlank(ri!ruleConditionsAudit)\n)"
    },
    "_a-0000e841-a36f-8000-9bfa-011c48011c48_2666354": {
      "name": "AS_GCM_DSP_showOrHideChangesLink",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_richTextItem_v1\"(\n  text: a!defaultValue(\n    value: ri!text,\n    default: \"( \" & if(\n      ri!showLessData = true,\n      \"\",\n      \"\"\n    ) & \" )\"\n  ),\n  link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n    saveInto: {\n      a!save(\n        ri!showLessData,\n        if(ri!showLessData = true, false, true)\n      )\n    }\n  ),\n  size: a!defaultValue(value: ri!size, default: \"STANDARD\"),\n  linkStyle: a!defaultValue(value: ri!linkStyle, default: \"INLINE\"),\n  showWhen: a!defaultValue(\n    value: ri!showWhen,\n    default: count(ri!cdt) > ri!itemCount\n  )\n)"
    },
    "_a-0000e6d1-2aad-8000-9bdd-011c48011c48_1776190": {
      "name": "AS_GCM_QE_getRefRuleAudits",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryEntity(\n  entity: cons!AS_GCM_QNM_ENT_A_T_RULE,\n  entityType: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_A_T_Rule',\n  returnType: ri!returnType,\n  executeWhen: and(\n    ri!executeWhen,\n    or(\n      any(\n        rule!AS_CO_UT_isNotBlank(_),\n        {\n          ri!additionalFilters,\n          ri!logicalExpression,\n          ri!aggregation\n        }\n      ),\n      rule!AS_CO_UT_isNotBlank(ri!ruleId)\n    )\n  ),\n  /* To ensure proper null checks, we'll force all queryFilter values to not be null */\n  logicalExpression: ri!logicalExpression,\n  pagingInfo: ri!pagingInfo,\n  triggerRefresh: ri!triggerRefresh,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"ruleId\",\n      operator: \"in\",\n      value: ri!ruleId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"auditActionCode\",\n      operator: \"<>\",\n      value: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED,\n      applyWhen: not(\n        rule!AS_CO_UT_booleanDefaultFalse(ri!includeUnchangedAudit)\n      )\n    ),\n    ri!additionalFilters\n  },\n  aggregation: ri!aggregation,\n  sort: ri!sort\n)"
    },
    "_a-0000e6e4-7cee-8000-9bde-011c48011c48_1803218": {
      "name": "AS_GCM_QNM_QR_getQuestionResponse_Template",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryRecord(\n  recordType: recordType!AS GCM QNM T Response,\n  returnType: a!defaultValue(\n    value: ri!returnType,\n    default: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n  ),\n  fields: ri!fields,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM QNM T Response.responseTemplateId,\n      operator: \"in\",\n      value: ri!responseTemplateId\n    )\n  },\n  executeWhen: ri!executeWhen,\n  triggerRefresh: ri!triggerRefresh,\n  pagingInfo: ri!pagingInfo,\n  sort: if(\n    rule!AS_CO_UT_isBlank(ri!sort),\n    #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!AS GCM QNM T Response.responseTemplateId,\n      ascending: true\n    ),\n    ri!sort\n  )\n)"
    },
    "_a-0000e752-5ddb-8000-9be7-011c48011c48_2015021": {
      "name": "AS_GCM_QNM_DSP_displayRuleInclusionOrExclusionAfterAuditActionCodeText",
      "type": "Interface",
      "sail_code": "if(\n  and(\n    rule!AS_CO_UT_isNotBlank(input: ri!ruleClause),\n    rule!AS_CO_UT_isNotBlank(input: ri!ruleClausesAudit)\n  ),\n  a!localVariables(\n    local!index: wherecontains(\n      \"refUsageId\",\n      ri!ruleClausesAudit.simpleFieldChanges.fieldName\n    ),\n    local!deletedClauseRefUsageId: if(\n      rule!AS_CO_UT_isBlank(local!index),\n      tointeger(\n        ri!ruleClause[recordType!AS GCM QNM T Rule Condition Clause.refUsageId]\n      ),\n      null()\n    ),\n    local!refUsageId: rule!AS_CO_UT_replaceNull(\n      nullableValue: tointeger(\n        rule!AS_CO_UT_rejectNullValuesFromArray(\n          array: {\n            index(\n              ri!ruleClausesAudit.simpleFieldChanges.newValue,\n              local!index,\n              null\n            ),\n            index(\n              ri!ruleClausesAudit.simpleFieldChanges.oldValue,\n              local!index,\n              null\n            ),\n            local!deletedClauseRefUsageId\n          }\n        )\n      ),\n      replacementValue: cons!AS_GCM_REF_ID_USAGE_INCLUDED\n    ),\n    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n      text: displayvalue(\n        local!refUsageId,\n        {\n          cons!AS_GCM_REF_ID_USAGE_INCLUDED,\n          cons!AS_GCM_REF_ID_USAGE_EXCLUDED\n        },\n        {\n          \"Inclusion\",\n          \"Exclusion\"\n        },\n        \"\"\n      ) & \" \",\n      color: rule!AS_GCM_getColorBasedOnColorName(\n        colorName: displayvalue(\n          ri!actionCode,\n          {\n            cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_ADD,\n            cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DEACTIVATE\n          },\n          {\n            /*green*/\n            cons!AS_GCM_HEX_CODE_AUDIT_ADDED_GREEN,\n            /*red*/\n            cons!AS_GCM_HEX_CODE_AUDIT_REMOVED_RED\n          },\n          \"\"\n        )\n      ),\n      style: \"STRONG\"\n    )\n  ),\n  {}\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_31790": {
      "name": "AS_CO_I18N_UT_isUserLocaleEnglishUs",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  rule!AS_CO_I18N_UT_getUserLocale(user: loggedInUser()) = cons!AS_CO_I18N_TXT_ENGLISH_US_LOCALE\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76433": {
      "name": "AS_CO_UT_indexPath",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!fieldsAndIndices: rule!AS_CO_UT_zINTERNAL_indexPath_nestedFieldArrayHandler(field: ri!field),\n\n  reduce(\n    index(_, _, ri!indexDefault),\n    ri!cdt,\n    local!fieldsAndIndices\n  )\n)"
    },
    "_a-0000e6d1-2aad-8000-9bdd-011c48011c48_1782528": {
      "name": "AS_GCM_QNM_QE_getRefRuleClauseAudits",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryEntity(\n  entity: cons!AS_GCM_QNM_ENT_A_T_RULE_CLAUSE,\n  entityType: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_A_T_CND_Set_Clause',\n  returnType: ri!returnType,\n  executeWhen: and(\n    ri!executeWhen,\n    or(\n      any(\n        rule!AS_CO_UT_isNotBlank(_),\n        {\n          ri!additionalFilters,\n          ri!logicalExpression,\n          ri!aggregation\n        }\n      ),\n      rule!AS_CO_UT_isNotBlank(ri!ruleAuditId)\n    )\n  ),\n  /* To ensure proper null checks, we'll force all queryFilter values to not be null */\n  logicalExpression: ri!logicalExpression,\n  pagingInfo: ri!pagingInfo,\n  triggerRefresh: ri!triggerRefresh,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"ruleAuditId\",\n      operator: \"=\",\n      value: ri!ruleAuditId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"auditActionCode\",\n      operator: \"<>\",\n      value: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n    ),\n    ri!additionalFilters\n  },\n  aggregation: ri!aggregation,\n  sort: ri!sort\n)"
    },
    "_a-0000e3ff-a5bc-8000-9ba8-011c48011c48_39070": {
      "name": "AS_CO_UT_booleanDefaultFalse",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  if(\n    isnull(ri!boolean),\n    false,\n    ri!boolean\n  )\n)"
    },
    "_a-0000ec90-d194-8000-9dac-011c48011c48_13571757": {
      "name": "AS_GCM_updateDataByModifierMaps_Reducer",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    rule!AS_CO_UT_isNotBlank(\n      input: index(ri!data, ri!modifierMap.field, null)\n    ),\n    ri!modifierMap.applyWhen\n  ),\n  #\"urn:appian:function:v1:a:update\"(\n    ri!data,\n    ri!modifierMap.field,\n    a!match(\n      value: ri!modifierMap,\n      whenTrue: and(\n        a!isNotNullOrEmpty(ri!modifierMap.findRegex),\n        a!isNotNullOrEmpty(ri!modifierMap.find)\n      ),\n      then: error(\n        \"Only one of two parameters should have values: findRegex or find\"\n      ),\n      whenTrue: a!isNotNullOrEmpty(ri!modifierMap.findRegex),\n      then: if(\n        a!isNotNullOrEmpty(ri!modifierMap.instanceNum),\n        error(\n          \"instanceNum should be null when passing a value to findRegex\"\n        ),\n        regexreplaceall(\n          ri!modifierMap.findRegex,\n          ri!data[ri!modifierMap.field],\n          ri!modifierMap.replaceWith\n        )\n      ),\n      whenTrue: a!isNotNullOrEmpty(ri!modifierMap.find),\n      then: rule!AS_GCM_substituteListFromTextUsingReduce(\n        text: ri!data[ri!modifierMap.field],\n        find: ri!modifierMap.find,\n        replaceWith: ri!modifierMap.replaceWith,\n        instanceNum: ri!modifierMap.instanceNum,\n        replaceAllInstances: a!defaultValue(\n          value: ri!modifierMap.replaceAllInstances,\n          default: a!isNullOrEmpty(ri!modifierMap.instanceNum)\n        )\n      ),\n      default: error(\n        \"Alteast one of two parameters should have values: findRegex or find\"\n      )\n    )\n  ),\n  ri!data\n)"
    },
    "_a-0000ec90-d194-8000-9dac-011c48011c48_13571682": {
      "name": "AS_GCM_updateDataByModifierMaps",
      "type": "Expression Rule",
      "sail_code": "/*\nThe modifierMaps should have the below structure\n{\na!map(\nfield: <The field which needs to be modified>,\nfind: Optional when findRegex is provided - The value to find,\nfindRegex: Optional when find is provided - The regex search performed to replace the value,\nreplaceWith: The value to replace with. When left blank the find values will be removed,\ninstanceNum: The instance number to which replace. Use only when the find is passed,\nreplaceAllInstances: Default true - Determines whether all the instances need to be replaced\napplyWhen: When false this map will be skipped\n),\n...\n}\n*/\nif(\n  rule!AS_CO_UT_isNotBlank(ri!modifierMaps),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!data,\n    expression: reduce(\n      rule!AS_GCM_updateDataByModifierMaps_Reducer(data: _, modifierMap: _),\n      fv!item,\n      ri!modifierMaps\n    )\n  ),\n  ri!data\n)"
    },
    "_a-0000e6e4-7cee-8000-9bde-011c48011c48_1798246": {
      "name": "AS_GCM_QNM_QR_getRuleConditions",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!applyBatching: a!defaultValue(\n    value: ri!applyBatching,\n    default: or(\n      tointeger(ri!pagingInfo.batchSize) > cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE,\n      tointeger(ri!pagingInfo.batchSize) =- 1,\n      rule!AS_GAM_UT_ArrayLength(ri!mapIds) > cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n    )\n  ),\n  local!pagingInfo: if(\n    local!applyBatching,\n    #\"urn:appian:function:v1:a:update\"(\n      ri!pagingInfo,\n      \"batchSize\",\n      cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n    ),\n    ri!pagingInfo\n  ),\n  local!returnType: a!defaultValue(\n    value: ri!returnType,\n    default: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n  ),\n  local!fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n    {\n      if(\n        ri!includeRelatedRecords,\n        {\n          recordType!AS GCM QNM T Rule Condition.question,\n          recordType!AS GCM QNM T Rule Condition.refClauseData,\n          recordType!AS GCM QNM T Rule Condition.refOperator,\n          recordType!AS GCM QNM T Rule Condition.response\n        },\n        {}\n      ),\n      ri!fields,\n      index(\n        ri!relatedRecordData,\n        \"relationship\",\n        null\n      )\n    }\n  ),\n  rule!AS_GCM_UT_formatDataBasedOnReturnType(\n    pagingInfo: local!pagingInfo,\n    returnType: local!returnType,\n    data: a!match(\n      value: null,\n      /*  Happy Path scenario when batching is not needed  */\n      whenTrue: and(\n        ri!executeWhen,\n        not(local!applyBatching)\n      ),\n      then: rule!AS_CO_UT_queryRecord(\n        recordType: recordType!AS GCM QNM T Rule Condition,\n        returnType: a!defaultValue(\n          value: ri!returnType,\n          default: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n        ),\n        filters: {\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!AS GCM QNM T Rule Condition.mapId,\n            operator: \"in\",\n            value: ri!mapIds\n          ),\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!AS GCM QNM T Rule Condition.question.questionTemplateId,\n            operator: \"in\",\n            value: ri!questionTemplateId,\n            applywhen: a!isNotNullOrEmpty(ri!questionTemplateId)\n          ),\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!AS GCM QNM T Rule Condition.response.responseTemplateId,\n            operator: \"in\",\n            value: ri!responseTemplateId,\n            applywhen: a!isNotNullOrEmpty(ri!responseTemplateId)\n          ),\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!AS GCM QNM T Rule Condition.ruleId,\n            operator: \"in\",\n            value: ri!ruleIds,\n            applywhen: a!isNotNullOrEmpty(ri!ruleIds)\n          ),\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!AS GCM QNM T Rule Condition.isActive,\n            operator: \"=\",\n            value: true(),\n            applyWhen: ri!showInActive <> true\n          ),\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!AS GCM QNM T Rule Condition.rule.isActive,\n            operator: \"=\",\n            value: ri!ruleIsActive\n          ),\n          /* Adding default filter to get only direct conditions*/\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!AS GCM QNM T Rule Condition.ruleConditionGroupId,\n            operator: \"is null\",\n            applyWhen: not(\n              rule!AS_AM_CO_UT_booleanDefaultFalse(ri!includeDirectAndIndirectConditions)\n            )\n          ),\n          ri!additionalFilters\n        },\n        logicalExpression: ri!logicalExpression,\n        fields: local!fields,\n        pagingInfo: ri!pagingInfo,\n        aggregationFields: ri!aggregationFields,\n        triggerRefresh: ri!triggerRefresh,\n        sort: ri!sort,\n        executeWhen: and(\n          ri!executeWhen,\n          any(\n            rule!AS_CO_UT_isNotBlank,\n            {\n              ri!additionalFilters,\n              ri!mapIds,\n              ri!questionTemplateId,\n              ri!responseTemplateId,\n              ri!ruleIds\n            }\n          )\n        ),\n        relatedRecordData: ri!relatedRecordData\n      ),\n      whenTrue: and(\n        ri!executeWhen,\n        local!applyBatching,\n        rule!AS_CO_UT_isBlank(ri!mapIds)\n      ),\n      then: a!localVariables(\n        /*   Querying the total count to apply batching     */\n        local!totalCount: rule!AS_CO_UT_queryRecord(\n          recordType: recordType!AS GCM QNM T Rule Condition,\n          returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_TOTAL_COUNT,\n          executeWhen: ri!executeWhen,\n          triggerRefresh: ri!triggerRefresh,\n          filters: {\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM QNM T Rule Condition.question.questionTemplateId,\n              operator: \"in\",\n              value: ri!questionTemplateId,\n              applywhen: a!isNotNullOrEmpty(ri!questionTemplateId)\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM QNM T Rule Condition.response.responseTemplateId,\n              operator: \"in\",\n              value: ri!responseTemplateId,\n              applywhen: a!isNotNullOrEmpty(ri!responseTemplateId)\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM QNM T Rule Condition.ruleId,\n              operator: \"in\",\n              value: ri!ruleIds,\n              applywhen: a!isNotNullOrEmpty(ri!ruleIds)\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM QNM T Rule Condition.isActive,\n              operator: \"=\",\n              value: true(),\n              applyWhen: ri!showInActive <> true()\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM QNM T Rule Condition.rule.isActive,\n              operator: \"=\",\n              value: ri!ruleIsActive\n            ),\n            /* Adding default filter to get only direct conditions*/\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM QNM T Rule Condition.ruleConditionGroupId,\n              operator: \"is null\",\n              applyWhen: not(\n                rule!AS_AM_CO_UT_booleanDefaultFalse(ri!includeDirectAndIndirectConditions)\n              )\n            ),\n            ri!additionalFilters\n          },\n          logicalExpression: ri!logicalExpression\n        ),\n        if(\n          local!totalCount > 0,\n          a!flatten(\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: enumerate(\n                ceiling(\n                  local!totalCount / local!pagingInfo.batchSize\n                )\n              ),\n              expression: rule!AS_CO_UT_queryRecord(\n                recordType: recordType!AS GCM QNM T Rule Condition,\n                returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n                executeWhen: ri!executeWhen,\n                pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n                  startIndex: fv!item * local!pagingInfo.batchSize + 1,\n                  batchSize: local!pagingInfo.batchSize\n                ),\n                sort: ri!sort,\n                triggerRefresh: ri!triggerRefresh,\n                filters: {\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: recordType!AS GCM QNM T Rule Condition.question.questionTemplateId,\n                    operator: \"in\",\n                    value: ri!questionTemplateId,\n                    applywhen: a!isNotNullOrEmpty(ri!questionTemplateId)\n                  ),\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: recordType!AS GCM QNM T Rule Condition.response.responseTemplateId,\n                    operator: \"in\",\n                    value: ri!responseTemplateId,\n                    applywhen: a!isNotNullOrEmpty(ri!responseTemplateId)\n                  ),\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: recordType!AS GCM QNM T Rule Condition.ruleId,\n                    operator: \"in\",\n                    value: ri!ruleIds,\n                    applywhen: a!isNotNullOrEmpty(ri!ruleIds)\n                  ),\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: recordType!AS GCM QNM T Rule Condition.isActive,\n                    operator: \"=\",\n                    value: true(),\n                    applyWhen: ri!showInActive <> true()\n                  ),\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: recordType!AS GCM QNM T Rule Condition.rule.isActive,\n                    operator: \"=\",\n                    value: ri!ruleIsActive\n                  ),\n                  /* Adding default filter to get only direct conditions*/\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: recordType!AS GCM QNM T Rule Condition.ruleConditionGroupId,\n                    operator: \"is null\",\n                    applyWhen: not(\n                      rule!AS_AM_CO_UT_booleanDefaultFalse(ri!includeDirectAndIndirectConditions)\n                    )\n                  ),\n                  \n                },\n                fields: local!fields,\n                relatedRecordData: ri!relatedRecordData,\n                castToCdtType: recordType!AS GCM QNM T Rule Condition\n              ).data\n            )\n          ),\n          {}\n        )\n      ),\n      whenTrue: and(\n        ri!executeWhen,\n        local!applyBatching,\n        rule!AS_CO_UT_isNotBlank(ri!mapIds),\n        rule!AS_CO_UT_isBlank(value: ri!aggregationFields)\n      ),\n      then: a!flatten(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          /*   batches       */\n          items: rule!AS_GCM_UT_getIdentifiersInBatches(\n            identifiers: rule!AS_CO_UT_rejectNullValuesFromArray(array: ri!mapIds),\n            batchingSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE,\n            returnType: local!returnType,\n            pagingInfo: local!pagingInfo\n          ),\n          expression: rule!AS_CO_UT_queryRecord(\n            recordType: recordType!AS GCM QNM T Rule Condition,\n            returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n            executeWhen: and(\n              ri!executeWhen,\n              rule!AS_CO_UT_isNotBlank(fv!item.identifiers)\n            ),\n            pagingInfo: local!pagingInfo,\n            sort: ri!sort,\n            triggerRefresh: ri!triggerRefresh,\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!AS GCM QNM T Rule Condition.mapId,\n                operator: \"in\",\n                value: tointeger(fv!item.identifiers)\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!AS GCM QNM T Rule Condition.isActive,\n                operator: \"=\",\n                value: true(),\n                applyWhen: ri!showInActive <> true()\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!AS GCM QNM T Rule Condition.rule.isActive,\n                operator: \"=\",\n                value: ri!ruleIsActive\n              ),\n              /* Adding default filter to get only direct conditions*/\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!AS GCM QNM T Rule Condition.ruleConditionGroupId,\n                operator: \"is null\",\n                applyWhen: not(\n                  rule!AS_AM_CO_UT_booleanDefaultFalse(ri!includeDirectAndIndirectConditions)\n                )\n              ),\n              \n            },\n            fields: local!fields,\n            relatedRecordData: ri!relatedRecordData,\n            castToCdtType: recordType!AS GCM QNM T Rule Condition\n          ).data\n        )\n      ),\n      default: {}\n    )\n  )\n)"
    },
    "_a-0000e6c8-d132-8000-9bbe-011c48011c48_469266": {
      "name": "AS_CO_UT_queryRecord",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS ON HOW TO USE\n\nPlease DO NOT auto-format this rule\n\n*/\n\n\n/*Error handling*/\nif(\n  rule!AS_CO_UT_isBlank(ri!returnType),\n  fn!error(concat(\"Null `returnType` passed to AS_CO_UT_queryRecord for recordType `\", ri!recordType, \"`.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  not(contains(rule!AS_CO_CONS_QE_RETURN_TYPES(), ri!returnType)),\n  fn!error(concat(\"Unknown `returnType` passed to AS_CO_UT_queryRecord for recordType `\", ri!recordType, \"`.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  rule!AS_CO_UT_isBlank(ri!recordType),\n  fn!error(concat(\"Null `recordType` passed to AS_CO_UT_queryRecord.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    rule!AS_CO_UT_isBlank(ri!pagingInfo)\n  ),\n  fn!error(concat(\"`pagingInfo` is required (cannot be null) for `returnType` DATA_SUBSET\")),\n  and(\n    ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    rule!AS_CO_UT_isNotBlank(ri!pagingInfo)\n  ),\n  fn!error(concat(\"`pagingInfo` must be null when the `returnType` is not DATA_SUBSET, instead use `sort` to pass custom-sorting and `startIndex` & `batchSize` will be automatically calculated for you\")),\n  and(\n    not(isnull(ri!pagingInfo)),\n    rule!AS_CO_UT_isNotBlank(ri!sort)\n  ),\n  fn!error(concat(\"`sort` parameter must be null when `pagingInfo` is provided.  Use the sort field of the provided `pagingInfo` instead.\")),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isBlank(ri!aggregationFields)\n  ),\n  fn!error(\"You must provide an input for `aggregationFields` when `returnType` is AGGREGATION\"),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isNotBlank(ri!fields)\n  ),\n  fn!error(\"You cannot provide an input for `fields` when `returnType` is AGGREGATION.  Use `aggregationFields` instead.\"),\n  and(\n    ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isNotBlank(ri!aggregationFields)\n  ),\n  fn!error(\"You cannot provide an input for `aggregationFields` when `returnType` is not AGGREGATION.  Use `fields` instead.\"),\n  and(\n    rule!AS_CO_UT_isNotBlank(ri!castToCdtType),\n    not(contains(\n      {cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY, cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT, cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET},\n      ri!returnType\n    )),\n  ),\n  fn!error(\"'castToCdtType' is only supported for SINGLE_OBJECT, OBJECT_ARRAY, and DATA_SUBSET return types\"),\n\n  a!localVariables(\n\n    /*Determine the castResultToType*/\n    local!castResultToType: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   'type!{http://www.appian.com/ae/types/2009}Map',\n        /*SINGLE_OBJECT*/ a!defaultValue(ri!castToCdtType, ri!recordType),\n        /*OBJECT_ARRAY*/  rule!AS_CO_UT_returnArrayTypeNumber(type: a!defaultValue(ri!castToCdtType, ri!recordType)),\n        /*AGGREGATION*/   'type!{http://www.appian.com/ae/types/2009}Map?list',\n        /*TOTAL_COUNT*/   'type!{http://www.appian.com/ae/types/2009}Integer',\n      }\n    ),\n\n    /*Determine the batchSize*/\n    local!batchSize: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   ri!pagingInfo.batchSize,\n        /*SINGLE_OBJECT*/ 1,\n        /*OBJECT_ARRAY*/  a!defaultValue(ri!pagingInfo.batchSize, cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE),\n        /*AGGREGATION*/   cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE,\n        /*TOTAL_COUNT*/   1,\n      }\n    ),\n\n    /*Determine the pagingInfo*/\n    local!pagingInfo: if(\n      ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n      /*Use specific pagingInfo for DATA_SUBSET*/\n      ri!pagingInfo,\n      /*Otherwise calculate pagingInfo for all other returnTypes*/\n      #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: local!batchSize,\n        sort: ri!sort\n      )\n    ),\n\n    /*Determine the fetchTotalCount*/\n    local!fetchTotalCount: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   true,\n        /*SINGLE_OBJECT*/ false,\n        /*OBJECT_ARRAY*/  false,\n        /*AGGREGATION*/   false,\n        /*TOTAL_COUNT*/   true,\n      }\n    ),\n\n    /*Execute the query*/\n    local!queryResult: a!refreshVariable(\n      value: if(\n        ri!executeWhen = false,\n        null(\n          if(\n            ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n            rule!AS_CO_TYPE_Dictionary(),\n            ri!recordType\n          )\n        ),\n        #\"SYSTEM_SYSRULES_queryRecordType_v1\"(\n          recordType: ri!recordType,\n          fields: a!defaultValue(\n            ri!fields,\n            ri!aggregationFields\n          ),\n          filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            logicalExpressions: {\n              #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"AND\",\n                ignoreFiltersWithEmptyValues: true,\n                filters: a!defaultValue(ri!filters, {})\n              ),\n              a!defaultValue(ri!logicalExpression, {})\n            }\n          ),\n          pagingInfo: local!pagingInfo,\n          fetchTotalCount: local!fetchTotalCount,\n          relatedRecordData: ri!relatedRecordData\n        )\n      ),\n      refreshOnVarChange: ri!triggerRefresh,\n      refreshAfter: {\"RECORD_ACTION\"}\n    ),\n\n    /*Parse the queryResult*/\n    local!queryResultParse: choose(\n      rule!AS_CO_UT_chooseWherecontainsHelper(\n        value: ri!returnType,\n        inArray: rule!AS_CO_CONS_QE_RETURN_TYPES()\n      ),\n      /*Default, required value based on how AS_CO_UT_chooseWherecontainsHelper operates*/ \"\",\n      /*DATA_SUBSET*/   if(\n        rule!AS_CO_UT_isNotBlank(ri!castToCdtType),\n        /*Note that for a data subset, the parent is a map, but we allow casting the child 'data' field as well*/\n        rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n          cdt: local!queryResult,\n          fieldValuePairs: {\n            field: \"data\",\n            value: cast(\n              rule!AS_CO_UT_returnArrayTypeNumber(type: ri!castToCdtType),\n              local!queryResult.data\n            )\n          }\n        ),\n        local!queryResult\n      ),\n      /*SINGLE_OBJECT*/ local!queryResult.data,\n      /*OBJECT_ARRAY*/  local!queryResult.data,\n      /*AGGREGATION*/   local!queryResult.data,\n      /*TOTAL_COUNT*/   local!queryResult.totalCount,\n    ),\n\n    rule!AS_CO_UT_cast(\n      type: local!castResultToType,\n      value: local!queryResultParse\n    )\n  )\n)\n\n/*\n\nDOCUMENTATION\n\nThis rule is designed to minimize the overhead with querying data and then casting the result\n\n\nRequired Inputs:\n\n1. recordType\n- This is a recordtype! input of the data type to be queried against\n\n2. returnType\n- This depends on the purpose for the query, and should be one of the returnTypes in rule!AS_CO_CONS_QE_RETURN_TYPES\n-- DATA_SUBSET - This will return a DataSubset; pagingInfo is required\n-- SINGLE_OBJECT - This will return a single record whose type is the recordType; pagingInfo must be null\n-- ARRAY_OBJECT - This will return an array of records whose type is an array of the recordType; pagingInfo must be null\n-- AGGREGATION - This will return an array of Dictionaries; pagingInfo must be null\n---- NOTE: If you need Aggregation with paging controls, such as for a grid, use returnType DATA_SUBSET\n-- TOTAL_COUNT - This will return an Integer of the total count; pagingInfo must be null\n\n\nOptional Inputs:\n\n3. executeWhen\n- The query will not execute if this is false, the query will execute if this is true or null\n-- This is meant to operate in a similar manner to the showWhen parameter of components\n- Use this to skip execution of a query without needing to wrap if() statements around the rule\n-- Examples of this would be to skip querying if your filter value is a null ID\n- If the query does not execute, this will return a null value whose type is based on the returnType input\n\n4. triggerRefresh\n- By default, the query will always re-execute whenever any inputs change\n- However, by updating the value of triggerRefresh, you can also trigger a re-execution even if none of the other inputs change (e.g. after a record action)\n\n5. filters\n- Array of filters to apply to the query, built with a!queryFilter()\n- These filters will be applied with an AND operator\n- These filters will apply in addition to the logicalExpression input, combining both with an AND operator\n\n6. logicalExpression\n- A logical expression to apply to the query, built with a!queryLogicalExpression()\n- This logical expression will apply in addition to the filters input, combining both with an AND operator\n\n7. aggregationFields\n- Aggregation to apply to the query, built with a!aggregationField()\n\n8. fields\n- List of recordFields and relatedRecordFields to return.  When querying a record, any relatedRecordFields are not returned\nby default, and must be specifically requested.\n\n9. pagingInfo\n- Paging info to apply to the query, built with a!pagingInfo() or derived from fv!pagingInfo in grids\n- This is required if passing returnType DATA_SUBSET, otherwise it must be null\n- For returnTypes that are not DATA_SUBSET, the batch size will be automatically calculated depending on the returnType\n-- For example, passing SINGLE_OBJECT will automatically apply a batch size of 1, whereas ARRAY_OBJECT and AGGREGATION will automatically apply a batch size of the defined query batch size maximum\n\n10. sort\n- Array of sort to apply to the query, built with a!sortInfo()\n- This is meant to be used with returnType ARRAY_OBJECT and AGGREGATION, since pagingInfo is not required for these, but a specified sort may be used\n- Cannot be used in conjunction with pagingInfo.sort\n\n11. castToCdtType\n- Any cdt type to the cast the result set. \n- This is meant to be used with only returnType OBJECT_ARRAY and SINGLE_OBJECT.\n\n*/"
    },
    "_a-0000e915-02bc-8000-9c1f-011c48011c48_3773120": {
      "name": "AS_GCM_substituteListFromTextUsingReduce",
      "type": "Expression Rule",
      "sail_code": "/*This rule with replace all texts in ri!find with \"\" if null is passed to ri!replaceWith\n  If null is passed to ri!instanceNum then only the first instance of ri!find will be replaced \n*/\nif(\n  rule!AS_CO_UT_isBlank(ri!find),\n  ri!text,\n  reduce(\n    fn!substitute,\n    ri!text,\n    if(\n      ri!replaceAllInstances = true(),\n      merge(\n        ri!find,\n        a!defaultValue(\n          value: ri!replaceWith,\n          default: repeat(length(ri!find), \"\")\n        )\n      ),\n      merge(\n        ri!find,\n        a!defaultValue(\n          value: ri!replaceWith,\n          default: repeat(length(ri!find), \"\")\n        ),\n        a!defaultValue(\n          value: ri!instanceNum,\n          default: repeat(length(ri!find), 1)\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e7f8-737a-8000-9bf7-011c48011c48_2512353": {
      "name": "AS_GCM_QR_getRefContractTypeData",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryRecord(\n  recordType: recordType!AS GCM R Contract Type,\n  returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n  castToCdtType: if(\n    rule!AS_CO_UT_booleanDefaultTrue(boolean: ri!doCastToCdt),\n    'type!{urn:com:appian:types}AS_GCM_R_Contract_Type',\n    null\n  ),\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM R Contract Type.refPricingTypeId,\n      operator: \"in\",\n      value: ri!refPricingTypes\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM R Contract Type.refContractTypeId,\n      operator: \"in\",\n      value: ri!refContractTypes\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM R Contract Type.contractTypeId,\n      operator: \"in\",\n      value: ri!contractTypeIds\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM R Contract Type.isActive,\n      operator: \"=\",\n      value: true,\n      applyWhen: not(\n        rule!AS_CO_UT_booleanDefaultFalse(boolean: ri!returnAllData)\n      )\n    )\n  },\n  fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n    {\n      ri!fields,\n      if(\n        rule!AS_CO_UT_booleanDefaultTrue(boolean: ri!includeRelatedRecords),\n        {\n          recordType!AS GCM R Contract Type.refContractType,\n          recordType!AS GCM R Contract Type.refPricingType\n        },\n        {}\n      )\n    }\n  ),\n  executeWhen: ri!executeWhen\n)"
    }
  }
}
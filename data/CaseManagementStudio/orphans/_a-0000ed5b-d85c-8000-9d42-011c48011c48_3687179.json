{
  "uuid": "_a-0000ed5b-d85c-8000-9d42-011c48011c48_3687179",
  "name": "CMGT_WFL_CaseType_ConfigureTask_Task_SLASection",
  "type": "Interface",
  "description": "UI component sto configure the task SLA",
  "sail_code": "a!localVariables(\n  local!sla: rule!CMGT_UTIL_ContructSLAMap(\n    slaJson: ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sla]\n  ),\n  local!isEmptySla: rule!CMGT_UTIL_isEmptySLA(slaMap: local!sla),\n  if(\n    /*Task block task is an \"automated\" task*/\n    ri!isAutomated,\n    /*SLA is N/A for an automated task*/\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      value: #\"urn:appian:translation-string:v1:7ed3fef7-c6cd-4516-a123-9883ccf20ac6\"\n    ),\n    {\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_textField\"(\n                label: #\"urn:appian:translation-string:v1:4794decc-5e8c-4cb6-bf94-0696d49b4fa5\",\n                value: index(local!sla, \"days\", \"\"),\n                saveInto: {\n                  /*We are storing the value of Business Days to be false if atleast one */\n                  /*of the value is given*/\n                  a!save(\n                    local!sla,\n                    rule!CMGT_UTIL_ContructSLAMap(\n                      hours: index(local!sla, \"hours\", \"\"),\n                      minutes: index(local!sla, \"minutes\", \"\"),\n                      days: save!value,\n                      isBusinessDays: index(local!sla, \"isBusinessDays\", \"\")\n                    )\n                  ),\n                  if(\n                    rule!CMGT_UTIL_isEmptySLA(local!sla),\n                    a!save(local!sla, null),\n                    {}\n                  ),\n                  a!save(\n                    ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sla],\n                    if(\n                      rule!CMGT_UTIL_IsNotBlank(local!sla),\n                      #\"SYSTEM_SYSRULES_toJson_v1\"(local!sla),\n                      null\n                    )\n                  ),\n                  a!save(\n                    ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                    #\"urn:appian:function:v1:a:update\"(\n                      ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                      /*Index of the case type workflow task that we want to update in the caseTypeWorkflowTasks array*/\n                      wherecontains(\n                        ri!selectedCaseTypeWorkflowTaskUuid,\n                        ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask][recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n                      ),\n                      /*The updated case type workflow task*/\n                      #\"urn:appian:function:v1:a:update\"(\n                        ri!selectedCaseTypeWorkflowTask,\n                        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sla,\n                        ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sla]\n                      )\n                    )\n                  )\n                },\n                validations: rule!CMGT_UTIL_ValidateSLA(value: index(local!sla, \"days\", \"\"))\n              )\n            }\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_textField\"(\n                label: #\"urn:appian:translation-string:v1:befd59bf-3568-4c2b-9afd-71b7d6f7060a\",\n                value: index(local!sla, \"hours\", \"\"),\n                saveInto: {\n                  /*We are storing the value of Business Days to be false if atleast one */\n                  /*of the value is given*/\n                  a!save(\n                    local!sla,\n                    rule!CMGT_UTIL_ContructSLAMap(\n                      hours: save!value,\n                      minutes: index(local!sla, \"minutes\", \"\"),\n                      days: index(local!sla, \"days\", \"\"),\n                      isBusinessDays: index(local!sla, \"isBusinessDays\", \"\")\n                    )\n                  ),\n                  if(\n                    rule!CMGT_UTIL_isEmptySLA(local!sla),\n                    a!save(local!sla, null),\n                    {}\n                  ),\n                  a!save(\n                    ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sla],\n                    if(\n                      rule!CMGT_UTIL_IsNotBlank(local!sla),\n                      #\"SYSTEM_SYSRULES_toJson_v1\"(local!sla),\n                      null\n                    )\n                  ),\n                  a!save(\n                    ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                    #\"urn:appian:function:v1:a:update\"(\n                      ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                      /*Index of the case type workflow task that we want to update in the caseTypeWorkflowTasks array*/\n                      wherecontains(\n                        ri!selectedCaseTypeWorkflowTaskUuid,\n                        ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask][recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n                      ),\n                      /*The updated case type workflow task*/\n                      #\"urn:appian:function:v1:a:update\"(\n                        ri!selectedCaseTypeWorkflowTask,\n                        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sla,\n                        ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sla]\n                      )\n                    )\n                  )\n                },\n                validations: rule!CMGT_UTIL_ValidateSLA(value: index(local!sla, \"hours\", \"\"))\n              )\n            }\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_textField\"(\n                label: #\"urn:appian:translation-string:v1:8011a7b9-c1f3-45f4-9f16-99471296e83d\",\n                value: index(local!sla, \"minutes\", \"\"),\n                saveInto: {\n                  /*We are storing the value of Business Days to be false if atleast one */\n                  /*of the value is given*/\n                  a!save(\n                    local!sla,\n                    rule!CMGT_UTIL_ContructSLAMap(\n                      hours: index(local!sla, \"hours\", \"\"),\n                      minutes: save!value,\n                      days: index(local!sla, \"days\", \"\"),\n                      isBusinessDays: index(local!sla, \"isBusinessDays\", \"\")\n                    )\n                  ),\n                  if(\n                    rule!CMGT_UTIL_isEmptySLA(local!sla),\n                    a!save(local!sla, null),\n                    {}\n                  ),\n                  a!save(\n                    ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sla],\n                    if(\n                      rule!CMGT_UTIL_IsNotBlank(local!sla),\n                      #\"SYSTEM_SYSRULES_toJson_v1\"(local!sla),\n                      null\n                    )\n                  ),\n                  a!save(\n                    ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                    #\"urn:appian:function:v1:a:update\"(\n                      ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                      /*Index of the case type workflow task that we want to update in the caseTypeWorkflowTasks array*/\n                      wherecontains(\n                        ri!selectedCaseTypeWorkflowTaskUuid,\n                        ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask][recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n                      ),\n                      /*The updated case type workflow task*/\n                      #\"urn:appian:function:v1:a:update\"(\n                        ri!selectedCaseTypeWorkflowTask,\n                        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sla,\n                        ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sla]\n                      )\n                    )\n                  )\n                },\n                validations: rule!CMGT_UTIL_ValidateSLA(value: index(local!sla, \"minutes\", \"\"))\n              )\n            }\n          )\n        }\n      ),\n      #\"SYSTEM_SYSRULES_checkboxField_v1\"(\n        choiceLabels: #\"urn:appian:translation-string:v1:759245e6-9b85-4710-831f-f11ad593d08a\",\n        choiceValues: true(),\n        labelPosition: \"COLLAPSED\",\n        value: if(\n          rule!CMGT_UTIL_IsNotBlank(\n            input: index(local!sla, \"isBusinessDays\", null)\n          ),\n          if(\n            index(local!sla, \"isBusinessDays\", null),\n            true(),\n            null\n          ),\n          null\n        ),\n        saveInto: {\n          a!save(\n            local!sla,\n            rule!CMGT_UTIL_ContructSLAMap(\n              hours: index(local!sla, \"hours\", \"\"),\n              minutes: index(local!sla, \"minutes\", \"\"),\n              days: index(local!sla, \"days\", \"\"),\n              isBusinessDays: save!value\n            )\n          ),\n          a!save(\n            ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sla],\n            if(\n              rule!CMGT_UTIL_IsNotBlank(local!sla),\n              #\"SYSTEM_SYSRULES_toJson_v1\"(local!sla),\n              null\n            )\n          ),\n          a!save(\n            ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n            #\"urn:appian:function:v1:a:update\"(\n              ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n              /*Index of the case type workflow task that we want to update in the caseTypeWorkflowTasks array*/\n              wherecontains(\n                ri!selectedCaseTypeWorkflowTaskUuid,\n                ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask][recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n              ),\n              /*The updated case type workflow task*/\n              #\"urn:appian:function:v1:a:update\"(\n                ri!selectedCaseTypeWorkflowTask,\n                recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sla,\n                ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sla]\n              )\n            )\n          )\n        },\n        disabled: local!isEmptySla\n      )\n    }\n  )\n)",
  "calls": [
    {
      "name": "CMGT_UTIL_ContructSLAMap",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_UTIL_isEmptySLA",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_UTIL_IsNotBlank",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_UTIL_ValidateSLA",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_WFL_CFG_CaseTypeWorkflowTask",
      "type": "Record Type",
      "dep_type": "USES_RECORD_TYPE"
    },
    {
      "name": "CMGT_CFG_CaseType",
      "type": "Record Type",
      "dep_type": "USES_RECORD_TYPE"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_CFG_TaskBehaviorType",
      "type": "Record Type",
      "dep_type": "USES_RECORD_TYPE"
    }
  ],
  "called_by": []
}
{
  "_metadata": {
    "bundle_id": "AS_GCM_Clause_Set_-_5"
  },
  "objects": {
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75618": {
      "name": "AS_CO_UT_left",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  if(\n    rule!AS_CO_UT_isBlank(ri!text),\n    \"\",\n    left(\n      ri!text,\n      rule!AS_CO_UT_replaceNull(nullableValue: ri!numChars, replacementValue: len(ri!text))\n    )\n  )\n)"
    },
    "_a-0000e828-e408-8000-9bf9-011c48011c48_2575639": {
      "name": "AS_GCM_ADT_BL_auditConfig_ClauseSetContractTypesHelper",
      "type": "Expression Rule",
      "sail_code": "{\n  fieldName: \"contractTypes\",\n  auditFieldName: \"contractTypeChanges\",\n  idField: \"mappingId\",\n  foreignIdField: \"setId\",\n  simpleFields: {},\n  complexFields: {}\n}"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_1021202": {
      "name": "AS_GAM_UT_ArrayLength",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!array),\n  0,\n  length(ri!array)\n)"
    },
    "_a-0000e615-fd0f-8000-9bc1-011c48011c48_1163937": {
      "name": "AS_GCM_QR_getRefClause",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryRecord(\n  recordType: recordType!AS GCM R Clause,\n  returnType: a!defaultValue(\n    value: ri!returnType,\n    default: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n  ),\n  executeWhen: and(\n    ri!executeWhen,\n    or(\n      any(\n        rule!AS_CO_UT_isNotBlank(_),\n        {\n          ri!additionalFilters,\n          ri!logicalExpression,\n          ri!aggregationFields\n        }\n      ),\n      rule!AS_CO_UT_isNotBlank(ri!clauseIds),\n      rule!AS_CO_UT_isNotBlank(ri!clauseNumbers),\n      ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_TOTAL_COUNT\n    )\n  ),\n  fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n    {\n      ri!fields,\n      if(\n        ri!includeRelatedRecords,\n        {\n          recordType!AS GCM R Clause.refFormat,\n          recordType!AS GCM R Clause.ucfSection,\n          recordType!AS GCM R Clause.refSource,\n          recordType!AS GCM R Clause.refType,\n          recordType!AS GCM R Clause.additionalSections\n        },\n        {}\n      )\n    }\n  ),\n  /* To ensure proper null checks, we'll force all queryFilter values to not be null */\n  logicalExpression: ri!logicalExpression,\n  pagingInfo: ri!pagingInfo,\n  triggerRefresh: ri!triggerRefresh,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM R Clause.clauseId,\n      operator: \"in\",\n      value: ri!clauseIds\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM R Clause.clauseNumber,\n      operator: \"in\",\n      value: ri!clauseNumbers\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM R Clause.clauseNumberWithAlternate,\n      operator: \"in\",\n      value: #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!alternateValues,\n        expression: joinarray({ ri!clauseNumbers[1], fv!item }, \" | \")\n      ),\n      applyWhen: and(\n        /*  For Efficiency we enfore the ri!clauseNumbers value to be exactly 1     */\n        rule!AS_GAM_UT_ArrayLength(ri!clauseNumbers) = 1,\n        rule!AS_CO_UT_isNotBlank(ri!alternateValues)\n      )\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM R Clause.deviation,\n      operator: \"=\",\n      value: false,\n      applyWhen: rule!AS_CO_UT_booleanDefaultFalse(ri!excludeDeviations)\n    ),\n    ri!additionalFilters\n  },\n  aggregationFields: ri!aggregationFields,\n  relatedRecordData: ri!relatedRecordData\n)"
    },
    "_a-0000e61a-f20f-8000-9ba5-011c48011c48_53654": {
      "name": "AS_GCM_CO_UT_loadBundleFromFolder",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!lang: \"en_US\",\n/* below is deprecated for now, uncomment to support multi-language display */\n  /*if(*/\n    /*isnull(ri!langISOCode),*/\n    /*userlocale(loggedInUser()),*/\n    /*ri!langISOCode*/\n  /*),*/\n  local!bundleName: rule!AS_GCM_determineValueBySolutionFlavor(\n    options: cons!AS_GCM_TXT_VALID_SOLUTION_FLAVORS\n  ),\n  /*local!bundleName*/\n  local!output: loadbundlepropertiesfile(\n    cons!AS_GCM_FLD_PROPERTIES_FILES,\n    local!lang,\n    local!bundleName\n  )[local!bundleName],\n  local!output\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73758": {
      "name": "AS_CO_UT_distinct",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!value),\n  union({ri!value}, {ri!value})\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73660": {
      "name": "AS_CO_UT_displayUser",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  if(\n    rule!AS_CO_UT_checkIfUserExists(user: ri!user),\n    concat(fn!user(ri!user, \"firstName\"), \" \", fn!user(ri!user, \"lastName\")),\n    if(\n      and(ri!showHyphenIfValueNull = true, isnull(ri!user)),\n      \"-\",\n      ri!user\n    )\n  )\n)"
    },
    "0002e672-cd0e-8000-1b64-7f0000014e7a": {
      "name": "AS GCM Validate Clause Set",
      "type": "Process Model",
      "sail_code": "// Input: ?\n= rule!AS_GCM_UT_captureAuditForClauseSetDetails( initiator: pp!initiator, clauseSet: pv!clauseSet, originalClauseSet: pv!originalClauseSet, externalAction: if( pv!clauseSet.validationStatus = true(), cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_VALIDATE, cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_VALIDATION_FAILED ))\n\n// Output: ?\nrule!AS_GCM_BL_getClauseSetAuditIdFromStoredValues(storedValues:ac!StoredValues)\n\n// Output: ?\nrule!AS_GAM_UT_getExpectedOutputDataFromStoredValue(\n  storedValues: ac!StoredValues,\n  entity: cons!AS_GCM_ENT_A_R_CLAUSE_SET\n)\n\n// Input: ?\n= { if( rule!AS_CO_UT_isBlank(pv!clauseSet), {}, { entity: cons!AS_GCM_ENT_CLAUSE_SET, data: pv!clauseSet } ), if( rule!AS_CO_UT_isBlank(pv!clauseSetClauses), {}, { entity: cons!AS_GCM_ENT_CLAUSE_SET_CLAUSE, data: pv!clauseSetClauses } )}\n\n// Output: ?\nrule!AS_GCM_UT_updateClauseSetDetailsOnValidateClauseSet(\n  clauseSet: pv!clauseSet,\n  initiator: pp!initiator\n)\n\n// Output: ?\nrule!AS_GCM_QE_getClauseSetDetails(\n  setId: pv!clauseSet.setId,\n  returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT,\n  executeWhen: true\n)\n\n// Output: ?\nrule!AS_GCM_QE_getClauseSetClauseDetailsWithBatching(\n  returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n  executeWhen: rule!AS_CO_UT_isNotBlank(pv!clauseSetClauses.relationId),\n  setId: pv!clauseSet.setId,\n  /* We are passing the relationId, As we need to get the updatedClause alone */\n  relationIds: pv!clauseSetClauses.relationId,\n  batchingSize: cons!AS_GCM_INT_QUERY_BATCH_SIZE_LARGE,\n  onlyGetFieldsForWrite: true()\n)\n\n// Input: ?\n=clauseSet\n\n// Input: ?\n=originalClauseSet\n\n// Input: ?\n=updatedClauseRelationIds\n\n// Input: ?\n=true\n\n// Input: ?\n=retainClauseRelationIds\n\n// Input: ?\n=clauseSetClauses\n\n// Input: ?\n=originalClauseSetClauses\n\n// Input: ?\n=pv!clauseSetAuditData\n\n// Input: ?\n=null()\n\n// Input: ?\n=cons!AS_GCM_ENT_A_R_CLAUSE_SET\n\n// Input: ?\n=pv!clauseSetAuditData\n\n// Input: ?\n=if( pv!clauseSet.refStatus.refDataId = cons!AS_GCM_REF_ID_CLAUSE_SET_STATUS_DRAFT, rule!AS_GCM_showConfirmationScreenForValidateAndFinalizeClauseSet(setId: pv!clauseSet.setId), false)\n\n// Output: ?\nif(\n  ac!showConfirmationScreen = true,\n  rule!AS_CO_UT_updateCdtFields(\n    cdt: pv!clauseSet,\n    fields: { \"validationStatus\", \"refStatus\" },\n    newValues: {\n      true,\n      rule!AS_GCM_QR_getRefData(\n        refDataId: {\n          cons!AS_GCM_REF_ID_CLAUSE_SET_STATUS_VALIDATED\n        },\n        doCastToCdt: true\n      )\n    }\n  ),\n  pv!clauseSet\n)\n\n// Output: ?\nif(\n  ac!showConfirmationScreen = true,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_VALIDATE,\n  pv!clauseSetAuditData.auditActionCode\n)\n\n// Input: ?\n=cons!AS_GCM_ENT_CLAUSE_SET\n\n// Input: ?\n=pv!clauseSet\n\n// Output: ?\nrule!AS_CO_UT_cast(\n  type: #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n    'type!{urn:com:appian:types:AS:GCM}AS_GCM_A_R_ClauseSet_Clause'\n  ),\n  value: rule!AS_CO_UT_indexPath(\n    cdt: rule!AS_GCM_QE_getClauseSetClauseAudits(\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(1, - 1),\n      clauseSetAuditId: pv!clauseSetAuditId,\n      executeWhen: rule!AS_CO_UT_isNotBlank(pv!clauseSetAuditId)\n    ),\n    field: \"data\"\n  )\n)\n\n// Output: ?\nrule!AS_CO_UT_rejectNullValuesFromArray(\n  {\n    if(\n      pv!originalClauseSet.validationStatus = true,\n      {},\n      'type!{urn:com:appian:types:AS:GCM}AS_GCM_A_R_ClauseSet_Field'(\n        clauseSetAuditId: pv!clauseSetAuditId,\n        fieldName: \"validationStatus\",\n        oldValue: pv!originalClauseSet.validationStatus,\n        newValue: true\n      )\n    ),\n    if(\n      pv!originalClauseSet.refStatus.refDataId = cons!AS_GCM_REF_ID_CLAUSE_SET_STATUS_DRAFT,\n      {},\n      'type!{urn:com:appian:types:AS:GCM}AS_GCM_A_R_ClauseSet_Field'(\n        clauseSetAuditId: pv!clauseSetAuditId,\n        fieldName: \"refStatus.refDataId\",\n        oldValue: pv!originalClauseSet.refStatus.refDataId,\n        newValue: cons!AS_GCM_REF_ID_CLAUSE_SET_STATUS_VALIDATED\n      )\n    )\n  }\n)"
    },
    "_a-0000ec0f-9de5-8000-9d75-011c48011c48_12361328": {
      "name": "AS_GCM_removeHiddenSpanTagsFromHtml",
      "type": "Expression Rule",
      "sail_code": "rule!AS_GCM_substituteListFromTextUsingReduce(\n  text: ri!text,\n  find: rule!AS_GCM_extractBalancedTagThatHasGivenText(\n    text: ri!text,\n    uniqueTextInTag: \"span hidden\"\n  ),\n  replaceAllInstances: true\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73624": {
      "name": "AS_CO_UT_compare",
      "type": "Expression Rule",
      "sail_code": "/*Do a \"fuzzy\" comparison where all we care about is the data*/\n/*This will match a list of variant/dictionary/cdt if their fields have the same values*/\ncast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  tostring(ri!value1) = tostring(ri!value2)\n)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1559515": {
      "name": "AS_GCM_UT_captureAuditForClauseSetClauseAndClauseTextForClauseAudit",
      "type": "Expression Rule",
      "sail_code": "/*No assertion: As the output involves Entity DSE*/\na!localVariables(\n  /*Getting the new value for clauseText from clause text QE*/\n  local!clauseTexts: rule!AS_GCM_QE_getClauseSetClauseTextsWithBatching(\n    relationIds: index(ri!clauses, \"relationId\", null)\n  ),\n  /*Constructing the original clause text CDT*/\n  local!originalClauseTexts: rule!AS_CO_UT_cast(\n    type: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_Clause_Text?list',\n    value: rule!AS_CO_UT_rejectNullValuesFromArray(\n      array: {\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!clauses,\n          expression: a!localVariables(\n            local!relationAuditIds: rule!AS_GAM_UT_queryEntityWithSelection(\n              entity: cons!AS_GCM_ENT_A_R_CLAUSE_SET_CLAUSE,\n              pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n                1,\n                - 1,\n                #\"SYSTEM_SYSRULES_sortInfo\"(\n                  field: \"relationAuditId\",\n                  ascending: false\n                )\n              ),\n              filters: {\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: \"relationId\",\n                  operator: \"=\",\n                  value: tointeger(index(fv!item, \"relationId\", \"\"))\n                )\n              },\n              selectionColumns: \"relationAuditId\"\n            ).data,\n            local!clauseText: if(\n              rule!AS_CO_UT_isBlank(local!relationAuditIds),\n              null,\n              a!flatten(\n                rule!AS_GAM_UT_queryEntityWithSelection(\n                  entity: cons!AS_GCM_ENT_A_R_CLAUSE_SET_CLAUSE_FIELD,\n                  pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n                    1,\n                    1,\n                    #\"SYSTEM_SYSRULES_sortInfo\"(\n                      field: \"relationAuditFieIdId\",\n                      ascending: false\n                    )\n                  ),\n                  filters: {\n                    #\"SYSTEM_SYSRULES_queryFilter\"(\n                      field: \"relationAuditId\",\n                      operator: \"in\",\n                      value: {\n                        tointeger(\n                          index(\n                            local!relationAuditIds,\n                            \"relationAuditId\",\n                            null\n                          )\n                        )\n                      }\n                    ),\n                    #\"SYSTEM_SYSRULES_queryFilter\"(\n                      field: \"fieldName\",\n                      operator: \"=\",\n                      value: \"clauseText\"\n                    )\n                  },\n                  selectionColumns: \"newValue\"\n                ).data\n              )\n            ),\n            if(\n              rule!AS_CO_UT_isBlank(local!clauseText),\n              null,\n              {\n                relationId: fv!item.relationId,\n                clauseText: if(\n                  rule!AS_CO_UT_isBlank(local!clauseText),\n                  null,\n                  local!clauseText.newValue\n                ),\n                isActive: true\n              }\n            )\n          )\n        )\n      }\n    )\n  ),\n  local!clausesAudit: rule!AS_GAM_ADT_UT_buildAuditEntityData(\n    auditParams: rule!AS_GCM_UT_clauseSetClauseStartAuditProcess_ParametersInCreateClauseSet(\n      initiator: ri!initiator,\n      clauses: ri!clauses,\n      originalClauses: ri!originalClauseSetClauses,\n      clauseTexts: local!clauseTexts,\n      originalClauseTexts: local!originalClauseTexts\n    ),\n    initiator: ri!initiator\n  ),\n  /* Calculating Clause Set Audit Action Code */\n  local!clauseSetAuditActionCode: if(\n    and(\n      ri!clauseSetAuditData.auditActionCode = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED,\n      rule!AS_CO_UT_isNotBlank(\n        wherecontains(\n          {\n            cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n            cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DEACTIVATE,\n            cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_ADD\n          },\n          touniformstring(\n            {\n              index(\n                local!clausesAudit,\n                \"auditActionCode\",\n                \"\"\n              )\n            }\n          )\n        )\n      )\n    ),\n    cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n    {}\n  ),\n  /*Audit will be written only if any of the field values are updated*/\n  {\n    if(\n      rule!AS_CO_UT_isBlank(local!clausesAudit),\n      {},\n      {\n        entity: cons!AS_GCM_ENT_A_R_CLAUSE_SET_CLAUSE,\n        data: rule!AS_CO_UT_cast(\n          type: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_A_R_ClauseSet_Clause?list',\n          value: rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n            cdt: local!clausesAudit,\n            fieldValuePairs: {\n              {\n                field: \"clauseSetAuditId\",\n                value: ri!clauseSetAuditData.clauseSetAuditId\n              }\n            }\n          )\n        )\n      }\n    ),\n    if(\n      rule!AS_CO_UT_isBlank(local!clauseSetAuditActionCode),\n      {},\n      {\n        entity: cons!AS_GCM_ENT_A_R_CLAUSE_SET_SIMPLE_WRITE,\n        data: rule!AS_CO_UT_cast(\n          type: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_A_R_ClauseSet_Simple_Write',\n          value: rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n            cdt: ri!clauseSetAuditData,\n            fieldValuePairs: {\n              field: \"auditActionCode\",\n              value: local!clauseSetAuditActionCode\n            }\n          )\n        )\n      }\n    )\n  }\n)"
    },
    "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3147338": {
      "name": "AS_GCM_QE_getClauseSetClauseDetailsWithBatching",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!relationIds: a!defaultValue(\n    value: ri!relationIds,\n    default: index(\n      rule!AS_GAM_UT_queryEntityWithSelection(\n        entity: cons!AS_GCM_ENT_CLAUSE_SET_CLAUSE,\n        pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(startIndex: 1, batchSize: - 1),\n        filters: {\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: \"setId\",\n            operator: \"=\",\n            value: ri!setId\n          ),\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: \"isActive\",\n            operator: \"=\",\n            value: true(),\n            applyWhen: ri!showInActive <> true()\n          ),\n          ri!additionalFilters\n        },\n        selectionColumns: { \"relationId\" },\n        logicalExpression: ri!logicalExpression,\n        triggerRefresh: ri!triggerRefresh,\n        executeWhen: and(\n          ri!executeWhen,\n          or(\n            any(\n              rule!AS_CO_UT_isNotBlank(_),\n              {\n                ri!additionalFilters,\n                ri!logicalExpression,\n                ri!aggregation\n              }\n            ),\n            a!isNotNullOrEmpty(ri!setId),\n            rule!AS_CO_UT_isNotBlank(ri!relationIds)\n          )\n        )\n      ).data,\n      \"relationId\",\n      {}\n    )\n  ),\n  local!batches: rule!AS_GCM_UT_getIdentifiersInBatches(\n    identifiers: local!relationIds,\n    batchingSize: a!defaultValue(\n      ri!batchingSize,\n      cons!AS_GCM_INT_QUERY_BATCH_SIZE_TINY\n    ),\n    returnType: ri!returnType,\n    pagingInfo: ri!pagingInfo\n  ),\n  local!selectionColumns: a!defaultValue(\n    value: ri!selectionColumns,\n    default: if(\n      ri!onlyGetFieldsForWrite = true(),\n      rule!AS_CO_UT_rejectNullValuesFromArray(\n        array: {\n          \"relationId\",\n          \"setId\",\n          \"refClause.clauseId\",\n          \"clauseTitle\",\n          \"retainedClauseTitle\",\n          \"alternateValue\",\n          \"section\",\n          \"refUsage.refDataId\",\n          \"refUsage.refLabel\",\n          \"refStatus.refDataId\",\n          \"refAddedVia.refDataId\",\n          \"effectiveDate\",\n          \"validationAction\",\n          \"retainedEffectiveDate\",\n          \"refFormat.refDataId\",\n          \"format.refDataId\",\n          \"refReasonForRemoval\",\n          \"justificationForRemoval\",\n          \"isEditedViaEditClause\",\n          \"isClauseUpdated\",\n          \"isRemovedManually\",\n          \"createdBy\",\n          \"createdDatetime\",\n          \"modifiedBy\",\n          \"modifiedDatetime\",\n          \"isActive\",\n          ri!selectAdditionalFieldsForWrite\n        }\n      ),\n      {}\n    )\n  ),\n  local!data: if(\n    rule!AS_CO_UT_isBlank(local!relationIds),\n    {},\n    a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!batches,\n        expression: if(\n          and(\n            rule!AS_CO_UT_isNotBlank(input: local!selectionColumns),\n            rule!AS_CO_UT_isBlank(value: ri!aggregation)\n          ),\n          rule!AS_GCM_UT_nullifyEmptyNestedCdtFields(\n            cdt: rule!AS_CO_UT_cast(\n              type: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_Clause?list',\n              value: rule!AS_GAM_UT_queryEntityWithSelection(\n                entity: cons!AS_GCM_ENT_CLAUSE_SET_CLAUSE,\n                entityType: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_Clause',\n                returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n                pagingInfo: a!defaultValue(\n                  value: ri!pagingInfo,\n                  default: #\"SYSTEM_SYSRULES_pagingInfo\"(\n                    startIndex: 1,\n                    batchSize: count(fv!item.identifiers),\n                    sort: #\"SYSTEM_SYSRULES_sortInfo\"(field: \"relationId\", ascending: true())\n                  )\n                ),\n                filters: {\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: \"relationId\",\n                    operator: \"in\",\n                    value: tointeger(fv!item.identifiers)\n                  ),\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: \"isActive\",\n                    operator: \"=\",\n                    value: true(),\n                    applyWhen: ri!showInActive <> true()\n                  ),\n                  ri!additionalFilters\n                },\n                selectionColumns: local!selectionColumns,\n                logicalExpression: ri!logicalExpression,\n                triggerRefresh: ri!triggerRefresh,\n                executeWhen: and(\n                  ri!executeWhen,\n                  rule!AS_CO_UT_isNotBlank(input: fv!item.identifiers)\n                )\n              ).data\n            )\n          ),\n          rule!AS_GCM_QE_getClauseSetClauseDetails(\n            relationId: fv!item.identifiers,\n            returnType: a!defaultValue(\n              value: ri!returnType,\n              default: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n            ),\n            executeWhen: rule!AS_CO_UT_isNotBlank(input: fv!item.identifiers),\n            aggregation: ri!aggregation,\n            logicalExpression: ri!logicalExpression,\n            additionalFilters: ri!additionalFilters,\n            pagingInfo: ri!pagingInfo,\n            triggerRefresh: ri!triggerRefresh,\n            sort: ri!sort,\n            showInActive: ri!showInActive\n          )\n        )\n      )\n    )\n  ),\n  rule!AS_GCM_UT_formatDataBasedOnReturnType(\n    data: local!data,\n    pagingInfo: ri!pagingInfo,\n    returnType: ri!returnType\n  )\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_28158": {
      "name": "AS_CO_UT_captureMetadata",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  with(\n    local!modifiedBy: rule!AS_CO_UT_replaceNull(\n      nullableValue: ri!modifiedBy, \n      replacementValue: loggedInUser()\n    ),\n    local!cdtFields: rule!AS_CO_UT_returnCdtFields(typeOf: ri!cdt),\n    local!possibleMetaDataFields: touniformstring(\n      /*These fields should always exist in any CDT for which metadata is captured*/\n      \"modifiedDatetime\",\n      \"modifiedBy\",\n      \"createdDatetime\",\n      \"createdBy\",\n      /*These fields may not exist in every CDT for which metadata is captured*/\n      \"isDeleted\",\n      \"isActive\"\n    ),\n    local!capturedMetadataFields: intersection(\n      local!cdtFields,\n      local!possibleMetaDataFields\n    ),\n    a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!cdt,\n        expression: {\n          rule!AS_CO_UT_updateCdtFields(\n            cdt: fv!item,\n            fields: local!capturedMetadataFields,\n            newValues: rule!AS_CO_UT_displayValueMultiple(\n              values: local!capturedMetadataFields,\n              inArray: local!possibleMetaDataFields,\n              replacement: {\n                now(),\n                local!modifiedBy,\n                rule!AS_CO_UT_replaceNull(\n                  nullableValue: index(fv!item, \"createdDatetime\", null),\n                  replacementValue: now()\n                ),\n                rule!AS_CO_UT_replaceNull(\n                  nullableValue: index(fv!item, \"createdBy\", null),\n                  replacementValue: local!modifiedBy\n                ),\n                rule!AS_CO_UT_booleanDefaultFalse(\n                  boolean: index(fv!item, \"isDeleted\", null)\n                ),\n                rule!AS_CO_UT_booleanDefaultTrue(boolean: index(fv!item, \"isActive\", null))\n              }\n            )\n          )\n        }\n      )\n    )\n  )\n)"
    },
    "_a-0000e9e2-fe39-8000-9c72-011c48011c48_5802508": {
      "name": "AS_CO_UT_isRecordTypeData",
      "type": "Expression Rule",
      "sail_code": "/*Returns true if the given data is of type recordType, else returns false*/\nif(\n  find(\n    \"urn:com:appian:recordtype\",\n    toxml(ri!data)\n  ) <> 0,\n  true(),\n  false()\n)"
    },
    "_a-0000e61a-f20f-8000-9ba5-011c48011c48_53662": {
      "name": "AS_GAM_CO_I18N_UT_displayLabel",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Text',\n  a!localVariables(\n    local!result: a!refreshVariable(\n      value: if(\n        rule!AS_CO_UT_isBlank(ri!bundleKey),\n        null,\n        if(\n          rule!AS_CO_UT_isBlank(ri!arguments),\n          rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!bundle[ri!bundleKey],\n            replacementValue: ri!bundleKey\n          ),\n          rule!AS_GAM_CO_I18N_UT_replaceArguments(\n            bundleKey: ri!bundle[ri!bundleKey],\n            arguments: ri!arguments\n          )\n        )\n      ),\n      refreshAlways: true\n    ),\n    local!result\n  )\n)"
    },
    "_a-0000e79a-fc04-8000-9bf4-011c48011c48_2075659": {
      "name": "AS_GCM_UT_findFillIns",
      "type": "Expression Rule",
      "sail_code": "if(\n  find(\"<tbody\", ri!fillInText),\n  /*    if grids are detected they will be skipped*/\n  null,\n  if(\n    find(\"<cite\", ri!fillInText),\n    a!localVariables(\n      local!valueMap: rule!AS_GCM_findFillinValue(fillInText: ri!fillInText),\n      local!cite: regexallmatches(\"<cite(.*?)</cite>\", ri!fillInText),\n      rule!AS_GCM_mergeMultipleMapsIntoSingleMap(\n        mapsToMerge: {\n          a!map(\n            cite: local!cite,\n            start: local!valueMap.start + if(\n              rule!AS_CO_UT_isBlank(value: ri!length),\n              0,\n              ri!length\n            ),\n            end: local!valueMap.end + if(\n              rule!AS_CO_UT_isBlank(value: ri!length),\n              0,\n              ri!length\n            ),\n            value: local!valueMap.value\n          ),\n          rule!AS_GCM_extractUuidAndFillinTypeFromClassParameter(citeOrHighlightTag: local!cite)\n        }\n      )\n    ),\n    null\n  )\n)"
    },
    "_a-0000e3ff-a5bc-8000-9ba8-011c48011c48_39610": {
      "name": "AS_CO_UT_returnArrayTypeNumber",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer',\n  typeof(\n    a!flatten(\n      rule!AS_CO_UT_cast(\n        type: ri!type,\n        typeOf: ri!typeOf,\n        value: null\n      )\n    )\n  )\n)"
    },
    "_a-0000e915-02bc-8000-9c1f-011c48011c48_3773464": {
      "name": "AS_GCM_extractUuidAndFillinTypeFromClassParameter",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNotNullOrEmpty(ri!citeOrHighlightTag),\n  a!localVariables(\n    local!isTableFillIn: if(\n      rule!AS_CO_UT_isBlank(ri!tables),\n      false,\n      or(\n        find(\n          rule!AS_GCM_removeHiddenSpanTagsFromHtml(ri!citeOrHighlightTag),\n          tostring(ri!tables)\n        ) > 0,\n        find(\n          ri!citeOrHighlightTag,\n          tostring(ri!tables)\n        ) > 0\n      )\n    ),\n    local!class: regexfirstmatch(\n      \"class=\"\"(.*?)\"\"\",\n      ri!citeOrHighlightTag\n    ),\n    local!uuidAndTypeSplit: split(\n      regexreplaceall(\"class=\"\"cite |\"\"\", local!class, \"\"),\n      \" \"\n    ),\n    /*Checking whether the first item has only alphabets*/\n    local!isFirstItemFillinType: regexmatch(\n      \"^[a-zA-Z]+$\",\n      local!uuidAndTypeSplit[1]\n    ),\n    a!map(\n      uuid: if(\n        local!isFirstItemFillinType,\n        \"\",\n        local!uuidAndTypeSplit[1]\n      ),\n      fillinType: a!defaultValue(\n        value: ri!fillinType,\n        default: a!match(\n          value: local!uuidAndTypeSplit,\n          whenTrue: local!isTableFillIn,\n          then: cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_TABLE,\n          whenTrue: local!isFirstItemFillinType,\n          then: fv!value[1],\n          default: index(fv!value, 2, \"\")\n        )\n      )\n    )\n  ),\n  \"\"\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_112825": {
      "name": "AS_CO_UT_toString",
      "type": "Expression Rule",
      "sail_code": "if(\n/* to prevent modulus from breaking */\n  isnull(ri!value),\n  ri!value,\n  if(\n    todecimal(ri!value) = tostring(ri!value),\n    if(\n      mod(ri!value, 1) = 0,\n      text(\n        todecimal(ri!value), \"##\"\n      ),\n      text(\n        todecimal(ri!value), \"##.##\"\n      )\n    ),\n    ri!value\n  )\n)"
    },
    "_a-0000e643-f7f1-8000-9bca-011c48011c48_1405827": {
      "name": "AS_GCM_GRD_versionErrorClauses",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!currentData: a!refreshVariable(\n    value: #\"SYSTEM_SYSRULES_forEach\"(\n      items: rule!AS_CO_UT_filterCdtByField(\n        cdt: ri!updatedClauses,\n        field: \"isClauseUpdated\",\n        value: true()\n      ),\n      expression: a!localVariables(\n        local!newClause: cast(\n          'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Clause',\n          rule!AS_CO_UT_filterCdtByField(\n            cdt: ri!newClauses,\n            field: \"clauseId\",\n            value: fv!item.refClause.clauseId\n          )\n        ),\n        local!section: index(\n          rule!AS_GCM_filterRecords(\n            records: ri!rClauseSectionMappings,\n            field: recordType!AS GCM R Clause Section Mapping.clauseId,\n            value: fv!item.refClause.clauseId\n          ),\n          recordType!AS GCM R Clause Section Mapping.refSection,\n          null\n        ),\n        a!map(\n          relationId: fv!item.relationId,\n          type: \"\",\n          oldClauses: rule!AS_GCM_DSP_clauseRecordTitle(\n            clauseNumber: fv!item.refClause.clauseNumber,\n            clauseTitle: fv!item.clauseTitle,\n            clauseTitleLength: cons!AS_GCM_ENUM_MAX_LENGTH_CLAUSE_TITLE_IN_VALIDATE_FINALIZE_ACTION,\n            alternateValue: fv!item.alternateValue,\n            deviation: fv!item.refClause.deviation\n          ),\n          newClauses: rule!AS_GCM_DSP_clauseRecordTitle(\n            clauseNumber: local!newClause.clauseNumber,\n            clauseTitle: local!newClause.clauseTitle,\n            clauseTitleLength: cons!AS_GCM_ENUM_MAX_LENGTH_CLAUSE_TITLE_IN_VALIDATE_FINALIZE_ACTION,\n            alternateValue: local!newClause.alternateValue,\n            deviation: local!newClause.deviation\n          ),\n          oldClauseTitle: fv!item.clauseTitle,\n          newClauseTitle: local!newClause.clauseTitle,\n          oldEffective: fv!item.effectiveDate,\n          newEffective: local!newClause.effectiveDate,\n          oldLastUpdated: fv!item.modifiedDatetime,\n          newLastUpdated: local!newClause.modifiedDatetime,\n          clauseStatus: fv!item.refStatus.refDataId,\n          newAlternateValue: local!newClause.alternateValue,\n          newSection: if(\n            rule!AS_CO_UT_booleanDefaultFalse(ri!isNotUcf),\n            rule!AS_CO_UT_cast(\n              type: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Section',\n              value: local!section\n            ),\n            local!newClause.ucfSection\n          )\n        )\n      )\n    ),\n    refreshOnVarChange: ri!updatedClauses\n  ),\n  {\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      labelPosition: \"COLLAPSED\",\n      value: {\n        #\"SYSTEM_SYSRULES_richTextHeader\"(\n          text: {\n            \"\"\n          },\n          size: \"SMALL\"\n        ),\n        \"\"\n      }\n    ),\n    #\"SYSTEM_SYSRULES_cardLayout\"(\n      contents: {\n        #\"SYSTEM_SYSRULES_gridField_v3\"(\n          label: \"\",\n          labelPosition: \"COLLAPSED\",\n          rowHeader: 2,\n          emptyGridMessage: \"\",\n          data: todatasubset(local!currentData, fv!pagingInfo),\n          columns: {\n            #\"SYSTEM_SYSRULES_gridColumn\"(\n              label: \"\",\n              value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                value: {\n                  \"\",\n                  char(10),\n                  \"\"\n                }\n              ),\n              width: \"NARROW\",\n              align: \"START\"\n            ),\n            #\"SYSTEM_SYSRULES_gridColumn\"(\n              label: \"\",\n              sortField: \"oldClauses\",\n              value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                value: {\n                  fv!row.oldClauses,\n                  char(10),\n                  fv!row.newClauses\n                }\n              ),\n              width: \"AUTO\"\n            ),\n            #\"SYSTEM_SYSRULES_gridColumn\"(\n              label: \"\",\n              sortField: \"oldEffective\",\n              value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                value: {\n                  fv!row.oldEffective,\n                  char(10),\n                  fv!row.newEffective\n                }\n              ),\n              align: \"END\",\n              width: \"NARROW_PLUS\"\n            ),\n            #\"SYSTEM_SYSRULES_gridColumn\"(\n              label: \"\",\n              sortField: \"oldLastUpdated\",\n              value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                value: {\n                  rule!AS_CO_UT_formatDateTime(local(fv!row.oldLastUpdated, \"EDT\")),\n                  char(10),\n                  rule!AS_CO_UT_formatDateTime(local(fv!row.newLastUpdated, \"EDT\"))\n                }\n              ),\n              align: \"END\",\n              width: \"NARROW_PLUS\"\n            ),\n            #\"SYSTEM_SYSRULES_gridColumn\"(\n              label: \"\",\n              value: a!localVariables(\n                local!retainDataCurrentRow: index(\n                  ri!tempDataForRetain,\n                  wherecontains(\n                    touniformstring(fv!row.relationId),\n                    touniformstring(ri!tempDataForRetain.relationId)\n                  ),\n                  {}\n                ),\n                local!currentClauseIndex: wherecontains(\n                  fv!row.relationId,\n                  ri!updatedClauses.relationId\n                ),\n                #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                  value: {\n                    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                      text: if(\n                        ri!updatedClauses[local!currentClauseIndex].validationAction = \"\",\n                        \"\",\n                        \"\"\n                      ),\n                      link: if(\n                        or(\n                          ri!updatedClauses[local!currentClauseIndex].validationAction = \"\"\n                        ),\n                        {},\n                        #\"SYSTEM_SYSRULES_dynamicLink\"(\n                          value: \"\",\n                          saveInto: {\n                            a!save(\n                              ri!updatedClauses[local!currentClauseIndex].validationAction,\n                              \"\"\n                            ),\n                            a!save(\n                              ri!updatedClauses[local!currentClauseIndex].modifiedDatetime,\n                              now()\n                            ),\n                            a!save(\n                              ri!updatedClauses[local!currentClauseIndex].modifiedBy,\n                              loggedInUser()\n                            ),\n                            a!save(\n                              ri!updatedClauses[local!currentClauseIndex].effectiveDate,\n                              index(\n                                local!retainDataCurrentRow,\n                                \"effectiveDate\",\n                                {}\n                              )\n                            ),\n                            if(\n                              fv!row.newEffective = index(\n                                local!retainDataCurrentRow,\n                                \"effectiveDate\",\n                                {}\n                              ),\n                              null(),\n                              /*Retaining effective date to suppress future validation for same retained effective date*/\n                              a!save(\n                                ri!updatedClauses[local!currentClauseIndex].retainedEffectiveDate,\n                                fv!row.newEffective\n                              )\n                            ),\n                            a!save(\n                              ri!updatedClauses[local!currentClauseIndex].clauseTitle,\n                              index(\n                                local!retainDataCurrentRow,\n                                \"clauseTitle\",\n                                {}\n                              )\n                            ),\n                            a!save(\n                              ri!updatedClauses[local!currentClauseIndex].alternateValue,\n                              index(\n                                local!retainDataCurrentRow,\n                                \"alternateValue\",\n                                {}\n                              )\n                            ),\n                            a!save(\n                              ri!updatedClauses[local!currentClauseIndex].section,\n                              index(\n                                local!retainDataCurrentRow,\n                                \"section\",\n                                {}\n                              )\n                            ),\n                            if(\n                              fv!row.newClauseTitle = index(\n                                local!retainDataCurrentRow,\n                                \"clauseTitle\",\n                                {}\n                              ),\n                              null(),\n                              {\n                                /*Retaining clause title to suppress future validation for same retained clause title*/\n                                a!save(\n                                  ri!updatedClauses[local!currentClauseIndex].retainedClauseTitle,\n                                  fv!row.newClauseTitle\n                                )\n                              }\n                            ),\n                            a!save(\n                              ri!updatedClauses[local!currentClauseIndex].refStatus,\n                              index(\n                                local!retainDataCurrentRow,\n                                \"refStatus\",\n                                {}\n                              )\n                            )\n                          }\n                        )\n                      ),\n                      linkStyle: \"STANDALONE\",\n                      style: \"STRONG\"\n                    ),\n                    char(10),\n                    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                      text: if(\n                        ri!updatedClauses[local!currentClauseIndex].validationAction = \"\",\n                        \"\",\n                        \"\"\n                      ),\n                      link: if(\n                        or(\n                          ri!updatedClauses[local!currentClauseIndex].validationAction = \"\"\n                        ),\n                        {},\n                        #\"SYSTEM_SYSRULES_dynamicLink\"(\n                          value: \"\",\n                          saveInto: {\n                            a!save(\n                              ri!updatedClauses[local!currentClauseIndex].effectiveDate,\n                              fv!row.newEffective\n                            ),\n                            a!save(\n                              ri!updatedClauses[local!currentClauseIndex].clauseTitle,\n                              fv!row.newClauseTitle\n                            ),\n                            a!save(\n                              ri!updatedClauses[local!currentClauseIndex].alternateValue,\n                              fv!row.newAlternateValue\n                            ),\n                            a!save(\n                              ri!updatedClauses[local!currentClauseIndex].section,\n                              rule!AS_CO_UT_captureMetadata(\n                                cdt: rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n                                  cdt: ri!updatedClauses[local!currentClauseIndex].section,\n                                  fieldValuePairs: {\n                                    {\n                                      field: \"refSection\",\n                                      value: fv!row.newSection\n                                    },\n                                    {\n                                      field: \"sectionLabel\",\n                                      value: fv!row.newSection.sectionLabel\n                                    }\n                                  }\n                                ),\n                                modifiedBy: loggedInUser()\n                              )\n                            ),\n                            /*Saving the old retainedEffectiveDate if the value is updated*/\n                            if(\n                              fv!row.newEffective = ri!updatedClauses[local!currentClauseIndex].retainedEffectiveDate,\n                              a!save(\n                                ri!updatedClauses[local!currentClauseIndex].retainedEffectiveDate,\n                                index(\n                                  local!retainDataCurrentRow,\n                                  \"retainedEffectiveDate\",\n                                  {}\n                                )\n                              ),\n                              null()\n                            ),\n                            /*Saving the old retainedClauseTitle if the value is updated*/\n                            if(\n                              fv!row.newClauseTitle = ri!updatedClauses[local!currentClauseIndex].retainedClauseTitle,\n                              a!save(\n                                ri!updatedClauses[local!currentClauseIndex].retainedClauseTitle,\n                                index(\n                                  local!retainDataCurrentRow,\n                                  \"retainedClauseTitle\",\n                                  {}\n                                )\n                              ),\n                              null()\n                            ),\n                            a!save(\n                              ri!updatedClauses[local!currentClauseIndex].modifiedDatetime,\n                              now()\n                            ),\n                            a!save(\n                              ri!updatedClauses[local!currentClauseIndex].modifiedBy,\n                              loggedInUser()\n                            ),\n                            a!save(\n                              ri!updatedClauses[local!currentClauseIndex].validationAction,\n                              \"\"\n                            ),\n                            a!save(\n                              ri!updatedClauses[local!currentClauseIndex].refStatus.refDataId,\n                              rule!AS_GCM_BL_returnClauseSetClauseStatusId(\n                                isEditable: rule!AS_CO_UT_indexPath(\n                                  cdt: ri!updatedClauses[local!currentClauseIndex],\n                                  field: \"refClause.editable\",\n                                  indexDefault: null\n                                ),\n                                isFillin: rule!AS_CO_UT_indexPath(\n                                  cdt: ri!updatedClauses[local!currentClauseIndex],\n                                  field: \"refClause.fillIn\",\n                                  indexDefault: null\n                                ),\n                                formatId: rule!AS_CO_UT_indexPath(\n                                  cdt: ri!updatedClauses[local!currentClauseIndex],\n                                  field: \"format.refDataId\",\n                                  indexDefault: null\n                                )\n                              )\n                            )\n                          }\n                        )\n                      ),\n                      linkStyle: \"STANDALONE\",\n                      style: \"STRONG\"\n                    )\n                  }\n                )\n              ),\n              width: \"NARROW_PLUS\"\n            )\n          },\n          pageSize: cons!AS_CO_ENUM_PAGE_SIZE_MEDIUM_LARGE,\n          initialSorts: #\"SYSTEM_SYSRULES_sortInfo\"(field: \"oldClauses\", ascending: true()),\n          spacing: \"STANDARD\",\n          borderStyle: \"LIGHT\"\n        )\n      },\n      height: \"AUTO\",\n      style: \"NONE\",\n      padding: \"NONE\",\n      marginBelow: \"STANDARD\"\n    )\n  }\n)"
    },
    "_a-0000e8e8-3f98-8000-9ba5-011c48011c48_13321": {
      "name": "AS_GCM_UT_regexsearch",
      "type": "Expression Rule",
      "sail_code": "/*\nThis rule is used to handle the weird behaviour seen sometimes in the regexsearch function where the returned data is not indexable or erroring out. \nTo fix this we are explicitly casting to make it proper.\n*/\n#\"SYSTEM_SYSRULES_forEach\"(\n  items: regexsearch(\n    ri!pattern,\n    ri!searchString,\n    ri!regexFlag,\n    ri!returnGroups\n  ),\n  expression: a!map(\n    match: touniformstring(index(fv!item, \"match\", \"\")),\n    startPosition: tointeger(index(fv!item, \"startPosition\", null)),\n    endPosition: tointeger(index(fv!item, \"endPosition\", null)),\n    groups: rule!AS_CO_UT_castToDictionaryList(index(fv!item, \"groups\", null))\n  )\n)"
    },
    "_a-0000e3ff-a5bc-8000-9ba8-011c48011c48_39082": {
      "name": "AS_CO_UT_booleanDefaultTrue",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  if(\n    isnull(ri!boolean),\n    true,\n    ri!boolean\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75636": {
      "name": "AS_CO_UT_not",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  not(rule!AS_CO_UT_booleanDefaultFalse(ri!input))\n)\n\n/*True returns False*/\n/*False returns True*/\n/*Null returns True*/"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_165782-adt": {
      "name": "AS_ADT_UT_calculateAudit_MultipleObjects",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Get the distinct IDs*/\n  local!distinctIds: rule!AS_CO_UT_distinct(\n    tointeger(\n      {\n        index(\n          ri!originalObjects,\n          ri!auditConfig.idField,\n          {}\n        ),\n        index(\n          ri!newObjects,\n          ri!auditConfig.idField,\n          {}\n        )\n      }\n    )\n  ),\n  if(\n    rule!AS_CO_UT_isBlank(local!distinctIds),\n    {},\n    /*This flatten converts to a list of dictionary, which prevents odd behavior in the parent*/\n    a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!distinctIds,\n        expression: a!flatten(\n          rule!AS_ADT_UT_calculateAudit_SingleObject(\n            originalObject: index(\n              rule!AS_CO_UT_filterCdtByField(\n                cdt: ri!originalObjects,\n                field: ri!auditConfig.idField,\n                value: fv!item\n              ),\n              1,\n              {}\n            ),\n            newObject: index(\n              rule!AS_CO_UT_filterCdtByField(\n                cdt: ri!newObjects,\n                field: ri!auditConfig.idField,\n                value: fv!item\n              ),\n              1,\n              {}\n            ),\n            auditConfig: ri!auditConfig,\n            username: ri!username,\n            externalAction: ri!externalAction,\n            auditType: ri!auditType\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_157870": {
      "name": "AS_CO_UT_queryEntity",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS ON HOW TO USE\n\nPlease DO NOT auto-format this rule\n\n*/\n/*Error handling for invalid returnType or entityType*/\nif(\n  rule!AS_CO_UT_isBlank(ri!returnType),\n  fn!error(\n    concat(\n      \"Null `returnType` passed to AS_CO_UT_queryEntity for entityType `\",\n      ri!entityType,\n      \"`.  See documentation in AS_CO_UT_queryEntity for further information on how to use this parameter.\"\n    )\n  ),\n  if(\n    not(\n      contains(\n        rule!AS_CO_CONS_QE_RETURN_TYPES(),\n        ri!returnType\n      )\n    ),\n    fn!error(\n      concat(\n        \"Unknown `returnType` (\",\n        ri!returnType,\n        \") passed to AS_CO_UT_queryEntity for entityType `\",\n        ri!entityType,\n        \"`.  See documentation in AS_CO_UT_queryEntity for further information on how to use this parameter.\"\n      )\n    ),\n    if(\n      rule!AS_CO_UT_isBlank(ri!entityType),\n      fn!error(\n        concat(\n          \"Null `entityType` passed to AS_CO_UT_queryEntity for entity `\",\n          ri!entity,\n          \"`.  See documentation in AS_CO_UT_queryEntity for further information on how to use this parameter.\"\n        )\n      ),\n      if(\n        and(\n          ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n          rule!AS_CO_UT_isBlank(ri!pagingInfo)\n        ),\n        fn!error(\n          concat(\n            \"`pagingInfo` is required (cannot be null) for `returnType` DATA_SUBSET\"\n          )\n        ),\n        if(\n          and(\n            ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n            rule!AS_CO_UT_isNotBlank(ri!pagingInfo)\n          ),\n          fn!error(\n            concat(\n              \"`pagingInfo` must be null when the `returnType` is not DATA_SUBSET, instead use `sort` to pass custom sorting, `batchSize` to pass custom batch size, and `startIndex` & `batchSize` (if null) will be automatically calculated for you\"\n            )\n          ),\n          if(\n            and(\n              ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n              rule!AS_CO_UT_isBlank(ri!aggregation)\n            ),\n            fn!error(\n              \"You must provide an input for `aggregation` when `returnType` is AGGREGATION\"\n            ),\n            if(\n              and(\n                not(\n                  contains(\n                    {\n                      cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n                      cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET\n                    },\n                    ri!returnType\n                  )\n                ),\n                rule!AS_CO_UT_isNotBlank(ri!aggregation)\n              ),\n              fn!error(\n                \"You cannot provide an input for `aggregation` when `returnType` is not AGGREGATION or DATA_SUBSET\"\n              ),\n              a!localVariables(\n                /*Determine the castResultToType*/\n                local!castResultToType: rule!AS_CO_UT_displayValue(\n                  value: ri!returnType,\n                  inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n                  replacement: {\n                    /*DATA_SUBSET*/'type!{http://www.appian.com/ae/types/2009}DataSubset',\n                    /*SINGLE_OBJECT*/ri!entityType,\n                    /*OBJECT_ARRAY*/rule!AS_CO_UT_returnArrayTypeNumber(type: ri!entityType),\n                    /*AGGREGATION*/'type!{http://www.appian.com/ae/types/2009}Map?list',\n                    /*TOTAL_COUNT*/'type!{http://www.appian.com/ae/types/2009}Integer',\n                    \n                  }\n                ),\n                /*Determine the batchSize*/\n                local!batchSize: rule!AS_CO_UT_displayValue(\n                  value: ri!returnType,\n                  inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n                  replacement: {\n                    /*DATA_SUBSET*/ri!pagingInfo.batchSize,\n                    /*SINGLE_OBJECT*/1,\n                    /*OBJECT_ARRAY*/rule!AS_CO_UT_replaceNull(\n                      nullableValue: ri!batchSize,\n                      replacementValue: cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE\n                    ),\n                    /*AGGREGATION*/rule!AS_CO_UT_replaceNull(\n                      nullableValue: ri!batchSize,\n                      replacementValue: cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE\n                    ),\n                    /*TOTAL_COUNT*/0,\n                    \n                  }\n                ),\n                /*Determine the sort*/\n                local!sort: rule!AS_CO_UT_zInternal_queryEntity_determineSort(\n                  entityType: ri!entityType,\n                  returnType: ri!returnType,\n                  pagingInfo: ri!pagingInfo,\n                  sort: ri!sort,\n                  isAggregation: rule!AS_CO_UT_isNotBlank(ri!aggregation)\n                ),\n                /*Determine the pagingInfo*/\n                local!pagingInfo: if(\n                  ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n                  /*Use specific pagingInfo for DATA_SUBSET*/\n                  #\"SYSTEM_SYSRULES_pagingInfo\"(\n                    startIndex: ri!pagingInfo.startIndex,\n                    batchSize: ri!pagingInfo.batchSize,\n                    sort: local!sort\n                  ),\n                  /*Otherwise calculate pagingInfo for all other returnTypes*/\n                  #\"SYSTEM_SYSRULES_pagingInfo\"(\n                    startIndex: 1,\n                    batchSize: local!batchSize,\n                    sort: local!sort\n                  )\n                ),\n                /*Determine the fetchTotalCount*/\n                local!fetchTotalCount: rule!AS_CO_UT_displayValue(\n                  value: ri!returnType,\n                  inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n                  replacement: {\n                    /*DATA_SUBSET*/true,\n                    /*SINGLE_OBJECT*/false,\n                    /*OBJECT_ARRAY*/false,\n                    /*AGGREGATION*/false,\n                    /*TOTAL_COUNT*/true,\n                    \n                  }\n                ),\n                /*Execute the query*/\n                local!queryResult: a!refreshVariable(\n                  value: if(\n                    ri!executeWhen = false,\n                    null,\n                    #\"SYSTEM_SYSRULES_queryEntity_v1\"(\n                      entity: ri!entity,\n                      fetchTotalCount: local!fetchTotalCount,\n                      query: #\"SYSTEM_SYSRULES_query\"(\n                        pagingInfo: local!pagingInfo,\n                        aggregation: ri!aggregation,\n                        selection: if(\n                          and(\n                            ri!excludeNestedCdts = true,\n                            rule!AS_CO_UT_isBlank(ri!aggregation)\n                          ),\n                          #\"SYSTEM_SYSRULES_querySelection\"(\n                            columns: #\"SYSTEM_SYSRULES_forEach\"(\n                              items: rule!AS_CO_UT_returnCdtFields(\n                                type: ri!entityType,\n                                onlyPrimitiveFields: true\n                              ),\n                              expression: #\"SYSTEM_SYSRULES_queryColumn\"(field: fv!item)\n                            )\n                          ),\n                          null\n                        ),\n                        logicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                          operator: \"AND\",\n                          logicalExpressions: {\n                            #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                              operator: \"AND\",\n                              ignoreFiltersWithEmptyValues: true,\n                              filters: rule!AS_CO_UT_replaceNull(\n                                nullableValue: ri!filters,\n                                replacementValue: {}\n                              )\n                            ),\n                            rule!AS_CO_UT_replaceNull(\n                              nullableValue: ri!logicalExpression,\n                              replacementValue: {}\n                            )\n                          }\n                        )\n                      )\n                    )\n                  ),\n                  refreshOnVarChange: ri!triggerRefresh,\n                  refreshAfter: { \"RECORD_ACTION\" }\n                ),\n                /*Parse the queryResult*/\n                local!queryResultParse: choose(\n                  rule!AS_CO_UT_chooseWherecontainsHelper(\n                    value: ri!returnType,\n                    inArray: rule!AS_CO_CONS_QE_RETURN_TYPES()\n                  ),\n                  /*Default, required value based on how AS_CO_UT_chooseWherecontainsHelper operates*/\"\",\n                  /*DATA_SUBSET*/local!queryResult,\n                  /*SINGLE_OBJECT*/local!queryResult.data,\n                  /*OBJECT_ARRAY*/local!queryResult.data,\n                  /*AGGREGATION*/local!queryResult.data,\n                  /*TOTAL_COUNT*/local!queryResult.totalCount,\n                  \n                ),\n                rule!AS_CO_UT_cast(\n                  type: local!castResultToType,\n                  value: local!queryResultParse\n                )\n              )\n            )\n          )\n        )\n      )\n    )\n  )\n)/*\n\nDOCUMENTATION\n\nThis rule is designed to minimize the overhead with querying data and then casting the result\n\n\nRequired Inputs:\n\n1. entity \n- This is the data store entity you are querying\n-- e.g. cons!AS_DATA_STORE_ENTITY_CASES\n\n2. entityType\n- This is a type! input of the data type which maps to the underlying data store entity\n- Note that your type! input should not end in parenthesis; this is NOT designed to take in an empty CDT\n-- e.g. 'type!{urn:com:appian:types}Case'\n\n3. returnType\n- This depends on the purpose for the query, and should be one of the returnTypes in rule!AS_CO_CONS_QE_RETURN_TYPES\n-- DATA_SUBSET - This will return a DataSubset; pagingInfo is required\n-- SINGLE_OBJECT - This will return a single CDT whose type is the entityType; pagingInfo must be null\n-- OBJECT_ARRAY - This will return an array of CDTs whos type is an array of the entityType; pagingInfo must be null\n-- AGGREGATION - This will return an array of Dictionaries; pagingInfo must be null\n---- NOTE: If you need Aggregation with paging controls, such as for a grid, use returnType DATA_SUBSET\n-- TOTAL_COUNT - This will return an Integer of the total count; pagingInfo must be null\n\n\nOptional Inputs:\n\n4. executeWhen\n- The query will not execute if this is false, the query will execute if this is true or null\n-- This is meant to operate in a similar manner to the showWhen parameter of components\n- Usethistoskipexecutionofaquerywithoutneedingtowrapif()statementsaroundtherule\n-- Examples of this would be to skip querying if your filter value is a null ID\n- If the query does not execute, this will return a null value whose type is based on the returnType input\n\n5. triggerRefresh\n- By default, the query will always re-execute whenever any inputs change\n- However, by updating the value of triggerRefresh, you can also trigger a re-execution even if none of the other inputs change\n\n6. excludeNestedCdts\n- When true, this will exclude all nested CDTs from the query selection, and only include primitive fields\n- When false or null, all fields will be included in the query, including all nested CDTs\n\n7. filters\n- Array of filters to apply to the query, built with a!queryFilter()\n- These filters will be applied with an AND operator\n- These filters will apply in addition to the logicalExpression input, combining both with an AND operator\n\n8. logicalExpression\n- A logical expression to apply to the query, built with a!queryLogicalExpression()\n- This logical expression will apply in addition to the filters input, combining both with an AND operator\n\n9. aggregation\n- Aggregation to apply to the query, built with a!queryAggregation()\n\n10. pagingInfo\n- Paging info to apply to the query, built with a!pagingInfo() or derived from fv!pagingInfo in grids\n- This is required if passing returnType DATA_SUBSET, otherwise it must be null\n- For returnTypes that are not DATA_SUBSET, the batch size will be automatically calculated depending on the returnType\n-- For example, passing SINGLE_OBJECT will automatically apply a batch size of 1, whereas OBJECT_ARRAY and AGGREGATION will automatically apply a batch size of -1\n\n11. sort\n- Array of sort to apply to the query, built with a!sortInfo()\n- This is meant to be used with returnType OBJECT_ARRAY and AGGREGATION, since pagingInfo is not required for these, but a specified sort may be used\n\n12. batchSize\n- Batch size to apply to the query\n- This is meant to be used with returnType OBJECT_ARRAY and AGGREGATION, since pagingInfo is not required for these, but a specified batchSize may be used\n\n*/"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9760853": {
      "name": "AS_GCM_setRecordFields",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!record),\n  ri!record,\n  a!localVariables(\n    local!allUpdates: rule!AS_CO_UT_rejectNullValuesFromArray(\n      a!flatten(\n        {\n          ri!alwaysOverwrite,\n          ri!childRelationships,\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!neverOverwrite,\n            expression: #\"urn:appian:function:v1:a:update\"(\n              fv!item,\n              \"value\",\n              /*Specifically using this instead of a!defaultValue() to account for the `{null}` value*/\n              rule!AS_CO_UT_replaceNull(\n                nullableValue: ri!record[fv!item.field],\n                replacementValue: fv!item.value\n              )\n            )\n          )\n        }\n      )\n    ),\n    local!onlyChangedUpdates: a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!allUpdates,\n        expression: if(\n          or(\n            tostring(ri!record[fv!item.field]) = tostring(fv!item.value),\n            toboolean(fv!item.applyWhen) = false\n          ),\n          {},\n          fv!item\n        )\n      )\n    ),\n    if(\n      a!isNullOrEmpty(local!onlyChangedUpdates),\n      ri!record,\n      #\"urn:appian:function:v1:a:update\"(\n        data: ri!record,\n        index: local!onlyChangedUpdates.field,\n        value: local!onlyChangedUpdates.value\n      )\n    )\n  )\n)"
    },
    "_a-0000e415-3035-8000-9bb2-011c48011c48_291284": {
      "name": "AS_CO_CONS_PRIMITIVE_TYPE_ARRAY",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Type?list',\n  {\n    /* 1*/ 'type!{http://www.appian.com/ae/types/2009}Text',\n    /* 2*/ 'type!{http://www.appian.com/ae/types/2009}Integer',\n    /* 3*/ 'type!{http://www.appian.com/ae/types/2009}Decimal',\n    /* 4*/ 'type!{http://www.appian.com/ae/types/2009}Boolean',\n    /* 5*/ 'type!{http://www.appian.com/ae/types/2009}Date',\n    /* 6*/ 'type!{http://www.appian.com/ae/types/2009}Datetime',\n    /* 7*/ 'type!{http://www.appian.com/ae/types/2009}Time',\n    /* 8*/ 'type!{http://www.appian.com/ae/types/2009}User',\n    /* 9*/ 'type!{http://www.appian.com/ae/types/2009}Group',\n    /*10*/ 'type!{http://www.appian.com/ae/types/2009}UserOrGroup',\n    /*11*/ 'type!{http://www.appian.com/ae/types/2009}Document',\n    /*12*/ 'type!{http://www.appian.com/ae/types/2009}Folder',\n  }\n)"
    },
    "_a-0000ec34-8724-8000-9d8b-011c48011c48_12668370": {
      "name": "AS_GCM_extractFillinMetadataFromClauseText",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(value: ri!clauseText),\n  { fillins: { metadata: {}, stats: {} } },\n  a!localVariables(\n    local!hiddenTag: regexfirstmatch(\n      cons!AS_GCM_TXT_REGEX_FOR_HIDDEN_SPAN_TAG_FILLIN_METADATA,\n      ri!clauseText,\n      \"gm\"\n    ),\n    local!formattedText: if(\n      a!isNotNullOrEmpty(local!hiddenTag),\n      striphtml(local!hiddenTag),\n      \"\"\n    ),\n    if(\n      and(\n        a!isNotNullOrEmpty(value: local!formattedText),\n        isvalidjson(local!formattedText)\n      ),\n      #\"SYSTEM_SYSRULES_fromJson_v1\"(local!formattedText),\n      { fillins: { metadata: {}, stats: {} } }\n    )\n  )\n)"
    },
    "_a-0000e9e2-fe39-8000-9c72-011c48011c48_5802259": {
      "name": "AS_GAM_filterCdtOrRecordDataByField",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdtOrRecord),\n  index(\n    a!flatten(ri!cdtOrRecord),\n    rule!AS_GAM_returnCdtOrRecordIndicesByField(\n      cdtOrRecord: ri!cdtOrRecord,\n      field: ri!field,\n      value: ri!value\n    ),\n    {}\n  )\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_87660": {
      "name": "AS_CO_UT_sortArray",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!array),\n  if(\n    rule!AS_CO_UT_isBlank(ri!array),\n    ri!array,\n    todatasubset(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!array,\n        expression: {item: fv!item}\n      ),\n      #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: -1,\n        sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: \"item\",\n          ascending: rule!AS_CO_UT_replaceNull(nullableValue: ri!ascending, replacementValue: true)\n        )\n      )\n    ).data.item\n  )\n)"
    },
    "_a-0000ec06-6336-8000-9d71-011c48011c48_12262720": {
      "name": "AS_GAM_UT_batchDataByFieldUnderThreshold_Helper",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /* The raw value that needs to be considered for calculating the batches w.r.t threshold*/\n  local!rawValue: if(\n    rule!AS_CO_UT_isBlank(ri!fields),\n    ri!newValue,\n    apply(index(ri!newValue, _, 0), { ri!fields })\n  ),\n  /* Defaulting the value to 0 when the value is null */\n  local!value: rule!AS_CO_UT_replaceNull(\n    nullableValue: local!rawValue,\n    replacementValue: 0\n  ),\n  if(\n    and(\n      rule!AS_CO_UT_booleanDefaultFalse(ri!excludeNulls),\n      rule!AS_CO_UT_isBlank(local!rawValue)\n    ),\n    /* When the excludeNulls is true and the value is null then appending it to the invalidData   */\n    #\"urn:appian:function:v1:a:update\"(\n      ri!helperMap,\n      \"invalidData\",\n      append(ri!helperMap.invalidData, ri!newValue)\n    ),\n    a!localVariables(\n      /* Using this rule to explicitly handle lists   */\n      local!currentBatchMap: rule!AS_CO_UT_replaceNull(\n        nullableValue: rule!AS_CO_UT_returnLastIndexOfArray(array: ri!helperMap.batches),\n        replacementValue: a!map(batch: 1, batchCheckSum: 0, data: {})\n      ),\n      a!match(\n        value: todecimal(local!value),\n        /* When wrong type is encountered return as invalid     */\n        whenTrue: not(\n          rule!AS_CO_UT_compare(value1: fv!value, value2: local!value)\n        ),\n        then: #\"urn:appian:function:v1:a:update\"(\n          ri!helperMap,\n          \"invalidData\",\n          append(ri!helperMap.invalidData, ri!newValue)\n        ),\n        whenTrue: sum(fv!value) > ri!threshold,\n        then: #\"urn:appian:function:v1:a:update\"(\n          ri!helperMap,\n          \"exceedingThreshold\",\n          append(\n            ri!helperMap.exceedingThreshold,\n            ri!newValue\n          )\n        ),\n        whenTrue: local!currentBatchMap.batchCheckSum + sum(fv!value) > ri!threshold,\n        then: #\"urn:appian:function:v1:a:update\"(\n          ri!helperMap,\n          \"batches\",\n          append(\n            ri!helperMap.batches,\n            a!map(\n              batch: local!currentBatchMap.batch + 1,\n              batchCheckSum: sum(fv!value),\n              data: { ri!newValue }\n            )\n          )\n        ),\n        default: #\"urn:appian:function:v1:a:update\"(\n          ri!helperMap,\n          \"batches\",\n          #\"urn:appian:function:v1:a:update\"(\n            ri!helperMap.batches,\n            local!currentBatchMap.batch,\n            rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n              cdt: local!currentBatchMap,\n              fieldValuePairs: {\n                {\n                  field: \"batchCheckSum\",\n                  value: local!currentBatchMap.batchCheckSum + sum(fv!value)\n                },\n                {\n                  field: \"data\",\n                  value: append(local!currentBatchMap.data, ri!newValue)\n                }\n              }\n            )\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e615-fd0f-8000-9bc1-011c48011c48_1163967": {
      "name": "AS_GCM_DSP_clauseRecordTitle",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isNotBlank(ri!clauseTitle),\n  a!localVariables(\n    local!clauseTitle: if(\n      rule!AS_CO_UT_isBlank(ri!clauseTitleLength),\n      ri!clauseTitle,\n      rule!AS_CO_UT_left(\n        text: ri!clauseTitle,\n        numChars: ri!clauseTitleLength\n      ) & if(\n        len(ri!clauseTitle) > ri!clauseTitleLength,\n        \"...\",\n        null\n      )\n    ),\n    joinarray(\n      rule!AS_CO_UT_rejectNullValuesFromArray(\n        {\n          ri!clauseNumber,\n          local!clauseTitle,\n          if(\n            rule!AS_CO_UT_isBlank(ri!alternateValue),\n            null,\n            concat(\n              cons!AS_GCM_CLAUSE_TITLE_ALTERNATE,\n              char(32),\n              ri!alternateValue\n            )\n          ),\n          if(\n            rule!AS_CO_UT_booleanDefaultFalse(ri!deviation),\n            cons!AS_GCM_CLAUSE_TITLE_DEVIATION,\n            null\n          )\n        }\n      ),\n      \" | \"\n    )\n  ),\n  ri!clauseNumber\n)"
    },
    "_a-0000e3ff-a5bc-8000-9ba8-011c48011c48_41232": {
      "name": "AS_CO_UT_displayValueMultiple",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    rule!AS_CO_UT_booleanDefaultFalse(ri!firstIsDefault),\n    rule!AS_CO_UT_booleanDefaultFalse(ri!lastIsDefault)\n  ),\n  fn!error(\n    \"firstIsDefault and lastIsDefault cannot both be true\"\n  ),\n  if(\n    and(\n      or(ri!firstIsDefault, ri!lastIsDefault),\n      rule!AS_CO_UT_isNotBlank(ri!customDefaults)\n    ),\n    fn!error(\n      \"customDefault will never be used and should not be passed when either firstIsDefault or lastIsDefault is true\"\n    ),\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!values,\n      expression: rule!AS_CO_UT_displayValue(\n        value: fv!item,\n        inArray: ri!inArray,\n        replacement: ri!replacement,\n        firstIsDefault: ri!firstIsDefault,\n        lastIsDefault: ri!lastIsDefault,\n        customDefault: index(ri!customDefaults, fv!index, null)\n      )\n    )\n  )\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_981349": {
      "name": "AS_GAM_ADT_UT_buildFieldLevelAuditEntityData",
      "type": "Expression Rule",
      "sail_code": "rule!AS_ADT_UT_calculateAudit(\n    originalObjects: ri!auditParams.originalObjects,\n    newObjects: ri!auditParams.newObjects,\n    objectTypeNumber: ri!auditParams.objectTypeNumber,\n    namespace: ri!auditParams.namespace,\n    username: ri!auditParams.username,\n    auditConfig: ri!auditParams.auditConfig,\n    externalAction:ri!auditParams.externalAction\n  )"
    },
    "_a-0000e643-f7f1-8000-9bca-011c48011c48_1405606": {
      "name": "AS_GCM_CPS_clauseSetValidationWithoutErrors",
      "type": "Interface",
      "sail_code": "{\n  #\"SYSTEM_SYSRULES_cardLayout\"(\n    contents: {},\n    height: \"SHORT_PLUS\",\n    style: \"NONE\",\n    marginBelow: \"STANDARD\",\n    showBorder: false,\n    showShadow: false\n  ),\n  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n    labelPosition: \"COLLAPSED\",\n    value: {\n      #\"SYSTEM_SYSRULES_richTextIcon\"(\n        icon: \"check-circle\",\n        color: \"POSITIVE\",\n        size: \"LARGE_PLUS\"\n      )\n    },\n    align: \"CENTER\"\n  ),\n  /*As part of GAM-17399 - Below text is tagged as H2 to support a11y*/\n  #\"SYSTEM_SYSRULES_headingField\"(\n    text: {\n      if(\n        ri!isFinalize = true(),\n        \"\",\n        \"\"\n      )\n    },\n    align: \"CENTER\",\n    size: \"SMALL\",\n    headingTag: \"H2\",\n    fontWeight: \"BOLD\",\n    marginBelow: \"NONE\",\n  ),\n  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n    labelPosition: \"COLLAPSED\",\n    value: {\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: { \" \" },\n        size: \"MEDIUM\",\n        style: { \"STRONG\" }\n      ),\n      char(10),\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: {\n          if(\n            ri!isFinalize = true(),\n            \"\",\n            \"\"\n          )\n        },\n        color: cons!AS_GCM_HEX_CODE_GRAY_3,\n        size: \"STANDARD\"\n      )\n    },\n    align: \"CENTER\"\n  ),\n  #\"SYSTEM_SYSRULES_cardLayout\"(\n    contents: {},\n    height: \"SHORT_PLUS\",\n    style: \"NONE\",\n    marginBelow: \"STANDARD\",\n    showBorder: false,\n    showShadow: false\n  )\n}"
    },
    "5f18e821-865e-464d-b974-57c20096c58f": {
      "name": "AS_GCM_UT_getIdentifiersInBatches",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!identifiers),\n  null(),\n  a!localVariables(\n    /* Batching size to divide the identifiers into batches */\n    local!batchingSize: a!defaultValue(\n      value: ri!batchingSize,\n      default: cons!AS_GCM_INT_QUERY_BATCH_SIZE_TINY\n    ),\n    local!identifiers: if(\n      and(\n        ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n        ri!pagingInfo.batchSize <> - 1\n      ),\n      index(\n        ri!identifiers,\n        enumerate(\n          a!defaultValue(\n            value: ri!pagingInfo.batchSize,\n            default: local!batchingSize\n          )\n        ) + a!defaultValue(\n          value: ri!pagingInfo.startIndex,\n          default: 1\n        ),\n        null()\n      ),\n      ri!identifiers\n    ),\n    /* To divide the whole identifiers to the total Batch Size */\n    local!batches: if(\n      rule!AS_CO_UT_isBlank(local!identifiers),\n      null(),\n      enumerate(\n        ceiling(\n          length(local!identifiers) / local!batchingSize\n        )\n      )\n    ),\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!batches,\n      expression: a!localVariables(\n        local!itemCount: if(\n          fv!item * local!batchingSize + local!batchingSize < length(local!identifiers),\n          local!batchingSize,\n          length(local!identifiers) - fv!item * local!batchingSize\n        ),\n        a!map(\n          batch: fv!item,\n          identifiers: index(\n            local!identifiers,\n            enumerate(local!itemCount) + fv!item * local!batchingSize + 1,\n            null\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "0002e692-17c9-8000-1ec9-7f0000014e7a": {
      "name": "AS GCM Write to ClauseText & Capture Adt",
      "type": "Process Model",
      "sail_code": "// Output: ?\nnull\n\n// Input: ?\n=pv!clauseSetClauses_RecordType\n\n// Input: ?\n=recordType!AS GCM Clause Set Clause Synced\n\n// Input: ?\n= rule!AS_GCM_BL_writeToClauseSetClauseAudit( updateSpecificClauses: pv!updateSpecificClauses, clauseRelationIds: pv!updatedClauseRelationIds, excludedClauseIds: pv!excludedClauseIds, initiator: pp!initiator, clauseSetAuditData: pv!clauseSetAuditData, clauseSetClauses: pv!clauseSetClauses, originalClauseSetClauses: pv!originalClauseSetClauses)\n\n// Input: ?\n= rule!AS_GCM_BL_writeToClauseSetClauseText( clauseSet: pv!clauseSet, updateSpecificClauses: pv!updateSpecificClauses, clauseRelationIds: pv!updatedClauseRelationIds, excludedClauseIds: pv!excludedClauseIds, initiator: pp!initiator, originalClauseSetClauses: pv!originalClauseSetClauses, newClauseSetClauses: pv!clauseSetClauses, solicitationSetId: pv!solicitationSetId, copyFillins: a!defaultValue(value: pv!copyFillins, default: false()), copyClauseSetId: pv!copyClauseSetId)\n\n// Output: ?\na!flatten(\n  {\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: rule!AS_GAM_UT_getExpectedOutputDataFromStoredValue(\n        storedValues: ac!StoredValues,\n        entity: cons!AS_GCM_ENT_CLAUSE_SET_CLAUSE_TEXT\n      ),\n      expression: a!localVariables(\n        local!clauseSetClause: rule!AS_GCM_filterRecords(\n          records: pv!clauseSetClauses,\n          field: \"relationId\",\n          value: fv!item.relationId\n        ),\n        local!refStatusId: rule!AS_GCM_BL_returnClauseSetClauseStatusId(\n          fillinStats: rule!AS_CO_UT_indexPath(\n            cdt: rule!AS_GCM_extractFillinMetadataFromClauseText(clauseText: fv!item.clauseText),\n            field: \"fillins.stats\",\n            indexDefault: {}\n          ),\n          isEditable: rule!AS_CO_UT_indexPath(\n            cdt: local!clauseSetClause,\n            field: \"refClause.editable\",\n            indexDefault: null\n          ),\n          isFillin: rule!AS_CO_UT_indexPath(\n            cdt: local!clauseSetClause,\n            field: \"refClause.fillIn\",\n            indexDefault: null\n          ),\n          formatId: rule!AS_CO_UT_indexPath(\n            cdt: local!clauseSetClause,\n            field: \"format.refDataId\",\n            indexDefault: null\n          ),\n          isCopyFillins: pv!copyFillins,\n          isAmendmentModification: contains(\n            {\n              cons!AS_GCM_REF_ID_CATEGORY_AMENDMENT,\n              cons!AS_GCM_REF_ID_CATEGORY_MODIFICATION\n            },\n            pv!clauseSet.refCategory.refDataId\n          ),\n          isCreateAwardFromSolicitation: and(\n            a!isNotNullOrEmpty(pv!solicitationSetId),\n            pv!solicitationSetId <> 0\n          ),\n          statusId: rule!AS_CO_UT_indexPath(\n            cdt: local!clauseSetClause,\n            field: \"refStatus.refDataId\",\n            indexDefault: null\n          )\n        ),\n        recordType!AS GCM Clause Set Clause Synced(\n          recordType!AS GCM Clause Set Clause Synced.relationId: fv!item.relationId,\n          recordType!AS GCM Clause Set Clause Synced.isCompleteFillinAvailable: rule!AS_GCM_UT_isCompleteFillinsActionAvailable(clauseText: fv!item.clauseText),\n          recordType!AS GCM Clause Set Clause Synced.refStatusId: local!refStatusId\n        )\n      )\n    ),\n    /* Deactivating the clause texts whose clause is inactive */\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: rule!AS_GCM_QR_getClauseSetClauseTextDetails(\n        /* Only filtering the clause texts which are active and the associated clause is inactive */\n        additionalfilters: #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM Clause Set Clause Text.clauseSetClause.isActive,\n          operator: \"=\",\n          value: false\n        ),\n        setId: pv!clauseSet.setId\n      ),\n      expression: a!localVariables(\n        local!clauseSetClause: recordType!AS GCM Clause Set Clause Synced(\n          recordType!AS GCM Clause Set Clause Synced.relationId: fv!item[recordType!AS GCM Clause Set Clause Text.relationId],\n          recordType!AS GCM Clause Set Clause Synced.clauseSetClauseText: fv!item,\n          recordType!AS GCM Clause Set Clause Synced.isActive: false\n        ),\n        #\"urn:appian:function:v1:a:update\"(\n          local!clauseSetClause,\n          recordType!AS GCM Clause Set Clause Synced.clauseSetClauseText,\n          rule!AS_GCM_setMetaDataForClauseSetClauseTextRecord(\n            initiator: pp!initiator,\n            clauseSetClause: local!clauseSetClause\n          )\n        )\n      )\n    )\n  }\n)\n\n// Input: ?\n=rule!AS_GCM_BL_writeToClauseSetClauseAudit( initiator: pp!initiator, updateSpecificClauses: pv!updateSpecificClauses, clauseRelationIds: pv!retainClauseRelationIds, clauseSetAuditData: pv!clauseSetAuditData, clauseSetClauses: pv!clauseSetClauses, originalClauseSetClauses: pv!originalClauseSetClauses)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_161958-adt": {
      "name": "AS_ADT_UT_determineAuditActionCode",
      "type": "Expression Rule",
      "sail_code": "choose(\n  where(\n    {\n      rule!AS_CO_UT_isNotBlank(ri!externalAction),\n      rule!AS_CO_UT_isBlank(index(ri!originalObject, ri!auditConfig.idField, null)),\n      rule!AS_CO_UT_isBlank(index(ri!newObject, ri!auditConfig.idField, null)),\n      toboolean(index(ri!originalObject, \"isActive\", 1)) = toboolean(index(ri!newObject, \"isActive\", 1)),\n      toboolean(index(ri!originalObject, \"isActive\", false)),\n      toboolean(index(ri!newObject, \"isActive\", true))\n    }\n  )[1],\n  ri!externalAction,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_ADD,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DELETE,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DEACTIVATE,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_REACTIVATE\n)"
    },
    "_a-0000e447-9390-8000-9baa-011c48011c48_134195": {
      "name": "AS_GAM_UT_getExpectedOutputDataFromStoredValue",
      "type": "Expression Rule",
      "sail_code": "reduce(\n  rule!AS_GAM_UT_getDataFromEntityDataForEntity,\n  {},\n  ri!storedValues,\n  ri!entity\n)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1529510": {
      "name": "AS_GCM_QE_getRefClauseTexts",
      "type": "Expression Rule",
      "sail_code": "/*Note: Assertions cannot be added to this rule as it requires data from DSE*/\nrule!AS_CO_UT_queryEntity(\n  sort: ri!sort,\n  entity: cons!AS_GCM_ENT_R_CLAUSE_TEXTS,\n  entityType: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Clause_Texts',\n  returnType: ri!returnType,\n  executeWhen: and(\n    ri!executeWhen,\n    or(\n      any(\n        rule!AS_CO_UT_isNotBlank(_),\n        {\n          ri!additionalFilters,\n          ri!logicalExpression,\n          ri!aggregation\n        }\n      ),\n      rule!AS_CO_UT_isNotBlank(ri!clauseId)\n    )\n  ),\n  /* To ensure proper null checks, we'll force all queryFilter values to not be null */\n  logicalExpression: ri!logicalExpression,\n  pagingInfo: ri!pagingInfo,\n  triggerRefresh: ri!triggerRefresh,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"clauseId\",\n      operator: \"in\",\n      value: ri!clauseId\n    ),\n    ri!additionalFilters\n  },\n  aggregation: ri!aggregation\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76367": {
      "name": "AS_CO_UT_rejectNullValuesFromArray",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!array),\n  reject(\n    rule!AS_CO_UT_isBlank(_),\n    a!flatten(ri!array)\n  )\n)"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9761091": {
      "name": "AS_GCM_filterRecords",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!fieldValuePairs: a!defaultValue(\n    ri!fieldValuePairs,\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: a!flatten(ri!field),\n      expression: a!map(\n        field: fv!item,\n        value: if(\n          fv!itemCount = 1,\n          ri!value,\n          index(a!flatten(ri!value), fv!index, null)\n        )\n      )\n    )\n  ),\n  local!matchIndices: if(\n    a!isNullOrEmpty(a!flatten(ri!records)),\n    tointeger({}),\n    reduce(\n      rule!AS_GCM_filterRecords_Reducer(\n        previousIndices: _,\n        records: a!flatten(ri!records),\n        fieldValuePair: _\n      ),\n      enumerate(count(a!flatten(ri!records))) + 1,\n      local!fieldValuePairs\n    )\n  ),\n  local!rejectIndices: difference(\n    if(\n      a!isNullOrEmpty(ri!records),\n      tointeger({}),\n      enumerate(count(a!flatten(ri!records))) + 1\n    ),\n    local!matchIndices\n  ),\n  local!matches: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!matchIndices, {})\n  ),\n  local!rejects: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!rejectIndices, {})\n  ),\n  local!output: a!match(\n    value: a!defaultValue(ri!filterType, \"FILTER\"),\n    equals: \"FILTER\",\n    then: local!matches,\n    equals: \"REJECT\",\n    then: local!rejects,\n    equals: \"FIRST_MATCH\",\n    then: index(local!matches, 1, null),\n    equals: \"FIRST_REJECT\",\n    then: index(local!rejects, 1, null),\n    equals: \"MATCH_COUNT\",\n    then: count(local!matchIndices),\n    equals: \"REJECT_COUNT\",\n    then: count(local!rejectIndices),\n    equals: \"MATCH_INDICES\",\n    then: local!matchIndices,\n    equals: \"REJECT_INDICES\",\n    then: local!rejectIndices,\n    equals: \"FULL_RESULT\",\n    then: a!map(\n      matches: local!matches,\n      rejects: local!rejects,\n      firstMatch: index(local!matches, 1, null),\n      firstReject: index(local!rejects, 1, null),\n      matchCount: count(local!matchIndices),\n      rejectCount: count(local!rejectIndices),\n      matchIndices: local!matchIndices,\n      rejectIndices: local!rejectIndices\n    ),\n    default: fn!error(\n      \"Invalid filterType, must be one of: FILTER, REJECT, FIRST_MATCH, FIRST_REJECT, MATCH_COUNT, REJECT_COUNT, MATCH_INDICES, REJECT_INDICES, FULL_RESULT\"\n    )\n  ),\n  local!output\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_983535": {
      "name": "AS_GAM_ADT_UT_constructFieldChangesDictionaryForManipulatedAudit",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Indexing 1 to convert list of dictionary to list*/\n  local!complexFieldConfig: index(\n    rule!AS_CO_UT_filterCdtByField(\n      cdt: ri!auditParams.auditConfig.complexFields,\n      field: \"auditFieldName\",\n      value: tostring(ri!auditParams.complexFieldName)\n    ),\n    1,\n    null\n  ),\n  local!foreignIdField: tostring(\n    a!flatten(\n      index(\n        local!complexFieldConfig,\n        \"foreignIdField\",\n        null\n      )\n    )\n  ),\n  local!auditConfig: rule!AS_CO_UT_dynamicDictionary(\n    fieldValuePairs: {\n      /*Field value pairs for parent object audit*/\n      { field: \"username\", value: ri!initiator },\n      { field: \"timestamp\", value: now() },\n      {\n        field: \"auditActionCode\",\n        value: ri!auditParams.externalAction\n      },\n      /*Indexing the \"idField\" of the parent object using \"foreignIdField\"*/\n      if(\n        rule!AS_CO_UT_isBlank(local!foreignIdField),\n        {},\n        {\n          field: ri!auditParams.auditConfig.idField,\n          value: tointeger(\n            rule!AS_CO_UT_replaceNull(\n              nullableValue: index(\n                rule!AS_CO_UT_indexPath(\n                  cdt: ri!auditParams.newObjects,\n                  field: ri!auditParams.auditConfig.idField\n                ),\n                1,\n                null\n              ),\n              replacementValue: index(\n                rule!AS_CO_UT_indexPath(\n                  cdt: ri!auditParams.newObjects,\n                  field: local!foreignIdField\n                ),\n                1,\n                null\n              )\n            )\n          )\n        }\n      ),\n      {\n        field: tostring(ri!auditParams.complexFieldName),\n        value: if(\n          rule!AS_CO_UT_isBlank(ri!auditParams.manipulationAudit),\n          /*If the audit calculation for the nested CDT involves generic field changes (i.e the manipulation audit is null), we can directly use the field change rule to calculate the audit*/\n          rule!AS_ADT_UT_calculateAudit(\n            originalObjects: rule!AS_CO_UT_castToDictionaryList(value: ri!auditParams.originalObjects),\n            newObjects: rule!AS_CO_UT_castToDictionaryList(value: ri!auditParams.newObjects),\n            objectTypeNumber: ri!auditParams.objectTypeNumber,\n            auditConfig: rule!AS_CO_UT_castToDictionary(value: local!complexFieldConfig),\n            namespace: ri!auditParams.namespace,\n            username: ri!initiator,\n            externalAction: null\n          ),\n          /*If the audit data is nested and is manipulated and passed from outsite, we can directly construct the audit entry for each ri!auditParams.manipulationAudit*/\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!auditParams.manipulationAudit,\n            expression: rule!AS_CO_UT_dynamicDictionary(\n              fieldValuePairs: {\n                if(\n                  rule!AS_CO_UT_isNotBlank(local!complexFieldConfig.idField),\n                  {\n                    field: local!complexFieldConfig.idField,\n                    value: index(\n                      ri!auditParams.newObjects,\n                      tostring(local!complexFieldConfig.idField),\n                      null\n                    )\n                  },\n                  {}\n                ),\n                { field: \"username\", value: ri!initiator },\n                { field: \"timestamp\", value: now() },\n                {\n                  field: \"auditActionCode\",\n                  value: /*If the action code varies for each manipulation audit, actionCode within auditParams.manipulationAudit will be used. Else, externalAction will be used*/\n                  rule!AS_CO_UT_replaceNull(\n                    nullableValue: fv!item.actionCode,\n                    replacementValue: ri!auditParams.externalAction\n                  )\n                },\n                if(\n                  rule!AS_CO_UT_isNotBlank(\n                    local!complexFieldConfig.foreignIdField\n                  ),\n                  {\n                    field: local!complexFieldConfig.foreignIdField,\n                    value: index(\n                      rule!AS_CO_UT_indexPath(\n                        cdt: ri!auditParams.newObjects,\n                        field: local!complexFieldConfig.foreignIdField\n                      ),\n                      1,\n                      null\n                    )\n                  },\n                  {}\n                ),\n                /*The field changes will be passed as label value pairs in \"fieldChanges\" column of auditParams.manipulationAudit\"*/\n                {\n                  field: \"simpleFieldChanges\",\n                  value: rule!AS_CO_UT_castToDictionaryList(value: fv!item.fieldChanges)\n                }\n              }\n            )\n          )\n        )\n      }\n    }\n  ),\n  if(\n    /*To make the action code \"UNCHANGED\" if the object is unmodified(excluding the metadata)*/\n    rule!AS_CO_UT_not(\n      contains(\n        a!flatten(\n          {\n            rule!AS_CO_UT_isBlank(\n              index(\n                rule!AS_CO_UT_indexPath(\n                  cdt: local!auditConfig,\n                  field: tostring(ri!auditParams.complexFieldName)\n                ),\n                \"simpleFieldChanges\",\n                null\n              )\n            ),\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: {\n                index(\n                  index(\n                    local!complexFieldConfig,\n                    \"complexFields\",\n                    null\n                  ),\n                  \"auditFieldName\",\n                  null\n                )\n              },\n              expression: rule!AS_CO_UT_isBlank(\n                rule!AS_CO_UT_rejectCdtByField(\n                  cdt: index(\n                    rule!AS_CO_UT_indexPath(\n                      cdt: local!auditConfig,\n                      field: tostring(ri!auditParams.complexFieldName)\n                    ),\n                    fv!item,\n                    null\n                  ),\n                  field: \"auditActionCode\",\n                  value: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n                )\n              )\n            )\n          }\n        ),\n        false\n      )\n    ),\n    rule!AS_CO_UT_updateCdtFields(\n      cdt: local!auditConfig,\n      fields: \"auditActionCode\",\n      newValues: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n    ),\n    local!auditConfig\n  )\n)"
    },
    "_a-0000eb8e-789f-8000-9d34-011c48011c48_11016421": {
      "name": "AS_GCM_setMetaDataForClauseSetClauseTextRecord",
      "type": "Expression Rule",
      "sail_code": "rule!AS_GCM_setRecordFields(\n  record: ri!clauseSetClause[recordType!AS GCM Clause Set Clause Synced.clauseSetClauseText],\n  neverOverwrite: {\n    a!map(\n      field: recordType!AS GCM Clause Set Clause Text.createdBy,\n      value: ri!initiator\n    ),\n    a!map(\n      field: recordType!AS GCM Clause Set Clause Text.createdDatetime,\n      value: now()\n    ),\n    a!map(\n      field: recordType!AS GCM Clause Set Clause Text.setId,\n      value: ri!clauseSetClause[recordType!AS GCM Clause Set Clause Synced.setId]\n    )\n  },\n  alwaysOverwrite: {\n    a!map(\n      field: recordType!AS GCM Clause Set Clause Text.modifiedBy,\n      value: ri!initiator\n    ),\n    a!map(\n      field: recordType!AS GCM Clause Set Clause Text.modifiedDatetime,\n      value: now()\n    ),\n    a!map(\n      field: recordType!AS GCM Clause Set Clause Text.isActive,\n      value: ri!clauseSetClause[recordType!AS GCM Clause Set Clause Synced.isActive]\n    )\n  }\n)"
    },
    "_a-0000e994-0db4-8000-9c52-011c48011c48_4923038": {
      "name": "AS_GAM_createMap",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isNotBlank(input: ri!keys),\n  reduce(\n    #\"urn:appian:function:v1:a:update\"(_, _, _),\n    a!map(),\n    merge(ri!keys, ri!values)\n  ),\n  null()\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_983591": {
      "name": "AS_GAM_ADT_UT_constructDynamicDictionaryForManipulatedAudit",
      "type": "Expression Rule",
      "sail_code": "/*If the audit data is not nested and is manipulated and passed from outsite, we can directly construct the audit entry for each ri!auditParams.manipulationAudit*/\n#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!auditParams.manipulationAudit,\n  expression: rule!AS_CO_UT_dynamicDictionary(\n    fieldValuePairs: {\n      if(\n        rule!AS_CO_UT_isBlank(\n          index(\n            ri!auditParams.auditConfig,\n            \"idField\",\n            null\n          )\n        ),\n        {},\n        {\n          field: ri!auditParams.auditConfig.idField,\n          value: index(\n            index(\n              ri!auditParams.newObjects,\n              tostring(ri!auditParams.auditConfig.idField),\n              null\n            ),\n            1,\n            null\n          )\n        }\n      ),\n      { field: \"username\", value: ri!initiator },\n      { field: \"timestamp\", value: now() },\n      {\n        field: \"auditActionCode\",\n        value: /*If the action code varies for each manipulation audit, actionCode within auditParams.manipulationAudit will be used. Else, externalAction will be used*/\n        rule!AS_CO_UT_replaceNull(\n          nullableValue: fv!item.actionCode,\n          replacementValue: ri!auditParams.externalAction\n        )\n      },\n      if(\n        rule!AS_CO_UT_isNotBlank(\n          ri!auditParams.auditConfig.foreignIdField\n        ),\n        {\n          field: ri!auditParams.auditConfig.foreignIdField,\n          value: index(\n            index(\n              ri!auditParams.newObjects,\n              tostring(\n                ri!auditParams.auditConfig.foreignIdField\n              ),\n              null\n            ),\n            1,\n            null\n          )\n        },\n        {}\n      ),\n      /*The field changes will be passed as label value pairs in \"fieldChanges\" column of auditParams.manipulationAudit\"*/\n      {\n        field: \"simpleFieldChanges\",\n        value: rule!AS_CO_UT_castToDictionaryList(value: fv!item.fieldChanges)\n      }\n    }\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73536": {
      "name": "AS_CO_UT_isBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  length(a!flatten(ri!value)) = 0\n)"
    },
    "_a-0000e63a-a5cb-8000-9bc6-011c48011c48_1230199": {
      "name": "AS_GCM_QE_getClauseSetDetails",
      "type": "Expression Rule",
      "sail_code": "a!match(\n  value: null,\n  whenTrue: and(\n    rule!AS_CO_UT_booleanDefaultFalse(ri!useQueryRecord),\n    rule!AS_CO_UT_isBlank(ri!setId)\n  ),\n  then: rule!AS_CO_UT_queryRecord(\n    returnType: ri!returnType,\n    triggerRefresh: ri!triggerRefresh,\n    recordType: recordType!AS GCM Clause Set,\n    executeWhen: ri!executeWhen,\n    fields: {\n      if(\n        ri!excludeRelatedRecords,\n        {},\n        {\n          recordType!AS GCM Clause Set.contractTypes,\n          /*  Reference data    */\n          recordType!AS GCM Clause Set.refStatus,\n          recordType!AS GCM Clause Set.refContractMethod,\n          recordType!AS GCM Clause Set.refCategory,\n          recordType!AS GCM Clause Set.refType\n        }\n      ),\n      a!defaultValue(ri!fields, {})\n    },\n    relatedRecordData: {\n      #\"SYSTEM_SYSRULES_relatedRecordData\"(\n        relationship: recordType!AS GCM Clause Set.contractTypes,\n        limit: 10,\n        filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM Clause Set Contract Type Map.isActive,\n          operator: \"=\",\n          value: true\n        )\n      ),\n      #\"SYSTEM_SYSRULES_relatedRecordData\"(\n        relationship: recordType!AS GCM Clause Set.clauses,\n        limit: 10,\n        filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n          operator: \"OR\",\n          filters: {\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM Clause Set Clause Synced.isActive,\n              operator: \"=\",\n              value: true\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM Clause Set Clause Synced.refUsageId,\n              operator: \"=\",\n              value: cons!AS_GCM_REF_ID_USAGE_EXCLUDED\n            )\n          }\n        )\n      )\n    },\n    logicalExpression: ri!logicalExpression,\n    filters: ri!additionalFilters,\n    pagingInfo: ri!pagingInfo,\n    sort: ri!sort,\n    aggregationFields: ri!aggregation\n  ),\n  whenTrue: and(\n    rule!AS_CO_UT_booleanDefaultFalse(ri!useQueryRecord),\n    rule!AS_CO_UT_isNotBlank(ri!setId),\n    all(\n      rule!AS_CO_UT_isBlank(_),\n      {\n        ri!additionalFilters,\n        ri!logicalExpression,\n        ri!aggregation\n      }\n    )\n  ),\n  then: rule!AS_GCM_UT_queryRecordByIdentifier(\n    refreshInterval: ri!refreshInterval,\n    triggerRefresh: ri!triggerRefresh,\n    recordType: recordType!AS GCM Clause Set,\n    identifier: ri!setId,\n    executeWhen: ri!executeWhen,\n    fields: {\n      if(\n        ri!excludeRelatedRecords,\n        {},\n        {\n          recordType!AS GCM Clause Set.contractTypes,\n          /*  Reference data    */\n          recordType!AS GCM Clause Set.refStatus,\n          recordType!AS GCM Clause Set.refContractMethod,\n          recordType!AS GCM Clause Set.refCategory,\n          recordType!AS GCM Clause Set.refType\n        }\n      ),\n      a!defaultValue(ri!fields, {})\n    },\n    relatedRecordData: {\n      #\"SYSTEM_SYSRULES_relatedRecordData\"(\n        relationship: recordType!AS GCM Clause Set.contractTypes,\n        limit: 100,\n        filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM Clause Set Contract Type Map.isActive,\n          operator: \"=\",\n          value: true\n        )\n      ),\n      #\"SYSTEM_SYSRULES_relatedRecordData\"(\n        relationship: recordType!AS GCM Clause Set.clauses,\n        limit: 100,\n        filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n          operator: \"OR\",\n          filters: {\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM Clause Set Clause Synced.isActive,\n              operator: \"=\",\n              value: true\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM Clause Set Clause Synced.refUsageId,\n              operator: \"=\",\n              value: cons!AS_GCM_REF_ID_USAGE_EXCLUDED\n            )\n          }\n        )\n      )\n    }\n  ),\n  default: rule!AS_CO_UT_queryEntity(\n    entity: cons!AS_GCM_ENT_CLAUSE_SET,\n    entityType: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet',\n    returnType: ri!returnType,\n    executeWhen: and(\n      ri!executeWhen,\n      or(\n        any(\n          rule!AS_CO_UT_isNotBlank(_),\n          {\n            ri!additionalFilters,\n            ri!logicalExpression,\n            ri!aggregation\n          }\n        ),\n        rule!AS_CO_UT_isNotBlank(input: ri!setId),\n        rule!AS_CO_UT_isNotBlank(input: ri!solicitationId),\n        rule!AS_CO_UT_isNotBlank(input: ri!awardId)\n      )\n    ),\n    /* To ensure proper null checks, we'll force all queryFilter values to not be null */\n    logicalExpression: ri!logicalExpression,\n    pagingInfo: ri!pagingInfo,\n    sort: ri!sort,\n    triggerRefresh: ri!triggerRefresh,\n    filters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: \"setId\",\n        operator: \"=\",\n        value: ri!setId\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: \"solicitationId\",\n        operator: \"=\",\n        value: ri!solicitationId\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: \"awardId\",\n        operator: \"=\",\n        value: ri!awardId\n      ),\n      ri!additionalFilters\n    },\n    aggregation: ri!aggregation\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_260165": {
      "name": "AS_CO_UT_updateCdtFields",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    and(\n      rule!AS_CO_UT_isBlank(ri!cdt),\n      rule!AS_CO_UT_checkIfArrayType(\n        typeOf: ri!cdt\n      )\n    ),\n    ri!cdt,\n    reduce(\n      rule!AS_CO_UT_zINTERNAL_updateCdtFieldsByPath_handler(\n        cdt: _,\n        indices: ri!indices,\n        field: _,\n        newValue: _\n      ),\n      ri!cdt,\n      merge(\n        a!flatten(ri!fields),\n        a!flatten(ri!newValues)\n      )\n    )\n  )\n)"
    },
    "_a-0000e915-02bc-8000-9c1f-011c48011c48_3734026": {
      "name": "AS_GCM_extractBalancedTagThatHasGivenText",
      "type": "Expression Rule",
      "sail_code": "/*\nThis rule works by balancing the < and </ since all html opening and closing tags have them.\n\nNOTE: Pass unique text in ri!uniqueTextInTag if the given tag is expected to have same tag nested in it.\n***This rule might not work as expected if we pass the common text like \"span\" or anything which doesn't identify the tag uniquely.***\nSince passing a unique value to this rule input is recommended.\n\nExample Input/Output:\n\nInput:\n\nri!text -> \"<span style=\"\"background-color: rgb(255, 255, 0);\"\"><span hidden=\"\"\"\">class=\"\"cite 52.215-20_d5e120 SingleLine\"\"</span>jguygas1</span>iii<span style=\"\"background-color: rgb(255, 255, 0);\"\"><span hidden=\"\"\"\">class=\"\"cite 52.215-20_d5e121 SingleLine\"\"</span>jguygas2 [<em class=\"\"ph i\"\">Insert description of the data and format that are required, and include access to records necessary to permit an adequate evaluation of the proposed price in accordance with <a class=\"\"xref fm:ParaNumOnly\"\" href=\"\"15.408.html#FAR_15_408\"\">15.408</a>, <a class=\"\"xref fm:Table\"\" href=\"\"15.408.html#FAR_15_408__i1106753\"\">Table&nbsp; 15-2</a>, Note 2. The description may be inserted at the time of issuing the solicitation, or the Contracting Officer may specify that the offeror's format will be acceptable, or the description may be inserted as the result of negotiations.</em></span>]</p>\"\nri!uniqueTextInTag -> \"background-color:\"\n\nOutput:\n\n{\n  \"<span style=\"\"background-color: rgb(255, 255, 0);\"\"><span hidden=\"\"\"\">class=\"\"cite 52.215-20_d5e120 SingleLine\"\"</span>jguygas1</span>\",\n  \"<span style=\"\"background-color: rgb(255, 255, 0);\"\"><span hidden=\"\"\"\">class=\"\"cite 52.215-20_d5e121 SingleLine\"\"</span>jguygas2 [<em class=\"\"ph i\"\">Insert description of the data and format that are required, and include access to records necessary to permit an adequate evaluation of the proposed price in accordance with <a class=\"\"xref fm:ParaNumOnly\"\" href=\"\"15.408.html#FAR_15_408\"\">15.408</a>, <a class=\"\"xref fm:Table\"\" href=\"\"15.408.html#FAR_15_408__i1106753\"\">Table&nbsp; 15-2</a>, Note 2. The description may be inserted at the time of issuing the solicitation, or the Contracting Officer may specify that the offeror's format will be acceptable, or the description may be inserted as the result of negotiations.</em></span>\"\n}\n\n*/\nif(\n  any(\n    a!isNullOrEmpty,\n    { ri!text, ri!uniqueTextInTag }\n  ),\n  \"\",\n  a!localVariables(\n    /* Splitting the ri!text with ri!uniqueTextInTag to iterate through each item */\n    local!splitText: split(ri!text, ri!uniqueTextInTag),\n    rule!AS_CO_UT_rejectNullValuesFromArray(\n      array: #\"SYSTEM_SYSRULES_forEach\"(\n        /* Ignoring the first item from local!splitText since ri!uniqueTextInTag will not be present in it */\n        items: ldrop(local!splitText, 1),\n        expression: a!localVariables(\n          /* Fetching the text before ri!uniqueTextInTag from < and concatenating it with ri!uniqueTextInTag and\n        the rest of the test until the next < which has ri!uniqueTextInTag*/\n          local!properText: concat(\n            index(\n              regexsearch(\n                \"<[^<]*$\",\n                local!splitText[fv!index],\n                \"s\"\n              ),\n              \"match\",\n              null\n            ),\n            ri!uniqueTextInTag,\n            regexreplaceall(\"<[^>]*$\", fv!item, \"\")\n          ),\n          /* Extracting the html tag to balance it. Eg: span will be extracted from <span style=\"\"></span>         */\n          local!htmlTag: /* Extracting the html tag till the space \" \"           */\n          rule!AS_GCM_UT_regexsearch(\n            pattern: \"[^ ]+\",\n            /*  Replacing all characters till the last < character to get the opening tag  */\n            searchString: \n            stripwith(\n              regexfirstmatch(\n                \"<[^<]+$\",\n                local!splitText[fv!index] & ri!uniqueTextInTag,\n                \"s\"\n              ),\n              \"<\"\n            ),\n            regexFlag: \"s\"\n          ).match,\n          /* Extracting all the matching opening and closing html tags to find the balanced one         */\n          local!allTags: rule!AS_GCM_UT_regexsearch(\n            pattern: \"</?\" & local!htmlTag,\n            searchString: local!properText,\n            regexFlag: \"gs\"\n          ),\n          /* Keeping only < and / from local!allTags.match to do a balancing. */\n          local!cleanedText: cleanwith(concat(local!allTags.match), \"</\"),\n          /* Splitting with </ to get the opening tags alone to balance it.\n        Ignoring the last entry since we won't have a open tag in it */\n          local!onlyOpeningTags: rdrop(split(local!cleanedText, \"</\"), 1),\n          local!unbalancedOpeningTags: #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!onlyOpeningTags,\n            expression: /* Since we have splitted with </ we are subtracting 1 to pair a < i.e open tag with </ \n          For Eg. in \"<<</</\" if we split using </ and ignore the last string in output as per local!onlyOpeningTags\n          we will get {\"<<\", \"\"} in this the first string (i.e. \"<<\") has a opening tag pair for </ using which we splitted. \n          So to ignore this pair of opening tag we are subtracting 1\n          After subtracting 1 from the length we will get {1, -1}\n          */\n            len(fv!item) - 1\n          ),\n          local!balancedClosingTagIndex: rule!AS_CO_UT_rejectNullValuesFromArray(\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: local!unbalancedOpeningTags,\n              expression: if(\n                sum(\n                  index(\n                    local!unbalancedOpeningTags,\n                    enumerate(fv!index) + 1\n                  )\n                ) = 0,\n                fv!index,\n                \"\"\n              )\n            )\n          ),\n          regexfirstmatch(\n            \"<[^<>]*\" & ri!uniqueTextInTag & \"((.*?)</\" & local!htmlTag & \">){\" & index(local!balancedClosingTagIndex, 1, 1) & \"}\",\n            local!properText\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_74227": {
      "name": "AS_CO_UT_formatDateTime",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  if(\n    rule!AS_CO_UT_isBlank(ri!dateTime), \n    \"-\",\n    if(\n      rule!AS_CO_I18N_UT_isUserLocaleEnglishUs(),\n      text(ri!dateTime, \"mmm d, yyyy h:mm a\"),\n      text(ri!dateTime, \"d mmm yyyy hh:mm\")\n    )\n  )\n)"
    },
    "_a-0000e5d4-2024-8000-9baf-011c48011c48_320878": {
      "name": "AS_FRM_determineRuntimeRule",
      "type": "Expression Rule",
      "sail_code": "if( \n  cons!AS_FRM_BOOL_RULE_CUSTOMIZATION_1_0_ENABLED,\n  \n  determineruntimerule(ri!defaultRuleReference),\n  \n  ri!defaultRuleReference\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75660": {
      "name": "AS_CO_UT_returnCdtFields",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text?list',\n  with(\n    local!cdtFields: rule!AS_CO_UT_zINTERNAL_returnCdtFields_handler(\n      type: ri!type,\n      typeOf: ri!typeOf\n    ),\n    \n    if(\n      ri!onlyPrimitiveFields,\n      filter(\n        rule!AS_CO_UT_zINTERNAL_returnCdtFields_primitiveTypeCheckHandler(\n          singleType: rule!AS_CO_UT_returnSingleTypeObject(\n            type: ri!type,\n            typeOf: ri!typeOf\n          ),\n          field: _\n        ),\n        local!cdtFields\n      ),\n      ri!onlyComplexFields,\n      reject(\n        rule!AS_CO_UT_zINTERNAL_returnCdtFields_primitiveTypeCheckHandler(\n          singleType: rule!AS_CO_UT_returnSingleTypeObject(\n            type: ri!type,\n            typeOf: ri!typeOf\n          ),\n          field: _\n        ),\n        local!cdtFields\n      ),\n      local!cdtFields\n    )\n  )\n)"
    },
    "_a-0000e63a-a5cb-8000-9bc6-011c48011c48_1235270": {
      "name": "AS_GCM_UT_clauseSetStartAuditProcess_Parameters",
      "type": "Expression Rule",
      "sail_code": "rule!AS_ADT_UT_startAuditProcess_Parameters(\n  originalObjects: ri!originalClauseSet,\n  newObjects: ri!clauseSet,\n  objectType: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet',\n  auditDse: cons!AS_GCM_ENT_A_R_CLAUSE_SET,\n  auditConfig: rule!AS_GCM_ADT_BL_auditConfig_ClauseSet(),\n  externalAction: ri!externalAction,\n  username: ri!initiator\n).auditParams"
    },
    "_a-0000eaf1-8805-8000-9cec-011c48011c48_9106170": {
      "name": "AS_GAM_rejectCdtOrRecordDataByField",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdtOrRecord),\n  if(\n    or(\n      rule!AS_CO_UT_isBlank(ri!cdtOrRecord),\n      ri!rejectWhen = false()\n    ),\n    ri!cdtOrRecord,\n    remove(\n      a!flatten(ri!cdtOrRecord),\n      rule!AS_GAM_returnCdtOrRecordIndicesByField(\n        cdtOrRecord: ri!cdtOrRecord,\n        field: ri!field,\n        value: ri!value\n      )\n    )\n  )\n)"
    },
    "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3113202": {
      "name": "AS_GCM_UT_getClauseSetClauseTextsWithQuerySelection",
      "type": "Expression Rule",
      "sail_code": "/*Note: Assertions cannot be added to this rule as it requires data from DSE*/\nrule!AS_GAM_UT_queryEntityWithSelection(\n  entity: cons!AS_GCM_ENT_CLAUSE_SET_CLAUSE_TEXT,\n  entityType: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_Clause_Text',\n  returnType: ri!returnType,\n  executeWhen: and(\n    ri!executeWhen,\n    or(\n      any(\n        rule!AS_CO_UT_isNotBlank(_),\n        {\n          ri!additionalFilters,\n          ri!logicalExpression,\n          ri!selectionColumns\n        }\n      ),\n      rule!AS_CO_UT_isNotBlank(ri!relationId),\n      rule!AS_CO_UT_isNotBlank(ri!setId)\n    )\n  ),\n  /* To ensure proper null checks, we'll force all queryFilter values to not be null */\n  logicalExpression: ri!logicalExpression,\n  pagingInfo: ri!pagingInfo,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"relationId\",\n      operator: \"in\",\n      value: tointeger(ri!relationId)\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"setId\",\n      operator: \"=\",\n      value: ri!setId\n    ),\n    ri!additionalFilters\n  },\n  selectionColumns: ri!selectionColumns\n)"
    },
    "_a-0000e8cc-c513-8000-9c0f-011c48011c48_3412015": {
      "name": "AS_GCM_DPL_CO_UT_formatCurrencyValue",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Text',\n  if(\n    a!isNullOrEmpty(ri!currencyValue),\n    if(ri!showHyphen, \"-\", \"\"),\n    a!localVariables(\n      local!currencyCode: a!defaultValue(\n        value: ri!currencyCode,\n        default: cons!AS_CO_TXT_DEFAULT_CURRENCY_CODE\n      ),\n      #\"urn:appian:function:v1:a:currency\"(\n        local!currencyCode,\n        ri!currencyValue,\n        if(ri!showDecimal, 2, 0),\n        true,\n        if(ri!showCurrencyCode, \"CODE\", null),\n        if(ri!showCurrencyCode, \"END\", null)\n      )\n    )\n  )\n)"
    },
    "_a-0000e643-f7f1-8000-9bca-011c48011c48_1414987": {
      "name": "AS_GCM_UT_checkStatusValidation",
      "type": "Expression Rule",
      "sail_code": "difference(\n  ri!clauses,\n  index(\n    ri!clauses,\n    wherecontains(\n      cons!AS_GCM_REF_ID_CLAUSE_SET_CLAUSE_STATUS_COMPLETE,\n      ri!clauses.refStatus.refDataId\n    ),\n    {}\n  )\n)"
    },
    "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3111846": {
      "name": "AS_GCM_QE_getClauseSetClauseTextsWithBatching",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_cast(\n  type: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_Clause_Text?list',\n  value: rule!AS_GCM_UT_formatDataBasedOnReturnType(\n    data: a!match(\n      value: ri!relationIds,\n      whenTrue: rule!AS_CO_UT_isBlank(ri!relationIds),\n      then: null(),\n      whenTrue: a!isNullOrEmpty(ri!batchingSize),\n      then: a!localVariables(\n        local!clauseSetClauseTexts: rule!AS_GCM_UT_getClauseSetClauseTextsWithQuerySelection(\n          returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n          relationId: ri!relationIds,\n          executeWhen: a!isNotNullOrEmpty(ri!relationIds),\n          selectionColumns: {\n            \"relationId\",\n            \"clauseTextLength\",\n            if(\n              ri!includeClauseTextOriginal,\n              \"clauseTextOriginalLength\",\n              {}\n            )\n          },\n          pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(startIndex: 1, batchSize: - 1)\n        ).data,\n        local!batchingData: rule!AS_GAM_UT_batchDataByFieldUnderThreshold(\n          data: local!clauseSetClauseTexts,\n          fields: {\n            \"clauseTextLength\",\n            if(\n              ri!includeClauseTextOriginal,\n              \"clauseTextOriginalLength\",\n              {}\n            )\n          },\n          threashold: a!defaultValue(\n            value: ri!batchingThreshold,\n            default: cons!AS_GCM_ENUM_QUERY_THRESHOLD_LIMIT_IN_BYTES\n          )\n        ),\n        if(\n          /* When there is any data which is exceeding the threshold then throw an error to handle/address       */\n          rule!AS_CO_UT_isNotBlank(local!batchingData.exceedingThreshold),\n          error(\n            \"Please review. The threshold[=\" & a!defaultValue(\n              value: ri!batchingThreshold,\n              default: cons!AS_GCM_ENUM_QUERY_THRESHOLD_LIMIT_IN_BYTES\n            ) & \"] is exceeded by \" & rule!AS_GAM_UT_ArrayLength(local!batchingData.exceedingThreshold) & \" clause set clauses: \" & local!batchingData.exceedingThreshold\n          ),\n          a!flatten(\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: local!batchingData.batches,\n              expression: rule!AS_GCM_UT_getClauseSetClauseTextsWithQuerySelection(\n                relationId: index(fv!item.data, \"relationId\", null),\n                returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n                executeWhen: a!isNotNullOrEmpty(index(fv!item.data, \"relationId\", null)),\n                pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(startIndex: 1, batchSize: - 1),\n                selectionColumns: if(\n                  ri!includeClauseTextOriginal,\n                  {},\n                  {\n                    \"textRelationId\",\n                    \"relationId\",\n                    \"setId\",\n                    \"clauseText\",\n                    \"clauseTextLength\",\n                    \"createdBy\",\n                    \"createdDatetime\",\n                    \"modifiedBy\",\n                    \"modifiedDatetime\",\n                    \"isActive\"\n                  }\n                )\n              ).data\n            )\n          )\n        )\n      ),\n      default: a!flatten(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: rule!AS_GCM_UT_getIdentifiersInBatches(\n            identifiers: ri!relationIds,\n            batchingSize: a!defaultValue(\n              value: ri!batchingSize,\n              default: cons!AS_GCM_INT_QUERY_BATCH_SIZE_TINY\n            )\n          ),\n          expression: rule!AS_GCM_UT_getClauseSetClauseTextsWithQuerySelection(\n            relationId: fv!item.identifiers,\n            returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n            executeWhen: a!isNotNullOrEmpty(fv!item.identifiers),\n            pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(startIndex: 1, batchSize: - 1),\n            selectionColumns: if(\n              ri!includeClauseTextOriginal,\n              /* Returns all fields  */\n              {},\n              {\n                \"textRelationId\",\n                \"relationId\",\n                \"setId\",\n                \"clauseText\",\n                \"clauseTextLength\",\n                \"createdBy\",\n                \"createdDatetime\",\n                \"modifiedBy\",\n                \"modifiedDatetime\",\n                \"isActive\"\n              }\n            )\n          ).data\n        )\n      )\n    ),\n    pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n      startIndex: 1,\n      batchSize: - 1,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(field: \"textRelationId\", ascending: true)\n    ),\n    returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    /* Refer Comment in AS_GCM_updateDataByModifierMaps for structure  */\n    modifierMaps: {\n      a!map(\n        field: \"clauseText\",\n        findRegex: cons!AS_GCM_TXT_REGEX_FOR_HIDDEN_SPAN_TAG_FILLIN_METADATA,\n        replaceWith: \"\",\n        applywhen: a!defaultValue(\n          value: ri!removeClauseTextMetadata,\n          default: false\n        )\n      )\n    }\n  ).data\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_272151": {
      "name": "AS_CO_UT_whereContains",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer?list',\n  with(\n    local!array: a!flatten(ri!array),\n  \n    if(\n    \n      /*Have to handle separately for document types due to how it casts to string*/\n      rule!AS_CO_UT_typeCompare(\n        value1: local!array,\n        value2: {todocument(null)}\n      ),\n      wherecontains(\n        todocument(ri!values),\n        local!array\n      ),\n    \n      /*Have to handle separately for group types due to how it casts to string*/\n      rule!AS_CO_UT_typeCompare(\n        value1: local!array,\n        value2: {togroup(null)}\n      ),\n      wherecontains(\n        togroup(ri!values),\n        local!array\n      ),\n    \n      /*Casting to string accounts for any primitive type (integer, boolean, ect.)*/\n      wherecontains(\n        if(\n          rule!AS_CO_UT_isBlank(ri!values),\n          touniformstring(ri!values),\n          touniformstring(a!flatten(ri!values))\n        ),\n        touniformstring(local!array)\n      )\n    )\n  )\n)"
    },
    "_a-0000ec50-376f-8000-9d94-011c48011c48_12937069": {
      "name": "AS_GCM_UT_queryRecordByIdentifier",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS ON HOW TO USE\n\nPlease DO NOT auto-format this rule\n\n*/\na!localVariables(\n  /*Determine the castResultToType*/\n  local!castResultToType: a!defaultValue(ri!castToCdtType, ri!recordType),\n  /*Execute the query*/\n  local!queryResult: a!refreshVariable(\n    value: if(\n      ri!executeWhen = false,\n      null(ri!recordType),\n      #\"SYSTEM_SYSRULES_queryRecordByIdentifier\"(\n        recordType: ri!recordType,\n        identifier: ri!identifier,\n        fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n          {\n            ri!fields,\n            index(\n              ri!relatedRecordData,\n              \"relationship\",\n              null\n            )\n          }\n        ),\n        relatedRecordData: ri!relatedRecordData\n      )\n    ),\n    refreshOnVarChange: ri!triggerRefresh,\n    refreshInterval: ri!refreshInterval,\n    refreshAfter: { \"RECORD_ACTION\" }\n  ),\n  rule!AS_CO_UT_cast(\n    type: local!castResultToType,\n    value: local!queryResult\n  )\n)/*\n\nDOCUMENTATION\n\nThis rule is designed to minimize the overhead with querying data and then casting the result\n\n\nRequired Inputs:\n\n1. recordType\n- This is a recordtype! input of the data type to be queried against\n\n2. identifier\n- The primary key of the record type which needs to be queried\n\nOptional Inputs:\n\n3. executeWhen\n- The query will not execute if this is false, the query will execute if this is true or null\n-- This is meant to operate in a similar manner to the showWhen parameter of components\n- Use this to skip execution of a query without needing to wrap if() statements around the rule\n-- Examples of this would be to skip querying if your filter value is a null ID\n- If the query does not execute, this will return a null value whose type is based on the returnType input\n\n4. triggerRefresh\n- By default, the query will always re-execute whenever any inputs change\n- However, by updating the value of triggerRefresh, you can also trigger a re-execution even if none of the other inputs change (e.g. after a record action)\n\n5. castToCdtType\n- Any cdt type to the cast the result set. \n\n6. fields\n- The record fields that need to be queried\n\n7. relatedRecordData\n- the relatedRecordData in which the filters and limit can be specified for each relationship\n\n*/"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_279147": {
      "name": "AS_CO_UT_castToDictionary",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  if(\n    rule!AS_CO_UT_isBlank(ri!value),\n    null,\n    ri!value\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75782": {
      "name": "AS_CO_UT_isNotBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  not(rule!AS_CO_UT_isBlank(ri!input))\n)"
    },
    "_a-0000e643-f7f1-8000-9bca-011c48011c48_1414806": {
      "name": "AS_GCM_MTR_SAVE_applicationMetricsForSuccesfullValidations",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(local!temp, a!save(local!temp, {}))"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1556101": {
      "name": "AS_GCM_UT_clauseSetClauseStartAuditProcess_ParametersInCreateClauseSet",
      "type": "Expression Rule",
      "sail_code": "rule!AS_ADT_UT_startAuditProcess_Parameters(\n  originalObjects: rule!AS_GCM_BL_constructHelperForClauseSetClauseAndClauseText(\n    clauses: ri!originalClauses,\n    clauseTexts: ri!originalClauseTexts\n  ),\n  newObjects: rule!AS_GCM_BL_constructHelperForClauseSetClauseAndClauseText(\n    clauses: ri!clauses,\n    clauseTexts: ri!clauseTexts\n  ),\n  objectType: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_Clause_Helper',\n  auditDse: cons!AS_GCM_ENT_A_R_CLAUSE_SET_CLAUSE,\n  auditConfig: rule!AS_GCM_ADT_BL_auditConfig_ClauseSetClauseHelper(),\n  username: ri!initiator\n).auditParams"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_237233-adt": {
      "name": "AS_ADT_UT_buildSimpleFieldChanges",
      "type": "Expression Rule",
      "sail_code": "a!flatten(\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!simpleFields,\n    expression: rule!AS_ADT_UT_buildSimpleFieldChangesDictionary(\n      simpleFieldName: fv!item,\n      originalObject: ri!originalObject,\n      newObject: ri!newObject\n    )\n  )\n)"
    },
    "_a-0000e881-70d9-8000-9c06-011c48011c48_2892452": {
      "name": "AS_GCM_QE_getRefClauseTextsWithQuerySelection",
      "type": "Expression Rule",
      "sail_code": "rule!AS_GAM_UT_queryEntityWithSelection(\n  entity: cons!AS_GCM_ENT_R_CLAUSE_TEXTS,\n  entityType: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Clause_Texts',\n  returnType: ri!returnType,\n  executeWhen: and(\n    ri!executeWhen,\n    or(\n      any(\n        rule!AS_CO_UT_isNotBlank(_),\n        {\n          ri!additionalFilters,\n          ri!logicalExpression,\n          ri!selectionColumns\n        }\n      ),\n      rule!AS_CO_UT_isNotBlank(ri!clauseId)\n    )\n  ),\n  pagingInfo: ri!pagingInfo,\n  logicalExpression: ri!logicalExpression,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"clauseId\",\n      operator: \"in\",\n      value: ri!clauseId\n    ),\n    ri!additionalFilters\n  },\n  selectionColumns: ri!selectionColumns\n)"
    },
    "_a-0000e79a-fc04-8000-9bf4-011c48011c48_2169129": {
      "name": "AS_GCM_IsClauseTextContainsCiteTags",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Removing the table tags if ignoreGrids is true*/\n  local!clauseTextExceptGrids: if(\n    ri!ignoreGrids,\n    regexreplaceall(\"<table(.*?)</table>\", ri!clauseText, \"\"),\n    ri!clauseText\n  ),\n  /*If there are any cite tags then true will be returns otherwise false will be returned*/\n  regexmatch(\n    \"<cite(.*?)</cite>\",\n    local!clauseTextExceptGrids\n  )\n)"
    },
    "_a-0000e643-f7f1-8000-9bca-011c48011c48_1405815": {
      "name": "AS_GCM_CPS_clauseSetValidationWithErrors",
      "type": "Interface",
      "sail_code": "{\n  #\"SYSTEM_SYSRULES_cardLayout\"(\n    contents: {\n      #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n        alignVertical: \"MIDDLE\",\n        items: {\n          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n            width: \"MINIMIZE\",\n            item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              labelPosition: \"COLLAPSED\",\n              value: {\n                #\"SYSTEM_SYSRULES_richTextIcon\"(\n                  icon: \"exclamation-circle\",\n                  size: \"MEDIUM\",\n                  color: \"NEGATIVE\"\n                )\n              }\n            )\n          ),\n          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n            /*As part of GAM-17399 - Below text is tagged as H2 to support a11y*/\n            item: #\"SYSTEM_SYSRULES_headingField\"(\n              headingTag: \"H2\",\n              text: {\n                if(\n                  ri!isFinalize = true(),\n                  rule!AS_GAM_CO_I18N_UT_displayLabel(\n                    bundle: ri!bundle,\n                    bundleKey: \"txt_FinalizeValidationUnsuccessfull\",\n                    arguments: length({ ri!errorClauses, ri!updatedClauses })\n                  ),\n                  rule!AS_GAM_CO_I18N_UT_displayLabel(\n                    bundle: ri!bundle,\n                    bundleKey: \"txt_ValidationUnsuccessfull\",\n                    arguments: length({ ri!errorClauses, ri!updatedClauses })\n                  )\n                )\n              },\n              marginBelow: \"NONE\",\n              size: \"EXTRA_SMALL\",\n              fontWeight: \"BOLD\"\n            )\n          )\n        }\n      )\n    },\n    height: \"AUTO\",\n    style: \"ERROR\",\n    marginBelow: \"STANDARD\",\n    showBorder: false\n  ),\n  rule!AS_GCM_GRD_versionErrorClauses(\n    updatedClauses: ri!updatedClauses,\n    newClauses: ri!newVersionClauses,\n    tempDataForRetain: ri!tempDataForRetain,\n    bundle: ri!bundle,\n    isNotUcf: ri!isNotUcf,\n    rClauseSectionMappings: ri!rClauseSectionMappings\n  ),\n  rule!AS_GCM_GRD_statusErrorClauses(\n    errorClauses: ri!errorClauses,\n    bundle: ri!bundle\n  )\n}"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76004": {
      "name": "AS_CO_I18N_UT_getUserLocale",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  userlocale(ri!user)\n)"
    },
    "_a-0000e69a-ff03-8000-9bd0-011c48011c48_1634022": {
      "name": "AS_GCM_BL_writeToClauseSetClauseText",
      "type": "Expression Rule",
      "sail_code": "/*Note: This rule cannot have assertion as it returns Entity Data combo*/\na!localVariables(\n  local!bundle: rule!AS_GCM_CO_UT_loadBundleFromFolder(langISOCode: null()),\n  local!relationIds: if(\n    ri!updateSpecificClauses = true,\n    ri!clauseRelationIds,\n    if(\n      rule!AS_CO_UT_isBlank(ri!newClauseSetClauses),\n      null,\n      difference(\n        tointeger(\n          index(\n            rule!AS_CO_UT_filterCdtByField(\n              cdt: ri!newClauseSetClauses,\n              field: \"isActive\",\n              value: true\n            ),\n            \"relationId\",\n            {}\n          )\n        ),\n        /*We should not avoid updated excluded clauses while batching*/\n        difference(\n          tointeger(\n            rule!AS_CO_UT_indexPath(\n              cdt: rule!AS_CO_UT_filterCdtByField(\n                cdt: ri!originalClauseSetClauses,\n                field: \"isActive\",\n                value: false\n              ),\n              field: \"relationId\"\n            )\n          ),\n          tointeger(ri!excludedClauseIds)\n        )\n      )\n    )\n  ),\n  local!clauses: if(\n    rule!AS_CO_UT_isBlank(local!relationIds),\n    null,\n    rule!AS_GCM_filterRecords(\n      records: ri!newClauseSetClauses,\n      field: \"relationId\",\n      value: tointeger(local!relationIds)\n    )\n  ),\n  if(\n    rule!AS_CO_UT_isBlank(local!clauses),\n    null,\n    rule!AS_GCM_BL_populateClauseSetClauseTextDetailsByBatching(\n      bundle: local!bundle,\n      clauseSet: ri!clauseSet,\n      initiator: ri!initiator,\n      clauses: local!clauses,\n      updateSpecificClauses: ri!updateSpecificClauses,\n      solicitationSetId: ri!solicitationSetId,\n      copyClauseSetId: ri!copyClauseSetId,\n      copyFillins: ri!copyFillins\n    )\n  )\n)"
    },
    "_a-0000e5bc-4a9a-8000-9bbc-011c48011c48_936866": {
      "name": "AS_GAM_ADT_UT_constructManipulatedAuditData",
      "type": "Expression Rule",
      "sail_code": "/* This rule is used to construct the manipulated audit data*/\n/*The manipulated audit data can be multiple. We are constructing the audit data for each manipulationAudit in auditParams*/\nif(\n  rule!AS_CO_UT_isNotBlank(ri!auditParams.complexFieldName),\n  /*When the audit is captured as nested even when the concerned object cdts are not nested \n    Eg: AS_GSS_Evaluation and AS_GSS_EvaluationDocume nt are not nested but AS_GSS_A_R_Evaluation and AS_GSS_A_R_EvaluationDocument are nested*/\n  rule!AS_GAM_ADT_UT_constructFieldChangesDictionaryForManipulatedAudit(\n    initiator: ri!initiator,\n    auditParams: ri!auditParams\n  ),\n  /*If the audit data is not nested and is manipulated and passed from outsite, we can directly construct the audit entry for each ri!auditParams.manipulationAudit*/\n  rule!AS_GAM_ADT_UT_constructDynamicDictionaryForManipulatedAudit(\n    initiator: ri!initiator,\n    auditParams: ri!auditParams\n  )\n)"
    },
    "_a-0000e3d1-f4dc-8000-9ba4-011c48011c48_143475": {
      "name": "AS_CO_UT_initializeBlankLocalVariable",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_cast(\n  type: ri!type,\n  typeOf: ri!typeOf,\n  value: null\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_165180-adt": {
      "name": "AS_ADT_UT_calculateAudit_SingleObject",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    rule!AS_CO_UT_compareStrong(\n      value1: ri!originalObject,\n      value2: ri!newObject\n    ),\n    ri!externalAction <> cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_INITIATED\n  ),\n  {},\n  a!localVariables(\n    local!auditConfig: rule!AS_CO_UT_dynamicDictionary(\n      fieldValuePairs: {\n        {\n          field: ri!auditConfig.idField,\n          value: rule!AS_CO_UT_replaceNull(\n            nullableValue: index(\n              ri!originalObject,\n              ri!auditConfig.idField,\n              null\n            ),\n            replacementValue: index(\n              ri!newObject,\n              ri!auditConfig.idField,\n              null\n            )\n          )\n        },\n        if(\n          rule!AS_CO_UT_isNotBlank(ri!auditConfig.foreignIdField),\n          {\n            field: if(\n              length(\n                split(ri!auditConfig.foreignIdField, \".\")\n              ) = 2,\n              split(ri!auditConfig.foreignIdField, \".\")[2],\n              split(ri!auditConfig.foreignIdField, \".\")[1]\n            ),\n            value: rule!AS_CO_UT_replaceNull(\n              nullableValue: rule!AS_CO_UT_indexPath(\n                cdt: ri!originalObject,\n                field: ri!auditConfig.foreignIdField\n              ),\n              replacementValue: rule!AS_CO_UT_indexPath(\n                cdt: ri!newObject,\n                field: ri!auditConfig.foreignIdField\n              )\n            )\n          },\n          {}\n        ),\n        { field: \"username\", value: ri!username },\n        { field: \"timestamp\", value: now() },\n        { field: \"auditType\", value: ri!auditType },\n        {\n          field: \"auditActionCode\",\n          value: rule!AS_ADT_UT_determineAuditActionCode(\n            originalObject: ri!originalObject,\n            newObject: ri!newObject,\n            auditConfig: ri!auditConfig,\n            externalAction: ri!externalAction\n          )\n        },\n        {\n          field: \"simpleFieldChanges\",\n          value: rule!AS_ADT_UT_buildSimpleFieldChanges(\n            simpleFields: ri!auditConfig.simpleFields,\n            originalObject: ri!originalObject,\n            newObject: ri!newObject\n          )\n        },\n        if(\n          rule!AS_CO_UT_isBlank(ri!auditConfig.complexFields),\n          {},\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!auditConfig.complexFields,\n            expression: {\n              field: fv!item.auditFieldName,\n              value: rule!AS_ADT_UT_calculateAudit_MultipleObjects(\n                originalObjects: index(ri!originalObject, fv!item.fieldName, {}),\n                newObjects: index(ri!newObject, fv!item.fieldName, {}),\n                auditConfig: fv!item,\n                username: ri!username,\n                externalAction: ri!externalAction\n              )\n            }\n          )\n        )\n      }\n    ),\n    if(\n      /*To make the action code \"UNCHANGED\" if the object is unmodified(excluding the metadata)*/\n      and(\n        rule!AS_CO_UT_not(\n          contains(\n            a!flatten(\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: {\n                  \"simpleFieldChanges\",\n                  index(\n                    ri!auditConfig.complexFields,\n                    \"auditFieldName\",\n                    null\n                  )\n                },\n                expression: or(\n                  rule!AS_CO_UT_isBlank(index(local!auditConfig, fv!item, null)),\n                  if(\n                    contains(\n                      touniformstring(\n                        index(\n                          ri!auditConfig.complexFields,\n                          \"auditFieldName\",\n                          null\n                        )\n                      ),\n                      tostring(fv!item)\n                    ),\n                    not(\n                      contains(\n                        #\"SYSTEM_SYSRULES_forEach\"(\n                          items: rule!AS_CO_UT_indexPath(cdt: local!auditConfig, field: fv!item),\n                          expression: tostring(fv!item.auditActionCode) = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n                        ),\n                        false\n                      )\n                    ),\n                    false\n                  )\n                )\n              )\n            ),\n            false\n          )\n        ),\n        or(\n          tostring(\n            index(\n              local!auditConfig,\n              \"auditActionCode\",\n              null\n            )\n          ) = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n          ri!externalAction = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MANUAL_UPDATE,\n          ri!externalAction = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MANUAL_SYNC\n        )\n      ),\n      rule!AS_CO_UT_updateCdtFields(\n        cdt: local!auditConfig,\n        fields: \"auditActionCode\",\n        newValues: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n      ),\n      local!auditConfig\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75800": {
      "name": "AS_CO_UT_filterCdtByField",
      "type": "Expression Rule",
      "sail_code": "/*Take the input of a cdt, field, and value and returns the matching cdt data\n\nex. cdt of users, filter by field isActive and value of true to find your active users\n*/\ncast(\n  typeof(ri!cdt),\n  index(\n    a!flatten(ri!cdt),\n    rule!AS_CO_UT_returnCdtIndicesByField(\n      cdt: ri!cdt,\n      field: ri!field,\n      value: ri!value\n    ),\n    {}\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_157503": {
      "name": "AS_CO_UT_returnTypeNumber",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer',\n  if(\n    isnull(ri!type),\n    typeof(ri!typeOf),\n    typeof(cast(ri!type, null))\n  )\n)"
    },
    "_a-0000e63a-a5cb-8000-9bc6-011c48011c48_1234027": {
      "name": "AS_GCM_ADT_BL_auditConfig_ClauseSet",
      "type": "Expression Rule",
      "sail_code": "{\n  fieldName: \"\",\n  auditFieldName: \"\",\n  idField: \"setId\",\n  simpleFields: {\n    \"refType.refDataId\",\n    \"refCategory.refDataId\",\n    \"setNumber\",\n    \"categoryNumber\",\n    \"contractingOfficer\",\n    \"contractSpecialist\",\n    \"contractingOffcrRep\",\n    \"refContractMethod.refDataId\",\n    \"refContractFormat.refDataId\",\n    \"contractStartDate\",\n    \"contractEndDate\",\n    \"estimatedDollarAmt\",\n    \"pscCode\",\n    \"naicsCode\",\n    \"contractAmountCheck\",\n    \"refFlowdown.refDataId\",\n    \"placeOfIssuance\",\n    \"placeOfPerformance\",\n    \"contractPurposeDetail\",\n    \"refStatus.refDataId\",\n    \"isExistingVehicle\",\n    \"questionnaire.questionnaireTemplateId\",\n    \"clauseSetTemplate.refTemplate.templateId\",\n    \"folderId\",\n    \"office365FolderId\",\n    \"isActive\",\n    \"validationStatus\",\n    \"solicitationId\",\n    \"awardId\"\n  },\n  complexFields: {\n    rule!AS_GCM_ADT_BL_auditConfig_ClauseSetClauseHelper(),\n    rule!AS_GCM_ADT_BL_auditConfig_ClauseSetContractTypesHelper()\n  }\n}"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1550007": {
      "name": "AS_GCM_BL_getClauseSetAuditIdFromStoredValues",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!storedValues),\n  null,\n  tointeger(\n    index(\n      rule!AS_GAM_UT_getExpectedOutputDataFromStoredValue(\n        storedValues: ri!storedValues,\n        entity: cons!AS_GCM_ENT_A_R_CLAUSE_SET\n      ),\n      \"clauseSetAuditId\"\n    )\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_243040": {
      "name": "AS_CO_UT_compareStrong",
      "type": "Expression Rule",
      "sail_code": "/*Do a strict comarison against types*/\ncast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  and(\n    rule!AS_CO_UT_typeCompare(\n      value1: ri!value1,\n      value2: ri!value2\n    ),\n    ri!value1 = ri!value2\n  )\n)"
    },
    "_a-0000ec34-8724-8000-9d8b-011c48011c48_12649456": {
      "name": "AS_GCM_autoPopulateFillinandSetMetaDataOnClauseAddition",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    a!isNotNullOrEmpty(ri!clauseText),\n    ri!isUpdateClauseText,\n    find(\"</cite>\", ri!clauseText) <> 0\n  ),\n  a!localVariables(\n    /* look for the fillin metadata hidden tag */\n    local!hiddenTag: regexfirstmatch(\n      cons!AS_GCM_TXT_REGEX_FOR_HIDDEN_SPAN_TAG_FILLIN_METADATA,\n      ri!clauseText,\n      \"gm\"\n    ),\n    /*Extracting all tables from the clause text*/\n    local!tableFillinCount: length(\n      regexallmatches(\n        \"<table.*?</cite>.*?</table>\",\n        ri!clauseText\n      )\n    ),\n    /* get all the simple fillins (Single line, Multiline, Checkbox) expect the table fillins */\n    local!allSimpleFillins: #\"SYSTEM_SYSRULES_forEach\"(\n      items: regexallmatches(\n        \"<cite.*?</cite>\",\n        regexreplaceall(\"<table.*?</table>\", ri!clauseText, \"\")\n      ),\n      expression: rule!AS_GCM_UT_findFillIns(fillInText: fv!item)\n    ),\n    /* get the auto populate values for the fillins */\n    local!autoPopulateValue: rule!AS_GCM_QR_getFillInRecDetails(\n      returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n      fillInRecFillInUuid: index(local!allSimpleFillins, \"uuid\", null),\n      isAutoPopulated: true(),\n      executeWhen: a!isNotNullOrEmpty(\n        index(local!allSimpleFillins, \"uuid\", null)\n      )\n    ),\n    local!recFillins: rule!AS_GCM_filterRecords(\n      records: local!allSimpleFillins,\n      field: \"uuid\",\n      value: local!autoPopulateValue[recordType!AS GCM Fill In Recommendation.fillInRecFillInUuid]\n    ),\n    /* update the cite tag with the auto populated values */\n    local!updatedFillins: #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!recFillins,\n      expression: a!localVariables(\n        local!value: regexreplaceall(\n          \"<cite.*?>|</cite>\",\n          index(fv!item, \"cite\", \"\"),\n          \"\"\n        ),\n        local!autoPopulatedValue: rule!AS_CO_UT_cast(\n          type: recordType!AS GCM Fill In Recommendation,\n          value: rule!AS_GCM_filterRecords(\n            records: local!autoPopulateValue,\n            field: recordType!AS GCM Fill In Recommendation.fillInRecFillInUuid,\n            value: index(fv!item, \"uuid\", \"\")\n          )\n        ),\n        #\"urn:appian:function:v1:a:update\"(\n          data: fv!item,\n          index: \"cite\",\n          value: substitute(\n            index(fv!item, \"cite\", \"\"),\n            local!value,\n            tostring(\n              a!defaultValue(\n                value: local!autoPopulatedValue[recordType!AS GCM Fill In Recommendation.fillInStaticRec],\n                default: rule!AS_GCM_BL_dynamicFillinRecommendation(\n                  bundle: ri!bundle,\n                  clauseSet: ri!clauseSet,\n                  fillInDynmaicRecId: local!autoPopulatedValue[recordType!AS GCM Fill In Recommendation.fillInDynamicRecId]\n                ),\n                /* retain the cite tag with existing value */\n                default: local!value\n              )\n            )\n          )\n        )\n      )\n    ),\n    /* Get the fillins which are updated with auto populated values as all the dynamicRecFillIn will not be updated all the time*/\n    local!captureMetaDataFillins: difference(local!updatedFillins, local!recFillins),\n    local!updatedClauseText: rule!AS_GCM_substituteListFromTextUsingReduce(\n      text: ri!clauseText,\n      find: index(local!recFillins, \"cite\", null()),\n      replaceWith: index(local!updatedFillins, \"cite\", null())\n    ),\n    local!metaDataAndStats: rule!AS_GCM_constructClauseTextMetaDataFromClauseText(\n      fillinsUuid: index(local!captureMetaDataFillins, \"uuid\", \"\"),\n      completedBy: cons!AS_GCM_TXT_FILL_IN_COMPLETED_BY_SYSTEM_AGENCY,\n      totalFillinCount: length(local!allSimpleFillins) + local!tableFillinCount,\n      completedFillinCount: length(local!captureMetaDataFillins),\n      fillableTableCount: local!tableFillinCount,\n      /*0 is hardcoded here because the table fill-ins cannot be auto-populated during creation of clause set  */\n      completedFillableTableCount: 0,\n      totalSimpleFillins: length(local!allSimpleFillins),\n      completedSimpleFillins: length(local!captureMetaDataFillins),\n      totalCiteTagsCount: length(\n        regexallmatches(\"<cite.*?</cite>\", ri!clauseText)\n      )\n    ),\n    if(\n      a!isNotNullOrEmpty(local!hiddenTag),\n      substitute(\n        local!updatedClauseText,\n        local!hiddenTag,\n        local!metaDataAndStats\n      ),\n      concat(\n        local!updatedClauseText,\n        local!metaDataAndStats\n      )\n    )\n  ),\n  ri!clauseText\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_187421": {
      "name": "AS_CO_UT_displayValue",
      "type": "Expression Rule",
      "sail_code": "displayvalue(\n  \n  ri!value,\n  \n  ri!inArray,\n  \n  ri!replacement,\n  \n  if(\n    \n    ri!firstIsDefault,\n    ri!replacement[1],\n    \n    ri!lastIsDefault,\n    ri!replacement[count(ri!replacement)],\n    \n    ri!customDefault\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73980": {
      "name": "AS_CO_UT_replaceNull",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!nullableValue),\n  ri!replacementValue,\n  ri!nullableValue\n)"
    },
    "_a-0000e69a-ff03-8000-9bd0-011c48011c48_1619315": {
      "name": "AS_GCM_setMetaDataForClauseSetClauseTextCdt",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_cast(\n  typeOf: ri!clauseSetClauseTexts,\n  value: #\"SYSTEM_SYSRULES_forEach\"(\n    items: merge(\n      a!defaultValue(\n        value: ri!clauseSetClauseTexts,\n        default: {}\n      ),\n      a!defaultValue(value: ri!clauseSetClauses, default: {})\n    ),\n    expression: rule!AS_GCM_setRecordFields(\n      record: a!defaultValue(\n        fv!item[1],\n        'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_Clause_Text'()\n      ),\n      neverOverwrite: {\n        a!map(field: \"createdBy\", value: ri!initiator),\n        a!map(field: \"createdDatetime\", value: now()),\n        a!map(field: \"isActive\", value: true),\n        a!map(\n          field: \"relationId\",\n          value: index(fv!item[2], \"relationId\", null)\n        ),\n        a!map(field: \"setId\", value: ri!clauseSet.setId)\n      },\n      alwaysOverwrite: a!localVariables(\n        local!refClauseText: tostring(\n          index(\n            rule!AS_GCM_filterRecords(\n              records: ri!refClauseTexts,\n              field: \"clauseId\",\n              value: tointeger(\n                rule!AS_CO_UT_indexPath(\n                  cdt: fv!item[2],\n                  field: \"refClause.clauseId\",\n                  indexDefault: null\n                )\n              )\n            ),\n            \"clauseText\",\n            \"\"\n          )\n        ),\n        local!clauseText: if(\n          ri!preventClauseTextReset,\n          fv!item[1].clauseText,\n          a!defaultValue(\n          value: rule!AS_GCM_autoPopulateFillinandSetMetaDataOnClauseAddition(\n            bundle: ri!bundle,\n            clauseText: local!refClauseText,\n            clauseSet: ri!clauseSet,\n            isUpdateClauseText: true()\n          ),\n          default: fv!item[1].clauseText\n          )\n        ),\n        local!clauseTextOriginal: if(\n          ri!preventClauseTextReset,\n          fv!item[1].clauseTextOriginal,\n          a!defaultValue(\n            value: local!refClauseText,\n            default: fv!item[1].clauseTextOriginal\n          )\n        ),\n        {\n          a!map(field: \"modifiedBy\", value: ri!initiator),\n          a!map(field: \"modifiedDatetime\", value: now()),\n          a!map(\n            field: \"clauseText\",\n            value: local!clauseText\n          ),\n          a!map(\n            field: \"clauseTextOriginal\",\n            value: local!clauseTextOriginal\n          ),\n          a!map(\n            field: \"clauseTextLength\",\n            value: len(local!clauseText)\n          ),\n          a!map(\n            field: \"clauseTextOriginalLength\",\n            value: len(local!clauseTextOriginal)\n          )\n        }\n      )\n    )\n  )\n)"
    },
    "_a-0000e615-fd0f-8000-9bc1-011c48011c48_1164426": {
      "name": "AS_GCM_QR_getRefData",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryRecord(\n  recordType: recordType!AS GCM R Data,\n  returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n  fields: ri!fields,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM R Data.isActive,\n      operator: \"=\",\n      value: true,\n      applyWhen: not(\n        rule!AS_CO_UT_booleanDefaultFalse(boolean: ri!returnAllData)\n      )\n    )\n  },\n  logicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n    operator: \"OR\",\n    filters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM R Data.refType,\n        operator: \"in\",\n        value: ri!refTypes\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM R Data.refDataId,\n        operator: \"in\",\n        value: ri!refDataId\n      )\n    },\n    ignoreFiltersWithEmptyValues: true()\n  ),\n  sort: a!defaultValue(\n    value: ri!sortInfo,\n    default: {\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!AS GCM R Data.sortOrder,\n        ascending: true\n      ),\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!AS GCM R Data.refLabel,\n        ascending: true\n      )\n    }\n  ),\n  castToCdtType: if(\n    rule!AS_CO_UT_booleanDefaultTrue(boolean: ri!doCastToCdt),\n    'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Data',\n    null\n  )\n)"
    },
    "_a-0000ed8a-02db-8000-9dfc-011c48011c48_15455949": {
      "name": "AS_GCM_showConfirmationScreenForValidateAndFinalizeClauseSet",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!setId),\n  null,\n  a!localVariables(\n    local!allClauses: rule!AS_GCM_QR_getClauseSetClauseDetails(\n      setId: ri!setId,\n      executeWhen: a!isNotNullOrEmpty(ri!setId),\n      returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n      includeRelatedRecords: true,\n      additionalfilters: #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM Clause Set Clause Synced.isActive,\n        operator: \"=\",\n        value: true\n      )\n    ),\n    local!errorClauses: rule!AS_GCM_UT_checkStatusValidation(clauses: local!allClauses),\n    local!relationIdsToQuery: index(\n      rule!AS_GCM_UT_clauseVersionValidation(clause: local!allClauses),\n      \"relationId\",\n      null()\n    ),\n    local!activeclauseSetClauses: rule!AS_GCM_filterRecords(\n      records: local!allClauses,\n      field: recordType!AS GCM Clause Set Clause Synced.relationId,\n      value: local!relationIdsToQuery\n    ),\n    local!updatedClauses: rule!AS_GCM_UT_clauseVersionValidation(clause: local!activeClauseSetClauses),\n    and(\n      rule!AS_CO_UT_isBlank(local!errorClauses),\n      rule!AS_CO_UT_isBlank(local!updatedClauses)\n    )\n  )\n)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1548032": {
      "name": "AS_GCM_BL_constructHelperForClauseSetClauseAndClauseText",
      "type": "Expression Rule",
      "sail_code": "if(\n  all(\n    rule!AS_CO_UT_isBlank,\n    { ri!clauses, ri!clauseTexts }\n  ),\n  rule!AS_CO_UT_initializeBlankLocalVariable(\n    type: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_Clause_Helper'\n  ),\n  /*Combining AS_GCM_ClauseSet_Clause and AS_GCM_ClauseSet_Clause_Text*/\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!clauses,\n    expression: rule!AS_CO_UT_cast(\n      type: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_Clause_Helper',\n      value: {\n        relationId: fv!item.relationId,\n        setId: fv!item.setId,\n        refClause: fv!item.refClause,\n        section: fv!item.section,\n        refUsage: fv!item.refUsage,\n        refStatus: fv!item.refStatus,\n        refAddedVia: fv!item.refAddedVia,\n        format: fv!item.format,\n        effectiveDate: fv!item.effectiveDate,\n        validationAction: fv!item.validationAction,\n        clauseTitle: fv!item.clauseTitle,\n        retainedEffectiveDate: fv!item.retainedEffectiveDate,\n        alternateValue:fv!item.alternateValue,\n        clauseText: rule!AS_CO_UT_filterCdtByField(\n          cdt: ri!clauseTexts,\n          field: \"relationId\",\n          value: index(fv!item, \"relationId\", null)\n        ).clauseText,\n        /*Metadata from both the CDTs would be the same. Using AS_GCM_R_Clause's data here*/\n        createdBy: fv!item.createdBy,\n        createdDatetime: fv!item.createdDatetime,\n        modifiedBy: fv!item.modifiedBy,\n        modifiedDatetime: fv!item.modifiedDatetime,\n        isActive: fv!item.isActive\n      }\n    )\n  )\n)"
    },
    "_a-0000e643-f7f1-8000-9bca-011c48011c48_1405510": {
      "name": "AS_GCM_FM_clauseSetValidation",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!bundle: rule!AS_GCM_CO_UT_loadBundleFromFolder(langISOCode: null),\n  local!allClauses: rule!AS_GCM_QE_getClauseSetClauseDetailsWithBatching(\n    returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n    setId: ri!clauseSet.setId,\n    executeWhen: a!isNotNullOrEmpty(ri!clauseSet.setId),\n    batchingSize: cons!AS_GCM_INT_QUERY_BATCH_SIZE_LARGE,\n    showInactive: false(),\n    selectionColumns: {\n      \"relationId\",\n      \"refClause.clauseId\",\n      \"refClause.clauseNumber\",\n      \"refClause.clauseTitle\",\n      \"refClause.alternateValue\",\n      \"clauseTitle\",\n      \"retainedClauseTitle\",\n      \"alternateValue\",\n      \"refClause.effectiveDate\",\n      \"effectiveDate\",\n      \"retainedEffectiveDate\",\n      \"refStatus.refDataId\",\n      \"validationAction\",\n      \"isClauseUpdated\",\n      \"refClause.deviation\"\n    }\n  ),\n  local!errorClauses: rule!AS_GCM_UT_checkStatusValidation(clauses: local!allClauses),\n  /*Getting only the valid relationIds to query data from the DB*/\n  local!relationIdsToQuery: index(\n    rule!AS_GCM_UT_clauseVersionValidation(clause: local!allClauses),\n    \"relationId\",\n    null()\n  ),\n  local!activeclauseSetClauses: rule!AS_GCM_QE_getClauseSetClauseDetailsWithBatching(\n    returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n    relationIds: local!relationIdsToQuery,\n    executeWhen: rule!AS_CO_UT_isNotBlank(local!relationIdsToQuery),\n    batchingSize: cons!AS_GCM_INT_QUERY_BATCH_SIZE_LARGE,\n    showInactive: false(),\n    onlyGetFieldsForWrite: true(),\n    selectAdditionalFieldsForWrite: {\n      \"refClause.clauseNumber\",\n      \"refClause.clauseTitle\",\n      \"refClause.alternateValue\",\n      \"refClause.effectiveDate\",\n      \"refClause.modifiedDatetime\",\n      \"refClause.editable\",\n      \"refClause.fillIn\",\n      \"refClause.ucfSection\",\n      \"refClause.deviation\"\n    }\n  ),\n  local!updatedClauses: rule!AS_GCM_UT_clauseVersionValidation(clause: local!activeClauseSetClauses),\n  local!tempDataForRetain: a!refreshVariable(\n    value: local!updatedClauses,\n    refreshOnReferencedVarChange: false()\n  ),\n  local!rClauses: index(\n    local!updatedClauses,\n    \"refClause\",\n    null()\n  ),\n  local!isNotUcf: and(\n    rule!AS_CO_UT_isNotBlank(\n      ri!clauseSet.refContractFormat.refDataId\n    ),\n    tointeger(\n      ri!clauseSet.refContractFormat.refDataId\n    ) <> cons!AS_GCM_REF_ID_CONTRACT_FORMAT_UCF,\n\n  ),\n  local!rClauseSectionMappings: rule!AS_GCM_QR_getRefClauseSectionMapping(\n    returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n    executeWhen: and(\n      rule!AS_CO_UT_isNotBlank(local!rClauses),\n      rule!AS_CO_UT_booleanDefaultFalse(local!isNotUcf)\n    ),\n    filters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM R Clause Section Mapping.refSection.contractFormatId,\n        operator: \"=\",\n        value: ri!clauseSet.refContractFormat.refDataId\n      )\n    },\n    clauseIds: index(local!rClauses, \"clauseId\", {}),\n    fields: {\n      recordType!AS GCM R Clause Section Mapping.refSection\n    }\n  ),\n  local!refData: rule!AS_GCM_QR_getRefData(\n    refTypes: { cons!AS_GCM_REF_TYPE_CLAUSE_SET_STATUS },\n    refDataId: {\n      cons!AS_GCM_REF_ID_CLAUSE_SET_STATUS_DRAFT,\n      cons!AS_GCM_REF_ID_CLAUSE_SET_STATUS_FINALIZED,\n      cons!AS_GCM_REF_ID_CLAUSE_SET_STATUS_VALIDATED\n    }\n  ),\n  local!isError: or(\n    rule!AS_CO_UT_isNotBlank(local!errorClauses),\n    rule!AS_CO_UT_isNotBlank(local!updatedClauses)\n  ),\n  if(\n    ri!clauseSet.refStatus.refDataId = cons!AS_GCM_REF_ID_CLAUSE_SET_STATUS_GENERATING,\n    rule!AS_GCM_CPS_ClauseSetRelatedActionPlaceholder(\n      bundle: local!bundle,\n      userAction: ri!userAction\n    ),\n    #\"SYSTEM_SYSRULES_formLayout_v1\"(\n      label: if(\n        ri!isFinalize = true(),\n        \"\",\n        \"\"\n      ),\n      contents: {\n        if(\n          and(\n            rule!AS_CO_UT_isBlank(local!errorClauses),\n            rule!AS_CO_UT_isBlank(local!updatedClauses)\n          ),\n          rule!AS_GCM_CPS_clauseSetValidationWithoutErrors(\n            bundle: local!bundle,\n            isFinalize: ri!isFinalize\n          ),\n          {\n            rule!AS_GCM_CPS_clauseSetValidationWithErrors(\n              updatedClauses: local!updatedClauses,\n              errorClauses: local!errorClauses,\n              newVersionClauses: local!rClauses,\n              bundle: local!bundle,\n              isFinalize: ri!isFinalize,\n              tempDataForRetain: local!tempDataForRetain,\n              isNotUcf: local!isNotUcf,\n              rClauseSectionMappings: local!rClauseSectionMappings\n            )\n          }\n        )\n      },\n      buttons: #\"SYSTEM_SYSRULES_ButtonLayout\"(\n        primaryButtons: {\n          #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n            label: \"\",\n            value: cons!AS_CO_ENUM_USER_ACTION_SAVE,\n            saveInto: {\n              ri!userAction,\n              /*Saving the Ids of the clauses update*/\n              if(\n                rule!AS_CO_UT_isBlank(local!updatedClauses),\n                null,\n                a!save(\n                  ri!updatedClauseRelationIds,\n                  index(\n                    local!updatedClauses.relationId,\n                    wherecontains(\n                      cons!AS_GCM_VALIDATION_ACTION_UPDATE,\n                      local!updatedClauses.validationAction\n                    ),\n                    null\n                  )\n                )\n              ),\n              if(\n                rule!AS_CO_UT_isBlank(local!updatedClauses),\n                null,\n                a!save(\n                  ri!retainClauseRelationIds,\n                  index(\n                    local!updatedClauses.relationId,\n                    wherecontains(\n                      cons!AS_GCM_VALIDATION_ACTION_RETAIN,\n                      local!updatedClauses.validationAction\n                    ),\n                    null\n                  )\n                )\n              ),\n              /*Mark proper validation action*/\n              if(\n                rule!AS_CO_UT_isBlank(local!updatedClauses),\n                {},\n                a!save(\n                  local!updatedClauses,\n                  #\"SYSTEM_SYSRULES_forEach\"(\n                    items: local!updatedClauses,\n                    expression: rule!AS_CO_UT_updateCdtFields(\n                      cdt: fv!item,\n                      fields: { \"validationAction\", \"isClauseUpdated\" },\n                      newValues: {\n                        rule!AS_CO_UT_replaceNull(\n                          nullableValue: fv!item.validationAction,\n                          replacementValue: rule!AS_CO_UT_filterCdtByField(\n                            cdt: local!allClauses,\n                            field: \"relationId\",\n                            value: fv!item.relationId\n                          ).validationAction\n                        ),\n                        rule!AS_GCM_UT_isClauseUpdated(clauseSetClause: fv!item)\n                      }\n                    )\n                  )\n                )\n              ),\n              /*Storing updated/retained clauses*/\n              a!save(\n                ri!clauseSetClauses,\n                local!updatedClauses\n              ),\n              a!save(ri!clauseSet.validationDate, now()),\n              a!save(\n                ri!clauseSet.validationStatus,\n                not(local!isError)\n              ),\n              a!save(\n                ri!clauseSet.refStatus,\n                rule!AS_CO_UT_filterCdtByField(\n                  cdt: local!refData,\n                  field: \"refDataId\",\n                  value: if(\n                    local!isError,\n                    cons!AS_GCM_REF_ID_CLAUSE_SET_STATUS_DRAFT,\n                    if(\n                      ri!isFinalize = true(),\n                      cons!AS_GCM_REF_ID_CLAUSE_SET_STATUS_FINALIZED,\n                      cons!AS_GCM_REF_ID_CLAUSE_SET_STATUS_VALIDATED\n                    )\n                  )\n                )\n              ),\n              if(\n                local!isError,\n                rule!AS_GCM_MTR_SAVE_applicationMetricsForFailedValidations(),\n                rule!AS_GCM_MTR_SAVE_applicationMetricsForSuccesfullValidations()\n              )\n            },\n            submit: true(),\n            accessibilityText: \"\"\n          )\n        }\n      )\n    )\n  )\n)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1550139": {
      "name": "AS_GCM_ADT_BL_auditConfig_ClauseSetClauseHelper",
      "type": "Expression Rule",
      "sail_code": "{\n  fieldName: \"clauses\",\n  auditFieldName: \"clausesChanges\",\n  idField: \"relationId\",\n  foreignIdField: \"setId\",\n  simpleFields: {\n    \"setId\",\n    \"refClause.clauseId\",\n    \"section.sectionLabel\",\n    \"clauseTitle\",\n    \"alternateValue\",\n    \"clauseText\",\n    \"refUsage.refDataId\",\n    \"refStatus.refDataId\",\n    \"format.refDataId\",\n    \"effectiveDate\",\n    \"isActive\",\n    \"validationAction\"\n  },\n  complexFields: {}\n}"
    },
    "f28850a6-d0cc-4841-a587-a36a568d70a3": {
      "name": "AS_GCM_UT_nullifyEmptyNestedCdtFields",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Returning only nested fields to null nested empty cdts*/\n  local!nestedFieldNames: difference(\n    touniformstring(\n      rule!AS_CO_UT_returnCdtFields(\n        typeOf: ri!cdt,\n        onlyPrimitiveFields: false()\n      )\n    ),\n    touniformstring(\n      rule!AS_CO_UT_returnCdtFields(\n        typeOf: ri!cdt,\n        onlyPrimitiveFields: true()\n      )\n    )\n  ),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!cdt,\n    expression: rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n      cdt: fv!item,\n      fieldValuePairs: a!localVariables(\n        local!cdt: fv!item,\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: local!nestedFieldNames,\n          expression: {\n            field: fv!item,\n            value: if(\n              rule!AS_CO_UT_isBlank(\n                rule!AS_CO_UT_indexPath(\n                  cdt: local!cdt,\n                  field: fv!item & \".\" & rule!AS_GCM_UT_getPrimaryKeyFieldByType(cdt: index(local!cdt, fv!item)),\n                  indexDefault: null()\n                )\n              ),\n              null,\n              index(local!cdt, fv!item, null())\n            )\n          }\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81749": {
      "name": "AS_CO_UT_checkIfUserExists",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  and(\n    rule!AS_CO_UT_isNotBlank(ri!user),\n    isusernametaken(ri!user)\n  )\n)"
    },
    "_a-0000ec06-6336-8000-9d71-011c48011c48_12260935": {
      "name": "AS_GAM_UT_batchDataByFieldUnderThreshold",
      "type": "Expression Rule",
      "sail_code": "/*\nThis rule works by batching the given data which are under the given threshold. \nThis rule also supports CDT/Record/Map/Dictionary data. In such case ri!fields is required \n\nCheck Testcases for more examples.\nEg. 1 - data is {1,6,3,4,5,2,5,3,11,10} and threshold 10\n\nThen the output would be 5 batches as follows\n\na!map(\n  batches: {\n    a!map(\n      batch: 1, \n      batchCheckSum: 9.0, \n      data: {1, 2, 3, 3}), \n    a!map(\n      batch: 2, \n      batchCheckSum: 9.0, \n      data: {4, 5}), \n    a!map(\n      batch: 3, \n      batchCheckSum: 5.0, \n      data: {5}), \n    a!map(\n      batch: 4, \n      batchCheckSum: 6.0, \n      data: {6}), \n    a!map(\n      batch: 5, \n      batchCheckSum: 10.0, \n      data: {10})}, \n  exceedingThreshold: {11}, \n  invalidData: {})\n*/\nif(\n  rule!AS_CO_UT_isNotBlank(ri!data),\n  reduce(\n    rule!AS_GAM_UT_batchDataByFieldUnderThreshold_Helper(\n      helperMap: _,\n      newValue: _,\n      threshold: ri!threashold,\n      fields: ri!fields,\n      excludeNulls: ri!excludeNulls\n    ),\n    a!map(\n      batches: {},\n      exceedingThreshold: {},\n      invalidData: {}\n    ),\n    if(\n      rule!AS_GAM_UT_ArrayLength(ri!fields) > 1,\n      rule!AS_CO_UT_cast(\n        typeOf: ri!data,\n        value: \n          rule!AS_GAM_UT_sortAnyData(\n            data: #\"SYSTEM_SYSRULES_forEach\"(\n              items: ri!data,\n              expression: a!map(\n                sum: sum(apply(index(fv!item, _, 0), { ri!fields })),\n                data: fv!item\n              )\n            ),\n            field: \"sum\",\n            ascending: true,\n            nullsFirst: true\n          ).data\n      ),\n      rule!AS_GAM_UT_sortAnyData(\n        data: ri!data,\n        field: ri!fields,\n        nullsFirst: true\n      )\n    )\n  ),\n  /* By default returning an empty map to indicate that the given data is empty */\n  a!map(\n    batches: {},\n    exceedingThreshold: {},\n    invalidData: {}\n  )\n)"
    },
    "_a-0000e643-f7f1-8000-9bca-011c48011c48_1413692": {
      "name": "AS_GCM_GRD_statusErrorClauses",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!data: #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!errorClauses,\n    expression: a!map(\n      clause: rule!AS_GCM_DSP_clauseRecordTitle(\n        clauseNumber: fv!item.refClause.clauseNumber,\n        clauseTitle: fv!item.clauseTitle,\n        alternateValue: fv!item.alternateValue,\n        deviation: fv!item.refClause.deviation\n      ),\n      error: if(\n        fv!item.refClause.editable = true(),\n        \"\",\n        if(\n          fv!item.refClause.fillIn = true(),\n          \"\",\n          \"\"\n        )\n      )\n    )\n  ),\n  {\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      labelPosition: \"COLLAPSED\",\n      value: {\n        char(10),\n        #\"SYSTEM_SYSRULES_richTextHeader\"(\n          text: {\n            \"\"\n          },\n          size: \"SMALL\"\n        ),\n        \"\"\n      }\n    ),\n    #\"SYSTEM_SYSRULES_cardLayout\"(\n      height: \"AUTO\",\n      style: \"NONE\",\n      padding: \"NONE\",\n      marginBelow: \"STANDARD\",\n      contents: {\n        #\"SYSTEM_SYSRULES_gridField_v2\"(\n          label: \"\",\n          labelPosition: \"COLLAPSED\",\n          rowheader: 1,\n          emptyGridMessage: \"\",\n          pageSize: cons!AS_CO_ENUM_PAGE_SIZE_MEDIUM_LARGE,\n          data: todatasubset(local!data, fv!pagingInfo),\n          columns: {\n            #\"SYSTEM_SYSRULES_gridColumn\"(\n              label: \"\",\n              sortField: \"clauseNumber\",\n              value: fv!row.clause\n            ),\n            #\"SYSTEM_SYSRULES_gridColumn\"(\n              label: \"\",\n              sortField: \"error\",\n              value: fv!row.error,\n              width: \"NARROW_PLUS\"\n            )\n          },\n          spacing: \"STANDARD\",\n          borderStyle: \"LIGHT\"\n        )\n      }\n    )\n  }\n)"
    },
    "_a-0000e69a-ff03-8000-9bd0-011c48011c48_1635942": {
      "name": "AS_GCM_BL_writeToClauseSetClauseAudit",
      "type": "Expression Rule",
      "sail_code": "/*Note: This rule cannot have assertion as it returns Entity Data combo*/\na!localVariables(\n  local!relationIds: if(\n    ri!updateSpecificClauses = true,\n    ri!clauseRelationIds,\n    if(\n      rule!AS_CO_UT_isBlank(ri!clauseSetClauses),\n      null,\n      difference(\n        tointeger(\n          rule!AS_CO_UT_indexPath(\n            cdt: ri!clauseSetClauses,\n            field: \"relationId\"\n          )\n        ),\n        /*We should not avoid updated excluded clauses while batching*/\n        difference(\n          tointeger(\n            rule!AS_CO_UT_indexPath(\n              cdt: rule!AS_CO_UT_filterCdtByField(\n                cdt: ri!originalClauseSetClauses,\n                field: \"isActive\",\n                value: false\n              ),\n              field: \"relationId\"\n            )\n          ),\n          tointeger(ri!excludedClauseIds)\n        )\n      )\n    )\n  ),\n  local!clauses: if(\n    rule!AS_CO_UT_isBlank(local!relationIds),\n    null,\n    rule!AS_CO_UT_filterCdtByField(\n      cdt: ri!clauseSetClauses,\n      field: \"relationId\",\n      value: tointeger(local!relationIds)\n    )\n  ),\n  local!originalClauseSetCaluses: if(\n    ri!updateSpecificClauses = true,\n    rule!AS_CO_UT_filterCdtByField(\n      cdt: ri!originalClauseSetClauses,\n      field: \"relationId\",\n      value: tointeger(local!relationIds)\n    ),\n    ri!originalClauseSetClauses\n  ),\n  rule!AS_GCM_UT_captureAuditForClauseSetClauseAndClauseTextForClauseAudit(\n    initiator: ri!initiator,\n    clauses: local!clauses,\n    clauseSetAuditData: ri!clauseSetAuditData,\n    originalClauseSetClauses: local!originalClauseSetCaluses\n  )\n)"
    },
    "_a-0000e915-02bc-8000-9c1f-011c48011c48_3773963": {
      "name": "AS_GCM_mergeMultipleMapsIntoSingleMap",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_cast(\n  type: 'type!{http://www.appian.com/ae/types/2009}Map',\n  value: a!localVariables(\n    local!keys: #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!mapsToMerge,\n      expression: a!keys(fv!item)\n    ),\n    local!values: a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!keys,\n        expression: apply(\n          index(ri!mapsToMerge[fv!index], _, {}),\n          fv!item\n        )\n      )\n    ),\n    reduce(\n      fn!insert,\n      cast(\n        'type!{http://www.appian.com/ae/types/2009}Dictionary',\n        {}\n      ),\n      merge(local!values, a!flatten(local!keys))\n    )\n  )\n),"
    },
    "_a-0000eb85-3dbf-8000-9d30-011c48011c48_10991191": {
      "name": "AS_GCM_BL_returnClauseSetClauseStatusId",
      "type": "Expression Rule",
      "sail_code": "if(\n  /* retain the clause set clause status if any below boolean is true() */\n  or(\n    ri!isCopyFillins,\n    ri!isAmendmentModification,\n    ri!isCreateAwardFromSolicitation\n  ),\n  ri!statusId,\n  if(\n    and(\n      or(ri!isFillin, ri!isEditable),\n      /*Validating IBR clauses based on \"Ignore IBR Validation Errors\" toggle*/\n      if(\n        rule!AS_GCM_IBRValidationDisabled_wrapper(),\n        ri!formatId = cons!AS_GCM_REF_ID_FORMAT_FULL_TEXT,\n        {}\n      )\n    ),\n    if(\n      a!isNullOrEmpty(ri!fillinStats),\n      cons!AS_GCM_REF_ID_CLAUSE_SET_CLAUSE_STATUS_INCOMPLETE,\n      /* check if all the fillins are completed */\n      if(\n        ri!fillinStats.totalFillinCount = ri!fillinStats.completedFillinCount,\n        cons!AS_GCM_REF_ID_CLAUSE_SET_CLAUSE_STATUS_COMPLETE,\n        cons!AS_GCM_REF_ID_CLAUSE_SET_CLAUSE_STATUS_INCOMPLETE\n      )\n    ),\n    cons!AS_GCM_REF_ID_CLAUSE_SET_CLAUSE_STATUS_COMPLETE\n  )\n)"
    },
    "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3261182": {
      "name": "AS_GCM_UT_formatDataBasedOnReturnType",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!datasubset: todatasubset(\n    /* Output Modifier   */\n    rule!AS_GCM_updateDataByModifierMaps(\n      data: ri!data,\n      modifierMaps: ri!modifierMaps\n    ),\n    ri!pagingInfo\n  ),\n  a!match(\n    value: ri!returnType,\n    equals: cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    then: local!datasubset,\n    /* When the data is null then just return the same    */\n    whenTrue: rule!AS_CO_UT_isBlank(ri!data),\n    then: ri!data,\n    /* When the return type is SINGLE_OBJECT then type cast to its corresponding single object type   */\n    equals: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT,\n    then: rule!AS_CO_UT_cast(\n      typeOf: a!flatten(ri!data)[1],\n      value: index(local!datasubset.data, 1, null)\n    ),\n    default: rule!AS_CO_UT_cast(\n      typeOf: ri!data,\n      value: local!datasubset.data\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73856": {
      "name": "AS_CO_UT_dynamicDictionary",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n    cdt: rule!AS_CO_UT_returnNullDictionary(),\n    fieldValuePairs: ri!fieldValuePairs\n  )\n)"
    },
    "_a-0000e643-f7f1-8000-9bca-011c48011c48_1415119": {
      "name": "AS_GCM_UT_clauseVersionValidation",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_rejectNullValuesFromArray(\n  {\n    /* Updating \"isClauseUpdated\" for updated clauses\" */\n    rule!AS_CO_UT_updateCdtFields(\n      cdt: filter(\n        rule!AS_GCM_UT_isClauseUpdated(clauseSetClause: _),\n        ri!clause\n      ),\n      fields: { \"validationAction\", \"isClauseUpdated\" },\n      newValues: { null, true() }\n    ),\n    /* Updating \"isClauseUpdated\" for not updated clauses\" */\n    rule!AS_CO_UT_updateCdtFields(\n      cdt: filter(\n        rule!AS_GCM_UT_isClauseNotUpdated(clauseSetClause: _),\n        ri!clause\n      ),\n      fields: { \"validationAction\", \"isClauseUpdated\" },\n      newValues: { null, false() }\n    )\n  }\n)"
    },
    "_a-0000e79a-fc04-8000-9bf4-011c48011c48_2321842": {
      "name": "AS_GCM_UT_isCompleteFillinsActionAvailable",
      "type": "Expression Rule",
      "sail_code": "rule!AS_GCM_IsClauseTextContainsCiteTags(\n  clauseText: ri!clauseText,\n  ignoreGrids: false()\n)"
    },
    "_a-0000ec3d-c379-8000-9d8e-011c48011c48_12719077": {
      "name": "AS_GCM_constructClauseTextMetaDataFromClauseText",
      "type": "Expression Rule",
      "sail_code": "\"<span hidden=\"\"\"\">\" & #\"SYSTEM_SYSRULES_toJson_v1\"(\n  {\n    /* DO NOT update the below keys */\n    fillins: {\n      metadata: a!defaultValue(\n        value: ri!fillinMetadata,\n        default: rule!AS_GAM_createMap(\n          keys: ri!fillinsUuid,\n          values: repeat(\n            length(\n              a!defaultValue(value: ri!fillinsUuid, default: {})\n            ),\n            a!map(\n              completedBy: a!defaultValue(\n                value: ri!completedBy,\n                default: cons!AS_GCM_TXT_FILL_IN_COMPLETED_BY_SYSTEM_AGENCY\n              ),\n              completedOn: now()\n            )\n          )\n        )\n      ),\n      stats: a!defaultValue(\n        value: ri!fillinStats,\n        default: {\n          totalFillinCount: ri!totalFillinCount,\n          completedFillinCount: ri!completedFillinCount,\n          fillableTableCount: ri!fillableTableCount,\n          completedFillableTableCount: ri!completedFillableTableCount,\n          totalSimpleFillins: ri!totalSimpleFillins,\n          completedSimpleFillins: ri!completedSimpleFillins,\n          totalCiteTagsCount: ri!totalCiteTagsCount\n        }\n      )\n    }\n  }\n) & \"</span>\""
    },
    "_a-0000e93a-5ec9-8000-9c25-011c48011c48_4173206": {
      "name": "AS_GCM_BL_dynamicFillinRecommendation",
      "type": "Expression Rule",
      "sail_code": "displayvalue(\n  ri!fillInDynmaicRecId,\n  {\n    cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CLAUSE_SET_TYPE,\n    cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_CATEGORY,\n    cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACTING_OFFICER,\n    cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_SPECIALIST,\n    cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_OFFICER_REP,\n    cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_START_DATE,\n    cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_END_DATE,\n    cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_METHOD,\n    cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_ESTIMATED_DOLLAR_AMOUNT,\n    cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_PSC,\n    cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_NAICS_CODE\n  },\n  {\n    /* Clause Set Type   */\n    rule!AS_GAM_CO_I18N_UT_displayLabel(\n      bundle: ri!bundle,\n      bundleKey: ri!clauseSet.refType.refKey\n    ),\n    /*  Clause Set Category  */\n    rule!AS_GAM_CO_I18N_UT_displayLabel(\n      bundle: ri!bundle,\n      bundleKey: ri!clauseSet.refCategory.refKey\n    ),\n    /*  Contracting Officer  */\n    rule!AS_CO_UT_displayUser(user: ri!clauseSet.contractingOfficer),\n    /*  Contract Specialist  */\n    rule!AS_CO_UT_displayUser(user: ri!clauseSet.contractSpecialist),\n    /*  Contracting Officer Representative  */\n    rule!AS_CO_UT_displayUser(user: ri!clauseSet.contractingOffcrRep),\n    /*  Contract Start Date  */\n    ri!clauseSet.contractStartDate,\n    /*  Contract End Date  */\n    ri!clauseSet.contractEndDate,\n    /*  Contract Method  */\n    rule!AS_GAM_CO_I18N_UT_displayLabel(\n      bundle: ri!bundle,\n      bundleKey: ri!clauseSet.refContractMethod.refKey\n    ),\n    /*  Esitmated Dollar Amount  */\n    rule!AS_GCM_DPL_CO_UT_formatCurrencyValue(\n      currencyValue: ri!clauseSet.estimatedDollarAmt,\n      currencyCode: \"USD\",\n      showDecimal: true\n    ),\n    /*  PSC  */\n    ri!clauseSet.pscCode,\n    /*  NAICS  */\n    ri!clauseSet.naicsCode\n  },\n  \"\"\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_157603": {
      "name": "AS_CO_UT_cast",
      "type": "Expression Rule",
      "sail_code": "with(  \n  local!typeNumber: rule!AS_CO_UT_returnTypeNumber(\n    type: ri!type,\n    typeOf: ri!typeOf\n  ),\n\n  /* If the object is empty, use null or {} depending on if it is array type or not */\n  local!objectToCast: if(\n    rule!AS_CO_UT_isNotBlank(ri!value),\n    ri!value,\n    rule!AS_CO_UT_checkIfSingleType(\n      type: ri!type,\n      typeOf: ri!typeOf\n    ),\n    null,\n    {}\n  ),\n\n  cast(\n    local!typeNumber,\n    local!objectToCast\n  )\n  \n)"
    },
    "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3125646": {
      "name": "AS_GCM_QE_getRefClauseTextsWithBatching",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_cast(\n  type: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Clause_Texts?list',\n  value: rule!AS_GCM_UT_formatDataBasedOnReturnType(\n    data: a!match(\n      value: ri!clauseIds,\n      whenTrue: rule!AS_CO_UT_isBlank(ri!clauseIds),\n      then: null(),\n      whenTrue: a!isNullOrEmpty(ri!batchingSize),\n      then: a!localVariables(\n        local!clauseTexts: rule!AS_GCM_QE_getRefClauseTextsWithQuerySelection(\n          returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n          clauseId: ri!clauseIds,\n          selectionColumns: { \"clauseId\", \"totalTextColumnsLength\" },\n          pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(startIndex: 1, batchSize: - 1)\n        ).data,\n        local!batchingData: rule!AS_GAM_UT_batchDataByFieldUnderThreshold(\n          data: local!clauseTexts,\n          fields: \"totalTextColumnsLength\",\n          threashold: a!defaultValue(\n            value: ri!batchingThreshold,\n            default: cons!AS_GCM_ENUM_QUERY_THRESHOLD_LIMIT_IN_BYTES\n          )\n        ),\n        if(\n          /* When there is any data which is exceeding the threshold then throw an error to handle/address       */\n          rule!AS_CO_UT_isNotBlank(local!batchingData.exceedingThreshold),\n          error(\n            \"Please review. The threshold[=\" & a!defaultValue(\n              value: ri!batchingThreshold,\n              default: cons!AS_GCM_ENUM_QUERY_THRESHOLD_LIMIT_IN_BYTES\n            ) & \"] is exceeded by \" & rule!AS_GAM_UT_ArrayLength(local!batchingData.exceedingThreshold) & \" clauses: \" & local!batchingData.exceedingThreshold\n          ),\n          a!flatten(\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: local!batchingData.batches,\n              expression: rule!AS_GCM_QE_getRefClauseTexts(\n                clauseId: index(fv!item.data, \"clauseId\", null),\n                returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n                executeWhen: a!isNotNullOrEmpty(ri!clauseIds)\n              )\n            )\n          )\n        )\n      ),\n      default: a!flatten(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: rule!AS_GCM_UT_getIdentifiersInBatches(\n            identifiers: ri!clauseIds,\n            batchingSize: a!defaultValue(\n              value: ri!batchingSize,\n              default: cons!AS_GCM_INT_QUERY_BATCH_SIZE_TINY\n            )\n          ),\n          expression: rule!AS_GCM_QE_getRefClauseTexts(\n            clauseId: fv!item.identifiers,\n            returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n            executeWhen: rule!AS_CO_UT_isNotBlank(ri!clauseIds)\n          )\n        )\n      )\n    ),\n    pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n      startIndex: 1,\n      batchSize: - 1,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(field: \"clauseTextId\", ascending: true)\n    ),\n    returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET\n  ).data\n)"
    },
    "_a-0000ec2b-4d79-8000-9d88-011c48011c48_12586581": {
      "name": "AS_GCM_findFillinValue",
      "type": "Expression Rule",
      "sail_code": "if(\n  find(\"<tbody\", ri!fillInText),\n  /*    if grids are detected they will be skipped*/\n  null,\n  if(\n    find(\"<cite\", ri!fillInText),\n    with(\n      /*  since the text is split with cite tags the characters right before the fill in is \"> - this\n will give the start index of fill in      */\n      local!start: if(\n        find(\"\"\">\", ri!fillInText) + 2 = find(\"[\", ri!fillInText),\n        if(\n          find(\"]\", ri!fillInText) + 1 = find(\"</cite>\", ri!fillInText),\n          find(\"\"\">\", ri!fillInText) + 2,\n          find(\"]\", ri!fillInText) + 1\n        ),\n        find(\"\"\">\", ri!fillInText) + 2\n      ),\n      /*  after the fill in it will be either instructions or the end of cite\nso if instruction is found that is [<em it will be the end index else the \nend of cite tag  </cite> will be end index     */\n      local!end: with(\n        local!citeEnd: find(\"</cite>\", ri!fillInText),\n        local!insStart1: find(\"[\", ri!fillInText),\n        local!insStart2: find(\"<em\", ri!fillInText),\n        local!insStart: if(\n          and(\n            local!insStart1 < local!citeEnd,\n            local!insStart1\n          ),\n          local!insStart1,\n          if(\n            and(\n              local!insStart2 < local!citeEnd,\n              local!insStart1\n            ),\n            local!insStart2,\n            0\n          )\n        ),\n        if(\n          local!insStart,\n          if(\n            and(\n              local!insStart < local!citeEnd,\n              local!start <= local!insStart\n            ),\n            local!insStart,\n            local!citeEnd\n          ),\n          local!citeEnd\n        )\n      ),\n      local!newStart: if(\n        local!start <> local!end,\n        if(\n          contains(\n            { \".\", \",\", \":\" },\n            index(ri!fillInText, local!start, null())\n          ),\n          local!start + 1,\n          local!start\n        ),\n        local!start\n      ),\n      local!newEnd: if(\n        local!start <> local!end,\n        if(\n          contains(\n            { \".\", \",\", \":\" },\n            index(ri!fillInText, local!end - 1, null())\n          ),\n          local!end - 1,\n          local!end\n        ),\n        local!end\n      ),\n      local!value: mid(\n        ri!fillInText,\n        local!newStart,\n        local!newEnd - local!newStart\n      ),\n     a!map(\n       start: local!newStart,\n       end: local!newEnd,\n       value: if(rule!AS_GCM_StyledTextEditorForFillInsEnabled_wrapper(),local!value,striphtml(local!value))\n     )\n    ),\n    null\n  )\n),"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75842": {
      "name": "AS_CO_UT_returnSingleTypeObject",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!typeOf: if(\n    isnull(ri!type),\n    ri!typeOf,\n    cast(\n      ri!type,\n      {}\n    )\n  ),\n\n  index(\n    cast(\n      typeof({local!typeOf}), \n      updatearray({local!typeOf}, 1, {})\n    ), \n    1,\n    {}\n  )\n)"
    },
    "_a-0001eda5-a49c-8000-9e01-011c48011c48_15672730": {
      "name": "AS_GCM_QR_getRefClauseSectionMapping",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryRecord(\n  recordType: recordType!AS GCM R Clause Section Mapping,\n  /*castToCdtType: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Section',*/\n  returnType: rule!AS_CO_UT_replaceNull(\n    nullableValue: ri!returnType,\n    replacementValue: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n  ),\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!filters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM R Clause Section Mapping.clauseId,\n      operator: \"in\",\n      value: ri!clauseIds,\n      applyWhen: rule!AS_CO_UT_isNotBlank(ri!clauseIds)\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM R Clause Section Mapping.isActive,\n      operator: \"=\",\n      value: true,\n      applyWhen: rule!AS_CO_UT_booleanDefaultTrue(ri!includeInactiveData)\n    )\n  },\n  fields: ri!fields\n)"
    },
    "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3225086": {
      "name": "AS_GCM_UT_isClauseUpdated",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!clauseSetClause),\n  null(),\n  or(\n    /*Checking if the effective date is updated*/\n    contains(\n      {\n        ri!clauseSetClause.effectiveDate,\n        ri!clauseSetClause.retainedEffectiveDate\n      },\n      ri!clauseSetClause.refClause.effectiveDate\n    ) = false(),\n    /*Checking if the title is updated*/\n    contains(\n      {\n        ri!clauseSetClause.clauseTitle,\n        ri!clauseSetClause.retainedClauseTitle\n      },\n      ri!clauseSetClause.refClause.clauseTitle\n    ) = false()\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_269546": {
      "name": "AS_CO_UT_returnCdtIndicesByField",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Integer?list',\n  rule!AS_CO_UT_whereContains(\n    values: ri!value,\n    array: rule!AS_CO_UT_indexPath(\n      cdt: a!flatten(ri!cdt),\n      field: ri!field,\n      indexDefault: null\n    )\n  )\n)"
    },
    "_a-0000eb8e-789f-8000-9d34-011c48011c48_11018523": {
      "name": "AS_GCM_QR_getClauseSetClauseTextDetails",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryRecord(\n  recordType: recordType!AS GCM Clause Set Clause Text,\n  relatedRecordData: ri!relatedRecordData,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM Clause Set Clause Text.relationId,\n      operator: \"in\",\n      value: ri!relationIds\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM Clause Set Clause Text.textRelationId,\n      operator: \"in\",\n      value: ri!textRelationIds\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM Clause Set Clause Text.setId,\n      operator: \"=\",\n      value: ri!setId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM Clause Set Clause Text.isActive,\n      operator: \"=\",\n      value: true,\n      applyWhen: ri!includeInactive <> true\n    ),\n    ri!additionalfilters\n  },\n  fields: ri!fields,\n  sort: ri!sortInfo,\n  pagingInfo: ri!pagingInfo,\n  returnType: a!defaultValue(\n    value: ri!returnType,\n    default: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n  ),\n  executeWhen: and(\n    ri!executeWhen,\n    or(\n      a!isNotNullOrEmpty(ri!relationIds),\n      a!isNotNullOrEmpty(ri!setId),\n      a!isNotNullOrEmpty(ri!textRelationIds),\n      a!isNotNullOrEmpty(ri!additionalfilters),\n      a!isNotNullOrEmpty(ri!logicalExpression),\n      a!isNotNullOrEmpty(ri!aggregationFields),\n      rule!AS_CO_UT_isNotBlank(ri!fields)\n    )\n  ),\n  triggerRefresh: ri!triggerRefresh,\n  logicalExpression: ri!logicalExpression,\n  aggregationFields: ri!aggregationFields\n)"
    },
    "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3284363": {
      "name": "AS_GCM_UT_getPrimaryKeyFieldByType",
      "type": "Expression Rule",
      "sail_code": "displayvalue(\n  typeof(ri!cdt),\n  apply(\n    fn!typeof,\n    {\n      /*AS_GCM_R_Data*/\n      'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Data'(),\n      /*AS_GCM_R_Clause*/\n      'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Clause'(),\n      /*AS_GCM_ClauseSet_ClauseSection*/\n      'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_ClauseSection'(),\n      /*AS_GCM_R_Section*/\n      'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Section'()\n    }\n  ),\n  {\n    /*AS_GCM_R_Data*/\n    \"refDataId\",\n    /*AS_GCM_R_Clause*/\n    \"clauseId\",\n    /*AS_GCM_ClauseSet_ClauseSection*/\n    \"sectionId\",\n    /*AS_GCM_R_Section*/\n    \"sectionId\"\n  },\n  \"\"\n)"
    },
    "_a-0000e915-02bc-8000-9c1f-011c48011c48_4025082": {
      "name": "AS_GCM_QR_getFillInRecDetails",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryRecord(\n  sort: ri!sort,\n  returnType: ri!returnType,\n  recordType: recordType!AS GCM Fill In Recommendation,\n  executeWhen: and(\n    ri!executeWhen,\n    or(\n      any(\n        rule!AS_CO_UT_isNotBlank(_),\n        {\n          ri!additionalFilters,\n          ri!logicalExpression,\n          ri!aggregation\n        }\n      ),\n      rule!AS_CO_UT_isNotBlank(ri!fillInRecFillInUuid)\n    )\n  ),\n  /* To ensure proper null checks, we'll force all queryFilter values to not be null */\n  logicalExpression: ri!logicalExpression,\n  pagingInfo: ri!pagingInfo,\n  triggerRefresh: ri!triggerRefresh,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM Fill In Recommendation.fillInRecFillInUuid,\n      operator: \"in\",\n      value: ri!fillInRecFillInUuid\n    ),\n    a!match(\n      value: ri!isAutoPopulated,\n      /* When nothing is passed all data should be returned     */\n      whenTrue: a!isNullOrEmpty(fv!value),\n      then: {},\n      equals: true(),\n      then: #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM Fill In Recommendation.isAutoPopulated,\n        operator: \"=\",\n        value: true\n      ),\n      /*  When false is passed returning all data except isAutoPopulated=true    */\n      default: #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM Fill In Recommendation.isAutoPopulated,\n        operator: \"<>\",\n        value: true\n      ),\n      \n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM Fill In Recommendation.isActive,\n      operator: \"=\",\n      value: true,\n      applyWhen: rule!AS_CO_UT_not(input: ri!includeInactive)\n    ),\n    ri!additionalFilters\n  },\n  fields: ri!fields\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_101148": {
      "name": "AS_CO_UT_returnNullDictionary",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  null\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_958752": {
      "name": "AS_GAM_ADT_UT_buildAuditEntityData",
      "type": "Expression Rule",
      "sail_code": "if(\n  /*Action only audit*/\n  ri!auditParams.auditType = cons!AS_GAM_ADT_TXT_AUDIT_TYPE_ACTION_ONLY,\n  rule!AS_GAM_ADT_UT_constructActionOnlyAuditData(\n    initiator: ri!initiator,\n    auditParams: ri!auditParams\n  ),\n  /*Manipulation Audit*/\n  if(\n    ri!auditParams.auditType = cons!AS_GAM_ADT_TXT_AUDIT_TYPE_MANIPULATION,\n    rule!AS_GAM_ADT_UT_constructManipulatedAuditData(\n      initiator: ri!initiator,\n      auditParams: ri!auditParams\n    ),\n    /*Generic field level audit*/\n    rule!AS_GAM_ADT_UT_buildFieldLevelAuditEntityData(auditParams: ri!auditParams)\n  )\n)"
    },
    "_a-0000e415-3035-8000-9bb2-011c48011c48_292117": {
      "name": "AS_CO_UT_castToDictionaryList",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary?list',\n  if(\n    rule!AS_CO_UT_isBlank(ri!value),\n    {},\n    ri!value\n  )\n)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1550072": {
      "name": "AS_GCM_QE_getClauseSetClauseAudits",
      "type": "Expression Rule",
      "sail_code": "rule!AS_GAM_UT_queryEntityWithSelection(\n  entity: cons!AS_GCM_ENT_A_R_CLAUSE_SET_CLAUSE,\n  entityType: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_A_R_ClauseSet_Clause',\n  executeWhen: and(\n    ri!executeWhen,\n    or(\n      any(\n        rule!AS_CO_UT_isNotBlank(_),\n        {\n          ri!additionalFilters,\n          ri!logicalExpression\n        }\n      ),\n      any(\n        rule!AS_CO_UT_isNotBlank(_),\n        {\n          ri!clauseSetAuditId,\n          ri!relationAuditId,\n          ri!relationId,\n          ri!setId\n        }\n      )\n    )\n  ),\n   /*To ensure proper null checks, we'll force all queryFilter values to not be null */\n  logicalExpression: ri!logicalExpression,\n  pagingInfo: ri!pagingInfo,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"clauseSetAuditId\",\n      operator: \"=\",\n      value: ri!clauseSetAuditId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"relationAuditId\",\n      operator: \"=\",\n      value: ri!relationAuditId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"relationId\",\n      operator: \"in\",\n      value: ri!relationId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"setId\",\n      operator: \"=\",\n      value: ri!setId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"auditActionCode\",\n      operator: \"<>\",\n      value: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n    ),\n    ri!additionalFilters\n  },\n  selectionColumns: ri!selectionColumns,\n  returnType: ri!returnType\n)"
    },
    "_a-0000ec06-6336-8000-9d71-011c48011c48_12268070": {
      "name": "AS_GAM_UT_sortAnyData",
      "type": "Expression Rule",
      "sail_code": "cast(\n  runtimetypeof(ri!data),\n  if(\n    rule!AS_CO_UT_isBlank(ri!field),\n    /* For Simple Data Types   */\n    rule!AS_CO_UT_sortArray(array: ri!data, ascending: ri!ascending),\n    a!localVariables(\n      local!dataSortedByField: todatasubset(\n        ri!data,\n        #\"SYSTEM_SYSRULES_pagingInfo\"(\n          startIndex: 1,\n          batchSize: - 1,\n          sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n            field: ri!field,\n            ascending: a!defaultValue(value: ri!ascending, default: true)\n          )\n        )\n      ).data,\n      if(\n        rule!AS_CO_UT_isBlank(ri!nullsFirst),\n        local!dataSortedByField,\n        a!localVariables(\n          local!cdtsWithNullFieldValue: rule!AS_GAM_filterCdtOrRecordDataByField(\n            cdtOrRecord: local!dataSortedByField,\n            field: ri!field,\n            value: null\n          ),\n          local!cdtsWithNonNullFieldValue: rule!AS_GAM_rejectCdtOrRecordDataByField(\n            cdtOrRecord: local!dataSortedByField,\n            field: ri!field,\n            value: null\n          ),\n          if(\n            ri!nullsFirst,\n            append(\n              local!cdtsWithNullFieldValue,\n              local!cdtsWithNonNullFieldValue\n            ),\n            append(\n              local!cdtsWithNonNullFieldValue,\n              local!cdtsWithNullFieldValue\n            )\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000ee54-fb4d-8000-9e2f-011c48011c48_16649762": {
      "name": "AS_GCM_StyledTextEditorForFillInsEnabled_wrapper",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /* Determine whether to execute the _default or _custom rule */\n  local!runtimeRule: a!refreshVariable(\n    value: rule!AS_FRM_determineRuntimeRule(\n      defaultRuleReference: rule!AS_GCM_StyledTextEditorForFillInsEnabled_v1_default\n    ),\n    refreshAlways: true\n  ),\n  /*Setting Default as true in case of invalid toggle value*/\n  if(\n    rule!AS_CO_UT_typeCompare(\n      value1: local!runtimeRule(),\n      value2: true()\n    ),\n    local!runtimeRule(),\n    true\n  )\n)\n"
    },
    "_a-0000e447-91f4-8000-9bc0-011c48011c48_584965-adt": {
      "name": "AS_ADT_UT_startAuditProcess_Parameters",
      "type": "Expression Rule",
      "sail_code": "{\n  auditParams: 'type!{urn:com:appian:types:AS:ADT}AS_ADT_P_AuditProcessParameters'(\n    newObjects: rule!AS_CO_UT_cast(\n      value: ri!newObjects,\n      type: rule!AS_CO_UT_returnArrayTypeNumber(type: ri!objectType),\n      \n    ),\n    originalObjects: rule!AS_CO_UT_cast(\n      value: ri!originalObjects,\n      type: rule!AS_CO_UT_returnArrayTypeNumber(type: ri!objectType),\n      \n    ),\n    objectTypeNumber: rule!AS_CO_UT_returnTypeNumber(type: ri!objectType),\n    namespace: rule!AS_CO_UT_getTypeNamespace(type: ri!objectType),\n    objectDse: ri!objectDse,\n    auditDse: ri!auditDse,\n    username: rule!AS_CO_UT_replaceNull(\n      nullableValue: ri!username,\n      replacementValue: loggedInUser()\n    ),\n    externalAction: ri!externalAction,\n    auditConfig: ri!auditConfig,\n    auditType: ri!auditType,\n    manipulationAudit: ri!manipulationAudit,\n    complexFieldName: ri!complexFieldName\n  )\n}"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_174191": {
      "name": "AS_CO_UT_getTypeNamespace",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  extract(ri!type, \"{\", \"}\")\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_271202": {
      "name": "AS_CO_UT_rejectCdtByField",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    rule!AS_CO_UT_isBlank(ri!cdt),\n    ri!cdt,\n    remove(\n      a!flatten(ri!cdt),\n      rule!AS_CO_UT_returnCdtIndicesByField(\n        cdt: ri!cdt,\n        field: ri!field,\n        value: ri!value\n      )\n    )\n  )\n)"
    },
    "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3283840": {
      "name": "AS_GCM_UT_isClauseNotUpdated",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!clauseSetClause),\n  null(),\n  and(\n    rule!AS_GCM_UT_isClauseUpdated(ri!clauseSetClause) = false(),\n    ri!clauseSetClause.isClauseUpdated = true()\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_31790": {
      "name": "AS_CO_I18N_UT_isUserLocaleEnglishUs",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  rule!AS_CO_I18N_UT_getUserLocale(user: loggedInUser()) = cons!AS_CO_I18N_TXT_ENGLISH_US_LOCALE\n)"
    },
    "_a-0000e643-f7f1-8000-9bca-011c48011c48_1422141": {
      "name": "AS_GCM_UT_updateClauseSetDetailsOnValidateClauseSet",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_captureMetadata(\n  cdt: ri!clauseSet,\n  modifiedBy: ri!initiator\n)"
    },
    "_a-0000e3ff-79a3-8000-7714-45ef9045ef90_8682-adt": {
      "name": "AS_ADT_BL_auditConfig_SAMPLE_Parent",
      "type": "Expression Rule",
      "sail_code": "/*\nAudit config for 'type!{urn:com:appian:types:AS:ADT}AS_ADT_SAMPLE_Parent'\n*/\n{\n  idField: \"parentId\",\n  foreignIdField:\"foreignId\",\n  simpleFields: {\n    \"text\",\n    \"date\",\n    \"referenceChild.childId\",\n    \"complexChildSingle.text\",\n    \"complexChildSingle.date\",\n    \"complexChildSingle.referenceChild.childId\",\n    \"isActive\"\n  },\n  complexFields: {\n    {\n      fieldName: \"complexChildMultiple\",\n      auditFieldName: \"complexChildMultipleChanges\",\n      idField: \"childId\",\n      simpleFields: {\n        \"text\",\n        \"date\",\n        \"referenceChild.childId\"\n      },\n      complexFields: {}\n    }\n  }\n}"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1549954": {
      "name": "AS_GCM_UT_captureAuditForClauseSetDetails",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!originalClauseSet: if(\n    rule!AS_CO_UT_isBlank(ri!originalClauseSet.setId),\n    null,\n    ri!originalClauseSet\n  ),\n  local!clauseSetAuditData: rule!AS_GAM_ADT_UT_buildAuditEntityData(\n    auditParams: rule!AS_GCM_UT_clauseSetStartAuditProcess_Parameters(\n      initiator: ri!initiator,\n      clauseSet: ri!clauseSet,\n      originalClauseSet: local!originalClauseSet,\n      externalAction: ri!externalAction\n    ),\n    initiator: ri!initiator\n  ),\n  /*Audit will be written only if any of the field values are updated*/\n  if(\n    rule!AS_CO_UT_isBlank(local!clauseSetAuditData),\n    {},\n    {\n      entity: cons!AS_GCM_ENT_A_R_CLAUSE_SET,\n      data: if(\n        and(\n          local!clauseSetAuditData.auditActionCode = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED,\n          rule!AS_CO_UT_isNotBlank(\n            wherecontains(\n              {\n                cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n                cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DEACTIVATE,\n                cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_ADD\n              },\n              touniformstring(\n                {\n                  index(ri!templateAudit, \"auditActionCode\", \"\"),\n                  index(\n                    ri!contractTypeMapAudit,\n                    \"auditActionCode\",\n                    \"\"\n                  )\n                }\n              )\n            )\n          )\n        ),\n        rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n          cdt: local!clauseSetAuditData,\n          fieldValuePairs: {\n            field: \"auditActionCode\",\n            value: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY\n          }\n        ),\n        local!clauseSetAuditData\n      )\n    }\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_162769": {
      "name": "AS_CO_UT_typeCompare",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  typeof(ri!value1) = typeof(ri!value2)\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_162005-adt": {
      "name": "AS_ADT_UT_buildSimpleFieldChangesDictionary",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!oldValue: rule!AS_CO_UT_toString(\n    value: rule!AS_CO_UT_indexPath(\n      cdt: ri!originalObject,\n      field: ri!simpleFieldName\n    )\n  ),\n  local!newValue: rule!AS_CO_UT_toString(\n    value: rule!AS_CO_UT_indexPath(\n      cdt: ri!newObject,\n      field: ri!simpleFieldName\n    )\n  ),\n  if(\n    rule!AS_CO_UT_compare(\n      value1: local!oldValue,\n      value2: local!newValue\n    ),\n    {},\n    rule!AS_CO_UT_dynamicDictionary(\n      fieldValuePairs: {\n        {\n          field: \"fieldName\",\n          value: ri!simpleFieldName\n        },\n        { field: \"oldValue\", value: local!oldValue },\n        { field: \"newValue\", value: local!newValue }\n      }\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76433": {
      "name": "AS_CO_UT_indexPath",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!fieldsAndIndices: rule!AS_CO_UT_zINTERNAL_indexPath_nestedFieldArrayHandler(field: ri!field),\n\n  reduce(\n    index(_, _, ri!indexDefault),\n    ri!cdt,\n    local!fieldsAndIndices\n  )\n)"
    },
    "_a-0000e3ff-a5bc-8000-9ba8-011c48011c48_39070": {
      "name": "AS_CO_UT_booleanDefaultFalse",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  if(\n    isnull(ri!boolean),\n    false,\n    ri!boolean\n  )\n)"
    },
    "_a-0000e5bc-4a9a-8000-9bbc-011c48011c48_936427": {
      "name": "AS_GAM_ADT_UT_constructActionOnlyAuditData",
      "type": "Expression Rule",
      "sail_code": "/* This rule is used to construct the action only audit data (Simple / Complex field changes will be null)*/\nrule!AS_CO_UT_dynamicDictionary(\n  fieldValuePairs: {\n    {\n      field: ri!auditParams.auditConfig.idField,\n      value: index(\n        ri!auditParams.newObjects,\n        ri!auditParams.auditConfig.idField,\n        null\n      )\n    },\n    { field: \"username\", value: ri!initiator },\n    { field: \"timestamp\", value: now() },\n    {\n      field: \"auditActionCode\",\n      value: ri!auditParams.externalAction\n    },\n    if(\n      rule!AS_CO_UT_isNotBlank(\n        ri!auditParams.auditConfig.foreignIdField\n      ),\n      {\n        field: ri!auditParams.auditConfig.foreignIdField,\n        value: index(\n          ri!auditParams.newObjects,\n          ri!auditParams.auditConfig.foreignIdField,\n          null\n        )\n      },\n      {}\n    )\n  }\n)"
    },
    "_a-0000e415-3035-8000-9bb2-011c48011c48_291236": {
      "name": "AS_CO_UT_zINTERNAL_returnCdtFields_handler",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text?list',\n  with(\n    local!blankCdt: rule!AS_CO_UT_returnSingleTypeObject(\n      type: ri!type,\n      typeOf: ri!typeOf\n    ),\n    split(\n      extract(\n        substitute(\n          tostring(\n            local!blankCdt\n          ),\n          \"[Document:]\",\n          \"\"\n        ),\n        \"[\",\n        \"=]\"\n      ),\n      \"=, \"\n    )\n  )\n)"
    },
    "_a-0000ec90-d194-8000-9dac-011c48011c48_13571757": {
      "name": "AS_GCM_updateDataByModifierMaps_Reducer",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    rule!AS_CO_UT_isNotBlank(\n      input: index(ri!data, ri!modifierMap.field, null)\n    ),\n    ri!modifierMap.applyWhen\n  ),\n  #\"urn:appian:function:v1:a:update\"(\n    ri!data,\n    ri!modifierMap.field,\n    a!match(\n      value: ri!modifierMap,\n      whenTrue: and(\n        a!isNotNullOrEmpty(ri!modifierMap.findRegex),\n        a!isNotNullOrEmpty(ri!modifierMap.find)\n      ),\n      then: error(\n        \"Only one of two parameters should have values: findRegex or find\"\n      ),\n      whenTrue: a!isNotNullOrEmpty(ri!modifierMap.findRegex),\n      then: if(\n        a!isNotNullOrEmpty(ri!modifierMap.instanceNum),\n        error(\n          \"instanceNum should be null when passing a value to findRegex\"\n        ),\n        regexreplaceall(\n          ri!modifierMap.findRegex,\n          ri!data[ri!modifierMap.field],\n          ri!modifierMap.replaceWith\n        )\n      ),\n      whenTrue: a!isNotNullOrEmpty(ri!modifierMap.find),\n      then: rule!AS_GCM_substituteListFromTextUsingReduce(\n        text: ri!data[ri!modifierMap.field],\n        find: ri!modifierMap.find,\n        replaceWith: ri!modifierMap.replaceWith,\n        instanceNum: ri!modifierMap.instanceNum,\n        replaceAllInstances: a!defaultValue(\n          value: ri!modifierMap.replaceAllInstances,\n          default: a!isNullOrEmpty(ri!modifierMap.instanceNum)\n        )\n      ),\n      default: error(\n        \"Alteast one of two parameters should have values: findRegex or find\"\n      )\n    )\n  ),\n  ri!data\n)"
    },
    "_a-0000ec90-d194-8000-9dac-011c48011c48_13571682": {
      "name": "AS_GCM_updateDataByModifierMaps",
      "type": "Expression Rule",
      "sail_code": "/*\nThe modifierMaps should have the below structure\n{\na!map(\nfield: <The field which needs to be modified>,\nfind: Optional when findRegex is provided - The value to find,\nfindRegex: Optional when find is provided - The regex search performed to replace the value,\nreplaceWith: The value to replace with. When left blank the find values will be removed,\ninstanceNum: The instance number to which replace. Use only when the find is passed,\nreplaceAllInstances: Default true - Determines whether all the instances need to be replaced\napplyWhen: When false this map will be skipped\n),\n...\n}\n*/\nif(\n  rule!AS_CO_UT_isNotBlank(ri!modifierMaps),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!data,\n    expression: reduce(\n      rule!AS_GCM_updateDataByModifierMaps_Reducer(data: _, modifierMap: _),\n      fv!item,\n      ri!modifierMaps\n    )\n  ),\n  ri!data\n)"
    },
    "_a-0000ed8a-02db-8000-9dfc-011c48011c48_15505700": {
      "name": "AS_GCM_FM_confirmationScreenForValidateOrFinalizeClauseSet",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!bundle: rule!AS_GCM_CO_UT_loadBundleFromFolder(langISOCode: null),\n  #\"SYSTEM_SYSRULES_formLayout_v1\"(\n    label: if(\n      ri!isFinalize = true(),\n      \"\",\n      \"\"\n    ),\n    contents: {\n      rule!AS_GCM_CPS_clauseSetValidationWithoutErrors(\n        bundle: local!bundle,\n        isFinalize: ri!isFinalize\n      )\n    },\n    buttons: #\"SYSTEM_SYSRULES_ButtonLayout\"(\n      primaryButtons: {\n        #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          label: \"Close\",\n          value: cons!AS_CO_ENUM_USER_ACTION_SAVE,\n          submit: true(),\n          accessibilityText: \"\"\n        )\n      }\n    )\n  )\n)"
    },
    "_a-0000e6c8-d132-8000-9bbe-011c48011c48_469266": {
      "name": "AS_CO_UT_queryRecord",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS ON HOW TO USE\n\nPlease DO NOT auto-format this rule\n\n*/\n\n\n/*Error handling*/\nif(\n  rule!AS_CO_UT_isBlank(ri!returnType),\n  fn!error(concat(\"Null `returnType` passed to AS_CO_UT_queryRecord for recordType `\", ri!recordType, \"`.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  not(contains(rule!AS_CO_CONS_QE_RETURN_TYPES(), ri!returnType)),\n  fn!error(concat(\"Unknown `returnType` passed to AS_CO_UT_queryRecord for recordType `\", ri!recordType, \"`.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  rule!AS_CO_UT_isBlank(ri!recordType),\n  fn!error(concat(\"Null `recordType` passed to AS_CO_UT_queryRecord.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    rule!AS_CO_UT_isBlank(ri!pagingInfo)\n  ),\n  fn!error(concat(\"`pagingInfo` is required (cannot be null) for `returnType` DATA_SUBSET\")),\n  and(\n    ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    rule!AS_CO_UT_isNotBlank(ri!pagingInfo)\n  ),\n  fn!error(concat(\"`pagingInfo` must be null when the `returnType` is not DATA_SUBSET, instead use `sort` to pass custom-sorting and `startIndex` & `batchSize` will be automatically calculated for you\")),\n  and(\n    not(isnull(ri!pagingInfo)),\n    rule!AS_CO_UT_isNotBlank(ri!sort)\n  ),\n  fn!error(concat(\"`sort` parameter must be null when `pagingInfo` is provided.  Use the sort field of the provided `pagingInfo` instead.\")),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isBlank(ri!aggregationFields)\n  ),\n  fn!error(\"You must provide an input for `aggregationFields` when `returnType` is AGGREGATION\"),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isNotBlank(ri!fields)\n  ),\n  fn!error(\"You cannot provide an input for `fields` when `returnType` is AGGREGATION.  Use `aggregationFields` instead.\"),\n  and(\n    ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isNotBlank(ri!aggregationFields)\n  ),\n  fn!error(\"You cannot provide an input for `aggregationFields` when `returnType` is not AGGREGATION.  Use `fields` instead.\"),\n  and(\n    rule!AS_CO_UT_isNotBlank(ri!castToCdtType),\n    not(contains(\n      {cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY, cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT, cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET},\n      ri!returnType\n    )),\n  ),\n  fn!error(\"'castToCdtType' is only supported for SINGLE_OBJECT, OBJECT_ARRAY, and DATA_SUBSET return types\"),\n\n  a!localVariables(\n\n    /*Determine the castResultToType*/\n    local!castResultToType: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   'type!{http://www.appian.com/ae/types/2009}Map',\n        /*SINGLE_OBJECT*/ a!defaultValue(ri!castToCdtType, ri!recordType),\n        /*OBJECT_ARRAY*/  rule!AS_CO_UT_returnArrayTypeNumber(type: a!defaultValue(ri!castToCdtType, ri!recordType)),\n        /*AGGREGATION*/   'type!{http://www.appian.com/ae/types/2009}Map?list',\n        /*TOTAL_COUNT*/   'type!{http://www.appian.com/ae/types/2009}Integer',\n      }\n    ),\n\n    /*Determine the batchSize*/\n    local!batchSize: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   ri!pagingInfo.batchSize,\n        /*SINGLE_OBJECT*/ 1,\n        /*OBJECT_ARRAY*/  a!defaultValue(ri!pagingInfo.batchSize, cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE),\n        /*AGGREGATION*/   cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE,\n        /*TOTAL_COUNT*/   1,\n      }\n    ),\n\n    /*Determine the pagingInfo*/\n    local!pagingInfo: if(\n      ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n      /*Use specific pagingInfo for DATA_SUBSET*/\n      ri!pagingInfo,\n      /*Otherwise calculate pagingInfo for all other returnTypes*/\n      #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: local!batchSize,\n        sort: ri!sort\n      )\n    ),\n\n    /*Determine the fetchTotalCount*/\n    local!fetchTotalCount: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   true,\n        /*SINGLE_OBJECT*/ false,\n        /*OBJECT_ARRAY*/  false,\n        /*AGGREGATION*/   false,\n        /*TOTAL_COUNT*/   true,\n      }\n    ),\n\n    /*Execute the query*/\n    local!queryResult: a!refreshVariable(\n      value: if(\n        ri!executeWhen = false,\n        null(\n          if(\n            ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n            rule!AS_CO_TYPE_Dictionary(),\n            ri!recordType\n          )\n        ),\n        #\"SYSTEM_SYSRULES_queryRecordType_v1\"(\n          recordType: ri!recordType,\n          fields: a!defaultValue(\n            ri!fields,\n            ri!aggregationFields\n          ),\n          filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            logicalExpressions: {\n              #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"AND\",\n                ignoreFiltersWithEmptyValues: true,\n                filters: a!defaultValue(ri!filters, {})\n              ),\n              a!defaultValue(ri!logicalExpression, {})\n            }\n          ),\n          pagingInfo: local!pagingInfo,\n          fetchTotalCount: local!fetchTotalCount,\n          relatedRecordData: ri!relatedRecordData\n        )\n      ),\n      refreshOnVarChange: ri!triggerRefresh,\n      refreshAfter: {\"RECORD_ACTION\"}\n    ),\n\n    /*Parse the queryResult*/\n    local!queryResultParse: choose(\n      rule!AS_CO_UT_chooseWherecontainsHelper(\n        value: ri!returnType,\n        inArray: rule!AS_CO_CONS_QE_RETURN_TYPES()\n      ),\n      /*Default, required value based on how AS_CO_UT_chooseWherecontainsHelper operates*/ \"\",\n      /*DATA_SUBSET*/   if(\n        rule!AS_CO_UT_isNotBlank(ri!castToCdtType),\n        /*Note that for a data subset, the parent is a map, but we allow casting the child 'data' field as well*/\n        rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n          cdt: local!queryResult,\n          fieldValuePairs: {\n            field: \"data\",\n            value: cast(\n              rule!AS_CO_UT_returnArrayTypeNumber(type: ri!castToCdtType),\n              local!queryResult.data\n            )\n          }\n        ),\n        local!queryResult\n      ),\n      /*SINGLE_OBJECT*/ local!queryResult.data,\n      /*OBJECT_ARRAY*/  local!queryResult.data,\n      /*AGGREGATION*/   local!queryResult.data,\n      /*TOTAL_COUNT*/   local!queryResult.totalCount,\n    ),\n\n    rule!AS_CO_UT_cast(\n      type: local!castResultToType,\n      value: local!queryResultParse\n    )\n  )\n)\n\n/*\n\nDOCUMENTATION\n\nThis rule is designed to minimize the overhead with querying data and then casting the result\n\n\nRequired Inputs:\n\n1. recordType\n- This is a recordtype! input of the data type to be queried against\n\n2. returnType\n- This depends on the purpose for the query, and should be one of the returnTypes in rule!AS_CO_CONS_QE_RETURN_TYPES\n-- DATA_SUBSET - This will return a DataSubset; pagingInfo is required\n-- SINGLE_OBJECT - This will return a single record whose type is the recordType; pagingInfo must be null\n-- ARRAY_OBJECT - This will return an array of records whose type is an array of the recordType; pagingInfo must be null\n-- AGGREGATION - This will return an array of Dictionaries; pagingInfo must be null\n---- NOTE: If you need Aggregation with paging controls, such as for a grid, use returnType DATA_SUBSET\n-- TOTAL_COUNT - This will return an Integer of the total count; pagingInfo must be null\n\n\nOptional Inputs:\n\n3. executeWhen\n- The query will not execute if this is false, the query will execute if this is true or null\n-- This is meant to operate in a similar manner to the showWhen parameter of components\n- Use this to skip execution of a query without needing to wrap if() statements around the rule\n-- Examples of this would be to skip querying if your filter value is a null ID\n- If the query does not execute, this will return a null value whose type is based on the returnType input\n\n4. triggerRefresh\n- By default, the query will always re-execute whenever any inputs change\n- However, by updating the value of triggerRefresh, you can also trigger a re-execution even if none of the other inputs change (e.g. after a record action)\n\n5. filters\n- Array of filters to apply to the query, built with a!queryFilter()\n- These filters will be applied with an AND operator\n- These filters will apply in addition to the logicalExpression input, combining both with an AND operator\n\n6. logicalExpression\n- A logical expression to apply to the query, built with a!queryLogicalExpression()\n- This logical expression will apply in addition to the filters input, combining both with an AND operator\n\n7. aggregationFields\n- Aggregation to apply to the query, built with a!aggregationField()\n\n8. fields\n- List of recordFields and relatedRecordFields to return.  When querying a record, any relatedRecordFields are not returned\nby default, and must be specifically requested.\n\n9. pagingInfo\n- Paging info to apply to the query, built with a!pagingInfo() or derived from fv!pagingInfo in grids\n- This is required if passing returnType DATA_SUBSET, otherwise it must be null\n- For returnTypes that are not DATA_SUBSET, the batch size will be automatically calculated depending on the returnType\n-- For example, passing SINGLE_OBJECT will automatically apply a batch size of 1, whereas ARRAY_OBJECT and AGGREGATION will automatically apply a batch size of the defined query batch size maximum\n\n10. sort\n- Array of sort to apply to the query, built with a!sortInfo()\n- This is meant to be used with returnType ARRAY_OBJECT and AGGREGATION, since pagingInfo is not required for these, but a specified sort may be used\n- Cannot be used in conjunction with pagingInfo.sort\n\n11. castToCdtType\n- Any cdt type to the cast the result set. \n- This is meant to be used with only returnType OBJECT_ARRAY and SINGLE_OBJECT.\n\n*/"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1523563": {
      "name": "AS_GAM_UT_queryEntityWithSelection",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS\n*/\nif(\n  or(\n    any(\n      rule!AS_CO_UT_isBlank,\n      { ri!entity, ri!pagingInfo }\n    ),\n    ri!executeWhen = false\n  ),\n  null,\n  /*Testing batching inside (Might be removed later)\n  Batching should only be applied when the batchSize is -1\n  */\n  if(\n    and(\n      ri!applyBatching = true,\n      ri!pagingInfo.batchSize =- 1\n    ),\n    a!localVariables(\n      local!batch: rule!AS_CO_UT_replaceNull(\n        nullableValue: ri!batchSize,\n        replacementValue: 10\n      ),\n      local!totalCount: #\"SYSTEM_SYSRULES_queryEntity_v1\"(\n        entity: ri!entity,\n        query: #\"SYSTEM_SYSRULES_query\"(\n          pagingInfo: ri!pagingInfo,\n          logicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            logicalexpressions: {\n              #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"AND\",\n                ignoreFiltersWithEmptyValues: true,\n                filters: rule!AS_CO_UT_replaceNull(\n                  nullableValue: ri!filters,\n                  replacementValue: {}\n                )\n              ),\n              rule!AS_CO_UT_replaceNull(\n                nullableValue: ri!logicalExpression,\n                replacementValue: {}\n              )\n            }\n          )\n        ),\n        fetchtotalcount: true\n      ).totalCount,\n      local!noOfBatches: floor(local!totalCount / local!batch),\n      local!lastBatch: local!totalCount - (local!noOfBatches * local!batch),\n      local!lastBatchPaging: if(\n        rule!AS_CO_UT_isBlank(local!lastBatch),\n        null,\n        #\"SYSTEM_SYSRULES_pagingInfo\"(\n          startIndex: 1 + (local!noOfBatches * local!batch),\n          batchSize: local!lastBatch\n        )\n      ),\n      local!pagingInfo: #\"SYSTEM_SYSRULES_forEach\"(\n        items: enumerate(local!noOfBatches),\n        expression: {\n          #\"SYSTEM_SYSRULES_pagingInfo\"(\n            startIndex: 1 + (fv!item * local!batch),\n            batchSize: local!batch\n          )\n        }\n      ),\n      a!flatten(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: if(\n            rule!AS_CO_UT_isBlank(local!lastBatch),\n            local!pagingInfo,\n            { local!pagingInfo, local!lastBatchPaging }\n          ),\n          expression: #\"SYSTEM_SYSRULES_queryEntity_v1\"(\n            entity: ri!entity,\n            query: #\"SYSTEM_SYSRULES_query\"(\n              pagingInfo: fv!item,\n              logicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"AND\",\n                logicalexpressions: {\n                  #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                    operator: \"AND\",\n                    ignoreFiltersWithEmptyValues: true,\n                    filters: rule!AS_CO_UT_replaceNull(\n                      nullableValue: ri!filters,\n                      replacementValue: {}\n                    )\n                  ),\n                  rule!AS_CO_UT_replaceNull(\n                    nullableValue: ri!logicalExpression,\n                    replacementValue: {}\n                  )\n                }\n              ),\n              selection: if(\n                rule!AS_CO_UT_isBlank(ri!selectionColumns),\n                {},\n                #\"SYSTEM_SYSRULES_querySelection\"(\n                  columns: #\"SYSTEM_SYSRULES_forEach\"(\n                    items: ri!selectionColumns,\n                    expression: #\"SYSTEM_SYSRULES_queryColumn\"(field: fv!item)\n                  )\n                )\n              )\n            )\n          ).data\n        )\n      )\n    ),\n    #\"SYSTEM_SYSRULES_queryEntity_v1\"(\n      entity: ri!entity,\n      query: #\"SYSTEM_SYSRULES_query\"(\n        pagingInfo: ri!pagingInfo,\n        logicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n          operator: \"AND\",\n          logicalexpressions: {\n            #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n              operator: \"AND\",\n              ignoreFiltersWithEmptyValues: true,\n              filters: rule!AS_CO_UT_replaceNull(\n                nullableValue: ri!filters,\n                replacementValue: {}\n              )\n            ),\n            rule!AS_CO_UT_replaceNull(\n              nullableValue: ri!logicalExpression,\n              replacementValue: {}\n            )\n          }\n        ),\n        selection: if(\n          rule!AS_CO_UT_isBlank(ri!selectionColumns),\n          {},\n          #\"SYSTEM_SYSRULES_querySelection\"(\n            columns: #\"SYSTEM_SYSRULES_forEach\"(\n              items: ri!selectionColumns,\n              expression: #\"SYSTEM_SYSRULES_queryColumn\"(field: fv!item)\n            )\n          )\n        )\n      ),\n      fetchtotalcount: true\n    )\n  )\n)/*This query entity can be used to get the data subset with selection applied. For now, this returns only data subset. No assertions added to the TC for now.\n\nRequired fields:\n1. Entity: \n- This is the data store entity you are querying\n-- e.g. cons!AS_DATA_STORE_ENTITY_CASES\n2. Paging Info:\n- Paging info to apply to the query, built with a!pagingInfo() or derived from fv!pagingInfo in grids*/"
    },
    "_a-0000e643-f7f1-8000-9bca-011c48011c48_1270237": {
      "name": "AS_GCM_QE_getClauseSetClauseDetails",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryEntity(\n  sort: ri!sort,\n  entity: cons!AS_GCM_ENT_CLAUSE_SET_CLAUSE,\n  entityType: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_Clause',\n  returnType: ri!returnType,\n  executeWhen: and(\n    ri!executeWhen,\n    or(\n      any(\n        rule!AS_CO_UT_isNotBlank(_),\n        {\n          ri!additionalFilters,\n          ri!logicalExpression,\n          ri!aggregation\n        }\n      ),\n      rule!AS_CO_UT_isNotBlank(ri!setId),\n      rule!AS_CO_UT_isNotBlank(ri!relationId)\n    )\n  ),\n  /* To ensure proper null checks, we'll force all queryFilter values to not be null */\n  logicalExpression: ri!logicalExpression,\n  pagingInfo: ri!pagingInfo,\n  batchSize: ri!batchSize,\n  triggerRefresh: ri!triggerRefresh,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"relationId\",\n      operator: \"in\",\n      value: ri!relationId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"setId\",\n      operator: \"=\",\n      value: ri!setId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"isActive\",\n      operator: \"=\",\n      value: true,\n      applywhen: ri!showInactive <> true()\n    ),\n    ri!additionalFilters\n  },\n  aggregation: ri!aggregation\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_161361-adt": {
      "name": "AS_ADT_UT_calculateAudit",
      "type": "Expression Rule",
      "sail_code": "rule!AS_ADT_UT_calculateAudit_MultipleObjects(\n  originalObjects: ri!originalObjects,\n  newObjects: ri!newObjects,\n  auditConfig: ri!auditConfig,\n  username: ri!username,\n  externalAction: ri!externalAction,\n  auditType: ri!auditType\n)"
    },
    "_a-0000eb97-b2e8-8000-9d39-011c48011c48_11164523": {
      "name": "AS_GCM_IBRValidationDisabled_wrapper",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Determine whether to execute the _default or _custom rule*/\n  local!runtimeRule: a!refreshVariable(\n    value: rule!AS_FRM_determineRuntimeRule(\n      defaultRuleReference: rule!AS_GCM_IBRValidationDisabled_v1_default\n    ),\n    refreshAlways: true\n  ),\n  /*Setting Default as true in case of invalid toggle value*/\n  if(\n    rule!AS_CO_UT_typeCompare(\n      value1: local!runtimeRule(),\n      value2: true()\n    ),\n    local!runtimeRule(),\n    true\n  )\n)"
    },
    "_a-0000e36c-7599-8000-9ba2-011c48011c48_64438": {
      "name": "AS_CO_UT_zINTERNAL_returnCdtFields_primitiveTypeCheckHandler",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  any(\n    rule!AS_CO_UT_typeCompare(\n      value1: ri!singleType[ri!field],\n      value2: _\n    ),\n    apply(\n      cast(\n        _,\n        null\n      ),\n      rule!AS_CO_CONS_PRIMITIVE_TYPE_ARRAY()\n    )\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_269170": {
      "name": "AS_CO_UT_updateCdtFieldsByFieldValuePairs",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    and(\n      rule!AS_CO_UT_isBlank(ri!cdt),\n      rule!AS_CO_UT_checkIfArrayType(\n        typeOf: ri!cdt\n      )\n    ),\n    ri!cdt,\n    reduce(\n      rule!AS_CO_UT_zINTERNAL_updateCdtFieldsByPathComplex_handler(\n        cdt: _,\n        fieldValuePair: _\n      ),\n      ri!cdt,\n      a!flatten(ri!fieldValuePairs)\n    )\n  )\n)"
    },
    "_a-0000eb16-753f-8000-9d01-011c48011c48_9506930": {
      "name": "AS_GCM_QR_getClauseSetClauseDetails",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryRecord(\n  recordType: recordType!AS GCM Clause Set Clause Synced,\n  relatedRecordData: ri!relatedRecordData,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM Clause Set Clause Synced.relationId,\n      operator: \"in\",\n      value: ri!relationIds\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM Clause Set Clause Synced.setId,\n      operator: \"=\",\n      value: ri!setId\n    ),\n    ri!additionalfilters\n  },\n  fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n    {\n      ri!fields,\n      if(\n        ri!includeRelatedRecords,\n        {\n          recordType!AS GCM Clause Set Clause Synced.clauseSet,\n          recordType!AS GCM Clause Set Clause Synced.clauseInclusionReason,\n          recordType!AS GCM Clause Set Clause Synced.format,\n          recordType!AS GCM Clause Set Clause Synced.refAddedVia,\n          recordType!AS GCM Clause Set Clause Synced.refFormat,\n          recordType!AS GCM Clause Set Clause Synced.refReasonForRemoval,\n          recordType!AS GCM Clause Set Clause Synced.refStatus,\n          recordType!AS GCM Clause Set Clause Synced.refUsage,\n          recordType!AS GCM Clause Set Clause Synced.refClause,\n          recordType!AS GCM Clause Set Clause Synced.section\n        },\n        {}\n      )\n    }\n  ),\n  sort: ri!sortInfo,\n  pagingInfo: ri!pagingInfo,\n  returnType: a!defaultValue(\n    value: ri!returnType,\n    default: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n  ),\n  executeWhen: and(\n    ri!executeWhen,\n    or(\n      a!isNotNullOrEmpty(ri!relationIds),\n      a!isNotNullOrEmpty(ri!setId),\n      a!isNotNullOrEmpty(ri!additionalfilters),\n      a!isNotNullOrEmpty(ri!logicalExpression),\n      a!isNotNullOrEmpty(ri!aggregationFields),\n      and(\n        ri!getAllRecords = true(),\n        rule!AS_CO_UT_isNotBlank(ri!fields)\n      )\n    )\n  ),\n  triggerRefresh: ri!triggerRefresh,\n  logicalExpression: ri!logicalExpression,\n  aggregationFields: ri!aggregationFields\n)"
    },
    "_a-0000e915-02bc-8000-9c1f-011c48011c48_3773120": {
      "name": "AS_GCM_substituteListFromTextUsingReduce",
      "type": "Expression Rule",
      "sail_code": "/*This rule with replace all texts in ri!find with \"\" if null is passed to ri!replaceWith\n  If null is passed to ri!instanceNum then only the first instance of ri!find will be replaced \n*/\nif(\n  rule!AS_CO_UT_isBlank(ri!find),\n  ri!text,\n  reduce(\n    fn!substitute,\n    ri!text,\n    if(\n      ri!replaceAllInstances = true(),\n      merge(\n        ri!find,\n        a!defaultValue(\n          value: ri!replaceWith,\n          default: repeat(length(ri!find), \"\")\n        )\n      ),\n      merge(\n        ri!find,\n        a!defaultValue(\n          value: ri!replaceWith,\n          default: repeat(length(ri!find), \"\")\n        ),\n        a!defaultValue(\n          value: ri!instanceNum,\n          default: repeat(length(ri!find), 1)\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76162": {
      "name": "AS_CO_UT_returnLastIndexOfArray",
      "type": "Expression Rule",
      "sail_code": "index(\n  ri!array,\n  count(ri!array),\n  rule!AS_CO_UT_returnSingleTypeObject(\n    typeOf: ri!array\n  )\n)"
    },
    "_a-0000e643-f7f1-8000-9bca-011c48011c48_1414975": {
      "name": "AS_GCM_MTR_SAVE_applicationMetricsForFailedValidations",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(local!temp, a!save(local!temp, {}))"
    },
    "_a-0000eae2-5167-8000-9ce4-011c48011c48_8879314": {
      "name": "AS_GAM_returnCdtOrRecordIndicesByField",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_whereContains(\n  values: ri!value,\n  array: if(\n    /*Checking if the data is of type record*/\n    rule!AS_CO_UT_isRecordTypeData(data: ri!cdtOrRecord),\n    index(\n      a!flatten(ri!cdtOrRecord),\n      ri!field,\n      null\n    ),\n    /*Using indexPath to index the data since its not record type data   */\n    rule!AS_CO_UT_indexPath(\n      cdt: a!flatten(ri!cdtOrRecord),\n      field: ri!field,\n      indexDefault: null\n    )\n  )\n)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1543067": {
      "name": "AS_GCM_BL_populateClauseSetClauseTextDetailsByBatching",
      "type": "Expression Rule",
      "sail_code": "/*Note: Cannot add assertion as this requires data from DSE*/\na!localVariables(\n  /*Querying all the clause set clause text for the clause set*/\n  local!activeClauseTexts: rule!AS_GCM_QR_getClauseSetClauseTextDetails(\n    relationIds: ri!clauses.relationId,\n    returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n    executeWhen: rule!AS_CO_UT_isNotBlank(ri!clauses.relationId)\n  ),\n  local!finalizedSetId: if(\n    and(\n      a!isNotNullOrEmpty(ri!solicitationSetId),\n      ri!solicitationSetId <> 0\n    ),\n    ri!solicitationSetId,\n    /* get the copy clause set id for copy the clauses */\n    if(\n      ri!copyFillins,\n      ri!copyClauseSetId,\n      tointeger(\n        index(\n          rule!AS_GCM_QE_getClauseSetDetails(\n            executeWhen: or(\n              ri!clauseSet.refCategory.refDataId = cons!AS_GCM_REF_ID_CATEGORY_AMENDMENT,\n              ri!clauseSet.refCategory.refDataId = cons!AS_GCM_REF_ID_CATEGORY_MODIFICATION\n            ),\n            returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT,\n            additionalFilters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: \"setNumber\",\n                operator: \"=\",\n                value: ri!clauseSet.setNumber\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: \"setId\",\n                operator: \"<>\",\n                value: ri!clauseSet.setId\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: \"refType.refDataId\",\n                operator: \"=\",\n                value: ri!clauseSet.refType.refDataId\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: \"refStatus.refDataId\",\n                operator: \"=\",\n                value: cons!AS_GCM_REF_ID_CLAUSE_SET_STATUS_FINALIZED\n              )\n            },\n            sort: #\"SYSTEM_SYSRULES_sortInfo\"(field: \"validationDate\", ascending: false)\n          ),\n          \"setId\",\n          {}\n        )\n      )\n    )\n  ),\n  local!modificationSetId: /* Checking if the clause set is created from Soliciation */\n  tointeger(\n    a!defaultValue(\n      value: local!finalizedSetId,\n      default: index(\n        rule!AS_GCM_QE_getClauseSetDetails(\n          executeWhen: or(\n            ri!clauseSet.refCategory.refDataId = cons!AS_GCM_REF_ID_CATEGORY_AMENDMENT,\n            ri!clauseSet.refCategory.refDataId = cons!AS_GCM_REF_ID_CATEGORY_MODIFICATION\n          ),\n          returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT,\n          additionalFilters: {\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: \"setNumber\",\n              operator: \"=\",\n              value: ri!clauseSet.setNumber\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: \"setId\",\n              operator: \"<>\",\n              value: ri!clauseSet.setId\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: \"refType.refDataId\",\n              operator: \"=\",\n              value: ri!clauseSet.refType.refDataId\n            )\n          }\n        ),\n        \"setId\",\n        {}\n      )\n    )\n  ),\n  local!modificationClauseSetClause: rule!AS_CO_UT_cast(\n    type: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_Clause?list',\n    value: rule!AS_GAM_UT_queryEntityWithSelection(\n      entity: cons!AS_GCM_ENT_CLAUSE_SET_CLAUSE,\n      entityType: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_Clause',\n      returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(startIndex: 1, batchSize: - 1),\n      filters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: \"setId\",\n          operator: \"=\",\n          value: local!modificationSetId\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: \"isActive\",\n          operator: \"=\",\n          value: true()\n        )\n      },\n      selectionColumns: { \"relationId\", \"refClause.clauseId\" },\n      executeWhen: rule!AS_CO_UT_isNotBlank(local!modificationSetId)\n    ).data\n  ),\n  local!modificationClauseTexts: rule!AS_GCM_QE_getClauseSetClauseTextsWithBatching(\n    relationIds: index(\n      local!modificationClauseSetClause,\n      \"relationId\",\n      {}\n    ),\n    includeClauseTextOriginal: true\n  ),\n  local!refClauseTexts: rule!AS_GCM_QE_getRefClauseTextsWithBatching(\n    clauseIds: ri!clauses.refClause.clauseId\n  ),\n  /* Clause which are added apart from previous set */\n  local!otherClauseIds: difference(\n    tointeger(\n      index(\n        index(ri!clauses, \"refClause\", null()),\n        \"clauseId\",\n        null()\n      )\n    ),\n    tointeger(\n      index(\n        index(\n          local!modificationClauseSetClause,\n          \"refClause\",\n          null()\n        ),\n        \"clauseId\",\n        null()\n      )\n    )\n  ),\n  local!clauseTextsToBeUpdated: rule!AS_CO_UT_rejectNullValuesFromArray(\n    array: #\"SYSTEM_SYSRULES_forEach\"(\n      items: todatasubset(\n        ri!clauses,\n        #\"SYSTEM_SYSRULES_pagingInfo\"(\n          startIndex: 1,\n          batchSize: - 1,\n          /*  Sorting the clauses based on editable and fillIn in descending to priotitize the clauses which have fillin or editable as true\n              Additionally sorting by formatId in ascending to prioritize the clauses which has the formatId as Full Text and sorting by clauseNumber\n\n              6 - Full Text\n              7 - IBR   */\n          sort: {\n            #\"SYSTEM_SYSRULES_sortInfo\"(\n              field: \"refClause.editable\",\n              ascending: false\n            ),\n            #\"SYSTEM_SYSRULES_sortInfo\"(\n              field: \"refClause.fillIn\",\n              ascending: false\n            ),\n            #\"SYSTEM_SYSRULES_sortInfo\"(field: \"formatId\", ascending: true),\n            #\"SYSTEM_SYSRULES_sortInfo\"(\n              field: \"refClause.clauseNumber\",\n              ascending: true\n            )\n          }\n        )\n      ).data,\n      expression: a!match(\n        value: rule!AS_CO_UT_cast(\n          type: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_Clause_Text',\n          value: rule!AS_GCM_filterRecords(\n            records: local!activeClauseTexts,\n            field: recordType!AS GCM Clause Set Clause Text.relationId,\n            value: tointeger(fv!item.relationId)\n          )\n        ),\n        /*Case 1: Updating specific clause entries (When clauses added from \"Add Clause\", \"Validate / Finalize Clause)*/\n        whenTrue: ri!updateSpecificClauses,\n        then: rule!AS_GCM_setMetaDataForClauseSetClauseTextCdt(\n          bundle: ri!bundle,\n          initiator: ri!initiator,\n          /*Updating existing active clause text entries for specific clauses if it is present else Constructing new entry*/\n          clauseSetClauseTexts: fv!value,\n          refClauseTexts: local!refClauseTexts,\n          clauseSetClauses: fv!item,\n          clauseSet: ri!clauseSet\n        ),\n        /*Case 2: Updating all clauses from \"Clause set wizard*/\n        whenTrue: and(\n          rule!AS_CO_UT_booleanDefaultFalse(fv!item.isActive),\n          rule!AS_CO_UT_isBlank(fv!value)\n        ),\n        then: a!localVariables(\n          local!isModification: and(\n            a!isNotNullOrEmpty(local!modificationSetId),\n            local!modificationSetId <> ri!clauseSet.setId,\n            /* checking is the clauseId is not present in local!otherClauseIds */\n            not(\n              contains(\n                local!otherClauseIds,\n                index(\n                  index(fv!item, \"refClause\", null()),\n                  \"clauseId\",\n                  null()\n                )\n              )\n            )\n          ),\n          local!modificationClauseText: rule!AS_CO_UT_cast(\n            type: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_Clause_Text',\n            value: rule!AS_GCM_filterRecords(\n              records: local!modificationClauseTexts,\n              field: \"relationId\",\n              value: tointeger(\n                index(\n                  index(\n                    local!modificationClauseSetClause,\n                    wherecontains(\n                      tointeger(fv!item.refClause.clauseId),\n                      tointeger(\n                        index(\n                          index(\n                            local!modificationClauseSetClause,\n                            \"refClause\",\n                            {}\n                          ),\n                          \"clauseId\",\n                          {}\n                        )\n                      )\n                    ),\n                    {}\n                  ),\n                  \"relationId\",\n                  {}\n                )\n              )\n            )\n          ),\n          local!clauseText: if(\n            local!isModification,\n            index(\n              local!modificationClauseText,\n              \"clauseText\",\n              {}\n            ),\n            \"\"\n          ),\n          local!originalClauseText: if(\n            local!isModification,\n            index(\n              local!modificationClauseText,\n              \"clauseTextOriginal\",\n              \"\"\n            ),\n            \"\"\n          ),\n          /*Constructing new clause text entries*/\n          rule!AS_GCM_setMetaDataForClauseSetClauseTextCdt(\n            bundle: ri!bundle,\n            clauseSetClauseTexts: rule!AS_CO_UT_cast(\n              type: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_Clause_Text',\n              value: {\n                clauseText: local!clauseText,\n                /* Copying clause text for complete fill in RA*/\n                clauseTextOriginal: local!originalClauseText\n              }\n            ),\n            clauseSet: ri!clauseSet,\n            refClauseTexts: local!refClauseTexts,\n            initiator: ri!initiator,\n            clauseSetClauses: fv!item,\n            /*  During modification we would not want to reset the clause text  */\n            preventClauseTextReset: local!isModification\n          )\n        ),\n        /*  Skipping the rest    */\n        default: null\n      )\n    )\n  ),\n  /*Entity & Data constructed when the clause texts to be updated are not null*/\n  if(\n    rule!AS_CO_UT_isBlank(value: local!clauseTextsToBeUpdated),\n    {},\n    {\n      entity: cons!AS_GCM_ENT_CLAUSE_SET_CLAUSE_TEXT,\n      data: local!clauseTextsToBeUpdated\n    }\n  )\n)"
    },
    "_a-0000ed5b-ded3-8000-9df2-011c48011c48_15127729": {
      "name": "AS_GCM_CPS_ClauseSetRelatedActionPlaceholder",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!bundle: a!defaultValue(\n    value: ri!bundle,\n    default: rule!AS_GCM_CO_UT_loadBundleFromFolder(langISOCode: null())\n  ),\n  {\n    if(\n      ri!isSmallDialog,\n      {},\n      {\n        #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          marginAbove: \"EVEN_MORE\",\n          marginBelow: \"EVEN_MORE\"\n        ),\n        #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          marginAbove: \"EVEN_MORE\",\n          marginBelow: \"EVEN_MORE\"\n        )\n      }\n\n    ),\n    #\"SYSTEM_SYSRULES_imageField_v1\"(\n      labelPosition: \"COLLAPSED\",\n      images: #\"SYSTEM_SYSRULES_documentImage\"(\n        document: cons!AS_GCM_DOC_CLAUSE_SET_GENERATION_STATE\n      ),\n      size: \"SMALL_PLUS\",\n      align: \"CENTER\",\n      marginAbove: if(ri!isSmallDialog, \"NONE\", \"EVEN_MORE\"),\n      marginBelow: \"STANDARD\"\n    ),\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      labelPosition: \"COLLAPSED\",\n      value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: \"Clause Set Generation is in progress\",\n        size: if(ri!isSmallDialog,\"STANDARD\",\"MEDIUM\")\n      ),\n      align: \"CENTER\",\n      marginAbove: \"LESS\",\n      marginBelow: \"LESS\"\n    ),\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      labelPosition: \"COLLAPSED\",\n      value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        size: if(ri!isSmallDialog,\"SMALL\",\"\"),\n        text: \"This action will be available once the clause set generation is complete\"\n      ),\n      align: \"CENTER\",\n      marginBelow: \"STANDARD\"\n    ),\n    #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n      buttons: {\n        #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          label: \"Close\",\n          icon: \"close\",\n          value: cons!AS_CO_ENUM_USER_ACTION_CANCEL,\n          saveInto: ri!userAction,\n          submit: true,\n          size: \"SMALL\",\n          style: \"SOLID\",\n          color: \"SECONDARY\"\n        )\n      },\n      align: \"CENTER\",\n      marginAbove: \"STANDARD\",\n      marginBelow: if(ri!isSmallDialog, \"NONE\", \"EVEN_MORE\")\n    )\n  }\n)"
    }
  }
}
{
  "uuid": "_a-0001ed77-88a5-8000-9d49-011c48011c48_3799300",
  "name": "CMGT_Case_ConfigureTask_Task_CreateCaseSection",
  "type": "Interface",
  "description": "UI components to configure create case details",
  "sail_code": "#\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n  contents: {\n    /*Case Type*/\n    #\"SYSTEM_SYSRULES_dropdownField_v1\"(\n      data: #\"SYSTEM_SYSRULES_recordData\"(\n        recordType: recordType!CMGT_CFG_CaseType,\n        filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n          operator: \"AND\",\n          filters: {\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_CFG_CaseType.isCategory,\n              operator: \"=\",\n              value: false\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_CFG_CaseType.isActive,\n              operator: \"=\",\n              value: true\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_CFG_CaseType.parentCaseType.isActive,\n              operator: \"=\",\n              value: true()\n            )\n          }\n        )\n      ),\n      choiceLabels: recordType!CMGT_CFG_CaseType.fullLabel,\n      choiceValues: recordType!CMGT_CFG_CaseType.uuid,\n      label: #\"urn:appian:translation-string:v1:28ea68dc-457f-4863-9e77-b36020dbeb4b\",\n      placeholder: #\"urn:appian:translation-string:v1:d91269ae-78f6-4736-b22a-ea742a59e80d\",\n      value: if(\n        contains(\n          tointeger(\n            ri!activeCaseTypes[recordType!CMGT_CFG_CaseType.uuid]\n          ),\n          tointeger(\n            ri!selectedTask[recordType!CMGT_Task.createCaseTask.caseTypeUuid]\n          )\n        ),\n        ri!selectedTask[recordType!CMGT_Task.createCaseTask.caseTypeUuid],\n        null\n      ),\n      saveInto: {\n        ri!selectedTask[recordType!CMGT_Task.createCaseTask.caseTypeUuid],\n        a!save(\n          ri!case[recordType!CMGT_Case.tasks],\n          #\"urn:appian:function:v1:a:update\"(\n            ri!case[recordType!CMGT_Case.tasks],\n            /*Index of the case task that we want to update in the ri!tasks array*/\n            wherecontains(\n              ri!selectedTaskInstanceUUID,\n              ri!case[recordType!CMGT_Case.tasks.taskInstanceUuid]\n            ),\n            /*The updated case task*/\n            #\"urn:appian:function:v1:a:update\"(\n              ri!selectedTask,\n              recordType!CMGT_Task.createCaseTask.caseTypeUuid,\n              ri!selectedTask[recordType!CMGT_Task.createCaseTask.caseTypeUuid]\n            )\n          )\n        )\n      },\n      required: true(),\n      requiredMessage:#\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(#\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:28ea68dc-457f-4863-9e77-b36020dbeb4b\")\n    ),\n    /*Relationship to original case*/\n    #\"SYSTEM_SYSRULES_dropdownField_v1\"(\n      data: #\"SYSTEM_SYSRULES_recordData\"(\n        recordType: recordType!CMGT_CFG_RelationshipMapType,\n        filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n          operator: \"AND\",\n          filters: {\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_CFG_RelationshipMapType.type,\n              operator: \"=\",\n              value: \"CASE_TO_CASE\"\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_CFG_RelationshipMapType.isActive,\n              operator: \"=\",\n              value: true()\n            )\n          }\n        )\n      ),\n      choiceLabels: recordType!CMGT_CFG_RelationshipMapType.relationship.label,\n      choiceValues: recordType!CMGT_CFG_RelationshipMapType.relationshipMapTypeId,\n      label: #\"urn:appian:translation-string:v1:f967743d-71a3-4f23-8107-b8f1ebc38396\",\n      placeholder: #\"urn:appian:translation-string:v1:3831f890-1fc6-41e0-8732-dedfe0749174\",\n      value: ri!selectedTask[recordType!CMGT_Task.createCaseTask.relationshipToOriginalCase],\n      saveInto: {\n        ri!selectedTask[recordType!CMGT_Task.createCaseTask.relationshipToOriginalCase],\n        a!save(\n          ri!case[recordType!CMGT_Case.tasks],\n          #\"urn:appian:function:v1:a:update\"(\n            ri!case[recordType!CMGT_Case.tasks],\n            /*Index of the case task that we want to update in the ri!tasks array*/\n            wherecontains(\n              ri!selectedTaskInstanceUUID,\n              ri!case[recordType!CMGT_Case.tasks.taskInstanceUuid]\n            ),\n            /*The updated case task*/\n            #\"urn:appian:function:v1:a:update\"(\n              ri!selectedTask,\n              recordType!CMGT_Task.createCaseTask.relationshipToOriginalCase,\n              ri!selectedTask[recordType!CMGT_Task.createCaseTask.relationshipToOriginalCase]\n            )\n          )\n        )\n      }\n    )\n  },\n  marginBelow: \"EVEN_LESS\"\n)",
  "calls": [
    {
      "name": "CMGT_CFG_CaseType",
      "type": "Record Type",
      "dep_type": "USES_RECORD_TYPE"
    },
    {
      "name": "CMGT_Task",
      "type": "Record Type",
      "dep_type": "USES_RECORD_TYPE"
    },
    {
      "name": "CMGT_Case",
      "type": "Record Type",
      "dep_type": "USES_RECORD_TYPE"
    },
    {
      "name": "CMGT_CFG_RelationshipMapType",
      "type": "Record Type",
      "dep_type": "USES_RECORD_TYPE"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_Role",
      "type": "Record Type",
      "dep_type": "USES_RECORD_TYPE"
    }
  ],
  "called_by": []
}
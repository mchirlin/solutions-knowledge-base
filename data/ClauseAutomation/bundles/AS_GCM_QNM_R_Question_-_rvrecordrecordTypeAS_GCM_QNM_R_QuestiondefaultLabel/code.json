{
  "_metadata": {
    "bundle_id": "AS_GCM_QNM_R_Question_-_rvrecordrecordTypeAS_GCM_QNM_R_QuestiondefaultLabel"
  },
  "objects": {
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81818": {
      "name": "AS_CO_I18N_UT_displayLabel",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Text',\n  with(\n    local!bundleKeyParse: rule!AS_CO_I18N_UT_parseBundleKey(bundleKey: ri!bundleKey),\n    local!label: if(\n      rule!AS_CO_UT_isBlank(local!bundleKeyParse.bundleName),\n      ri!i18nData[local!bundleKeyParse.labelKey],\n      ri!i18nData[local!bundleKeyParse.bundleName][local!bundleKeyParse.labelKey]\n    ),\n    local!updatedLabel: rule!AS_CO_UT_replaceNull(\n      nullableValue: local!label,\n      replacementValue: ri!bundleKey\n    ),\n    local!updatedLabelForArguments: if(\n      rule!AS_CO_UT_isBlank(ri!arguments),\n      local!updatedLabel,\n      reduce(\n        rule!AS_CO_I18N_UT_replaceArgument(input: _, index: _, arguments: ri!arguments),\n        local!updatedLabel,\n        enumerate(count(ri!arguments)) + 1\n      )\n    ),\n    local!updatedLabelForArguments\n  )\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_1021202": {
      "name": "AS_GAM_UT_ArrayLength",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!array),\n  0,\n  length(ri!array)\n)"
    },
    "_a-0000e61a-f20f-8000-9ba5-011c48011c48_53654": {
      "name": "AS_GCM_CO_UT_loadBundleFromFolder",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!lang: \"en_US\",\n/* below is deprecated for now, uncomment to support multi-language display */\n  /*if(*/\n    /*isnull(ri!langISOCode),*/\n    /*userlocale(loggedInUser()),*/\n    /*ri!langISOCode*/\n  /*),*/\n  local!bundleName: rule!AS_GCM_determineValueBySolutionFlavor(\n    options: cons!AS_GCM_TXT_VALID_SOLUTION_FLAVORS\n  ),\n  /*local!bundleName*/\n  local!output: loadbundlepropertiesfile(\n    cons!AS_GCM_FLD_PROPERTIES_FILES,\n    local!lang,\n    local!bundleName\n  )[local!bundleName],\n  local!output\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73758": {
      "name": "AS_CO_UT_distinct",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!value),\n  union({ri!value}, {ri!value})\n)"
    },
    "_a-0000e69a-ff03-8000-9bd0-011c48011c48_1641804": {
      "name": "AS_GCM_MTR_SAVE_addQuestionToQuestionBank",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(local!temp, a!save(local!temp, {}))"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_36913-gcm": {
      "name": "AS_GCM_QNM_REF_questionTypes",
      "type": "Expression Rule",
      "sail_code": "/* This rule is often used in scenarios where display is not relevant,\nso we account for i18n specifically where display is necessary for efficiency */\na!localVariables(\n  local!bundle: a!refreshVariable(\n    value: rule!AS_GCM_CO_UT_loadBundleFromFolder(langISOCode: null()),\n    refreshAlways: true\n  ),\n  /* Single Radio Button field*/\n  {\n    'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_R_QuestionType'(\n      questionTypeCode: cons!AS_GCM_QNM_ENUM_QUESTION_TYPE_CODE_SINGLE_RADIO_BUTTON_TEXT,\n      questionTypeLabel: \"\",\n      questionTypeDescription: \"\",\n      respond: rule!AS_GCM_QNM_CPS_displayQuestion_SINGLE_RADIO_BUTTON_TEXT,\n      readOnlyDisplay: rule!AS_GCM_QNM_UI_displayReadOnlyResponse_SINGLE_RADIO_BUTTON_TEXT,\n      fieldTypes: {\n        'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_R_FieldType'(\n          fieldKey: null,\n          fieldType: cons!AS_GCM_QNM_ENUM_FIELD_TYPE_RADIO_BUTTON,\n          validate: rule!AS_GCM_QNM_VD_validate_NO_VALIDATION,\n          fieldResponseType: cons!AS_GCM_QNM_ENUM_FIELD_RESPONSE_TYPE_USER_DEFINED_SELECTION\n        )\n      },\n      isActive: true\n    ),\n    /* Single dropdown field -- plain text value */\n    'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_R_QuestionType'(\n      questionTypeCode: cons!AS_GCM_QNM_ENUM_QUESTION_TYPE_CODE_DROPDOWN_TEXT,\n      questionTypeLabel: \"\",\n      questionTypeDescription: \"\",\n      respond: rule!AS_GCM_QNM_CPS_displayQuestion_DROPDOWN_TEXT,\n      readOnlyDisplay: rule!AS_GCM_QNM_UI_displayReadOnlyResponse_DROPDOWN_TEXT,\n      fieldTypes: {\n        'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_R_FieldType'(\n          fieldKey: null,\n          fieldType: cons!AS_GCM_QNM_ENUM_FIELD_TYPE_DROPDOWN,\n          validate: rule!AS_GCM_QNM_VD_validate_NO_VALIDATION,\n          fieldResponseType: cons!AS_GCM_QNM_ENUM_FIELD_RESPONSE_TYPE_USER_DEFINED_SELECTION\n        )\n      },\n      isActive: true\n    )/*DOCUPLOADTYPE removed*/\n    /*PARATYPE removed*/\n    /* New question types go here */\n    \n  }\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73624": {
      "name": "AS_CO_UT_compare",
      "type": "Expression Rule",
      "sail_code": "/*Do a \"fuzzy\" comparison where all we care about is the data*/\n/*This will match a list of variant/dictionary/cdt if their fields have the same values*/\ncast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  tostring(ri!value1) = tostring(ri!value2)\n)"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9760686": {
      "name": "AS_GCM_getAllPresentRelationshipsFromRecord_Apply",
      "type": "Expression Rule",
      "sail_code": "if(\n  runtimetypeof(ri!relationship) = 'type!{http://www.appian.com/ae/types/2009}RecordRelationship',\n  {\n    ri!relationship,\n    rule!AS_GCM_getAllPresentRelationshipsFromRecord(records: ri!records[ri!relationship])\n  },\n  {}\n)"
    },
    "_a-0000e3c8-6861-8000-9ba2-011c48011c48_124304": {
      "name": "AS_CO_UT_saveNull",
      "type": "Expression Rule",
      "sail_code": "a!save(\n  target: ri!valueToNull,\n  value: rule!AS_CO_UT_initializeBlankLocalVariable(typeOf: ri!valueToNull)\n)"
    },
    "_a-0000e3ff-a5bc-8000-9ba8-011c48011c48_39610": {
      "name": "AS_CO_UT_returnArrayTypeNumber",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer',\n  typeof(\n    a!flatten(\n      rule!AS_CO_UT_cast(\n        type: ri!type,\n        typeOf: ri!typeOf,\n        value: null\n      )\n    )\n  )\n)"
    },
    "_a-0000e61a-f20f-8000-9ba5-011c48011c48_53662": {
      "name": "AS_GAM_CO_I18N_UT_displayLabel",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Text',\n  a!localVariables(\n    local!result: a!refreshVariable(\n      value: if(\n        rule!AS_CO_UT_isBlank(ri!bundleKey),\n        null,\n        if(\n          rule!AS_CO_UT_isBlank(ri!arguments),\n          rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!bundle[ri!bundleKey],\n            replacementValue: ri!bundleKey\n          ),\n          rule!AS_GAM_CO_I18N_UT_replaceArguments(\n            bundleKey: ri!bundle[ri!bundleKey],\n            arguments: ri!arguments\n          )\n        )\n      ),\n      refreshAlways: true\n    ),\n    local!result\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_112825": {
      "name": "AS_CO_UT_toString",
      "type": "Expression Rule",
      "sail_code": "if(\n/* to prevent modulus from breaking */\n  isnull(ri!value),\n  ri!value,\n  if(\n    todecimal(ri!value) = tostring(ri!value),\n    if(\n      mod(ri!value, 1) = 0,\n      text(\n        todecimal(ri!value), \"##\"\n      ),\n      text(\n        todecimal(ri!value), \"##.##\"\n      )\n    ),\n    ri!value\n  )\n)"
    },
    "_a-0000e3ff-a5bc-8000-9ba8-011c48011c48_39082": {
      "name": "AS_CO_UT_booleanDefaultTrue",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  if(\n    isnull(ri!boolean),\n    true,\n    ri!boolean\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75636": {
      "name": "AS_CO_UT_not",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  not(rule!AS_CO_UT_booleanDefaultFalse(ri!input))\n)\n\n/*True returns False*/\n/*False returns True*/\n/*Null returns True*/"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_247409": {
      "name": "AS_CO_DSP_zINTERNAL_styledBanner",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_cardLayout\"(\n  contents: {\n    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n      items: {\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            labelPosition: \"COLLAPSED\",\n            value: {\n              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                icon: ri!icon,\n                color: ri!iconColor,\n                size: \"MEDIUM\"\n              )\n            }\n          ),\n          width: \"MINIMIZE\"\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            labelPosition: \"COLLAPSED\",\n            value: {\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: ri!label,\n                style: \"STRONG\"\n              ),\n              \" \",\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: ri!secondaryLabel,\n                style: \"PLAIN\",\n                showWhen: rule!AS_CO_UT_isNotBlank(\n                  ri!secondaryLabel\n                )\n              )\n            }\n          )\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            labelPosition: \"COLLAPSED\",\n            value: #\"SYSTEM_SYSRULES_richTextIcon\"(\n              icon: \"times\",\n              link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                saveInto: ri!acknowledgementSaveInto\n              ),\n              linkStyle: \"STANDALONE\",\n              size: \"MEDIUM\",\n              showWhen: rule!AS_CO_UT_isNotBlank(\n                ri!acknowledgementSaveInto\n              )\n            ),\n            align: \"RIGHT\"\n          ),\n          width: \"MINIMIZE\"\n        )\n        /* Could also support a button option here, as is done in the Appian pallette alerts pattern */\n      },\n      alignVertical: \"MIDDLE\",\n      spacing: \"STANDARD\"\n    )\n  },\n  showWhen: ri!showWhen,\n  style: ri!style,\n  marginBelow: \"STANDARD\",\n  accessibilityText: ri!accessibilityText\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_165782-adt": {
      "name": "AS_ADT_UT_calculateAudit_MultipleObjects",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Get the distinct IDs*/\n  local!distinctIds: rule!AS_CO_UT_distinct(\n    tointeger(\n      {\n        index(\n          ri!originalObjects,\n          ri!auditConfig.idField,\n          {}\n        ),\n        index(\n          ri!newObjects,\n          ri!auditConfig.idField,\n          {}\n        )\n      }\n    )\n  ),\n  if(\n    rule!AS_CO_UT_isBlank(local!distinctIds),\n    {},\n    /*This flatten converts to a list of dictionary, which prevents odd behavior in the parent*/\n    a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!distinctIds,\n        expression: a!flatten(\n          rule!AS_ADT_UT_calculateAudit_SingleObject(\n            originalObject: index(\n              rule!AS_CO_UT_filterCdtByField(\n                cdt: ri!originalObjects,\n                field: ri!auditConfig.idField,\n                value: fv!item\n              ),\n              1,\n              {}\n            ),\n            newObject: index(\n              rule!AS_CO_UT_filterCdtByField(\n                cdt: ri!newObjects,\n                field: ri!auditConfig.idField,\n                value: fv!item\n              ),\n              1,\n              {}\n            ),\n            auditConfig: ri!auditConfig,\n            username: ri!username,\n            externalAction: ri!externalAction,\n            auditType: ri!auditType\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9760853": {
      "name": "AS_GCM_setRecordFields",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!record),\n  ri!record,\n  a!localVariables(\n    local!allUpdates: rule!AS_CO_UT_rejectNullValuesFromArray(\n      a!flatten(\n        {\n          ri!alwaysOverwrite,\n          ri!childRelationships,\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!neverOverwrite,\n            expression: #\"urn:appian:function:v1:a:update\"(\n              fv!item,\n              \"value\",\n              /*Specifically using this instead of a!defaultValue() to account for the `{null}` value*/\n              rule!AS_CO_UT_replaceNull(\n                nullableValue: ri!record[fv!item.field],\n                replacementValue: fv!item.value\n              )\n            )\n          )\n        }\n      )\n    ),\n    local!onlyChangedUpdates: a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!allUpdates,\n        expression: if(\n          or(\n            tostring(ri!record[fv!item.field]) = tostring(fv!item.value),\n            toboolean(fv!item.applyWhen) = false\n          ),\n          {},\n          fv!item\n        )\n      )\n    ),\n    if(\n      a!isNullOrEmpty(local!onlyChangedUpdates),\n      ri!record,\n      #\"urn:appian:function:v1:a:update\"(\n        data: ri!record,\n        index: local!onlyChangedUpdates.field,\n        value: local!onlyChangedUpdates.value\n      )\n    )\n  )\n)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1566807": {
      "name": "AS_GCM_QNM_ADT_BL_auditConfig_Question_Reference",
      "type": "Expression Rule",
      "sail_code": "{\n  /*AS_GCM_QNM_R_Question*/\n  idField: \"questionReferenceId\",\n  simpleFields: {\n    \"description\",\n    \"defaultLabel\",\n    \"defaultInstructions\",\n    \"questionTypeCode\"\n  },\n  complexFields: {\n    /*AS_GCM_QNM_R_Response*/\n    {\n      fieldName: \"defaultResponseOptions\",\n      auditFieldName: \"responseOptionsChanges\",\n      idField: \"responseReferenceId\",\n      simpleFields: { \"fieldKey\", \"label\", \"value\" },\n      complexFields: {},\n      recordIdField: \"questionReferenceId\"\n    },\n    /*AS_GCM_QNM_R_ResponseRequirement*/\n    {\n      fieldName: \"defaultResponseRequirements\",\n      auditFieldName: \"responseRequirementsChanges\",\n      idField: \"responseRequirementReferenceId\",\n      simpleFields: {\n        \"fieldKey\",\n        \"requirementTypeCode\",\n        \"requirementValue\"\n      },\n      complexFields: {},\n      recordIdField: \"questionReferenceId\"\n    },\n    /*AS_GCM_QNM_R_Response*/\n    {\n      fieldName: \"defaultDefaultResponses\",\n      auditFieldName: \"defaultResponsesChanges\",\n      idField: \"responseReferenceId\",\n      simpleFields: { \"fieldKey\", \"label\", \"value\" },\n      complexFields: {},\n      recordIdField: \"questionReferenceId\"\n    },\n    /*AS_GCM_QNM_R_QuestionPrecedentSet*/\n    {\n      fieldName: \"isDisplayedPrecedentSets\",\n      auditFieldName: \"isDisplayedPrecedentSetsChanges\",\n      idField: \"questionPrecedentSetReferenceId\",\n      simpleFields: { \"fieldKey\", \"operator\" },\n      complexFields: {\n        /*Question Precedent Sets*/\n        {\n          fieldName: \"questionPrecedentSets\",\n          auditFieldName: \"questionPrecedentSetChanges\",\n          idField: \"questionPrecedentSetReferenceId\",\n          simpleFields: { \"fieldKey\", \"operator\" },\n          complexFields: {}\n        },\n        /*Question Precedents*/\n        {\n          fieldName: \"questionPrecedents\",\n          auditFieldName: \"questionPrecedentChanges\",\n          idField: \"questionPrecedentReferenceId\",\n          simpleFields: {},\n          complexFields: {\n            {\n              fieldName: \"responseRequirement\",\n              auditFieldName: \"responseRequirementChanges\",\n              idField: \"questionPrecedentReferenceId\",\n              simpleFields: {\n                \"fieldKey\",\n                \"requirementTypeCode\",\n                \"requirementValue\"\n              },\n              complexFields: {}\n            }\n          }\n        }\n      },\n      recordIdField: \"questionReferenceId\"\n    },\n    /*AS_GCM_QNM_R_QuestionPrecedentSet*/\n    {\n      fieldName: \"isRequiredPrecedentSets\",\n      auditFieldName: \"isRequiredPrecedentSets\",\n      idField: \"questionPrecedentSetReferenceId\",\n      simpleFields: { \"fieldKey\", \"operator\" },\n      complexFields: {\n        /*Question Precedent Sets*/\n        {\n          fieldName: \"questionPrecedentSets\",\n          auditFieldName: \"questionPrecedentSetChanges\",\n          idField: \"questionPrecedentSetReferenceId\",\n          simpleFields: { \"fieldKey\", \"operator\" },\n          complexFields: {}\n        },\n        /*Question Precedents*/\n        {\n          fieldName: \"questionPrecedents\",\n          auditFieldName: \"questionPrecedentChanges\",\n          idField: \"questionPrecedentReferenceId\",\n          simpleFields: {},\n          complexFields: {\n            {\n              fieldName: \"responseRequirement\",\n              auditFieldName: \"responseRequirementChanges\",\n              idField: \"questionPrecedentReferenceId\",\n              simpleFields: {\n                \"fieldKey\",\n                \"requirementTypeCode\",\n                \"requirementValue\"\n              },\n              complexFields: {}\n            }\n          }\n        }\n      },\n      recordIdField: \"questionReferenceId\"\n    }\n  },\n  recordIdField: \"questionReferenceId\"\n}"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_981349": {
      "name": "AS_GAM_ADT_UT_buildFieldLevelAuditEntityData",
      "type": "Expression Rule",
      "sail_code": "rule!AS_ADT_UT_calculateAudit(\n    originalObjects: ri!auditParams.originalObjects,\n    newObjects: ri!auditParams.newObjects,\n    objectTypeNumber: ri!auditParams.objectTypeNumber,\n    namespace: ri!auditParams.namespace,\n    username: ri!auditParams.username,\n    auditConfig: ri!auditParams.auditConfig,\n    externalAction:ri!auditParams.externalAction\n  )"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_161958-adt": {
      "name": "AS_ADT_UT_determineAuditActionCode",
      "type": "Expression Rule",
      "sail_code": "choose(\n  where(\n    {\n      rule!AS_CO_UT_isNotBlank(ri!externalAction),\n      rule!AS_CO_UT_isBlank(index(ri!originalObject, ri!auditConfig.idField, null)),\n      rule!AS_CO_UT_isBlank(index(ri!newObject, ri!auditConfig.idField, null)),\n      toboolean(index(ri!originalObject, \"isActive\", 1)) = toboolean(index(ri!newObject, \"isActive\", 1)),\n      toboolean(index(ri!originalObject, \"isActive\", false)),\n      toboolean(index(ri!newObject, \"isActive\", true))\n    }\n  )[1],\n  ri!externalAction,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_ADD,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DELETE,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DEACTIVATE,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_REACTIVATE\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76367": {
      "name": "AS_CO_UT_rejectNullValuesFromArray",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!array),\n  reject(\n    rule!AS_CO_UT_isBlank(_),\n    a!flatten(ri!array)\n  )\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_84411": {
      "name": "AS_CO_I18N_UT_getAndDisplayLabelSingle",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  a!localVariables(\n  \n    local!bundleKeyParse: rule!AS_CO_I18N_UT_parseBundleKey(\n      bundleKey: ri!bundleKey\n    ),\n    \n    local!i18nData: rule!AS_CO_I18N_UT_loadBundleFromFolder(\n      bundleFolder: ri!bundleFolder,\n      bundleNames: local!bundleKeyParse.bundleName,\n      localeAgnostic: ri!localeAgnostic\n    ),\n    \n    rule!AS_CO_I18N_UT_displayLabel(\n      i18nData: local!i18nData,\n      bundleKey: ri!bundleKey,\n      arguments: ri!arguments\n    )\n  )\n)"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9761091": {
      "name": "AS_GCM_filterRecords",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!fieldValuePairs: a!defaultValue(\n    ri!fieldValuePairs,\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: a!flatten(ri!field),\n      expression: a!map(\n        field: fv!item,\n        value: if(\n          fv!itemCount = 1,\n          ri!value,\n          index(a!flatten(ri!value), fv!index, null)\n        )\n      )\n    )\n  ),\n  local!matchIndices: if(\n    a!isNullOrEmpty(a!flatten(ri!records)),\n    tointeger({}),\n    reduce(\n      rule!AS_GCM_filterRecords_Reducer(\n        previousIndices: _,\n        records: a!flatten(ri!records),\n        fieldValuePair: _\n      ),\n      enumerate(count(a!flatten(ri!records))) + 1,\n      local!fieldValuePairs\n    )\n  ),\n  local!rejectIndices: difference(\n    if(\n      a!isNullOrEmpty(ri!records),\n      tointeger({}),\n      enumerate(count(a!flatten(ri!records))) + 1\n    ),\n    local!matchIndices\n  ),\n  local!matches: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!matchIndices, {})\n  ),\n  local!rejects: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!rejectIndices, {})\n  ),\n  local!output: a!match(\n    value: a!defaultValue(ri!filterType, \"FILTER\"),\n    equals: \"FILTER\",\n    then: local!matches,\n    equals: \"REJECT\",\n    then: local!rejects,\n    equals: \"FIRST_MATCH\",\n    then: index(local!matches, 1, null),\n    equals: \"FIRST_REJECT\",\n    then: index(local!rejects, 1, null),\n    equals: \"MATCH_COUNT\",\n    then: count(local!matchIndices),\n    equals: \"REJECT_COUNT\",\n    then: count(local!rejectIndices),\n    equals: \"MATCH_INDICES\",\n    then: local!matchIndices,\n    equals: \"REJECT_INDICES\",\n    then: local!rejectIndices,\n    equals: \"FULL_RESULT\",\n    then: a!map(\n      matches: local!matches,\n      rejects: local!rejects,\n      firstMatch: index(local!matches, 1, null),\n      firstReject: index(local!rejects, 1, null),\n      matchCount: count(local!matchIndices),\n      rejectCount: count(local!rejectIndices),\n      matchIndices: local!matchIndices,\n      rejectIndices: local!rejectIndices\n    ),\n    default: fn!error(\n      \"Invalid filterType, must be one of: FILTER, REJECT, FIRST_MATCH, FIRST_REJECT, MATCH_COUNT, REJECT_COUNT, MATCH_INDICES, REJECT_INDICES, FULL_RESULT\"\n    )\n  ),\n  local!output\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_983535": {
      "name": "AS_GAM_ADT_UT_constructFieldChangesDictionaryForManipulatedAudit",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Indexing 1 to convert list of dictionary to list*/\n  local!complexFieldConfig: index(\n    rule!AS_CO_UT_filterCdtByField(\n      cdt: ri!auditParams.auditConfig.complexFields,\n      field: \"auditFieldName\",\n      value: tostring(ri!auditParams.complexFieldName)\n    ),\n    1,\n    null\n  ),\n  local!foreignIdField: tostring(\n    a!flatten(\n      index(\n        local!complexFieldConfig,\n        \"foreignIdField\",\n        null\n      )\n    )\n  ),\n  local!auditConfig: rule!AS_CO_UT_dynamicDictionary(\n    fieldValuePairs: {\n      /*Field value pairs for parent object audit*/\n      { field: \"username\", value: ri!initiator },\n      { field: \"timestamp\", value: now() },\n      {\n        field: \"auditActionCode\",\n        value: ri!auditParams.externalAction\n      },\n      /*Indexing the \"idField\" of the parent object using \"foreignIdField\"*/\n      if(\n        rule!AS_CO_UT_isBlank(local!foreignIdField),\n        {},\n        {\n          field: ri!auditParams.auditConfig.idField,\n          value: tointeger(\n            rule!AS_CO_UT_replaceNull(\n              nullableValue: index(\n                rule!AS_CO_UT_indexPath(\n                  cdt: ri!auditParams.newObjects,\n                  field: ri!auditParams.auditConfig.idField\n                ),\n                1,\n                null\n              ),\n              replacementValue: index(\n                rule!AS_CO_UT_indexPath(\n                  cdt: ri!auditParams.newObjects,\n                  field: local!foreignIdField\n                ),\n                1,\n                null\n              )\n            )\n          )\n        }\n      ),\n      {\n        field: tostring(ri!auditParams.complexFieldName),\n        value: if(\n          rule!AS_CO_UT_isBlank(ri!auditParams.manipulationAudit),\n          /*If the audit calculation for the nested CDT involves generic field changes (i.e the manipulation audit is null), we can directly use the field change rule to calculate the audit*/\n          rule!AS_ADT_UT_calculateAudit(\n            originalObjects: rule!AS_CO_UT_castToDictionaryList(value: ri!auditParams.originalObjects),\n            newObjects: rule!AS_CO_UT_castToDictionaryList(value: ri!auditParams.newObjects),\n            objectTypeNumber: ri!auditParams.objectTypeNumber,\n            auditConfig: rule!AS_CO_UT_castToDictionary(value: local!complexFieldConfig),\n            namespace: ri!auditParams.namespace,\n            username: ri!initiator,\n            externalAction: null\n          ),\n          /*If the audit data is nested and is manipulated and passed from outsite, we can directly construct the audit entry for each ri!auditParams.manipulationAudit*/\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!auditParams.manipulationAudit,\n            expression: rule!AS_CO_UT_dynamicDictionary(\n              fieldValuePairs: {\n                if(\n                  rule!AS_CO_UT_isNotBlank(local!complexFieldConfig.idField),\n                  {\n                    field: local!complexFieldConfig.idField,\n                    value: index(\n                      ri!auditParams.newObjects,\n                      tostring(local!complexFieldConfig.idField),\n                      null\n                    )\n                  },\n                  {}\n                ),\n                { field: \"username\", value: ri!initiator },\n                { field: \"timestamp\", value: now() },\n                {\n                  field: \"auditActionCode\",\n                  value: /*If the action code varies for each manipulation audit, actionCode within auditParams.manipulationAudit will be used. Else, externalAction will be used*/\n                  rule!AS_CO_UT_replaceNull(\n                    nullableValue: fv!item.actionCode,\n                    replacementValue: ri!auditParams.externalAction\n                  )\n                },\n                if(\n                  rule!AS_CO_UT_isNotBlank(\n                    local!complexFieldConfig.foreignIdField\n                  ),\n                  {\n                    field: local!complexFieldConfig.foreignIdField,\n                    value: index(\n                      rule!AS_CO_UT_indexPath(\n                        cdt: ri!auditParams.newObjects,\n                        field: local!complexFieldConfig.foreignIdField\n                      ),\n                      1,\n                      null\n                    )\n                  },\n                  {}\n                ),\n                /*The field changes will be passed as label value pairs in \"fieldChanges\" column of auditParams.manipulationAudit\"*/\n                {\n                  field: \"simpleFieldChanges\",\n                  value: rule!AS_CO_UT_castToDictionaryList(value: fv!item.fieldChanges)\n                }\n              }\n            )\n          )\n        )\n      }\n    }\n  ),\n  if(\n    /*To make the action code \"UNCHANGED\" if the object is unmodified(excluding the metadata)*/\n    rule!AS_CO_UT_not(\n      contains(\n        a!flatten(\n          {\n            rule!AS_CO_UT_isBlank(\n              index(\n                rule!AS_CO_UT_indexPath(\n                  cdt: local!auditConfig,\n                  field: tostring(ri!auditParams.complexFieldName)\n                ),\n                \"simpleFieldChanges\",\n                null\n              )\n            ),\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: {\n                index(\n                  index(\n                    local!complexFieldConfig,\n                    \"complexFields\",\n                    null\n                  ),\n                  \"auditFieldName\",\n                  null\n                )\n              },\n              expression: rule!AS_CO_UT_isBlank(\n                rule!AS_CO_UT_rejectCdtByField(\n                  cdt: index(\n                    rule!AS_CO_UT_indexPath(\n                      cdt: local!auditConfig,\n                      field: tostring(ri!auditParams.complexFieldName)\n                    ),\n                    fv!item,\n                    null\n                  ),\n                  field: \"auditActionCode\",\n                  value: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n                )\n              )\n            )\n          }\n        ),\n        false\n      )\n    ),\n    rule!AS_CO_UT_updateCdtFields(\n      cdt: local!auditConfig,\n      fields: \"auditActionCode\",\n      newValues: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n    ),\n    local!auditConfig\n  )\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_983591": {
      "name": "AS_GAM_ADT_UT_constructDynamicDictionaryForManipulatedAudit",
      "type": "Expression Rule",
      "sail_code": "/*If the audit data is not nested and is manipulated and passed from outsite, we can directly construct the audit entry for each ri!auditParams.manipulationAudit*/\n#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!auditParams.manipulationAudit,\n  expression: rule!AS_CO_UT_dynamicDictionary(\n    fieldValuePairs: {\n      if(\n        rule!AS_CO_UT_isBlank(\n          index(\n            ri!auditParams.auditConfig,\n            \"idField\",\n            null\n          )\n        ),\n        {},\n        {\n          field: ri!auditParams.auditConfig.idField,\n          value: index(\n            index(\n              ri!auditParams.newObjects,\n              tostring(ri!auditParams.auditConfig.idField),\n              null\n            ),\n            1,\n            null\n          )\n        }\n      ),\n      { field: \"username\", value: ri!initiator },\n      { field: \"timestamp\", value: now() },\n      {\n        field: \"auditActionCode\",\n        value: /*If the action code varies for each manipulation audit, actionCode within auditParams.manipulationAudit will be used. Else, externalAction will be used*/\n        rule!AS_CO_UT_replaceNull(\n          nullableValue: fv!item.actionCode,\n          replacementValue: ri!auditParams.externalAction\n        )\n      },\n      if(\n        rule!AS_CO_UT_isNotBlank(\n          ri!auditParams.auditConfig.foreignIdField\n        ),\n        {\n          field: ri!auditParams.auditConfig.foreignIdField,\n          value: index(\n            index(\n              ri!auditParams.newObjects,\n              tostring(\n                ri!auditParams.auditConfig.foreignIdField\n              ),\n              null\n            ),\n            1,\n            null\n          )\n        },\n        {}\n      ),\n      /*The field changes will be passed as label value pairs in \"fieldChanges\" column of auditParams.manipulationAudit\"*/\n      {\n        field: \"simpleFieldChanges\",\n        value: rule!AS_CO_UT_castToDictionaryList(value: fv!item.fieldChanges)\n      }\n    }\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_74260": {
      "name": "AS_CO_UT_formatFieldEntryPlaceHolder",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!placeholderTrim: trim(ri!placeholder),\n  if(\n    rule!AS_CO_UT_isBlank(local!placeholderTrim),\n    \"\",\n    if(\n      ri!wrapInMarkers,\n      concat(\"--- \", local!placeholderTrim, \" ---\"),\n      if(\n        ri!appendEllipsis,\n        concat(local!placeholderTrim, \"...\"),\n        local!placeholderTrim\n      )\n    )\n  )\n)"
    },
    "_a-0000e460-9d93-8000-9bc1-011c48011c48_595621-gcm": {
      "name": "AS_GCM_QNM_UT_fieldTypes",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!metadata: a!refreshVariable(\n    value: rule!AS_GCM_QNM_UT_questionMetadata(\n      questionTypeCode: ri!questionTypeCode\n    ),\n    refreshAlways: true\n  ),\n  local!metadata.fieldTypes\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73536": {
      "name": "AS_CO_UT_isBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  length(a!flatten(ri!value)) = 0\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_74131": {
      "name": "AS_CO_DSP_standardReadOnlyField",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_textField\"(\n  label: ri!label,\n  labelPosition: rule!AS_CO_UT_getLabelPosition(\n    label: ri!label,\n    labelPosition: ri!labelPosition,\n    readOnly: true\n  ),\n  instructions: ri!instructions,\n  helpTooltip: ri!helpTooltip,\n  value: rule!AS_CO_UT_replaceNull(\n    nullableValue: ri!value,\n    replacementValue: if(\n      rule!AS_CO_UT_booleanDefaultTrue(\n        ri!showHyphenIfValueNull\n      ),\n      \"-\",\n      \"\"\n    )\n  ),\n  showWhen: ri!showWhen,\n  readOnly: true,\n  align: ri!align,\n  accessibilityText: ri!accessibilityText\n)"
    },
    "_a-0000eb28-f476-8000-9d09-011c48011c48_9642008": {
      "name": "AS_GCM_DPL_CO_INP_textField",
      "type": "Interface",
      "sail_code": "if(\n  ri!readOnly,\n  rule!AS_CO_DSP_standardReadOnlyField(\n    label: ri!label,\n    instructions: ri!instructions,\n    value: ri!value,\n    labelPosition: ri!labelPosition,\n    helpTooltip: ri!helpTooltip,\n    showWhen: ri!showWhen,\n    accessibilityText: ri!accessibilityText,\n    align: ri!align\n  ),\n  #\"SYSTEM_SYSRULES_textField\"(\n    label: ri!label,\n    labelPosition: rule!AS_CO_UT_getLabelPosition(\n      label: ri!label,\n      labelPosition: ri!labelPosition,\n      readOnly: false\n    ),\n    instructions: ri!instructions,\n    helpTooltip: ri!helpTooltip,\n    placeholder: ri!placeholder,\n    value: ri!value,\n    /* We are using nested saveIntos to automatically perform a trim on any value */\n    /* before executing the actual saves */\n    /* Saves can be nested in this format to allow for better reusability */\n    saveInto: a!save(ri!saveInto, trim(save!value)),\n    refreshAfter: ri!refreshAfter,\n    showWhen: ri!showWhen,\n    required: if(ri!readOnly, false, ri!required),\n    requiredMessage: rule!AS_CO_UT_displayRequiredMessage(\n      label: ri!label,\n      requiredMessage: ri!requiredMessage\n    ),\n    readOnly: ri!readOnly,\n    disabled: ri!disabled,\n    masked: ri!masked,\n    validations: if(ri!readOnly, {}, ri!validations),\n    validationGroup: ri!validationGroup,\n    align: ri!align,\n    accessibilitytext: ri!accessibilityText,\n    inputPurpose: ri!inputPurpose,\n    characterLimit: ri!characterLimit,\n    showCharacterCount: a!defaultValue(\n      value: ri!showCharacterCount,\n      default: false()\n    )\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_260165": {
      "name": "AS_CO_UT_updateCdtFields",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    and(\n      rule!AS_CO_UT_isBlank(ri!cdt),\n      rule!AS_CO_UT_checkIfArrayType(\n        typeOf: ri!cdt\n      )\n    ),\n    ri!cdt,\n    reduce(\n      rule!AS_CO_UT_zINTERNAL_updateCdtFieldsByPath_handler(\n        cdt: _,\n        indices: ri!indices,\n        field: _,\n        newValue: _\n      ),\n      ri!cdt,\n      merge(\n        a!flatten(ri!fields),\n        a!flatten(ri!newValues)\n      )\n    )\n  )\n)"
    },
    "_a-0000e4b1-2fbc-8000-9bc6-011c48011c48_887364-gcm": {
      "name": "AS_GCM_QNM_CPS_responseOptionsToAddNewQuestion",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!isRefInQuestionTemplate: tointeger(\n    ri!question[recordType!AS GCM QNM R Question.associatedActiveTemplateQuestionsCount]\n  ) > 0,\n  local!preventModification: local!isRefInQuestionTemplate,\n  #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n    label: \"\",\n    contents: {\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              a!localVariables(\n                local!questionTypes: rule!AS_CO_UT_sortCdt(\n                  cdt: rule!AS_GCM_QNM_REF_questionTypes(),\n                  field: \"questionTypeLabel\"\n                ),\n                rule!AS_GCM_DPL_CO_dropdownField(\n                  label: \"\",\n                  labelPosition: \"ABOVE\",\n                  required: true,\n                  disabled: local!preventModification,\n                  choiceLabels: local!questionTypes.questionTypeLabel,\n                  choiceValues: local!questionTypes.questionTypeCode,\n                  placeholder: \"\",\n                  value: ri!question[recordType!AS GCM QNM R Question.questionTypeCode],\n                  validations: {},\n                  saveInto: {\n                    ri!question[recordType!AS GCM QNM R Question.questionTypeCode],\n                    rule!AS_CO_UT_saveNull(\n                      ri!question[recordType!AS GCM QNM R Question.defaultResponseOptions]\n                    ),\n                    a!save(\n                      ri!question[recordType!AS GCM QNM R Question.defaultResponseOptions],\n                      #\"SYSTEM_SYSRULES_forEach\"(\n                        items: rule!AS_GCM_QNM_UT_userDefinedSelectionFieldList(\n                          questionTypeCode: ri!question[recordType!AS GCM QNM R Question.questionTypeCode]\n                        ),\n                        expression: recordType!AS GCM QNM R Response(\n                          recordType!AS GCM QNM R Response.fieldKey: fv!item.fieldKey\n                        )\n                      )\n                    ),\n                    a!save(\n                      ri!question[recordType!AS GCM QNM R Question.defaultResponseRequirements],\n                      null\n                    ),\n                    a!save(\n                      ri!question[recordType!AS GCM QNM R Question.defaultResponseOptions],\n                      null\n                    )\n                  }\n                )\n              ),\n              /*TOBEDONE this should ultimately be displayed for each dropdown field in a question */\n              rule!AS_CO_CP_integerField(\n                label: proper(\n                  \"\"\n                ),\n                disabled: local!preventModification,\n                value: index(\n                  ri!question[recordType!AS GCM QNM R Question.defaultResponseRequirements],\n                  recordType!AS GCM QNM R Response Requirement.requirementValue,\n                  {}\n                ),\n                validations: if(\n                  tointeger(\n                    index(\n                      ri!question[recordType!AS GCM QNM R Question.defaultResponseRequirements],\n                      recordType!AS GCM QNM R Response Requirement.requirementValue,\n                      {}\n                    )\n                  ) > 0,\n                  null,\n                  \"\"\n                ),\n                saveInto: {\n                  a!save(\n                    ri!question[recordType!AS GCM QNM R Question.defaultResponseRequirements],\n                    recordType!AS GCM QNM R Response Requirement(\n                      recordType!AS GCM QNM R Response Requirement.responseRequirementRefId: ri!question[recordType!AS GCM QNM R Question.defaultResponseRequirements.responseRequirementRefId],\n                      recordType!AS GCM QNM R Response Requirement.fieldKey: null,\n                      recordType!AS GCM QNM R Response Requirement.requirementTypeCode: cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_MAX_RESPONSES,\n                      recordType!AS GCM QNM R Response Requirement.requirementValue: save!value\n                    )\n                  )\n                },\n                helpTooltip: \"\",\n                showWhen: ri!question[recordType!AS GCM QNM R Question.questionTypeCode] = cons!AS_GCM_QNM_ENUM_QUESTION_TYPE_CODE_DROPDOWN_TEXT\n              )\n            }\n          ),\n          /*Question field options */\n          if(\n            rule!AS_CO_UT_isNotBlank(\n              ri!question[recordType!AS GCM QNM R Question.questionTypeCode]\n            ),\n            #\"SYSTEM_SYSRULES_columnLayout\"(\n              contents: {\n                /*TOBEDONE ultimately this could support setting response options for more complex questions types in a manner like this */\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  items: rule!AS_GCM_QNM_UT_userDefinedSelectionFieldList(\n                    questionTypeCode: ri!question[recordType!AS GCM QNM R Question.questionTypeCode]\n                  ),\n                  expression: #\"3396abb6-39b5-4ab5-a7f9-6ae05ffbcef0-gcm\"(\n                    bundle: ri!bundle,\n                    question: ri!question,\n                    preventModification: local!preventModification\n                  )\n                )/*DOCTYPEFIELD REMOVED*/\n\n              },\n              showWhen: rule!AS_CO_UT_isNotBlank(\n                ri!question[recordType!AS GCM QNM R Question.questionTypeCode]\n              )\n            ),\n            #\"SYSTEM_SYSRULES_columnLayout\"(contents: {})\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(contents: {})\n        }\n      ),\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              rule!AS_CO_DSP_infoBanner(\n                showWhen: local!preventModification,\n                label: \"\",\n                secondaryLabel: {\n                  \"\"\n                }\n              )\n            },\n            width: \"WIDE_PLUS\"\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}, width: \"MEDIUM_PLUS\")\n        }\n      )\n    },\n    marginBelow: \"STANDARD\"\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_272151": {
      "name": "AS_CO_UT_whereContains",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer?list',\n  with(\n    local!array: a!flatten(ri!array),\n  \n    if(\n    \n      /*Have to handle separately for document types due to how it casts to string*/\n      rule!AS_CO_UT_typeCompare(\n        value1: local!array,\n        value2: {todocument(null)}\n      ),\n      wherecontains(\n        todocument(ri!values),\n        local!array\n      ),\n    \n      /*Have to handle separately for group types due to how it casts to string*/\n      rule!AS_CO_UT_typeCompare(\n        value1: local!array,\n        value2: {togroup(null)}\n      ),\n      wherecontains(\n        togroup(ri!values),\n        local!array\n      ),\n    \n      /*Casting to string accounts for any primitive type (integer, boolean, ect.)*/\n      wherecontains(\n        if(\n          rule!AS_CO_UT_isBlank(ri!values),\n          touniformstring(ri!values),\n          touniformstring(a!flatten(ri!values))\n        ),\n        touniformstring(local!array)\n      )\n    )\n  )\n)"
    },
    "_a-0000ec50-376f-8000-9d94-011c48011c48_12937069": {
      "name": "AS_GCM_UT_queryRecordByIdentifier",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS ON HOW TO USE\n\nPlease DO NOT auto-format this rule\n\n*/\na!localVariables(\n  /*Determine the castResultToType*/\n  local!castResultToType: a!defaultValue(ri!castToCdtType, ri!recordType),\n  /*Execute the query*/\n  local!queryResult: a!refreshVariable(\n    value: if(\n      ri!executeWhen = false,\n      null(ri!recordType),\n      #\"SYSTEM_SYSRULES_queryRecordByIdentifier\"(\n        recordType: ri!recordType,\n        identifier: ri!identifier,\n        fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n          {\n            ri!fields,\n            index(\n              ri!relatedRecordData,\n              \"relationship\",\n              null\n            )\n          }\n        ),\n        relatedRecordData: ri!relatedRecordData\n      )\n    ),\n    refreshOnVarChange: ri!triggerRefresh,\n    refreshInterval: ri!refreshInterval,\n    refreshAfter: { \"RECORD_ACTION\" }\n  ),\n  rule!AS_CO_UT_cast(\n    type: local!castResultToType,\n    value: local!queryResult\n  )\n)/*\n\nDOCUMENTATION\n\nThis rule is designed to minimize the overhead with querying data and then casting the result\n\n\nRequired Inputs:\n\n1. recordType\n- This is a recordtype! input of the data type to be queried against\n\n2. identifier\n- The primary key of the record type which needs to be queried\n\nOptional Inputs:\n\n3. executeWhen\n- The query will not execute if this is false, the query will execute if this is true or null\n-- This is meant to operate in a similar manner to the showWhen parameter of components\n- Use this to skip execution of a query without needing to wrap if() statements around the rule\n-- Examples of this would be to skip querying if your filter value is a null ID\n- If the query does not execute, this will return a null value whose type is based on the returnType input\n\n4. triggerRefresh\n- By default, the query will always re-execute whenever any inputs change\n- However, by updating the value of triggerRefresh, you can also trigger a re-execution even if none of the other inputs change (e.g. after a record action)\n\n5. castToCdtType\n- Any cdt type to the cast the result set. \n\n6. fields\n- The record fields that need to be queried\n\n7. relatedRecordData\n- the relatedRecordData in which the filters and limit can be specified for each relationship\n\n*/"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_279147": {
      "name": "AS_CO_UT_castToDictionary",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  if(\n    rule!AS_CO_UT_isBlank(ri!value),\n    null,\n    ri!value\n  )\n)"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9756924": {
      "name": "AS_GCM_dropNonWritableRelationshipsFromRecord_Reducer",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!record),\n  ri!record,\n  if(\n    or(\n      rule!AS_CO_UT_isNotBlank(ri!record[ri!relationship]),\n      contains(\n        touniformstring(\n          rule!AS_GCM_getAllPresentRelationshipsFromRecord(records: ri!record)\n        ),\n        tostring(ri!relationship)\n      )\n    ),\n    remove(ri!record, ri!relationship),\n    ri!record\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75782": {
      "name": "AS_CO_UT_isNotBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  not(rule!AS_CO_UT_isBlank(ri!input))\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_237233-adt": {
      "name": "AS_ADT_UT_buildSimpleFieldChanges",
      "type": "Expression Rule",
      "sail_code": "a!flatten(\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!simpleFields,\n    expression: rule!AS_ADT_UT_buildSimpleFieldChangesDictionary(\n      simpleFieldName: fv!item,\n      originalObject: ri!originalObject,\n      newObject: ri!newObject\n    )\n  )\n)"
    },
    "0000e4f4-5576-8000-1656-7f0000014e7a-gcm": {
      "name": "AS GCM QNM Update Question",
      "type": "Process Model",
      "sail_code": "// Output: ?\n#\"6bdd75e2-9500-49eb-85c0-f5aae7fa577f-gcm\"(\n  referenceQuestion: pv!question\n)\n\n// Input: ?\n=userAction\n\n// Input: ?\n=question\n\n// Input: ?\n=rule!AS_GCM_QNM_QR_getQuestion_Reference(\n  questionReferenceId: pv!question[recordType!AS GCM QNM R Question.questionReferenceId],\n  includeRelatedRecords: true()\n)\n\n// Input: ?\nrule!AS_GCM_QNM_writeRecordsPropertiesForTemplateQuestions(\n  questions: rule!AS_GCM_QNM_setMetaDataForTemplateQuestionsRecord(\n    questions: pv!templateQuestions,\n    initiator: pp!initiator\n  ),\n  isInput: true()\n)\n\n// Input: ?\n=recordType!AS GCM QNM T Question"
    },
    "_a-0000eb7c-0389-8000-9d2c-011c48011c48_10548300": {
      "name": "AS_GCM_QNM_setMetaDataForQuestionsRecord",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!questions,\n  expression: rule!AS_GCM_setRecordFields(\n    record: fv!item,\n    neverOverwrite: {\n      a!map(\n        field: recordType!AS GCM QNM R Question.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!AS GCM QNM R Question.createdDatetime,\n        value: now()\n      ),\n      a!map(\n        field: recordType!AS GCM QNM R Question.isActive,\n        value: true\n      )\n    },\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!AS GCM QNM R Question.modifiedBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!AS GCM QNM R Question.modifiedDatetime,\n        value: now()\n      )\n    },\n    childRelationships: {\n      a!map(\n        field: recordType!AS GCM QNM R Question.defaultResponseOptions,\n        value: rule!AS_GCM_QNM_setMetaDataForResponseRecord(\n          responses: fv!item[recordType!AS GCM QNM R Question.defaultResponseOptions],\n          initiator: ri!initiator\n        )\n      ),\n      a!map(\n        field: recordType!AS GCM QNM R Question.defaultResponseRequirements,\n        value: rule!AS_GCM_QNM_setMetaDataForResponseRequirementRecord(\n          responseRequirement: fv!item[recordType!AS GCM QNM R Question.defaultResponseRequirements],\n          initiator: ri!initiator\n        )\n      )\n    }\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_33160": {
      "name": "AS_CO_UT_displayCommonObjectBundleLabel",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  rule!AS_CO_I18N_UT_getAndDisplayLabelSingle(\n    bundleFolder: cons!AS_CO_I18N_FLD_INTERNATIONALIZATION_FILES,\n    bundleKey: ri!bundleKey,\n    arguments: ri!arguments,\n    localeAgnostic: false\n  )\n)"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9756839": {
      "name": "AS_GCM_mergeWriteRecordIdsToProcessVariable",
      "type": "Expression Rule",
      "sail_code": "/*\nThe main rule to merge the ID-output of a WriteRecords SS node back to the input process variable.\n\nSTANDARD USAGE:\n- Use this in tandem with rule AS_GCM_dropNonWritableRelationshipsFromRecord (see that description)\n- In the output of a WriteRecords SS, do:\n  A - New Custom Output\n  B - rule!AS_GCM_mergeWriteRecordIdsToProcessVariable(\n        processData: pv![the pv your wrote],\n        recordsUpdated: ac!RecordsUpdated,\n        fksToParent: {list of record fields that are FKs to the primary PK you wrote}\n      )\n  C - Save this back to the pv you wrote\n\nMAPPING FKS:\n- Using this rule in the current state, child-FKs can only be set \nwhere they map back to the primary record type, using input \"fksToParent\".\n  -> For example, if you are writing \"Case\", \n    - you could set \"Case.Comment.caseId\"\n    - you could set \"Case.Comment.Replies.caseId\"\n    - but not \"Case.Comment.Replies.commentId\" (since the FK \"commentId\" is not the PK of \"Case\")\n- To set other foreign keys, you would have to run manual update rules using the result of this.\nNote:\n- \"fksToParent\" is optimized for 1:M relationships.\n  - Setting an fkToParent for a 1:1 will create an instance of that child record if it is null.\n\nIMPORTANT GENERAL NOTES: \n- The result of THIS rule will have data that IS considered changed, \nso a designer should be cautious about re-writing this later in process \nas it could cause race condition and performance side affects.\n\n- Also, the result of this WILL NOT have custom-fields calculated, \nsince they can be changed as a result of the write, but this rule is not re-querying.\nIf you need these, then re-query.\n\n- This should generally only be used for downstream flows that don't write it directly again, \nsuch as document processing, emails, etc.\n*/\nif(\n  or(\n    runtimetypeof(ri!recordsUpdated) = runtimetypeof(a!flatten(ri!recordsUpdated)),\n    runtimetypeof(ri!recordsUpdated) = 'type!{http://www.appian.com/ae/types/2009}Variant?list'\n  ),\n  if(\n    count(a!flatten(ri!recordsUpdated)) = 0,\n    ri!processData,\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: enumerate(count(a!flatten(ri!recordsUpdated))),\n      expression: rule!AS_GCM_mergeWriteRecordIdsToProcessVariable(\n        processData: a!flatten(ri!processData)[fv!index],\n        recordsUpdated: cast(\n          runtimetypeof(a!flatten(ri!processData)),\n          ri!recordsUpdated\n        )[fv!index],\n        fksToParent: ri!fksToParent\n      )\n    )\n  ),\n  a!localVariables(\n    local!keys: #\"SYSTEM_SYSRULES_forEach\"(\n      items: a!keys(ri!recordsUpdated),\n      expression: a!map(\n        key: fv!item,\n        isPrimaryKey: runtimetypeof(fv!item) = 'type!{http://www.appian.com/ae/types/2009}RecordField'\n      )\n    ),\n    local!keysOrganized: rule!AS_GCM_filterRecords(\n      records: local!keys,\n      field: \"isPrimaryKey\",\n      value: true,\n      filterType: \"FULL_RESULT\"\n    ),\n    local!primaryKeyField: local!keysOrganized.firstMatch.key,\n    local!updates: rule!AS_GCM_setRecordFields(\n      record: ri!processData,\n      neverOverwrite: {\n        a!map(\n          field: local!primaryKeyField,\n          value: ri!recordsUpdated[local!primaryKeyField]\n        ),\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!fksToParent,\n          expression: a!map(\n            field: fv!item,\n            value: ri!recordsUpdated[local!primaryKeyField],\n            /*Children get complicated, and an update should only run if a child is actually attached*/\n            applyWhen: a!match(\n              value: runtimetypeof(ri!processData[fv!item]),\n              equals: runtimetypeof(a!flatten(ri!processData[fv!item])),\n              then: count(ri!processData[fv!item]) > 0,\n              equals: tointeger(\n                'type!{http://www.appian.com/ae/types/2009}Variant?list'\n              ),\n              then: or(\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  items: ri!processData[fv!item],\n                  expression: a!isNotNullOrEmpty(fv!item)\n                )\n              ),\n              default: a!isNotNullOrEmpty(ri!processData[fv!item])\n            )\n          )\n        )\n      },\n      childRelationships: #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!keysOrganized.rejects,\n        expression: a!map(\n          field: fv!item.key,\n          value: if(\n            rule!AS_CO_UT_isBlank(ri!processData[fv!item.key]),\n            ri!recordsUpdated[fv!item.key],\n            rule!AS_GCM_mergeWriteRecordIdsToProcessVariable(\n              processData: ri!processData[fv!item.key],\n              recordsUpdated: ri!recordsUpdated[fv!item.key],\n              fksToParent: {}\n            )\n          )\n        )\n      )\n    ),\n    local!updates\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76004": {
      "name": "AS_CO_I18N_UT_getUserLocale",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  userlocale(ri!user)\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_247447": {
      "name": "AS_CO_DSP_warningBanner",
      "type": "Interface",
      "sail_code": "rule!AS_CO_DSP_zINTERNAL_styledBanner(\n  showWhen: ri!showWhen,\n  label: ri!label,\n  secondaryLabel: ri!secondaryLabel,\n  acknowledgementSaveInto: ri!acknowledgementSaveInto,\n  style: \"WARN\",\n  icon: cons!AS_CO_ICON_WARNING,\n  iconColor: cons!AS_CO_HEX_WARNING,\n  accessibilityText: ri!accessibilityText\n)"
    },
    "_a-0000e5bc-4a9a-8000-9bbc-011c48011c48_936866": {
      "name": "AS_GAM_ADT_UT_constructManipulatedAuditData",
      "type": "Expression Rule",
      "sail_code": "/* This rule is used to construct the manipulated audit data*/\n/*The manipulated audit data can be multiple. We are constructing the audit data for each manipulationAudit in auditParams*/\nif(\n  rule!AS_CO_UT_isNotBlank(ri!auditParams.complexFieldName),\n  /*When the audit is captured as nested even when the concerned object cdts are not nested \n    Eg: AS_GSS_Evaluation and AS_GSS_EvaluationDocume nt are not nested but AS_GSS_A_R_Evaluation and AS_GSS_A_R_EvaluationDocument are nested*/\n  rule!AS_GAM_ADT_UT_constructFieldChangesDictionaryForManipulatedAudit(\n    initiator: ri!initiator,\n    auditParams: ri!auditParams\n  ),\n  /*If the audit data is not nested and is manipulated and passed from outsite, we can directly construct the audit entry for each ri!auditParams.manipulationAudit*/\n  rule!AS_GAM_ADT_UT_constructDynamicDictionaryForManipulatedAudit(\n    initiator: ri!initiator,\n    auditParams: ri!auditParams\n  )\n)"
    },
    "_a-0000e4b1-2fbc-8000-9bc6-011c48011c48_928264-gcm": {
      "name": "AS_GCM_QNM_UT_userDefinedSelectionFieldList",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_filterCdtByField(\n  cdt: rule!AS_GCM_QNM_UT_fieldTypes(\n    questionTypeCode: ri!questionTypeCode\n  ),\n  field: \"fieldResponseType\",\n  value: cons!AS_GCM_QNM_ENUM_FIELD_RESPONSE_TYPE_USER_DEFINED_SELECTION\n)"
    },
    "_a-0000e3d1-f4dc-8000-9ba4-011c48011c48_143475": {
      "name": "AS_CO_UT_initializeBlankLocalVariable",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_cast(\n  type: ri!type,\n  typeOf: ri!typeOf,\n  value: null\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_165180-adt": {
      "name": "AS_ADT_UT_calculateAudit_SingleObject",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    rule!AS_CO_UT_compareStrong(\n      value1: ri!originalObject,\n      value2: ri!newObject\n    ),\n    ri!externalAction <> cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_INITIATED\n  ),\n  {},\n  a!localVariables(\n    local!auditConfig: rule!AS_CO_UT_dynamicDictionary(\n      fieldValuePairs: {\n        {\n          field: ri!auditConfig.idField,\n          value: rule!AS_CO_UT_replaceNull(\n            nullableValue: index(\n              ri!originalObject,\n              ri!auditConfig.idField,\n              null\n            ),\n            replacementValue: index(\n              ri!newObject,\n              ri!auditConfig.idField,\n              null\n            )\n          )\n        },\n        if(\n          rule!AS_CO_UT_isNotBlank(ri!auditConfig.foreignIdField),\n          {\n            field: if(\n              length(\n                split(ri!auditConfig.foreignIdField, \".\")\n              ) = 2,\n              split(ri!auditConfig.foreignIdField, \".\")[2],\n              split(ri!auditConfig.foreignIdField, \".\")[1]\n            ),\n            value: rule!AS_CO_UT_replaceNull(\n              nullableValue: rule!AS_CO_UT_indexPath(\n                cdt: ri!originalObject,\n                field: ri!auditConfig.foreignIdField\n              ),\n              replacementValue: rule!AS_CO_UT_indexPath(\n                cdt: ri!newObject,\n                field: ri!auditConfig.foreignIdField\n              )\n            )\n          },\n          {}\n        ),\n        { field: \"username\", value: ri!username },\n        { field: \"timestamp\", value: now() },\n        { field: \"auditType\", value: ri!auditType },\n        {\n          field: \"auditActionCode\",\n          value: rule!AS_ADT_UT_determineAuditActionCode(\n            originalObject: ri!originalObject,\n            newObject: ri!newObject,\n            auditConfig: ri!auditConfig,\n            externalAction: ri!externalAction\n          )\n        },\n        {\n          field: \"simpleFieldChanges\",\n          value: rule!AS_ADT_UT_buildSimpleFieldChanges(\n            simpleFields: ri!auditConfig.simpleFields,\n            originalObject: ri!originalObject,\n            newObject: ri!newObject\n          )\n        },\n        if(\n          rule!AS_CO_UT_isBlank(ri!auditConfig.complexFields),\n          {},\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!auditConfig.complexFields,\n            expression: {\n              field: fv!item.auditFieldName,\n              value: rule!AS_ADT_UT_calculateAudit_MultipleObjects(\n                originalObjects: index(ri!originalObject, fv!item.fieldName, {}),\n                newObjects: index(ri!newObject, fv!item.fieldName, {}),\n                auditConfig: fv!item,\n                username: ri!username,\n                externalAction: ri!externalAction\n              )\n            }\n          )\n        )\n      }\n    ),\n    if(\n      /*To make the action code \"UNCHANGED\" if the object is unmodified(excluding the metadata)*/\n      and(\n        rule!AS_CO_UT_not(\n          contains(\n            a!flatten(\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: {\n                  \"simpleFieldChanges\",\n                  index(\n                    ri!auditConfig.complexFields,\n                    \"auditFieldName\",\n                    null\n                  )\n                },\n                expression: or(\n                  rule!AS_CO_UT_isBlank(index(local!auditConfig, fv!item, null)),\n                  if(\n                    contains(\n                      touniformstring(\n                        index(\n                          ri!auditConfig.complexFields,\n                          \"auditFieldName\",\n                          null\n                        )\n                      ),\n                      tostring(fv!item)\n                    ),\n                    not(\n                      contains(\n                        #\"SYSTEM_SYSRULES_forEach\"(\n                          items: rule!AS_CO_UT_indexPath(cdt: local!auditConfig, field: fv!item),\n                          expression: tostring(fv!item.auditActionCode) = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n                        ),\n                        false\n                      )\n                    ),\n                    false\n                  )\n                )\n              )\n            ),\n            false\n          )\n        ),\n        or(\n          tostring(\n            index(\n              local!auditConfig,\n              \"auditActionCode\",\n              null\n            )\n          ) = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n          ri!externalAction = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MANUAL_UPDATE,\n          ri!externalAction = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MANUAL_SYNC\n        )\n      ),\n      rule!AS_CO_UT_updateCdtFields(\n        cdt: local!auditConfig,\n        fields: \"auditActionCode\",\n        newValues: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n      ),\n      local!auditConfig\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75800": {
      "name": "AS_CO_UT_filterCdtByField",
      "type": "Expression Rule",
      "sail_code": "/*Take the input of a cdt, field, and value and returns the matching cdt data\n\nex. cdt of users, filter by field isActive and value of true to find your active users\n*/\ncast(\n  typeof(ri!cdt),\n  index(\n    a!flatten(ri!cdt),\n    rule!AS_CO_UT_returnCdtIndicesByField(\n      cdt: ri!cdt,\n      field: ri!field,\n      value: ri!value\n    ),\n    {}\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_39392-gcm": {
      "name": "AS_GCM_QNM_QR_getQuestion_Reference",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!useQueryRecordByIdentifier: and(\n    rule!AS_GAM_UT_ArrayLength(ri!questionReferenceId) = 1,\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT,\n    all(\n      rule!AS_CO_UT_isBlank,\n      {\n        ri!additionalFilters,\n        ri!logicalExpression,\n        ri!aggregationFields,\n        ri!globalSearchText,\n        ri!questionReferenceIdToExclude,\n        ri!questionLabels,\n        ri!questionTypes,\n        ri!pagingInfo\n      }\n    )\n  ),\n  local!relatedRecordLimit: if(\n    local!useQueryRecordByIdentifier,\n    100,\n    10\n  ),\n  local!relatedRecordData: {\n    if(\n      ri!includeRelatedRecords,\n      {\n        #\"SYSTEM_SYSRULES_relatedRecordData\"(\n          relationship: recordType!AS GCM QNM R Question.defaultResponseOptions,\n          limit: local!relatedRecordLimit,\n          filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!AS GCM QNM R Response.isActive,\n            operator: \"=\",\n            value: true\n          )\n        ),\n        #\"SYSTEM_SYSRULES_relatedRecordData\"(\n          relationship: recordType!AS GCM QNM R Question.defaultResponseRequirements,\n          limit: local!relatedRecordLimit\n        )\n      },\n      {}\n    ),\n    ri!relatedRecordData\n  },\n  if(\n    local!useQueryRecordByIdentifier,\n    rule!AS_GCM_UT_queryRecordByIdentifier(\n      recordType: recordType!AS GCM QNM R Question,\n      identifier: ri!questionReferenceId,\n      executeWhen: ri!executeWhen,\n      triggerRefresh: ri!triggerRefresh,\n      fields: ri!fields,\n      relatedRecordData: local!relatedRecordData\n    ),\n    rule!AS_CO_UT_queryRecord(\n      recordType: recordType!AS GCM QNM R Question,\n      returnType: a!defaultValue(\n        value: ri!returnType,\n        default: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n      ),\n      fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n        {\n          ri!fields,\n          index(\n            local!relatedRecordData,\n            \"relationship\",\n            null\n          )\n        }\n      ),\n      filters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM R Question.questionReferenceId,\n          operator: \"in\",\n          value: ri!questionReferenceId\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM R Question.questionReferenceId,\n          operator: \"not in\",\n          value: ri!questionReferenceIdToExclude\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM R Question.defaultLabel,\n          operator: \"in\",\n          value: ri!questionLabels,\n          applyWhen: rule!AS_CO_UT_isNotBlank(ri!questionLabels)\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM R Question.questionTypeCode,\n          operator: \"in\",\n          value: ri!questionTypes,\n          applyWhen: rule!AS_CO_UT_isNotBlank(ri!questionTypes)\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM R Question.isActive,\n          operator: \"=\",\n          value: true\n        ),\n        ri!additionalFilters\n      },\n      aggregationFields: ri!aggregationFields,\n      logicalExpression: {\n        ri!logicalExpression,\n        #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n          operator: \"AND\",\n          logicalExpressions: #\"SYSTEM_SYSRULES_forEach\"(\n            items: split(trim(ri!globalSearchText), \" \"),\n            expression: a!localVariables(\n              local!searchTerm: fv!item,\n              #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"OR\",\n                ignoreFiltersWithEmptyValues: true,\n                filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!AS GCM QNM R Question.defaultLabel,\n                  operator: \"includes\",\n                  value: local!searchTerm\n                )\n              )\n            )\n          )\n        )\n      },\n      pagingInfo: ri!pagingInfo,\n      triggerRefresh: ri!triggerRefresh,\n      executeWhen: or(\n        ri!executeWhen,\n        or(\n          any(\n            rule!AS_CO_UT_isNotBlank(_),\n            {\n              ri!additionalFilters,\n              ri!logicalExpression,\n              ri!aggregationFields\n            }\n          ),\n          rule!AS_CO_UT_isNotBlank(ri!questionReferenceId)\n        )\n      ),\n      relatedRecordData: local!relatedRecordData\n    )\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_157503": {
      "name": "AS_CO_UT_returnTypeNumber",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer',\n  if(\n    isnull(ri!type),\n    typeof(ri!typeOf),\n    typeof(cast(ri!type, null))\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_243040": {
      "name": "AS_CO_UT_compareStrong",
      "type": "Expression Rule",
      "sail_code": "/*Do a strict comarison against types*/\ncast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  and(\n    rule!AS_CO_UT_typeCompare(\n      value1: ri!value1,\n      value2: ri!value2\n    ),\n    ri!value1 = ri!value2\n  )\n)"
    },
    "5e768860-c8fc-4d89-add9-cc19090a6534-gcm": {
      "name": "AS_GCM_QNM_FM_createOrUpdateReferenceQuestion",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!bundle: rule!AS_GCM_CO_UT_loadBundleFromFolder(langISOCode: null()),\n  local!isUpdateQuestion: rule!AS_CO_UT_isNotBlank(\n    ri!question[recordType!AS GCM QNM R Question.questionReferenceId]\n  ),\n  #\"SYSTEM_SYSRULES_formLayout_v1\"(\n    label: rule!AS_GAM_CO_I18N_UT_displayLabel(\n      bundle: local!bundle,\n      bundleKey: if(\n        local!isUpdateQuestion,\n        \"lbl_UpdateQuestion\",\n        \"lbl_CreateQuestion\"\n      )\n    ),\n    contents: {\n      rule!AS_CO_DSP_warningBanner(\n        showWhen: local!isUpdateQuestion,\n        label: \"\"\n      ),\n      #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n        label: \"Question\",\n        contents: {\n          rule!AS_GCM_DPL_CO_INP_textField(\n            label: \"\",\n            labelPosition: \"ABOVE\",\n            placeholder: \"\",\n            saveInto: ri!question[recordType!AS GCM QNM R Question.defaultLabel],\n            value: ri!question[recordType!AS GCM QNM R Question.defaultLabel],\n            refreshAfter: \"UNFOCUS\",\n            required: true,\n            characterLimit: cons!AS_CO_ENUM_PARAGRAPH_LENGTH_MEDIUM\n          )\n        },\n        marginBelow: \"STANDARD\"\n      ),\n      rule!AS_GCM_QNM_CPS_responseOptionsToAddNewQuestion(\n        bundle: local!bundle,\n        question: ri!question\n      )\n    },\n    validations: #\"d47b5a80-85bc-41c0-9c37-0f91e129a92c-gcm\"(\n      bundle: local!bundle,\n      question: ri!question\n    ),\n    buttons: rule!AS_CO_CPS_cancelSaveButtons(\n      confirmLabel: rule!AS_GAM_CO_I18N_UT_displayLabel(\n        bundle: local!bundle,\n        bundleKey: if(\n          local!isUpdateQuestion,\n          \"btn_UpdateQuestion\",\n          \"btn_CreateQuestion\"\n        )\n      ),\n      cancelLabel: \"Cancel\",\n      cancelSaveInto: {\n        a!save(\n          ri!userAction,\n          cons!AS_CO_ENUM_USER_ACTION_CANCEL\n        )\n      },\n      confirmSaveInto: {\n        a!save(\n          ri!userAction,\n          cons!AS_CO_ENUM_USER_ACTION_SUBMIT\n        ),\n        if(\n          local!isUpdateQuestion,\n          {},\n          rule!AS_GCM_MTR_SAVE_addQuestionToQuestionBank()\n        )\n      },\n      includeDivider: false,\n      confirmSubmit: true,\n      cancelSubmit: true,\n      confirmDisabled: false,\n      cancelDisabled: false,\n      cancelStyle: \"NORMAL\"\n    )\n  )\n)"
    },
    "0002e4de-184c-8000-12e9-7f0000014e7a-gcm": {
      "name": "AS GCM QNM Create Question",
      "type": "Process Model",
      "sail_code": "// Output: ?\nrule!AS_GCM_QNM_setMetaDataForQuestionsRecord(\n  questions: pv!question,\n  initiator: pp!initiator\n)\n\n// Input: ?\n= rule!AS_GCM_QNM_ADT_UT_startAuditProcess_Parameters_Question_Reference( questionReference: pv!question, originalquestionReference: pv!originalQuestion, username: pp!initiator)\n\n// Input: ?\n=pv!originalQuestion[recordType!AS GCM QNM R Question.defaultResponseRequirements]\n\n// Input: ?\n= #\"SYSTEM_SYSRULES_forEach\"( items: difference( tointeger( pv!originalQuestion[recordType!AS GCM QNM R Question.defaultResponseOptions.responseReferenceId] ), tointeger( pv!question[recordType!AS GCM QNM R Question.defaultResponseOptions.responseReferenceId] ) ), expression: recordType!AS GCM QNM R Response( recordType!AS GCM QNM R Response.responseReferenceId: fv!item ))\n\n// Input: ?\nrule!AS_GCM_QNM_writeRecordsPropertiesForRefQuestions(questions: pv!question, isInput: true())\n\n// Input: ?\n=recordType!AS GCM QNM R Question\n\n// Output: ?\nAC!RecordsUpdated\n\n// Output: ?\nrule!AS_GCM_QNM_writeRecordsPropertiesForRefQuestions(\n  questions: pv!question,\n  recordsUpdated: ac!RecordsUpdated,\n  isInput: false()\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_31643-gcm": {
      "name": "AS_GCM_QNM_UT_questionMetadata",
      "type": "Expression Rule",
      "sail_code": "if(\n  isnull(ri!questionTypeCode),\n  rule!AS_CO_UT_initializeBlankLocalVariable(\n    type: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_R_QuestionType'\n  ),\n  a!localVariables(\n    local!metadata: a!refreshVariable(\n      value: index(\n        rule!AS_GCM_QNM_REF_questionTypes(),\n        wherecontains(\n          ri!questionTypeCode,\n          rule!AS_GCM_QNM_REF_questionTypes().questionTypeCode\n        ),\n        null\n      ),\n      refreshAlways: true\n    ),\n    if(\n      isnull(local!metadata),\n      error(\n        concat(\n          \"Question Type Code \",\n          ri!questionTypeCode,\n          \" does not have metadata defined.\"\n        )\n      ),\n      local!metadata[1]\n    )\n  )\n)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1568163": {
      "name": "AS_GCM_QNM_ADT_UT_startAuditProcess_Parameters_Question_Reference",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!questionAudit: rule!AS_GAM_ADT_UT_buildAuditEntityData(\n    auditParams: rule!AS_ADT_UT_startAuditProcess_Parameters(\n      newObjects: rule!AS_CO_UT_cast(\n        type: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_R_Question?list',\n        value: ri!questionReference\n      ),\n      originalObjects: rule!AS_CO_UT_cast(\n        type: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_R_Question',\n        value: ri!originalquestionReference\n      ),\n      objectType: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_R_Question?list',\n      auditDse: cons!AS_GCM_QNM_ENT_A_R_QUESTION,\n      auditConfig: rule!AS_GCM_QNM_ADT_BL_auditConfig_Question_Reference(),\n      username: ri!username\n    ).auditParams,\n    initiator: ri!username\n  ),\n  {\n    if(\n      rule!AS_CO_UT_isBlank(local!questionAudit),\n      {},\n      {\n        entity: cons!AS_GCM_QNM_ENT_A_R_QUESTION,\n        data: local!questionAudit\n      }\n    )\n  }\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73980": {
      "name": "AS_CO_UT_replaceNull",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!nullableValue),\n  ri!replacementValue,\n  ri!nullableValue\n)"
    },
    "_a-0000eb7c-0389-8000-9d2c-011c48011c48_10548261": {
      "name": "AS_GCM_QNM_setMetaDataForResponseRecord",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!responses,\n  expression: rule!AS_GCM_setRecordFields(\n    record: fv!item,\n    neverOverwrite: {\n      a!map(\n        field: recordType!AS GCM QNM R Response.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!AS GCM QNM R Response.createdDatetime,\n        value: now()\n      ),\n      a!map(\n        field: recordType!AS GCM QNM R Response.isActive,\n        value: true()\n      )\n    },\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!AS GCM QNM R Response.modifiedBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!AS GCM QNM R Response.modifiedDatetime,\n        value: now()\n      )\n    }\n  )\n)"
    },
    "_a-0000eb44-a528-8000-9d15-011c48011c48_9978504": {
      "name": "AS_CO_UT_displayRequiredMessage",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNotNullOrEmpty(\n    ri!label\n  ),\n  a!defaultValue(\n    value: ri!requiredMessage,\n    default: rule!AS_CO_UT_displayCommonObjectBundleLabel(\n      bundleKey: \"AS.CO.CommonObjects.vld_RequiredMessage\",\n      arguments: stripwith(ri!label, \"*\")\n    )\n  ),\n  ri!requiredMessage\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_50686": {
      "name": "AS_CO_DSP_infoBanner",
      "type": "Interface",
      "sail_code": "rule!AS_CO_DSP_zINTERNAL_styledBanner(\n  showWhen: ri!showWhen,\n  label: ri!label,\n  secondaryLabel: ri!secondaryLabel,\n  acknowledgementSaveInto: ri!acknowledgementSaveInto,\n  style: \"STANDARD\",\n  icon: \"info-circle\",\n  iconColor: \"#555\",\n  accessibilityText: ri!accessibilityText\n)"
    },
    "_a-0000e438-fdf5-8000-9ba8-011c48011c48_19869": {
      "name": "AS_CO_I18N_UT_parseBundleKey",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  with(\n    local!split: split(\n      ri!bundleKey,\n      \".\"\n    ),\n    local!bundleName: joinarray(\n      remove(\n        local!split,\n        count(\n          local!split\n        )\n      ),\n      \".\"\n    ),\n    local!labelKey: local!split[count(\n      local!split\n    )],\n    {\n      bundleName: local!bundleName,\n      labelKey: local!labelKey\n    }\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73856": {
      "name": "AS_CO_UT_dynamicDictionary",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n    cdt: rule!AS_CO_UT_returnNullDictionary(),\n    fieldValuePairs: ri!fieldValuePairs\n  )\n)"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9749583": {
      "name": "AS_GCM_dropNonWritableRelationshipsFromRecord",
      "type": "Expression Rule",
      "sail_code": "/*The main rule to \"cleanse\" the input of a WriteRecords SS node to remove non-writable relationships.\n\nSTANDARD USAGE:\n- Use this in tandem with rule AS_GCM_mergeWriteRecordIdsToProcessVariable (see that description)\n- In the input of a WriteRecords SS (NOT in a previous script task), do:\n  A - Expressionable input to \"Records\" intput\n  B - rule!AS_GCM_dropNonWritableRelationshipsFromRecord(\n    records: pv![the pv to write],\n    relationships: {list of record relationships that are not allowed to be written}\n  )\n\nIMPORTANT GENERAL NOTES: \n- The reason to run this in the input of the WriteRecords SS instead of a previous script task\nis that, when used with AS_GCM_mergeWriteRecordIdsToProcessVariable, you can maintain the relationships\nthat you had to drop before writing.\n  -> For example, if you are writing \"Case\" but it has a child-relationship \"Address\" that cannot be written,\n    - this will drop \"Address\" before attempting to write\n    - if the output is configured properly it will reattach \"Address\" in the output\n    - the overall result is that you basically ran the node as if \"Address\" was ignored, \n      so that you can use it later in the process flow\n*/\n#\"SYSTEM_SYSRULES_forEach\"(\n  items: a!flatten(ri!records),\n  expression: reduce(\n    rule!AS_GCM_dropNonWritableRelationshipsFromRecord_Reducer(record: _, relationship: _),\n    fv!item,\n    a!defaultValue(\n      value: ri!nonWritableRelationships,\n      default: difference(\n        rule!AS_GCM_getAllPresentRelationshipsFromRecord(records: fv!item),\n        ri!writableRelationships\n      )\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73876": {
      "name": "AS_CO_UT_fixed",
      "type": "Expression Rule",
      "sail_code": "if(rule!AS_CO_UT_isBlank(ri!number),\n  null,\n  fixed(ri!number, if(isnull(ri!decimals), 2, ri!decimals), if(isnull(ri!no_commas), false, ri!no_commas))\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_157603": {
      "name": "AS_CO_UT_cast",
      "type": "Expression Rule",
      "sail_code": "with(  \n  local!typeNumber: rule!AS_CO_UT_returnTypeNumber(\n    type: ri!type,\n    typeOf: ri!typeOf\n  ),\n\n  /* If the object is empty, use null or {} depending on if it is array type or not */\n  local!objectToCast: if(\n    rule!AS_CO_UT_isNotBlank(ri!value),\n    ri!value,\n    rule!AS_CO_UT_checkIfSingleType(\n      type: ri!type,\n      typeOf: ri!typeOf\n    ),\n    null,\n    {}\n  ),\n\n  cast(\n    local!typeNumber,\n    local!objectToCast\n  )\n  \n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_91550": {
      "name": "AS_CO_I18N_UT_replaceArgument",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  if(\n    isnull(ri!input),\n    ri!input,\n    substitute(\n      ri!input,\n      /*The standard argument format is `[%x]` where `x` is the argument position*/\n      concat(\"[%\", ri!index, \"]\"),\n      fn!index(ri!arguments, ri!index, \"\")\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75720": {
      "name": "AS_CO_UT_sortCdt",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    rule!AS_CO_UT_isBlank(\n      ri!field\n    ),\n    ri!cdt,\n    with(\n      local!dataSortedByField: todatasubset(\n        ri!cdt,\n        #\"SYSTEM_SYSRULES_pagingInfo\"(\n          startIndex: 1,\n          batchSize: - 1,\n          sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n            field: ri!field,\n            ascending: rule!AS_CO_UT_replaceNull(\n              nullableValue: ri!ascending,\n              replacementValue: true\n            )\n          )\n        )\n      ).data,\n      if(\n        rule!AS_CO_UT_isBlank(\n          ri!nullsFirst\n        ),\n        local!dataSortedByField,\n        with(\n          local!cdtsWithNullFieldValue: rule!AS_CO_UT_filterCdtByField(\n            cdt: local!dataSortedByField,\n            field: ri!field,\n            value: null\n          ),\n          local!cdtsWithNonNullFieldValue: rule!AS_CO_UT_rejectCdtByField(\n            cdt: local!dataSortedByField,\n            field: ri!field,\n            value: null\n          ),\n          if(\n            ri!nullsFirst,\n            append(\n              local!cdtsWithNullFieldValue,\n              local!cdtsWithNonNullFieldValue\n            ),\n            append(\n              local!cdtsWithNonNullFieldValue,\n              local!cdtsWithNullFieldValue\n            )\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_269546": {
      "name": "AS_CO_UT_returnCdtIndicesByField",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Integer?list',\n  rule!AS_CO_UT_whereContains(\n    values: ri!value,\n    array: rule!AS_CO_UT_indexPath(\n      cdt: a!flatten(ri!cdt),\n      field: ri!field,\n      indexDefault: null\n    )\n  )\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81720": {
      "name": "AS_CO_I18N_UT_loadBundleFromFolder",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  a!localVariables(\n    \n    local!locale: if(\n      ri!localeAgnostic,\n      null,\n      rule!AS_CO_I18N_UT_getUserLocale(user: loggedInUser())\n    ),\n    \n    if(\n      rule!AS_CO_UT_isBlank(ri!bundleFolder),\n      \n      null,\n      \n      a!localVariables(\n        /*Wrapping this in a local variable to ensure caching -- it will only re-execute if inputs change*/\n        local!bundleData: loadbundlepropertiesfile(\n          ri!bundleFolder,\n          local!locale,\n          a!flatten(ri!bundleNames)\n        ),\n        \n        local!bundleData\n      )\n    )\n  )\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_101148": {
      "name": "AS_CO_UT_returnNullDictionary",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  null\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_958752": {
      "name": "AS_GAM_ADT_UT_buildAuditEntityData",
      "type": "Expression Rule",
      "sail_code": "if(\n  /*Action only audit*/\n  ri!auditParams.auditType = cons!AS_GAM_ADT_TXT_AUDIT_TYPE_ACTION_ONLY,\n  rule!AS_GAM_ADT_UT_constructActionOnlyAuditData(\n    initiator: ri!initiator,\n    auditParams: ri!auditParams\n  ),\n  /*Manipulation Audit*/\n  if(\n    ri!auditParams.auditType = cons!AS_GAM_ADT_TXT_AUDIT_TYPE_MANIPULATION,\n    rule!AS_GAM_ADT_UT_constructManipulatedAuditData(\n      initiator: ri!initiator,\n      auditParams: ri!auditParams\n    ),\n    /*Generic field level audit*/\n    rule!AS_GAM_ADT_UT_buildFieldLevelAuditEntityData(auditParams: ri!auditParams)\n  )\n)"
    },
    "_a-0000e415-3035-8000-9bb2-011c48011c48_292117": {
      "name": "AS_CO_UT_castToDictionaryList",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary?list',\n  if(\n    rule!AS_CO_UT_isBlank(ri!value),\n    {},\n    ri!value\n  )\n)"
    },
    "_a-0000eb85-3dbf-8000-9d30-011c48011c48_10769927": {
      "name": "AS_GCM_QNM_writeRecordsPropertiesForRefQuestions",
      "type": "Expression Rule",
      "sail_code": "if(\n  ri!isInput,\n  rule!AS_GCM_dropNonWritableRelationshipsFromRecord(\n    records: ri!questions,\n    writableRelationships: {\n      recordType!AS GCM QNM R Question.defaultResponseOptions,\n      recordType!AS GCM QNM R Question.defaultResponseRequirements\n    }\n  ),\n  rule!AS_GCM_mergeWriteRecordIdsToProcessVariable(\n    processData: ri!questions,\n    recordsUpdated: ri!recordsUpdated,\n    fksToParent: {\n      recordType!AS GCM QNM R Question.defaultResponseOptions.qstnRfrncIdRspnsOptions,\n      recordType!AS GCM QNM R Question.defaultResponseRequirements.questionReferenceId\n    }\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_74362": {
      "name": "AS_CO_CP_integerField",
      "type": "Interface",
      "sail_code": "if(ri!readOnly,\n  rule!AS_CO_DSP_standardReadOnlyField(\n    label: ri!label,\n    instructions: ri!instructions,\n    value: if(ri!noFormat,\n      ri!value,\n      rule!AS_CO_UT_fixed(\n        number: ri!value,\n        decimals: 0,\n        no_commas: false\n      )\n    ),\n    labelPosition: ri!labelPosition,\n    helpTooltip: ri!helpTooltip,\n    showWhen: ri!showWhen,\n    accessibilityText: ri!accessibilityText\n  ),\n  #\"SYSTEM_SYSRULES_integerField\"(\n    label: ri!label,\n    labelPosition: rule!AS_CO_UT_getLabelPosition(\n      label: ri!label,\n      labelPosition: ri!labelPosition,\n      readOnly: ri!readOnly\n    ),\n    instructions: ri!instructions,\n    helpTooltip: ri!helpTooltip,\n    placeholder: rule!AS_CO_UT_formatFieldEntryPlaceHolder(placeholder: ri!placeholder),\n    value: ri!value,\n    saveInto: ri!saveInto,\n    refreshAfter: ri!refreshAfter,\n    showWhen: if(isnull(ri!showWhen), true, ri!showWhen),\n    required: if(ri!readOnly, false, ri!required),\n    /* Updated requiredMessage parameter to show default validation text*/\n    requiredMessage: rule!AS_CO_UT_displayRequiredMessage(\n      label: ri!label,\n      requiredMessage: ri!requiredMessage\n    ),\n    readOnly: ri!readOnly,\n    disabled: ri!disabled,\n    masked: ri!masked,\n    validations: a!flatten({\n      ri!validations,\n      rule!AS_CO_VD_numberValidation(\n        value: ri!value,\n        minSize: ri!minSize,\n        maxSize: ri!maxSize\n      )\n    }),\n    validationGroup: ri!validationGroup,\n    align: ri!align,\n    accessibilityText: ri!accessibilityText\n  )\n)"
    },
    "_a-0000e447-91f4-8000-9bc0-011c48011c48_584965-adt": {
      "name": "AS_ADT_UT_startAuditProcess_Parameters",
      "type": "Expression Rule",
      "sail_code": "{\n  auditParams: 'type!{urn:com:appian:types:AS:ADT}AS_ADT_P_AuditProcessParameters'(\n    newObjects: rule!AS_CO_UT_cast(\n      value: ri!newObjects,\n      type: rule!AS_CO_UT_returnArrayTypeNumber(type: ri!objectType),\n      \n    ),\n    originalObjects: rule!AS_CO_UT_cast(\n      value: ri!originalObjects,\n      type: rule!AS_CO_UT_returnArrayTypeNumber(type: ri!objectType),\n      \n    ),\n    objectTypeNumber: rule!AS_CO_UT_returnTypeNumber(type: ri!objectType),\n    namespace: rule!AS_CO_UT_getTypeNamespace(type: ri!objectType),\n    objectDse: ri!objectDse,\n    auditDse: ri!auditDse,\n    username: rule!AS_CO_UT_replaceNull(\n      nullableValue: ri!username,\n      replacementValue: loggedInUser()\n    ),\n    externalAction: ri!externalAction,\n    auditConfig: ri!auditConfig,\n    auditType: ri!auditType,\n    manipulationAudit: ri!manipulationAudit,\n    complexFieldName: ri!complexFieldName\n  )\n}"
    },
    "_a-0000eb7c-0389-8000-9d2c-011c48011c48_10548276": {
      "name": "AS_GCM_QNM_setMetaDataForResponseRequirementRecord",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!responseRequirement,\n  expression: rule!AS_GCM_setRecordFields(\n    record: fv!item,\n    neverOverwrite: {\n      a!map(\n        field: recordType!AS GCM QNM R Response Requirement.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!AS GCM QNM R Response Requirement.createdDatetime,\n        value: now()\n      )\n    },\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!AS GCM QNM R Response Requirement.modifiedBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!AS GCM QNM R Response Requirement.modifiedDatetime,\n        value: now()\n      )\n    }\n  )\n)"
    },
    "_a-0000e3d1-f4dc-8000-9ba4-011c48011c48_134344": {
      "name": "AS_CO_CPS_cancelSaveButtons",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  /*The button layout, which can dynamically be inside a section or not*/\n  /*Note that when using this pattern of storing an interface as a local variable, it must be set to refreshAlways = true*/\n  local!buttonLayout: a!refreshVariable(\n    value: #\"SYSTEM_SYSRULES_ButtonLayout\"(\n      primaryButtons: {\n        #\"SYSTEM_SYSRULES_ButtonWidget\"(\n          accessibilityText: ri!confirmAccessibilityText,\n          label: ri!confirmLabel,\n          size: ri!confirmSize,\n          saveInto: if(\n            rule!AS_CO_UT_isBlank(\n              ri!confirmSaveInto\n            ),\n            {},\n            ri!confirmSaveInto\n          ),\n          style: rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!confirmStyle,\n            replacementValue: \"PRIMARY\"\n          ),\n          validate: true,\n          validationGroup: ri!confirmValidationGroup,\n          submit: ri!confirmSubmit,\n          disabled: ri!confirmDisabled,\n          confirmHeader: ri!confirmHeader,\n          confirmMessage: ri!confirmMessage\n        )\n      },\n      secondaryButtons: {\n        #\"SYSTEM_SYSRULES_ButtonWidget\"(\n          accessibilityText: ri!cancelAccessibilityText,\n          label: ri!cancelLabel,\n          size: ri!cancelSize,\n          saveInto: if(\n            rule!AS_CO_UT_isBlank(\n              ri!cancelSaveInto\n            ),\n            {},\n            ri!cancelSaveInto\n          ),\n          style: rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!cancelStyle,\n            replacementValue: \"NORMAL\"\n          ),\n          validate: false,\n          submit: ri!cancelSubmit,\n          disabled: ri!cancelDisabled,\n          confirmHeader: ri!cancelHeader,\n          confirmMessage: ri!cancelMessage,\n          showWhen: ri!cancelShowWhen\n        )\n      },\n      showWhen: ri!showWhen\n    ),\n    refreshAlways: true\n  ),\n  /*Components to show*/\n  if(\n    ri!includeDivider,\n    #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n      divider: \"ABOVE\",\n      contents: {\n        local!buttonLayout\n      }\n    ),\n    local!buttonLayout\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_174191": {
      "name": "AS_CO_UT_getTypeNamespace",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  extract(ri!type, \"{\", \"}\")\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_271202": {
      "name": "AS_CO_UT_rejectCdtByField",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    rule!AS_CO_UT_isBlank(ri!cdt),\n    ri!cdt,\n    remove(\n      a!flatten(ri!cdt),\n      rule!AS_CO_UT_returnCdtIndicesByField(\n        cdt: ri!cdt,\n        field: ri!field,\n        value: ri!value\n      )\n    )\n  )\n)"
    },
    "_a-0000e3ff-79a3-8000-7714-45ef9045ef90_8682-adt": {
      "name": "AS_ADT_BL_auditConfig_SAMPLE_Parent",
      "type": "Expression Rule",
      "sail_code": "/*\nAudit config for 'type!{urn:com:appian:types:AS:ADT}AS_ADT_SAMPLE_Parent'\n*/\n{\n  idField: \"parentId\",\n  foreignIdField:\"foreignId\",\n  simpleFields: {\n    \"text\",\n    \"date\",\n    \"referenceChild.childId\",\n    \"complexChildSingle.text\",\n    \"complexChildSingle.date\",\n    \"complexChildSingle.referenceChild.childId\",\n    \"isActive\"\n  },\n  complexFields: {\n    {\n      fieldName: \"complexChildMultiple\",\n      auditFieldName: \"complexChildMultipleChanges\",\n      idField: \"childId\",\n      simpleFields: {\n        \"text\",\n        \"date\",\n        \"referenceChild.childId\"\n      },\n      complexFields: {}\n    }\n  }\n}"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_162769": {
      "name": "AS_CO_UT_typeCompare",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  typeof(ri!value1) = typeof(ri!value2)\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_162005-adt": {
      "name": "AS_ADT_UT_buildSimpleFieldChangesDictionary",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!oldValue: rule!AS_CO_UT_toString(\n    value: rule!AS_CO_UT_indexPath(\n      cdt: ri!originalObject,\n      field: ri!simpleFieldName\n    )\n  ),\n  local!newValue: rule!AS_CO_UT_toString(\n    value: rule!AS_CO_UT_indexPath(\n      cdt: ri!newObject,\n      field: ri!simpleFieldName\n    )\n  ),\n  if(\n    rule!AS_CO_UT_compare(\n      value1: local!oldValue,\n      value2: local!newValue\n    ),\n    {},\n    rule!AS_CO_UT_dynamicDictionary(\n      fieldValuePairs: {\n        {\n          field: \"fieldName\",\n          value: ri!simpleFieldName\n        },\n        { field: \"oldValue\", value: local!oldValue },\n        { field: \"newValue\", value: local!newValue }\n      }\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76433": {
      "name": "AS_CO_UT_indexPath",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!fieldsAndIndices: rule!AS_CO_UT_zINTERNAL_indexPath_nestedFieldArrayHandler(field: ri!field),\n\n  reduce(\n    index(_, _, ri!indexDefault),\n    ri!cdt,\n    local!fieldsAndIndices\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73568": {
      "name": "AS_CO_UT_getLabelPosition",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  rule!AS_CO_UT_replaceNull(\n    nullableValue: ri!labelPosition,\n    replacementValue: if(\n      rule!AS_CO_UT_isBlank(ri!label),\n      \"COLLAPSED\",\n      if(ri!readOnly, \"ADJACENT\", \"ABOVE\")\n    )\n  )\n)"
    },
    "_a-0000e8cc-c513-8000-9c0f-011c48011c48_3405575": {
      "name": "AS_GCM_DPL_CO_dropdownField",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!displayValue: displayvalue(\n    ri!value,\n    ri!choiceValues,\n    ri!choiceLabels,\n    null\n  ),\n  if(\n    ri!readOnly,\n    rule!AS_CO_DSP_standardReadOnlyField(\n      label: ri!label,\n      instructions: ri!instructions,\n      value: if(\n        isnull(ri!readOnlyValue),\n        local!displayValue,\n        ri!readOnlyValue\n      ),\n      labelPosition: ri!labelPosition,\n      helpTooltip: ri!helpTooltip,\n      showWhen: ri!showWhen,\n      accessibilityText: ri!accessibilityText\n    ),\n    #\"SYSTEM_SYSRULES_dropdownField_v1\"(\n      label: ri!label,\n      labelPosition: rule!AS_CO_UT_getLabelPosition(\n        label: ri!label,\n        labelPosition: ri!labelPosition,\n        readOnly: ri!readOnly\n      ),\n      data: ri!data,\n      sort: ri!sort,\n      instructions: ri!instructions,\n      helpTooltip: ri!helpTooltip,\n      placeholder: if(\n        ri!noPlaceholder,\n        null,\n        rule!AS_CO_UT_formatFieldEntryPlaceHolder(\n          wrapInMarkers: false(),\n          placeholder: rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!placeholder,\n            replacementValue: rule!AS_CO_UT_displayCommonObjectBundleLabel(\n              bundleKey: \"AS.CO.CommonObjects.lbl_co_2\"\n            )\n          )\n        )\n      ),\n      choiceLabels: ri!choiceLabels,\n      choiceValues: ri!choiceValues,\n      value: if(\n        and(\n          a!isNullOrEmpty(local!displayValue),\n          a!isNullOrEmpty(ri!data)\n        ),\n        null,\n        ri!value\n      ),\n      saveInto: ri!saveInto,\n      showWhen: if(isnull(ri!showWhen), true, ri!showWhen),\n      required: if(ri!readOnly, false, ri!required),\n      requiredMessage: rule!AS_CO_UT_displayRequiredMessage(\n        label: ri!label,\n        requiredMessage: ri!requiredMessage\n      ),\n      disabled: ri!disabled,\n      validations: ri!validations,\n      validationGroup: ri!validationGroup,\n      accessibilityText: ri!accessibilityText,\n      searchDisplay: ri!searchDisplay,\n      marginAbove: ri!marginAbove\n    )\n  )\n)"
    },
    "_a-0000e3ff-a5bc-8000-9ba8-011c48011c48_39070": {
      "name": "AS_CO_UT_booleanDefaultFalse",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  if(\n    isnull(ri!boolean),\n    false,\n    ri!boolean\n  )\n)"
    },
    "_a-0000e5bc-4a9a-8000-9bbc-011c48011c48_936427": {
      "name": "AS_GAM_ADT_UT_constructActionOnlyAuditData",
      "type": "Expression Rule",
      "sail_code": "/* This rule is used to construct the action only audit data (Simple / Complex field changes will be null)*/\nrule!AS_CO_UT_dynamicDictionary(\n  fieldValuePairs: {\n    {\n      field: ri!auditParams.auditConfig.idField,\n      value: index(\n        ri!auditParams.newObjects,\n        ri!auditParams.auditConfig.idField,\n        null\n      )\n    },\n    { field: \"username\", value: ri!initiator },\n    { field: \"timestamp\", value: now() },\n    {\n      field: \"auditActionCode\",\n      value: ri!auditParams.externalAction\n    },\n    if(\n      rule!AS_CO_UT_isNotBlank(\n        ri!auditParams.auditConfig.foreignIdField\n      ),\n      {\n        field: ri!auditParams.auditConfig.foreignIdField,\n        value: index(\n          ri!auditParams.newObjects,\n          ri!auditParams.auditConfig.foreignIdField,\n          null\n        )\n      },\n      {}\n    )\n  }\n)"
    },
    "_a-0000e6c8-d132-8000-9bbe-011c48011c48_469266": {
      "name": "AS_CO_UT_queryRecord",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS ON HOW TO USE\n\nPlease DO NOT auto-format this rule\n\n*/\n\n\n/*Error handling*/\nif(\n  rule!AS_CO_UT_isBlank(ri!returnType),\n  fn!error(concat(\"Null `returnType` passed to AS_CO_UT_queryRecord for recordType `\", ri!recordType, \"`.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  not(contains(rule!AS_CO_CONS_QE_RETURN_TYPES(), ri!returnType)),\n  fn!error(concat(\"Unknown `returnType` passed to AS_CO_UT_queryRecord for recordType `\", ri!recordType, \"`.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  rule!AS_CO_UT_isBlank(ri!recordType),\n  fn!error(concat(\"Null `recordType` passed to AS_CO_UT_queryRecord.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    rule!AS_CO_UT_isBlank(ri!pagingInfo)\n  ),\n  fn!error(concat(\"`pagingInfo` is required (cannot be null) for `returnType` DATA_SUBSET\")),\n  and(\n    ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    rule!AS_CO_UT_isNotBlank(ri!pagingInfo)\n  ),\n  fn!error(concat(\"`pagingInfo` must be null when the `returnType` is not DATA_SUBSET, instead use `sort` to pass custom-sorting and `startIndex` & `batchSize` will be automatically calculated for you\")),\n  and(\n    not(isnull(ri!pagingInfo)),\n    rule!AS_CO_UT_isNotBlank(ri!sort)\n  ),\n  fn!error(concat(\"`sort` parameter must be null when `pagingInfo` is provided.  Use the sort field of the provided `pagingInfo` instead.\")),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isBlank(ri!aggregationFields)\n  ),\n  fn!error(\"You must provide an input for `aggregationFields` when `returnType` is AGGREGATION\"),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isNotBlank(ri!fields)\n  ),\n  fn!error(\"You cannot provide an input for `fields` when `returnType` is AGGREGATION.  Use `aggregationFields` instead.\"),\n  and(\n    ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isNotBlank(ri!aggregationFields)\n  ),\n  fn!error(\"You cannot provide an input for `aggregationFields` when `returnType` is not AGGREGATION.  Use `fields` instead.\"),\n  and(\n    rule!AS_CO_UT_isNotBlank(ri!castToCdtType),\n    not(contains(\n      {cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY, cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT, cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET},\n      ri!returnType\n    )),\n  ),\n  fn!error(\"'castToCdtType' is only supported for SINGLE_OBJECT, OBJECT_ARRAY, and DATA_SUBSET return types\"),\n\n  a!localVariables(\n\n    /*Determine the castResultToType*/\n    local!castResultToType: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   'type!{http://www.appian.com/ae/types/2009}Map',\n        /*SINGLE_OBJECT*/ a!defaultValue(ri!castToCdtType, ri!recordType),\n        /*OBJECT_ARRAY*/  rule!AS_CO_UT_returnArrayTypeNumber(type: a!defaultValue(ri!castToCdtType, ri!recordType)),\n        /*AGGREGATION*/   'type!{http://www.appian.com/ae/types/2009}Map?list',\n        /*TOTAL_COUNT*/   'type!{http://www.appian.com/ae/types/2009}Integer',\n      }\n    ),\n\n    /*Determine the batchSize*/\n    local!batchSize: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   ri!pagingInfo.batchSize,\n        /*SINGLE_OBJECT*/ 1,\n        /*OBJECT_ARRAY*/  a!defaultValue(ri!pagingInfo.batchSize, cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE),\n        /*AGGREGATION*/   cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE,\n        /*TOTAL_COUNT*/   1,\n      }\n    ),\n\n    /*Determine the pagingInfo*/\n    local!pagingInfo: if(\n      ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n      /*Use specific pagingInfo for DATA_SUBSET*/\n      ri!pagingInfo,\n      /*Otherwise calculate pagingInfo for all other returnTypes*/\n      #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: local!batchSize,\n        sort: ri!sort\n      )\n    ),\n\n    /*Determine the fetchTotalCount*/\n    local!fetchTotalCount: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   true,\n        /*SINGLE_OBJECT*/ false,\n        /*OBJECT_ARRAY*/  false,\n        /*AGGREGATION*/   false,\n        /*TOTAL_COUNT*/   true,\n      }\n    ),\n\n    /*Execute the query*/\n    local!queryResult: a!refreshVariable(\n      value: if(\n        ri!executeWhen = false,\n        null(\n          if(\n            ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n            rule!AS_CO_TYPE_Dictionary(),\n            ri!recordType\n          )\n        ),\n        #\"SYSTEM_SYSRULES_queryRecordType_v1\"(\n          recordType: ri!recordType,\n          fields: a!defaultValue(\n            ri!fields,\n            ri!aggregationFields\n          ),\n          filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            logicalExpressions: {\n              #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"AND\",\n                ignoreFiltersWithEmptyValues: true,\n                filters: a!defaultValue(ri!filters, {})\n              ),\n              a!defaultValue(ri!logicalExpression, {})\n            }\n          ),\n          pagingInfo: local!pagingInfo,\n          fetchTotalCount: local!fetchTotalCount,\n          relatedRecordData: ri!relatedRecordData\n        )\n      ),\n      refreshOnVarChange: ri!triggerRefresh,\n      refreshAfter: {\"RECORD_ACTION\"}\n    ),\n\n    /*Parse the queryResult*/\n    local!queryResultParse: choose(\n      rule!AS_CO_UT_chooseWherecontainsHelper(\n        value: ri!returnType,\n        inArray: rule!AS_CO_CONS_QE_RETURN_TYPES()\n      ),\n      /*Default, required value based on how AS_CO_UT_chooseWherecontainsHelper operates*/ \"\",\n      /*DATA_SUBSET*/   if(\n        rule!AS_CO_UT_isNotBlank(ri!castToCdtType),\n        /*Note that for a data subset, the parent is a map, but we allow casting the child 'data' field as well*/\n        rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n          cdt: local!queryResult,\n          fieldValuePairs: {\n            field: \"data\",\n            value: cast(\n              rule!AS_CO_UT_returnArrayTypeNumber(type: ri!castToCdtType),\n              local!queryResult.data\n            )\n          }\n        ),\n        local!queryResult\n      ),\n      /*SINGLE_OBJECT*/ local!queryResult.data,\n      /*OBJECT_ARRAY*/  local!queryResult.data,\n      /*AGGREGATION*/   local!queryResult.data,\n      /*TOTAL_COUNT*/   local!queryResult.totalCount,\n    ),\n\n    rule!AS_CO_UT_cast(\n      type: local!castResultToType,\n      value: local!queryResultParse\n    )\n  )\n)\n\n/*\n\nDOCUMENTATION\n\nThis rule is designed to minimize the overhead with querying data and then casting the result\n\n\nRequired Inputs:\n\n1. recordType\n- This is a recordtype! input of the data type to be queried against\n\n2. returnType\n- This depends on the purpose for the query, and should be one of the returnTypes in rule!AS_CO_CONS_QE_RETURN_TYPES\n-- DATA_SUBSET - This will return a DataSubset; pagingInfo is required\n-- SINGLE_OBJECT - This will return a single record whose type is the recordType; pagingInfo must be null\n-- ARRAY_OBJECT - This will return an array of records whose type is an array of the recordType; pagingInfo must be null\n-- AGGREGATION - This will return an array of Dictionaries; pagingInfo must be null\n---- NOTE: If you need Aggregation with paging controls, such as for a grid, use returnType DATA_SUBSET\n-- TOTAL_COUNT - This will return an Integer of the total count; pagingInfo must be null\n\n\nOptional Inputs:\n\n3. executeWhen\n- The query will not execute if this is false, the query will execute if this is true or null\n-- This is meant to operate in a similar manner to the showWhen parameter of components\n- Use this to skip execution of a query without needing to wrap if() statements around the rule\n-- Examples of this would be to skip querying if your filter value is a null ID\n- If the query does not execute, this will return a null value whose type is based on the returnType input\n\n4. triggerRefresh\n- By default, the query will always re-execute whenever any inputs change\n- However, by updating the value of triggerRefresh, you can also trigger a re-execution even if none of the other inputs change (e.g. after a record action)\n\n5. filters\n- Array of filters to apply to the query, built with a!queryFilter()\n- These filters will be applied with an AND operator\n- These filters will apply in addition to the logicalExpression input, combining both with an AND operator\n\n6. logicalExpression\n- A logical expression to apply to the query, built with a!queryLogicalExpression()\n- This logical expression will apply in addition to the filters input, combining both with an AND operator\n\n7. aggregationFields\n- Aggregation to apply to the query, built with a!aggregationField()\n\n8. fields\n- List of recordFields and relatedRecordFields to return.  When querying a record, any relatedRecordFields are not returned\nby default, and must be specifically requested.\n\n9. pagingInfo\n- Paging info to apply to the query, built with a!pagingInfo() or derived from fv!pagingInfo in grids\n- This is required if passing returnType DATA_SUBSET, otherwise it must be null\n- For returnTypes that are not DATA_SUBSET, the batch size will be automatically calculated depending on the returnType\n-- For example, passing SINGLE_OBJECT will automatically apply a batch size of 1, whereas ARRAY_OBJECT and AGGREGATION will automatically apply a batch size of the defined query batch size maximum\n\n10. sort\n- Array of sort to apply to the query, built with a!sortInfo()\n- This is meant to be used with returnType ARRAY_OBJECT and AGGREGATION, since pagingInfo is not required for these, but a specified sort may be used\n- Cannot be used in conjunction with pagingInfo.sort\n\n11. castToCdtType\n- Any cdt type to the cast the result set. \n- This is meant to be used with only returnType OBJECT_ARRAY and SINGLE_OBJECT.\n\n*/"
    },
    "_a-0000ec46-fcf4-8000-9d91-011c48011c48_12812729": {
      "name": "AS_GCM_QNM_setMetaDataForTemplateQuestionsRecord",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!questions,\n  expression: rule!AS_GCM_setRecordFields(\n    record: fv!item,\n    neverOverwrite: {\n      a!map(\n        field: recordType!AS GCM QNM T Question.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!AS GCM QNM T Question.createdDatetime,\n        value: now()\n      ),\n      a!map(\n        field: recordType!AS GCM QNM T Question.isActive,\n        value: true\n      )\n    },\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!AS GCM QNM T Question.modifiedBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!AS GCM QNM T Question.modifiedDatetime,\n        value: now()\n      )\n    }\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_161361-adt": {
      "name": "AS_ADT_UT_calculateAudit",
      "type": "Expression Rule",
      "sail_code": "rule!AS_ADT_UT_calculateAudit_MultipleObjects(\n  originalObjects: ri!originalObjects,\n  newObjects: ri!newObjects,\n  auditConfig: ri!auditConfig,\n  username: ri!username,\n  externalAction: ri!externalAction,\n  auditType: ri!auditType\n)"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9760625": {
      "name": "AS_GCM_getAllPresentRelationshipsFromRecord",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}RecordRelationship?list',\n  a!flatten(\n    if(\n      runtimetypeof(ri!records) = runtimetypeof(a!flatten(ri!records)),\n      apply(\n        rule!AS_GCM_getAllPresentRelationshipsFromRecord(records: _),\n        a!flatten(ri!records)\n      ),\n      apply(\n        rule!AS_GCM_getAllPresentRelationshipsFromRecord_Apply(relationship: _, records: ri!records),\n        a!keys(ri!records)\n      )\n    )\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_269170": {
      "name": "AS_CO_UT_updateCdtFieldsByFieldValuePairs",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    and(\n      rule!AS_CO_UT_isBlank(ri!cdt),\n      rule!AS_CO_UT_checkIfArrayType(\n        typeOf: ri!cdt\n      )\n    ),\n    ri!cdt,\n    reduce(\n      rule!AS_CO_UT_zINTERNAL_updateCdtFieldsByPathComplex_handler(\n        cdt: _,\n        fieldValuePair: _\n      ),\n      ri!cdt,\n      a!flatten(ri!fieldValuePairs)\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73956": {
      "name": "AS_CO_VD_numberValidation",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!i18nData: rule!AS_CO_I18N_UT_loadBundleFromFolder(\n    bundleFolder: cons!AS_CO_I18N_FLD_INTERNATIONALIZATION_FILES,\n    bundleNames: \"AS.CO.CommonObjects\"\n  ),\n  local!value: if(\n    /*Using the direct decimal value when the value is less than 1000000*/\n    ri!value >= 1000000,\n    if(\n      rule!AS_CO_UT_isNotBlank(ri!value),\n      text(ri!value, \"00000000000000000000.000\"),\n      ri!value\n    ),\n    ri!value\n  ),\n  local!minSize: if(\n    /*Using the direct decimal value when the value is less than 1000000*/\n    ri!value >= 1000000,\n    if(\n      rule!AS_CO_UT_isNotBlank(ri!minSize),\n      text(ri!minSize, \"00000000000000000000.000\"),\n      ri!minSize\n    ),\n    ri!minSize\n  ),\n  local!maxSize: if(\n    /*Using the direct decimal value when the value is less than 1000000*/\n    ri!value >= 1000000,\n    if(\n      rule!AS_CO_UT_isNotBlank(ri!maxSize),\n      text(ri!maxSize, \"00000000000000000000.000\"),\n      ri!maxSize\n    ),\n    ri!maxSize\n  ),\n  if(\n    rule!AS_CO_UT_isBlank(local!value),\n    null,\n    if(\n      and(\n        rule!AS_CO_UT_isNotBlank(local!minSize),\n        local!value < local!minSize\n      ),\n      if(\n        isnull(ri!minSizeMessage),\n        rule!AS_CO_I18N_UT_displayLabel(\n          i18nData: local!i18nData,\n          bundleKey: \"AS.CO.CommonObjects.vld_MinValue\",\n          arguments: local!minSize\n        ),\n        ri!minSizeMessage\n      ),\n      if(\n        and(\n          rule!AS_CO_UT_isNotBlank(local!maxSize),\n          local!value > local!maxSize\n        ),\n        if(\n          isnull(ri!maxSizeMessage),\n          rule!AS_CO_I18N_UT_displayLabel(\n            i18nData: local!i18nData,\n            bundleKey: \"AS.CO.CommonObjects.vld_MaxValue\",\n            arguments: local!maxSize\n          ),\n          ri!maxSizeMessage\n        ),\n        null\n      )\n    )\n  )\n)"
    },
    "_a-0000ec46-fcf4-8000-9d91-011c48011c48_12813962": {
      "name": "AS_GCM_QNM_writeRecordsPropertiesForTemplateQuestions",
      "type": "Expression Rule",
      "sail_code": "if(\n  ri!isInput,\n  rule!AS_GCM_dropNonWritableRelationshipsFromRecord(\n    records: ri!questions,\n    nonWritableRelationships: {\n      recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n      recordType!AS GCM QNM T Question.isDisplayedPrecedentSets\n    }\n  ),\n  rule!AS_GCM_mergeWriteRecordIdsToProcessVariable(\n    processData: ri!questions,\n    recordsUpdated: ri!recordsUpdated,\n    fksToParent: {\n      recordType!AS GCM QNM T Question.defaultResponses.qstnTmpltIdRspnseOption,\n      recordType!AS GCM QNM T Question.isDisplayedPrecedentSets.qstnTemplateIdIsDisplayed,\n      recordType!AS GCM QNM T Question.responseRequirements.questionTemplateId\n    }\n  )\n)"
    }
  }
}
{
  "_metadata": {
    "bundle_type": "process",
    "root_name": "CMGT_SUB_CopyAndUpdateEmailAttachments",
    "parent_name": null,
    "total_objects": 7
  },
  "entry_point": {
    "complexity_score": 24.0,
    "total_nodes": 12,
    "start_form": null
  },
  "flow": {
    "process_model": {
      "name": "CMGT_SUB_CopyAndUpdateEmailAttachments",
      "complexity_score": 24.0,
      "total_nodes": 12,
      "nodes": [
        {
          "name": "Start Node",
          "type": "START_EVENT",
          "next": [
            "Is Attachments Empty?"
          ]
        },
        {
          "name": "End Node",
          "type": "END_EVENT"
        },
        {
          "name": "Create Sub Folder inside Case Folder",
          "type": "Create Folder",
          "next": [
            "Move documents Empty?"
          ]
        },
        {
          "name": "End Event",
          "type": "END_EVENT"
        },
        {
          "name": "Move documents Empty?",
          "type": "XOR_GATEWAY",
          "next": [
            "Move Documents (No)",
            "Copy documents Empty? (Yes)"
          ]
        },
        {
          "name": "is Folder Empty?",
          "type": "XOR_GATEWAY",
          "next": [
            "Create Sub Folder inside Case Folder (Yes)",
            "Move documents Empty? (No)"
          ]
        },
        {
          "name": "Copy documents Empty?",
          "type": "XOR_GATEWAY",
          "next": [
            "Copy Document & Update Email Attachments (No)",
            "End Event (Yes)"
          ]
        },
        {
          "name": "Copy Document & Update Email Attachments",
          "type": "com.appiancorp.ps.solutions.copydocumentsmartservice",
          "next": [
            "Write Email Template Attachments"
          ]
        },
        {
          "name": "Move Documents",
          "type": "Move Document",
          "next": [
            "Copy documents Empty?"
          ]
        },
        {
          "name": "Is Attachments Empty?",
          "type": "XOR_GATEWAY",
          "next": [
            "Get Folder Id (No)",
            "End Node"
          ]
        },
        {
          "name": "Write Email Template Attachments",
          "type": "SCRIPT_TASK",
          "next": [
            "End Event"
          ]
        },
        {
          "name": "Get Folder Id",
          "type": "SCRIPT_TASK",
          "next": [
            "is Folder Empty?"
          ]
        }
      ]
    }
  },
  "objects": [
    {
      "uuid": "_a-0000ed52-9ecc-8000-9d40-011c48011c48_3646859",
      "name": "CMGT_TXT_EMAIL_TEMPLATE_ATTACHMENTS",
      "type": "Constant",
      "description": "Constant to store - Email Template Attachments",
      "value": "Email Template Attachments",
      "value_type": "http://www.w3.org/2001/XMLSchema:string",
      "calls": [],
      "called_by": [
        "CMGT_SUB_CopyAndUpdateEmailAttachments"
      ]
    },
    {
      "uuid": "_a-0000e9e5-e5dd-8000-9bc7-011c48011c48_232566",
      "name": "CMGT_UTIL_GetSubFolderByType",
      "type": "Expression Rule",
      "description": "Returns the sub-folder by its type, based on naming conventions. Searches for any child folder of the parentFolderId that contains the input folderType, and returns the parentFolderId if no child is found.",
      "parameters": [],
      "calls": [],
      "called_by": [
        "CMGT_SUB_CopyAndUpdateEmailAttachments"
      ]
    },
    {
      "uuid": "_a-0000e990-c462-8000-9ba7-011c48011c48_25890",
      "name": "CMGT_UTIL_IsBlank",
      "type": "Expression Rule",
      "description": "Evaluates if the provided value is empty/blank. Returns True or False.",
      "parameters": [],
      "calls": [],
      "called_by": [
        "CMGT_SUB_CopyAndUpdateEmailAttachments",
        "CMGT_UTIL_IsNotBlank"
      ]
    },
    {
      "uuid": "_a-0000e9d3-70bf-8000-9bbd-011c48011c48_180568",
      "name": "CMGT_UTIL_IsNotBlank",
      "type": "Expression Rule",
      "description": "A not() wrapped around CMGT_UTIL_IsBlank",
      "parameters": [],
      "calls": [
        "CMGT_UTIL_IsBlank"
      ],
      "called_by": [
        "CMGT_SUB_CopyAndUpdateEmailAttachments"
      ]
    },
    {
      "uuid": "0007ed56-f27b-8000-1f6f-7f0000014e7a",
      "name": "CMGT_SUB_CopyAndUpdateEmailAttachments",
      "type": "Process Model",
      "description": "Process model to create subfolder, copy & update CMGT_EmailTemplateAttachments",
      "calls": [
        "CMGT_Case",
        "CMGT_EmailTemplateAttachments",
        "CMGT_TXT_EMAIL_TEMPLATE_ATTACHMENTS",
        "CMGT_UTIL_GetSubFolderByType",
        "CMGT_UTIL_IsBlank",
        "CMGT_UTIL_IsNotBlank"
      ],
      "called_by": []
    },
    {
      "uuid": "d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f",
      "name": "CMGT_Case",
      "type": "Record Type",
      "description": "MODIFIED FOR 2.0 KB , EML MODULE RELEASE , SMART SEARCH - Cases.",
      "actions": [
        "createCase",
        "bulkUpdateCases",
        "updateCase",
        "updateProperty",
        "addEntityToCase",
        "updateRelatedCases",
        "manageAssignee",
        "manageWatcher",
        "addTags",
        "uploadDocuments",
        "addComment",
        "modifyWorkflow",
        "updateContact",
        "composeEmail"
      ],
      "views": [
        "#\"urn:appian:translation-string:v1:a3a3c015-e0c6-4bd2-b78a-aaf392495bdd\"",
        "#\"urn:appian:translation-string:v1:2f4f2cde-9986-47cb-ac2a-1ecfeeddc693\"",
        "#\"urn:appian:translation-string:v1:455edb96-9d9a-4038-b43e-d10aa9a3a811\"",
        "#\"urn:appian:translation-string:v1:6f32eac5-d5de-4502-9a1f-4d3184aac8d2\"",
        "#\"urn:appian:translation-string:v1:86481b57-9608-4720-9198-578bfd8b8385\"",
        "#\"urn:appian:translation-string:v1:297cf25d-abb6-4d91-b9ed-ab0139f56398\"",
        "List View"
      ],
      "calls": [],
      "called_by": [
        "CMGT_SUB_CopyAndUpdateEmailAttachments"
      ]
    },
    {
      "uuid": "ecfa3aa5-8852-4685-8d4c-f54e1a112163",
      "name": "CMGT_EmailTemplateAttachments",
      "type": "Record Type",
      "description": "CMGT_EMAIL_TEMPLATE_ATTACHMENTS",
      "actions": [],
      "views": [
        "#\"SYSTEM_SYSRULES_rtd_getDefaultSummaryViewName\"()",
        "List View"
      ],
      "calls": [],
      "called_by": [
        "CMGT_SUB_CopyAndUpdateEmailAttachments"
      ]
    }
  ]
}
{
  "_metadata": {
    "bundle_id": "CMGT_CFG_CaseType_-_urnappiantranslation-stringv14e053a38-c5e1-4dd7-ab68-9b1c4cd"
  },
  "objects": {
    "9248008e-2c2c-4eea-bb28-4a3c89838403": {
      "name": "CMGT_UTIL_RemoveRecordRelationshipsWithSingleKey_Reducer",
      "type": "Expression Rule",
      "sail_code": "if(\n  runtimetypeof(ri!key) <> 'type!{http://www.appian.com/ae/types/2009}RecordRelationship',\n  ri!record,\n  a!match(\n    value: index(ri!record, ri!key, null),\n    whenTrue: count(fv!value) = 1,\n    then: with(\n      local!indexedValue: index(\n        ri!record,\n        ri!key,\n        1,\n        index(ri!record, ri!key, null)\n      ),\n      local!subKeys: a!keys(local!indexedValue),\n      if(\n        length(local!subKeys) = 1,\n        remove(ri!record, ri!key),\n        #\"urn:appian:function:v1:a:update\"(\n          ri!record,\n          ri!key,\n          reduce(\n            rule!CMGT_UTIL_RemoveRecordRelationshipsWithSingleKey_Reducer(record: _, key: _),\n            local!indexedValue,\n            local!subKeys\n          )\n        )\n      )\n    ),\n    default: ri!record\n  )\n)"
    },
    "_a-0000edb9-48a9-8000-9bca-011c48011c48_86531": {
      "name": "CMGT_WFL_RevertTrackAutomationRuleChanges",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!thingsToUpdate: #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!trackAutomationRuleChanges.existing,\n    expression: a!localVariables(\n      local!original: fv!item.original,\n      local!updated: fv!item.updated,\n      /*checks if there are any new condition sets that need to be removed*/\n      local!newConditionSetIds: difference(\n        a!flatten(\n          tointeger(\n            local!updated[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet.childConditionSet.conditionSetId]\n          )\n        ),\n        a!flatten(\n          tointeger(\n            local!original[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet.childConditionSet.conditionSetId]\n          )\n        )\n      ),\n      /*checks if there are any new conditions that need to be removed*/\n      local!newConditionIds: difference(\n        a!flatten(\n          tointeger(\n            local!updated[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet.childConditionSet.condition.conditionId]\n          )\n        ),\n        a!flatten(\n          tointeger(\n            local!original[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet.childConditionSet.condition.conditionId]\n          )\n        )\n      ),\n      a!map(\n        conditionSetsToDelete: {\n          /*loopd through the new condition sets and returns the entire structure and marks each one as inactive*/\n          #\"SYSTEM_SYSRULES_forEach\"(\n            local!newConditionSetIds,\n            #\"urn:appian:function:v1:a:update\"(\n              index(\n                a!flatten(\n                  local!updated[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet]\n                ),\n                wherecontains(\n                  fv!item,\n                  a!flatten(\n                    local!updated[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet.childConditionSet.conditionSetId]\n                  )\n                ),\n                null\n              ),\n              recordType!CMGT_CFG_ConditionSet.isActive,\n              false\n            )\n          )\n        },\n        conditionsToDelete: {\n          /*loops through the new conditions and returns the entire structure and marks each one as inactive*/\n          #\"SYSTEM_SYSRULES_forEach\"(\n            local!newConditionIds,\n            #\"urn:appian:function:v1:a:update\"(\n              index(\n                a!flatten(\n                  local!updated[#\"urn:appian:record-relationship:v1:d6ebee27-6e86-47e3-a9b8-71fdd0348854/ef9cc417-d6ce-4fee-bd86-fa71ab64f8a1/eb49dd52-e1ed-4e4c-a3ab-903f4eadb20c/aa71274b-fe14-4420-b400-573007a0049d\"]\n                ),\n                wherecontains(\n                  fv!item,\n                  a!flatten(\n                    local!updated[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet.childConditionSet.condition.conditionId]\n                  )\n                ),\n                null\n              ),\n              recordType!CMGT_CFG_Condition.isActive,\n              false\n            )\n          )\n        }\n      )\n    )\n  ),\n  /*loops through each original task and updates the condition sets/conditions with the new inactive flags needed*/\n  #\"SYSTEM_SYSRULES_forEach\"(\n    ri!trackAutomationRuleChanges.existing.original,\n    a!localVariables(\n      local!updates: local!thingsToUpdate[fv!index],\n      local!originalTask: fv!item,\n      #\"urn:appian:function:v1:a:update\"(\n        local!originalTask,\n        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet,\n        append(\n          /*loops through each existing child condition set and updates the condition lsit with the new condtions that need to be marked as inactive*/\n          #\"SYSTEM_SYSRULES_forEach\"(\n            local!originalTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet],\n            a!localVariables(\n              local!childConditionSet: fv!item,\n              #\"urn:appian:function:v1:a:update\"(\n                local!childConditionSet,\n                recordType!CMGT_CFG_ConditionSet.condition,\n                append(\n                  local!childConditionSet[recordType!CMGT_CFG_ConditionSet.condition],\n                  rule!CMGT_UTIL_RejectBlank(\n                    #\"SYSTEM_SYSRULES_forEach\"(\n                      local!updates.conditionsToDelete,\n                      a!localVariables(\n                        local!condition: fv!item,\n                        if(\n                          local!condition[recordType!CMGT_CFG_Condition.conditionSetUuid] = local!childConditionSet[recordType!CMGT_CFG_ConditionSet.conditionSetUuid],\n                          fv!item,\n                          null\n                        )\n                      )\n                    )\n                  )\n                )\n              )\n            )\n          ),\n          /*loops through each new child condition set and updates the conditions with the inactive flag*/\n          #\"SYSTEM_SYSRULES_forEach\"(\n            local!updates.conditionSetsToDelete,\n            a!localVariables(\n              local!newChildConditionSets: fv!item,\n              #\"urn:appian:function:v1:a:update\"(\n                local!newChildConditionSets,\n                recordType!CMGT_CFG_ConditionSet.condition,\n                rule!CMGT_UTIL_RejectBlank(\n                  #\"SYSTEM_SYSRULES_forEach\"(\n                    local!updates.conditionsToDelete,\n                    a!localVariables(\n                      local!condition: fv!item,\n                      if(\n                        local!condition[recordType!CMGT_CFG_Condition.conditionSetUuid] = local!newChildConditionSets[recordType!CMGT_CFG_ConditionSet.conditionSetUuid],\n                        fv!item,\n                        null\n                      )\n                    )\n                  )\n                )\n              )\n            )\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000ec87-8877-8000-9ce8-011c48011c48_3014401": {
      "name": "CMGT_WFL_Automation_AddOrEditCondition",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!isUpdateCondition: if(\n    ri!currentWorkflowStep = \"ADD_CONDITIONS\",\n    false,\n    true\n  ),\n  local!parentConditionSetIndex: rule!CMGT_UTIL_Filter(\n    records: ri!conditionSets,\n    field: recordType!CMGT_CFG_ConditionSet.caseTypeWorkflowTaskUuid,\n    value: ri!selectedCaseTypeWorkflowTaskUuid,\n    filterType: \"MATCH_INDICES\"\n  )[1],\n  local!parentConditionSet: ri!conditionSets[local!parentConditionSetIndex],\n  local!childConditionSetIndex: rule!CMGT_UTIL_Filter(\n    records: local!parentConditionSet[recordType!CMGT_CFG_ConditionSet.childConditionSet],\n    field: recordType!CMGT_CFG_ConditionSet.conditionSetUuid,\n    value: ri!selectedChildConditionSetUuid,\n    filterType: \"MATCH_INDICES\"\n  )[1],\n  local!allConditionSet: rule!CMGT_UTIL_Filter(\n    records: local!parentConditionSet[recordType!CMGT_CFG_ConditionSet.childConditionSet],\n    field: recordType!CMGT_CFG_ConditionSet.conditionSetUuid,\n    value: ri!selectedChildConditionSetUuid\n  )[1],\n  /*As the local!allConditionSet will not have conditions initiated, updating the local with condition initiated to show default field */\n  local!defaultConditionSet: #\"urn:appian:function:v1:a:update\"(\n    data: local!allConditionSet,\n    index: recordType!CMGT_CFG_ConditionSet.condition,\n    value: recordType!CMGT_CFG_Condition(\n      recordType!CMGT_CFG_Condition.conditionSetUuid: local!allConditionSet[recordType!CMGT_CFG_ConditionSet.conditionSetUuid],\n      recordType!CMGT_CFG_Condition.isActive: true\n    )\n  ),\n  local!conditionSet: if(\n    a!isNullOrEmpty(\n      local!allConditionSet[recordType!CMGT_CFG_ConditionSet.condition]\n    ),\n    local!defaultConditionSet,\n    local!allConditionSet\n  ),\n  local!totalConditionsDisplayed: if(\n    rule!CMGT_UTIL_IsBlank(\n      local!conditionSet[recordType!CMGT_CFG_ConditionSet.condition]\n    ),\n    0,\n    rule!CMGT_UTIL_Filter(\n      records: local!conditionSet[recordType!CMGT_CFG_ConditionSet.condition],\n      field: recordType!CMGT_CFG_Condition.isActive,\n      value: true,\n      filterType: \"MATCH_COUNT\"\n    )\n  ),\n  local!availableFieldsInfo: rule!CMGT_UTIL_Filter(\n    records: ri!availableFieldsInfo,\n    field: \"parentRecordTypeUuid\",\n    value: cons!CMGT_UUID_RECORD_TYPE_TASK,\n    filterType: \"REJECT\"\n  ),\n  local!conditionsSave,\n  {\n    #\"SYSTEM_SYSRULES_paneLayout\"(\n      panes: {\n        #\"SYSTEM_SYSRULES_pane\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_columnsLayout\"(\n              columns: {\n                #\"SYSTEM_SYSRULES_columnLayout\"(width: \"NARROW\"),\n                #\"SYSTEM_SYSRULES_columnLayout\"(\n                  contents: {\n                    #\"SYSTEM_SYSRULES_cardLayout\"(\n                      contents: {\n                        #\"SYSTEM_SYSRULES_cardLayout\"(\n                          contents: {\n                            rule!CMGT_UTIL_HeaderField(\n                              label: if(\n                                local!isUpdateCondition,\n                                #\"urn:appian:translation-string:v1:68a2d34b-5583-4f47-8c48-561ffae2f3eb\",\n                                #\"urn:appian:translation-string:v1:ce175f4e-fa40-4fd2-a8e1-ed76c9854df3\"\n                              ),\n                              labelSize: \"MEDIUM\",\n                              divider: \"NONE\",\n                              brandingMap: ri!brandingMap,\n                              labelColor: ri!brandingMap.StandardTextColor,\n                              labelFontWeight: \"SEMI_BOLD\"\n                            ),\n                            #\"SYSTEM_SYSRULES_horizontalLine\"(marginBelow: \"NONE\"),\n                            #\"SYSTEM_SYSRULES_richTextDisplayField\"(),\n                            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                              value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: #\"urn:appian:translation-string:v1:c4a780cf-13fd-409b-8d9f-86dd5041644e\",\n                                size: \"MEDIUM\",\n                                style: \"STRONG\"\n                              )\n                            ),\n                            rule!CMGT_WFL_Automation_FieldLevelConditions(\n                              conditionSet: local!conditionSet,\n                              totalConditionsDisplayed: local!totalConditionsDisplayed,\n                              availableFieldsInfo: local!availableFieldsInfo,\n                              brandingMap: ri!brandingMap\n                            ),\n                            #\"SYSTEM_SYSRULES_cardLayout\"(\n                              contents: {\n                                #\"SYSTEM_SYSRULES_ButtonLayout\"(\n                                  primaryButtons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                                    label: if(\n                                      local!isUpdateCondition,\n                                      #\"urn:appian:translation-string:v1:06dbafc7-e085-40de-a68a-c83054c1d7ec\",\n                                      #\"urn:appian:translation-string:v1:9054fda3-d0ac-4d53-8046-6afc52dd8a75\"\n                                    ),\n                                    saveInto: {\n                                      a!save(\n                                        ri!currentWorkflowStep,\n                                        \"CONFIGURE_WORKFLOW\"\n                                      ),\n                                      a!save(\n                                        local!conditionsSave,\n                                        difference(\n                                          local!conditionSet[recordType!CMGT_CFG_ConditionSet.condition],\n                                          rule!CMGT_UTIL_Filter(\n                                            records: local!conditionSet[recordType!CMGT_CFG_ConditionSet.condition],\n                                            fieldValuePairs: {\n                                              a!map(\n                                                field: recordType!CMGT_CFG_Condition.conditionSetId,\n                                                value: null\n                                              ),\n                                              a!map(\n                                                field: recordType!CMGT_CFG_Condition.isActive,\n                                                value: false\n                                              )\n                                            }\n                                          )\n                                        )\n                                      ),\n                                      a!save(\n                                        local!parentConditionSet[recordType!CMGT_CFG_ConditionSet.childConditionSet],\n                                        #\"urn:appian:function:v1:a:update\"(\n                                          data: local!parentConditionSet[recordType!CMGT_CFG_ConditionSet.childConditionSet],\n                                          index: local!childConditionSetIndex,\n                                          value: #\"urn:appian:function:v1:a:update\"(\n                                            data: local!conditionSet,\n                                            index: recordType!CMGT_CFG_ConditionSet.condition,\n                                            value: local!conditionsSave\n                                          )\n                                        )\n                                      ),\n                                      a!save(\n                                        ri!conditionSets[local!parentConditionSetIndex],\n                                        local!parentConditionSet\n                                      ),\n                                      a!save(ri!selectedChildConditionSetUuid, null)\n                                    },\n                                    size: \"SMALL\",\n                                    width: \"MINIMIZE\",\n                                    style: \"SOLID\",\n                                    color: ri!brandingMap.AccentColor,\n                                    validate: true\n                                  ),\n                                  secondaryButtons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                                    label: #\"urn:appian:translation-string:v1:edd4df67-d878-46d6-ab67-732a3700a588\",\n                                    saveInto: {\n                                      a!save(\n                                        ri!currentWorkflowStep,\n                                        \"CONFIGURE_WORKFLOW\"\n                                      ),\n                                      a!save(\n                                        local!conditionSet,\n                                        if(\n                                          a!isNullOrEmpty(\n                                            local!allConditionSet[recordType!CMGT_CFG_ConditionSet.condition]\n                                          ),\n                                          local!defaultConditionSet,\n                                          local!allConditionSet\n                                        )\n                                      ),\n                                      a!save(ri!selectedChildConditionSetUuid, null)\n                                    },\n                                    size: \"SMALL\",\n                                    width: \"MINIMIZE\",\n                                    style: \"OUTLINE\",\n                                    color: ri!brandingMap.AccentColor\n                                  )\n                                )\n                              },\n                              height: \"AUTO\",\n                              padding: \"NONE\",\n                              marginAbove: \"EVEN_LESS\",\n                              showBorder: false\n                            )\n                          },\n                          padding: \"NONE\",\n                          showBorder: false,\n\n                        )\n                      },\n                      style: ri!brandingMap.CardBackgroundColor,\n                      shape: ri!brandingMap.CardShape,\n                      showBorder: false,\n                      showShadow: ri!brandingMap.CardShowShadow\n                    )\n                  },\n                  width: \"WIDE_PLUS\"\n                ),\n                #\"SYSTEM_SYSRULES_columnLayout\"(width: \"NARROW\")\n              }\n            )\n          },\n          backgroundColor: ri!brandingMap.TertiaryBackgroundColor,\n          padding: \"MORE\",\n          accessibilityText: if(\n            local!isUpdateCondition,\n            #\"urn:appian:translation-string:v1:68a2d34b-5583-4f47-8c48-561ffae2f3eb\",\n            #\"urn:appian:translation-string:v1:ce175f4e-fa40-4fd2-a8e1-ed76c9854df3\"\n          )\n        )\n      }\n    )\n  }\n)"
    },
    "_a-0000ea01-8773-8000-9bde-011c48011c48_356157": {
      "name": "CMGT_UTIL_CardGroupHandler",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!maxPerRow: a!defaultValue(ri!maxPerRow, count(ri!cardLayouts)),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: enumerate(\n      ceiling(\n        count(ri!cardLayouts) / local!maxPerRow,\n        1\n      )\n    ),\n    expression: a!localVariables(\n      local!rowIndex: fv!index,\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        marginBelow: ri!marginBelow,\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            showWhen: contains({ \"RIGHT\", \"CENTER\" }, ri!align)\n          ),\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: enumerate(local!maxPerRow),\n            expression: a!localVariables(\n              local!adjustedIndex: (local!rowIndex - 1) * local!maxPerRow + fv!index,\n              local!cardLayout: a!refreshVariable(\n                value: index(ri!cardLayouts, local!adjustedIndex, {}),\n                refreshAlways: true\n              ),\n              #\"SYSTEM_SYSRULES_columnLayout\"(\n                width: ri!columnWidth,\n                contents: local!cardLayout\n              )\n            )\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            showWhen: contains({ \"LEFT\", \"CENTER\" }, ri!align)\n          )\n        },\n        stackWhen: ri!stackWhen,\n        spacing: a!defaultValue(ri!spacing,\"DENSE\")\n      )\n    )\n  )\n)"
    },
    "_a-0000eb60-4595-8000-9c6e-011c48011c48_1750531": {
      "name": "CMGT_WFL_CaseType_Visualization",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!activeTasks: rule!CMGT_UTIL_Filter(\n    records: ri!tasks,\n    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive,\n    value: true\n  ),\n  local!activeTaskBranches: rule!CMGT_UTIL_Filter(\n    records: a!flatten(\n      ri!tasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches]\n    ),\n    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive,\n    value: true\n  ),\n  local!startMilestoneReferenceMilestoneId: a!defaultValue(ri!startTaskUuid, \"m-0\"),\n  /*\n  -------\n  Build all nodes\n  -------\n  */\n  /*Start with parent milestone nodes for each distinct milestone*/\n  /*we should rework this to remove the milstone concept entirely*/\n  local!milestoneNodes: #\"SYSTEM_SYSRULES_forEach\"(\n    items: {\n      a!map(\n        referenceMilestone: a!map(\n          referenceMilestoneId: local!startMilestoneReferenceMilestoneId,\n          label: #\"urn:appian:translation-string:v1:ca8737d3-bee3-452c-9475-419cf1366475\"\n        ),\n        tasks: local!activeTasks\n      ),\n      a!map(\n        referenceMilestone: a!map(\n          referenceMilestoneId: \"m-\" & if(\n            rule!CMGT_UTIL_IsBlank(local!activeTasks),\n            1,\n            length(local!activeTasks) + 1\n          ),\n          label: #\"urn:appian:translation-string:v1:c9dcd0d5-2e16-4d10-b544-3e3445922c79\"\n        )\n      )\n    },\n    expression: a!map(\n      id: fv!item.referenceMilestone.referenceMilestoneId,\n      group: \"terminal\",\n      label: concat(\n        \"<b>\",\n        substitute(\n          upper(fv!item.referenceMilestone.label),\n          char(10),\n          \"</b>\" & char(10) & \"<b>\"\n        ),\n        \"</b>\"\n      ),\n      font: a!map(\n        multi: \"html\",\n        align: \"left\",\n        size: 12,\n        vadjust: 2,\n        color: ri!brandingMap.BlackColor,\n        bold: a!map(size: 14, vadjust: 0, mod: \"bold\")\n      ),\n      color: a!map(\n        border: ri!brandingMap.DividerColor,\n        background: ri!brandingMap.WhiteColor\n      ),\n      shadow: a!map(),\n      /*For each milestone, create the children nodes within that milestone*/\n      children: #\"SYSTEM_SYSRULES_forEach\"(\n        items: fv!item.tasks,\n        expression: a!localVariables(\n          if(\n            fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.isAutomated],\n            /*Automated Tasks */\n            a!map(\n              id: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n              group: \"task\",\n              label: if(\n                tostring(ri!selectedCaseTypeWorkflowTaskUuid) = fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                concat(\n                  \"<b>\" & rule!CMGT_UTIL_TruncateText(\n                    text: a!defaultValue(\n                      fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label],\n                      #\"urn:appian:translation-string:v1:f1a2114c-0453-4665-b358-be59650c55bc\"\n                    ),\n                    maxLength: 44\n                  ) & \"</b>\"\n                ),\n                rule!CMGT_UTIL_TruncateText(\n                  text: a!defaultValue(\n                    fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label],\n                    #\"urn:appian:translation-string:v1:f1a2114c-0453-4665-b358-be59650c55bc\"\n                  ),\n                  maxLength: 44\n                )\n              ),\n              font: a!map(\n                multi: \"html\",\n                align: \"left\",\n                size: 12,\n                vadjust: 2,\n                color: ri!brandingMap.BlackColor,\n                bold: a!map(size: 14, vadjust: - 4, mod: \"bold\")\n              ),\n              shape: \"image\",\n              image: rule!CMGT_WFL_Automation_returnImageURL(\n                taskBehaviorType: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType],\n                taskAction: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction],\n                isSelected: tostring(ri!selectedCaseTypeWorkflowTaskUuid) = fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n              ),\n              color: a!map(\n                border: ri!brandingMap.DividerColor,\n                background: null\n              ),\n              shadow: a!map()\n            ),\n            a!map(\n              id: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n              group: \"task\",\n              label: concat(\n                \"<b>\",\n                /*Trim the title to 44 characters at the next space to prevent wrapping text*/\n                substitute(\n                  rule!CMGT_UTIL_TruncateText(\n                    text: a!defaultValue(\n                      fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label],\n                      #\"urn:appian:translation-string:v1:f1a2114c-0453-4665-b358-be59650c55bc\"\n                    ),\n                    maxLength: 44\n                  ),\n                  char(10),\n                  \"</b>\" & char(10) & \"<b>\"\n                ),\n                \"</b>\",\n                char(10),\n                fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.label]\n              ),\n              font: a!map(\n                multi: \"html\",\n                align: \"left\",\n                size: 12,\n                vadjust: 2,\n                color: ri!brandingMap.BlackColor,\n                bold: a!map(size: 14, vadjust: - 4, mod: \"bold\")\n              ),\n              color: a!map(\n                border: ri!brandingMap.DividerColor,\n                background: ri!brandingMap.WhiteColor\n              ),\n              shadow: a!map(\n                enabled: true,\n                color: rule!CMGT_UTIL_DisplayBranding(\n                  brandingMap: ri!brandingMap,\n                  key: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone.milestoneColor]\n                ),\n                size: 0,\n                x: 0,\n                y: - 5\n              )\n            )\n          )\n        )\n      )\n    )\n  ),\n  /*\n  -------\n  Build all edges\n  -------\n  */\n  /*Build edges for all VALID branches between tasks*/\n  /*Note that branches can become inActive through SAIL manipulation in forms, so we hide them*/\n  local!taskToTaskEdges: if(\n    rule!CMGT_UTIL_IsBlank(local!activeTasks),\n    {},\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: rule!CMGT_UTIL_DistinctRecords(\n        records: local!activeTaskBranches,\n        fields: {\n          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid,\n          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.taskResponseOption.caseTypeWorkflowTaskResponseOptionUuid,\n\n        }\n      ),\n      expression: a!localVariables(\n        local!taskBeforeBranch: displayvalue(\n          fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid],\n          local!activeTasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n          local!activeTasks,\n          null\n        ),\n        local!taskAfterBranch: displayvalue(\n          fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid],\n          local!activeTasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n          local!activeTasks,\n          null\n        ),\n        a!map(\n          from: local!taskBeforeBranch[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n          to: local!taskAfterBranch[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n          label: rule!CMGT_UTIL_TruncateText(\n            text: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.taskResponseOption.label],\n            maxLength: 15\n          ),\n          title: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.taskResponseOption.label],\n          color: ri!brandingMap.BlackColor,\n          dashes: if(\n            fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isRequired],\n            false,\n            true\n          ),\n          font: a!map(\n            multi: \"html\",\n            align: \"horizontal\",\n            color: ri!brandingMap.BlackColor,\n            bold: a!map(mod: \"bold\", size: 15)\n          )\n        )\n      )\n    )\n  ),\n  /*Build edges for all tasks that connect to their milestone start node*/\n  local!milestoneToTaskEdges: #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!activeTasks,\n    expression: a!map(\n      from: local!startMilestoneReferenceMilestoneId,\n      to: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n      color: ri!brandingMap.BlackColor,\n      showWhen: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.startsByDefault],\n      dashes: false,\n      font: a!map()\n    )\n  ),\n  /*Build edges for all tasks that connect to the next milestone or the \"End\" node if in last milestone*/\n  local!taskToMilestoneEdges: rule!CMGT_UTIL_RejectBlank(\n    a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!activeTasks,\n        expression: a!localVariables(\n          local!taskDependentBranches: rule!CMGT_UTIL_Filter(\n            records: local!activeTaskBranches,\n            field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n            value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n          ),\n          local!taskPrecedentBranches: rule!CMGT_UTIL_Filter(\n            records: local!activeTaskBranches,\n            field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid,\n            value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n          ),\n          local!responseOptionToEnd: rule!CMGT_UTIL_Filter(\n            records: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskResponseOptions],\n            field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.caseTypeWorkflowTaskResponseOptionUuid,\n            value: local!taskDependentBranches[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.caseTypeTaskResponseOptionUuid],\n            filterType: \"REJECT\"\n          ),\n          /* The below 2 locals are specific to automation */\n          local!currentTaskActiveConditionSets: cast(\n            #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n              recordType!CMGT_CFG_ConditionSet\n            ),\n            rule!CMGT_UTIL_Filter(\n              records: a!flatten(\n                rule!CMGT_UTIL_Filter(\n                  records: ri!conditionSets,\n                  field: recordType!CMGT_CFG_ConditionSet.caseTypeWorkflowTaskUuid,\n                  value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n                )[recordType!CMGT_CFG_ConditionSet.childConditionSet]\n              ),\n              field: recordType!CMGT_CFG_ConditionSet.isActive,\n              value: true\n            )\n          ),\n          local!currentTaskActiveConditionSetCount: length(\n            rule!CMGT_UTIL_DistinctRecords(\n              records: rule!CMGT_UTIL_Filter(\n                records: a!flatten(\n                  local!currentTaskActiveConditionSets[recordType!CMGT_CFG_ConditionSet.condition]\n                ),\n                field: recordType!CMGT_CFG_Condition.isActive,\n                value: true\n              ),\n              fields: recordType!CMGT_CFG_Condition.conditionSetUuid\n            )\n          ),\n          /* This local is used to drive logic to connect activities with End */\n          local!hasDefaultEdgeToEnd: a!match(\n            value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorTypeId],\n            whenTrue: and(\n              fv!value = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n              fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction.actionCode] = cons!CMGT_CFG_TXT_ACT_WORKFLOW_ROUTING\n            ),\n            /* Checking if the after task branch count is less than active condition set count(with conditions)+1 (If no rule met go to) */\n            then: length(\n              rule!CMGT_UTIL_DistinctRecords(\n                records: rule!CMGT_UTIL_Filter(\n                  records: local!activeTaskBranches,\n                  field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n                  value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n\n                ),\n                fields: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.conditionSetUuid\n              )\n            ) < local!currentTaskActiveConditionSetCount + 1,\n            whenTrue: and(\n              rule!CMGT_UTIL_IsBlank(local!taskDependentBranches),\n              rule!CMGT_UTIL_IsBlank(local!responseOptionToEnd)\n            ),\n            then: true,\n            /* add additional logics here */\n            default: false\n          ),\n          local!item: fv!item,\n          if(\n            and(\n              local!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.startsByDefault] = false,\n              rule!CMGT_UTIL_IsBlank(local!taskPrecedentBranches)\n            ),\n            null,\n            {\n              /* Constructing edge for each response option */\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: local!responseOptionToEnd,\n                expression: a!map(\n                  from: local!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                  to: \"m-\" & length(local!activeTasks) + 1,\n                  color: ri!brandingMap.BlackColor,\n                  label: rule!CMGT_UTIL_TruncateText(\n                    text: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.label],\n                    maxLength: 15\n                  ),\n                  title: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.label],\n                  dashes: false,\n                  font: a!map(\n                    multi: \"html\",\n                    align: \"horizontal\",\n                    color: ri!brandingMap.BlackColor,\n                    bold: a!map(mod: \"bold\", size: 15)\n                  )\n                )\n              ),\n              a!map(\n                from: local!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                to: \"m-\" & length(local!activeTasks) + 1,\n                color: ri!brandingMap.BlackColor,\n                label: \"\",\n                title: \"\",\n                /*- Connect to end if has default edge to end*/\n                showWhen: local!hasDefaultEdgeToEnd,\n                dashes: false,\n                font: a!map(\n                  multi: \"html\",\n                  align: \"horizontal\",\n                  color: ri!brandingMap.BlackColor,\n                  bold: a!map(mod: \"bold\", size: 15)\n                )\n              )\n            }\n          )\n        )\n      )\n    )\n  ),\n  /*Combine all edges before passing to component*/\n  /*Set the arrows parameter on the individual edges since we may need to swap these around to optimize rendering*/\n  local!allEdges: rule!CMGT_UTIL_Filter(\n    records: #\"SYSTEM_SYSRULES_forEach\"(\n      items: {\n        local!taskToTaskEdges,\n        local!milestoneToTaskEdges,\n        local!taskToMilestoneEdges\n      },\n      expression: #\"urn:appian:function:v1:a:update\"(\n        fv!item,\n        \"arrows\",\n        rule!CMGT_NetworkChartField_StandardFormatting(brandingMap: ri!brandingMap).defaultArrow\n      )\n    ),\n    field: \"showWhen\",\n    value: false,\n    filterType: \"REJECT\"\n  ),\n  local!fixNodesEdgesOrder: /*a!map(nodes: {}, edges: {}),*/\n  if(\n    a!isNullOrEmpty(local!activeTasks),\n    a!map(nodes: {}, edges: {}),\n    rule!CMGT_NetworkChartField_FixNodeEdgeOrder_Logic(\n      nodes: local!milestoneNodes,\n      edges: local!allEdges\n    )\n  ),\n  /*-------*/\n  /*local variables that refreshes after load based on selection*/\n  /*-------*/\n  /**/\n  /*Logic for node selection*/\n  /*ri!selectedCaseTypeWorkflowTaskUuid: if(*/\n  /*a!isNotNullOrEmpty(ri!selectedCaseTypeWorkflowTaskUuid),*/\n  /*ri!selectedCaseTypeWorkflowTaskUuid,*/\n  /*\"\"*/\n  /*),*/\n  local!selectedTask: rule!CMGT_UTIL_cast(\n    type: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask,\n    value: if(\n      a!isNullOrEmpty(ri!selectedCaseTypeWorkflowTaskUuid),\n      null,\n      rule!CMGT_UTIL_Filter(\n        records: local!activeTasks,\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n        value: ri!selectedCaseTypeWorkflowTaskUuid\n      )\n    )\n  ),\n  local!finalNodesToDisplay: if(\n    a!isNullOrEmpty(ri!selectedCaseTypeWorkflowTaskUuid),\n    /*display as it is, if no task node is selected*/\n    local!fixNodesEdgesOrder.nodes,\n    /*Update selected task's border and unrelated task nodes*/\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!fixNodesEdgesOrder.nodes,\n      expression: a!localVariables(\n        local!currentTask: rule!CMGT_UTIL_cast(\n          type: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask,\n          value: rule!CMGT_UTIL_Filter(\n            records: local!activeTasks,\n            field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n            value: fv!item.id\n          )\n        ),\n        local!isSelected: touniformstring(ri!selectedCaseTypeWorkflowTaskUuid) = touniformstring(fv!item.id),\n        local!isRelatedToSelected: or(\n          contains(\n            local!currentTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches.beforeCaseTypeWorkflowTaskUuid],\n            touniformstring(ri!selectedCaseTypeWorkflowTaskUuid)\n          ),\n          contains(\n            local!selectedTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches.beforeCaseTypeWorkflowTaskUuid],\n            touniformstring(fv!item.id)\n          )\n        ),\n        #\"urn:appian:function:v1:a:update\"(\n          fv!item,\n          { \"font\", \"color\", \"shadow\" },\n          {\n            #\"urn:appian:function:v1:a:update\"(\n              fv!item.font,\n              \"color\",\n              if(\n                or(\n                  local!isSelected,\n                  local!isRelatedToSelected\n                ),\n                { ri!brandingMap.BlackColor },\n                { ri!brandingMap.SecondaryTextColor }\n              )\n            ),\n            #\"urn:appian:function:v1:a:update\"(\n              fv!item.color,\n              { \"background\", \"border\" },\n              {\n                if(\n                  or(\n                    local!isSelected,\n                    local!isRelatedToSelected\n                  ),\n                  { fv!item.color.background },\n                  { ri!brandingMap.WhiteColor }\n                ),\n                if(\n                  local!isSelected,\n                  ri!brandingMap.BlackColor,\n                  ri!brandingMap.DividerColor\n                )\n              }\n            ),\n            #\"urn:appian:function:v1:a:update\"(\n              fv!item.shadow,\n              \"color\",\n              if(\n                or(\n                  local!isSelected,\n                  local!isRelatedToSelected\n                ),\n                { fv!item.shadow.color },\n                { ri!brandingMap.WhiteColor }\n              )\n            )\n          }\n        )\n      )\n    )\n  ),\n  local!finalEdgesToDisplay: if(\n    a!isNullOrEmpty(ri!selectedCaseTypeWorkflowTaskUuid),\n    /*display as it is if no task node is selected*/\n    local!fixNodesEdgesOrder.edges,\n    /*Update edges to selected and related nodes to be black in color*/\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!fixNodesEdgesOrder.edges,\n      expression: if(\n        /*if it is a edge to selected or related node - update color*/\n        contains(\n          touniformstring({ fv!item.from, fv!item.to }),\n          touniformstring(ri!selectedCaseTypeWorkflowTaskUuid)\n        ),\n        fv!item,\n        {\n          #\"urn:appian:function:v1:a:update\"(\n            data: fv!item,\n            index: { \"font\", \"color\" },\n            value: {\n              #\"urn:appian:function:v1:a:update\"(\n                data: fv!item.font,\n                index: \"color\",\n                value: ri!brandingMap.SecondaryTextColor\n              ),\n              ri!brandingMap.DividerColor\n            }\n          )\n        }\n      )\n    )\n  ),\n  local!validations: a!localVariables(\n    local!isEndNodePresentAndConnected: and(\n      contains(\n        index(local!finalNodesToDisplay, \"label\", \"\"),\n        \"<b>END</b>\"\n      ),\n      contains(\n        touniformstring(\n          index(local!finalEdgesToDisplay, \"to\", \"\")\n        ),\n        \"m-\" & if(\n          rule!CMGT_UTIL_IsBlank(local!activeTasks),\n          1,\n          length(local!activeTasks) + 1\n        )\n      )\n    ),\n    {\n      #\"SYSTEM_SYSRULES_validationMessage\"(\n        message: #\"urn:appian:translation-string:v1:b1c8fa44-5ad7-4c3d-adab-2b29d020ce6f\"(\n          #\"urn:appian:translation-variable:v1:7202908f-19dc-44a8-a741-9d1f47227cbe\": ri!additionalValidationConditions.taskNamesInViolation\n        ),\n        validateAfter: \"SUBMIT\",\n        showWhen: rule!CMGT_UTIL_IsNotBlank(\n          ri!additionalValidationConditions.taskNamesInViolation\n        )\n      ),\n      /*display validation message if there are no tasks mapped to START*/\n      #\"SYSTEM_SYSRULES_validationMessage\"(\n        message: #\"urn:appian:translation-string:v1:459be6ff-55b0-47f3-81fc-6c7386747126\",\n        validateAfter: \"SUBMIT\",\n        showWhen: and(\n          rule!CMGT_UTIL_IsBlank(\n            ri!additionalValidationConditions.tasksMappedtoStart\n          ),\n          ri!additionalValidationConditions.doesNonStartTasksExist\n        )\n      ),\n      /*display validation message if there is not end node*/\n      #\"SYSTEM_SYSRULES_validationMessage\"(\n        message: #\"urn:appian:translation-string:v1:2c2e7b04-c771-4f76-94e6-06f65f4c162f\",\n        validateAfter: \"SUBMIT\",\n        showWhen: and(\n          not(local!isEndNodePresentAndConnected),\n          count(\n            index(local!finalNodesToDisplay, \"label\", null)\n          ) > 1\n        )\n      ),\n      /*display validation message if there are tasks with no required precedents*/\n      #\"SYSTEM_SYSRULES_validationMessage\"(\n        message: #\"urn:appian:translation-string:v1:cb8b665a-6708-48a7-a046-0581dfad9bdd\"(\n          #\"urn:appian:translation-variable:v1:5f1e4161-3b84-4604-a027-ed934750ece6\": joinarray(\n            index(\n              ri!additionalValidationConditions,\n              \"tasksWithNoPrecedents\",\n              null\n            )[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label],\n            \", \"\n          )\n        ),\n        validateAfter: \"SUBMIT\",\n        showWhen: rule!CMGT_UTIL_IsNotBlank(\n          index(\n            ri!additionalValidationConditions,\n            \"tasksWithNoPrecedents\",\n            null\n          )\n        )\n      ),\n      #\"SYSTEM_SYSRULES_validationMessage\"(\n        message: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n          #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:e1677170-3ff7-4041-bdf6-16f33d92d9ed\"\n        ),\n        validateAfter: \"SUBMIT\",\n        showWhen: rule!CMGT_UTIL_IsNotBlank(\n          index(\n            ri!additionalValidationConditions,\n            \"taskWithoutName\",\n            null\n          )\n        )\n      ),\n      /*display validation message if there are tasks with invalid basic details*/\n      #\"SYSTEM_SYSRULES_validationMessage\"(\n        message: #\"urn:appian:translation-string:v1:1954697c-c9b5-4ac7-b349-d5d298d0f929\"(\n          #\"urn:appian:translation-variable:v1:f8f512c7-0b6c-4d3d-9aaf-482aa193d182\": joinarray(\n            index(\n              index(\n                ri!additionalValidationConditions,\n                \"tasksWithInvalidBasicDetails\",\n                {}\n              ),\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label,\n              {}\n            ),\n            \", \"\n          )\n        ),\n        validateAfter: \"SUBMIT\",\n        showWhen: rule!CMGT_UTIL_IsNotBlank(\n          index(\n            ri!additionalValidationConditions,\n            \"tasksWithInvalidBasicDetails\",\n            null\n          )\n        )\n      )\n    }\n  ),\n  {\n    #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n      showWhen: rule!CMGT_UTIL_IsNotBlank(local!validations),\n      validations: local!validations,\n      validationGroup: ri!validationGroup\n    ),\n    #\"SYSTEM_SYSRULES_cardLayout\"(\n      contents: rule!CMGT_PLUGIN_NetworkChartField(\n        nodes: local!finalNodesToDisplay,\n        edges: local!finalEdgesToDisplay,\n        selectedNodeUuid: ri!selectedCaseTypeWorkflowTaskUuid,\n        height: a!defaultValue(\n          ri!height,\n          if(\n            rule!CMGT_UTIL_IsMobileScreenSize(),\n            \"MEDIUM\",\n            \"TALL\"\n          )\n        ),\n        selectable: ri!selectable,\n        brandingMap: ri!brandingMap,\n        onNodeSelection: a!save(\n          ri!selectedCaseTypeWorkflowTaskUuid,\n          rule!CMGT_UTIL_cast(\n            typeOf: { \"\" },\n            value: if(\n              touniformstring(ri!selectedCaseTypeWorkflowTaskUuid) = touniformstring(save!value),\n              {},\n              save!value\n            )\n          )\n        )\n      ),\n      style: a!defaultValue(ri!backgroundStyle,ri!brandingMap.CardBackgroundColor),\n      shape: ri!brandingMap.CardShape,\n      padding: \"EVEN_LESS\",\n      showBorder: false,\n      showShadow: false\n    )\n  }\n)"
    },
    "_a-0000ec99-fdab-8000-9cee-011c48011c48_3087732": {
      "name": "CMGT_WFL_ChildConditionSet_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!conditionSets,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_CFG_ConditionSet.modifiedOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_CFG_ConditionSet.modifiedBy,\n        value: ri!initiator\n      )\n    },\n    /*Only modify these fields if they are currently null*/\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_CFG_ConditionSet.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_CFG_ConditionSet.createdOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_CFG_ConditionSet.isActive,\n        value: true\n      )\n    },\n    childRelationships: {\n      a!map(\n        field: recordType!CMGT_CFG_ConditionSet.condition,\n        value: rule!CMGT_WFL_Condition_SetMetaData(\n          conditions: fv!item[recordType!CMGT_CFG_ConditionSet.condition],\n          initiator: ri!initiator\n        )\n      )\n    }\n  )\n)"
    },
    "_a-0000eb57-0ad2-8000-9c6b-011c48011c48_1720993": {
      "name": "CMGT_NCF_orderNodesHorizontallyTopDown",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!nodesOnCurrentLevel: a!refreshVariable(\n    value: rule!CMGT_UTIL_Filter(\n      records: ri!allNodes,\n      field: \"verticalOrder\",\n      value: ri!level\n    ),\n    refreshAlways: true\n  ),\n  local!eachNodeWithHorizontalOrder: a!refreshVariable(\n    value: apply(\n      rule!CMGT_NCF_setAverageHorizontalOrderOfPrecedents(\n        currentNode: _,\n        /*can pass in just sorted nodes because parents will always be above children*/\n        orderedNodes: ri!orderedNodes,\n        allEdges: ri!allEdges\n      ),\n      local!nodesOnCurrentLevel\n    ),\n    refreshAlways: true\n  ),\n  local!sortedNodesForThisLevel: a!refreshVariable(\n    value: rule!CMGT_UTIL_sortList(\n      records: local!eachNodeWithHorizontalOrder,\n      field: \"horizontalOrder\",\n      ascending: true\n    ),\n    refreshAlways: true\n  ),\n  local!updatedHorizontalOrder: a!refreshVariable(\n    value: apply(\n      rule!CMGT_NCF_updateNodeHorizontalOrderFromIndex(\n        sortedNodes: local!sortedNodesForThisLevel,\n        currentNode: _\n      ),\n      local!sortedNodesForThisLevel\n    ),\n    refreshAlways: true\n  ),\n  {\n    ri!orderedNodes,\n    local!updatedHorizontalOrder\n  }\n)"
    },
    "_a-0000e9d3-70bf-8000-9bbd-011c48011c48_180568": {
      "name": "CMGT_UTIL_IsNotBlank",
      "type": "Expression Rule",
      "sail_code": "not(rule!CMGT_UTIL_IsBlank(ri!input))"
    },
    "_a-0001ed77-88a5-8000-9d49-011c48011c48_3800682": {
      "name": "CMGT_Workflow_ConfigureTask_SectionWrapper",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_boxLayout\"(\n  label: ri!sectionName,\n  contents: ri!sectionContents,\n  style: ri!brandingMap.InfoBackgroundColor,\n  shape: \"ROUNDED\",\n  isCollapsible: true,\n  marginAbove: \"LESS\",\n  marginBelow: \"LESS\"\n)"
    },
    "_a-0000ed49-63d5-8000-9d3e-011c48011c48_3626108": {
      "name": "CMGT_CFG_ENUM_ACT_REASSIGN_CASE",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  /*code that is used to help evaluation of what actions needs to be ran*/\n  actionCode: cons!CMGT_CFG_TXT_ACT_REASSIGN_CASE,\n  /*Display text of action type in configuration*/\n  name: #\"urn:appian:translation-string:v1:255ef9a9-837a-4a2c-aef4-2c578cfb4807\",\n  /*interface used to configure assignment logic*/\n  configurationRule:rule!CMGT_WFL_AutomationRule_Configure_AssignmentLogic,\n  runtimeConfigurationRule: rule!CMGT_AutomationRule_Configure_AssignmentLogic,\n  configurationDisplayRule: rule!CMGT_WFL_CaseType_Rules_FormatAssignAction,\n  runtimeDisplayRule: rule!CMGT_Case_Rules_FormatAssignAction,\n  /*process to be run to assigne a case*/\n  PmConstant: cons!CMGT_PM_ROLE_MANAGE,\n  /*evaluation rule that runs and outputs the necessary process parameters*/\n  pmParameterEvalRule: rule!CMGT_AUTO_EVAL_CaseAssignment_DetermineProcessParameters,\n  context: cons!CMGT_CFG_TXT_ACT_CONTEXT_CASE,\n  createdBy: \"system\"\n)"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_568186": {
      "name": "CMGT_WFL_ReferenceMilestone_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!referenceMilestones,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_ReferenceMilestone.modifiedBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_ReferenceMilestone.modifiedOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_ReferenceMilestone.sortOrder,\n        value: fv!index\n      )\n    },\n    /*Only modify these fields if they are currently null*/\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_ReferenceMilestone.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_ReferenceMilestone.createdOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_ReferenceMilestone.isActive,\n        value: true\n      )\n    },\n    /*Set metadata for all child relationships*/\n    childRelationships: {\n      \n    }\n  )\n)"
    },
    "_a-0000e9d3-70bf-8000-9bbd-011c48011c48_180552": {
      "name": "CMGT_UTIL_cast",
      "type": "Expression Rule",
      "sail_code": "with(  \n  local!typeNumber: rule!CMGT_UTIL_returnTypeNumber(\n    type: ri!type,\n    typeOf: ri!typeOf\n  ),\n\n  /* If the object is empty, use null or {} depending on if it is array type or not */\n  local!objectToCast: if(\n    rule!CMGT_UTIL_IsNotBlank(ri!value),\n    ri!value,\n    rule!CMGT_UTIL_checkIfSingleType(\n      type: ri!type,\n      typeOf: ri!typeOf\n    ),\n    null,\n    {}\n  ),\n\n  cast(\n    local!typeNumber,\n    local!objectToCast\n  )\n  \n)"
    },
    "_a-0000ecac-72b0-8000-9cf2-011c48011c48_3152780": {
      "name": "CMGT_returnAvailableFields",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!availableCaseFieldsCustomizations: rule!CMGT_AUTO_EVAL_AvailableFieldsCustomizationsWrapper_Case(),\n  local!availableTaskFieldsCustomizations: rule!CMGT_AUTO_EVAL_AvailableFieldsCustomizationsWrapper_Task(),\n  local!studioParentRecordTypeUuid: a!defaultValue(\n    ri!caseTypeRecordTypeUuid,\n    ri!parentCaseTypeRecordTypeUuid\n  ),\n  local!caseFields: append(\n    rule!CMGT_UTIL_RejectBlank(\n      a!flatten(\n        local!availableCaseFieldsCustomizations.fieldMapsToAdd\n      )\n    ),\n    a!flatten(\n      local!availableCaseFieldsCustomizations.customFieldsToAdd\n    )\n  ),\n  local!taskFields: if(\n    ri!scope = \"TASK\",\n    append(\n      rule!CMGT_UTIL_RejectBlank(\n        a!flatten(\n          local!availableTaskFieldsCustomizations.fieldMapsToAdd\n        )\n      ),\n      a!flatten(\n        local!availableTaskFieldsCustomizations.customFieldsToAdd\n      )\n    ),\n    null()\n  ),\n  local!controlPanelHierarchy: #\"SYSTEM_SYSRULES_controlPanelRecordHierarchyMetadata\"(\n    controlPanel: #\"urn:appian:control-panel:v1:1b82dc2b-d4df-44ed-ac7c-3cce3b4ee0e0\",\n    recordUuid: local!studioParentRecordTypeUuid\n  ),\n  local!studioFields: rule!CMGT_formatStudioFieldHierarchy(\n    controlPanelHierarchy: local!controlPanelHierarchy\n  ),\n  local!allFields: rule!CMGT_UTIL_RejectBlank(\n    a!flatten(\n      {\n        local!studioFields,\n        local!caseFields,\n        local!taskFields\n      }\n    )\n  ),\n  local!containsDuplicateNames: count(local!allFields.displayName) <> count(\n    rule!CMGT_UTIL_Distinct(local!allFields.displayName)\n  ),\n  local!formatFieldLabels: #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!allFields,\n    expression: #\"urn:appian:function:v1:a:update\"(\n      data: fv!item,\n      index: \"label\",\n      value: if(\n        and(\n          local!containsDuplicateNames,\n          /*Determines is the field is a duplicate   */\n          count(\n            wherecontains(\n              fv!item.displayName,\n              local!allFields.displayName\n            )\n          ) > 1\n        ),\n        a!match(\n          value: fv!item.parentRecordTypeUuid,\n          equals: cons!CMGT_UUID_RECORD_TYPE_CASE,\n          then: concat(\"Case \", fv!item.displayName),\n          equals: cons!CMGT_UUID_RECORD_TYPE_TASK,\n          then: concat(\"Task \", fv!item.displayName),\n          default: fv!item.displayName,\n          \n        ),\n        fv!item.displayName\n      )\n    )\n  ),\n  local!formatFieldLabels\n)"
    },
    "000deb90-4c14-8000-0d40-7f0000014e7a": {
      "name": "CMGT_WFL_CaseType_WorkflowCreateEdit",
      "type": "Process Model",
      "sail_code": "// Input: ?\n=newReferenceTasks\n\n// Input: ?\n=pv!documentsToDelete[tp!instanceindex]\n\n// Input: ?\n=documentsToDelete\n\n// Input: ?\n=newEmailTemplates\n\n// Output: ?\nrule!CMGT_CFG_CaseType_SetForeignKeys(\n  caseType: pv!caseType,\n  newReferenceTasks: pv!newReferenceTasks\n)\n\n// Input: ?\n={rule!CMGT_WFL_CaseTypeWorkflowTasks_WriteRecordsProperties(\n  caseTypeWorkflowTasks: pv!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n  isInput: true\n)}\n\n// Input: ?\n={recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask}\n\n// Output: ?\nappian:record-relationship:v1:951163aa-6e2b-4fa4-9e05-af689d19b8aa/9ba96d98-6646-46f3-b1fc-7099c57d6774\"]:rule!CMGT_WFL_CaseTypeWorkflowTasks_WriteRecordsProperties(\n  caseTypeWorkflowTasks: pv!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n  recordsUpdated:ac!RecordsUpdated,\n  isInput: false\n)\n\n// Input: ?\n={remove(\n  a!flatten(\n    rule!CMGT_UTIL_RejectBlank(\n      pv!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask]\n    )\n  ),\n  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.taskResponseOption\n)}\n\n// Input: ?\n={recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch}\n\n// Input: ?\n=pv!caseType[recordType!CMGT_CFG_CaseType.caseTypeMetadata]\n\n// Input: ?\n= rule!CMGT_WFL_MTR_CaseTypeWorkflowWrapper( caseTypeWorkflowTasks: pv!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask])\n\n// Input: ?\n= rule!CMGT_WFL_CaseType_SetMetaData( caseType: pv!caseType, initiator: pp!initiator)\n\n// Output: ?\na!localVariables(\n  local!newReferenceTasks: rule!CMGT_UTIL_RejectBlank(\n    rule!CMGT_UTIL_Filter(\n      records: ac!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTaskId,\n      value: null()\n    )[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTask]\n  ),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!newReferenceTasks,\n    expression: /*Remove the generated response option ids for new decision tasks*/\n    if(\n      fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION,\n      #\"urn:appian:function:v1:a:update\"(\n        fv!item,\n        recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions,\n        #\"urn:appian:function:v1:a:update\"(\n          fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions],\n          recordType!CMGT_WFL_CFG_TaskResponseOption.taskResponseOptionId,\n          null()\n        )\n      ),\n      fv!item\n    )\n  )\n)\n\n// Input: ?\n={rule!CMGT_UTIL_ExtractAllWriteableFirstChildrenOfCaseType(\n  caseType: pv!caseType,\n  recordsToDrop: {\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask\n  }\n)}\n\n// Input: ?\n={recordType!CMGT_CFG_CaseTypeMetadata}\n\n// Output: ?\nappian:record-relationship:v1:82aa3b28-94c2-4d3c-a403-bb813bd76155/093d05e1-6021-4725-bd81-6f94a8a579d9\"]:rule!CMGT_WFL_CaseTypeWorkflowTasks_MergeMilestonesToTasks(\n  caseType: pv!caseType\n)"
    },
    "_a-0000ed89-fd25-8000-9d52-011c48011c48_3948265": {
      "name": "CMGT_WFL_MTR_CreateCaseTypeReassignCaseAutomationRule",
      "type": "Expression Rule",
      "sail_code": "now()"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_576741": {
      "name": "CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch",
      "type": "Expression Rule",
      "sail_code": "if(\n  cons!CMGT_BOL_AUTOMATION_TESTING_LABEL_SWITCH,\n  ri!testingLabel,\n  ri!shipmentLabel\n)"
    },
    "_a-0000eb60-4595-8000-9c6e-011c48011c48_1760324": {
      "name": "CMGT_WFL_CaseTypeWorkflowTask_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!metric: #\"SYSTEM_SYSRULES_forEach\"(\n    items: rule!CMGT_UTIL_Filter(\n      records: rule!CMGT_UTIL_RejectBlank(a!flatten(ri!caseTypeWorkflowTasks)),\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskIntentionCode,\n      value: cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_TRIGGER\n    ),\n    expression: rule!CMGT_WFL_MTR_CreateAutomationRuleWrapper(\n      actionCode: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction.actionCode]\n    )\n  ),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!caseTypeWorkflowTasks,\n    expression: rule!CMGT_UTIL_SetRecordFields(\n      record: fv!item,\n      /*Always set these fields with each update*/\n      alwaysOverwrite: {\n        a!map(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder,\n          value: /*only make it the index in the list if it is workflow edit*/\n          if(\n            fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskIntentionCode] = cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_TRIGGER,\n            fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder],\n            fv!index\n          )\n        ),\n        a!map(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.modifiedOn,\n          value: now()\n        ),\n        a!map(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.modifedBy,\n          value: ri!initiator\n        )\n      },\n      /*Only modify these fields if they are currently null*/\n      neverOverwrite: {\n        a!map(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.createdBy,\n          value: ri!initiator\n        ),\n        a!map(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.createdOn,\n          value: now()\n        ),\n        a!map(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n          value: rule!CMGT_UTIL_GenerateUuid_NonPlugin()\n        ),\n        a!map(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive,\n          value: true\n        ),\n        a!map(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isDeleted,\n          value: false\n        ),\n        a!map(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskIntentionCode,\n          value: cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_WORKFLOW\n        )\n      },\n      childRelationships: {\n        a!map(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches,\n          value: rule!CMGT_WFL_CaseTypeWorkflowTaskBranch_SetMetaData(\n            caseTypeWorkflowTaskBranch: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches],\n            initiator: ri!initiator\n          )\n        ),\n        a!map(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet,\n          value: rule!CMGT_WFL_ConditionSet_SetMetaData(\n            conditionSets: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet],\n            initiator: ri!initiator\n          )\n        ),\n        a!map(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskResponseOptions,\n          value: rule!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption_SetMetaData(\n            taskResponseOptions: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskResponseOptions]\n          )\n        ),\n        a!map(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.createCaseCaseTypeWorkflowTask,\n          value: rule!CMGT_WFL_CreateCaseCaseTypeWorkflowTask_SetMetaData(\n            createCaseCaseTypeWorkflowTasks: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.createCaseCaseTypeWorkflowTask],\n            initiator: ri!initiator\n          ),\n          applyWhen: a!isNotNullOrEmpty(\n            fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.createCaseCaseTypeWorkflowTask]\n          )\n        ),\n        a!map(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTask,\n          value: rule!CMGT_WFL_SendEmailCaseTypeWorkflowTask_SetMetaData(\n            sendEmailCaseTypeWorkflowTasks: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTask],\n            initiator: ri!initiator\n          ),\n          applyWhen: a!isNotNullOrEmpty(\n            fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTask]\n          )\n        ),\n        a!map(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction,\n          value: rule!CMGT_WFL_TaskAction_SetMetaData(\n            taskAction: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction],\n            initiator: ri!initiator\n          )\n        ),\n        \n      }\n    )\n  )\n)"
    },
    "_a-0000eb8e-69e6-8000-9c8c-011c48011c48_1961988": {
      "name": "CMGT_WFL_CaseType_ConfigureTask",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!isAutomated: or(\n    ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.isAutomated]\n  ),\n  local!taskBehaviorTypeId: ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorTypeId],\n  /*For the selected task in the middle pane*/\n  local!afterTaskBranchMapIndices: rule!CMGT_UTIL_Filter(\n    records: ri!caseTypeWorkflowTaskBranchMaps,\n    fieldValuePairs: {\n      a!map(\n        field: \"taskUUID\",\n        value: ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n      ),\n      a!map(field: \"isActive\", value: { true, null })\n    },\n    filterType: \"MATCH_INDICES\"\n  ),\n  local!isStartTask: ri!selectedCaseTypeWorkflowTaskUuid = ri!startTaskUUID,\n  local!previousTasks: rule!CMGT_WFL_CaseTypeWorkflowTasks_FindPreviousTasksInTree(\n    caseType: ri!caseType,\n    taskUuId: ri!selectedCaseTypeWorkflowTaskUuid,\n    caseTypeWorkflowTaskBranches: a!flatten(\n      ri!caseTypeWorkflowTaskBranchMaps.afterCaseTypeWorkflowTaskBranches\n    )\n  ),\n  /*We do not want users to be able to select tasks that have required precedents from other tasks */\n  local!invalidStartTaskUUIDs: if(\n    local!isStartTask,\n    symmetricdifference(\n      touniformstring(\n        index(\n          rule!CMGT_UTIL_Filter(\n            records: a!flatten(\n              ri!caseTypeWorkflowTaskBranchMaps.afterCaseTypeWorkflowTaskBranches\n            ),\n            fieldValuePairs: {\n              a!map(\n                field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isRequired,\n                value: true\n              ),\n              a!map(\n                field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive,\n                value: true\n              )\n            }\n          ),\n          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid,\n          null\n        )\n      ),\n      touniformstring(\n        index(\n          rule!CMGT_UTIL_Filter(\n            records: a!flatten(\n              ri!caseTypeWorkflowTaskBranchMaps.afterCaseTypeWorkflowTaskBranches\n            ),\n            fieldValuePairs: {\n              a!map(\n                field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n                value: ri!startTaskUUID\n              ),\n              a!map(\n                field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive,\n                value: true\n              )\n            }\n          ),\n          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid,\n          null\n        )\n      )\n    ),\n    {}\n  ),\n  local!availableTasks: rule!CMGT_UTIL_Filter(\n    records: ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask][ri!visibleCaseTypeWorkflowTaskIndices],\n    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n    value: {\n      ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n      ri!startTaskUUID,\n      local!invalidStartTaskUUIDs\n    },\n    filterType: \"REJECT\"\n  ),\n  if(\n    rule!CMGT_UTIL_IsBlank(ri!selectedCaseTypeWorkflowTask),\n    /*Empty state section*/\n    #\"SYSTEM_SYSRULES_cardLayout\"(\n      contents: #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n        label: \"\",\n        contents: {\n          #\"SYSTEM_SYSRULES_stampField\"(\n            labelPosition: \"COLLAPSED\",\n            icon: \"clipboard-list\",\n            backgroundColor: ri!brandingMap.LoudStampBackgroundColor,\n            contentColor: ri!brandingMap.LoudStampContentColor,\n            align: \"CENTER\",\n            marginBelow: \"MORE\"\n          ),\n          #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            labelPosition: \"COLLAPSED\",\n            value: {\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: #\"urn:appian:translation-string:v1:4e053a38-c5e1-4dd7-ab68-9b1c4cd07e99\",\n                size: \"MEDIUM\",\n                style: \"STRONG\"\n              )\n            },\n            align: \"CENTER\",\n            marginBelow: \"STANDARD\"\n          ),\n          #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            labelPosition: \"COLLAPSED\",\n            value: {\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: #\"urn:appian:translation-string:v1:ba66b186-4b04-4d14-bac8-1deff94dfec7\",\n                color: ri!brandingMap.SecondaryTextColor,\n                size: \"STANDARD\"\n              )\n            },\n            align: \"CENTER\",\n            marginBelow: \"MORE\"\n          )\n        },\n        marginAbove: \"MORE\",\n        marginBelow: \"MORE\"\n      ),\n      shape: \"SEMI_ROUNDED\",\n      padding: \"LESS\",\n      marginAbove: \"STANDARD\",\n      marginBelow: \"NONE\",\n      showBorder: false\n    ),\n    /*Configure task details section*/\n    if(\n      local!taskBehaviorTypeId = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n      rule!CMGT_WFL_CaseType_ConfigureTask_Automation(\n        selectedCaseTypeWorkflowTask: ri!selectedCaseTypeWorkflowTask,\n        caseType: ri!caseType,\n        selectedCaseTypeWorkflowTaskUuid: ri!selectedCaseTypeWorkflowTaskUuid,\n        currentWorkflowStep: ri!currentWorkflowStep,\n        brandingMap: ri!brandingMap,\n        taskBehaviorTypeId: local!taskBehaviorTypeId,\n        afterTaskBranchMapIndices: local!afterTaskBranchMapIndices,\n        visibleCaseTypeWorkflowTaskIndices: ri!visibleCaseTypeWorkflowTaskIndices,\n        availableTasks: local!availableTasks,\n        previousTasks: local!previousTasks,\n        uniqueAfterTaskUuidsInViolation: ri!uniqueAfterTaskUuidsInViolation,\n        conditionSets: ri!conditionSets,\n        fieldDetails: ri!fieldDetails,\n        selectedChildConditionSetUuid: ri!selectedChildConditionSetUuid,\n        caseTypeWorkflowTaskBranchMaps: ri!caseTypeWorkflowTaskBranchMaps,\n        isPreview: ri!isPreview,\n        emailTemplates: ri!emailTemplates,\n        automationTypesData:ri!automationTypesData\n      ),\n      #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n        labelSize: \"EXTRA_SMALL\",\n        labelColor: \"SECONDARY\",\n        contents: rule!CMGT_WFL_CaseType_ConfigureTask_Task(\n          isStartTask: local!isStartTask,\n          selectedCaseTypeWorkflowTask: ri!selectedCaseTypeWorkflowTask,\n          caseType: ri!caseType,\n          selectedCaseTypeWorkflowTaskUuid: ri!selectedCaseTypeWorkflowTaskUuid,\n          activeMilestones: ri!activeMilestones,\n          currentWorkflowStep: ri!currentWorkflowStep,\n          workingCaseType: ri!workingCaseType,\n          isAutomated: local!isAutomated,\n          brandingMap: ri!brandingMap,\n          taskBehaviorTypeId: local!taskBehaviorTypeId,\n          afterTaskBranchMapIndices: local!afterTaskBranchMapIndices,\n          visibleCaseTypeWorkflowTaskIndices: ri!visibleCaseTypeWorkflowTaskIndices,\n          availableTasks: local!availableTasks,\n          previousTasks: local!previousTasks,\n          taskResponseOptions: ri!taskResponseOptions,\n          uniqueAfterTaskUuidsInViolation: ri!uniqueAfterTaskUuidsInViolation,\n          caseTypeWorkflowTaskBranchMaps: ri!caseTypeWorkflowTaskBranchMaps,\n          isPreview: ri!isPreview,\n          emailTemplates: ri!emailTemplates,\n          fieldDetails: ri!fieldDetails,\n          trackAutomationRuleChanges: ri!trackAutomationRuleChanges\n        ),\n        marginAbove: \"NONE\"\n      )\n    )\n  )\n)"
    },
    "_a-0000ed49-63d5-8000-9d3e-011c48011c48_3604539": {
      "name": "CMGT_WFL_DisplayInfoBanner_EmailTemplate",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!isCollapsed: true(),\n  local!showWhenForTasks: and(\n    rule!CMGT_UTIL_IsNotBlank(input: ri!referenceTaskNames),\n    local!isCollapsed = false()\n  ),\n  local!showWhenForTaskBlocks: and(\n    rule!CMGT_UTIL_IsNotBlank(input: ri!taskBlockNames),\n    local!isCollapsed = false()\n  ),\n  local!showWhenForCaseTypeWorkflows: and(\n    rule!CMGT_UTIL_IsNotBlank(input: ri!caseTypeWorkFlowNames),\n    local!isCollapsed = false()\n  ),\n  #\"SYSTEM_SYSRULES_cardLayout\"(\n    contents: {\n      #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n        items: {\n          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n            item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              value: {\n                #\"SYSTEM_SYSRULES_richTextIcon\"(\n                  icon: \"info-circle\",\n                  color: ri!brandingMap.InfoAccentColor\n                ),\n                \" \",\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(text: ri!primaryMessage)\n              }\n            )\n          ),\n          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n            item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              value: #\"SYSTEM_SYSRULES_richTextIcon\"(\n                icon: if(\n                  local!isCollapsed,\n                  \"angle-down-bold\",\n                  \"angle-up-bold\"\n                ),\n                link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                  saveInto: a!save(\n                    local!isCollapsed,\n                    not(local!isCollapsed)\n                  )\n                ),\n                linkStyle: \"STANDALONE\",\n                color: ri!brandingMap.StandardTextColor,\n                size: \"MEDIUM\"\n              ),\n              align: \"RIGHT\"\n            )\n          )\n        },\n        marginBelow: \"NONE\"\n      ),\n      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: if(\n              length(ri!referenceTaskNames) = 1,\n              #\"urn:appian:translation-string:v1:0fd1b5e8-27d7-435b-af55-17db70deff8c\",\n              #\"urn:appian:translation-string:v1:b3937399-62c6-489c-9594-fc51cb8074f0\"\n            ),\n            style: \"STRONG\"\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: concat(\n              \" \",\n              joinarray({ ri!referenceTaskNames }, \", \")\n            )\n          )\n        },\n        showWhen: local!showWhenForTasks,\n        marginBelow: if(\n          or(\n            local!showWhenForCaseTypeWorkflows,\n            local!showWhenForTaskBlocks\n          ),\n          \"NONE\",\n          \"EVEN_LESS\"\n        ),\n        marginAbove: \"NONE\"\n      ),\n      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: if(\n              length(ri!taskBlockNames) = 1,\n              #\"urn:appian:translation-string:v1:179fc44d-752c-4185-8e1f-775a538abd8d\",\n              #\"urn:appian:translation-string:v1:34b0c22a-1b36-4741-98ff-fffca01ee0e3\"\n            ),\n            style: \"STRONG\"\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: concat(\n              \" \",\n              joinarray({ ri!taskBlockNames }, \", \")\n            )\n          )\n        },\n        showWhen: local!showWhenForTaskBlocks,\n        marginBelow: if(\n          local!showWhenForCaseTypeWorkflows,\n          \"NONE\",\n          \"EVEN_LESS\"\n        )\n      ),\n      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: if(\n              length(ri!caseTypeWorkFlowNames) = 1,\n              #\"urn:appian:translation-string:v1:b8af0998-cbb6-4bc1-bfde-d4c65953ab10\",\n              #\"urn:appian:translation-string:v1:c9e8165d-aed0-40d7-a023-d0903986c59c\"\n            ),\n            style: \"STRONG\"\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: concat(\n              \" \",\n              joinarray({ ri!caseTypeWorkFlowNames }, \", \")\n            )\n          )\n        },\n        showWhen: local!showWhenForCaseTypeWorkflows,\n        marginBelow: \"EVEN_LESS\"\n      )\n    },\n    showWhen: and(\n      ri!showWhen,\n      any(\n        rule!CMGT_UTIL_IsNotBlank,\n        {\n          ri!caseTypeWorkFlowNames,\n          ri!referenceTaskNames,\n          ri!taskBlockNames\n        }\n      )\n    ),\n    style: ri!brandingMap.InfoBackgroundColor,\n    marginBelow: \"STANDARD\",\n    marginAbove: \"NONE\",\n    showBorder: false(),\n    decorativeBarPosition: \"START\"\n  )\n)"
    },
    "0002ed4a-bade-8000-1ea3-7f0000014e7a": {
      "name": "CMGT_WFL_EmailTemplate_CreateUpdate",
      "type": "Process Model",
      "sail_code": "// Input: ?\n= pv!documentsToDelete[tp!instanceindex]\n\n// Input: ?\n=pv!emailTemplates\n\n// Input: ?\n=recordType!CMGT_WFL_CFG_EmailTemplate\n\n// Output: ?\nAC!RecordsUpdated\n\n// Output: ?\nrule!CMGT_WFL_EmailTemplate_SetMetaData(\n  initiator: pp!initiator,\n  emailTemplates: pv!emailTemplates\n)\n\n// Output: ?\na!match(\n  value: pv!documentsToDelete,\n  whenTrue: rule!CMGT_UTIL_IsNotBlank(input: fv!value),\n  then: pv!documentsToDelete,\n  whenTrue: rule!CMGT_UTIL_IsNotBlank(\n    input: a!flatten(\n      pv!emailTemplates[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateAttachments]\n    )\n  ),\n  then: rule!CMGT_UTIL_Filter(\n    records: a!flatten(\n      pv!emailTemplates[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateAttachments]\n    ),\n    field: recordType!CMGT_WFL_CFG_EmailTemplateAttachments.isActive,\n    value: false\n  )[recordType!CMGT_WFL_CFG_EmailTemplateAttachments.appianDocumentId],\n  default: null()\n)"
    },
    "_a-0000edde-da74-8000-9d79-011c48011c48_4221190": {
      "name": "CMGT_WFL_MTR_UserCreatesWorkflow",
      "type": "Expression Rule",
      "sail_code": "now()"
    },
    "_a-0000ecb5-acf8-8000-9cf6-011c48011c48_3214701": {
      "name": "CMGT_WFL_GroupCaseTypeWorkflowTaskBranches_Automations",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!distinctBeforeTaskUUID: rule!CMGT_UTIL_Distinct(\n    ri!caseTypeWorkflowTaskBranch[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid]\n  ),\n  cast(\n    #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n      'type!{http://www.appian.com/ae/types/2009}Map'\n    ),\n    rule!CMGT_UTIL_RejectBlank(\n      a!flatten(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: local!distinctBeforeTaskUUID,\n          expression: a!localVariables(\n            local!thisUUID: fv!item,\n            local!thisTaskBranches: rule!CMGT_UTIL_Filter(\n              records: ri!caseTypeWorkflowTaskBranch,\n              fieldValuePairs: {\n                a!map(\n                  field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n                  value: local!thisUUID\n                ),\n                \n              }\n            ),\n            {\n              a!match(\n                value: tostring(\n                  rule!CMGT_UTIL_Filter(\n                    records: ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n                    value: local!thisUUID\n                  )[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction.actionCode]\n                ),\n                equals: cons!CMGT_CFG_TXT_ACT_WORKFLOW_ROUTING,\n                /* Grouping the branches with same Condition Set Uuids */\n                then: #\"SYSTEM_SYSRULES_forEach\"(\n                  items: rule!CMGT_UTIL_Distinct(\n                    local!thisTaskBranches[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.conditionSetUuid]\n                  ),\n                  expression: rule!CMGT_WFL_ConstructCaseTypeWorkflowTaskBranchMap(\n                    taskUUID: local!thisUUID,\n                    conditionSetUUID: fv!item,\n                    afterCaseTypeWorkflowTaskBranches: rule!CMGT_UTIL_Filter(\n                      records: local!thisTaskBranches,\n                      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.conditionSetUuid,\n                      value: fv!item,\n                      \n                    ),\n                    isRequired: true,\n                    isActive: true,\n                    isRequirednessValid: true\n                  )\n                ),\n                equals: cons!CMGT_CFG_TXT_ACT_SEND_EMAIL,\n                /*   Grouping all the branches as the send email dependents are always required and valid      */\n                then: rule!CMGT_WFL_ConstructCaseTypeWorkflowTaskBranchMap(\n                  taskUUID: local!thisUUID,\n                  afterCaseTypeWorkflowTaskBranches: local!thisTaskBranches,\n                  isRequired: true,\n                  isActive: true,\n                  isRequirednessValid: true\n                ),\n                default: {}\n              )\n            }\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000eca3-381d-8000-9cf0-011c48011c48_3141754": {
      "name": "CMGT_WFL_ConstructCaseTypeWorkflowTaskBranchMap",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  taskUUID: ri!taskUUID,\n  taskResponseOptionUUID: ri!taskResponseOptionUUID,\n  isRequired: ri!isRequired,\n  isRequirednessValid: a!defaultValue(\n    value: ri!isRequirednessValid,\n    default: true\n  ),\n  conditionSetUUID: ri!conditionSetUUID,\n  afterCaseTypeWorkflowTaskBranches: ri!afterCaseTypeWorkflowTaskBranches,\n  isActive: ri!isActive\n)"
    },
    "_a-0000edf8-ac88-8000-9d80-011c48011c48_4290472": {
      "name": "CMGT_Document_IconLogic",
      "type": "Expression Rule",
      "sail_code": "a!match(\n  value: lower(\n   ri!documentExtension\n  ),\n  equals: \"doc\",\n  equals: \"docx\",\n  then: \"file-word-o\",\n  equals: \"txt\",\n  then: \"file-text-o\",\n  equals: \"png\",\n  equals: \"jpg\",\n  then: \"file-image-o\",\n  equals: \"mov\",\n  equals: \"mp4\",\n  then: \"file-movie-o\",\n  equals: \"xls\",\n  equals: \"xlsx\",\n  equals: \"xlsm\",\n  then: \"file-excel-o\",\n  equals: \"pptx\",\n  then: \"file-powerpoint-o\",\n  equals: \"pdf\",\n  then: \"file-pdf-o\",\n  equals: \"zip\",\n  then: \"file-archive-o\",\n  default: \"file-o\"\n),"
    },
    "_a-0000ed40-282d-8000-9d33-011c48011c48_3578774": {
      "name": "CMGT_WFL_CFG_CaseAssignment_QR_getAssignmentRule",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_CFG_AssignmentRules,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  sort: ri!sortInfo,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field:  recordType!CMGT_CFG_AssignmentRules.isActive,\n      operator: \"=\",\n      value: ri!isActive,\n      applyWhen: a!isNotNullOrEmpty(ri!isActive)\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field:  recordType!CMGT_CFG_AssignmentRules.assignmentRuleId,\n      operator: \"in\",\n      value: ri!assignmentRuleId,\n      applyWhen: a!isNotNullOrEmpty(ri!assignmentRuleId)\n    ),\n  },\n  fields: {\n    ri!fields,\n    if(\n      ri!returnAllRelatedRecords,\n      {\n        recordType!CMGT_CFG_AssignmentRules.usersToExclude\n      },\n      {}\n    )\n  },\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  groupByFields: ri!groupByFields,\n  logicalExpressions: ri!additionalLogicalExpressions\n)"
    },
    "_a-0000eb57-0ad2-8000-9c6b-011c48011c48_1721000": {
      "name": "CMGT_NCF_setAverageHorizontalOrderOfPrecedents",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!precedentEdges: a!refreshVariable(\n    value: rule!CMGT_UTIL_Filter(\n      records: ri!allEdges,\n      field: \"to\",\n      value: ri!currentNode.id\n    ),\n    refreshAlways: true\n  ),\n  local!precedentNodes: a!refreshVariable(\n    value: rule!CMGT_UTIL_Filter(\n      records: ri!orderedNodes,\n      field: \"id\",\n      value: local!precedentEdges.from\n    ),\n    refreshAlways: true\n  ),\n  /*setting this as a percent 1-100*/\n  /*if there are no parents the score is 50*/\n  local!averageParentHorizontalOrder: a!refreshVariable(\n    value: if(\n      a!isNullOrEmpty(local!precedentNodes),\n      50.0,\n      average(local!precedentNodes.horizontalOrder)\n    ),\n    refreshAlways: true\n  ),\n  #\"urn:appian:function:v1:a:update\"(\n    data: ri!currentNode,\n    index: \"horizontalOrder\",\n    value: local!averageParentHorizontalOrder\n  )\n)"
    },
    "_a-0000ecb5-acf8-8000-9cf6-011c48011c48_3212771": {
      "name": "CMGT_WFL_Automation_returnImageURL",
      "type": "Expression Rule",
      "sail_code": "/*By default all automation type tasks should use the OOB images. \nAny additional or task behavior type specific images should be added here*/\na!match(\n  value: ri!taskBehaviorType[recordType!CMGT_CFG_TaskBehaviorType.taskBehaviorTypeId],\n  equals: cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n  then: a!match(\n    value: ri!taskAction[recordType!CMGT_WFL_CFG_TaskActions.actionCode],\n    equals: cons!CMGT_CFG_TXT_ACT_WORKFLOW_ROUTING,\n    then: if(\n      ri!isSelected,\n      document(\n        cons!CMGT_WFL_DOC_IMAGE_AUTOMATION_WORKFLOW_ROUTING_SELECTED,\n        \"url\"\n      ),\n      document(\n        cons!CMGT_WFL_DOC_IMAGE_AUTOMATION_WORKFLOW_ROUTING_UNSELECTED,\n        \"url\"\n      )\n    ),\n    equals: cons!CMGT_CFG_TXT_ACT_SEND_EMAIL,\n    then: if(\n      ri!isSelected,\n      document(\n        cons!CMGT_WFL_DOC_IMAGE_AUTOMATION_SEND_EMAIL_SELECTED,\n        \"url\"\n      ),\n      document(\n        cons!CMGT_WFL_DOC_IMAGE_AUTOMATION_SEND_EMAIL_UNSELECTED,\n        \"url\"\n      )\n    ),\n    /*Add additional automation type specific images here*/\n    default: if(\n      ri!isSelected,\n      document(\n        cons!CMGT_WFL_DOC_IMAGE_AUTOMATION_WORKFLOW_ROUTING_SELECTED,\n        \"url\"\n      ),\n      document(\n        cons!CMGT_WFL_DOC_IMAGE_AUTOMATION_WORKFLOW_ROUTING_UNSELECTED,\n        \"url\"\n      )\n    )\n  ),\n  /*Add additional task behaviour type specific images here*/\n  default: null\n)"
    },
    "_a-0000e9f4-1323-8000-9bd3-011c48011c48_267840": {
      "name": "CMGT_UTIL_LoadBrandingMap",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!branding: getbrandingconfig(\n    cons!CMGT_DOC_DEFAULT_BRANDING_CONFIG,\n    true\n  ),\n  local!output: reduce(\n    #\"urn:appian:function:v1:a:update\"(_, _, _),\n    a!map(),\n    merge(\n      {\n        local!branding.defaultBranding.key,\n        local!branding.customBranding.key\n      },\n      {\n        local!branding.defaultBranding.value,\n        local!branding.customBranding.value\n      }\n    )\n  ),\n  local!output\n)"
    },
    "_a-0000ed08-c8b4-8000-9d25-011c48011c48_3458254": {
      "name": "CMGT_Automation_Condition_HideValueField",
      "type": "Expression Rule",
      "sail_code": "contains(\n  {\n    cons!CMGT_TXT_AUTOMATION_OPERATOR_BEFORE_TODAY,\n    cons!CMGT_TXT_AUTOMATION_OPERATOR_ON_OR_BEFORE_TODAY,\n    cons!CMGT_TXT_AUTOMATION_OPERATOR_AFTER_TODAY,\n    cons!CMGT_TXT_AUTOMATION_OPERATOR_ON_OR_AFTER_TODAY,\n    cons!CMGT_TXT_AUTOMATION_OPERATOR_IS_NULL,\n    cons!CMGT_TXT_AUTOMATION_OPERATOR_IS_NOT_NULL,\n    cons!CMGT_TXT_AUTOMATION_OPERATOR_BEFORE_NOW,\n    cons!CMGT_TXT_AUTOMATION_OPERATOR_AFTER_NOW,\n    cons!CMGT_TXT_AUTOMATION_OPERATOR_IS_TRUE,\n    cons!CMGT_TXT_AUTOMATION_OPERATOR_IS_FALSE\n  },\n  ri!operator\n)"
    },
    "_a-0000ed49-63d5-8000-9d3e-011c48011c48_3612963": {
      "name": "CMGT_WFL_SUB_CreateEmailTemplate",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!emailTemplate: cast(\n    recordType!CMGT_WFL_CFG_EmailTemplate,\n    null()\n  ),\n  #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n    labelColor: \"STANDARD\",\n    labelSize: \"LARGE\",\n    contents: {\n      #\"SYSTEM_SYSRULES_cardLayout\"(\n        contents: {\n          #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n            items: {\n              #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                item: #\"SYSTEM_SYSRULES_stampField\"(\n                  icon: \"envelope-open-text\",\n                  contentColor: ri!brandingMap.StandardStampContentColor,\n                  backgroundColor: ri!brandingMap.StandardStampBackgroundColor,\n                  size: \"TINY\",\n                  shape: ri!brandingMap.StandardStampShape\n                ),\n                width: \"MINIMIZE\"\n              ),\n              #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                item: #\"SYSTEM_SYSRULES_headingField\"(\n                  text: #\"urn:appian:translation-string:v1:46b8e7eb-9250-4bc1-87ba-785b0eb505a2\",\n                  headingTag: \"H1\",\n                  fontWeight: \"SEMI_BOLD\",\n                  size: ri!brandingMap.H1Size,\n                  marginAbove: \"STANDARD\"\n                )\n              )\n            },\n            alignVertical: \"MIDDLE\",\n            spacing: \"STANDARD\",\n            marginAbove: \"NONE\",\n            marginBelow: \"NONE\"\n          ),\n          #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: #\"urn:appian:translation-string:v1:4e55001e-fef0-492e-9eee-42b9010b7b6d\",\n              color: ri!brandingMap.secondaryTextColor,\n              size: \"SMALL\"\n            )\n          )\n        },\n        showBorder: false(),\n        padding: \"NONE\",\n        marginBelow: \"STANDARD\"\n      ),\n      #\"SYSTEM_SYSRULES_horizontalLine\"(),\n      rule!CMGT_WFL_EmailTemplate_Details(emailTemplate: local!emailTemplate),\n      #\"SYSTEM_SYSRULES_richTextDisplayField\"(),\n      #\"SYSTEM_SYSRULES_horizontalLine\"(),\n      #\"SYSTEM_SYSRULES_ButtonLayout\"(\n        primaryButtons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          label: #\"urn:appian:translation-string:v1:8109f456-b575-47d2-8f0f-097db1743e6b\",\n          /* Setting uuids for the new generated templates */\n          value: #\"urn:appian:function:v1:a:update\"(\n            local!emailTemplate,\n            recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid,\n            rule!CMGT_UTIL_GenerateUuid_NonPlugin()\n          ),\n          saveInto: {\n            a!save(\n              ri!emailTemplates,\n              rule!CMGT_UTIL_RejectBlank(\n                array: append(ri!emailTemplates, save!value)\n              )\n            ),\n            ri!submitSaveInto,\n            a!save(\n              local!emailTemplate,\n              cast(\n                recordType!CMGT_WFL_CFG_EmailTemplate,\n                null()\n              )\n            )\n          },\n          style: \"SOLID\",\n          validate: true\n        ),\n        secondaryButtons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          label: #\"urn:appian:translation-string:v1:edd4df67-d878-46d6-ab67-732a3700a588\",\n          saveInto: {\n            a!save(\n              ri!documentsToDelete,\n              append(\n                ri!documentsToDelete,\n                local!emailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateAttachments.appianDocumentId]\n              )\n            ),\n            ri!cancelSaveInto,\n            a!save(\n              local!emailTemplate,\n              cast(\n                recordType!CMGT_WFL_CFG_EmailTemplate,\n                null()\n              )\n            )\n          },\n          style: \"OUTLINE\",\n          validate: false\n        )\n      )\n    }\n  )\n)"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_568343": {
      "name": "CMGT_WFL_TaskResponseOption_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!taskResponseOptions,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_TaskResponseOption.sortOrder,\n        value: fv!index\n      )\n    },\n    /*Only modify these fields if they are currently null*/\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_TaskResponseOption.isActive,\n        value: true\n      )\n    }\n  )\n)"
    },
    "_a-0000e9d3-70bf-8000-9bbd-011c48011c48_180598": {
      "name": "CMGT_UTIL_returnSingleTypeObject",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!typeOf: if(\n    isnull(ri!type),\n    ri!typeOf,\n    cast(\n      ri!type,\n      {}\n    )\n  ),\n\n  index(\n    cast(\n      typeof({local!typeOf}), \n      updatearray({local!typeOf}, 1, {})\n    ), \n    1,\n    {}\n  )\n)"
    },
    "_a-0000ed6c-5326-8000-9d46-011c48011c48_3743692": {
      "name": "CMGT_ENUM_Automation_ootbCaseRecordFieldsToReject",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*If Context is passed then these are the default fields to reject  */\n  local!defaultContextFieldsToReject: {\n    /*Created By User*/\"a5ede28b-dcb0-48e4-8a37-12ea5d27ee76\",\n    /*Created On*/\"4db722a4-2e1f-4d17-a168-0ae254a83407\",\n    /*Modified On */\"12a54b35-6aad-4cf0-b04a-700cc54a4917\",\n    \n  },\n  local!contextFieldsToReject: a!match(\n    value: ri!context,\n    /*If no context is passed, then it's assumed to be used when configuring a condition, which rejects Due On & Completed On    */\n    whenTrue: rule!CMGT_UTIL_IsBlank(ri!context),\n    then: {\n      /*Due On*/\"dd6a7d01-9f60-4e65-b322-da301c36bcbb\",\n      /*Completed On*/\"71e2da70-92e0-4ace-93b2-67247ad82b96\"\n    },\n    default: a!flatten(\n      {\n        local!defaultContextFieldsToReject,\n        a!match(\n          value: ri!context,\n          /*If the context is blank then should    */\n          whenTrue: rule!CMGT_UTIL_IsBlank(ri!context),\n          /*fields to hide within the fields dropdown of the case field is updated trigger*/\n          equals: cons!CMGT_TXT_AVAILABLE_FIELDS_FOR_CASE_FIELD_UPDATED_TRIGGER_CONTEXT,\n          then: { null },\n          /*fields to ignore when checking for updated fields within the CMGT_Case_UpdateProperty PM*/\n          equals: tostring(cons!CMGT_PM_UPDATE_CASE_PROPERTY),\n          then: {\n            /*Description*/\"1282844c-ffee-4473-a3b4-3e2c8f94cf0e\",\n            /*Case Assignee/Case Watcher*/\"7576a553-bb91-4848-962a-c7a23a9f3b2d\",\n            /*Group Assignee*/\"980ec52a-b916-409f-9cdf-1752ce399f6d\",\n            /*Title*/\"cc5741b7-43ad-438b-844e-8da8538c9cae\"\n          },\n          /*fields to ignore when checking for updated fields within the CMGT_Case_Update PM*/\n          equals: tostring(cons!CMGT_PM_UPDATE_CASE),\n          then: {\n            /*Case Assignee/Case Watcher*/\"7576a553-bb91-4848-962a-c7a23a9f3b2d\",\n            /*Group Assignee*/\"980ec52a-b916-409f-9cdf-1752ce399f6d\",\n            /*Due On*/\"dd6a7d01-9f60-4e65-b322-da301c36bcbb\",\n            /*Completed On*/\"71e2da70-92e0-4ace-93b2-67247ad82b96\",\n            /*Status*/\"43305b8c-b670-44fe-be8a-90fe7dd78436\",\n            /*Priority*/\"e50c4ea6-59fc-475d-bc19-998a2428555e\"\n          },\n          /*fields to ignore when checking for updated fields within the CMGT_Case_bulkUpdate PM*/\n          equals: tostring(cons!CMGT_PM_BULK_UPDATE_CASE),\n          then: {\n            /*Completed On*/\"71e2da70-92e0-4ace-93b2-67247ad82b96\",\n            /*Title*/\"cc5741b7-43ad-438b-844e-8da8538c9cae\",\n            /*Description*/\"1282844c-ffee-4473-a3b4-3e2c8f94cf0e\",\n            \n          },\n          equals: cons!CMGT_TXT_AVAILABLE_FIELDS_FOR_UPDATE_CASE_ASSIGNEE_FIELD_TRIGGER_CONTEXT,\n          then: {\n            /*Due On*/\"dd6a7d01-9f60-4e65-b322-da301c36bcbb\",\n            /*Completed On*/\"71e2da70-92e0-4ace-93b2-67247ad82b96\",\n            /*Title*/\"cc5741b7-43ad-438b-844e-8da8538c9cae\",\n            /*Status*/\"43305b8c-b670-44fe-be8a-90fe7dd78436\",\n            /*Priority*/\"e50c4ea6-59fc-475d-bc19-998a2428555e\",\n            /*Description*/\"1282844c-ffee-4473-a3b4-3e2c8f94cf0e\",\n            \n          },\n          equals: cons!CMGT_TXT_AVAILABLE_FIELDS_FOR_UPDATE_CASE_WATCHER_FIELD_TRIGGER_CONTEXT,\n          then: {\n            /*Due On*/\"dd6a7d01-9f60-4e65-b322-da301c36bcbb\",\n            /*Group Assignee*/\"980ec52a-b916-409f-9cdf-1752ce399f6d\",\n            /*Completed On*/\"71e2da70-92e0-4ace-93b2-67247ad82b96\",\n            /*Title*/\"cc5741b7-43ad-438b-844e-8da8538c9cae\",\n            /*Status*/\"43305b8c-b670-44fe-be8a-90fe7dd78436\",\n            /*Priority*/\"e50c4ea6-59fc-475d-bc19-998a2428555e\",\n            /*Description*/\"1282844c-ffee-4473-a3b4-3e2c8f94cf0e\",\n            \n          },\n          default: null\n        )\n      }\n    )\n  ),\n  rule!CMGT_UTIL_RejectBlank(\n    local!contextFieldsToReject\n  )\n)"
    },
    "_a-0000ed12-0330-8000-9d27-011c48011c48_3488894": {
      "name": "CMGT_WFL_ExcludedUsers_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*returns usernames of existing excluded users and newly selected excluded users*/\n  local!duplicateUsernames: if(\n    or(\n      rule!CMGT_UTIL_IsBlank(ri!originalExcludedUsers),\n      rule!CMGT_UTIL_IsBlank(ri!excludedUsers)\n    ),\n    {},\n    intersection(\n      ri!originalExcludedUsers[recordType!CMGT_CFG_AssignmentRule_UsersToExclude.username],\n      ri!excludedUsers[recordType!CMGT_CFG_AssignmentRule_UsersToExclude.username]\n    )\n  ),\n  /*returns usernames of excluded users that were deselected*/\n  local!deletedExcludedUsernames: a!match(\n    value: ri!excludedUsers,\n    whenTrue: rule!CMGT_UTIL_IsBlank(ri!originalExcludedUsers),\n    then: {},\n    whenTrue: rule!CMGT_UTIL_IsBlank(fv!value),\n    equals: {},\n    then: ri!originalExcludedUsers[recordType!CMGT_CFG_AssignmentRule_UsersToExclude.username],\n    default: difference(\n      ri!originalExcludedUsers[recordType!CMGT_CFG_AssignmentRule_UsersToExclude.username],\n      ri!excludedUsers[recordType!CMGT_CFG_AssignmentRule_UsersToExclude.username]\n    )\n  ),\n  /*returns the records that need to be updated as is_deleted = 1*/\n  local!deletedExcludedUserRecords: index(\n    ri!originalExcludedUsers,\n    wherecontains(\n      local!deletedExcludedUsernames,\n      index(ri!originalExcludedUsers,recordType!CMGT_CFG_AssignmentRule_UsersToExclude.username,{})\n    ),\n    null\n  ),\n  /*returns the records that need to be written to the excluded users table*/\n  local!uniqueExcludedUserRecords: rule!CMGT_UTIL_Filter(\n    records: ri!excludedUsers,\n    field: recordType!CMGT_CFG_AssignmentRule_UsersToExclude.username,\n    value: local!duplicateUsernames,\n    filterType: \"REJECT\"\n  ),\n  {\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!uniqueExcludedUserRecords,\n      expression: rule!CMGT_UTIL_SetRecordFields(\n        record: fv!item,\n        /*Always set these fields with each update*/\n        alwaysOverwrite: {\n          a!map(\n            field: recordType!CMGT_CFG_AssignmentRule_UsersToExclude.modifiedOn,\n            value: now()\n          ),\n          a!map(\n            field: recordType!CMGT_CFG_AssignmentRule_UsersToExclude.modifiedBy,\n            value: ri!initiator\n          )\n        },\n        /*Only modify these fields if they are currently null*/\n        neverOverwrite: {\n          a!map(\n            field: recordType!CMGT_CFG_AssignmentRule_UsersToExclude.createdBy,\n            value: ri!initiator\n          ),\n          a!map(\n            field: recordType!CMGT_CFG_AssignmentRule_UsersToExclude.createdOn,\n            value: now()\n          )\n        },\n        childRelationships: {}\n      )\n    ),\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!deletedExcludedUserRecords,\n      expression: rule!CMGT_UTIL_SetRecordFields(\n        record: fv!item,\n        /*Always set these fields with each update*/\n        alwaysOverwrite: {\n          a!map(\n            field: recordType!CMGT_CFG_AssignmentRule_UsersToExclude.isDeleted,\n            value: true\n          ),\n          a!map(\n            field: recordType!CMGT_CFG_AssignmentRule_UsersToExclude.modifiedOn,\n            value: now()\n          ),\n          a!map(\n            field: recordType!CMGT_CFG_AssignmentRule_UsersToExclude.modifiedBy,\n            value: ri!initiator\n          )\n        },\n        /*Only modify these fields if they are currently null*/\n        neverOverwrite: {},\n        childRelationships: {}\n      )\n    )\n  }\n)"
    },
    "8af695e2-f3e1-4fe7-9755-ff66a47ce843": {
      "name": "CMGT_UTIL_MergeMaps",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!value1_keyed: if(\n    isnull(ri!key),\n    ri!map1,\n    index(ri!map1, ri!key, null)\n  ),\n  local!value2_keyed: if(\n    isnull(ri!key),\n    ri!map2,\n    index(ri!map2, ri!key, null)\n  ),\n  local!newValue: if(\n    and(\n      runtimetypeof(local!value1_keyed) = 'type!{http://www.appian.com/ae/types/2009}Map',\n      runtimetypeof(local!value2_keyed) = 'type!{http://www.appian.com/ae/types/2009}Map'\n    ),\n    reduce(\n      rule!CMGT_UTIL_MergeMaps(\n        previous: _,\n        key: _,\n        map1: local!value1_keyed,\n        map2: local!value2_keyed\n      ),\n      a!map(),\n      union(\n        a!keys(local!value1_keyed),\n        a!keys(local!value2_keyed)\n      )\n    ),\n    a!defaultValue(local!value2_keyed, local!value1_keyed)\n  ),\n  if(\n    isnull(ri!key),\n    local!newValue,\n    #\"urn:appian:function:v1:a:update\"(ri!previous, ri!key, local!newValue)\n  )\n)"
    },
    "_a-0000edbd-1f9f-8000-9d6d-011c48011c48_4084639": {
      "name": "CMGT_CFG_CaseTypeMetadata_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!caseTypeMetaData,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_CFG_CaseTypeMetadata.modifiedBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_CFG_CaseTypeMetadata.modifiedOn,\n        value: now()\n      )\n    },\n    /*Only modify these fields if they are currently null*/\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_CFG_CaseTypeMetadata.caseTypeUuid,\n        value: fv!item[recordType!CMGT_CFG_CaseTypeMetadata.caseType.uuid]\n      ),\n      a!map(\n        field: recordType!CMGT_CFG_CaseTypeMetadata.prefix,\n        value: rule!CMGT_setPrefixDefault(\n          caseType: ri!caseType\n        )\n      ),\n      a!map(\n        field: recordType!CMGT_CFG_CaseTypeMetadata.priorityId,\n        value: cons!CMGT_REFID_PRIORITY_NONE\n      ),\n      a!map(\n        field: recordType!CMGT_CFG_CaseTypeMetadata.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_CFG_CaseTypeMetadata.createdOn,\n        value: now()\n      )\n    },\n    /*Set metadata for all child relationships*/\n    childRelationships: {}\n  )\n)"
    },
    "_a-0000eaa7-a5c0-8000-9c22-011c48011c48_973190": {
      "name": "CMGT_UTIL_MergeWriteRecordIdsToProcessVariable",
      "type": "Expression Rule",
      "sail_code": "/*\nThe main rule to merge the ID-output of a WriteRecords SS node back to the input process variable.\n\nSTANDARD USAGE:\n- Use this in tandem with rule CMGT_UTIL_DropNonWritableRelationshipsFromRecord (see that description)\n- In the output of a WriteRecords SS, do:\n  A - New Custom Output\n  B - rule!CMGT_UTIL_MergeWriteRecordIdsToProcessVariable(\n        processData: pv![the pv your wrote],\n        recordsUpdated: ac!RecordsUpdated,\n        fksToParent: {list of record fields that are FKs to the primary PK you wrote}\n      )\n  C - Save this back to the pv you wrote\n\nMAPPING FKS:\n- Using this rule in the current state, child-FKs can only be set \nwhere they map back to the primary record type, using input \"fksToParent\".\n  -> For example, if you are writing \"Case\", \n    - you could set \"Case.Comment.caseId\"\n    - you could set \"Case.Comment.Replies.caseId\"\n    - but not \"Case.Comment.Replies.commentId\" (since the FK \"commentId\" is not the PK of \"Case\")\n- To set other foreign keys, you would have to run manual update rules using the result of this.\nNote:\n- \"fksToParent\" is optimized for 1:M relationships.\n  - Setting an fkToParent for a 1:1 will create an instance of that child record if it is null.\n\nIMPORTANT GENERAL NOTES: \n- The result of THIS rule will have data that IS considered changed, \nso a designer should be cautious about re-writing this later in process \nas it could cause race condition and performance side affects.\n\n- Also, the result of this WILL NOT have custom-fields calculated, \nsince they can be changed as a result of the write, but this rule is not re-querying.\nIf you need these, then re-query.\n\n- This should generally only be used for downstream flows that don't write it directly again, \nsuch as document processing, emails, etc.\n*/\nif(\n  or(\n    runtimetypeof(ri!recordsUpdated) = runtimetypeof(a!flatten(ri!recordsUpdated)),\n    runtimetypeof(ri!recordsUpdated) = 'type!{http://www.appian.com/ae/types/2009}Variant?list'\n  ),\n  if(\n    count(a!flatten(ri!recordsUpdated)) = 0,\n    ri!processData,\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: enumerate(count(a!flatten(ri!recordsUpdated))),\n      expression: rule!CMGT_UTIL_MergeWriteRecordIdsToProcessVariable(\n        processData: a!flatten(ri!processData)[fv!index],\n        recordsUpdated: cast(\n          runtimetypeof(a!flatten(ri!processData)),\n          ri!recordsUpdated\n        )[fv!index],\n        fksToParent: ri!fksToParent\n      )\n    )\n  ),\n  a!localVariables(\n    local!keys: #\"SYSTEM_SYSRULES_forEach\"(\n      items: a!keys(ri!recordsUpdated),\n      expression: a!map(\n        key: fv!item,\n        isPrimaryKey: runtimetypeof(fv!item) = 'type!{http://www.appian.com/ae/types/2009}RecordField'\n      )\n    ),\n    local!keysOrganized: rule!CMGT_UTIL_Filter(\n      records: local!keys,\n      field: \"isPrimaryKey\",\n      value: true,\n      filterType: \"FULL_RESULT\"\n    ),\n    local!primaryKeyField: local!keysOrganized.firstMatch.key,\n    local!updates: rule!CMGT_UTIL_SetRecordFields(\n      record: ri!processData,\n      neverOverwrite: {\n        a!map(\n          field: local!primaryKeyField,\n          value: ri!recordsUpdated[local!primaryKeyField]\n        ),\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!fksToParent,\n          expression: a!map(\n            field: fv!item,\n            value: ri!recordsUpdated[local!primaryKeyField],\n            /*Children get complicated, and an update should only run if a child is actually attached*/\n            applyWhen: a!match(\n              value: runtimetypeof(ri!processData[fv!item]),\n              equals: runtimetypeof(a!flatten(ri!processData[fv!item])),\n              then: count(ri!processData[fv!item]) > 0,\n              equals: tointeger(\n                'type!{http://www.appian.com/ae/types/2009}Variant?list'\n              ),\n              then: or(\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  items: ri!processData[fv!item],\n                  expression: a!isNotNullOrEmpty(fv!item)\n                )\n              ),\n              default: a!isNotNullOrEmpty(ri!processData[fv!item])\n            )\n          )\n        )\n      },\n      childRelationships: #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!keysOrganized.rejects,\n        expression: a!map(\n          field: fv!item.key,\n          value: if(\n            rule!CMGT_UTIL_IsBlank(ri!processData[fv!item.key]),\n            ri!recordsUpdated[fv!item.key],\n            rule!CMGT_UTIL_MergeWriteRecordIdsToProcessVariable(\n              processData: ri!processData[fv!item.key],\n              recordsUpdated: ri!recordsUpdated[fv!item.key],\n              fksToParent: {}\n            )\n          )\n        )\n      )\n    ),\n    /*reduce over updates to remove any relationships that were incorrectly created with just an fk*/\n    if(\n      a!isNullOrEmpty(ri!fksToParent),\n      local!updates,\n      reduce(\n        rule!CMGT_UTIL_RemoveRecordRelationshipsWithSingleKey_Reducer(record: _, key: _),\n        local!updates,\n        a!keys(local!updates)\n      )\n    )\n  )\n)"
    },
    "_a-0000eb60-4595-8000-9c6e-011c48011c48_1740526": {
      "name": "CMGT_WFL_CaseType_RecordAction_NonCategoryCreateEdit_SelectTaskBlocks",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!oldUuidToNewUuidMapping,\n  local!taskBlockTasksToAdd,\n  local!taskResponseOptionsNewUuidMapping,\n  #\"SYSTEM_SYSRULES_gridField_v3\"(\n    label: #\"urn:appian:translation-string:v1:3e2f06f2-a2e6-4fdd-8ef7-ce2083df1498\",\n    labelPosition: \"COLLAPSED\",\n    emptyGridMessage: #\"urn:appian:translation-string:v1:5859332c-43a4-40d9-b183-e7f549cc31cc\",\n    data: #\"SYSTEM_SYSRULES_recordData\"(\n      recordType: recordType!CMGT_WFL_CFG_TaskBlock,\n      filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n        operator: \"AND\",\n        filters: {\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_WFL_CFG_TaskBlock.isActive,\n            operator: \"=\",\n            value: true\n          )\n        },\n        ignoreFiltersWithEmptyValues: true\n      ),\n      fields: {\n        recordType!CMGT_WFL_CFG_TaskBlock.label,\n        recordType!CMGT_WFL_CFG_TaskBlock.description,\n        recordType!CMGT_WFL_CFG_TaskBlock.taskBlockId,\n        recordType!CMGT_WFL_CFG_TaskBlock.numOfActiveTaskBlockTasks\n      }\n    ),\n    columns: {\n      #\"SYSTEM_SYSRULES_gridColumn\"(\n        label: #\"urn:appian:translation-string:v1:0bae9b3f-5ddd-4c6a-a4cf-abe8702dac9e\",\n        sortField: recordType!CMGT_WFL_CFG_TaskBlock.label,\n        value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          value: {\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: fv!row[recordType!CMGT_WFL_CFG_TaskBlock.label],\n              color: ri!brandingMap.PrimaryTextColor,\n              style: \"STRONG\"\n            ),\n            char(10),\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: fv!row[recordType!CMGT_WFL_CFG_TaskBlock.description],\n              color: ri!brandingMap.SecondaryTextColor,\n              size: \"SMALL\"\n            )\n          }\n        ),\n        align: \"START\",\n        width: \"7X\"\n      ),\n      #\"SYSTEM_SYSRULES_gridColumn\"(\n        value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          value: {\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: fv!row[recordType!CMGT_WFL_CFG_TaskBlock.numOfActiveTaskBlockTasks],\n              color: ri!brandingMap.SecondaryTextColor,\n              size: \"SMALL\"\n            ),\n            \" \",\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: #\"urn:appian:translation-string:v1:6a03a109-bb8c-4486-b129-c2b0214b1c9f\",\n              color: ri!brandingMap.SecondaryTextColor,\n              size: \"SMALL\"\n            )\n          }\n        ),\n        align: \"END\",\n        width: \"2X\"\n      )\n    },\n    pageSize: 25,\n    initialSorts: #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_WFL_CFG_TaskBlock.modifiedOn,\n      ascending: false\n    ),\n    selectable: true,\n    selectionStyle: \"CHECKBOX\",\n    selectionValue: ri!selectedTaskBlockIds,\n    selectionSaveInto: {\n      ri!selectedTaskBlockIds,\n      a!save(\n        ri!taskBlockData,\n        append(ri!taskBlockData, fv!selectedRows)\n      ),\n      /*Add tasks and task branches from just selected task block*/\n      if(\n        rule!CMGT_UTIL_IsNotBlank(fv!selectedRows),\n        {\n          a!save(\n            local!taskBlockTasksToAdd,\n            rule!CMGT_WFL_QR_GetTaskBlockTask(\n              taskBlockId: fv!selectedRows[recordType!CMGT_WFL_CFG_TaskBlock.taskBlockId],\n              fields: {\n                recordType!CMGT_WFL_CFG_TaskBlockTask.createCaseTaskBlockTask,\n                recordType!CMGT_WFL_CFG_TaskBlockTask.sendEmailTaskBlockTask\n              },\n              sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n                field: recordType!CMGT_WFL_CFG_TaskBlockTask.sortOrder,\n                ascending: true\n              )\n            )\n          ),\n          a!save(\n            local!taskResponseOptionsNewUuidMapping,\n            rule!CMGT_UTIL_RejectBlank(\n              a!flatten(\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  items: local!taskBlockTasksToAdd,\n                  expression: a!localVariables(\n                    local!taskBlockTaskId: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskId],\n                    local!taskBlockTaskUUID: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskUuid],\n                    #\"SYSTEM_SYSRULES_forEach\"(\n                      items: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskResponseOptions],\n                      expression: a!map(\n                        taskBlockTaskId: local!taskBlockTaskId,\n                        taskBlockTaskUUID: local!taskBlockTaskUUID,\n                        taskBlockTaskResponseOptionUUID: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTaskResponseOption.taskBlockTaskResponseUuid],\n                        newUuid: rule!CMGT_UTIL_GenerateUuid_NonPlugin()\n                      )\n                    )\n                  )\n                )\n              )\n            )\n          ),\n          a!save(\n            local!oldUuidToNewUuidMapping,\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: local!taskBlockTasksToAdd,\n              expression: a!map(\n                oldUuid: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskUuid],\n                newUuid: rule!CMGT_UTIL_GenerateUuid_NonPlugin()\n              )\n            )\n          ),\n          a!save(\n            ri!newCaseTypeWorkflowTasks,\n            append(\n              ri!newCaseTypeWorkflowTasks,\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: local!taskBlockTasksToAdd,\n                expression: a!localVariables(\n                  /*Returns the new Uuid for the given old Uuid*/\n                  local!thisTaskNewUuid: displayvalue(\n                    fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskUuid],\n                    index(\n                      local!oldUuidToNewUuidMapping,\n                      \"oldUuid\",\n                      {}\n                    ),\n                    index(\n                      local!oldUuidToNewUuidMapping,\n                      \"newUuid\",\n                      {}\n                    ),\n                    \"ERROR\"\n                  ),\n                  local!taskBlockTaskId: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskId],\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask(\n                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTask: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.referenceTask],\n                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTaskId: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.referenceTask.referenceTaskId],\n                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBlockId: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockId],\n                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskName],\n                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.description: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.description],\n                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.defaultGroupAssignee: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.defaultGroupAssignee],\n                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sla: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.sla],\n                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.startsByDefault: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.startsByDefault],\n                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid: local!thisTaskNewUuid,\n                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive: true,\n                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorTypeId: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBehaviorTypeId],\n                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBehaviorType],\n                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.questionLabel: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.questionLabel],\n                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskResponseOptions: #\"SYSTEM_SYSRULES_forEach\"(\n                      items: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskResponseOptions],\n                      expression: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption(\n                        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.label: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTaskResponseOption.label],\n                        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.sortOrder: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTaskResponseOption.sortOrder],\n                        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.caseTypeWorkflowTaskResponseOptionUuid: index(\n                          rule!CMGT_UTIL_Filter(\n                            records: local!taskResponseOptionsNewUuidMapping,\n                            fieldValuePairs: {\n                              a!map(\n                                field: \"taskBlockTaskId\",\n                                value: local!taskBlockTaskId\n                              ),\n                              a!map(\n                                field: \"taskBlockTaskResponseOptionUUID\",\n                                value: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTaskResponseOption.taskBlockTaskResponseUuid]\n                              )\n                            }\n                          ),\n                          \"newUuid\",\n                          \"ERROR\"\n                        )\n                      )\n                    ),\n                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.createCaseCaseTypeWorkflowTask: if(\n                      fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_CREATE_CASE,\n                      recordType!CMGT_WFL_CFG_CreateCaseCaseTypeWorkflowTask(\n                        recordType!CMGT_WFL_CFG_CreateCaseCaseTypeWorkflowTask.caseTypeUuid: if(\n                          rule!CMGT_UTIL_IsBlank(\n                            rule!CMGT_UTIL_Filter(\n                              records: ri!activeCaseTypes,\n                              field:recordType!CMGT_CFG_CaseType.uuid,\n                              value: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.createCaseTaskBlockTask.caseTypeUuid],\n\n                            )\n                          ),\n                          null,\n                          fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.createCaseTaskBlockTask.caseTypeUuid]\n                        ),\n                        recordType!CMGT_WFL_CFG_CreateCaseCaseTypeWorkflowTask.relationshipToOriginalCase: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.createCaseTaskBlockTask.relationshipToOriginalCase]\n                      ),\n                      {}\n                    ),\n                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTask: if(\n                      fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_SEND_EMAIL,\n                      recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask(\n                        recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.emailTemplateUuid: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.sendEmailTaskBlockTask.emailTemplateUuid]\n                      ),\n                      {}\n                    ),\n                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches: if(\n                      rule!CMGT_UTIL_IsBlank(\n                        fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.beforeTaskBlockTaskBranches]\n                      ),\n                      /*Give a blank default beforeCaseTypeWorkflowTaskBranch if none exist*/\n                      {\n                        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch(\n                          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid: local!thisTaskNewUuid,\n                          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isRequired: true,\n                          /*Note, defaulting this to NULL until an actual selection is made so that the network renderer doesn't think there's a task*/\n                          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive: null\n                        )\n                      },\n                      /*If fv!item.beforeCaseTypeWorkflowTaskBranch is not blank, those will be added to ri!newCaseTypeWorkflowTaskBranchesMaps*/\n                      {}\n                    )\n                  )\n                )\n              )\n            )\n          ),\n          a!save(\n            ri!newCaseTypeWorkflowTaskBranchesMaps,\n            append(\n              ri!newCaseTypeWorkflowTaskBranchesMaps,\n              a!flatten(\n                rule!CMGT_UTIL_RejectBlank(\n                  array: #\"SYSTEM_SYSRULES_forEach\"(\n                    items: local!taskBlockTasksToAdd,\n                    expression: a!localVariables(\n                      local!thisTaskNewUuid: displayvalue(\n                        fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskUuid],\n                        index(\n                          local!oldUuidToNewUuidMapping,\n                          \"oldUuid\",\n                          {}\n                        ),\n                        index(\n                          local!oldUuidToNewUuidMapping,\n                          \"newUuid\",\n                          {}\n                        ),\n                        \"ERROR\"\n                      ),\n                      if(\n                        rule!CMGT_UTIL_IsNotBlank(\n                          fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.beforeTaskBlockTaskBranches]\n                        ),\n                        a!localVariables(\n                          local!taskBlockId: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockId],\n                          #\"SYSTEM_SYSRULES_forEach\"(\n                            items: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.beforeTaskBlockTaskBranches],\n                            expression: a!localVariables(\n                              local!thisCaseTypeResponseOptionUUID: index(\n                                rule!CMGT_UTIL_Filter(\n                                  records: local!taskResponseOptionsNewUuidMapping,\n                                  fieldValuePairs: {\n                                    a!map(\n                                      field: \"taskBlockTaskUUID\",\n                                      value: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.beforeTaskBlockTaskUuid]\n                                    ),\n                                    a!map(\n                                      field: \"taskBlockTaskResponseOptionUUID\",\n                                      value: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.taskBlockTaskResponseOptionUuid]\n                                    )\n                                  }\n                                ),\n                                \"newUuid\",\n                                \"ERROR\"\n                              ),\n                              a!map(\n                                taskBlockId: local!taskBlockId,\n                                caseTypeWorkflowTaskBranches: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch(\n                                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid: local!thisTaskNewUuid,\n                                  /*Returns the new Uuid of the beforeCaseTypeWorkflowTaskUuid for the given old beforeCaseTypeWorkflowTaskUuid*/\n                                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid: displayvalue(\n                                    fv!item[recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.beforeTaskBlockTaskUuid],\n                                    index(\n                                      local!oldUuidToNewUuidMapping,\n                                      \"oldUuid\",\n                                      {}\n                                    ),\n                                    index(\n                                      local!oldUuidToNewUuidMapping,\n                                      \"newUuid\",\n                                      {}\n                                    ),\n                                    \"ERROR\"\n                                  ),\n                                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.caseTypeTaskResponseOptionUuid: local!thisCaseTypeResponseOptionUUID,\n                                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.taskResponseOption: if(\n                                    a!isNullOrEmpty(\n                                      fv!item[recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.taskResponseOption]\n                                    ),\n                                    {},\n                                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption(\n                                      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.label: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.taskResponseOption.label],\n                                      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.sortOrder: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.taskResponseOption.sortOrder],\n                                      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.caseTypeWorkflowTaskResponseOptionUuid: local!thisCaseTypeResponseOptionUUID,\n\n                                    )\n                                  ),\n                                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isRequired: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.isRequired],\n                                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.isActive]\n                                )\n                              )\n                            )\n                          )\n                        ),\n                        {}\n                      )\n                    )\n                  )\n                )\n              )\n            )\n          ),\n          /*a!save(local!oldUuidToNewUuidMapping, null),*/\n          /*a!save(local!taskBlockTasksToAdd, null),*/\n          /*a!save(*/\n          /*local!taskResponseOptionsNewUuidMapping,*/\n          /*null*/\n          /*)*/\n\n        },\n        {}\n      ),\n      /*Remove tasks and task branches from just deselected task block*/\n      if(\n        rule!CMGT_UTIL_IsNotBlank(fv!deselectedRows),\n        {\n          /*Save Task Block Info for Display */\n          a!save(\n            ri!taskBlockData,\n            rule!CMGT_UTIL_Filter(\n              records: ri!taskBlockData,\n              field: recordType!CMGT_WFL_CFG_TaskBlock.taskBlockId,\n              value: fv!deselectedRows[recordType!CMGT_WFL_CFG_TaskBlock.taskBlockId],\n              filterType: \"REJECT\"\n            )\n          ),\n          a!save(\n            ri!newCaseTypeWorkflowTasks,\n            remove(\n              ri!newCaseTypeWorkflowTasks,\n              wherecontains(\n                fv!deselectedRows[recordType!CMGT_WFL_CFG_TaskBlock.taskBlockId],\n                ri!newCaseTypeWorkflowTasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBlockId]\n              )\n            )\n          ),\n          a!save(\n            ri!newCaseTypeWorkflowTaskBranchesMaps,\n            remove(\n              ri!newCaseTypeWorkflowTaskBranchesMaps,\n              wherecontains(\n                fv!deselectedRows[recordType!CMGT_WFL_CFG_TaskBlock.taskBlockId],\n                tointeger(\n                  index(\n                    ri!newCaseTypeWorkflowTaskBranchesMaps,\n                    \"taskBlockId\",\n                    {}\n                  )\n                )\n              )\n            )\n          )\n        },\n        {}\n      )\n    },\n    validations: {},\n    borderStyle: \"LIGHT\",\n    shadeAlternateRows: false,\n    /*Task Block Name read out as row header*/\n    rowHeader: 1,\n    refreshAfter: \"RECORD_ACTION\",\n    showSearchBox: true,\n    showRefreshButton: true\n  )\n)"
    },
    "_a-0000ed89-fd25-8000-9d52-011c48011c48_3936978": {
      "name": "CMGT_UTIL_refreshRecord",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_cast(\n  value: rule!CMGT_UTIL_cast(\n    type: if(\n      rule!CMGT_UTIL_IsListType(value: ri!records),\n      #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(typeof(a!map())),\n      typeof(a!map())\n    ),\n    value: ri!records\n  ),\n  typeOf: ri!records\n)"
    },
    "_a-0000ec6b-da11-8000-9ce2-011c48011c48_2928440": {
      "name": "CMGT_CFG_CaseType_SetForeignKeys",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!newcaseTypeWorkflowTasks: rule!CMGT_UTIL_Filter(\n    records: rule!CMGT_UTIL_Filter(\n      records: ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTaskId,\n      value: null()\n    ),\n    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorTypeId,\n    value: cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n    filterType: \"REJECT\"\n  ),\n  local!automationTasks: rule!CMGT_UTIL_Filter(\n    records: ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorTypeId,\n    value: cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n\n  ),\n  /* Updating the referenceTaskId and referenceTask to the caseTypeWorkflowTasks containing new reference task */\n  local!updatedWorkflowTask: reject(\n    rule!CMGT_UTIL_IsBlank,\n    append(\n      rule!CMGT_UTIL_Filter(\n        records: ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTaskId,\n        value: null(),\n        filterType: \"REJECT\"\n      ),\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!newcaseTypeWorkflowTasks,\n        expression: #\"urn:appian:function:v1:a:update\"(\n          fv!item,\n          {\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTask,\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTaskId\n          },\n          {\n            ri!newReferenceTasks[fv!index],\n            ri!newReferenceTasks[recordType!CMGT_WFL_CFG_ReferenceTask.referenceTaskId][fv!index]\n          }\n        )\n      )\n    )\n  ),\n  local!updatedWorkflowTaskIncludingAutomation: reject(\n    rule!CMGT_UTIL_IsBlank,\n    append(\n      local!updatedWorkflowTask,\n      local!automationTasks\n    )\n  ),\n  #\"urn:appian:function:v1:a:update\"(\n    ri!caseType,\n    recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask,\n    local!updatedWorkflowTaskIncludingAutomation\n  )\n)"
    },
    "_a-0000ed08-c8b4-8000-9d25-011c48011c48_3452725": {
      "name": "CMGT_WFL_Automation_FieldLevelConditions",
      "type": "Interface",
      "sail_code": "{\n  #\"SYSTEM_SYSRULES_cardLayout\"(\n    contents: {\n      /*Add Condition button*/\n      #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n        buttons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          label: #\"urn:appian:translation-string:v1:e7b35588-bce6-491d-b92a-0b5029e4c9a4\",\n          icon: \"plus-circle\",\n          saveInto: a!save(\n            ri!conditionSet[recordType!CMGT_CFG_ConditionSet.condition],\n            append(\n              ri!conditionSet[recordType!CMGT_CFG_ConditionSet.condition],\n              recordType!CMGT_CFG_Condition(\n                recordType!CMGT_CFG_Condition.conditionSetUuid: ri!conditionSet[recordType!CMGT_CFG_ConditionSet.conditionSetUuid],\n                recordType!CMGT_CFG_Condition.evaluationType: cons!CMGT_REF_TXT_CONDITION_EVALUATION_TYPE_FIELD_VALUE,\n                recordType!CMGT_CFG_Condition.isActive: true\n              )\n            )\n          ),\n          style: \"OUTLINE\",\n          color: \"SECONDARY\"\n        ),\n        align: \"START\"\n      )\n    },\n    height: \"AUTO\",\n    showWhen: ri!totalConditionsDisplayed < 5,\n    padding: \"NONE\",\n    marginAbove: \"EVEN_LESS\",\n    marginBelow: \"LESS\",\n    showBorder: false\n  ),\n  #\"SYSTEM_SYSRULES_cardLayout\"(\n    contents: {\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              /*Row per rule condition*/\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: ri!conditionSet[recordType!CMGT_CFG_ConditionSet.condition],\n                expression: rule!CMGT_WFL_Automation_SingleCondition(\n                  condition: fv!item,\n                  conditionSet: ri!conditionSet,\n                  index: fv!index,\n                  availableFieldsInfo: ri!availableFieldsInfo,\n                  brandingMap: ri!brandingMap,\n                  showRemoveIcon: ri!totalConditionsDisplayed > 1\n                )\n              )\n            }\n          )\n        },\n        alignVertical: \"BOTTOM\",\n        marginBelow: \"STANDARD\",\n        spacing: \"DENSE\"\n      )\n    },\n    /*height: \"TALL\",*/\n    padding: \"NONE\",\n    marginBelow: \"LESS\",\n    showBorder: false\n  )\n}"
    },
    "_a-0000eb4d-d051-8000-9c68-011c48011c48_1673375": {
      "name": "CMGT_WFL_MTR_UserCreatesReferenceTask",
      "type": "Expression Rule",
      "sail_code": "now()"
    },
    "_a-0000ec87-8877-8000-9ce8-011c48011c48_3014290": {
      "name": "CMGT_WFL_Automation_SingleCondition",
      "type": "Interface",
      "sail_code": "if(\n  ri!condition[recordType!CMGT_CFG_Condition.isActive],\n  a!localVariables(\n    /*Boolean array of the isActive fields of the conditions BEFORE this one.\n   Used to help determine displayIndex*/\n    local!fieldPathJson: if(\n      a!isNotNullOrEmpty(\n        ri!condition[recordType!CMGT_CFG_Condition.fieldPathJson]\n      ),\n      #\"SYSTEM_SYSRULES_fromJson_v1\"(\n        ri!condition[recordType!CMGT_CFG_Condition.fieldPathJson]\n      ),\n      null\n    ),\n    local!selectedField: a!refreshVariable(\n      value: if(\n        a!isNotNullOrEmpty(local!fieldPathJson),\n        /*for update we will need the selectedField to hold the choosen value instead of null*/\n        rule!CMGT_UTIL_Filter(\n          records: ri!availableFieldsInfo,\n          filterType: \"FIRST_MATCH\",\n          fieldValuePairs: {\n            a!map(\n              field: \"uuid\",\n              value: touniformstring(local!fieldPathJson.uuid)\n            ),\n            a!map(\n              field: \"displayName\",\n              value: touniformString(local!fieldPathJson.displayName)\n            ),\n            if(\n              rule!CMGT_UTIL_IsNotBlank(local!fieldPathJson.customFieldCode),\n              a!map(\n                field: \"customFieldCode\",\n                value: touniformString(local!fieldPathJson.customFieldCode)\n              ),\n              {}\n            )\n          }\n        ),\n        null\n      ),\n      refreshOnReferencedVarChange: false\n    ),\n    local!precedingConditionsIsInActive: if(\n      ri!index = 1,\n      {},\n      index(\n        ri!conditionSet[recordType!CMGT_CFG_ConditionSet.condition.isActive],\n        { enumerate(ri!index - 1) + 1 },\n        true\n      )\n    ),\n    /*The false index minus the number before this one that are in-active*/\n    local!displayIndex: ri!index - length(\n      {\n        wherecontains(\n          false,\n          toboolean(local!precedingConditionsIsInActive)\n        )\n      }\n    ),\n    /*Total conditions where isActive=true*/\n    local!totalConditionsDisplayed: length(\n      {\n        rule!CMGT_UTIL_Filter(\n          records: ri!conditionSet[recordType!CMGT_CFG_ConditionSet.condition],\n          fieldValuePairs: {\n            a!map(\n              field: recordType!CMGT_CFG_Condition.isActive,\n              value: true\n            )\n          }\n        )\n      }\n    ),\n    local!operatorChoice: rule!CMGT_UTIL_Filter(\n      records: rule!CMGT_ENUM_AUTOMATION_OPERATORS(),\n      fieldValuePairs: {\n        a!map(\n          field: \"fieldTypes\",\n          value: tostring(local!selectedField.fieldType)\n        ),\n        a!map(\n          field: \"relationshipType\",\n          value: tostring(local!selectedField.relationshipType)\n        ),\n      },\n      matchType: \"CONTAINS\"\n    ),\n    local!selectedExtraConfigs: if(\n      rule!CMGT_UTIL_IsNotBlank(\n        local!fieldPathJson.extraConfigurations\n      ),\n      rule!CMGT_UTIL_Filter(\n        records: index(\n          local!selectedField.extraConfigurations.configurations,\n          \"type\",\n          null\n        ),\n        field: \"code\",\n        value: a!defaultValue(\n          tostring(\n            index(\n              index(\n                local!fieldPathJson,\n                \"extraConfigurations\",\n                null\n              ),\n              \"code\",\n              null\n            )\n          ),\n          \"DONTMATCH\"\n        ),\n        filterType: \"FIRST_MATCH\"\n      ),\n      null\n    ),\n    local!extraConfigurationNeeded: count(\n      local!selectedField.extraConfigurations.configurations\n    ) > 1,\n    /*logic for configuring the condition*/\n    {\n      #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n        items: {\n          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n            item: #\"SYSTEM_SYSRULES_dropdownField_v1\"(\n              label:#\"urn:appian:translation-string:v1:e9d8c34b-a1a6-471c-97ce-ce5de1d6bbe0\",\n              labelPosition: \"COLLAPSED\",\n              choiceLabels: {\n                #\"urn:appian:translation-string:v1:fa2de152-629a-4edd-be76-7dcda74e0032\",\n                #\"urn:appian:translation-string:v1:b5d8cfdc-55e9-486c-83be-0db19fe5b647\"\n              },\n              choiceValues: {\n                cons!CMGT_TXT_SET_OPERATOR_AND,\n                cons!CMGT_TXT_SET_OPERATOR_OR\n              },\n              value: ri!conditionSet[recordType!CMGT_CFG_ConditionSet.operatorCode],\n              saveInto: ri!conditionSet[recordType!CMGT_CFG_ConditionSet.operatorCode],\n              disabled: local!displayIndex > 2,\n              showWhen: local!displayIndex > 1\n            ),\n            width: \"MINIMIZE\"\n          ),\n          #\"SYSTEM_SYSRULES_sideBySideItem\"()\n        },\n        alignVertical: \"BOTTOM\",\n        marginBelow: \"STANDARD\",\n        showWhen: local!displayIndex <> 1\n      ),\n      #\"SYSTEM_SYSRULES_cardLayout\"(\n        contents: {\n          #\"SYSTEM_SYSRULES_cardLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_columnsLayout\"(\n                columns: {\n                  /*warning message to be displayed*/\n                  #\"SYSTEM_SYSRULES_columnLayout\"(\n                    contents: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                      value: {\n                        #\"SYSTEM_SYSRULES_richTextIcon\"(\n                          icon: \"warning\",\n                          linkStyle: \"STANDALONE\",\n                          color: ri!brandingMap.WarningAccentColor,\n                          size: \"MEDIUM\"\n                        ),\n                        char(32),\n                        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                          text: #\"urn:appian:translation-string:v1:59809121-470a-44e5-9db6-d721d42ff336\"\n                        )\n                      },\n                      align: \"LEFT\",\n                      marginBelow: \"LESS\"\n                    )\n                  ),\n                  /*remove condition */\n                  #\"SYSTEM_SYSRULES_columnLayout\"(\n                    contents: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                      value: #\"SYSTEM_SYSRULES_richTextIcon\"(\n                        icon: \"times\",\n                        altText: #\"urn:appian:translation-string:v1:5b52f617-d315-466a-ac1e-74a64b2b6480\"(\n                          #\"urn:appian:translation-variable:v1:bd86c95d-5df6-46f8-b26a-4e6c2cebda3e\": local!displayIndex,\n                          #\"urn:appian:translation-variable:v1:5dcea5e2-9bf7-4863-99f1-69e220d6022c\": local!totalConditionsDisplayed\n                        ),\n                        caption: #\"urn:appian:translation-string:v1:2402af6c-0ece-49ed-abec-bc79c881c8d6\",\n                        link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                          saveInto: {\n                            /*marking the rule condition as deleted*/\n                            a!save(\n                              ri!condition[recordType!CMGT_CFG_Condition.isActive],\n                              false\n                            ),\n                            a!save(\n                              ri!conditionSet[recordType!CMGT_CFG_ConditionSet.condition][ri!index],\n                              #\"urn:appian:function:v1:a:update\"(\n                                data: ri!conditionSet[recordType!CMGT_CFG_ConditionSet.condition][ri!index],\n                                index: recordType!CMGT_CFG_Condition.isActive,\n                                value: false\n                              )\n                            ),\n                            if(\n                              and(\n                                ri!conditionSet[recordType!CMGT_CFG_ConditionSet.condition][where(\n                                  ri!conditionSet[recordType!CMGT_CFG_ConditionSet.condition.isActive]\n                                )][recordType!CMGT_CFG_Condition.isValid]\n                              ),\n                              a!save(\n                                ri!conditionSet[recordType!CMGT_CFG_ConditionSet.isValid],\n                                true\n                              ),\n                              {}\n                            )\n                          }\n                        ),\n                        linkStyle: \"STANDALONE\",\n                        color: \"NEGATIVE\",\n                        size: \"MEDIUM\"\n                      ),\n                      align: \"RIGHT\"\n                    ),\n                    width: \"EXTRA_NARROW\"\n                  )\n                }\n              )\n            },\n            height: \"AUTO\",\n            style: ri!brandingMap.TertiaryBackgroundColor,\n            marginAbove: \"STANDARD\",\n            marginBelow: \"LESS\",\n            showBorder: false,\n            showWhen: not(\n              a!defaultValue(\n                ri!condition[recordType!CMGT_CFG_Condition.isValid],\n                true\n              )\n            )\n          ),\n          #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n            items: {\n              /*warning message to be displayed*/\n              /*field selection*/\n              #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                item: #\"SYSTEM_SYSRULES_dropdownField_v1\"(\n                  choiceLabels: index(ri!availableFieldsInfo, \"label\", null),\n                  choiceValues: ri!availableFieldsInfo,\n                  label: #\"urn:appian:translation-string:v1:44aca2fc-e228-4e5d-ad34-939f648f2d5f\",\n                  placeholder: #\"urn:appian:translation-string:v1:44aca2fc-e228-4e5d-ad34-939f648f2d5f\",\n                  value: local!selectedField,\n                  disabled: not(\n                    a!defaultValue(\n                      ri!condition[recordType!CMGT_CFG_Condition.isValid],\n                      true\n                    )\n                  ),\n                  saveInto: {\n                    local!selectedField,\n                    a!save(\n                      ri!condition,\n                      #\"urn:appian:function:v1:a:update\"(\n                        data: ri!condition,\n                        index: {\n                          recordType!CMGT_CFG_Condition.fieldPathJson,\n                          recordType!CMGT_CFG_Condition.valueType,\n                          recordType!CMGT_CFG_Condition.isValid\n                        },\n                        value: {\n                          #\"SYSTEM_SYSRULES_toJson_v1\"(\n                            value: rule!CMGT_Automation_constructSavedFieldMapping(selectedField: local!selectedField)\n                          ),\n                          local!selectedField.fieldType,\n                          true\n                        }\n                      )\n                    ),\n                    a!save(\n                      ri!condition[recordType!CMGT_CFG_Condition.operator],\n                      null\n                    ),\n                    a!save(local!selectedExtraConfigs, null),\n                    /*nulling out value if the field type changes*/\n                    a!save(\n                      ri!condition[recordType!CMGT_CFG_Condition.valueJson],\n                      null\n                    )\n                  },\n                  required: true,\n                  requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n                    #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:44aca2fc-e228-4e5d-ad34-939f648f2d5f\"\n                  ),\n                  accessibilityText: #\"urn:appian:translation-string:v1:2890975e-6c01-46ca-98ac-00bf6224adb4\"(\n                    #\"urn:appian:translation-variable:v1:7dc6f098-2add-4748-a2b2-765fef222933\": local!displayIndex,\n                    #\"urn:appian:translation-variable:v1:87b26f15-f52b-402d-96f6-da9ea95f8a17\": local!totalConditionsDisplayed\n                  ),\n                  validationGroup: ri!validationGroup\n                )\n              ),\n              /*operator selection*/\n              #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                item: #\"SYSTEM_SYSRULES_dropdownField_v1\"(\n                  choiceLabels: local!operatorChoice.label,\n                  choiceValues: local!operatorChoice.text,\n                  label: #\"urn:appian:translation-string:v1:52cc40d1-4b53-4c32-aca7-13292afc23dd\",\n                  placeholder: #\"urn:appian:translation-string:v1:52cc40d1-4b53-4c32-aca7-13292afc23dd\",\n                  value: ri!condition[recordType!CMGT_CFG_Condition.operator],\n                  saveInto: {\n                    ri!condition[recordType!CMGT_CFG_Condition.operator],\n                    /*nulling out value if the operator changes*/\n                    a!save(\n                      ri!condition[recordType!CMGT_CFG_Condition.valueJson],\n                      null\n                    ),\n                    if(\n                      not(local!extraConfigurationNeeded),\n                      {\n                        a!save(\n                          local!selectedExtraConfigs,\n                          index(\n                            index(\n                              local!selectedField.extraConfigurations.configurations,\n                              \"type\",\n                              null\n                            ),\n                            1,\n                            null\n                          )\n                        ),\n                        a!save(\n                          ri!condition,\n                          #\"urn:appian:function:v1:a:update\"(\n                            data: ri!condition,\n                            index: {\n                              recordType!CMGT_CFG_Condition.fieldPathJson,\n\n                            },\n                            value: {\n                              #\"SYSTEM_SYSRULES_toJson_v1\"(\n                                value: rule!CMGT_Automation_constructSavedFieldMapping(\n                                  selectedField: local!selectedField,\n                                  selectedExtraConfigs: local!selectedExtraConfigs\n                                )\n                              )\n                            }\n                          )\n                        ),\n\n                      },\n                      {}\n                    )\n                  },\n                  disabled: not(\n                    a!defaultValue(\n                      ri!condition[recordType!CMGT_CFG_Condition.isValid],\n                      true\n                    )\n                  ),\n                  showWhen: a!isNotNullOrEmpty(local!selectedField.fieldType),\n                  required: true,\n                  requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n                    #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:52cc40d1-4b53-4c32-aca7-13292afc23dd\"\n                  ),\n                  accessibilityText: #\"urn:appian:translation-string:v1:2890975e-6c01-46ca-98ac-00bf6224adb4\"(\n                    #\"urn:appian:translation-variable:v1:7dc6f098-2add-4748-a2b2-765fef222933\": local!displayIndex,\n                    #\"urn:appian:translation-variable:v1:87b26f15-f52b-402d-96f6-da9ea95f8a17\": local!totalConditionsDisplayed\n                  ),\n                  validationGroup: ri!validationGroup\n                )\n              ),\n              /*type selection, if needed*/\n              #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                showWhen: and(\n                  a!isNotNullOrEmpty(local!selectedField.uuid),\n                  and(\n                    a!isNotNullOrEmpty(\n                      ri!condition[recordType!CMGT_CFG_Condition.operator]\n                    ),\n                    not(\n                      contains(\n                        {\n                          cons!CMGT_TXT_AUTOMATION_OPERATOR_IS_NULL,\n                          cons!CMGT_TXT_AUTOMATION_OPERATOR_IS_NOT_NULL\n                        },\n                        ri!condition[recordType!CMGT_CFG_Condition.operator]\n                      )\n                    )\n                  ),\n                  a!isNotNullOrEmpty(\n                    local!selectedField.extraConfigurations.configurations\n                  ),\n                  local!extraConfigurationNeeded\n                ),\n                item: rule!CMGT_Automation_ConditionTypeField(\n                  selectedField: local!selectedField,\n                  selectedExtraConfigs: local!selectedExtraConfigs,\n                  valueType: ri!condition[recordType!CMGT_CFG_Condition.valueType],\n                  valueJson: ri!condition[recordType!CMGT_CFG_Condition.valueJson],\n                  isValid: ri!condition[recordType!CMGT_CFG_Condition.isValid],\n                  fieldPathJson: ri!condition[recordType!CMGT_CFG_Condition.fieldPathJson],\n                  validationGroup: ri!validationGroup\n                )\n              ),\n              /*value selection*/\n              #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                item: rule!CMGT_Automation_ConditionValueField(\n                  valueType: ri!condition[recordType!CMGT_CFG_Condition.valueType],\n                  operator: ri!condition[recordType!CMGT_CFG_Condition.operator],\n                  valueJson: ri!condition[recordType!CMGT_CFG_Condition.valueJson],\n                  isValid: ri!condition[recordType!CMGT_CFG_Condition.isValid],\n                  selectedField: local!selectedField,\n                  selectedExtraConfigurations: local!selectedExtraConfigs,\n                  showWhen: and(\n                    rule!CMGT_UTIL_IsNotBlank(local!selectedField.fieldType),\n                    a!isNotNullOrEmpty(\n                      ri!condition[recordType!CMGT_CFG_Condition.operator]\n                    ),\n                    or(\n                      not(local!extraConfigurationNeeded),\n                      and(\n                        a!isNotNullOrEmpty(\n                          local!selectedField.extraConfigurations.configurations\n                        ),\n                        a!isNotNullOrEmpty(local!selectedExtraConfigs),\n\n                      )\n                    )\n                  ),\n                  displayIndex: local!displayIndex,\n                  totalConditionsDisplayed: local!totalConditionsDisplayed,\n                  validationGroup: ri!validationGroup\n                )\n              ),\n              /*remove icon*/\n              #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                  value: #\"SYSTEM_SYSRULES_richTextIcon\"(\n                    icon: \"times\",\n                    altText: #\"urn:appian:translation-string:v1:5b52f617-d315-466a-ac1e-74a64b2b6480\"(\n                      #\"urn:appian:translation-variable:v1:bd86c95d-5df6-46f8-b26a-4e6c2cebda3e\": local!displayIndex,\n                      #\"urn:appian:translation-variable:v1:5dcea5e2-9bf7-4863-99f1-69e220d6022c\": local!totalConditionsDisplayed\n                    ),\n                    caption: #\"urn:appian:translation-string:v1:2402af6c-0ece-49ed-abec-bc79c881c8d6\",\n                    link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                      saveInto: if(\n                        a!isNullOrEmpty(\n                          ri!condition[recordType!CMGT_CFG_Condition.conditionId]\n                        ),\n                        /*if condition has not been written to DB,*/\n                        /*remove from conditionset*/\n                        a!save(\n                          ri!conditionSet[recordType!CMGT_CFG_ConditionSet.condition],\n                          remove(\n                            ri!conditionSet[recordType!CMGT_CFG_ConditionSet.condition],\n                            ri!index\n                          )\n                        ),\n                        /*if condition has already been written to DB,*/\n                        /*then flag it as deleted*/\n                        a!save(\n                          ri!condition[recordType!CMGT_CFG_Condition.isActive],\n                          false\n                        )\n                      )\n                    ),\n                    linkStyle: \"STANDALONE\",\n                    color: \"NEGATIVE\",\n                    size: \"MEDIUM\"\n                  ),\n                  align: \"RIGHT\"\n                ),\n                width: \"MINIMIZE\",\n                showWhen: if(\n                  and(\n                    a!isNotNullOrEmpty(ri!conditionSet),\n                    ri!isChildConditionSet = true\n                  ),\n                  local!totalConditionsDisplayed >= 3,\n                  ri!showRemoveIcon\n                )\n              )\n            },\n            alignVertical: \"TOP\",\n            spacing: \"DENSE\",\n            marginBelow: \"STANDARD\"\n          ),\n          #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            value: {\n              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                icon: \"info-circle\",\n                color: ri!brandingMap.InfoAccentColor,\n                size: \"STANDARD\"\n              ),\n              \" \",\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: #\"urn:appian:translation-string:v1:1aa5d7c8-4362-460d-95a9-529eae1cc934\",\n                color: ri!brandingMap.SecondaryTextColor\n              )\n            },\n            showWhen: local!selectedField.type = \"BOOLEAN\"\n          )\n        },\n        height: \"AUTO\",\n        style: a!defaultValue(\n          ri!cardStyle,\n          ri!brandingMap.ConfigBackgroundColor,\n\n        ),\n        padding: a!defaultValue(value: ri!cardPadding, default: \"LESS\"),\n        showBorder: false,\n        shape: \"SEMI_ROUNDED\"\n      )\n    }\n  ),\n  {}\n)"
    },
    "_a-0000e99c-1217-8000-9ba9-011c48011c48_58807": {
      "name": "CMGT_UTIL_TruncateText",
      "type": "Expression Rule",
      "sail_code": "if(\n  or(isnull(ri!text), isnull(ri!maxLength)),\n  ri!text,\n  if(\n    len(ri!text) > ri!maxLength,\n    left(\n      ri!text,\n      max(\n        search(\" \", ri!text, ri!maxLength + 1) - 1,\n        ri!maxLength\n      )\n    ) & \"...\",\n    ri!text\n  )\n)"
    },
    "_a-0000ed52-9ecc-8000-9d40-011c48011c48_3645765": {
      "name": "CMGT_WFL_SendEmailCaseTypeWorkflowTask_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!sendEmailCaseTypeWorkflowTasks,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.modifiedOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.modifiedBy,\n        value: ri!initiator\n      )\n    },\n    /*Only modify these fields if they are currently null*/\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.createdOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.isActive,\n        value: true\n      )\n    }\n  )\n)"
    },
    "_a-0000ed49-63d5-8000-9d3e-011c48011c48_3604826": {
      "name": "CMGT_WFL_EmailTemplate_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!emailTemplates,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_EmailTemplate.modifiedBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_EmailTemplate.modifiedOn,\n        value: now()\n      )\n    },\n    /*Only modify these fields if they are currently null*/\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_EmailTemplate.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_EmailTemplate.createdOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_EmailTemplate.isActive,\n        value: true\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid,\n        value: rule!CMGT_UTIL_GenerateUuid_NonPlugin()\n      )\n    },\n    /*Set metadata for all child relationships*/\n    childRelationships: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateAttachments,\n        value: rule!CMGT_WFL_EmailTemplateAttachment_SetMetaData(\n          emailTemplateAttachments: fv!item[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateAttachments],\n          initiator: ri!initiator\n        )\n      )\n    }\n  )\n)"
    },
    "_a-0000ed6c-5326-8000-9d46-011c48011c48_3743485": {
      "name": "CMGT_Automation_constructSavedFieldMapping",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  uuid: ri!selectedField.uuid,\n  parentRecordTypeUuid: ri!selectedField.parentRecordTypeUuid,\n  fieldType: tostring(ri!selectedField.fieldType),\n  customFieldCode: ri!selectedField.customFieldCode,\n  displayName: ri!selectedField.displayName,\n  extraConfigurations: a!map(\n    code: ri!selectedExtraConfigs.code,\n    recordTypeUuid: ri!selectedExtraConfigs.recordTypeUuid\n  )\n)"
    },
    "_a-0000ed52-9ecc-8000-9d40-011c48011c48_3664057": {
      "name": "CMGT_UTIL_ConstructRecipientsMap",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    rule!CMGT_UTIL_IsNotBlank(input: ri!recipientsJson),\n    isvalidjson(ri!recipientsJson)\n  ),\n  cast(\n    #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n      'type!{http://www.appian.com/ae/types/2009}Map'\n    ),\n    #\"SYSTEM_SYSRULES_fromJson_v1\"(ri!recipientsJson)\n  ),\n  a!match(\n    value: true,\n    whenTrue: rule!CMGT_UTIL_IsNotBlank(ri!role),\n    then: a!map(\n      uuid: ri!role,\n      customFieldCode: ri!customFieldCode,\n      value: ri!value\n    ),\n    whenTrue: rule!CMGT_UTIL_IsNotBlank(ri!id),\n    then: a!map(id: ri!id),\n    default: null\n  )\n)"
    },
    "_a-0000e9ca-3659-8000-9bb8-011c48011c48_145769": {
      "name": "CMGT_PLUGIN_NetworkChartField",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!formattingOptions: rule!CMGT_UTIL_MergeMaps(\n    map1: rule!CMGT_NetworkChartField_StandardFormatting(brandingMap: ri!brandingMap),\n    map2: ri!formattingOptions\n  ),\n  /*The actual rendering is very hard to predict based on what notes are actually present and their complexity*/\n  /*Therefore, these are 2 parameters, each with 2 options, that drastically impact the rendering*/\n  local!renderingOptions: {\n    a!map(st: \"roots\", te: false),\n    a!map(st: \"roots\", te: true)\n  },\n  /*NOTE: So far this seems the best rendering algorithm that accounts for the most node complexity*/\n  local!selectedRenderingOption: 1,\n  {\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      labelPosition: \"COLLAPSED\",\n      value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: #\"urn:appian:translation-string:v1:638a9b48-01a5-4947-9ef0-ae787ea16196\"\n      ),\n      showWhen: a!isNullOrEmpty(ri!nodes),\n      align: \"CENTER\",\n      marginAbove: \"MORE\",\n      marginBelow: \"MORE\"\n    ),\n    #\"SYSTEM_SYSRULES_radioButtonField_v1\"(\n      choiceLabels: enumerate(count(local!renderingOptions)) + 1,\n      choiceValues: enumerate(count(local!renderingOptions)) + 1,\n      label: rule!CMGT_UTIL_ReplaceArgs(\n        string: #\"urn:appian:translation-string:v1:105f6b59-5f21-49e4-bd84-13d867a2580e\",\n        args: a!map(option: local!selectedRenderingOption)\n      ),\n      labelPosition: \"ADJACENT\",\n      value: local!selectedRenderingOption,\n      saveInto: local!selectedRenderingOption,\n      showWhen: and(\n        /*Decided to hide showing this 'Rendering Algorithm' option going forward, to put it back just remove the `false` below this line*/\n        false,\n        ri!showRenderingToggle,\n        a!isNotNullOrEmpty(ri!nodes)\n      ),\n      choiceLayout: \"COMPACT\"\n    ),\n    fn!networkChartField(\n      labelPosition: \"COLLAPSED\",\n      validations: {},\n      height: a!defaultValue(ri!height, \"TALL\"),\n      showWhen: a!isNotNullOrEmpty(ri!nodes),\n      nodes: ri!nodes,\n      edges: ri!edges,\n      nodeSelectionValue: a!flatten(ri!selectedNodeUuid),\n      nodeSelectionSaveInto: ri!onNodeSelection,\n      edgeOptions: local!formattingOptions.defaultEdge,\n      groups: local!formattingOptions.nodeOptionGroups,\n      layout: local!formattingOptions.layout,\n      interaction: a!map(\n        selectable: a!defaultValue(ri!selectable, true),\n        navigationButtons: a!defaultValue(ri!showNavButtons, true),\n        hover: true\n      ),\n      physics: local!formattingOptions.physics\n    )\n  }\n)"
    },
    "_a-0000eb57-0ad2-8000-9c6b-011c48011c48_1720580": {
      "name": "CMGT_NCF_orderNodesHorizontallyBottomUp",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!nodesOnCurrentLevel: a!refreshVariable(\n    value: rule!CMGT_UTIL_Filter(\n      records: ri!allNodes,\n      field: \"verticalOrder\",\n      value: ri!level\n    ),\n    refreshAlways: true\n  ),\n  local!eachNodeWithHorizontalOrder: a!refreshVariable(\n    value: apply(\n      rule!CMGT_NCF_setAverageHorizontalOrderOfDependents(\n        currentNode: _,\n        /*can pass in just sorted nodes because parents will always be above children*/\n        orderedNodes: ri!orderedNodes,\n        allEdges: ri!allEdges\n      ),\n      local!nodesOnCurrentLevel\n    ),\n    refreshAlways: true\n  ),\n  local!sortedNodesForThisLevel: a!refreshVariable(\n    value: rule!CMGT_UTIL_sortList(\n      records: local!eachNodeWithHorizontalOrder,\n      field: \"horizontalOrder\",\n      ascending: true\n    ),\n    refreshAlways: true\n  ),\n  local!updatedHorizontalOrder: a!refreshVariable(\n    value: apply(\n      rule!CMGT_NCF_updateNodeHorizontalOrderFromIndex(\n        sortedNodes: local!sortedNodesForThisLevel,\n        currentNode: _\n      ),\n      local!sortedNodesForThisLevel\n    ),\n    refreshAlways: true\n  ),\n  {\n    ri!orderedNodes,\n    local!updatedHorizontalOrder\n  }\n)"
    },
    "_a-0000ed9c-71ef-8000-9d58-011c48011c48_3988353": {
      "name": "CMGT_CFG_ENUM_ACT_WORKFLOW_ROUTING",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  /*code that is used to help evaluation of what actions needs to be ran*/\n  /*Display text of action type in configuration*/\n  name: #\"urn:appian:translation-string:v1:d21a949c-ac2f-4bf6-96ae-cdbbb7c64355\",\n  actionCode: cons!CMGT_CFG_TXT_ACT_WORKFLOW_ROUTING,\n  image: cons!CMGT_DOC_IMAGE_AUTOMATION_TYPE_WORKFLOW_ROUTING,\n  description: #\"urn:appian:translation-string:v1:b6767c60-abdc-4042-8808-4caa75358eec\",\n  isCustom: false(),\n  PmConstant: cons!CMGT_PM_TASK_COMPLETE_AUTOMATED_TASK_WORKFLOW_ROUTING,\n  /*evaluation rule that runs and outputs the necessary process parameters*/\n  pmParameterEvalRule: rule!CMGT_AUTO_EVAL_WorkflowRouting_DetermineProcessParameters,\n  context: cons!CMGT_CFG_TXT_ACT_CONTEXT_AUTOMATION,\n  createdBy: \"system\"\n)"
    },
    "_a-0000eb69-802f-8000-9c71-011c48011c48_1808130": {
      "name": "CMGT_WFL_CaseTypeWorkflowTaskBranch_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!caseTypeWorkflowTaskBranch,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive,\n        /*Always set this to false if it's not tied to both a before and after task*/\n        value: if(\n          or(\n            a!isNullOrEmpty(\n              fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid]\n            ),\n            a!isNullOrEmpty(\n              fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid]\n            )\n          ),\n          false,\n          /*Otherwise keep it the same, unless it's null*/\n          a!defaultValue(\n            fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive],\n            true\n          )\n        )\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.modifiedOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.modifedBy,\n        value: ri!initiator\n      )\n    },\n    /*Only modify these fields if they are currently null (default value)*/\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isRequired,\n        value: true\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.createdOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive,\n        value: true\n      )\n    }\n  )\n)"
    },
    "_a-0000ed89-fd25-8000-9d52-011c48011c48_3951187": {
      "name": "CMGT_WFL_MTR_CreateAutomationRuleWrapper",
      "type": "Expression Rule",
      "sail_code": " a!match(\n   value: ri!actionCode,\n   equals:cons!CMGT_CFG_TXT_ACT_ASSIGN_CASE,\n   then: rule!CMGT_WFL_MTR_CreateCaseTypeAssignCaseAutomationRule(),\n   equals:cons!CMGT_CFG_TXT_ACT_REASSIGN_CASE,\n   then:rule!CMGT_WFL_MTR_CreateCaseTypeReassignCaseAutomationRule(),\n   equals: cons!CMGT_CFG_TXT_ACT_ASSIGN_TASK,\n   then: rule!CMGT_WFL_MTR_CreateWflTaskAssignTaskAutomationRule(),\n   equals: cons!CMGT_CFG_TXT_ACT_REASSIGN_TASK,\n   then:rule!CMGT_WFL_MTR_CreateWflTaskReassignTaskAutomationRule(),\n   default: null\n )"
    },
    "_a-0000ed49-63d5-8000-9d3e-011c48011c48_3604797": {
      "name": "CMGT_WFL_QR_GetSendEmailCaseTypeWorkflowTasks",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTaskId,\n      operator: \"in\",\n      value: ri!sendEmailCaseTypeWorkflowTaskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.caseTypeWorkflowTaskId,\n      operator: \"in\",\n      value: ri!caseTypeWorkflowTaskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.emailTemplateUuid,\n      operator: \"in\",\n      value: ri!emailTemplateUuid\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.isActive,\n      operator: \"=\",\n      value: true,\n      applyWhen: ri!includeInactive <> true\n    )\n  },\n  fields: {\n    ri!fields,\n    recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.caseTypeWorkflowTask,\n    recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.caseTypeWorkflowTask,\n    recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.emailTemplate\n  },\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000e98b-cfe0-8000-9ba5-011c48011c48_22352": {
      "name": "CMGT_UTIL_QueryRecord",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Chosen return type*/\n  local!returnType: a!defaultValue(ri!returnType, \"OBJECT_ARRAY\"),\n  /*Determine the query parameters to use by the return type*/\n  local!queryParams: a!match(\n    value: local!returnType,\n    equals: \"OBJECT_ARRAY\",\n    then: a!map(\n      castToType: if(\n        a!isNullOrEmpty(ri!groupByFields),\n        #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(ri!recordType),\n        'type!{http://www.appian.com/ae/types/2009}Map?list'\n      ),\n      fetchTotalCount: false,\n      isArray: true,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: a!defaultValue(\n          ri!pagingInfo.batchSize,\n          cons!CMGT_INT_BATCH_SIZE_MAX\n        ),\n        sort: { ri!pagingInfo.sort, ri!sort }\n      )\n    ),\n    equals: \"SINGLE_OBJECT\",\n    then: a!map(\n      castToType: if(\n        a!isNullOrEmpty(ri!groupByFields),\n        ri!recordType,\n        'type!{http://www.appian.com/ae/types/2009}Map'\n      ),\n      fetchTotalCount: false,\n      isArray: false,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: 1,\n        sort: { ri!pagingInfo.sort, ri!sort }\n      )\n    ),\n    equals: \"DATA_SUBSET\",\n    then: a!map(\n      castToType: 'type!{http://www.appian.com/ae/types/2009}DataSubset',\n      fetchTotalCount: true,\n      isArray: false,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: a!defaultValue(ri!pagingInfo.startIndex, 1),\n        batchSize: a!defaultValue(\n          ri!pagingInfo.batchSize,\n          cons!CMGT_INT_BATCH_SIZE_MAX\n        ),\n        sort: { ri!pagingInfo.sort, ri!sort }\n      )\n    ),\n    equals: \"TOTAL_COUNT\",\n    then: a!map(\n      castToType: 'type!{http://www.appian.com/ae/types/2009}Integer',\n      fetchTotalCount: true,\n      isArray: false,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(startIndex: 1, batchSize: 0)\n    ),\n    default: fn!error(\n      \"Invalid returnType, must be one of: OBJECT_ARRAY, SINGLE_OBJECT, DATA_SUBSET, TOTAL_COUNT\"\n    )\n  ),\n  if(\n    /*Early exit for skip execution*/\n    ri!executeWhen = false,\n    cast(\n      local!queryParams.castToType,\n      if(local!queryParams.isArray, {}, null)\n    ),\n    a!localVariables(\n      /*Run the query*/\n      local!queryResult: a!refreshVariable(\n        value: #\"SYSTEM_SYSRULES_queryRecordType_v2\"(\n          recordType: ri!recordType,\n          fields: if(\n            a!isNullOrEmpty(ri!groupByFields),\n            reject(\n              a!isNullOrEmpty,\n              a!flatten(\n                {\n                  ri!fields,\n                  index(ri!relatedRecordData, \"relationship\", {})\n                }\n              )\n            ),\n            #\"SYSTEM_SYSRULES_aggregationFields\"(\n              groupings: #\"SYSTEM_SYSRULES_forEach\"(\n                items: ri!groupByFields,\n                expression: #\"SYSTEM_SYSRULES_grouping\"(field: fv!item, alias: tostring(fv!item))\n              ),\n              measures: #\"SYSTEM_SYSRULES_measure\"(\n                field: ri!groupByFields[1],\n                function: \"COUNT\",\n                alias: \"count\"\n              )\n            )\n          ),\n          filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            ignoreFiltersWithEmptyValues: true,\n            logicalExpressions: {\n              ri!logicalExpressions,\n              if(\n                and(\n                  a!isNotNullOrEmpty(ri!searchFields),\n                  a!isNotNullOrEmpty(ri!searchTerm)\n                ),\n                #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                  operator: \"AND\",\n                  logicalExpressions: #\"SYSTEM_SYSRULES_forEach\"(\n                    items: split(trim(ri!searchTerm), \" \"),\n                    expression: a!localVariables(\n                      local!splitSearchTerm: fv!item,\n                      #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                        operator: \"OR\",\n                        filters: #\"SYSTEM_SYSRULES_forEach\"(\n                          items: ri!searchFields,\n                          expression: #\"SYSTEM_SYSRULES_queryFilter\"(\n                            field: fv!item,\n                            operator: \"includes\",\n                            value: local!splitSearchTerm\n                          )\n                        )\n                      )\n                    )\n                  )\n                ),\n                {}\n              )\n            },\n            filters: ri!filters\n          ),\n          pagingInfo: if(\n            a!isNullOrEmpty(ri!groupByFields),\n            local!queryParams.pagingInfo,\n            #\"urn:appian:function:v1:a:update\"(\n              local!queryParams.pagingInfo,\n              \"sort\",\n              null\n            )\n          ),\n          fetchTotalCount: local!queryParams.fetchTotalCount,\n          relatedRecordData: if(\n            a!isNullOrEmpty(ri!groupByFields),\n            ri!relatedRecordData,\n            {}\n          )\n        ),\n        refreshOnVarChange: ri!triggerRefresh,\n        refreshAfter: { \"RECORD_ACTION\" }\n      ),\n      /*Format the output*/\n      local!output: a!match(\n        value: local!returnType,\n        equals: \"OBJECT_ARRAY\",\n        then: cast(\n          local!queryParams.castToType,\n          local!queryResult.data\n        ),\n        equals: \"SINGLE_OBJECT\",\n        then: cast(\n          local!queryParams.castToType,\n          local!queryResult.data\n        ),\n        equals: \"DATA_SUBSET\",\n        then: cast(\n          local!queryParams.castToType,\n          local!queryResult\n        ),\n        equals: \"TOTAL_COUNT\",\n        then: local!queryResult.totalCount,\n        default: null\n      ),\n      local!output\n    )\n  )\n)"
    },
    "_a-0000e9ca-3659-8000-9bb8-011c48011c48_137280": {
      "name": "CMGT_UTIL_DistinctRecords",
      "type": "Expression Rule",
      "sail_code": "if(\n  or(\n    a!isNullOrEmpty(ri!records),\n    a!isNullOrEmpty(ri!fields)\n  ),\n  ri!records,\n  with(\n    local!indexed: #\"SYSTEM_SYSRULES_forEach\"(\n      items: a!flatten(ri!records),\n      expression: a!map(\n        record: fv!item,\n        distinct: joinarray(\n          apply(\n            index(fv!item, _, null),\n            a!flatten(ri!fields)\n          ),\n          \"|\"\n        )\n      )\n    ),\n    local!distinctItems: union(\n      local!indexed.distinct,\n      local!indexed.distinct\n    ),\n    apply(\n      displayvalue(\n        _,\n        local!indexed.distinct,\n        local!indexed.record,\n        null\n      ),\n      local!distinctItems\n    )\n  )\n)"
    },
    "_a-0000e99c-1217-8000-9ba9-011c48011c48_52277": {
      "name": "CMGT_UTIL_HeaderField",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n  label: \"\",\n  contents: {\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            if(\n              and(\n                rule!CMGT_UTIL_IsBlank(ri!secondaryText),\n                rule!CMGT_UTIL_IsBlank(ri!labelIcon)\n              ),\n              #\"SYSTEM_SYSRULES_headingField\"(\n                text: rule!CMGT_UTIL_ReplaceArgs(string: ri!label, args: ri!labelArguments),\n                color: a!defaultValue(\n                  value: ri!labelColor,\n                  default: ri!brandingMap.SecondaryHeaderColor\n                ),\n                fontWeight: a!defaultValue(\n                  value: ri!labelFontWeight,\n                  default: ri!brandingMap.SecondaryHeaderFontWeight\n                ),\n                size: a!defaultValue(\n                  value: ri!labelSize,\n                  default: ri!brandingMap.SecondaryHeaderSize\n                ),\n                headingTag: \"H2\",\n                marginAbove: \"LESS\",\n                marginBelow: \"LESS\"\n              ),\n              #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n                label: rule!CMGT_UTIL_ReplaceArgs(string: ri!label, args: ri!labelArguments),\n                contents: {\n                  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                    value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                      text: ri!secondaryText,\n                      style: \"EMPHASIS\",\n                      color: a!defaultValue(\n                        value: ri!labelColor,\n                        default: ri!brandingMap.SecondaryTextColor\n                      ),\n                      size: \"SMALL\"\n                    ),\n                    labelPosition: \"COLLAPSED\",\n                    showWhen: a!isNotNullOrEmpty(ri!secondaryText)\n                  )\n                },\n                labelIcon: ri!labelIcon,\n                iconAltText: ri!iconAltText,\n                labelSize: a!defaultValue(value: ri!labelSize, default: \"SMALL\"),\n                labelHeadingTag: \"H2\",\n                labelColor: a!defaultValue(\n                  value: ri!labelColor,\n                  default: ri!brandingMap.SecondaryTextColor\n                ),\n                marginAbove: \"NONE\",\n                marginBelow: \"NONE\"\n              )\n            )\n          },\n          width: if(\n            a!isNotNullOrEmpty(ri!rightSideContents),\n            \"AUTO\",\n            \"MEDIUM\"\n          )\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: ri!rightSideContents,\n          width: \"AUTO\"\n        )\n      },\n      alignVertical: \"MIDDLE\",\n      marginAbove: \"NONE\",\n      marginBelow: \"NONE\",\n      stackWhen: { \"NEVER\" }\n    )\n  },\n  showWhen: a!defaultValue(ri!showWhen, true),\n  divider: a!defaultValue(ri!divider, \"BELOW\"),\n  dividerColor: ri!brandingMap.DividerColor,\n  marginAbove: a!defaultValue(ri!marginAbove, \"NONE\"),\n  marginBelow: a!defaultValue(ri!marginBelow, \"NONE\")\n)"
    },
    "_a-0000eccd-140e-8000-9d02-011c48011c48_3331206": {
      "name": "CMGT_WFL_MTR_UserCreatesAutomationRule",
      "type": "Expression Rule",
      "sail_code": "now()"
    },
    "_a-0000ed89-fd25-8000-9d52-011c48011c48_3948076": {
      "name": "CMGT_WFL_MTR_CreateCaseTypeAssignCaseAutomationRule",
      "type": "Expression Rule",
      "sail_code": "now()"
    },
    "_a-0000eb2c-b6af-8000-9c5d-011c48011c48_1453742": {
      "name": "CMGT_UTIL_ReplaceArgs",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!args),\n  ri!string,\n  reduce(\n    substitute(_, _, _),\n    ri!string,\n    merge(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: a!keys(ri!args),\n        expression: \"@|\" & fv!item & \"|@\"\n      ),\n      touniformstring(ri!args[a!keys(ri!args)])\n    )\n  )\n)"
    },
    "_a-0000ec99-fdab-8000-9cee-011c48011c48_3075025": {
      "name": "CMGT_Automation_ConditionValueField",
      "type": "Interface",
      "sail_code": "if(\n  rule!CMGT_Automation_Condition_HideValueField(operator: ri!operator),\n  null,\n  a!match(\n    value: ri!valueType,\n    /*if the selected field's type is text, display a text field*/\n    whenTrue: contains(\n      { \"TEXT\", \"LONG_TEXT\", \"XL_TEXT\"},\n      fv!value\n    ),\n    then: a!match(\n      value: ri!operator,\n      default: #\"SYSTEM_SYSRULES_textField\"(\n        label: #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\",\n        labelPosition: \"ABOVE\",\n        value: if(\n          a!isNotNullOrEmpty(ri!valueJson),\n          #\"SYSTEM_SYSRULES_fromJson_v1\"(ri!valueJson).value,\n          null\n        ),\n        saveInto: {\n          a!save(\n            ri!valueJson,\n            #\"SYSTEM_SYSRULES_toJson_v1\"(value: a!map(value: trim(save!value)))\n          )\n        },\n        required: true(),\n        requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n          #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\"\n        ),\n        /*validations thrown after 500 char limit*/\n        characterLimit: 500,\n        disabled: not(a!defaultValue(ri!isValid, true)),\n        showWhen: ri!showWhen,\n        showCharacterCount: false,\n        accessibilityText: #\"urn:appian:translation-string:v1:2890975e-6c01-46ca-98ac-00bf6224adb4\"(\n          #\"urn:appian:translation-variable:v1:7dc6f098-2add-4748-a2b2-765fef222933\": ri!displayIndex,\n          #\"urn:appian:translation-variable:v1:87b26f15-f52b-402d-96f6-da9ea95f8a17\": ri!totalConditionsDisplayed\n        ),\n        validationGroup: ri!validationGroup\n      )\n    ),\n    /*if the selected field's type is integer, display an integer field*/\n    equals: \"INTEGER\",\n    then: a!match(\n      value: ri!operator,\n      default: #\"SYSTEM_SYSRULES_integerField\"(\n        label: #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\",\n        labelPosition: \"ABOVE\",\n        value: if(\n          a!isNotNullOrEmpty(ri!valueJson),\n          #\"SYSTEM_SYSRULES_fromJson_v1\"(ri!valueJson).value,\n          null\n        ),\n        saveInto: {\n          a!save(\n            ri!valueJson,\n            #\"SYSTEM_SYSRULES_toJson_v1\"(value: a!map(value: save!value))\n          )\n        },\n        required: true(),\n        requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n          #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\"\n        ),\n        disabled: not(a!defaultValue(ri!isValid, true)),\n        showWhen: ri!showWhen,\n        accessibilityText: #\"urn:appian:translation-string:v1:2890975e-6c01-46ca-98ac-00bf6224adb4\"(\n          #\"urn:appian:translation-variable:v1:7dc6f098-2add-4748-a2b2-765fef222933\": ri!displayIndex,\n          #\"urn:appian:translation-variable:v1:87b26f15-f52b-402d-96f6-da9ea95f8a17\": ri!totalConditionsDisplayed\n        ),\n        validationGroup: ri!validationGroup\n      )\n    ),\n    /*if the selected field's type is decimal, display a floating point field*/\n    equals: \"DECIMAL\",\n    then: a!match(\n      value: ri!operator,\n      default: #\"SYSTEM_SYSRULES_floatingPointField\"(\n        label: #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\",\n        labelPosition: \"ABOVE\",\n        value: if(\n          a!isNotNullOrEmpty(ri!valueJson),\n          #\"SYSTEM_SYSRULES_fromJson_v1\"(ri!valueJson).value,\n          null\n        ),\n        saveInto: {\n          a!save(\n            ri!valueJson,\n            #\"SYSTEM_SYSRULES_toJson_v1\"(value: a!map(value: save!value))\n          )\n        },\n        required: true(),\n        requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n          #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\"\n        ),\n        disabled: not(a!defaultValue(ri!isValid, true)),\n        showWhen: ri!showWhen,\n        accessibilityText: #\"urn:appian:translation-string:v1:2890975e-6c01-46ca-98ac-00bf6224adb4\"(\n          #\"urn:appian:translation-variable:v1:7dc6f098-2add-4748-a2b2-765fef222933\": ri!displayIndex,\n          #\"urn:appian:translation-variable:v1:87b26f15-f52b-402d-96f6-da9ea95f8a17\": ri!totalConditionsDisplayed\n        ),\n        validationGroup: ri!validationGroup\n      )\n    ),\n    /*if the selected field's type is date, display field components based on the operator selected*/\n    equals: \"DATE\",\n    then: a!match(\n      value: ri!operator,\n      /*date inputs required if any of the following operators are chosen. hence a date field is displayed*/\n      whenTrue: contains(\n        {\n          cons!CMGT_TXT_AUTOMATION_OPERATOR_BEFORE_TARGET_DATE,\n          cons!CMGT_TXT_AUTOMATION_OPERATOR_ON_OR_BEFORE_TARGET_DATE,\n          cons!CMGT_TXT_AUTOMATION_OPERATOR_AFTER_TARGET_DATE,\n          cons!CMGT_TXT_AUTOMATION_OPERATOR_ON_OR_AFTER_TARGET_DATE,\n          cons!CMGT_TXT_AUTOMATION_OPERATOR_EQUAL_TO,\n          cons!CMGT_TXT_AUTOMATION_OPERATOR_NOT_EQUAL_TO,\n          cons!CMGT_TXT_AUTOMATION_OPERATOR_INCLUDES,\n          cons!CMGT_TXT_AUTOMATION_OPERATOR_DOES_NOT_INCLUDE\n        },\n        fv!value\n      ),\n      then: #\"SYSTEM_SYSRULES_dateField\"(\n        label: #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\",\n        labelPosition: \"ABOVE\",\n        value: if(\n          a!isNotNullOrEmpty(ri!valueJson),\n          #\"SYSTEM_SYSRULES_fromJson_v1\"(ri!valueJson).value,\n          null\n        ),\n        saveInto: {\n          a!save(\n            ri!valueJson,\n            #\"SYSTEM_SYSRULES_toJson_v1\"(value: a!map(value: save!value))\n          )\n        },\n        required: true(),\n        requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n          #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\"\n        ),\n        disabled: not(a!defaultValue(ri!isValid, true)),\n        showWhen: ri!showWhen,\n        accessibilityText: #\"urn:appian:translation-string:v1:2890975e-6c01-46ca-98ac-00bf6224adb4\"(\n          #\"urn:appian:translation-variable:v1:7dc6f098-2add-4748-a2b2-765fef222933\": ri!displayIndex,\n          #\"urn:appian:translation-variable:v1:87b26f15-f52b-402d-96f6-da9ea95f8a17\": ri!totalConditionsDisplayed\n        ),\n        validationGroup: ri!validationGroup\n      ),\n      /*integer inputs for days are required if any of the following operators are chosen. hence integer field is displayed*/\n      whenTrue: contains(\n        {\n          cons!CMGT_TXT_AUTOMATION_OPERATOR_BEFORE_TODAY_OFFSET,\n          cons!CMGT_TXT_AUTOMATION_OPERATOR_ON_OR_BEFORE_TODAY_OFFSET,\n          cons!CMGT_TXT_AUTOMATION_OPERATOR_AFTER_TODAY_OFFSET,\n          cons!CMGT_TXT_AUTOMATION_OPERATOR_ON_OR_AFTER_TODAY_OFFSET\n        },\n        fv!value\n      ),\n      then: #\"SYSTEM_SYSRULES_integerField\"(\n        label: #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\",\n        labelPosition: \"ABOVE\",\n        value: if(\n          a!isNotNullOrEmpty(ri!valueJson),\n          #\"SYSTEM_SYSRULES_fromJson_v1\"(ri!valueJson).value,\n          null\n        ),\n        saveInto: {\n          a!save(\n            ri!valueJson,\n            #\"SYSTEM_SYSRULES_toJson_v1\"(value: a!map(value: save!value))\n          )\n        },\n        required: true(),\n        requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n          #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\"\n        ),\n        disabled: not(a!defaultValue(ri!isValid, true)),\n        showWhen: ri!showWhen,\n        accessibilityText: #\"urn:appian:translation-string:v1:2890975e-6c01-46ca-98ac-00bf6224adb4\"(\n          #\"urn:appian:translation-variable:v1:7dc6f098-2add-4748-a2b2-765fef222933\": ri!displayIndex,\n          #\"urn:appian:translation-variable:v1:87b26f15-f52b-402d-96f6-da9ea95f8a17\": ri!totalConditionsDisplayed\n        ),\n        validationGroup: ri!validationGroup\n      ),\n      default: null\n    ),\n    /*if the selected field's type is datetime, display field components based on the operator selected*/\n    equals: \"DATETIME\",\n    then: a!match(\n      value: ri!operator,\n      /*datetime inputs are required if any of the following operators are chosen. hence datetime field is displayed*/\n      whenTrue: contains(\n        {\n          cons!CMGT_TXT_AUTOMATION_OPERATOR_BEFORE_TARGET_DATETIME,\n          cons!CMGT_TXT_AUTOMATION_OPERATOR_AFTER_TARGET_DATETIME,\n          cons!CMGT_TXT_AUTOMATION_OPERATOR_EQUAL_TO,\n          cons!CMGT_TXT_AUTOMATION_OPERATOR_NOT_EQUAL_TO,\n          cons!CMGT_TXT_AUTOMATION_OPERATOR_INCLUDES,\n          cons!CMGT_TXT_AUTOMATION_OPERATOR_DOES_NOT_INCLUDE\n        },\n        fv!value\n      ),\n      then: #\"SYSTEM_SYSRULES_dateTimeField\"(\n        label: #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\",\n        labelPosition: \"ABOVE\",\n        value: if(\n          a!isNotNullOrEmpty(ri!valueJson),\n          #\"SYSTEM_SYSRULES_fromJson_v1\"(ri!valueJson).value,\n          null\n        ),\n        saveInto: {\n          a!save(\n            ri!valueJson,\n            #\"SYSTEM_SYSRULES_toJson_v1\"(value: a!map(value: save!value))\n          )\n        },\n        required: true(),\n        requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n          #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\"\n        ),\n        disabled: not(a!defaultValue(ri!isValid, true)),\n        showWhen: ri!showWhen,\n        accessibilityText: #\"urn:appian:translation-string:v1:2890975e-6c01-46ca-98ac-00bf6224adb4\"(\n          #\"urn:appian:translation-variable:v1:7dc6f098-2add-4748-a2b2-765fef222933\": ri!displayIndex,\n          #\"urn:appian:translation-variable:v1:87b26f15-f52b-402d-96f6-da9ea95f8a17\": ri!totalConditionsDisplayed\n        ),\n        validationGroup: ri!validationGroup\n      ),\n      /*integer inputs for days are required if any of the following operators are chosen. hence integer field is displayed*/\n      whenTrue: contains(\n        {\n          cons!CMGT_TXT_AUTOMATION_OPERATOR_BEFORE_NOW_OFFSET,\n          cons!CMGT_TXT_AUTOMATION_OPERATOR_AFTER_NOW_OFFSET\n        },\n        fv!value\n      ),\n      then: #\"SYSTEM_SYSRULES_integerField\"(\n        label: #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\",\n        labelPosition: \"ABOVE\",\n        value: if(\n          a!isNotNullOrEmpty(ri!valueJson),\n          #\"SYSTEM_SYSRULES_fromJson_v1\"(ri!valueJson).value,\n          null\n        ),\n        saveInto: {\n          a!save(\n            ri!valueJson,\n            #\"SYSTEM_SYSRULES_toJson_v1\"(value: a!map(value: save!value))\n          )\n        },\n        disabled: not(a!defaultValue(ri!isValid, true)),\n        showWhen: ri!showWhen,\n        required: true(),\n        requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n          #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\"\n        ),\n        accessibilityText: #\"urn:appian:translation-string:v1:2890975e-6c01-46ca-98ac-00bf6224adb4\"(\n          #\"urn:appian:translation-variable:v1:7dc6f098-2add-4748-a2b2-765fef222933\": ri!displayIndex,\n          #\"urn:appian:translation-variable:v1:87b26f15-f52b-402d-96f6-da9ea95f8a17\": ri!totalConditionsDisplayed\n        ),\n        validationGroup: ri!validationGroup\n      ),\n      default: null\n    ),\n    /*if boolean, no additional inputs are required as it is covered in operator selection. hence no field is displayed*/\n    equals: \"BOOLEAN\",\n    then: null,\n    equals: \"GROUP\",\n    then: #\"SYSTEM_SYSRULES_pickerFieldGroups\"(\n      label: #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\",\n      maxSelections: 1,\n      showWhen: ri!showWhen,\n      groupFilter: cons!CMGT_GRP_BUSINESS_GROUPS,\n      disabled: not(a!defaultValue(ri!isValid, true)),\n      saveInto: {\n        a!save(\n          ri!valueJson,\n          if(\n            a!isNullOrEmpty(save!value),\n            null,\n            #\"SYSTEM_SYSRULES_toJson_v1\"(value: a!map(value: save!value))\n          )\n        )\n      },\n      value: if(\n        a!isNotNullOrEmpty(ri!valueJson),\n        #\"SYSTEM_SYSRULES_fromJson_v1\"(ri!valueJson).value.id,\n        null\n      ),\n      required: true(),\n      requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n        #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\"\n      ),\n      accessibilityText: #\"urn:appian:translation-string:v1:2890975e-6c01-46ca-98ac-00bf6224adb4\"(\n        #\"urn:appian:translation-variable:v1:7dc6f098-2add-4748-a2b2-765fef222933\": ri!displayIndex,\n        #\"urn:appian:translation-variable:v1:87b26f15-f52b-402d-96f6-da9ea95f8a17\": ri!totalConditionsDisplayed\n      ),\n      validationGroup: ri!validationGroup\n    ),\n    whenTrue: tostring(ri!selectedField.fieldType) = \"RecordType\",\n    then: a!localVariables(\n      local!allSelectedExtraConfigurations: rule!CMGT_UTIL_Filter(\n        records: ri!selectedField.extraConfigurations.configurations.type,\n        field: \"code\",\n        value: ri!selectedExtraConfigurations.code,\n        filterType: \"FIRST_MATCH\"\n      ),\n      a!match(\n        value: local!allSelectedExtraConfigurations.recordTypeUuid,\n        equals: \"SYSTEM_RECORD_TYPE_USER\",\n        then: #\"SYSTEM_SYSRULES_pickerFieldUsers\"(\n          label: #\"urn:appian:translation-string:v1:0698e0da-27c8-4e13-9005-c899baa073a1\",\n          maxSelections: 1,\n          showWhen: ri!showWhen,\n          groupFilter: cons!CMGT_GRP_INTERNAL_USERS,\n          disabled: not(a!defaultValue(ri!isValid, true)),\n          saveInto: {\n            a!save(\n              ri!valueJson,\n              if(\n                a!isNullOrEmpty(save!value),\n                null,\n                #\"SYSTEM_SYSRULES_toJson_v1\"(value: a!map(value: save!value))\n              )\n            )\n          },\n          value: if(\n            a!isNotNullOrEmpty(ri!valueJson),\n            #\"SYSTEM_SYSRULES_fromJson_v1\"(ri!valueJson).value.id,\n            null\n          ),\n          required: true(),\n          requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n            #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\"\n          ),\n          accessibilityText: #\"urn:appian:translation-string:v1:2890975e-6c01-46ca-98ac-00bf6224adb4\"(\n            #\"urn:appian:translation-variable:v1:7dc6f098-2add-4748-a2b2-765fef222933\": ri!displayIndex,\n            #\"urn:appian:translation-variable:v1:87b26f15-f52b-402d-96f6-da9ea95f8a17\": ri!totalConditionsDisplayed\n          ),\n          validationGroup: ri!validationGroup\n        ),\n        default: rule!CMGT_UTIL_RecordBackedDropdownField(\n          dropdownLabel: #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\",\n          dropdownLabelPosition: \"ABOVE\",\n          placeholder: #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\",\n          showWhen: ri!showWhen,\n          disabled: not(a!defaultValue(ri!isValid, true)),\n          required: true(),\n          requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n            #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\"\n          ),\n          recordType: local!allSelectedExtraConfigurations.recordType,\n          additionalFilters: local!allSelectedExtraConfigurations.filters.additionalFilters,\n          value: if(\n            a!isNotNullOrEmpty(ri!valueJson),\n            #\"SYSTEM_SYSRULES_fromJson_v1\"(ri!valueJson).value,\n            null\n          ),\n          saveInto: {\n            a!save(\n              ri!valueJson,\n              #\"SYSTEM_SYSRULES_toJson_v1\"(value: a!map(value: save!value))\n            )\n          },\n          accessibilityText: #\"urn:appian:translation-string:v1:2890975e-6c01-46ca-98ac-00bf6224adb4\"(\n            #\"urn:appian:translation-variable:v1:7dc6f098-2add-4748-a2b2-765fef222933\": ri!displayIndex,\n            #\"urn:appian:translation-variable:v1:87b26f15-f52b-402d-96f6-da9ea95f8a17\": ri!totalConditionsDisplayed\n          ),\n          validationGroup: ri!validationGroup,\n          labelField: local!allSelectedExtraConfigurations.filters.dropdownFieldLabels,\n        )\n      )\n    ),\n    whenTrue: tostring(ri!selectedField.fieldType) = \"USERNAME\",\n    then: #\"SYSTEM_SYSRULES_pickerFieldUsers\"(\n      label: #\"urn:appian:translation-string:v1:0698e0da-27c8-4e13-9005-c899baa073a1\",\n      maxSelections: 1,\n      showWhen: ri!showWhen,\n      groupFilter: cons!CMGT_GRP_BUSINESS_GROUPS,\n      disabled: not(a!defaultValue(ri!isValid, true)),\n      saveInto: {\n        a!save(\n          ri!valueJson,\n          if(\n            a!isNullOrEmpty(save!value),\n            null,\n            #\"SYSTEM_SYSRULES_toJson_v1\"(value: a!map(value: save!value))\n          )\n        )\n      },\n      value: if(\n        a!isNotNullOrEmpty(ri!valueJson),\n        #\"SYSTEM_SYSRULES_fromJson_v1\"(ri!valueJson).value.id,\n        null\n      ),\n      required: true(),\n      requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n        #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\"\n      ),\n      accessibilityText: #\"urn:appian:translation-string:v1:2890975e-6c01-46ca-98ac-00bf6224adb4\"(\n        #\"urn:appian:translation-variable:v1:7dc6f098-2add-4748-a2b2-765fef222933\": ri!displayIndex,\n        #\"urn:appian:translation-variable:v1:87b26f15-f52b-402d-96f6-da9ea95f8a17\": ri!totalConditionsDisplayed\n      ),\n      validationGroup: ri!validationGroup\n    ),\n    /*if the selected field's type is choicelist, display a studio dropdown field that lists all the choice labels*/\n    whenTrue: touniformstring(ri!selectedField.fieldType) = \"CHOICE_LIST\",\n    then: a!match(\n      value: ri!operator,\n      default: a!localVariables(\n        local!ootbCaseAdditionalInfo: rule!CMGT_UTIL_Filter(\n          records: {\n            a!map(\n              displayName: \"Status\",\n              logicFieldName: \"status\",\n              dropdownFieldLabels: recordType!CMGT_CFG_Status.statusLabel,\n              additionalFilters: #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_CFG_Status.type,\n                operator: \"=\",\n                value: a!match(\n                  value: ri!selectedField.parentRecordTypeUuid,\n                  equals: cons!CMGT_UUID_RECORD_TYPE_CASE,\n                  then: \"CASE\",\n                  default: \"TASK\"\n                )\n              )\n            )\n          },\n          field: \"displayName\",\n          value: ri!selectedField.displayName\n        ),\n        rule!CMGT_UTIL_RecordBackedDropdownField(\n          dropdownLabel: #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\",\n          dropdownLabelPosition: \"ABOVE\",\n          recordType: ri!selectedField.recordType,\n          placeholder: #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\",\n          additionalFilters: local!ootbCaseAdditionalInfo.additionalFilters,\n          value: if(\n            a!isNotNullOrEmpty(ri!valueJson),\n            #\"SYSTEM_SYSRULES_fromJson_v1\"(ri!valueJson).value,\n            null\n          ),\n          saveInto: {\n            a!save(\n              ri!valueJson,\n              #\"SYSTEM_SYSRULES_toJson_v1\"(value: a!map(value: save!value))\n            )\n          },\n          required: true(),\n          requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n            #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:a51ef9e5-5526-45f8-83d7-859ef23b021c\"\n          ),\n          disabled: not(a!defaultValue(ri!isValid, true)),\n          showWhen: ri!showWhen,\n          accessibilityText: #\"urn:appian:translation-string:v1:2890975e-6c01-46ca-98ac-00bf6224adb4\"(\n            #\"urn:appian:translation-variable:v1:7dc6f098-2add-4748-a2b2-765fef222933\": ri!displayIndex,\n            #\"urn:appian:translation-variable:v1:87b26f15-f52b-402d-96f6-da9ea95f8a17\": ri!totalConditionsDisplayed\n          ),\n          validationGroup: ri!validationGroup,\n          labelField: local!ootbCaseAdditionalInfo.dropdownFieldLabels,\n        )\n      )\n    ),\n    default: null\n  )\n)"
    },
    "_a-0000ea72-a399-8000-9c0d-011c48011c48_863909": {
      "name": "CMGT_UTIL_ValidateSLA",
      "type": "Expression Rule",
      "sail_code": "{\n  if(\n    /*Allows nulls & integers*/\n    regexmatch(\"^(-?(0|[1-9]\\d*)|)$\", ri!value) <> true(),\n    #\"urn:appian:translation-string:v1:0ab37401-6bd6-43b5-8b4a-484b1b1c7378\",\n    if(\n      and(\n        tointeger(ri!value) < 0,\n        a!isNotNullOrEmpty(ri!value)\n      ),\n      #\"urn:appian:translation-string:v1:f1ea8a38-1904-4cd0-80cc-1f1c119f5abe\",\n      if(\n        and(\n          tointeger(ri!value) > cons!CMGT_MAX_SLA_DAYS,\n          a!isNotNullOrEmpty(ri!value)\n        ),\n        #\"urn:appian:translation-string:v1:2cfd2a67-27ef-4dc4-b0d5-6fb08358e1ee\"(\n          #\"urn:appian:translation-variable:v1:9c7b4738-1840-4d1b-a7ab-0e41ce103e3e\": cons!CMGT_MAX_SLA_DAYS\n        ),\n        null\n      )\n    )\n  )\n}"
    },
    "_a-0000eb69-802f-8000-9c71-011c48011c48_1777075": {
      "name": "CMGT_WFL_CaseTypeWorkflowTasks_MergeMilestonesToTasks",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!tasksThatNeedMilestones: rule!CMGT_UTIL_Filter(\n    records: ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone.milestoneUuid,\n    value: null,\n    filterType: \"REJECT\"\n  ),\n  if(\n    rule!CMGT_UTIL_IsBlank(local!tasksThatNeedMilestones),\n    ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n    a!localVariables(\n      local!referenceMilestones: rule!CMGT_WFL_QR_GetReferenceMilestone(\n        returnType: \"OBJECT_ARRAY\",\n        caseTypeUuid: ri!caseType[recordType!CMGT_CFG_CaseType.uuid]\n      ),\n      a!flatten(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n          expression: #\"urn:appian:function:v1:a:update\"(\n            data: fv!item,\n            index: {\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeUuid,\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.milestoneId,\n\n            },\n            value: {\n              ri!caseType[recordType!CMGT_CFG_CaseType.uuid],\n              if(\n                rule!CMGT_UTIL_IsBlank(\n                  fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone.milestoneUuid]\n                ),\n                null,\n                rule!CMGT_UTIL_Filter(\n                  records: local!referenceMilestones,\n                  field: recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid,\n                  value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone.milestoneUuid],\n                  filterType: \"FIRST_MATCH\"\n                )[recordType!CMGT_WFL_CFG_ReferenceMilestone.referenceMilestoneId]\n              )\n            }\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "89279547-29f9-4039-b557-c2f2efcf01a9": {
      "name": "CMGT_WFL_CaseTypeWorkflowTasks_FindPreviousTasksInTree",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!allTasks: ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n  if(\n      a!isNullOrEmpty(ri!taskUuId),\n     {},\n  reduce(\n  rule!CMGT_WFL_CaseTypeWorkflowTasks_FindPreviousTasksInTree_Reducer(\n    allTasks: local!allTasks,\n    caseTypeWorkflowTaskBranches: ri!caseTypeWorkflowTaskBranches,\n    treeTasks: _,\n    index:_\n  ),\n  rule!CMGT_UTIL_Filter(\n    records: local!allTasks,\n    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n    value: ri!taskUuId\n  ),\n  enumerate(length(local!allTasks)\n  )\n  )\n)\n)"
    },
    "_a-0000eb57-0ad2-8000-9c6b-011c48011c48_1719972": {
      "name": "CMGT_NCF_updateNodeOrderBasedOnPrecedents",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!precedentEdges: a!refreshVariable(\n    value: rule!CMGT_UTIL_Filter(\n      records: ri!allEdges,\n      fieldValuePairs: {\n        a!map(field: \"to\", value: ri!currentNode.id)\n      }\n    ),\n    refreshAlways: true\n  ),\n  local!requiredPrecedentEdges: a!refreshVariable(\n    value: rule!CMGT_UTIL_Filter(\n      records: local!precedentEdges,\n      fieldValuePairs: { a!map(field: \"dashes\", value: false) }\n    ),\n    refreshAlways: true\n  ),\n  local!precedentEdgesFromSortedNodes: a!refreshVariable(\n    value: rule!CMGT_UTIL_Filter(\n      records: ri!edgesToUnorderedNodes,\n      field: \"to\",\n      value: ri!currentNode.id\n    ),\n    refreshAlways: true\n  ),\n  if(\n    /*since the currentNode is sourced from dependentUnorderedNodes, it will always have at least one precedent*/\n    /*if there are no required precedents and the non-required precedents are not sorted, return nothing*/\n    and(\n      a!isNullOrEmpty(local!requiredPrecedentEdges),\n      a!isNullOrEmpty(local!precedentEdgesFromSortedNodes)\n    ),\n    {},\n    or(\n      /*if there are no required precedents and any of the non-required precedents are sorted, give it an order */\n      and(\n        a!isNullOrEmpty(local!requiredPrecedentEdges),\n        a!isNotNullOrEmpty(local!precedentEdgesFromSortedNodes)\n      ),\n      /*if all required precedents are already sorted, give it an order*/\n      a!isNullOrEmpty(\n        difference(\n          local!requiredPrecedentEdges,\n          local!precedentEdgesFromSortedNodes\n        )\n      )\n    ),\n    #\"urn:appian:function:v1:a:update\"(\n      data: ri!currentNode,\n      index: \"verticalOrder\",\n      value: tointeger(\n        max(ri!orderedNodes.verticalOrder) + 1\n      )\n    ),\n    /*if the node has required precedents which are not already sorted, return nothing*/\n    {}\n  )\n)"
    },
    "_a-0000eafa-b342-8000-9c45-011c48011c48_1299921": {
      "name": "CMGT_UTIL_IsMobileScreenSize",
      "type": "Expression Rule",
      "sail_code": "=#\"SYSTEM_SYSRULES_isPageWidth\"({\"PHONE\", \"TABLET_PORTRAIT\"})"
    },
    "_a-0000ed49-63d5-8000-9d3e-011c48011c48_3619696": {
      "name": "CMGT_WFL_SendEmailReferenceTask_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!sendEmailReferenceTask,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_SendEmailReferenceTask.modifiedBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_SendEmailReferenceTask.modifiedOn,\n        value: now()\n      )\n    },\n    /*Only modify these fields if they are currently null*/\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_SendEmailReferenceTask.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_SendEmailReferenceTask.createdOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_SendEmailReferenceTask.isActive,\n        value: true\n      )\n    },\n    /*Set metadata for all child relationships*/\n    childRelationships: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_SendEmailReferenceTask.emailTemplate,\n        value: rule!CMGT_WFL_EmailTemplate_SetMetaData(\n          emailTemplates: fv!item[recordType!CMGT_WFL_CFG_SendEmailReferenceTask.emailTemplate],\n          initiator: ri!initiator\n        )\n      )\n    }\n  )\n)"
    },
    "_a-0000e9d3-70bf-8000-9bbd-011c48011c48_180481": {
      "name": "CMGT_UTIL_RejectBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n  runtimetypeof(a!flatten(ri!array)),\n  reject(a!isNullOrEmpty(_), a!flatten(ri!array))\n)"
    },
    "_a-0000ea1d-36f5-8000-9bef-011c48011c48_538451": {
      "name": "CMGT_UTIL_GenerateUuid_NonPlugin",
      "type": "Expression Rule",
      "sail_code": "/*Reference:\nhttps://community.appian.com/w/the-appian-playbook/846/generating-uuids-guids*/\nfn!lower(\n  concat(\n    {\n      dec2hex(tointeger(rand(4) * 256), 2),\n      /*8 hex digits*/\n      \"-\",\n      dec2hex(tointeger(rand(2) * 256), 2),\n      /*4 hex digits*/\n      \"-4\",\n      /*version 4 = completely random*/\n      dec2hex(rand(3) * 256, 1),\n      /*3 hex digits*/\n      \"-\",\n      bin2hex(\"10\" & dec2bin(rand(1) * 4, 2), 1),\n      /*1 hex digit = Variant: 1st 2 bits=10=[ISO/IEC] + 2 rand bits*/\n      dec2hex(rand(3) * 256, 1),\n      /*3 hex digits*/\n      \"-\",\n      dec2hex(tointeger(rand(6) * 256), 2),\n      /*12 hex digits*/\n      \n    }\n  )\n)"
    },
    "_a-0000eb8e-69e6-8000-9c8c-011c48011c48_1959462": {
      "name": "CMGT_WFL_CaseType_RecordAction_WorkflowCreateEdit",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!errorOnCancel,\n  local!brandingMap: rule!CMGT_CB_UTIL_LoadBrandingMap(),\n  local!selectedCaseTypeWorkflowTaskUuid,\n  /*For the relationship to caseTypeWorkflowTasks,\n  filtering occurs in the initialize parameters rule\n  that goes into this rule to remove triggers and automations\n  */\n  local!isCreateCaseTypeWorkflow: a!isNullOrEmpty(\n    ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask.caseTypeWorkflowTaskId]\n  ),\n  /*Dummy Start Task*/\n  local!startTaskUUID: rule!CMGT_UTIL_GenerateUuid_NonPlugin(),\n  local!startTask: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask(\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTaskId: 0,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid: local!startTaskUUID,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.startsByDefault: false,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive: true,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeUuid: ri!caseType[recordType!CMGT_CFG_CaseType.uuid],\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label: #\"urn:appian:translation-string:v1:ca8737d3-bee3-452c-9475-419cf1366475\",\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskIntentionCode: cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_WORKFLOW,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorTypeId: 0,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTask: recordType!CMGT_WFL_CFG_ReferenceTask(\n      recordType!CMGT_WFL_CFG_ReferenceTask.referenceTaskId: 0,\n      recordType!CMGT_WFL_CFG_ReferenceTask.nameLabel: #\"urn:appian:translation-string:v1:ca8737d3-bee3-452c-9475-419cf1366475\",\n      recordType!CMGT_WFL_CFG_ReferenceTask.isActive: true\n    )\n  ),\n  local!selectedChildConditionSetUuid,\n  local!activeCaseTypes: rule!CMGT_QR_GetCaseType(\n    returnType: \"OBJECT_ARRAY\",\n    includeInactive: false,\n    isCaseCategory: false,\n    fields: recordType!CMGT_CFG_CaseType.uuid\n  ),\n  /*Update the case type id as null if the selected case type is inactive in Create Case Tasks*/\n  local!updatedInactiveCaseTypeIdsInCreateCaseTasks: if(\n    a!isNullOrEmpty(\n      ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n\n    ),\n    /*skip the logic if this is create scenario*/\n    ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n      expression: if(\n        and(\n          fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_CREATE_CASE,\n          rule!CMGT_UTIL_IsNotBlank(local!activeCaseTypes),\n          rule!CMGT_UTIL_IsBlank(\n            rule!CMGT_UTIL_Filter(\n              records: local!activeCaseTypes,\n              field: recordType!CMGT_CFG_CaseType.uuid,\n              value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.createCaseCaseTypeWorkflowTask.caseTypeUuid],\n\n            )\n          )\n        ),\n        #\"urn:appian:function:v1:a:update\"(\n          data: fv!item,\n          index: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.createCaseCaseTypeWorkflowTask.caseTypeUuid,\n          value: null\n        ),\n        fv!item\n      )\n    )\n  ),\n  /* Logic for variables used in create tasks and task branches starts here */\n  /*Mapping existing tasks with startbyDefault as true() to the placeholder start task*/\n  local!startTaskMappedCaseTypeWorkflowTasks: if(\n    a!isNullOrEmpty(\n      ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask]\n    ),\n    /*skip the logic if this is create scenario*/\n    ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!updatedInactiveCaseTypeIdsInCreateCaseTasks,\n      expression: if(\n        fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.startsByDefault],\n        #\"urn:appian:function:v1:a:update\"(\n          data: fv!item,\n          index: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches,\n          value: /*constructing one branch for the start task*/\n          append(\n            fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches],\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch(\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid: local!startTaskUUID,\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isRequired: true,\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive: true,\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n            )\n          )\n        ),\n        fv!item\n      )\n    )\n  ),\n  local!caseType: #\"urn:appian:function:v1:a:update\"(\n    ri!caseType,\n    recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask,\n    insert(\n      local!startTaskMappedCaseTypeWorkflowTasks,\n      local!startTask,\n      1\n    )\n  ),\n  local!caseTypeWorkFlowTasksOnLoad: a!refreshVariable(\n    value: local!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n    refreshOnReferencedVarChange: false\n  ),\n  /*Data for Add Conditions*/\n  local!conditionSets: a!refreshVariable(\n    value: cast(\n      #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n        recordType!CMGT_CFG_ConditionSet\n      ),\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: rule!CMGT_UTIL_RejectBlank(\n          array: {\n            local!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask]\n          }\n        ),\n        /* Default empty child condition set */\n        expression: if(\n          rule!CMGT_UTIL_IsBlank(\n            fv!item[recordType!CMGT_CFG_ConditionSet.childConditionSet]\n          ),\n          #\"urn:appian:function:v1:a:update\"(\n            data: fv!item,\n            index: recordType!CMGT_CFG_ConditionSet.childConditionSet,\n            value: rule!CMGT_WFL_Automation_initializeChildConditionSet(\n              parentConditionSetUUid: fv!item[recordType!CMGT_CFG_ConditionSet.conditionSetUuid]\n            )\n          ),\n          fv!item\n        )\n      )\n    ),\n    refreshOnReferencedVarChange: false\n  ),\n  /*Sets up missing default task branches */\n  local!defaultConditionWorkflowTaskBranch: a!refreshVariable(\n    value: rule!CMGT_UTIL_RejectBlank(\n      array: a!flatten(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: rule!CMGT_UTIL_Filter(\n            records: local!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n            field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorTypeId,\n            value: cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION\n          ),\n          expression: a!flatten(\n            {\n              a!localVariables(\n                local!thisTaskUuid: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                local!thisTaskConditionSet: rule!CMGT_UTIL_Filter(\n                  records: local!conditionSets,\n                  field: recordType!CMGT_CFG_ConditionSet.caseTypeWorkflowTaskUuid,\n                  value: local!thisTaskUuid\n                ),\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  items: a!flatten(\n                    local!thisTaskConditionSet[recordType!CMGT_CFG_ConditionSet.childConditionSet]\n                  ),\n                  expression: if(\n                    rule!CMGT_UTIL_IsBlank(\n                      value: a!flatten(\n                        rule!CMGT_UTIL_Filter(\n                          records: a!flatten(\n                            local!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask]\n                          ),\n                          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.conditionSetUuid,\n                          value: fv!item[recordType!CMGT_CFG_ConditionSet.conditionSetUuid]\n                        )\n                      )\n                    ),\n                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch(\n                      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.conditionSetUuid: fv!item[recordType!CMGT_CFG_ConditionSet.conditionSetUuid],\n                      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isRequired: false,\n                      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid: local!thisTaskUuid,\n                      /*Note, defaulting this to NULL until an actual selection is made so that the network renderer doesn't think there's a task*/\n                      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive: null\n                    ),\n                    null\n                  )\n                )\n              ),\n              /*Default task branches */\n              if(\n                a!isNullOrEmpty(\n                  rule!CMGT_UTIL_Filter(\n                    records: a!flatten(\n                      local!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask]\n                    ),\n                    fieldValuePairs: {\n                      a!map(\n                        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.conditionSetUuid,\n                        value: null\n                      ),\n                      a!map(\n                        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n                        value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n                      )\n                    }\n                  )\n                ),\n                recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch(\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.conditionSetUuid: null,\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isRequired: false,\n                  /*Note, defaulting this to NULL until an actual selection is made so that the network renderer doesn't think there's a task*/\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive: null\n                ),\n                null\n              )\n            }\n          )\n        )\n      )\n    ),\n    refreshOnReferencedVarChange: false\n  ),\n  local!caseTypeWorkflowTaskBranchMaps: a!refreshVariable(\n    value: rule!CMGT_WFL_GroupCaseTypeWorkflowTaskBranches(\n      caseTypeWorkflowTaskBranch: cast(\n        #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch\n        ),\n        rule!CMGT_UTIL_RejectBlank(\n          array: a!flatten(\n            {\n              local!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n              local!defaultConditionWorkflowTaskBranch,\n              if(\n                local!isCreateCaseTypeWorkflow,\n                recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch(\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid: local!startTaskUUID,\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isRequired: true,\n                  /*Note, defaulting this to NULL until an actual selection is made so that the network renderer doesn't think there's a task*/\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive: true\n                ),\n                {}\n              )\n            }\n          )\n        )\n      ),\n      caseType: local!caseType\n    ),\n    refreshOnReferencedVarChange: false()\n  ),\n  local!currentWorkflowStep: \"CONFIGURE_WORKFLOW\",\n  local!newCaseTypeWorkflowTasks: {},\n  local!conditionSetUUIDAddedToTaskBranches: a!refreshVariable(\n    value: #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!caseTypeWorkflowTaskBranchMaps,\n      expression: if(\n        a!isNotNullOrEmpty(fv!item.conditionSetUUID),\n        #\"urn:appian:function:v1:a:update\"(\n          data: fv!item.afterCaseTypeWorkflowTaskBranches,\n          index: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.conditionSetUuid,\n          value: fv!item.conditionSetUUID\n        ),\n        #\"urn:appian:function:v1:a:update\"(\n          data: fv!item.afterCaseTypeWorkflowTaskBranches,\n          index: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.conditionSetUuid,\n          value: null\n        )\n      )\n    ),\n    refreshOnReferencedVarChange: true\n  ),\n  local!workingcaseTypeWorkflowTaskBranches: rule!CMGT_UTIL_Filter(\n    records: rule!CMGT_UTIL_Filter(\n      filterType: \"REJECT\",\n      records: a!flatten(\n        local!conditionSetUUIDAddedToTaskBranches\n      ),\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n      value: local!startTaskUUID\n    ),\n    fieldValuePairs: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.caseTypeWorkflowTaskBranchId,\n        value: null()\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive,\n        value: false()\n      )\n    },\n    filterType: \"REJECT\"\n  ),\n  /*To get existing condition sets*/\n  local!existingConditionSetsWithoutChange: a!refreshVariable(\n    value: cast(\n      #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n        recordType!CMGT_CFG_ConditionSet\n      ),\n      rule!CMGT_UTIL_RejectBlank(\n        array: {\n          local!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask]\n        }\n      )\n    ),\n    refreshOnReferencedVarChange: false\n  ),\n  /*child contion sets of existing condition sets*/\n  local!conditionSetsToCompare: if(\n    a!isNotNullOrEmpty(\n      local!existingConditionSetsWithoutChange[recordType!CMGT_CFG_ConditionSet.childConditionSet]\n    ),\n    a!flatten(\n      local!existingConditionSetsWithoutChange[recordType!CMGT_CFG_ConditionSet.childConditionSet]\n    ),\n    recordType!CMGT_CFG_ConditionSet()\n  ),\n  local!updatedConditionSets: a!refreshVariable(\n    value: #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!conditionSets,\n      expression: #\"urn:appian:function:v1:a:update\"(\n        data: fv!item,\n        index: recordType!CMGT_CFG_ConditionSet.childConditionSet,\n        value: #\"SYSTEM_SYSRULES_forEach\"(\n          items: a!flatten(\n            fv!item[recordType!CMGT_CFG_ConditionSet.childConditionSet]\n          ),\n          expression: if(\n            and(\n              contains(\n                touniformstring(\n                  local!conditionSetsToCompare[recordType!CMGT_CFG_ConditionSet.conditionSetUuid]\n                ),\n                fv!item[recordType!CMGT_CFG_ConditionSet.conditionSetUuid]\n              ),\n              a!isNotNullOrEmpty(local!conditionSetsToCompare)\n            ),\n            fv!item,\n            /*rejecting the child condition set with no conditions other than the default condition set*/\n            if(\n              fv!item[recordType!CMGT_CFG_ConditionSet.isActive] = true,\n              if(\n                a!isNotNullOrEmpty(\n                  fv!item[recordType!CMGT_CFG_ConditionSet.condition]\n                ),\n                fv!item,\n                {}\n              ),\n              {}\n            )\n          )\n        )\n      )\n    ),\n    refreshOnReferencedVarChange: true\n  ),\n  local!caseTypeRemappedWithConditionSets: #\"urn:appian:function:v1:a:update\"(\n    local!caseType,\n    recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask,\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: rule!CMGT_UTIL_Filter(\n        records: local!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n        fieldValuePairs: {\n          a!map(\n            field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskId,\n            value: null()\n          ),\n          a!map(\n            field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive,\n            value: false()\n          )\n        },\n        filterType: \"REJECT\"\n      ),\n      expression: {\n        #\"urn:appian:function:v1:a:update\"(\n          fv!item,\n          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet,\n          rule!CMGT_UTIL_Filter(\n            records: local!updatedConditionSets,\n            field: recordType!CMGT_CFG_ConditionSet.caseTypeWorkflowTaskUuid,\n            value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n          )\n        )\n      }\n    )\n  ),\n  local!finalCaseTypeRemapped: #\"urn:appian:function:v1:a:update\"(\n    local!caseTypeRemappedWithConditionSets,\n    recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask,\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: rule!CMGT_UTIL_Filter(\n        records: local!caseTypeRemappedWithConditionSets[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n        fieldValuePairs: {\n          a!map(\n            field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskId,\n            value: null()\n          ),\n          a!map(\n            field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive,\n            value: false()\n          )\n        },\n        filterType: \"REJECT\"\n      ),\n      expression: #\"urn:appian:function:v1:a:update\"(\n        fv!item,\n        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches,\n        rule!CMGT_UTIL_Filter(\n          records: local!workingcaseTypeWorkflowTaskBranches,\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid,\n          value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n        )\n      )\n    )\n  ),\n  /*Used for validation that a given task can't be used more than 10 times in a Leads Into\n  ----\n  */\n  local!activeCaseTypeWorkflowTaskBranches: cast(\n    #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch\n    ),\n    rule!CMGT_UTIL_Filter(\n      records: rule!CMGT_UTIL_Filter(\n        records: a!flatten(\n          index(\n            local!caseTypeWorkflowTaskBranchMaps,\n            \"aftercaseTypeWorkflowTaskBranches\",\n            null\n          )\n        ),\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive,\n        value: true\n      ),\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid,\n      value: null,\n      filterType: \"REJECT\"\n    )\n  ),\n  local!uniqueAfterTaskUuids: rule!CMGT_UTIL_Distinct(\n    local!activeCaseTypeWorkflowTaskBranches[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid]\n  ),\n  local!activeMilestones: local!caseType[recordType!CMGT_CFG_CaseType.referenceMilestone],\n  local!workingMilestoneCaseType,\n  /*Return the task uuids that are used in a Leads Into more than 10 times*/\n  local!uniqueAfterTaskUuidsInViolation: rule!CMGT_UTIL_RejectBlank(\n    array: #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!uniqueAfterTaskUuids,\n      expression: if(\n        rule!CMGT_UTIL_Filter(\n          records: local!activeCaseTypeWorkflowTaskBranches,\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid,\n          value: fv!item,\n          filterType: \"MATCH_COUNT\"\n        ) > 10,\n        fv!item,\n        {}\n      )\n    )\n  ),\n  local!visibleCaseTypeWorkflowTaskIndices: rule!CMGT_UTIL_Filter(\n    records: local!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n    fieldValuePairs: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskIntentionCode,\n        value: cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_WORKFLOW\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive,\n        value: true\n      )\n    },\n    filterType: \"MATCH_INDICES\"\n  ),\n  local!visibleCaseTypeWorkflowTasks: local!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask][local!visibleCaseTypeWorkflowTaskIndices],\n  local!selectedCaseTypeWorkflowTask: rule!CMGT_UTIL_Filter(\n    records: local!visibleCaseTypeWorkflowTasks,\n    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n    value: if(\n      local!selectedCaseTypeWorkflowTaskUuid = \"m-0\",\n      local!startTaskUUID,\n      local!selectedCaseTypeWorkflowTaskUuid\n    ),\n    filterType: \"FIRST_MATCH\"\n  ),\n  local!taskResponseOptions: local!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskResponseOptions],\n  /*Tasks that have basic invalid basic details like name, description or SLA*/\n  local!invalidBasicTaskDetails: a!refreshVariable(\n    value: #\"SYSTEM_SYSRULES_forEach\"(\n      items: rule!CMGT_UTIL_Filter(\n        records: local!finalCaseTypeRemapped[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive,\n        value: true()\n      ),\n      expression: a!localVariables(\n        local!sla: rule!CMGT_UTIL_ContructSLAMap(\n          slaJson: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sla]\n        ),\n        if(\n          or(\n            {\n              len(\n                fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.description]\n              ) > cons!CMGT_INT_MAX_CHAR_LIMIT_EXTRA_LARGE,\n              len(\n                fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label]\n              ) > cons!CMGT_INT_MAX_CHAR_LIMIT_MEDIUM,\n              rule!CMGT_UTIL_IsNotBlank(\n                {\n                  rule!CMGT_UTIL_ValidateSLA(local!sla.days),\n                  rule!CMGT_UTIL_ValidateSLA(local!sla.hours),\n                  rule!CMGT_UTIL_ValidateSLA(local!sla.minutes)\n                }\n              ),\n              and(\n                fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid] = local!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                rule!CMGT_UTIL_IsNotBlank(local!selectedCaseTypeWorkflowTask),\n                rule!CMGT_UTIL_IsBlank(\n                  local!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label]\n                )\n              ),\n              and(\n                fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_CREATE_CASE,\n                rule!CMGT_UTIL_IsBlank(\n                  fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.createCaseCaseTypeWorkflowTask.caseTypeUuid]\n                )\n              ),\n              and(\n                or(\n                  fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_SEND_EMAIL,\n                  and(\n                    fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n                    fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction.actionCode] = cons!CMGT_CFG_TXT_ACT_SEND_EMAIL\n                  )\n                ),\n                or(\n                  rule!CMGT_UTIL_IsBlank(\n                    fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTask.emailTemplateUuid]\n                  ),\n                  or(\n                    #\"SYSTEM_SYSRULES_forEach\"(\n                      items: rule!CMGT_UTIL_ConstructRecipientsMap(\n                        recipientsJson: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTask.recipientEmailJson]\n                      ),\n                      expression: if(\n                        rule!CMGT_UTIL_IsNotBlank(\n                          rule!CMGT_UTIL_ValidateEmail(textInput: fv!item.id)\n                        ),\n                        true,\n                        false\n                      )\n                    )\n                  ),\n                  and(\n                    rule!CMGT_UTIL_IsBlank(\n                      fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTask.recipientEmailJson]\n                    ),\n                    rule!CMGT_UTIL_IsBlank(\n                      fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTask.recipientGroupJson]\n                    ),\n                    rule!CMGT_UTIL_IsBlank(\n                      fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTask.recipientRoleJson]\n                    ),\n                    rule!CMGT_UTIL_IsBlank(\n                      fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTask.recipientUserJson]\n                    )\n                  )\n                )\n              )\n            }\n          ),\n          fv!item,\n          {}\n        )\n      )\n    ),\n    refreshOnReferencedVarChange: true\n  ),\n  local!additionalValidationConditions: a!map(\n    taskNamesInViolation: if(\n      rule!CMGT_UTIL_IsBlank(local!uniqueAfterTaskUuidsInViolation),\n      {},\n      rule!CMGT_UTIL_Filter(\n        records: local!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n        value: local!uniqueAfterTaskUuidsInViolation\n      )[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label]\n    ),\n    /* Check if there are tasks mapped to start*/\n    tasksMappedtoStart: rule!CMGT_UTIL_Filter(\n      records: local!activeCaseTypeWorkflowTaskBranches,\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n      value: local!startTaskUUID,\n      filterType: \"FILTER\"\n    ),\n    /*Rejecting start task and tasks that startsByDefault from the tasks with no precedents*/\n    tasksWithNoPrecedents: rule!CMGT_UTIL_Filter(\n      records: rule!CMGT_UTIL_RejectBlank(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: local!finalCaseTypeRemapped[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n          expression: a!localVariables(\n            local!activeBeforeCaseTypeWorkFlowTaskBranches: rule!CMGT_UTIL_Filter(\n              records: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches],\n              field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive,\n              value: true\n            ),\n            if(\n              and(\n                rule!CMGT_UTIL_IsBlank(\n                  local!activeBeforeCaseTypeWorkFlowTaskBranches\n                ),\n                toboolean(\n                  fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive]\n                ) = true\n              ),\n              fv!item,\n              null\n            )\n          )\n        )\n      ),\n      fieldValuePairs: {\n        a!map(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n          value: local!startTaskUUID\n        ),\n        a!map(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.startsByDefault,\n          value: true()\n        )\n      },\n      filterType: \"REJECT\",\n      matchingCriteria: \"ANY\"\n    ),\n    doesNonStartTasksExist: length(\n      local!visibleCaseTypeWorkflowTaskIndices\n    ) > 1,\n    tasksWithInvalidBasicDetails: if(\n      rule!CMGT_UTIL_IsBlank(local!invalidBasicTaskDetails),\n      {},\n      local!invalidBasicTaskDetails\n    )\n  ),\n  local!allAvailableFields: rule!CMGT_returnAvailableFields(\n    caseTypeRecordTypeUuid: local!caseType[recordType!CMGT_CFG_CaseType.uuid],\n    parentCaseTypeRecordTypeUuid: local!caseType[recordType!CMGT_CFG_CaseType.parentUuid],\n    scope: \"TASK\"\n  ),\n  local!filteredAvailableFields: rule!CMGT_UTIL_Filter(\n    records: local!allAvailableFields,\n    fieldValuePairs: {\n      a!map(\n        field: \"uuid\",\n        value: rule!CMGT_ENUM_Automation_ootbCaseRecordFieldsToReject(context: null)\n      )\n    },\n    filterType: \"REJECT\"\n  ),\n  /*Variable to decide preview for email templates*/\n  local!isPreview: false(),\n  local!emailTemplates: rule!CMGT_WFL_QR_GetEmailTemplates(\n    returnType: \"OBJECT_ARRAY\",\n    sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_WFL_CFG_EmailTemplate.templateName,\n      ascending: true()\n    )\n  ),\n  /*List of new email templates*/\n  local!newEmailTemplates: rule!CMGT_UTIL_Filter(\n    records: local!emailTemplates,\n    field: recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateId,\n    value: null,\n\n  ),\n  local!selectedEmailTemplate: rule!CMGT_UTIL_Filter(\n    records: local!emailTemplates,\n    field: recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid,\n    value: local!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTask.emailTemplateUuid]\n  ),\n  local!nonMappedNewEmailTemplateUuids,\n  local!sendEmailTaskWithNonMappedEmailTemplates,\n  /*Automation Activity Types*/\n  local!automationTypesData: rule!CMGT_UTIL_Filter(\n    records: rule!CMGT_CFG_ENUM_ACTIONS(),\n    field: \"context\",\n    value: cons!CMGT_CFG_TXT_ACT_CONTEXT_AUTOMATION\n  ),\n  /*Note: Only tracking automation rules that have been changed*/\n  local!trackAutomationRuleChanges: a!map(existing: null, new: null),\n  local!automationRuleMetrics,\n  /*\n  ----\n  */\n  a!match(\n    value: local!currentWorkflowStep,\n    equals: \"ADD_TASKS_EMPTY_STATE\",\n    then: {\n      #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n        contents: {\n          #\"SYSTEM_SYSRULES_stampField\"(\n            icon: \"network-wired\",\n            backgroundColor: local!brandingMap.LoudStampBackgroundColor,\n            contentColor: local!brandingMap.LoudStampContentColor,\n            align: \"CENTER\",\n            marginAbove: \"EVEN_MORE\",\n            marginBelow: \"MORE\"\n          ),\n          #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            value: {\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: #\"urn:appian:translation-string:v1:76dcbb52-a34c-42d3-9b00-a107ca4aefee\",\n                size: \"MEDIUM\",\n                style: { \"STRONG\" }\n              )\n            },\n            align: \"CENTER\",\n            marginBelow: \"STANDARD\"\n          ),\n          #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            labelPosition: \"COLLAPSED\",\n            value: {\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: #\"urn:appian:translation-string:v1:10499edb-ec99-43d9-8d96-de6ba696ddee\",\n                size: \"STANDARD\"\n              )\n            },\n            align: \"CENTER\",\n            marginBelow: \"MORE\"\n          ),\n          #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n            buttons: {\n              #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                label: #\"urn:appian:translation-string:v1:c512b062-c487-4b59-a5d9-e009552303aa\",\n                value: \"ADD_REF_TASKS\",\n                saveInto: local!currentWorkflowStep,\n                style: \"OUTLINE\",\n                color: local!brandingMap.AccentColor,\n                showWhen: local!currentWorkflowStep = \"ADD_TASKS_EMPTY_STATE\"\n              ),\n              #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                label: #\"urn:appian:translation-string:v1:23f8a61c-3268-4b1d-acb1-ae906e28de5e\",\n                value: \"ADD_TASK_BLOCKS\",\n                saveInto: local!currentWorkflowStep,\n                style: \"OUTLINE\",\n                color: local!brandingMap.AccentColor,\n                showWhen: local!currentWorkflowStep = \"ADD_TASKS_EMPTY_STATE\"\n              )\n            },\n            align: \"CENTER\"\n          ),\n          #\"SYSTEM_SYSRULES_cardLayout\"(\n            contents: {},\n            height: \"SHORT_PLUS\",\n            style: \"TRANSPARENT\",\n            marginBelow: \"STANDARD\",\n            showBorder: false\n          )\n        }\n      )\n    },\n    equals: \"ADD_REF_TASKS\",\n    then: {\n      rule!CMGT_WFL_CaseType_RecordAction_WorkflowTasksAdd_AddTasks(\n        brandingMap: local!brandingMap,\n        newCaseTypeWorkflowTasks: local!newCaseTypeWorkflowTasks,\n        currentWorkflowStep: local!currentWorkflowStep,\n        caseType: local!caseType,\n        activeCaseTypes: local!activeCaseTypes,\n        emailTemplates: local!emailTemplates,\n        documentsToDelete: ri!documentsToDelete\n      )\n    },\n    equals: \"ADD_TASK_BLOCKS\",\n    then: {\n      rule!CMGT_WFL_CaseType_RecordAction_WorkflowTasksAdd_AddTaskBlocks(\n        brandingMap: local!brandingMap,\n        currentWorkflowStep: local!currentWorkflowStep,\n        caseType: local!caseType,\n        caseTypeWorkflowTaskBranchMaps: local!caseTypeWorkflowTaskBranchMaps,\n        startTaskUUID: local!startTaskUUID,\n        activeCaseTypes: local!activeCaseTypes\n      )\n    },\n    equals: \"SELECT_AUTOMATION_TYPE\",\n    then: rule!CMGT_WFL_WorkflowEdit_SelectAutomationType(\n      brandingMap: local!brandingMap,\n      caseType: local!caseType,\n      currentWorkflowStep: local!currentWorkflowStep,\n      selectedCaseTypeWorkflowTask: local!selectedCaseTypeWorkflowTask,\n      caseTypeWorkflowTaskBranchMaps: local!caseTypeWorkflowTaskBranchMaps,\n      selectedCaseTypeWorkflowTaskUuid: local!selectedCaseTypeWorkflowTaskUuid,\n      conditionSets: local!conditionSets,\n      automationTypesData: local!automationTypesData\n    ),\n    equals: \"UPDATE_REF_MILESTONES\",\n    then: rule!CMGT_WFL_CaseType_RecordAction_WorkflowCreateEdit_UpdateMilestones(\n      caseType: local!caseType,\n      brandingMap: local!brandingMap,\n      currentWorkflowStep: local!currentWorkflowStep,\n      workingCaseType: local!workingMilestoneCaseType\n    ),\n    equals: \"CREATE_EMAIL_TEMPLATE\",\n    then: rule!CMGT_WFL_CaseType_RecordAction_WorkflowCreateEdit_CreateEmailTemplate(\n      emailTemplates: local!emailTemplates,\n      documentsToDelete: ri!documentsToDelete,\n      caseType: local!caseType,\n      currentWorkflowStep: local!currentWorkflowStep,\n      selectedCaseTypeWorkflowTask: local!selectedCaseTypeWorkflowTask,\n      selectedCaseTypeWorkflowTaskUuid: local!selectedCaseTypeWorkflowTaskUuid,\n      brandingMap: local!brandingMap\n    ),\n    whenTrue: or(\n      fv!value = \"ADD_CONDITIONS\",\n      fv!value = \"UPDATE_CONDITIONS\"\n    ),\n    then: rule!CMGT_WFL_Automation_AddOrEditCondition(\n      availableFieldsInfo: local!filteredAvailableFields,\n      brandingMap: local!brandingMap,\n      selectedChildConditionSetUuid: local!selectedChildConditionSetUuid,\n      selectedCaseTypeWorkflowTaskUuid: local!selectedCaseTypeWorkflowTaskUuid,\n      conditionSets: local!conditionSets,\n      currentWorkflowStep: local!currentWorkflowStep\n    ),\n    whenTrue: local!isPreview,\n    then: rule!CMGT_EmailTemplate_Preview(\n      emailTemplateName: local!selectedEmailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.templateName],\n      subject: local!selectedEmailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.subject],\n      body: local!selectedEmailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.body],\n      isPreview: local!isPreview,\n      cfgAttachments: rule!CMGT_UTIL_RejectBlank(\n        local!selectedEmailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateAttachments]\n      ),\n      brandingMap: local!brandingMap\n    ),\n    default: {\n      #\"SYSTEM_SYSRULES_paneLayout\"(\n        panes: {\n          #\"SYSTEM_SYSRULES_pane\"(\n            padding: \"STANDARD\",\n            contents: {\n              rule!CMGT_WFL_CaseType_RecordAction_WorkflowCreateEdit_TaskList(\n                selectedCaseTypeWorkflowTaskUuid: local!selectedCaseTypeWorkflowTaskUuid,\n                brandingMap: local!brandingMap,\n                caseType: local!caseType,\n                visibleCaseTypeWorkflowTasks: local!visibleCaseTypeWorkflowTasks,\n                visibleCaseTypeWorkflowTaskIndices: local!visibleCaseTypeWorkflowTaskIndices,\n                selectedCaseTypeWorkflowTask: local!selectedCaseTypeWorkflowTask,\n                taskResponseOptions: local!taskResponseOptions,\n                currentWorkflowStep: local!currentWorkflowStep,\n                caseTypeWorkflowTaskBranchMaps: local!caseTypeWorkflowTaskBranchMaps,\n                additionalValidationConditions: local!additionalValidationConditions\n              )\n            },\n            accessibilityText: #\"urn:appian:translation-string:v1:0d2803b8-e051-4704-b4d5-c637b0568ff3\"\n          ),\n          #\"SYSTEM_SYSRULES_pane\"(\n            backgroundColor: local!brandingMap.TertiaryBackgroundColor,\n            contents: {\n              rule!CMGT_WFL_CaseType_ConfigureTask(\n                selectedCaseTypeWorkflowTaskUuid: local!selectedCaseTypeWorkflowTaskUuid,\n                brandingMap: local!brandingMap,\n                caseType: local!caseType,\n                caseTypeWorkflowTaskBranchMaps: local!caseTypeWorkflowTaskBranchMaps,\n                visibleCaseTypeWorkflowTaskIndices: local!visibleCaseTypeWorkflowTaskIndices,\n                selectedCaseTypeWorkflowTask: local!selectedCaseTypeWorkflowTask,\n                taskResponseOptions: local!taskResponseOptions,\n                uniqueAfterTaskUuidsInViolation: local!uniqueAfterTaskUuidsInViolation,\n                activeMilestones: local!activeMilestones,\n                currentWorkflowStep: local!currentWorkflowStep,\n                workingCaseType: local!workingMilestoneCaseType,\n                startTaskUUID: local!startTaskUUID,\n                conditionSets: local!conditionSets,\n                fieldDetails: local!filteredAvailableFields,\n                selectedChildConditionSetUuid: local!selectedChildConditionSetUuid,\n                emailTemplates: local!emailTemplates,\n                isPreview: local!isPreview,\n                trackAutomationRuleChanges: local!trackAutomationRuleChanges,\n                automationTypesData: local!automationTypesData\n              )\n            },\n            accessibilityText: #\"urn:appian:translation-string:v1:d78e45bb-a2e8-476f-bb61-87deab262a92\"\n          ),\n          #\"SYSTEM_SYSRULES_pane\"(\n            padding: \"STANDARD\",\n            contents: {\n              #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n                align: \"END\",\n                marginAbove: \"STANDARD\",\n                buttons: {\n                  #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                    label: #\"urn:appian:translation-string:v1:651cf177-f30b-485b-900f-8aaf47805737\",\n                    value: true,\n                    saveInto: {\n                      a!save(ri!caseType, null),\n                      a!save(\n                        ri!documentsToDelete,\n                        append(\n                          ri!documentsToDelete,\n                          rule!CMGT_UTIL_RejectBlank(\n                            array: index(\n                              local!newEmailTemplates,\n                              recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateAttachments.appianDocumentId,\n                              null\n                            )\n                          )\n                        )\n                      ),\n                      a!save(ri!newEmailTemplates, null),\n                      /* Revert Automation Rule Changes Made in session */\n                      if(\n                        rule!CMGT_UTIL_IsNotBlank(\n                          a!flatten(\n                            {\n                              local!trackAutomationRuleChanges.existing,\n                              local!trackAutomationRuleChanges.new\n                            }\n                          )\n                        ),\n                        #\"SYSTEM_SYSRULES_writeRecords_v2\"(\n                          records: rule!CMGT_UTIL_RejectBlank(\n                            a!flatten(\n                              {\n                                if(\n                                  rule!CMGT_UTIL_IsBlank(\n                                    local!trackAutomationRuleChanges.existing\n                                  ),\n                                  null,\n                                  {\n                                    rule!CMGT_WFL_CaseTypeWorkflowTask_SetMetaData(\n                                      caseTypeWorkflowTasks: rule!CMGT_UTIL_refreshRecordTree(\n                                        records: a!flatten(\n                                          rule!CMGT_WFL_RevertTrackAutomationRuleChanges(\n                                            trackAutomationRuleChanges: local!trackAutomationRuleChanges\n                                          )\n                                        )\n                                      ),\n                                      initiator: loggedInUser()\n                                    )\n                                  }\n                                ),\n                                if(\n                                  rule!CMGT_UTIL_IsBlank(local!trackAutomationRuleChanges.new),\n                                  null,\n                                  rule!CMGT_WFL_CaseTypeWorkflowTask_SetMetaData(\n                                    caseTypeWorkflowTasks: #\"urn:appian:function:v1:a:update\"(\n                                      local!trackAutomationRuleChanges.new,\n                                      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isDeleted,\n                                      true\n                                    ),\n                                    initiator: loggedInUser()\n                                  )\n                                )\n                              }\n                            )\n                          ),\n                          onSuccess: {},\n                          onError: { a!save(local!errorOnCancel, \"BROKE\") }\n                        ),\n                        null\n                      )\n                    },\n                    submit: true,\n                    style: \"OUTLINE\",\n                    color: \"ACCENT\",\n                    validate: false\n                  ),\n                  #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                    label: if(\n                      local!isCreateCaseTypeWorkflow,\n                      #\"urn:appian:translation-string:v1:8109f456-b575-47d2-8f0f-097db1743e6b\",\n                      #\"urn:appian:translation-string:v1:06dbafc7-e085-40de-a68a-c83054c1d7ec\"\n                    ),\n                    saveInto: {\n                      a!save(\n                        local!nonMappedNewEmailTemplateUuids,\n                        difference(\n                          touniformstring(\n                            local!newEmailTemplates[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid]\n                          ),\n                          rule!CMGT_UTIL_RejectBlank(\n                            touniformstring(\n                              rule!CMGT_UTIL_Filter(\n                                records: local!finalCaseTypeRemapped[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                                field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive,\n                                value: true\n                              )[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTask.emailTemplateUuid]\n                            )\n                          )\n                        )\n                      ),\n                      if(\n                        rule!CMGT_UTIL_IsNotBlank(local!nonMappedNewEmailTemplateUuids),\n                        {\n                          a!save(\n                            ri!documentsToDelete,\n                            append(\n                              ri!documentsToDelete,\n                              a!flatten(\n                                rule!CMGT_UTIL_Filter(\n                                  records: local!newEmailTemplates,\n                                  field: recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid,\n                                  value: local!nonMappedNewEmailTemplateUuids\n                                )[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateAttachments.appianDocumentId]\n                              )\n                            )\n                          ),\n                          a!save(\n                            local!sendEmailTaskWithNonMappedEmailTemplates,\n                            rule!CMGT_UTIL_Filter(\n                              records: local!finalCaseTypeRemapped[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                              field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTask.emailTemplateUuid,\n                              value: local!nonMappedNewEmailTemplateUuids\n                            )\n                          ),\n                          if(\n                            rule!CMGT_UTIL_IsNotBlank(\n                              local!sendEmailTaskWithNonMappedEmailTemplates\n                            ),\n                            a!save(\n                              local!finalCaseTypeRemapped,\n                              #\"urn:appian:function:v1:a:update\"(\n                                data: local!finalCaseTypeRemapped,\n                                index: recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask,\n                                value: #\"SYSTEM_SYSRULES_forEach\"(\n                                  items: local!finalCaseTypeRemapped[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                                  expression: if(\n                                    contains(\n                                      tointeger(\n                                        local!sendEmailTaskWithNonMappedEmailTemplates[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskId]\n                                      ),\n                                      tointeger(\n                                        fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskId]\n                                      )\n                                    ),\n                                    #\"urn:appian:function:v1:a:update\"(\n                                      data: fv!item,\n                                      index: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTask.emailTemplateUuid,\n                                      value: rule!CMGT_UTIL_Filter(\n                                        records: local!caseTypeWorkFlowTasksOnLoad,\n                                        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskId,\n                                        value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskId]\n                                      )[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTask.emailTemplateUuid]\n                                    ),\n                                    fv!item\n                                  )\n                                )\n                              )\n                            ),\n                            {}\n                          )\n                        },\n                        {}\n                      ),\n                      /*Remove default start task */\n                      a!save(\n                        ri!caseType,\n                        #\"urn:appian:function:v1:a:update\"(\n                          data: local!finalCaseTypeRemapped,\n                          index: recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask,\n                          value: rule!CMGT_UTIL_Filter(\n                            filterType: \"REJECT\",\n                            records: local!finalCaseTypeRemapped[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                            field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTaskId,\n                            value: 0\n                          )\n                        )\n                      ),\n                      a!save(\n                        ri!newEmailTemplates,\n                        rule!CMGT_UTIL_Filter(\n                          records: local!newEmailTemplates,\n                          field: recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid,\n                          value: local!nonMappedNewEmailTemplateUuids,\n                          filterType: \"REJECT\"\n                        )\n                      ),\n                      /*tracking metrics for rules that are newly created*/\n                      a!save(\n                        local!automationRuleMetrics,\n                        #\"SYSTEM_SYSRULES_forEach\"(\n                          local!trackAutomationRuleChanges.new,\n                          rule!CMGT_WFL_MTR_CreateAutomationRuleWrapper(\n                            actionCode: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction.actionCode][1]\n                          )\n                        )\n                      )\n                    },\n                    submit: true,\n                    style: \"SOLID\",\n                    color: \"ACCENT\",\n                    validate: true,\n                    validationGroup: cons!CMGT_TXT_EMAIL_ADDRESSES_VALIDATION_GROUP\n                  )\n                }\n              ),\n              rule!CMGT_WFL_CaseType_Visualization(\n                brandingMap: local!brandingMap,\n                selectedCaseTypeWorkflowTaskUuid: local!selectedCaseTypeWorkflowTaskUuid,\n                selectable: true,\n                startTaskUuid: local!startTaskUUID,\n                tasks: rule!CMGT_UTIL_Filter(\n                  filterType: \"REJECT\",\n                  records: local!finalCaseTypeRemapped[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                  field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTaskId,\n                  value: 0\n                ),\n                additionalValidationConditions: local!additionalValidationConditions,\n                conditionSets: local!conditionSets,\n                validationGroup: cons!CMGT_TXT_EMAIL_ADDRESSES_VALIDATION_GROUP\n              )\n            },\n            accessibilityText: #\"urn:appian:translation-string:v1:5d803e4f-7706-4b83-8460-9eae2a6a629a\"\n          )\n        }\n      )\n    }\n  )\n)"
    },
    "_a-0000ec62-9137-8000-9ce0-011c48011c48_2883783": {
      "name": "CMGT_WFL_CaseType_RecordAction_WorkflowTasksAdd_AddTaskBlocks",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!selectedReferenceTaskIds: {},\n  local!selectedTaskBlockIds: {},\n  local!activeMilestones: rule!CMGT_UTIL_Filter(\n    records: ri!caseType[recordType!CMGT_CFG_CaseType.referenceMilestone],\n    field: recordType!CMGT_WFL_CFG_ReferenceMilestone.isActive,\n    value: true()\n  ),\n  local!taskBlockData,\n  local!showMilestone: rule!CMGT_UTIL_IsNotBlank(local!activeMilestones),\n  local!newCaseTypeWorkflowTasks,\n  local!newCaseTypeWorkflowTaskBranchesMaps,\n  /*List of task branches obtained from the task branch map*/\n  local!taskBlockTaskBranch: if(\n    a!isNotNullOrEmpty(\n      local!newCaseTypeWorkflowTaskBranchesMaps\n    ),\n    a!flatten(\n      local!newCaseTypeWorkflowTaskBranchesMaps.caseTypeWorkflowTaskBranches\n    ),\n    null\n  ),\n  /*Active case type workflow task branches*/\n  local!caseTypeWorkflowTaskBranches: if(\n    rule!CMGT_UTIL_IsNotBlank(local!taskBlockTaskBranch),\n    rule!CMGT_UTIL_Filter(\n      records: local!taskBlockTaskBranch,\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive,\n      value: true\n    ),\n    null\n  ),\n  {\n    #\"SYSTEM_SYSRULES_paneLayout\"(\n      panes: {\n        #\"SYSTEM_SYSRULES_pane\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_columnsLayout\"(\n              columns: {\n                #\"SYSTEM_SYSRULES_columnLayout\"(width: \"1X\"),\n                #\"SYSTEM_SYSRULES_columnLayout\"(\n                  contents: {\n                    #\"SYSTEM_SYSRULES_cardLayout\"(\n                      contents: {\n                        #\"SYSTEM_SYSRULES_cardLayout\"(\n                          contents: {\n                            rule!CMGT_UTIL_HeaderField(\n                              label: #\"urn:appian:translation-string:v1:23f8a61c-3268-4b1d-acb1-ae906e28de5e\",\n                              labelSize: \"MEDIUM\",\n                              divider: \"NONE\",\n                              rightSideContents: {\n                                #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n                                  buttons: {\n                                    #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                                      label: #\"urn:appian:translation-string:v1:edd4df67-d878-46d6-ab67-732a3700a588\",\n                                      saveInto: {\n                                        if(\n                                          rule!CMGT_UTIL_IsNotBlank(\n                                            ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask]\n                                          ),\n                                          a!save(\n                                            ri!currentWorkflowStep,\n                                            \"CONFIGURE_WORKFLOW\"\n                                          ),\n                                          a!save(\n                                            ri!currentWorkflowStep,\n                                            \"ADD_TASKS_EMPTY_STATE\"\n                                          )\n                                        ),\n                                        a!save(local!selectedReferenceTaskIds, {}),\n                                        a!save(local!selectedTaskBlockIds, {}),\n                                        a!save(local!taskBlockData, {}),\n                                        a!save(local!newCaseTypeWorkflowTasks, {}),\n                                        a!save(\n                                          local!newCaseTypeWorkflowTaskBranchesMaps,\n                                          {}\n                                        )\n                                      },\n                                      size: \"SMALL\",\n                                      width: \"MINIMIZE\",\n                                      style: \"OUTLINE\",\n                                      color: ri!brandingMap.AccentColor\n                                    ),\n                                    #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                                      label: #\"urn:appian:translation-string:v1:9054fda3-d0ac-4d53-8046-6afc52dd8a75\",\n                                      saveInto: {\n                                        a!save(\n                                          ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                                          append(\n                                            ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                                            /* Updating sort order for sorting the tasks in the leadsInto dropdown only for display purpose, the actual sort order is updated in the setMetaData rule */\n                                            #\"SYSTEM_SYSRULES_forEach\"(\n                                              items: rule!CMGT_UTIL_Filter(\n                                                records: local!newCaseTypeWorkflowTasks,\n                                                field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive,\n                                                value: true,\n\n                                              ),\n                                              expression: #\"urn:appian:function:v1:a:update\"(\n                                                fv!item,\n                                                {\n                                                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder,\n                                                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskIntentionCode,\n                                                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeUuid\n\n                                                },\n                                                {\n                                                  max(\n                                                    ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask.sortOrder],\n\n                                                  ) + fv!index,\n                                                  cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_WORKFLOW,\n                                                  ri!caseType[recordType!CMGT_CFG_CaseType.uuid]\n                                                }\n                                              )\n                                            )\n                                          )\n                                        ),\n                                        a!save(\n                                          ri!caseTypeWorkflowTaskBranchMaps,\n                                          append(\n                                            /*Updating the start task's after task branches*/\n                                            #\"SYSTEM_SYSRULES_forEach\"(\n                                              items: ri!caseTypeWorkflowTaskBranchMaps,\n                                              expression: if(\n                                                fv!item.taskUUID = ri!startTaskUUID,\n                                                #\"urn:appian:function:v1:a:update\"(\n                                                  fv!item,\n                                                  \"afterCaseTypeWorkflowTaskBranches\",\n                                                  rule!CMGT_UTIL_RejectBlank(\n                                                    array: append(\n                                                      fv!item.afterCaseTypeWorkflowTaskBranches,\n                                                      #\"SYSTEM_SYSRULES_forEach\"(\n                                                        items: local!newCaseTypeWorkflowTasks,\n                                                        expression: if(\n                                                          fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.startsByDefault],\n                                                          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch(\n                                                            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid: ri!startTaskUuid,\n                                                            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                                                            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isRequired: true,\n                                                            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive: true\n                                                          ),\n                                                          {}\n                                                        )\n                                                      )\n                                                    )\n                                                  )\n                                                ),\n                                                fv!item\n                                              )\n                                            ),\n                                            /* Grouping the caseTypeWorkflowTaskBranches */\n                                            rule!CMGT_WFL_GroupCaseTypeWorkflowTaskBranches(\n                                              caseTypeWorkflowTaskBranch: local!caseTypeWorkflowTaskBranches,\n                                              caseType: ri!caseType\n                                            )\n                                          )\n                                        ),\n                                        a!save(local!selectedReferenceTaskIds, {}),\n                                        a!save(local!selectedTaskBlockIds, {}),\n                                        a!save(local!taskBlockData, {}),\n                                        a!save(local!newCaseTypeWorkflowTasks, {}),\n                                        a!save(\n                                          local!newCaseTypeWorkflowTaskBranchesMaps,\n                                          {}\n                                        ),\n                                        a!save(\n                                          ri!currentWorkflowStep,\n                                          \"CONFIGURE_WORKFLOW\"\n                                        )\n                                      },\n                                      size: \"SMALL\",\n                                      width: \"MINIMIZE\",\n                                      style: \"SOLID\",\n                                      color: ri!brandingMap.AccentColor\n                                    )\n                                  },\n                                  align: \"END\",\n                                  marginBelow: \"NONE\"\n                                )\n                              },\n                              brandingMap: ri!brandingMap,\n                              marginBelow: \"NONE\",\n                              labelColor: ri!brandingMap.SecondaryTextColor,\n                              labelFontWeight: \"SEMI_BOLD\"\n                            ),\n                            #\"SYSTEM_SYSRULES_horizontalLine\"()\n                          },\n                          padding: \"NONE\",\n                          marginBelow: \"NONE\",\n                          showBorder: false\n                        ),\n                        #\"SYSTEM_SYSRULES_columnsLayout\"(\n                          columns: {\n                            #\"SYSTEM_SYSRULES_columnLayout\"(\n                              contents: {\n                                #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                  value: #\"SYSTEM_SYSRULES_richTextHeader\"(\n                                    text: {\n                                      #\"urn:appian:translation-string:v1:2a091aa5-a899-438f-a0e7-5d495f5c2092\"\n                                    },\n                                    size: \"SMALL\"\n                                  )\n                                ),\n                                #\"SYSTEM_SYSRULES_cardLayout\"(\n                                  contents: {\n                                    /*Task Blocks Grid*/\n                                    rule!CMGT_WFL_CaseType_RecordAction_NonCategoryCreateEdit_SelectTaskBlocks(\n                                      brandingMap: ri!brandingMap,\n                                      newCaseTypeWorkflowTasks: local!newCaseTypeWorkflowTasks,\n                                      selectedTaskBlockIds: local!selectedTaskBlockIds,\n                                      newCaseTypeWorkflowTaskBranchesMaps: local!newCaseTypeWorkflowTaskBranchesMaps,\n                                      taskBlockData: local!taskBlockData,\n                                      activeCaseTypes: ri!activeCaseTypes\n                                    )\n                                  },\n                                  height: \"EXTRA_TALL\",\n                                  padding: \"NONE\",\n                                  marginBelow: \"NONE\",\n                                  showBorder: false\n                                )\n                              },\n                              width: \"8X\"\n                            ),\n                            #\"SYSTEM_SYSRULES_columnLayout\"(\n                              contents: {\n                                #\"SYSTEM_SYSRULES_cardLayout\"(\n                                  contents: {\n                                    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                      value: {\n                                        #\"SYSTEM_SYSRULES_richTextHeader\"(\n                                          text: {\n                                            #\"urn:appian:translation-string:v1:bd31effd-a144-4cb4-8837-548e3dfec78b\"\n                                          },\n                                          size: \"SMALL\"\n                                        )\n                                      }\n                                    ),\n                                    #\"SYSTEM_SYSRULES_gridLayout\"(\n                                      label: #\"urn:appian:translation-string:v1:3f5c5af4-f26d-4c36-9a89-4c092f23dd51\",\n                                      labelPosition: \"COLLAPSED\",\n                                      emptyGridMessage: #\"urn:appian:translation-string:v1:9541cbd3-719b-4809-bfdc-ee599f8cbab7\",\n                                      headerCells: {\n                                        #\"SYSTEM_SYSRULES_gridLayoutHeaderCell\"(\n                                          label: #\"urn:appian:translation-string:v1:0bae9b3f-5ddd-4c6a-a4cf-abe8702dac9e\"\n                                        ),\n                                        #\"SYSTEM_SYSRULES_gridLayoutHeaderCell\"(\n                                          label: #\"urn:appian:translation-string:v1:802692c1-f167-44d0-8058-196440edbb6a\",\n                                          showWhen: local!showMilestone\n                                        ),\n                                        #\"SYSTEM_SYSRULES_gridLayoutHeaderCell\"()\n                                      },\n                                      columnConfigs: {\n                                        #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(weight: \"3\"),\n                                        #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(\n                                          weight: \"2\",\n                                          showWhen: local!showMilestone\n                                        ),\n                                        #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"ICON\")\n                                      },\n                                      rows: #\"SYSTEM_SYSRULES_forEach\"(\n                                        items: local!newCaseTypeWorkflowTasks,\n                                        expression: #\"SYSTEM_SYSRULES_gridRowLayout\"(\n                                          contents: {\n                                            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                              value: {\n                                                if(\n                                                  fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.isAutomated],\n                                                  {\n                                                    #\"SYSTEM_SYSRULES_richTextIcon\"(\n                                                      icon: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.icon],\n                                                      caption: #\"urn:appian:translation-string:v1:6f0faf57-3d4b-45c2-a1f8-099820a4ced1\",\n                                                      showWhen: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.isAutomated],\n\n                                                    ),\n                                                    char(32)\n                                                  },\n                                                  {}\n                                                ),\n                                                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                                  text: {\n                                                    fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label]\n                                                  },\n                                                  style: \"STRONG\"\n                                                ),\n                                                char(10),\n                                                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                                  text: {\n                                                    #\"SYSTEM_SYSRULES_richTextIcon\"(icon: \"network-wired\"),\n                                                    \" \",\n                                                    index(\n                                                      local!taskBlockData[recordType!CMGT_WFL_CFG_TaskBlock.label],\n                                                      wherecontains(\n                                                        fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBlockId],\n                                                        local!taskBlockData[recordType!CMGT_WFL_CFG_TaskBlock.taskBlockId]\n                                                      ),\n                                                      null\n                                                    ),\n                                                    \" \",\n                                                    #\"SYSTEM_SYSRULES_richTextIcon\"(\n                                                      icon: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.icon]\n                                                    ),\n                                                    \" \",\n                                                    fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.label],\n                                                    \" \",\n                                                    concat(\n                                                      char(10),\n                                                      rule!CMGT_UTIL_TruncateText(\n                                                        text: stripwith(\n                                                          striphtml(\n                                                            fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.description]\n                                                          ),\n                                                          char(10)\n                                                        ),\n                                                        maxLength: 30\n                                                      )\n                                                    )\n                                                  },\n                                                  color: ri!brandingMap.SecondaryTextColor,\n                                                  size: \"SMALL\"\n                                                )\n                                              },\n\n                                            ),\n                                            #\"SYSTEM_SYSRULES_dropdownField_v1\"(\n                                              choiceLabels: local!activeMilestones[recordType!CMGT_WFL_CFG_ReferenceMilestone.label],\n                                              choiceValues: local!activeMilestones[recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid],\n                                              placeholder: #\"urn:appian:translation-string:v1:d6ec595a-cb00-4ca9-ad39-73fe092ca2eb\",\n                                              value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone.milestoneUuid],\n                                              saveInto: {\n                                                a!localVariables(\n                                                  local!thisIndex: fv!index,\n                                                  {\n                                                    a!save(\n                                                      fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone],\n                                                      rule!CMGT_UTIL_Filter(\n                                                        records: local!activeMilestones,\n                                                        field: recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid,\n                                                        value: save!value\n                                                      )\n                                                    ),\n                                                    /*Update the newCaseTypeWorkflowTasks with the milestone*/\n                                                    a!save(\n                                                      local!newCaseTypeWorkflowTasks[local!thisIndex],\n                                                      #\"urn:appian:function:v1:a:update\"(\n                                                        local!newCaseTypeWorkflowTasks[local!thisIndex],\n                                                        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone,\n                                                        rule!CMGT_UTIL_Filter(\n                                                          records: local!activeMilestones,\n                                                          field: recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid,\n                                                          value: save!value\n                                                        )\n                                                      )\n                                                    ),\n\n                                                  },\n\n                                                )\n                                              },\n                                              showWhen: local!showMilestone\n                                            ),\n                                            #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n                                              buttons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                                                label: \"\",\n                                                icon: \"close\",\n                                                saveInto: {\n                                                  a!localVariables(\n                                                    local!thisIndex: fv!index,\n                                                    {\n                                                      a!save(\n                                                        local!newCaseTypeWorkflowTaskBranchesMaps,\n                                                        a!localVariables(\n                                                          local!filteredTaskBranchIndex: a!flatten(\n                                                            {\n                                                              rule!CMGT_UTIL_Filter(\n                                                                records: local!taskBlockTaskBranch,\n                                                                field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid,\n                                                                value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                                                                filterType: \"MATCH_INDICES\"\n                                                              ),\n                                                              rule!CMGT_UTIL_Filter(\n                                                                records: local!taskBlockTaskBranch,\n                                                                field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n                                                                value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                                                                filterType: \"MATCH_INDICES\"\n                                                              )\n                                                            }\n                                                          ),\n                                                          remove(\n                                                            local!newCaseTypeWorkflowTaskBranchesMaps,\n                                                            local!filteredTaskBranchIndex\n                                                          ),\n\n                                                        )\n                                                      ),\n                                                      a!save(\n                                                        local!taskBlockTaskBranch,\n                                                        a!localVariables(\n                                                          local!filteredTaskBranchIndex: if(\n                                                            rule!CMGT_UTIL_IsNotBlank(local!taskBlockTaskBranch),\n                                                            a!flatten(\n                                                              {\n                                                                rule!CMGT_UTIL_Filter(\n                                                                  records: local!taskBlockTaskBranch,\n                                                                  field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid,\n                                                                  value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                                                                  filterType: \"MATCH_INDICES\"\n                                                                ),\n                                                                rule!CMGT_UTIL_Filter(\n                                                                  records: local!taskBlockTaskBranch,\n                                                                  field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n                                                                  value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                                                                  filterType: \"MATCH_INDICES\"\n                                                                )\n                                                              }\n                                                            ),\n                                                            null\n                                                          ),\n                                                          {\n                                                            if(\n                                                              rule!CMGT_UTIL_IsNotBlank(local!filteredTaskBranchIndex),\n                                                              #\"urn:appian:function:v1:a:update\"(\n                                                                local!taskBlockTaskBranch,\n                                                                local!filteredTaskBranchIndex,\n                                                                #\"urn:appian:function:v1:a:update\"(\n                                                                  data: index(\n                                                                    local!taskBlockTaskBranch,\n                                                                    local!filteredTaskBranchIndex,\n                                                                    null\n                                                                  ),\n                                                                  index: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive,\n                                                                  value: false\n                                                                )\n                                                              ),\n                                                              local!taskBlockTaskBranch\n                                                            ),\n\n                                                          }\n                                                        )\n                                                      ),\n                                                      a!save(\n                                                        local!newCaseTypeWorkflowTasks,\n                                                        remove(\n                                                          local!newCaseTypeWorkflowTasks,\n                                                          local!thisIndex\n                                                        )\n                                                      ),\n                                                      /*If all tasks from a task block are removed, then deselect the task block\n                                                   */\n                                                      a!save(\n                                                        local!selectedTaskBlockIds,\n                                                        rule!CMGT_UTIL_Distinct(\n                                                          local!newCaseTypeWorkflowTasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBlockId]\n                                                        )\n                                                      )\n                                                    }\n                                                  )\n                                                },\n                                                size: \"SMALL\",\n                                                style: \"LINK\",\n                                                color: ri!brandingMap.NegativeAccentColor,\n                                                accessibilityText: #\"urn:appian:translation-string:v1:d544b739-290e-4c0b-8e08-ae1ea9b5d578\"(\n                                                  #\"urn:appian:translation-variable:v1:75d491f3-ed1b-4279-affd-0ef9d51760a3\": fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label]\n                                                )\n                                              )\n                                            )\n                                          },\n                                          selectionDisabled: true\n                                        )\n                                      ),\n                                      shadeAlternateRows: false,\n                                      borderStyle: \"LIGHT\"\n                                    )\n                                  },\n                                  height: \"EXTRA_TALL\",\n                                  marginBelow: \"NONE\",\n                                  showBorder: false\n                                )\n                              },\n                              width: \"10X\"\n                            )\n                          },\n                          marginBelow: \"NONE\",\n                          showDividers: true\n                        )\n                      },\n                      style: ri!brandingMap.CardBackgroundColor,\n                      shape: ri!brandingMap.CardShape,\n                      /*padding: \"NONE\",*/\n                      marginBelow: \"NONE\",\n                      showBorder: false,\n                      showShadow: ri!brandingMap.CardShowShadow\n                    )\n                  },\n                  width: \"WIDE_PLUS\"\n                ),\n                #\"SYSTEM_SYSRULES_columnLayout\"(width: \"1X\")\n              }\n            )\n          },\n          backgroundColor: ri!brandingMap.TertiaryBackgroundColor,\n          padding: \"MORE\",\n          accessibilityText: #\"urn:appian:translation-string:v1:23f8a61c-3268-4b1d-acb1-ae906e28de5e\"\n        )\n      }\n    )\n  }\n)"
    },
    "_a-0000ebaa-19ba-8000-9ca6-011c48011c48_2093172": {
      "name": "CMGT_UTIL_returnLastIndexOfArray",
      "type": "Expression Rule",
      "sail_code": "index(\n  ri!array,\n  count(ri!array),\n  rule!CMGT_UTIL_returnSingleTypeObject(typeOf: ri!array)\n)"
    },
    "_a-0000ec90-c257-8000-9cea-011c48011c48_3031582": {
      "name": "CMGT_WFL_CaseType_ConfigureTask_Automation",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!configs: a!match(\n    value: tostring(\n      ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction.actionCode]\n    ),\n    equals: cons!CMGT_CFG_TXT_ACT_WORKFLOW_ROUTING,\n    then: {\n      a!map(\n        name: #\"urn:appian:translation-string:v1:12269709-426a-4b8d-bb73-ed800fb13b23\",\n        contents: rule!CMGT_WFL_CaseType_ConfigureTask_Task_ConditionalWorkflowRulesSection\n      )\n    },\n    equals: cons!CMGT_CFG_TXT_ACT_SEND_EMAIL,\n    then: {\n      /* Send Email Details Section */\n      a!map(\n        name: #\"urn:appian:translation-string:v1:af07f751-a95f-44e8-9954-753c6f6c5c0b\",\n        contents: rule!CMGT_WFL_CaseType_ConfigureTask_Task_SendEmailSection\n      ),\n      /*Workflow Settings section*/\n      a!map(\n        name: #\"urn:appian:translation-string:v1:96d1fd87-4a2e-4c28-a946-311726d360a4\",\n        contents: rule!CMGT_WFL_CaseType_ConfigureTask_Task_WorkflowSettingsSection\n      )\n    },\n    default: {}\n  ),\n  {\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      value: {\n        #\"SYSTEM_SYSRULES_richTextIcon\"(\n          icon: ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.icon],\n          color: ri!brandingMap.AccentColor,\n          size: \"MEDIUM\"\n        ),\n        char(32),\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: #\"urn:appian:translation-string:v1:dcf3f891-0159-4ed3-9156-fd676ef4f253\"(\n            #\"urn:appian:translation-variable:v1:956f25ca-db8b-4061-ab45-fdc50d50fe79\": index(\n              rule!CMGT_UTIL_Filter(\n                records: ri!automationTypesData,\n                field: \"actionCode\",\n                value: tostring(\n                  ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction.actionCode]\n                )\n              ),\n              \"name\",\n              \"\"\n            )\n          ),\n          color: ri!brandingMap.InfoTextColor,\n          size: \"MEDIUM\",\n          style: \"STRONG\"\n        )\n      },\n      align: \"LEFT\",\n      marginAbove: \"LESS\",\n      marginBelow: \"NONE\"\n    ),\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: #\"urn:appian:translation-string:v1:4e55001e-fef0-492e-9eee-42b9010b7b6d\",\n        color: ri!brandingMap.secondaryTextColor,\n        size: \"SMALL\"\n      ),\n      marginBelow: \"STANDARD\"\n    ),\n    #\"SYSTEM_SYSRULES_textField\"(\n      label: #\"urn:appian:translation-string:v1:0bae9b3f-5ddd-4c6a-a4cf-abe8702dac9e\",\n      value: ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label],\n      saveInto: {\n        ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label],\n        a!save(\n          ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n          #\"urn:appian:function:v1:a:update\"(\n            ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n            /*Index of the case type workflow task that we want to update in the ri!caseTypeWorkflowTasks array*/\n            wherecontains(\n              ri!selectedCaseTypeWorkflowTaskUuid,\n              ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask][recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n            ),\n            /*The updated case type workflow task*/\n            #\"urn:appian:function:v1:a:update\"(\n              ri!selectedCaseTypeWorkflowTask,\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label,\n              a!defaultValue(\n                ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label],\n                #\"urn:appian:translation-string:v1:dcf3f891-0159-4ed3-9156-fd676ef4f253\"(\n                  #\"urn:appian:translation-variable:v1:956f25ca-db8b-4061-ab45-fdc50d50fe79\": a!defaultValue(\n                    index(\n                      rule!CMGT_UTIL_Filter(\n                        records: rule!CMGT_CFG_ENUM_ACTIONS(),\n                        field: \"actionCode\",\n                        value: ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction.actionCode]\n                      ),\n                      \"name\",\n                      null\n                    ),\n                   \"\"\n                  )\n                )\n              )\n            )\n          )\n        )\n      },\n      characterLimit: cons!CMGT_INT_MAX_CHAR_LIMIT_MEDIUM,\n      showCharacterCount: false,\n      required: true,\n      requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n        #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:0bae9b3f-5ddd-4c6a-a4cf-abe8702dac9e\"\n      )\n    ),\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!configs,\n      expression: rule!CMGT_Workflow_ConfigureTask_SectionWrapper(\n        sectionName: fv!item.name,\n        brandingMap: ri!brandingMap,\n        sectionContents: fv!item.contents(\n          brandingMap: ri!brandingMap,\n          conditionSets: ri!conditionSets,\n          selectedCaseTypeWorkflowTask: ri!selectedCaseTypeWorkflowTask,\n          caseType: ri!caseType,\n          selectedCaseTypeWorkflowTaskUuid: ri!selectedCaseTypeWorkflowTaskUuid,\n          taskBehaviorTypeId: ri!taskBehaviorTypeId,\n          afterTaskBranchMapIndices: ri!afterTaskBranchMapIndices,\n          visibleCaseTypeWorkflowTaskIndices: ri!visibleCaseTypeWorkflowTaskIndices,\n          availableTasks: ri!availableTasks,\n          previousTasks: ri!previousTasks,\n          uniqueAfterTaskUuidsInViolation: ri!uniqueAfterTaskUuidsInViolation,\n          caseTypeWorkflowTaskBranchMaps: ri!caseTypeWorkflowTaskBranchMaps,\n          emailTemplates: ri!emailTemplates,\n          isPreview: ri!isPreview,\n          currentWorkflowStep: ri!currentWorkflowStep,\n          fieldDetails: ri!fieldDetails,\n          selectedChildConditionSetUuid: ri!selectedChildConditionSetUuid,\n          isStartTask: false\n        )\n      )\n    )\n  }\n)"
    },
    "_a-0000eb69-802f-8000-9c71-011c48011c48_1776913": {
      "name": "CMGT_WFL_CaseType_RecordAction_NonCategoryCreateEdit_SelectTasks",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_gridField_v3\"(\n  label: #\"urn:appian:translation-string:v1:bf26d917-2cdc-4745-8555-c717ce73c1d5\",\n  labelPosition: \"COLLAPSED\",\n  emptyGridMessage: #\"urn:appian:translation-string:v1:9541cbd3-719b-4809-bfdc-ee599f8cbab7\",\n  data: #\"SYSTEM_SYSRULES_recordData\"(\n    recordType: recordType!CMGT_WFL_CFG_ReferenceTask,\n    filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n      operator: \"AND\",\n      filters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_WFL_CFG_ReferenceTask.isActive,\n          operator: \"=\",\n          value: true\n        )\n      },\n      ignoreFiltersWithEmptyValues: true\n    ),\n    fields: {\n      recordType!CMGT_WFL_CFG_ReferenceTask.referenceTaskId,\n      recordType!CMGT_WFL_CFG_ReferenceTask.nameLabel,\n      recordType!CMGT_WFL_CFG_ReferenceTask.questionLabel,\n      recordType!CMGT_WFL_CFG_ReferenceTask.description,\n      recordType!CMGT_WFL_CFG_ReferenceTask.defaultSla,\n      recordType!CMGT_WFL_CFG_ReferenceTask.defaultGroupAssignee,\n      recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType,\n      recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions,\n      recordType!CMGT_WFL_CFG_ReferenceTask.createCaseReferenceTask,\n      recordType!CMGT_WFL_CFG_ReferenceTask.sendEmailReferenceTask\n    }\n  ),\n  columns: {\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:fe962919-107c-4fbe-b95f-53eef9152c9f\",\n      sortField: recordType!CMGT_WFL_CFG_ReferenceTask.nameLabel,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        value: {\n          if(\n            fv!row[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType.isAutomated],\n            {\n              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                icon: fv!row[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType.icon],\n                caption: #\"urn:appian:translation-string:v1:6f0faf57-3d4b-45c2-a1f8-099820a4ced1\",\n                showWhen: fv!row[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType.isAutomated]\n              ),\n              char(32)\n            },\n            {}\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              fv!row[recordType!CMGT_WFL_CFG_ReferenceTask.nameLabel]\n            },\n            style: \"STRONG\"\n          ),\n          char(10),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                icon: fv!row[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType.icon]\n              ),\n              \" \",\n              fv!row[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType.label]\n            },\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\"\n          ),\n          char(10),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: rule!CMGT_UTIL_TruncateText(\n              text: stripwith(\n                striphtml(\n                  fv!row[recordType!CMGT_WFL_CFG_ReferenceTask.description]\n                ),\n                char(10)\n              ),\n              maxLength: 50\n            ),\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\"\n          )\n        }\n      ),\n      align: \"START\"\n    )\n  },\n  pageSize: 25,\n  selectable: true,\n  selectionStyle: \"CHECKBOX\",\n  selectionValue: ri!selectedReferenceTaskIds,\n  selectionSaveInto: {\n    ri!selectedReferenceTaskIds,\n    /*Add just selected ref tasks*/\n    if(\n      rule!CMGT_UTIL_IsNotBlank(fv!selectedRows),\n      /*Add different save logic depending on the workflowType*/\n      a!save(\n        ri!newCaseTypeWorkflowTasks,\n        append(\n          ri!newCaseTypeWorkflowTasks,\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: fv!selectedRows,\n            expression: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask(\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTaskId: fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.referenceTaskId],\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeUuid: ri!caseTypeUuid,\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.startsByDefault: false(),\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive: true,\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorTypeId: fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType.taskBehaviorTypeId],\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType: fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType],\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTask: fv!item,\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label: fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.nameLabel],\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.description: fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.description],\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid: rule!CMGT_UTIL_GenerateUuid_NonPlugin(),\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sla: fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.defaultSla],\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.defaultGroupAssignee: fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.defaultGroupAssignee],\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.questionLabel: fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.questionLabel],\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskIntentionCode: cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_WORKFLOW,\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskResponseOptions: #\"SYSTEM_SYSRULES_forEach\"(\n                items: fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions],\n                expression: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption(\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.label: fv!item[recordType!CMGT_WFL_CFG_TaskResponseOption.label],\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.sortOrder: fv!item[recordType!CMGT_WFL_CFG_TaskResponseOption.sortOrder],\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.caseTypeWorkflowTaskResponseOptionUuid: rule!CMGT_UTIL_GenerateUuid_NonPlugin()\n                )\n              ),\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.createCaseCaseTypeWorkflowTask: if(\n                fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_CREATE_CASE,\n                recordType!CMGT_WFL_CFG_CreateCaseCaseTypeWorkflowTask(\n                  recordType!CMGT_WFL_CFG_CreateCaseCaseTypeWorkflowTask.caseTypeUuid: if(\n                    rule!CMGT_UTIL_IsBlank(\n                      rule!CMGT_UTIL_Filter(\n                        records: ri!activeCaseTypes,\n                        field:recordType!CMGT_CFG_CaseType.uuid,\n                        value: fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.createCaseReferenceTask.caseTypeUuid]\n                      )\n                    ),\n                    null,\n                    fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.createCaseReferenceTask.caseTypeUuid]\n                  ),\n                  recordType!CMGT_WFL_CFG_CreateCaseCaseTypeWorkflowTask.relationshipToOriginalCase: fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.createCaseReferenceTask.relationshipToOriginalCase]\n                ),\n                {}\n              ),\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTask: if(\n                fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_SEND_EMAIL,\n                recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask(\n                  recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.emailTemplateUuid: fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.sendEmailReferenceTask.emailTemplateUuid]\n                ),\n                {}\n              ),\n              /*Since we will be populating task branches only when Add Dependent task is clicked it is not required\n                                we need to populate task branches*/\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches: {},\n\n            )\n          )\n        )\n      ),\n      {}\n    ),\n    /*Remove just deselected ref tasks*/\n    if(\n      rule!CMGT_UTIL_IsNotBlank(fv!deselectedRows),\n      a!save(\n        ri!newCaseTypeWorkflowTasks,\n        remove(\n          ri!newCaseTypeWorkflowTasks,\n          wherecontains(\n            fv!deselectedRows[recordType!CMGT_WFL_CFG_ReferenceTask.referenceTaskId],\n            ri!newCaseTypeWorkflowTasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTaskId]\n          )\n        )\n      ),\n      {}\n    )\n  },\n  validations: {},\n  borderStyle: \"LIGHT\",\n  shadeAlternateRows: false,\n  /*Task Name read out as row header*/\n  rowHeader: 1,\n  refreshAfter: \"RECORD_ACTION\",\n  userFilters: {\n    #\"urn:appian:user-filter:v1:3dbe5fed-28bf-4f27-aa59-eb2c940289b4/edf09a91-8ea9-4cd6-8a15-b4a092c60f63\"\n  },\n  initialSorts: #\"SYSTEM_SYSRULES_sortInfo\"(\n    field: recordType!CMGT_WFL_CFG_ReferenceTask.modifiedOn,\n    ascending: false\n  ),\n  showSearchBox: true,\n  showRefreshButton: true\n)"
    },
    "_a-0000ec97-0cde-8000-9cec-011c48011c48_3058148": {
      "name": "CMGT_WFL_ConditionSet_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!conditionSets,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_CFG_ConditionSet.modifiedOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_CFG_ConditionSet.modifiedBy,\n        value: ri!initiator\n      )\n    },\n    /*Only modify these fields if they are currently null*/\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_CFG_ConditionSet.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_CFG_ConditionSet.createdOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_CFG_ConditionSet.isActive,\n        value: true\n      )\n    },\n    childRelationships: {\n      a!map(\n        field: recordType!CMGT_CFG_ConditionSet.childConditionSet,\n        value: rule!CMGT_WFL_ChildConditionSet_SetMetaData(\n          conditionSets: fv!item[recordType!CMGT_CFG_ConditionSet.childConditionSet],\n          initiator: ri!initiator\n        )\n      ),\n      \n    }\n  )\n)"
    },
    "_a-0000ed89-fd25-8000-9d52-011c48011c48_3937776": {
      "name": "CMGT_UTIL_refreshRecordTree",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!records,\n  expression: a!localVariables(\n    local!record: fv!item,\n    local!recordKeys: a!keys(local!record),\n    local!refreshedParentRecord: rule!CMGT_UTIL_refreshRecord(records: local!record),\n    local!refreshedChildRecords: a!flatten(\n      rule!CMGT_UTIL_RejectBlank(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          local!recordKeys,\n          if(\n            typename(typeof(fv!item)) = \"Record Relationship\",\n            a!map(\n              relationship: fv!item,\n              refreshedRecord: rule!CMGT_UTIL_refreshRecordTree(records: local!record[fv!item])\n            ),\n            null()\n          )\n        )\n      )\n    ),\n    if(\n      rule!CMGT_UTIL_IsBlank(local!refreshedChildRecords),\n      local!refreshedParentRecord,\n      #\"urn:appian:function:v1:a:update\"(\n        data: local!refreshedParentRecord,\n        index: {\n          local!refreshedChildRecords.relationship\n        },\n        value: {\n          local!refreshedChildRecords.refreshedRecord\n        }\n      )\n    )\n  )\n)"
    },
    "_a-0000edbd-1f9f-8000-9d6d-011c48011c48_4081813": {
      "name": "CMGT_setPrefixDefault",
      "type": "Expression Rule",
      "sail_code": "left(\n  initials(\n    proper(\n      ri!caseType[recordType!CMGT_CFG_CaseType.name]\n    )\n  ),\n  3\n)"
    },
    "_a-0000ec87-8877-8000-9ce8-011c48011c48_3028454": {
      "name": "CMGT_WFL_CaseType_Automation_initializeConditionSet",
      "type": "Expression Rule",
      "sail_code": "  recordType!CMGT_CFG_ConditionSet(\n    recordType!CMGT_CFG_ConditionSet.conditionSetId: ri!conditionSetId,\n    recordType!CMGT_CFG_ConditionSet.conditionSetUuid: ri!parentConditionSetUUid,\n    recordType!CMGT_CFG_ConditionSet.caseTypeWorkflowTaskUuid: ri!caseTypeWorkflowTaskUuid,\n    recordType!CMGT_CFG_ConditionSet.operatorCode: cons!CMGT_TXT_SET_OPERATOR_OR,\n    recordType!CMGT_CFG_ConditionSet.isActive: true,\n    recordType!CMGT_CFG_ConditionSet.isValid: true,\n    recordType!CMGT_CFG_ConditionSet.childConditionSet: {\n      rule!CMGT_WFL_Automation_initializeChildConditionSet(\n        parentConditionSetUUid: ri!parentConditionSetUUid,\n        defaultConditions: ri!defaultConditions\n      )\n    }\n  )"
    },
    "_a-0000ed49-63d5-8000-9d3e-011c48011c48_3604784": {
      "name": "CMGT_WFL_QR_GetSendEmailTaskBlockTasks",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_WFL_CFG_SendEmailTaskBlockTask,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_SendEmailTaskBlockTask.sendEmailTaskBlockTaskId,\n      operator: \"in\",\n      value: ri!sendEmailTaskBlockTaskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_SendEmailTaskBlockTask.taskBlockTaskId,\n      operator: \"in\",\n      value: ri!taskBlockTaskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_SendEmailTaskBlockTask.emailTemplateUuid,\n      operator: \"in\",\n      value: ri!emailTemplateUuid\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_SendEmailTaskBlockTask.isActive,\n      operator: \"=\",\n      value: true,\n      applyWhen: ri!includeInactive <> true\n    )\n  },\n  fields: {\n    ri!fields,\n    recordType!CMGT_WFL_CFG_SendEmailTaskBlockTask.taskBlockTask,\n    recordType!CMGT_WFL_CFG_SendEmailTaskBlockTask.taskBlockTask,\n    recordType!CMGT_WFL_CFG_SendEmailTaskBlockTask.emailTemplate\n  },\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ed49-63d5-8000-9d3e-011c48011c48_3604771": {
      "name": "CMGT_WFL_QR_GetSendEmailReferenceTasks",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_WFL_CFG_SendEmailReferenceTask,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_SendEmailReferenceTask.sendEmailReferenceTaskId,\n      operator: \"in\",\n      value: ri!sendEmailReferenceTaskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_SendEmailReferenceTask.referenceTaskId,\n      operator: \"in\",\n      value: ri!referenceTaskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_SendEmailReferenceTask.emailTemplateUuid,\n      operator: \"in\",\n      value: ri!emailTemplateUuid\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_SendEmailReferenceTask.isActive,\n      operator: \"=\",\n      value: true,\n      applyWhen: ri!includeInactive <> true\n    )\n  },\n  fields: {\n    ri!fields,\n    recordType!CMGT_WFL_CFG_SendEmailReferenceTask.referenceTask,\n    recordType!CMGT_WFL_CFG_SendEmailReferenceTask.emailTemplate\n  },\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ec90-c257-8000-9cea-011c48011c48_3031535": {
      "name": "CMGT_WFL_CaseType_ConfigureTask_Task",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!triggerRefresh: now(),\n  local!selectedTab: 1,\n  local!taskRulesCount: rule!CMGT_WFL_QR_GetCaseTypeWorkflowTask(\n    returnType: \"TOTAL_COUNT\",\n    taskIntentionCodes: {\n      cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_TRIGGER\n    },\n    includeInactive: false,\n    additionalFilters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationParentCaseTypeWorkflowTaskUuid,\n        operator: \"=\",\n        value: ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n\n      )\n    },\n    triggerRefresh: local!triggerRefresh,\n    sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder,\n      ascending: true\n    )\n  ),\n  local!tabs: {\n    a!map(\n      name: #\"urn:appian:translation-string:v1:7057623d-7649-40bb-a8d2-2aa422f7cc77\"\n    ),\n    a!map(\n      name: #\"urn:appian:translation-string:v1:10e0024a-6188-49c5-b7b6-09c7a75f34c2\"\n    )\n  },\n  local!basicConfigs: if(\n    ri!isStartTask,\n    {\n      /*Workflow Settings section*/\n      a!map(\n        name: #\"urn:appian:translation-string:v1:3f0fe26c-88db-40d8-8f3f-63a3e6a6977d\",\n        contents: rule!CMGT_WFL_CaseType_ConfigureTask_Task_WorkflowSettingsSection\n      )\n    },\n    {\n      /* Task Details Section */\n      a!map(\n        name: #\"urn:appian:translation-string:v1:da4cf475-ea53-4246-a609-081432655c8f\",\n        contents: rule!CMGT_WFL_CaseType_ConfigureTask_Task_TaskDetailsSection\n      ),\n      a!match(\n        value: ri!taskBehaviorTypeId,\n        equals: cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_CREATE_CASE,\n        then: /* Create Case Details Section */\n        a!map(\n          name: #\"urn:appian:translation-string:v1:db4153e0-a821-4bdb-aed7-503093116934\",\n          contents: rule!CMGT_WFL_CaseType_ConfigureTask_Task_CreateCaseSection\n        ),\n        equals: cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_SEND_EMAIL,\n        then: /* Send Email Details Section */\n        a!map(\n          name: #\"urn:appian:translation-string:v1:af07f751-a95f-44e8-9954-753c6f6c5c0b\",\n          contents: rule!CMGT_WFL_CaseType_ConfigureTask_Task_SendEmailSection\n        ),\n        default: {}\n      ),\n      /* Default Assignment Section */\n        a!map(\n          name: #\"urn:appian:translation-string:v1:b60e779a-aa1d-4739-a1d2-e77929ddf755\",\n          contents: rule!CMGT_WFL_CaseType_ConfigureTask_Task_DefaultAssignmentSection\n        ),\n      /* SLA Section */\n      a!map(\n        name: #\"urn:appian:translation-string:v1:9f41e6f7-45b5-4350-af35-58bf2b3af4eb\",\n        contents: rule!CMGT_WFL_CaseType_ConfigureTask_Task_SLASection\n      ),\n      /*Workflow Settings section*/\n      a!map(\n        name: #\"urn:appian:translation-string:v1:96d1fd87-4a2e-4c28-a946-311726d360a4\",\n        contents: rule!CMGT_WFL_CaseType_ConfigureTask_Task_WorkflowSettingsSection\n      )\n    }\n  ),\n  local!advancedConfigs: if(\n    ri!isStartTask,\n    {\n      /*Workflow Settings section*/\n      a!map(\n        name: #\"urn:appian:translation-string:v1:96d1fd87-4a2e-4c28-a946-311726d360a4\",\n        contents: rule!CMGT_WFL_CaseType_ConfigureTask_Task_WorkflowSettingsSection\n      )\n    },\n    {\n      a!map(\n        name: #\"urn:appian:translation-string:v1:12269709-426a-4b8d-bb73-ed800fb13b23\",\n        contents: rule!CMGT_WFL_CaseType_ConfigureTask_Task_RulesSection\n      )\n    }\n  ),\n  {\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              value: {\n                #\"SYSTEM_SYSRULES_richTextIcon\"(\n                  icon: ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.icon],\n                  color: ri!brandingMap.AccentColor,\n                  size: \"MEDIUM\"\n                ),\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: concat(\n                    char(32),\n                    ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.label]\n                  ),\n                  color: ri!brandingMap.InfoTextColor,\n                  size: \"MEDIUM\",\n                  style: \"STRONG\"\n                )\n              },\n              align: \"LEFT\",\n              marginAbove: \"LESS\",\n              marginBelow: \"NONE\"\n            ),\n          }\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: rule!CMGT_UTIL_Toggle(\n            activeTab: local!selectedTab,\n            tabs: local!tabs,\n            brandingMap: ri!brandingMap,\n            showWhen: ri!isStartTask <> true()\n          ),\n          width: \"NARROW\"\n        )\n      },\n      showWhen: ri!isStartTask <> true(),\n      marginAbove: \"NONE\",\n      marginBelow: \"EVEN_LESS\",\n      spacing: \"NONE\",\n      alignVertical: \"MIDDLE\"\n    ),\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      labelPosition: \"COLLAPSED\",\n      value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: #\"urn:appian:translation-string:v1:4e55001e-fef0-492e-9eee-42b9010b7b6d\",\n        color: ri!brandingMap.secondaryTextColor,\n        size: \"SMALL\"\n      )\n    ),\n    a!match(\n      value: local!selectedTab,\n      equals: 1,\n      then: #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!basicConfigs,\n        expression: rule!CMGT_Workflow_ConfigureTask_SectionWrapper(\n          sectionName: fv!item.name,\n          brandingMap: ri!brandingMap,\n          sectionContents: fv!item.contents(\n            isAutomated: ri!isAutomated,\n            brandingMap: ri!brandingMap,\n            selectedCaseTypeWorkflowTask: ri!selectedCaseTypeWorkflowTask,\n            caseType: ri!caseType,\n            selectedCaseTypeWorkflowTaskUuid: ri!selectedCaseTypeWorkflowTaskUuid,\n            taskBehaviorTypeId: ri!taskBehaviorTypeId,\n            afterTaskBranchMapIndices: ri!afterTaskBranchMapIndices,\n            visibleCaseTypeWorkflowTaskIndices: ri!visibleCaseTypeWorkflowTaskIndices,\n            availableTasks: ri!availableTasks,\n            previousTasks: ri!previousTasks,\n            taskResponseOptions: ri!taskResponseOptions,\n            isStartTask: ri!isStartTask,\n            uniqueAfterTaskUuidsInViolation: ri!uniqueAfterTaskUuidsInViolation,\n            caseTypeWorkflowTaskBranchMaps: ri!caseTypeWorkflowTaskBranchMaps,\n            emailTemplates: ri!emailTemplates,\n            isPreview: ri!isPreview,\n            currentWorkflowStep: ri!currentWorkflowStep,\n            activeMilestones: ri!activeMilestones,\n            workingCaseType: ri!workingCaseType,\n            disabled: local!taskRulesCount > 0\n          )\n        )\n      ),\n      equals: 2,\n      then: #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!advancedConfigs,\n        expression: rule!CMGT_Workflow_ConfigureTask_SectionWrapper(\n          sectionName: fv!item.name,\n          brandingMap: ri!brandingMap,\n          sectionContents: fv!item.contents(\n            isAutomated: ri!isAutomated,\n            brandingMap: ri!brandingMap,\n            selectedCaseTypeWorkflowTask: ri!selectedCaseTypeWorkflowTask,\n            caseType: ri!caseType,\n            selectedCaseTypeWorkflowTaskUuid: ri!selectedCaseTypeWorkflowTaskUuid,\n            taskBehaviorTypeId: ri!taskBehaviorTypeId,\n            afterTaskBranchMapIndices: ri!afterTaskBranchMapIndices,\n            visibleCaseTypeWorkflowTaskIndices: ri!visibleCaseTypeWorkflowTaskIndices,\n            availableTasks: ri!availableTasks,\n            previousTasks: ri!previousTasks,\n            taskResponseOptions: ri!taskResponseOptions,\n            isStartTask: ri!isStartTask,\n            uniqueAfterTaskUuidsInViolation: ri!uniqueAfterTaskUuidsInViolation,\n            caseTypeWorkflowTaskBranchMaps: ri!caseTypeWorkflowTaskBranchMaps,\n            emailTemplates: ri!emailTemplates,\n            isPreview: ri!isPreview,\n            currentWorkflowStep: ri!currentWorkflowStep,\n            activeMilestones: ri!activeMilestones,\n            workingCaseType: ri!workingCaseType,\n            triggerRefresh: local!triggerRefresh,\n            fieldDetails: ri!fieldDetails,\n            trackAutomationRuleChanges: ri!trackAutomationRuleChanges\n          )\n        )\n      ),\n      default: null\n    )\n  }\n)"
    },
    "_a-0000edde-da74-8000-9d79-011c48011c48_4221204": {
      "name": "CMGT_WFL_MTR_CaseTypeWorkflowWrapper",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!CMGT_UTIL_IsBlank(\n    ri!caseTypeWorkflowTasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskId]\n  ),\n  rule!CMGT_WFL_MTR_UserCreatesWorkflow(),\n  rule!CMGT_WFL_MTR_UserUpdatesWorkflow()\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_25890": {
      "name": "CMGT_UTIL_IsBlank",
      "type": "Expression Rule",
      "sail_code": "length(a!flatten(ri!value)) = 0"
    },
    "_a-0000e9d3-70bf-8000-9bbd-011c48011c48_180583": {
      "name": "CMGT_UTIL_checkIfSingleType",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  with(\n    local!typeNumber: rule!CMGT_UTIL_returnTypeNumber(\n      type: ri!type,\n      typeOf: ri!typeOf\n    ),\n  \n    and(\n      /*The type of the input equals the type of the input returned as single type*/\n      local!typeNumber = rule!CMGT_UTIL_returnTypeNumber(\n        typeOf: rule!CMGT_UTIL_returnSingleTypeObject(typeOf: cast(local!typeNumber, null))\n      ),\n      \n      /*And the type of the input is not list of variant*/\n      local!typeNumber <> rule!CMGT_UTIL_returnTypeNumber(\n        typeOf: {}\n      )\n    )\n  )\n)"
    },
    "_a-0000eb69-802f-8000-9c71-011c48011c48_1777627": {
      "name": "CMGT_WFL_CaseTypeWorkflowTasks_WriteRecordsProperties",
      "type": "Expression Rule",
      "sail_code": "if(\n  ri!isInput,\n  rule!CMGT_UTIL_DropNonWritableRelationshipsFromRecord(\n    records: ri!caseTypeWorkflowTasks,\n    relationships: {\n      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseType,\n      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone,\n      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches,\n      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTask,\n      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType\n    }\n  ),\n  rule!CMGT_UTIL_MergeWriteRecordIdsToProcessVariable(\n    processData: ri!caseTypeWorkflowTasks,\n    recordsUpdated: ri!recordsUpdated,\n    fksToParent: {\n      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet.caseTypeWorkflowTaskId,\n      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.createCaseCaseTypeWorkflowTask.caseTypeWorkflowTaskId\n    }\n  )\n)"
    },
    "_a-0000e9ca-3659-8000-9bb8-011c48011c48_145648": {
      "name": "CMGT_UTIL_GetSiteUrl",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!authedPath: cast(\n    'type!{http://www.appian.com/ae/types/2009}Text',\n    extract(linktodocument(0, \"doc\"), \"\"\"\", \"/doc/\")\n  ),\n  local!subdomainWithDomain: extract(local!authedPath, \"//\", \"/suite\")[1],\n  local!subdomain: split(local!subdomainWithDomain, \".\")[1],\n  a!map(\n    subdomain: local!subdomain,\n    authedPath: local!authedPath,\n    subdomainWithDomain: local!subdomainWithDomain\n  )\n)"
    },
    "_a-0000eb92-18b7-8000-9c91-011c48011c48_2008665": {
      "name": "CMGT_WFL_CaseType_RecordAction_WorkflowCreateEdit_UpdateMilestones",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!milestoneColors: split(\n    ri!brandingMap.WorkflowMilestoneColorScheme,\n    \",\"\n  ),\n  local!visibleMilestoneIndices: rule!CMGT_UTIL_Filter(\n    records: ri!workingCaseType[recordType!CMGT_CFG_CaseType.referenceMilestone],\n    field: recordType!CMGT_WFL_CFG_ReferenceMilestone.isActive,\n    value: true,\n    filterType: \"MATCH_INDICES\"\n  ),\n  {\n    #\"SYSTEM_SYSRULES_paneLayout\"(\n      panes: {\n        #\"SYSTEM_SYSRULES_pane\"(\n          backgroundColor: ri!brandingMap.TertiaryBackgroundColor,\n          padding: \"MORE\",\n          contents: {\n            #\"SYSTEM_SYSRULES_columnsLayout\"(\n              columns: {\n                #\"SYSTEM_SYSRULES_columnLayout\"(width: \"1X\"),\n                #\"SYSTEM_SYSRULES_columnLayout\"(\n                  width: \"MEDIUM_PLUS\",\n                  contents: {\n                    #\"SYSTEM_SYSRULES_cardLayout\"(\n                      contents: {\n                        #\"SYSTEM_SYSRULES_cardLayout\"(\n                          showBorder: false,\n                          padding: \"NONE\",\n                          marginBelow: \"NONE\",\n                          contents: {\n                            rule!CMGT_UTIL_HeaderField(\n                              label: #\"urn:appian:translation-string:v1:8f97c2f4-8f44-48fb-b01f-cc99b62ac984\",\n                              labelSize: \"MEDIUM\",\n                              marginBelow: \"NONE\",\n                              brandingMap: ri!brandingMap,\n                              divider: \"NONE\",\n                              rightSideContents: {\n                                #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n                                  buttons: {\n                                    #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                                      label: #\"urn:appian:translation-string:v1:edd4df67-d878-46d6-ab67-732a3700a588\",\n                                      saveInto: {\n                                        a!save(\n                                          ri!currentWorkflowStep,\n                                          \"CONFIGURE_WORKFLOW\"\n                                        ),\n                                        a!save(ri!workingCaseType, {})\n                                      },\n                                      size: \"SMALL\",\n                                      width: \"MINIMIZE\",\n                                      style: \"OUTLINE\",\n                                      color: ri!brandingMap.AccentColor\n                                    ),\n                                    #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                                      label: #\"urn:appian:translation-string:v1:06dbafc7-e085-40de-a68a-c83054c1d7ec\",\n                                      saveInto: {\n                                        a!save(ri!caseType, ri!workingCaseType),\n                                        a!save(ri!workingCaseType, {}),\n                                        a!save(\n                                          ri!currentWorkflowStep,\n                                          \"CONFIGURE_WORKFLOW\"\n                                        )\n                                      },\n                                      size: \"SMALL\",\n                                      width: \"MINIMIZE\",\n                                      style: \"SOLID\",\n                                      color: ri!brandingMap.AccentColor,\n                                      validate: true\n                                    )\n                                  },\n                                  align: \"END\",\n                                  marginBelow: \"NONE\"\n                                )\n                              },\n                              labelColor: ri!brandingMap.SecondaryTextColor,\n                              labelFontWeight: \"SEMI_BOLD\"\n                            ),\n                            #\"SYSTEM_SYSRULES_horizontalLine\"()\n                          }\n                        ),\n                        rule!CMGT_WFL_CaseType_RecordAction_Milestones_CreateEdit(\n                          visibleMilestoneIndices: local!visibleMilestoneIndices,\n                          brandingMap: ri!brandingMap,\n                          caseType: ri!workingCaseType,\n                          milestoneColors: local!milestoneColors\n                        )\n                      },\n                      style: ri!brandingMap.CardBackgroundColor,\n                      shape: ri!brandingMap.CardShape,\n                      marginBelow: \"NONE\",\n                      showBorder: false,\n                      showShadow: ri!brandingMap.CardShowShadow\n                    )\n                  }\n                ),\n                #\"SYSTEM_SYSRULES_columnLayout\"(width: \"1X\")\n              }\n            )\n          }\n        )\n      }\n    )\n  }\n)"
    },
    "_a-0000ed08-c8b4-8000-9d25-011c48011c48_3445148": {
      "name": "CMGT_WFL_CreateCaseCaseTypeWorkflowTask_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!createCaseCaseTypeWorkflowTasks,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CreateCaseCaseTypeWorkflowTask.modifiedOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CreateCaseCaseTypeWorkflowTask.modifiedBy,\n        value: ri!initiator\n      )\n    },\n    /*Only modify these fields if they are currently null*/\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CreateCaseCaseTypeWorkflowTask.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CreateCaseCaseTypeWorkflowTask.createdOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CreateCaseCaseTypeWorkflowTask.isActive,\n        value: true\n      )\n    }\n  )\n)"
    },
    "_a-0000ed5b-d85c-8000-9d42-011c48011c48_3693036": {
      "name": "CMGT_Sub_EmailTemplateAttachmentsCard",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_cardLayout\"(\n  contents: {\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: #\"SYSTEM_SYSRULES_cardLayout\"(\n            contents: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Document icon\"),\n              labelPosition: \"COLLAPSED\",\n              value: {\n                #\"SYSTEM_SYSRULES_richTextIcon\"(\n                  icon: a!defaultValue(\n                    ri!attachment[recordType!CMGT_EmailTemplateAttachments.extensionIcon],\n                    ri!cfgAttachment[recordType!CMGT_WFL_CFG_EmailTemplateAttachments.extensionIcon]\n                  ),\n                  size: \"MEDIUM_PLUS\",\n                  color: rule!CMGT_Document_IconColorLogic(\n                    documentExtension: a!defaultValue(\n                      ri!attachment[recordType!CMGT_EmailTemplateAttachments.extension],\n                      ri!cfgAttachment[recordType!CMGT_WFL_CFG_EmailTemplateAttachments.extension]\n                    ),\n                    brandingMap: ri!brandingMap\n                  )\n                )\n              },\n              marginBelow: \"NONE\"\n            ),\n            showBorder: false,\n            style: ri!brandingMap.CardBackgroundColor\n          ),\n          width: \"AUTO\",\n\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_cardLayout\"(\n              contents: #\"SYSTEM_SYSRULES_forEach\"(\n                items: rule!CMGT_Sub_EmailTemplateAttachments_SummaryDisplay(\n                  attachment: ri!attachment,\n                  cfgAttachment: ri!cfgAttachment,\n                  brandingMap: ri!brandingMap,\n                  linkColor: ri!linkColor,\n                  isShowNoLink: true(),\n                  sizeAndExtensionColor: ri!sizeAndExtensionColor,\n                  nameStyle: \"STRONG\"\n                ),\n                expression: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                  label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(\n                    testingLabel: \"Email Template Attachment Details\"\n                  ),\n                  labelPosition: \"COLLAPSED\",\n                  value: fv!item,\n                  showWhen: or(\n                    not(fv!isLast),\n                    a!defaultValue(ri!showCreatedOn, true)\n                  ),\n                  preventWrapping: fv!isFirst,\n                  marginAbove: if(fv!isLast, \"LESS\", \"NONE\"),\n                  marginBelow: \"NONE\"\n                )\n              ),\n              style: ri!brandingMap.CardBackgroundColor,\n              showBorder: false\n            )\n          },\n          width: \"WIDE\"\n        )\n      },\n      spacing: \"NONE\",\n      stackWhen: \"NEVER\"\n    )\n  },\n  showWhen: a!isNotNullOrEmpty(\n    a!defaultValue(\n      ri!attachment[recordType!CMGT_EmailTemplateAttachments.appianDocumentId],\n      ri!cfgAttachment[recordType!CMGT_WFL_CFG_EmailTemplateAttachments.appianDocumentId]\n    )\n  ),\n  link: #\"SYSTEM_SYSRULES_documentDownloadLink\"(\n    document: ri!attachment[recordType!CMGT_EmailTemplateAttachments.appianDocumentId],\n    showWhen: a!defaultValue(ri!showDocumentDownloadLink, false())\n  ),\n  shape: ri!brandingMap.CardShape,\n  showBorder: ri!brandingMap.CardShowBorder,\n  showShadow: ri!brandingMap.CardShowShadow,\n  padding: \"NONE\",\n  style: ri!brandingMap.CardBackgroundColor\n)"
    },
    "_a-0000eab0-e049-8000-9c27-011c48011c48_1011527": {
      "name": "CMGT_UTIL_DropNonWritableRelationshipsFromRecord",
      "type": "Expression Rule",
      "sail_code": "/*\nThe main rule to \"cleanse\" the input of a WriteRecords SS node to remove non-writable relationships.\n\nSTANDARD USAGE:\n- Use this in tandem with rule CMGT_UTIL_MergeWriteRecordIdsToProcessVariable (see that description)\n- In the input of a WriteRecords SS (NOT in a previous script task), do:\n  A - Expressionable input to \"Records\" intput\n  B - rule!CMGT_UTIL_DropNonWritableRelationshipsFromRecord(\n        records: pv![the pv to write],\n        relationships: {list of record relationships that are not allowed to be written}\n      )\n\nIMPORTANT GENERAL NOTES: \n- The reason to run this in the input of the WriteRecords SS instead of a previous script task\nis that, when used with CMGT_UTIL_MergeWriteRecordIdsToProcessVariable, you can maintain the relationships\nthat you had to drop before writing.\n  -> For example, if you are writing \"Case\" but it has a child-relationship \"Address\" that cannot be written,\n    - this will drop \"Address\" before attempting to write\n    - if the output is configured properly it will reattach \"Address\" in the output\n    - the overall result is that you basically ran the node as if \"Address\" was ignored, \n      so that you can use it later in the process flow\n*/\n#\"SYSTEM_SYSRULES_forEach\"(\n  items: a!flatten(ri!records),\n  expression: reduce(\n    rule!CMGT_UTIL_DropNonWritableRelationshipsFromRecord_Reducer(\n      record: _,\n      relationship: _\n    ),\n    fv!item,\n    ri!relationships\n  )\n)"
    },
    "_a-0000eb57-0ad2-8000-9c6b-011c48011c48_1711391": {
      "name": "CMGT_WFL_CaseType_RecordAction_NonCategoryCreateEdit_SingleMilestone",
      "type": "Interface",
      "sail_code": "{\n  #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n    items: {\n      #\"SYSTEM_SYSRULES_sideBySideItem\"(\n        item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          /* Milestone Colors (configured in Solutions Hub) */\n          labelPosition: \"COLLAPSED\",\n          value: {\n            #\"SYSTEM_SYSRULES_richTextIcon\"(\n              icon: \"circle\",\n              color: ri!thisMilestone[recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor],\n              size: \"MEDIUM\"\n            )\n          }\n        ),\n        width: \"MINIMIZE\"\n      ),\n      #\"SYSTEM_SYSRULES_sideBySideItem\"(\n        /*Milestone Name*/\n        item: #\"SYSTEM_SYSRULES_textField\"(\n          label: #\"urn:appian:translation-string:v1:fec215be-3865-4672-b639-406b72ae02fa\"(\n            #\"urn:appian:translation-variable:v1:94417f85-180a-4947-8190-36fb63fe529b\": ri!thisIndex\n          ),\n          labelPosition: \"COLLAPSED\",\n          value: ri!thisMilestone[recordType!CMGT_WFL_CFG_ReferenceMilestone.label],\n          saveInto: ri!thisMilestone[recordType!CMGT_WFL_CFG_ReferenceMilestone.label],\n          refreshAfter: \"UNFOCUS\",\n          characterLimit: cons!CMGT_INT_MAX_CHAR_LIMIT_MEDIUM,\n          showCharacterCount: false,\n          required: true,\n          requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n            #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:802692c1-f167-44d0-8058-196440edbb6a\"\n          )\n        ),\n        width: \"AUTO\"\n      ),\n      #\"SYSTEM_SYSRULES_sideBySideItem\"(\n        item: #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n          buttons: {\n            #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n              icon: \"caret-up\",\n              saveInto: if(\n                ri!isFirst,\n                {},\n                a!localVariables(\n                  local!swapTrueIndex: ri!visibleMilestoneIndices[ri!thisIndex - 1],\n                  local!thisTrueIndex: ri!visibleMilestoneIndices[ri!thisIndex],\n                  local!swapMilestone: ri!caseType[recordType!CMGT_CFG_CaseType.referenceMilestone][local!swapTrueIndex],\n                  local!thisMilestone: ri!caseType[recordType!CMGT_CFG_CaseType.referenceMilestone][local!thisTrueIndex],\n                  {\n                    a!save(\n                      ri!caseType[recordType!CMGT_CFG_CaseType.referenceMilestone][local!swapTrueIndex],\n                      /*Also swapping the sort orders*/\n                      #\"urn:appian:function:v1:a:update\"(\n                        local!thisMilestone,\n                        recordType!CMGT_WFL_CFG_ReferenceMilestone.sortOrder,\n                        local!swapMilestone[recordType!CMGT_WFL_CFG_ReferenceMilestone.sortOrder]\n                      )\n                    ),\n                    a!save(\n                      ri!caseType[recordType!CMGT_CFG_CaseType.referenceMilestone][local!thisTrueIndex],\n                      /*Also swapping the sort orders*/\n                      #\"urn:appian:function:v1:a:update\"(\n                        local!swapMilestone,\n                        recordType!CMGT_WFL_CFG_ReferenceMilestone.sortOrder,\n                        local!thisMilestone[recordType!CMGT_WFL_CFG_ReferenceMilestone.sortOrder]\n                      )\n                    )\n                  }\n                )\n              ),\n              size: \"SMALL\",\n              style: \"LINK\",\n              color: ri!brandingMap.AccentColor,\n              disabled: ri!isFirst,\n              accessibilityText: #\"urn:appian:translation-string:v1:eace0d89-1e63-45b4-a1af-053eeef9a986\"(\n                #\"urn:appian:translation-variable:v1:88373f22-f096-4fd8-b66c-053239070672\": ri!thisIndex\n              )\n            ),\n            #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n              icon: \"caret-down\",\n              size: \"SMALL\",\n              style: \"LINK\",\n              color: ri!brandingMap.AccentColor,\n              disabled: ri!isLast,\n              accessibilityText: #\"urn:appian:translation-string:v1:59945ac6-ea24-4163-a40b-2c46029e461c\"(\n                #\"urn:appian:translation-variable:v1:ab1c5003-76e4-4872-830c-0524d93e89aa\": ri!thisIndex\n              ),\n              saveInto: if(\n                ri!isLast,\n                {},\n                a!localVariables(\n                  local!swapTrueIndex: ri!visibleMilestoneIndices[ri!thisIndex + 1],\n                  local!thisTrueIndex: ri!visibleMilestoneIndices[ri!thisIndex],\n                  local!swapMilestone: ri!caseType[recordType!CMGT_CFG_CaseType.referenceMilestone][local!swapTrueIndex],\n                  local!thisMilestone: ri!caseType[recordType!CMGT_CFG_CaseType.referenceMilestone][local!thisTrueIndex],\n                  {\n                    a!save(\n                      ri!caseType[recordType!CMGT_CFG_CaseType.referenceMilestone][local!swapTrueIndex],\n                      /*Also swapping the sort orders*/\n                      #\"urn:appian:function:v1:a:update\"(\n                        local!thisMilestone,\n                        recordType!CMGT_WFL_CFG_ReferenceMilestone.sortOrder,\n                        local!swapMilestone[recordType!CMGT_WFL_CFG_ReferenceMilestone.sortOrder]\n                      )\n                    ),\n                    a!save(\n                      ri!caseType[recordType!CMGT_CFG_CaseType.referenceMilestone][local!thisTrueIndex],\n                      /*Also swapping the sort orders*/\n                      #\"urn:appian:function:v1:a:update\"(\n                        local!swapMilestone,\n                        recordType!CMGT_WFL_CFG_ReferenceMilestone.sortOrder,\n                        local!thisMilestone[recordType!CMGT_WFL_CFG_ReferenceMilestone.sortOrder]\n                      )\n                    )\n                  }\n                )\n              )\n            ),\n            /*Remove milestone*/\n            #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n              icon: \"times\",\n              size: \"SMALL\",\n              style: \"LINK\",\n              color: ri!brandingMap.NegativeTextColor,\n              confirmMessage: #\"urn:appian:translation-string:v1:82be51c2-5b32-4d42-99d0-f72ceafd8b89\"(\n                #\"urn:appian:translation-variable:v1:5c769a20-bdf5-4451-8176-e3a7d967e1db\": a!defaultValue(\n                  length(\n                    {\n                      rule!CMGT_UTIL_Filter(\n                        records: ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                        fieldValuePairs: {\n                          a!map(\n                            field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone.milestoneUuid,\n                            value: ri!thisMilestone[recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid]\n                          ),\n                          a!map(\n                            field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive,\n                            value: true\n                          )\n                        }\n                      )\n                    }\n                  ),\n                  0\n                )\n              ),\n              confirmHeader: #\"urn:appian:translation-string:v1:0f051c04-f528-4f42-86aa-fdc7bf870b98\",\n              accessibilityText: #\"urn:appian:translation-string:v1:d46892b9-bdcd-4d55-a49e-b41fd16b93f5\"(\n                #\"urn:appian:translation-variable:v1:5d2dc17e-6546-4cb4-8e6a-ed6e783f2c70\": ri!thisIndex\n              ),\n              confirmButtonLabel: #\"urn:appian:translation-string:v1:2402af6c-0ece-49ed-abec-bc79c881c8d6\",\n              cancelButtonLabel: #\"urn:appian:translation-string:v1:edd4df67-d878-46d6-ab67-732a3700a588\",\n              saveInto: a!localVariables(\n                local!thisIndex: ri!visibleMilestoneIndices[ri!thisIndex],\n                local!tasksInThisMilestone: rule!CMGT_UTIL_Filter(\n                  records: ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                  field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone.milestoneUuid,\n                  value: ri!thisMilestone[recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid]\n                ),\n                {\n                  /*Update the sort orders*/\n                  a!save(\n                    ri!caseType[recordType!CMGT_CFG_CaseType.referenceMilestone],\n                    #\"SYSTEM_SYSRULES_forEach\"(\n                      items: ri!caseType[recordType!CMGT_CFG_CaseType.referenceMilestone],\n                      expression: #\"urn:appian:function:v1:a:update\"(\n                        fv!item,\n                        {\n                          recordType!CMGT_WFL_CFG_ReferenceMilestone.sortOrder\n                        },\n                        { fv!index }\n                      )\n                    )\n                  ),\n                  /*Unmap the removed milestone from any tasks*/\n                  if(\n                    rule!CMGT_UTIL_IsBlank(local!tasksInThisMilestone),\n                    {},\n                    a!save(\n                      ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                      #\"SYSTEM_SYSRULES_forEach\"(\n                        items: ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                        expression: if(\n                          fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone.milestoneUuid] = ri!thisMilestone[recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid],\n                          #\"urn:appian:function:v1:a:update\"(\n                            fv!item,\n                            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone,\n                            null\n                          ),\n                          fv!item\n                        )\n                      )\n                    )\n                  ),\n                  /*Either set the milestone to inactive or remove it entirely from the array*/\n                  if(\n                    rule!CMGT_UTIL_IsNotBlank(\n                      ri!thisMilestone[recordType!CMGT_WFL_CFG_ReferenceMilestone.referenceMilestoneId]\n                    ),\n                    {\n                      a!save(\n                        ri!thisMilestone,\n                        #\"urn:appian:function:v1:a:update\"(\n                          data: ri!thisMilestone,\n                          index: {\n                            recordType!CMGT_WFL_CFG_ReferenceMilestone.isActive\n                          },\n                          value: { false }\n                        )\n                      )\n                    },\n                    a!save(\n                      ri!caseType[recordType!CMGT_CFG_CaseType.referenceMilestone],\n                      remove(\n                        ri!caseType[recordType!CMGT_CFG_CaseType.referenceMilestone],\n                        local!thisIndex\n                      )\n                    )\n                  )\n                }\n              )\n            )\n          },\n          align: \"START\",\n          marginBelow: \"NONE\"\n        ),\n        width: \"MINIMIZE\"\n      )\n    },\n    alignVertical: \"MIDDLE\",\n    stackWhen: \"NEVER\"\n  )\n}"
    },
    "_a-0000ed9c-71ef-8000-9d58-011c48011c48_3988340": {
      "name": "CMGT_CFG_ENUM_ACT_SEND_EMAIL",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  /*code that is used to help evaluation of what actions needs to be ran*/\n  actionCode: cons!CMGT_CFG_TXT_ACT_SEND_EMAIL,\n  /*Display text of action type in configuration*/\n  name: #\"urn:appian:translation-string:v1:30808437-7386-42dc-8605-9d75e19508d3\",\n  image: cons!CMGT_DOC_IMAGE_AUTOMATION_TYPE_SEND_EMAIL,\n  description: #\"urn:appian:translation-string:v1:5efb7150-37e9-41f6-b9cc-ddbc1850e07d\",\n  isCustom: false(),\n  /*process to be run to send en email*/\n  PmConstant: cons!CMGT_PM_TASK_COMPLETE_AUTOMATED_TASK_SEND_EMAIL,\n  /*evaluation rule that runs and outputs the necessary process parameters*/\n  pmParameterEvalRule: rule!CMGT_AUTO_EVAL_SendEmail_DetermineProcessParameters,\n  context: cons!CMGT_CFG_TXT_ACT_CONTEXT_AUTOMATION,\n  createdBy: \"system\"\n)"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_568215": {
      "name": "CMGT_WFL_QR_GetReferenceMilestone",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_WFL_CFG_ReferenceMilestone,\n  returnType: ri!returnType,\n  executeWhen: ri!executeWhen,\n  triggerRefresh: ri!triggerRefresh,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_ReferenceMilestone.caseTypeUuid,\n      operator: \"=\",\n      value: ri!caseTypeUuid\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_ReferenceMilestone.referenceMilestoneId,\n      operator: \"in\",\n      value: ri!referenceMilestoneId\n    )\n  },\n  fields: {\n    ri!fields,\n    recordType!CMGT_WFL_CFG_ReferenceMilestone.caseType\n  },\n  relatedRecordData: { ri!relatedRecordData },\n  pagingInfo: ri!pagingInfo,\n  sort: a!defaultValue(\n    ri!sort,\n    #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_WFL_CFG_ReferenceMilestone.sortOrder,\n      ascending: true\n    )\n  ),\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_566567": {
      "name": "CMGT_WFL_ReferenceTask_RecordAction_CreateUpdate",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!isUpdate: a!isNotNullOrEmpty(\n    ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.referenceTaskId]\n  ),\n  local!brandingMap:rule!CMGT_CB_UTIL_LoadBrandingMap(),\n  local!defaultDecisionResponseOption: recordType!CMGT_WFL_CFG_TaskResponseOption(\n    recordType!CMGT_WFL_CFG_TaskResponseOption.referenceTask: ri!referenceTask,\n    recordType!CMGT_WFL_CFG_TaskResponseOption.isActive: true,\n    recordType!CMGT_WFL_CFG_TaskResponseOption.label: \"\"\n  ),\n  /* Metrics*/\n  local!metric: rule!CMGT_WFL_MTR_UserInitiatesReferenceTask(),\n  local!sla: rule!CMGT_UTIL_ContructSLAMap(\n    slaJson: ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.defaultSla]\n  ),\n  local!currentForm: \"REFERENCE_TASK\",\n  local!emailTemplates: rule!CMGT_WFL_QR_GetEmailTemplates(\n    returnType: \"OBJECT_ARRAY\",\n    sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_WFL_CFG_EmailTemplate.templateName,\n      ascending: true()\n    )\n  ),\n  local!isPreview: false(),\n  local!newEmailTemplates: rule!CMGT_UTIL_Filter(\n    records: local!emailTemplates,\n    field: recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateId,\n    value: null,\n\n  ),\n  local!selectedEmailTemplate: rule!CMGT_UTIL_Filter(\n    records: local!emailTemplates,\n    field: recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid,\n    value: ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.sendEmailReferenceTask.emailTemplateUuid]\n  ),\n  local!documentsToDelete,\n  local!nonMappedNewEmailTemplateUuids,\n  local!caseType: rule!CMGT_QR_GetCaseType(\n    caseTypeUuid: ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.createCaseReferenceTask.caseTypeUuid],\n    fields: {\n      recordType!CMGT_CFG_CaseType.isActive,\n      recordType!CMGT_CFG_CaseType.areParentsActive\n    },\n    includeInactive: true(),\n    returnType: \"SINGLE_OBJECT\",\n    executeWhen: rule!CMGT_UTIL_IsNotBlank(\n      input: ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.createCaseReferenceTask.caseTypeUuid]\n    )\n  ),\n  local!isActiveCaseType: and(\n    local!caseType[recordType!CMGT_CFG_CaseType.isActive],\n    local!caseType[recordType!CMGT_CFG_CaseType.areParentsActive]\n  ),\n  a!match(\n    value: local!currentForm,\n    equals: \"CREATE_NEW_EMAIL_TEMPLATE\",\n    then: rule!CMGT_WFL_SUB_CreateEmailTemplate(\n      brandingMap: local!brandingMap,\n      emailTemplates: local!emailTemplates,\n      documentsToDelete: local!documentsToDelete,\n      submitSaveInto: {\n        a!save(\n          ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.sendEmailReferenceTask.emailTemplateUuid],\n          save!value[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid]\n        ),\n        a!save(local!currentForm, \"REFERENCE_TASK\")\n      },\n      cancelSaveInto: {\n        a!save(local!currentForm, \"REFERENCE_TASK\")\n      }\n    ),\n    whenTrue: local!isPreview,\n    then: rule!CMGT_EmailTemplate_Preview(\n      emailTemplateName: local!selectedEmailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.templateName],\n      subject: local!selectedEmailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.subject],\n      body: local!selectedEmailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.body],\n      isPreview: local!isPreview,\n      cfgAttachments: rule!CMGT_UTIL_RejectBlank(\n        local!selectedEmailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateAttachments]\n      ),\n      brandingMap: local!brandingMap\n    ),\n    default: #\"SYSTEM_SYSRULES_formLayout_v2\"(\n      titleBar: #\"SYSTEM_SYSRULES_cardLayout\"(\n        contents: {\n          #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n            items: {\n              #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                item: #\"SYSTEM_SYSRULES_stampField\"(\n                  icon: \"tasks-alt\",\n                  contentColor: local!brandingMap.StandardStampContentColor,\n                  backgroundColor: local!brandingMap.StandardStampBackgroundColor,\n                  size: \"TINY\",\n                  shape: local!brandingMap.StandardStampShape\n                ),\n                width: \"MINIMIZE\"\n              ),\n              #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                item: #\"SYSTEM_SYSRULES_headingField\"(\n                  text: if(\n                    local!isUpdate,\n                    #\"urn:appian:translation-string:v1:a2299fa0-257f-401b-98b7-ee280826474b\",\n                    #\"urn:appian:translation-string:v1:fa9f85e9-0345-4f20-8252-5686f8d7955e\"\n                  ),\n                  size: local!brandingMap.H1Size,\n                  headingTag: \"H1\",\n                  fontWeight: \"SEMI_BOLD\",\n                  marginAbove: \"STANDARD\"\n                )\n              )\n            },\n            alignVertical: \"MIDDLE\",\n            spacing: \"STANDARD\",\n            marginBelow: \"NONE\",\n            marginAbove: \"NONE\"\n          ),\n          #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: #\"urn:appian:translation-string:v1:4e55001e-fef0-492e-9eee-42b9010b7b6d\",\n              color: local!brandingMap.secondaryTextColor,\n              size: \"SMALL\"\n            )\n          )\n        },\n        padding: \"STANDARD\",\n        showBorder: false()\n      ),\n      showTitleBarDivider: true(),\n      contents: {\n        #\"SYSTEM_SYSRULES_columnsLayout\"(\n          columns: {\n            #\"SYSTEM_SYSRULES_columnLayout\"(\n              contents: {\n                #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                  items: {\n                    /* Name */\n                    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                      item: #\"SYSTEM_SYSRULES_textField\"(\n                        label: #\"urn:appian:translation-string:v1:0bae9b3f-5ddd-4c6a-a4cf-abe8702dac9e\",\n                        value: ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.nameLabel],\n                        saveInto: ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.nameLabel],\n                        characterLimit: cons!CMGT_INT_MAX_CHAR_LIMIT_MEDIUM,\n                        required: true,\n                        requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n                          #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:fe962919-107c-4fbe-b95f-53eef9152c9f\"\n                        )\n                      )\n                    ),\n                    #\"SYSTEM_SYSRULES_sideBySideItem\"(item: {})\n                  }\n                ),\n                /* Description */\n                rule!CMGT_UTIL_RichTextField(\n                  value: ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.description],\n                  readOnly: false(),\n                  label: #\"urn:appian:translation-string:v1:6ae27e88-ca52-4cde-831a-a6e6c2cd57e9\",\n                  helpTooltip: #\"urn:appian:translation-string:v1:1540dd99-3992-4217-b534-43440de2fc7f\"\n                ),\n                #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                  items: {\n                    /* Group Picker */\n                    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                      item: #\"SYSTEM_SYSRULES_pickerFieldGroups\"(\n                        label: #\"urn:appian:translation-string:v1:6f42b039-c079-45f1-806f-cbf4104e8037\",\n                        helpTooltip: if(\n                          ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType.isAutomated],\n                          #\"urn:appian:translation-string:v1:bc958819-24af-4576-866e-3141056afc9d\",\n                          {}\n                        ),\n                        placeholder: #\"urn:appian:translation-string:v1:1fac909d-a6aa-4a91-9ade-2ff52163b94e\",\n                        maxSelections: 1,\n                        groupFilter: cons!CMGT_GRP_BUSINESS_GROUPS,\n                        value: ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.defaultGroupAssignee],\n                        saveInto: ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.defaultGroupAssignee],\n                        disabled: ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType.isAutomated]\n                      )\n                    )\n                  },\n                  marginBelow: \"NONE\"\n                ),\n                /*Default SLA Section*/\n                {\n                  /*Default SLA Section*/\n                  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                    value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                      text: #\"urn:appian:translation-string:v1:7994796a-c989-4edf-a48a-2c5a838f1c16\",\n                      style: \"STRONG\"\n                    ),\n                    marginBelow: \"NONE\",\n                    marginAbove: if(\n                      and(\n                        a!isNotNullOrEmpty(\n                          ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId]\n                        ),\n                        ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION,\n                        count(\n                          ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions]\n                        ) < 5\n                      ),\n                      \"NONE\",\n                      \"EVEN_LESS\"\n                    )\n                  ),\n                  #\"SYSTEM_SYSRULES_columnsLayout\"(\n                    columns: {\n                      #\"SYSTEM_SYSRULES_columnLayout\"(\n                        contents: {\n                          #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                            value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                              text: #\"urn:appian:translation-string:v1:4794decc-5e8c-4cb6-bf94-0696d49b4fa5\",\n                              color: local!brandingMap.SecondaryTextColor\n                            )\n                          ),\n                          #\"SYSTEM_SYSRULES_textField\"(\n                            label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Days\"),\n                            labelPosition: \"COLLAPSED\",\n                            value: local!sla.days,\n                            saveInto: {\n                              a!save(\n                                local!sla,\n                                rule!CMGT_UTIL_ContructSLAMap(\n                                  hours: index(local!sla, \"hours\", \"\"),\n                                  minutes: index(local!sla, \"minutes\", \"\"),\n                                  days: save!value,\n                                  isBusinessDays: index(local!sla, \"isBusinessDays\", \"\"),\n\n                                )\n                              ),\n                              if(\n                                rule!CMGT_UTIL_isEmptySLA(local!sla),\n                                a!save(local!sla, null),\n                                {}\n                              ),\n                              a!save(\n                                ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.defaultSla],\n                                if(\n                                  rule!CMGT_UTIL_IsNotBlank(local!sla),\n                                  #\"SYSTEM_SYSRULES_toJson_v1\"(local!sla),\n                                  null\n                                )\n                              ),\n\n                            },\n                            validations: rule!CMGT_UTIL_ValidateSLA(value: index(local!sla, \"days\", \"\"))\n                          )\n                        }\n                      ),\n                      #\"SYSTEM_SYSRULES_columnLayout\"(\n                        contents: {\n                          #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                            value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                              text: #\"urn:appian:translation-string:v1:befd59bf-3568-4c2b-9afd-71b7d6f7060a\",\n                              color: local!brandingMap.SecondaryTextColor\n                            )\n                          ),\n                          #\"SYSTEM_SYSRULES_textField\"(\n                            label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Hours\"),\n                            labelPosition: \"COLLAPSED\",\n                            value: local!sla.hours,\n                            saveInto: {\n                              /*We are storing the value of Business Days to be false if atleast one\n                                  of the value is given*/\n                              a!save(\n                                local!sla,\n                                rule!CMGT_UTIL_ContructSLAMap(\n                                  hours: save!value,\n                                  minutes: index(local!sla, \"minutes\", \"\"),\n                                  days: index(local!sla, \"days\", \"\"),\n                                  isBusinessDays: index(local!sla, \"isBusinessDays\", \"\"),\n\n                                )\n                              ),\n                              if(\n                                rule!CMGT_UTIL_isEmptySLA(local!sla),\n                                a!save(local!sla, null),\n                                {}\n                              ),\n                              a!save(\n                                ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.defaultSla],\n                                if(\n                                  rule!CMGT_UTIL_IsNotBlank(local!sla),\n                                  #\"SYSTEM_SYSRULES_toJson_v1\"(local!sla),\n                                  null\n                                )\n                              ),\n\n                            },\n                            validations: rule!CMGT_UTIL_ValidateSLA(value: index(local!sla, \"hours\", \"\"))\n                          )\n                        }\n                      ),\n                      #\"SYSTEM_SYSRULES_columnLayout\"(\n                        contents: {\n                          #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                            value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                              text: #\"urn:appian:translation-string:v1:8011a7b9-c1f3-45f4-9f16-99471296e83d\",\n                              color: local!brandingMap.SecondaryTextColor\n                            )\n                          ),\n                          #\"SYSTEM_SYSRULES_textField\"(\n                            label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Minutes\"),\n                            labelPosition: \"COLLAPSED\",\n                            value: local!sla.minutes,\n                            saveInto: {\n                              a!save(\n                                local!sla,\n                                rule!CMGT_UTIL_ContructSLAMap(\n                                  hours: index(local!sla, \"hours\", \"\"),\n                                  minutes: save!value,\n                                  days: index(local!sla, \"days\", \"\"),\n                                  isBusinessDays: index(local!sla, \"isBusinessDays\", \"\"),\n\n                                )\n                              ),\n                              if(\n                                rule!CMGT_UTIL_isEmptySLA(local!sla),\n                                a!save(local!sla, null),\n                                {}\n                              ),\n                              a!save(\n                                ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.defaultSla],\n                                if(\n                                  rule!CMGT_UTIL_IsNotBlank(local!sla),\n                                  #\"SYSTEM_SYSRULES_toJson_v1\"(local!sla),\n                                  null\n                                )\n                              ),\n\n                            },\n                            validations: rule!CMGT_UTIL_ValidateSLA(value: index(local!sla, \"minutes\", \"\"))\n                          )\n                        }\n                      ),\n                      #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}),\n                      #\"SYSTEM_SYSRULES_columnLayout\"(contents: {})\n                    }\n                  ),\n                  #\"SYSTEM_SYSRULES_checkboxField_v1\"(\n                    choiceLabels: #\"urn:appian:translation-string:v1:759245e6-9b85-4710-831f-f11ad593d08a\",\n                    choiceValues: true,\n                    label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Calculate the due date using business days\"),\n                    labelPosition: \"COLLAPSED\",\n                    value: if(\n                      a!isNotNullOrEmpty(index(local!sla, \"isBusinessDays\", null)),\n                      if(\n                        index(local!sla, \"isBusinessDays\", null),\n                        true(),\n                        null\n                      ),\n                      null\n                    ),\n                    saveInto: {\n                      a!save(\n                        local!sla,\n                        rule!CMGT_UTIL_ContructSLAMap(\n                          days: local!sla.days,\n                          hours: local!sla.hours,\n                          minutes: local!sla.minutes,\n                          isBusinessDays: a!defaultValue(value: save!value, default: false)\n                        )\n                      ),\n                      a!save(\n                        ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.defaultSla],\n                        if(\n                          rule!CMGT_UTIL_IsNotBlank(local!sla),\n                          #\"SYSTEM_SYSRULES_toJson_v1\"(local!sla),\n                          null\n                        )\n                      )\n                    },\n                    disabled: rule!CMGT_UTIL_isEmptySLA(slaMap: local!sla),\n                    marginBelow: \"LESS\"\n                  )\n                },\n                /* Task Details */\n                #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                  value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                    text: #\"urn:appian:translation-string:v1:815d242c-4bcb-4550-a6e3-ac4fbbd46728\",\n                    style: \"STRONG\"\n                  )\n                ),\n                #\"SYSTEM_SYSRULES_cardLayout\"(\n                  contents: {\n                    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                      items: {\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                          item: /* Task Type */\n                          #\"SYSTEM_SYSRULES_dropdownField_v1\"(\n                            data: #\"SYSTEM_SYSRULES_recordData\"(\n                              recordType: recordType!CMGT_CFG_TaskBehaviorType,\n                              filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                                operator: \"AND\",\n                                filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n                                  field: recordType!CMGT_CFG_TaskBehaviorType.taskBehaviorTypeId,\n                                  operator: \"<>\",\n                                  value: cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION\n                                )\n                              )\n                            ),\n                            choiceLabels: recordType!CMGT_CFG_TaskBehaviorType.label,\n                            choiceValues: recordType!CMGT_CFG_TaskBehaviorType.taskBehaviorTypeId,\n                            label: #\"urn:appian:translation-string:v1:87b80513-1e00-457f-92aa-c7df18190cd5\",\n                            placeholder: #\"urn:appian:translation-string:v1:88737b77-6273-41ec-bcc3-c41bacb44d4a\",\n                            value: ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId],\n                            saveInto: /*Need to clear out other data that might have been set before changing task type*/\n                            {\n                              ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId],\n                              a!save(\n                                ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType],\n                                rule!CMGT_QR_GetTaskBehaviorType(\n                                  returnType: \"SINGLE_OBJECT\",\n                                  taskBehaviorTypeId: save!value\n                                )\n                              ),\n                              /*Clear the response options out if the task type is not decision*/\n                              a!save(\n                                ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions],\n                                if(\n                                  and(\n                                    ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION,\n                                    rule!CMGT_UTIL_IsBlank(\n                                      ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions]\n                                    )\n                                  ),\n                                  #\"SYSTEM_SYSRULES_forEach\"(\n                                    items: enumerate(2) + 1,\n                                    expression: local!defaultDecisionResponseOption\n                                  ),\n                                  null\n                                )\n                              ),\n                              /*Clear the question out if the task type is not decision*/\n                              if(\n                                ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId] <> cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION,\n                                a!save(\n                                  ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.questionLabel],\n                                  null\n                                ),\n                                {}\n                              ),\n                              /*Clear the group assignee out if the task type is automated*/\n                              a!save(\n                                ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.defaultGroupAssignee],\n                                if(\n                                  ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType.isAutomated],\n                                  null,\n                                  ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.defaultGroupAssignee]\n                                )\n                              ),\n                              /*Clear the SLA days out if the task type is automated*/\n                              a!save(\n                                ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.defaultSla],\n                                if(\n                                  ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType.isAutomated],\n                                  null,\n                                  ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.defaultSla]\n                                )\n                              ),\n                              /*Clear the Case type & Relationship, if the Task behavior type is not Create Case*/\n                              a!save(\n                                ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.createCaseReferenceTask],\n                                null\n                              ),\n                              /*Clear the send email reference task relationship, if the Task behavior type is not send email*/\n                              a!save(\n                                ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.sendEmailReferenceTask],\n                                null\n                              ),\n                              if(\n                                rule!CMGT_UTIL_IsNotBlank(input: local!newEmailTemplates),\n                                {\n                                  /* Append the newly created email templates attachmentIds to documentsToDelete */\n                                  a!save(\n                                    local!documentsToDelete,\n                                    append(\n                                      local!documentsToDelete,\n                                      rule!CMGT_UTIL_RejectBlank(\n                                        array: index(\n                                          local!newEmailTemplates,\n                                          recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateAttachments.appianDocumentId,\n                                          null\n                                        )\n                                      )\n                                    )\n                                  ),\n                                  /* Clear all the newly created email Templates */\n                                  a!save(\n                                    local!emailTemplates,\n                                    rule!CMGT_UTIL_Filter(\n                                      records: local!emailTemplates,\n                                      field: recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid,\n                                      value: local!newEmailTemplates[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid],\n                                      filterType: \"REJECT\"\n                                    )\n                                  ),\n                                  /* Clear new email templates */\n                                  a!save(local!newEmailTemplates, null)\n                                },\n                                {}\n                              )\n                            },\n                            required: true,\n                            requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n                              #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:87b80513-1e00-457f-92aa-c7df18190cd5\"\n                            ),\n                            disabled: local!isUpdate\n                          ),\n                          width: \"6X\"\n                        ),\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(item: {})\n                      }\n                    ),\n                    #\"SYSTEM_SYSRULES_columnsLayout\"(\n                      marginBelow: \"NONE\",\n                      marginAbove: \"STANDARD\",\n                      columns: {\n                        #\"SYSTEM_SYSRULES_columnLayout\"(\n                          contents: {\n                            {\n                              #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                                items: {\n                                  #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                                    /* Question */\n                                    item: #\"SYSTEM_SYSRULES_textField\"(\n                                      label: #\"urn:appian:translation-string:v1:1d75c2e0-04ea-4b38-97fd-62fb1a14f0f4\",\n                                      helpTooltip: #\"urn:appian:translation-string:v1:2d58f145-74bd-433d-b33b-2d4f0568704b\",\n                                      value: ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.questionLabel],\n                                      saveInto: ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.questionLabel],\n                                      characterLimit: cons!CMGT_INT_MAX_CHAR_LIMIT_MEDIUM,\n                                      showWhen: and(\n                                        a!isNotNullOrEmpty(\n                                          ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId]\n                                        ),\n                                        ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION\n                                      ),\n                                      required: true,\n                                      requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n                                        #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:1d75c2e0-04ea-4b38-97fd-62fb1a14f0f4\"\n                                      )\n                                    ),\n                                    width: \"6X\"\n                                  ),\n                                  #\"SYSTEM_SYSRULES_sideBySideItem\"(item: {}),\n\n                                },\n                                marginBelow: \"NONE\"\n                              ),\n                              #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                  text: #\"urn:appian:translation-string:v1:773c4e60-8a60-4dbf-834c-bb4ef201b786\",\n                                  style: \"STRONG\"\n                                ),\n                                marginAbove: \"EVEN_LESS\"\n                              ),\n                              #\"SYSTEM_SYSRULES_forEach\"(\n                                items: ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions],\n                                expression: {\n                                  #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                                    alignVertical: \"MIDDLE\",\n                                    items: {\n                                      #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                                        width: \"MINIMIZE\",\n                                        item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                          value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(text: fv!index, style: \"STRONG\")\n                                        )\n                                      ),\n                                      #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                                        item: #\"SYSTEM_SYSRULES_textField\"(\n                                          label: #\"urn:appian:translation-string:v1:9731a5c4-f9d3-439e-9256-2bead6cb98b7\"(\n                                            #\"urn:appian:translation-variable:v1:e5dab292-88a7-4032-b649-3c55fcb88189\": fv!index\n                                          ),\n                                          labelPosition: \"COLLAPSED\",\n                                          requiredMessage: #\"urn:appian:translation-string:v1:91314f57-1a7a-4999-88b8-7e6bab124c67\",\n                                          value: fv!item[recordType!CMGT_WFL_CFG_TaskResponseOption.label],\n                                          saveInto: fv!item[recordType!CMGT_WFL_CFG_TaskResponseOption.label],\n                                          characterLimit: cons!CMGT_INT_MAX_CHAR_LIMIT_MEDIUM\n                                        ),\n                                        width: \"5X\"\n                                      ),\n                                      #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                                        item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                          labelPosition: \"COLLAPSED\",\n                                          value: {\n                                            #\"SYSTEM_SYSRULES_richTextIcon\"(\n                                              showWhen: rule!CMGT_UTIL_IsBlank(\n                                                fv!item[recordType!CMGT_WFL_CFG_TaskResponseOption.taskResponseOptionId]\n                                              ),\n                                              icon: \"times\",\n                                              color: \"NEGATIVE\",\n                                              size: \"MEDIUM\",\n                                              linkStyle: \"STANDALONE\",\n                                              link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                                                saveInto: if(\n                                                  a!isNullOrEmpty(\n                                                    fv!item[recordType!CMGT_WFL_CFG_TaskResponseOption.taskResponseOptionId]\n                                                  ),\n                                                  a!save(\n                                                    ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions],\n                                                    remove(\n                                                      ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions],\n                                                      fv!index\n                                                    )\n                                                  ),\n                                                  a!save(\n                                                    fv!item,\n                                                    #\"urn:appian:function:v1:a:update\"(\n                                                      fv!item,\n                                                      recordType!CMGT_WFL_CFG_TaskResponseOption.isActive,\n                                                      false\n                                                    )\n                                                  )\n                                                )\n                                              ),\n                                              altText: #\"urn:appian:translation-string:v1:2a483bf9-c1f6-41dc-9d02-b9e65747a006\"(\n                                                #\"urn:appian:translation-variable:v1:ee534079-3e08-4c59-ae4d-ef3d8cfb6155\": fv!index\n                                              )\n                                            )\n                                          }\n                                        )\n                                      )\n                                    }\n                                  )\n                                }\n                              ),\n                              #\"SYSTEM_SYSRULES_ButtonLayout\"(\n                                showWhen: count(\n                                  ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions]\n                                ) < 5,\n                                secondaryButtons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                                  style: \"LINK\",\n                                  size: \"SMALL\",\n                                  icon: \"plus-circle\",\n                                  label: #\"urn:appian:translation-string:v1:3efef77c-5d03-4add-b1a2-6fdf7f39d690\",\n                                  saveInto: a!save(\n                                    ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions],\n                                    append(\n                                      ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions],\n                                      local!defaultDecisionResponseOption\n                                    )\n                                  ),\n                                  accessibilityText: #\"urn:appian:translation-string:v1:9e159048-eba6-486b-9a68-0a8e9f01b555\"\n                                )\n                              )\n                            },\n\n                          }\n                        )\n                      },\n                      showWhen: and(\n                        a!isNotNullOrEmpty(\n                          ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId]\n                        ),\n                        ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION\n                      )\n                    ),\n                    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                      items: {\n                        /* Email Template */\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                          item: #\"SYSTEM_SYSRULES_dropdownField_v1\"(\n                            choiceLabels: local!emailTemplates[recordType!CMGT_WFL_CFG_EmailTemplate.templateName],\n                            choiceValues: local!emailTemplates[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid],\n                            label: #\"urn:appian:translation-string:v1:9ee41a2b-9ebc-4f9a-8581-138e2e348ba3\",\n                            placeholder: #\"urn:appian:translation-string:v1:6deffc1a-e4be-4a1b-a899-02820e6ca2bd\",\n                            value: ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.sendEmailReferenceTask.emailTemplateUuid],\n                            saveInto: {\n                              ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.sendEmailReferenceTask.emailTemplateUuid]\n                            },\n                            required: true,\n                            requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n                              #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:9ee41a2b-9ebc-4f9a-8581-138e2e348ba3\"\n                            )\n                          ),\n                          width: \"5X\"\n                        ),\n                        /* Preview */\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                          item: #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n                            buttons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                              label: #\"urn:appian:translation-string:v1:8081c5e8-c2e7-4294-af43-28e7a98658e6\",\n                              saveInto: a!save(local!isPreview, true()),\n                              disabled: rule!CMGT_UTIL_IsBlank(\n                                value: ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.sendEmailReferenceTask.emailTemplateUuid],\n\n                              )\n                            ),\n                            align: \"START\",\n                            marginBelow: \"NONE\",\n                            marginAbove: \"LESS\"\n                          ),\n                          width: \"MINIMIZE\"\n                        ),\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(item: {})\n                      },\n                      marginBelow: \"NONE\",\n                      marginAbove: \"STANDARD\",\n                      alignVertical: \"BOTTOM\",\n                      showWhen: tointeger(\n                        ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId]\n                      ) = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_SEND_EMAIL\n                    ),\n                    /* Create Template */\n                    #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n                      buttons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                        label: #\"urn:appian:translation-string:v1:e2e5d9f2-a4d2-45e2-8011-e195eaeb07f7\",\n                        style: \"LINK\",\n                        icon: \"plus-circle\",\n                        saveInto: a!save(\n                          local!currentForm,\n                          \"CREATE_NEW_EMAIL_TEMPLATE\"\n                        ),\n                        showWhen: tointeger(\n                          ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId]\n                        ) = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_SEND_EMAIL\n                      ),\n                      align: \"START\",\n                      marginBelow: \"NONE\",\n                      marginAbove: \"LESS\"\n                    ),\n                    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                      items: {\n                        /* Case Type */\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                          item: #\"SYSTEM_SYSRULES_dropdownField_v1\"(\n                            label: #\"urn:appian:translation-string:v1:28ea68dc-457f-4863-9e77-b36020dbeb4b\",\n                            data: #\"SYSTEM_SYSRULES_recordData\"(\n                              recordType: recordType!CMGT_CFG_CaseType,\n                              filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                                operator: \"AND\",\n                                filters: {\n                                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                                    field: recordType!CMGT_CFG_CaseType.isCategory,\n                                    operator: \"=\",\n                                    value: false()\n                                  ),\n                                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                                    field: recordType!CMGT_CFG_CaseType.isActive,\n                                    operator: \"=\",\n                                    value: true()\n                                  ),\n                                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                                    field: recordType!CMGT_CFG_CaseType.parentCaseType.isActive,\n                                    operator: \"=\",\n                                    value: true()\n                                  )\n                                }\n                              )\n                            ),\n                            placeholder: #\"urn:appian:translation-string:v1:d91269ae-78f6-4736-b22a-ea742a59e80d\",\n                            choiceLabels: recordType!CMGT_CFG_CaseType.fullLabel,\n                            choiceValues: recordType!CMGT_CFG_CaseType.uuid,\n                            value: if(\n                              local!isActiveCaseType,\n                              ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.createCaseReferenceTask.caseTypeUuid],\n                              null\n                            ),\n                            saveInto: ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.createCaseReferenceTask.caseTypeUuid],\n                            required: true(),\n                            requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n                              #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:28ea68dc-457f-4863-9e77-b36020dbeb4b\"\n                            )\n                          ),\n                          width: \"6X\"\n                        ),\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(item: {})\n                      },\n                      showWhen: tointeger(\n                        ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId]\n                      ) = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_CREATE_CASE\n                    ),\n                    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                      items: {\n                        /* Relationship to original Case */\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                          item: #\"SYSTEM_SYSRULES_dropdownField_v1\"(\n                            label: #\"urn:appian:translation-string:v1:f967743d-71a3-4f23-8107-b8f1ebc38396\",\n                            data: #\"SYSTEM_SYSRULES_recordData\"(\n                              recordType: recordType!CMGT_CFG_RelationshipMapType,\n                              filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                                operator: \"AND\",\n                                filters: {\n                                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                                    field: recordType!CMGT_CFG_RelationshipMapType.type,\n                                    operator: \"=\",\n                                    value: \"CASE_TO_CASE\"\n                                  ),\n                                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                                    field: recordType!CMGT_CFG_RelationshipMapType.isActive,\n                                    operator: \"=\",\n                                    value: true()\n                                  )\n                                }\n                              )\n                            ),\n                            placeholder: #\"urn:appian:translation-string:v1:3831f890-1fc6-41e0-8732-dedfe0749174\",\n                            choiceLabels: recordType!CMGT_CFG_RelationshipMapType.relationship.label,\n                            choiceValues: recordType!CMGT_CFG_RelationshipMapType.relationshipMapTypeId,\n                            value: ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.createCaseReferenceTask.relationshipToOriginalCase],\n                            saveInto: ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.createCaseReferenceTask.relationshipToOriginalCase]\n                          ),\n                          width: \"6X\"\n                        ),\n                        /* Case Type */\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(item: {})\n                      },\n                      showWhen: tointeger(\n                        ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId]\n                      ) = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_CREATE_CASE\n                    ),\n\n                  },\n                  showBorder: false(),\n                  shape: \"SEMI_ROUNDED\",\n                  style: local!brandingMap.StandardStampBackgroundColor\n                )\n              }\n            )\n          }\n        )\n      },\n      contentsWidth: \"FULL\",\n      buttons: {\n        #\"SYSTEM_SYSRULES_ButtonLayout\"(\n          primaryButtons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n            label: if(\n              local!isUpdate,\n              #\"urn:appian:translation-string:v1:06dbafc7-e085-40de-a68a-c83054c1d7ec\",\n              #\"urn:appian:translation-string:v1:8109f456-b575-47d2-8f0f-097db1743e6b\"\n            ),\n            style: \"SOLID\",\n            submit: true,\n            validate: true,\n            saveInto: {\n              /*Write new email templates only if it is mapped to any task*/\n              a!save(\n                ri!newEmailTemplates,\n                rule!CMGT_UTIL_Filter(\n                  records: local!newEmailTemplates,\n                  field: recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid,\n                  value: ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.sendEmailReferenceTask.emailTemplateUuid]\n                )\n              ),\n              a!save(\n                local!nonMappedNewEmailTemplateUuids,\n                difference(\n                  touniformstring(\n                    local!newEmailTemplates[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid]\n                  ),\n                  ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.sendEmailReferenceTask.emailTemplateUuid]\n                )\n              ),\n              if(\n                rule!CMGT_UTIL_IsNotBlank(local!nonMappedNewEmailTemplateUuids),\n                a!save(\n                  local!documentsToDelete,\n                  append(\n                    local!documentsToDelete,\n                    a!flatten(\n                      rule!CMGT_UTIL_Filter(\n                        records: local!newEmailTemplates,\n                        field: recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid,\n                        value: local!nonMappedNewEmailTemplateUuids\n                      )[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateAttachments.appianDocumentId]\n                    )\n                  )\n                ),\n                {}\n              ),\n              a!save(\n                ri!newEmailTemplates,\n                rule!CMGT_UTIL_Filter(\n                  records: local!newEmailTemplates,\n                  field: recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid,\n                  value: local!nonMappedNewEmailTemplateUuids,\n                  filterType: \"REJECT\"\n                )\n              ),\n              a!save(\n                ri!documentsToDelete,\n                local!documentsToDelete\n              )\n            }\n          ),\n          secondaryButtons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n            label: #\"urn:appian:translation-string:v1:651cf177-f30b-485b-900f-8aaf47805737\",\n            style: \"OUTLINE\",\n            submit: true,\n            validate: false,\n            saveInto: {\n              a!save(ri!referenceTask, null),\n              a!save(\n                ri!documentsToDelete,\n                append(\n                  local!documentsToDelete,\n                  rule!CMGT_UTIL_RejectBlank(\n                    array: index(\n                      local!newEmailTemplates,\n                      recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateAttachments.appianDocumentId,\n                      null\n                    )\n                  )\n                )\n              ),\n              a!save(ri!newEmailTemplates, null)\n            }\n          )\n        )\n      },\n      validations: {\n        /*Validation thrown when:\n      there is a blank response option\n      or\n      only one response option\n      */\n        #\"SYSTEM_SYSRULES_validationMessage\"(\n          message: #\"urn:appian:translation-string:v1:d402c5b7-0888-4e49-8599-5ac3a6edacab\",\n          validateAfter: \"SUBMIT\",\n          showWhen: and(\n            a!isNotNullOrEmpty(\n              ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions]\n            ),\n            length(\n              ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions.label]\n            ) <> count(\n              ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions.label]\n            )\n          )\n        ),\n        #\"SYSTEM_SYSRULES_validationMessage\"(\n          message: #\"urn:appian:translation-string:v1:db902d02-f822-4eaf-a0c2-07944110b684\",\n          validateAfter: \"SUBMIT\",\n          showWhen: and(\n            a!defaultValue(\n              ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId],\n              0\n            ) = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION,\n            count(\n              ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions.label]\n            ) < 2\n          )\n        ),\n        #\"SYSTEM_SYSRULES_validationMessage\"(\n          message: #\"urn:appian:translation-string:v1:b6df6f51-cd36-4d95-bfe4-e7be13e4dc7f\",\n          validateAfter: \"SUBMIT\",\n          showWhen: and(\n            a!defaultValue(\n              ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId],\n              0\n            ) = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION,\n            count(\n              rule!CMGT_UTIL_Distinct(\n                ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions.label]\n              )\n            ) <> count(\n              ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions.label]\n            )\n          )\n        )\n      }\n    )\n  )\n)"
    },
    "_a-0000e99c-1217-8000-9ba9-011c48011c48_56349": {
      "name": "CMGT_UTIL_FormatDateTime",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!dateTime),\n  \"\",\n  a!localVariables(\n    /*Converting dateTime to system time zone if  convertToSystemTimeZone is passed true */\n    local!dateTimeToFormat: if(\n      ri!convertToSystemTimeZone,\n      rule!CMGT_UTIL_ConvertDateTimeToTimezone(\n        dateTime: ri!dateTime,\n        timezone: rule!CMGT_UTIL_SystemTimezone()\n      ),\n      ri!dateTime\n    ),\n    if(\n      ri!returnTime,\n      text(local!dateTimeToFormat, \"h:mm a\"),\n      if(\n        ri!includeTime,\n        text(\n          local!dateTimeToFormat,\n          \"mmm d, yyyy h:mm a\"\n        ),\n        if(\n          ri!returnMonthAndDay,\n          text(local!dateTimeToFormat, \"mmm.d\"),\n          text(local!dateTimeToFormat, \"mmm d, yyyy\")\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000ec87-8877-8000-9ce8-011c48011c48_3019487": {
      "name": "CMGT_ENUM_AUTOMATION_OPERATORS",
      "type": "Expression Rule",
      "sail_code": "/*Contains the list of all operators for use in the Workflow Automation and their attributes.\nWhen the selected field is a choice list the type will be \"RecordType\", \"CHOICE_LIST\" */\n{\n  a!map(\n    label: #\"urn:appian:translation-string:v1:4bca06ee-a88f-4634-85ed-a4d0c0490adf\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_INCLUDES,\n    relationshipType:{\n      \"ONE_TO_MANY\"\n    },\n    fieldTypes: {\n      \"TEXT\",\n      \"LONG_TEXT\",\n      \"XL_TEXT\",\n      \"INTEGER\",\n      \"DECIMAL\",\n      \"DATE\",\n      \"DATETIME\",\n      \"GROUP\",\n      \"RecordType\",\n      \"CHOICE_LIST\"\n    },\n    \n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:824ec5d7-800c-4c16-a60d-929137603613\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_DOES_NOT_INCLUDE,\n    relationshipType:{\n      \"ONE_TO_MANY\"\n    },\n    fieldTypes: {\n      \"TEXT\",\n      \"LONG_TEXT\",\n      \"XL_TEXT\",\n      \"INTEGER\",\n      \"DECIMAL\",\n      \"DATE\",\n      \"DATETIME\",\n      \"GROUP\",\n      \"RecordType\",\n      \"CHOICE_LIST\"\n    },\n    \n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:a4915261-2829-446b-87c7-760583581794\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_EQUAL_TO,\n    fieldTypes: {\n      \"TEXT\",\n      \"LONG_TEXT\",\n      \"XL_TEXT\",\n      \"INTEGER\",\n      \"DECIMAL\",\n      \"DATE\",\n      \"DATETIME\",\n      \"GROUP\",\n      \"RecordType\",\n      \"CHOICE_LIST\",\n      \"USERNAME\"\n    },\n    \n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:d5afe4a4-04fc-43db-b06b-48fc966579ba\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_NOT_EQUAL_TO,\n    fieldTypes: {\n      \"TEXT\",\n      \"LONG_TEXT\",\n      \"XL_TEXT\",\n      \"INTEGER\",\n      \"DECIMAL\",\n      \"DATE\",\n      \"DATETIME\",\n      \"GROUP\",\n      \"RecordType\",\n      \"CHOICE_LIST\",\n      \"USERNAME\"\n    }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:528a4007-666d-4694-8864-3c15230addc2\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_CONTAINS,\n    fieldTypes: { \"TEXT\", \"LONG_TEXT\", \"XL_TEXT\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:6df24128-c70e-452b-9427-51fae8a9817f\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_IS_NULL,\n    relationshipType:{\n      \"ONE_TO_MANY\",\n      null\n    },\n    fieldTypes: {\n      \"TEXT\",\n      \"LONG_TEXT\",\n      \"XL_TEXT\",\n      \"INTEGER\",\n      \"DECIMAL\",\n      \"DATE\",\n      \"DATETIME\",\n      \"BOOLEAN\",\n      \"GROUP\",\n      \"RecordType\",\n      \"CHOICE_LIST\",\n      \"USERNAME\"\n    },\n    \n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:632a6300-a1d4-41a8-aef4-de9e282fb9b6\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_IS_NOT_NULL,\n    relationshipType:{\n      \"ONE_TO_MANY\",\n      null\n    },\n    fieldTypes: {\n      \"TEXT\",\n      \"LONG_TEXT\",\n      \"XL_TEXT\",\n      \"INTEGER\",\n      \"DECIMAL\",\n      \"DATE\",\n      \"DATETIME\",\n      \"BOOLEAN\",\n      \"GROUP\",\n      \"RecordType\",\n      \"CHOICE_LIST\",\n      \"USERNAME\"\n    }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:0619e53d-c0c8-49ce-8ef5-d46b386c5ccd\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_LESS_THAN,\n    fieldTypes: { \"INTEGER\", \"DECIMAL\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:a18ca344-315e-486d-8de1-f7e55d0e7901\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_LESS_THAN_OR_EQUAL,\n    fieldTypes: { \"INTEGER\", \"DECIMAL\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:3e996adf-8c81-4e45-a279-b6f51132723a\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_GREATER_THAN,\n    fieldTypes: { \"INTEGER\", \"DECIMAL\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:24b05b46-9c48-42e6-ab63-a5705ffb1728\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_GREATER_THAN_OR_EQUAL,\n    fieldTypes: { \"INTEGER\", \"DECIMAL\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:69589dd2-daae-4e7d-8c89-b4f5c3ede9da\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_BEFORE_TODAY,\n    fieldTypes: { \"DATE\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:bc46afaa-66b8-4002-b649-04ccd92199f5\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_BEFORE_TARGET_DATE,\n    fieldTypes: { \"DATE\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:6b1d819a-e23f-44f2-b53c-99ca86b7091a\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_BEFORE_TODAY_OFFSET,\n    fieldTypes: { \"DATE\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:0a098b18-7d9a-421a-9733-9bc915cc6ba0\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_ON_OR_BEFORE_TODAY,\n    fieldTypes: { \"DATE\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:c11321da-dc43-4844-bfe8-39af6c35ebef\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_ON_OR_BEFORE_TARGET_DATE,\n    fieldTypes: { \"DATE\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:54fd0896-6337-4d2b-b2ed-222fc473b099\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_ON_OR_BEFORE_TODAY_OFFSET,\n    fieldTypes: { \"DATE\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:1d85f3c4-d9fc-4a3f-b2bf-a61d9589e7ee\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_AFTER_TODAY,\n    fieldTypes: { \"DATE\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:40f73aab-68b2-4c54-96cf-5c8e52ae5df4\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_AFTER_TARGET_DATE,\n    fieldTypes: { \"DATE\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:af59d769-42f2-47a5-83e6-125a4f14adeb\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_AFTER_TODAY_OFFSET,\n    fieldTypes: { \"DATE\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:dde46ae0-e8c2-4c39-9920-5593258dc9c0\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_ON_OR_AFTER_TODAY,\n    fieldTypes: { \"DATE\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:abff03f5-ba58-4a26-8060-826ea1590c69\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_ON_OR_AFTER_TARGET_DATE,\n    fieldTypes: { \"DATE\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:834680e0-cc8c-43fd-8544-659b146ebd42\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_ON_OR_AFTER_TODAY_OFFSET,\n    fieldTypes: { \"DATE\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:e71be053-b771-4830-9bad-23ee673401d6\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_BEFORE_NOW,\n    fieldTypes: { \"DATETIME\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:b3457f3f-28eb-4fd4-80d2-ee0a517e6eba\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_BEFORE_TARGET_DATETIME,\n    fieldTypes: { \"DATETIME\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:793ef894-1bba-4974-9a6f-2b5b23ad65e3\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_BEFORE_NOW_OFFSET,\n    fieldTypes: { \"DATETIME\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:a586541c-aca6-4813-9212-e8469798c7b9\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_AFTER_NOW,\n    fieldTypes: { \"DATETIME\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:51d6647e-fa72-4317-99a0-aa24228e57bf\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_AFTER_TARGET_DATETIME,\n    fieldTypes: { \"DATETIME\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:ef7c295c-de81-4177-b476-3240854d89b8\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_AFTER_NOW_OFFSET,\n    fieldTypes: { \"DATETIME\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:4f05f71d-34db-4f9b-987f-309ca3da673f\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_IS_TRUE,\n    fieldTypes: { \"BOOLEAN\" }\n  ),\n  a!map(\n    label: #\"urn:appian:translation-string:v1:ffdfd56b-cf0c-4d46-bc08-6b07a0cac73c\",\n    text: cons!CMGT_TXT_AUTOMATION_OPERATOR_IS_FALSE,\n    fieldTypes: { \"BOOLEAN\" }\n  )\n}"
    },
    "_a-0000eb57-0ad2-8000-9c6b-011c48011c48_1720774": {
      "name": "CMGT_NCF_setAverageHorizontalOrderOfDependents",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!dependentEdges: a!refreshVariable(\n    value:rule!CMGT_UTIL_Filter(\n      records: ri!allEdges,\n      field: \"from\",\n      value: ri!currentNode.id\n    ),\n    refreshAlways: true\n  ),\n  local!dependentNodes: a!refreshVariable(\n    value: rule!CMGT_UTIL_Filter(\n      records: ri!orderedNodes,\n      field: \"id\",\n      value: local!dependentEdges.to\n    ),\n    refreshAlways: true\n  ),\n  /*setting this as a percent 1-100*/\n  /*if there are no children the score is 50*/\n  local!averageChildHorizontalOrder: a!refreshVariable(\n    value: if(\n      a!isNullOrEmpty(local!dependentNodes),\n      50.0,\n      average(local!dependentNodes.horizontalOrder)\n    ),\n    refreshAlways: true\n  ),\n  #\"urn:appian:function:v1:a:update\"(\n    data: ri!currentNode,\n    index: \"horizontalOrder\",\n    value: local!averageChildHorizontalOrder\n  )\n)"
    },
    "_a-0000ed7d-5e46-8000-9d4b-011c48011c48_3821612": {
      "name": "CMGT_CFG_ENUM_ACT_REASSIGN_TASK",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  /*code that is used to help evaluation of what actions needs to be ran*/\n  actionCode: cons!CMGT_CFG_TXT_ACT_REASSIGN_TASK,\n  /*Display text of action type in configuration*/\n  name: #\"urn:appian:translation-string:v1:22b56237-493d-43a4-99d4-4849ebaa4861\",\n  /*interface used to configure assignment logic*/\n  configurationRule:rule!CMGT_WFL_AutomationRule_Configure_AssignmentLogic,\n  runtimeConfigurationRule: rule!CMGT_AutomationRule_Configure_AssignmentLogic,\n  configurationDisplayRule: rule!CMGT_WFL_CaseType_Rules_FormatAssignAction,\n  runtimeDisplayRule: rule!CMGT_Case_Rules_FormatAssignAction,\n  /*process to be run to assigne a case*/\n  PmConstant: cons!CMGT_PM_ROLE_MANAGE,\n  /*evaluation rule that runs and outputs the necessary process parameters*/\n  pmParameterEvalRule: rule!CMGT_AUTO_EVAL_TaskAssignment_DetermineProcessParameters,\n  context: cons!CMGT_CFG_TXT_ACT_CONTEXT_TASK,\n  createdBy: \"system\"\n)"
    },
    "_a-0000ed52-9ecc-8000-9d40-011c48011c48_3648395": {
      "name": "CMGT_WFL_CaseType_RecordAction_WorkflowCreateEdit_CreateEmailTemplate",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_paneLayout\"(\n  panes: {\n    #\"SYSTEM_SYSRULES_pane\"(\n      backgroundColor: ri!brandingMap.TertiaryBackgroundColor,\n      padding: \"MORE\",\n      contents: {\n        #\"SYSTEM_SYSRULES_columnsLayout\"(\n          columns: {\n            #\"SYSTEM_SYSRULES_columnLayout\"(width: \"2X\"),\n            #\"SYSTEM_SYSRULES_columnLayout\"(\n              width: \"WIDE_PLUS\",\n              contents: {\n                #\"SYSTEM_SYSRULES_cardLayout\"(\n                  contents: {\n                    #\"SYSTEM_SYSRULES_cardLayout\"(\n                      showBorder: false,\n                      padding: \"NONE\",\n                      marginBelow: \"NONE\",\n                      contents: rule!CMGT_WFL_SUB_CreateEmailTemplate(\n                        brandingMap: ri!brandingMap,\n                        emailTemplates: ri!emailTemplates,\n                        documentsToDelete: ri!documentsToDelete,\n                        submitSaveInto: {\n                          a!save(\n                            ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTask.emailTemplateUuid],\n                            save!value[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid]\n                          ),\n                          a!save(\n                            ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                            #\"urn:appian:function:v1:a:update\"(\n                              ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                              /*Index of the case type workflow task that we want to update in the ri!caseTypeWorkflowTasks array*/\n                              wherecontains(\n                                ri!selectedCaseTypeWorkflowTaskUuid,\n                                ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask][recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n                              ),\n                              /*The updated case type workflow task*/\n                              #\"urn:appian:function:v1:a:update\"(\n                                ri!selectedCaseTypeWorkflowTask,\n                                recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTask.emailTemplateUuid,\n                                ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTask.emailTemplateUuid],\n\n                              )\n                            )\n                          ),\n                          a!save(\n                            ri!currentWorkflowStep,\n                            \"CONFIGURE_WORKFLOW\",\n\n                          )\n                        },\n                        cancelSaveInto: {\n                          a!save(\n                            ri!currentWorkflowStep,\n                            \"CONFIGURE_WORKFLOW\"\n                          )\n                        }\n                      )\n                    )\n                  },\n                  style: ri!brandingMap.CardBackgroundColor,\n                  shape: ri!brandingMap.CardShape,\n                  marginBelow: \"NONE\",\n                  showBorder: false,\n                  showShadow: ri!brandingMap.CardShowShadow\n                )\n              }\n            ),\n            #\"SYSTEM_SYSRULES_columnLayout\"(width: \"2X\")\n          }\n        )\n      }\n    )\n  }\n)"
    },
    "_a-0000ea54-9653-8000-9c00-011c48011c48_752125": {
      "name": "CMGT_WFL_CaseType_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!metric: #\"SYSTEM_SYSRULES_forEach\"(\n    items: rule!CMGT_UTIL_Filter(\n      records: rule!CMGT_UTIL_RejectBlank(\n        a!flatten(\n          ri!caseType[#\"urn:appian:record-relationship:v1:82aa3b28-94c2-4d3c-a403-bb813bd76155/093d05e1-6021-4725-bd81-6f94a8a579d9/ef9cc417-d6ce-4fee-bd86-fa71ab64f8a1/eb49dd52-e1ed-4e4c-a3ab-903f4eadb20c\"]\n        )\n      ),\n      field: recordType!CMGT_CFG_ConditionSet.conditionSetId,\n      value: null\n    ),\n    expression: rule!CMGT_WFL_MTR_UserCreatesAutomationRule()\n  ),\n  local!configureSendEmailAutomationTaskMetric: #\"SYSTEM_SYSRULES_forEach\"(\n    items: rule!CMGT_UTIL_Filter(\n      records: rule!CMGT_UTIL_RejectBlank(\n        a!flatten(\n          ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask]\n        )\n      ),\n      fieldValuePairs: {\n        a!map(\n          field: recordType!CMGT_WFL_CFG_TaskActions.actionCode,\n          value: cons!CMGT_CFG_TXT_ACT_SEND_EMAIL\n        ),\n        a!map(\n          field: recordType!CMGT_WFL_CFG_TaskActions.taskActionId,\n          value: null\n        )\n      }\n    ),\n    expression: rule!CMGT_WFL_MTR_UserCreatesSendEmailAutomationTask()\n  ),\n  /*\n  Alert\n  There are no fields altered on the case type record in this rule.\n  This is for one central place where relationships off the case type can be altered\n\n  */\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!caseType,\n    expression: rule!CMGT_UTIL_SetRecordFields(\n      record: fv!item,\n      /*Always set these fields with each update*/\n      alwaysOverwrite: {},\n      /*Only modify these fields if they are currently null*/\n      neverOverwrite: {},\n      /*Set metadata for all child relationships*/\n      childRelationships: {\n        a!map(\n          field: recordType!CMGT_CFG_CaseType.referenceMilestone,\n          value: rule!CMGT_WFL_ReferenceMilestone_SetMetaData(\n            /*relationship: referenceMilestones*/\n            referenceMilestones: fv!item[recordType!CMGT_CFG_CaseType.referenceMilestone],\n            initiator: ri!initiator\n          )\n        ),\n        a!map(\n          field: recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask,\n          value: rule!CMGT_WFL_CaseTypeWorkflowTask_SetMetaData(\n            caseTypeWorkflowTasks: fv!item[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n            initiator: ri!initiator\n          )\n        ),\n        a!map(\n          field: recordType!CMGT_CFG_CaseType.caseTypeMetadata,\n          value: rule!CMGT_CFG_CaseTypeMetadata_SetMetaData(\n            caseTypeMetaData: fv!item[recordType!CMGT_CFG_CaseType.caseTypeMetadata],\n            initiator: ri!initiator,\n            caseType: fv!item\n          )\n        )\n        \n      }\n    )\n  )\n)"
    },
    "_a-0000e9d3-70bf-8000-9bbd-011c48011c48_175235": {
      "name": "CMGT_NetworkChartField_FixNodeEdgeOrder_Logic",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*\n  Since the chart will graph dependent on the actual order of nodes\n  this logic will just reorder the nodes based on what don't have edges, what those point to, etc.\n  */\n  /*since nodes are passed in in a parent-child pattern, this pulls all of the nodes out and flattens*/\n  local!allNodes: rule!CMGT_UTIL_cast(\n    typeOf: { a!map() },\n    value: rule!CMGT_UTIL_RejectBlank(\n      a!flatten(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!nodes,\n          expression: {\n            remove(fv!item, \"children\"),\n            fv!item.children\n          }\n        )\n      )\n    )\n  ),\n  /*sorting nodes vertically so nodes which are closest to the start node are first in line*/\n  local!nodesOrderedVertically: reduce(\n    rule!CMGT_NCF_orderNodesBasedOnDistanceFromStart(\n      orderedNodes: _,\n      index: _,\n      allNodes: local!allNodes,\n      allEdges: ri!edges\n    ),\n    /*start with \"start\" node*/\n    #\"urn:appian:function:v1:a:update\"(\n      data: rule!CMGT_UTIL_Filter(\n        records: local!allNodes,\n        field: \"id\",\n        value: ri!nodes[1].id\n      ),\n      index: \"verticalOrder\",\n      value: 1\n    ),\n    enumerate(length(local!allNodes))\n  ),\n  /*stray nodes are nodes with no precedents or nodes that are unreachable*/\n  local!strayNodes: rule!CMGT_UTIL_Filter(\n    records: local!allNodes,\n    field: \"id\",\n    value: local!nodesOrderedVertically.id,\n    filterType: \"REJECT\"\n  ),\n  local!nodesSortedVertically: rule!CMGT_UTIL_sortList(\n    records: {\n      local!nodesOrderedVertically,\n      #\"urn:appian:function:v1:a:update\"(\n        local!strayNodes,\n        \"verticalOrder\",\n        repeat(length(local!strayNodes), 2)\n      )\n    },\n    field: \"verticalOrder\",\n    ascending: true\n  ),\n  /*using the \"verticalOrder\" property given to each node, goes through each \"level\" and sorts nodes*/\n  /*horizontally based on the horizontalOrder of their dependents to help prevent edge intersections*/\n  /*sorting from bottom first helps alleviate crossing lines that form from arbitrary sort from top*/\n  local!nodesSortedHorizontallyFromBottom: rule!CMGT_UTIL_sortList(\n    records: rule!CMGT_UTIL_sortList(\n      records: reduce(\n        rule!CMGT_NCF_orderNodesHorizontallyBottomUp(\n          orderedNodes: _,\n          level: _,\n          allNodes: local!nodesSortedVertically,\n          allEdges: ri!edges\n        ),\n        {},\n        rule!CMGT_UTIL_Distinct(\n          local!nodesSortedVertically.verticalOrder\n        )\n      ),\n      field: \"horizontalOrder\",\n      ascending: true\n    ),\n    field: \"verticalOrder\",\n    ascending: true\n  ),\n  /*using the \"verticalOrder\" property given to each node, goes through each \"level\" and sorts nodes*/\n  /*horizontally based on the horizontalOrder of their precedents to help prevent edge intersections*/\n  /*doing this sort last provides the best visual results*/\n  local!nodesSortedHorizontallyFromTop: rule!CMGT_UTIL_sortList(\n    records: rule!CMGT_UTIL_sortList(\n      records: reduce(\n        rule!CMGT_NCF_orderNodesHorizontallyTopDown(\n          orderedNodes: _,\n          level: _,\n          allNodes: local!nodesSortedHorizontallyFromBottom,\n          allEdges: ri!edges\n        ),\n        {},\n        rule!CMGT_UTIL_Distinct(\n          local!nodesSortedHorizontallyFromBottom.verticalOrder\n        )\n      ),\n      field: \"horizontalOrder\",\n      ascending: true\n    ),\n    field: \"verticalOrder\",\n    ascending: true\n  ),\n  local!fixNodesOrder: local!nodesSortedHorizontallyFromTop,\n  local!maxVerticalSort: todecimal(\n    rule!CMGT_UTIL_returnLastIndexOfArray(array: local!fixNodesOrder).verticalOrder\n  ),\n  /*\n  Since the chart will inaccurately graph if edges point back to previous nodes,\n  this logic will update the ordering of edges so that they always point to \"next\" nodes\n\n  If the edge \"from\" points to a \"to\" that is before it, it just swaps the \"from\" and \"to\" of both the object and the arrow\n  */\n  local!fixEdgesOrder: #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!edges,\n    expression: a!localVariables(\n      /*to help \"fix\" direction of loopback edges*/\n      local!fromNodeIndex: cast(\n        1,\n        wherecontains(\n          tostring(fv!item.from),\n          touniformstring(local!fixNodesOrder.id)\n        )\n      ),\n      local!toNodeIndex: cast(\n        1,\n        wherecontains(\n          tostring(fv!item.to),\n          touniformstring(local!fixNodesOrder.id)\n        )\n      ),\n      local!switchToAndFromIds: and(\n        a!isNotNullOrEmpty(local!fromNodeIndex),\n        a!isNotNullOrEmpty(local!toNodeIndex),\n        local!toNodeIndex < local!fromNodeIndex\n      ),\n      /*to allow for curved edges between distant nodes*/\n      local!fromNode: local!fixNodesOrder[local!fromNodeIndex],\n      local!toNode: local!fixNodesOrder[local!toNodeIndex],\n      local!horizontalOrderSign: sign(\n        local!fromNode.horizontalOrder - local!toNode.horizontalOrder\n      ),\n      /*to allow for multiple curved edges between two nodes when there are multiple branches*/\n      local!matchingEdgeIndices: rule!CMGT_UTIL_Filter(\n        records: ri!edges,\n        fieldValuePairs: {\n          a!map(field: \"from\", value: fv!item.from),\n          a!map(field: \"to\", value: fv!item.to)\n        },\n        filterType: \"MATCH_INDICES\"\n      ),\n      #\"urn:appian:function:v1:a:update\"(\n        fv!item,\n        { \"from\", \"to\", \"arrows\", \"smooth\", \"font\" },\n        {\n          /*from*/\n          if(\n            local!switchToAndFromIds,\n            fv!item.to,\n            fv!item.from\n          ),\n          /*to*/\n          if(\n            local!switchToAndFromIds,\n            fv!item.from,\n            fv!item.to\n          ),\n          /*arrows*/\n          cast(\n            252,\n            if(\n              and(\n                local!switchToAndFromIds,\n                a!isNotNullOrEmpty(fv!item.arrows)\n              ),\n              #\"urn:appian:function:v1:a:update\"(\n                fv!item.arrows,\n                { \"from\", \"to\" },\n                { fv!item.arrows.to, fv!item.arrows.from }\n              ),\n              fv!item.arrows\n            )\n          ),\n          /*smooth*/\n          a!match(\n            value: true,\n            /*allow for multiple curved edges between two nodes when there are multiple branches*/\n            whenTrue: length(local!matchingEdgeIndices) > 1,\n            then: a!map(\n              enabled: true,\n              type: \"curvedCW\",\n              roundness: a!localVariables(\n                local!normalizedMatchingEdgeIndices: enumerate(count(local!matchingEdgeIndices)),\n                local!normalizedCurrentIndex: cast(\n                  1,\n                  wherecontains(fv!index, local!matchingEdgeIndices)\n                ) - 1,\n                local!unadjustedCurve: (\n                  local!normalizedCurrentIndex - median(local!normalizedMatchingEdgeIndices)\n                ) / count(local!matchingEdgeIndices),\n                /*for some reason, negative curve values need to start at -2*/\n                local!adjustedCurve: if(\n                  local!unadjustedCurve < 0,\n                  local!unadjustedCurve - 2,\n                  local!unadjustedCurve\n                ),\n                local!adjustedCurve\n              )\n            ),\n            /*allow for curved edges between distant nodes*/\n            whenTrue: (\n              local!toNode.verticalOrder - local!fromNode.verticalOrder\n            ) <> 1,\n            then: a!map(\n              enabled: true,\n              type: \"curvedCW\",\n              roundness: (\n                local!toNode.verticalOrder - local!fromNode.verticalOrder\n              ) / (local!maxVerticalSort - 1) * 0.5 * a!match(\n                value: 0,\n                whenTrue: local!horizontalOrderSign <> 0,\n                then: local!horizontalOrderSign,\n                whenTrue: sign(local!fromNode.horizontalOrder - 50.0) <> 0,\n                then: sign(local!fromNode.horizontalOrder - 50.0),\n                default: 1\n              )\n            ),\n            default: a!map(enabled: false)\n          ),\n          /*font*/\n          cast(\n            252,\n            /*if there are multiple branches between two nodes update label alignment to handle crowdedness*/\n            if(\n              length(local!matchingEdgeIndices) > 1,\n              #\"urn:appian:function:v1:a:update\"(fv!item.font, \"align\", \"middle\"),\n              fv!item.font\n            )\n          )\n        }\n      )\n    )\n  ),\n  a!map(\n    nodes: rule!CMGT_UTIL_DistinctRecords(\n      records: rule!CMGT_UTIL_RejectBlank(local!fixNodesOrder),\n      fields: \"id\"\n    ),\n    edges: rule!CMGT_UTIL_DistinctRecords(\n      records: rule!CMGT_UTIL_RejectBlank(local!fixEdgesOrder),\n      fields: { \"from\", \"to\", \"arrows\", \"title\" }\n    )\n  )\n)"
    },
    "_a-0000eb60-4595-8000-9c6e-011c48011c48_1742745": {
      "name": "CMGT_WFL_QR_GetCaseTypeWorkflowTask",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask,\n  executeWhen: ri!executeWhen,\n  returnType: ri!returnType,\n  sort: ri!sort,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBlockId,\n      operator: \"in\",\n      value: ri!taskBlockId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.milestoneId,\n      operator: \"=\",\n      value: ri!referenceMilestoneId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeUuid,\n      operator: \"=\",\n      value: ri!caseTypeUuid\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive,\n      operator: \"in\",\n      value: {\n        true,\n        if(\n          a!defaultValue(ri!includeInactive, false),\n          false,\n          {}\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTaskId,\n      operator: \"=\",\n      value: ri!referenceTaskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskId,\n      operator: \"=\",\n      value: ri!caseTypeWorkflowTaskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskIntentionCode,\n      operator: \"in\",\n      value: a!defaultValue(ri!taskIntentionCodes,{cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_WORKFLOW})\n    ),\n  },\n  fields: {\n    ri!fields,\n    if(\n      ri!includeMilestones,\n      {\n        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone\n      },\n      {}\n    ),\n    if(\n      ri!includeCaseType,\n      {\n        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseType\n      },\n      {}\n    ),\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTask,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTask,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskResponseOptions,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet,\n    #\"urn:appian:record-relationship:v1:d6ebee27-6e86-47e3-a9b8-71fdd0348854/ef9cc417-d6ce-4fee-bd86-fa71ab64f8a1/eb49dd52-e1ed-4e4c-a3ab-903f4eadb20c/aa71274b-fe14-4420-b400-573007a0049d\",\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction,\n  },\n  relatedRecordData: {\n    ri!relatedRecordData,\n    #\"SYSTEM_SYSRULES_relatedRecordData\"(\n      relationship: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskResponseOptions,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.sortOrder,\n        ascending: true\n      )\n    )\n  },\n  pagingInfo: ri!pagingInfo,\n  triggerRefresh: ri!triggerRefresh,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ed49-63d5-8000-9d3e-011c48011c48_3612621": {
      "name": "CMGT_EmailTemplate_Preview",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_paneLayout\"(\n  panes: {\n    #\"SYSTEM_SYSRULES_pane\"(\n      backgroundColor: ri!brandingMap.TertiaryBackgroundColor,\n      accessibilityText: #\"urn:appian:translation-string:v1:25a115a1-c8b3-436c-981c-0e111a5a1275\",\n      padding: \"MORE\",\n      contents: {\n        #\"SYSTEM_SYSRULES_columnsLayout\"(\n          columns: {\n            #\"SYSTEM_SYSRULES_columnLayout\"(width: \"2X\"),\n            #\"SYSTEM_SYSRULES_columnLayout\"(\n              width: \"WIDE\",\n              contents: {\n                #\"SYSTEM_SYSRULES_cardLayout\"(\n                  contents: {\n                    #\"SYSTEM_SYSRULES_cardLayout\"(\n                      showBorder: false,\n                      padding: \"NONE\",\n                      marginBelow: \"NONE\",\n                      contents: {\n                        #\"SYSTEM_SYSRULES_headingField\"(\n                        text: #\"urn:appian:translation-string:v1:fda6abad-ccd8-4f13-8a77-1ae7e871680c\"(\n                        #\"urn:appian:translation-variable:v1:7d7177ba-ec92-4d05-8b0d-665eba6cd2f9\": ri!emailTemplateName\n                        ),\n                        size: \"MEDIUM\",\n                        headingTag: \"H4\",\n                        marginBelow: \"LESS\",\n                        marginAbove: \"STANDARD\",\n                        fontWeight: \"BOLD\",\n                        color: ri!brandingMap.StandardTextColor\n                        ),\n\n                        #\"SYSTEM_SYSRULES_horizontalLine\"(),\n                        /* Subject */\n                        #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                          label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Preview Email Template\"),\n                          labelPosition: \"COLLAPSED\",\n                          value: {\n                            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                              text: {\n                                #\"SYSTEM_SYSRULES_richTextIcon\"(\n                                  icon: \"envelope\",\n                                  color: ri!BrandingMap.SecondaryTextColor,\n                                  caption: #\"urn:appian:translation-string:v1:0238b081-2003-447d-9ddc-7d2e03c1b756\"\n                                ),\n                                char(32),\n                                ri!subject\n                              },\n                              style: \"STRONG\"\n                            )\n                          }\n                        ),\n                        /* Body */\n                        rule!CMGT_UTIL_RichTextField(value: ri!body, readOnly: true),\n                        /* Attachments */\n                        rule!CMGT_UTIL_CardGroupHandler(\n                          maxPerRow: 3,\n                          cardLayouts: {\n                            #\"SYSTEM_SYSRULES_forEach\"(\n                              items: a!defaultValue(ri!attachments, ri!cfgAttachments),\n                              expression: rule!CMGT_Sub_EmailTemplateAttachmentsCard(\n                                brandingMap: ri!brandingMap,\n                                linkColor: ri!brandingMap.StandardTextColor,\n                                attachment: if(\n                                  rule!CMGT_UTIL_IsBlank(ri!attachments),\n                                  null,\n                                  fv!item\n                                ),\n                                cfgAttachment: if(\n                                  rule!CMGT_UTIL_IsBlank(ri!cfgAttachments),\n                                  null,\n                                  fv!item\n                                ),\n                                showCreatedOn: false\n                              )\n                            )\n                          }\n                        ),\n                        #\"SYSTEM_SYSRULES_horizontalLine\"(),\n                        #\"SYSTEM_SYSRULES_ButtonLayout\"(\n                          primaryButtons: {\n                            #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                              label: #\"urn:appian:translation-string:v1:5fff53df-8d97-4610-a492-2c37db32f302\",\n                              saveInto: a!save(ri!isPreview, false()),\n                              style: \"SOLID\",\n                              loadingIndicator: true\n                            )\n                          }\n                        )\n                      }\n                    )\n                  },\n                  style: ri!brandingMap.CardBackgroundColor,\n                  shape: ri!brandingMap.CardShape,\n                  marginBelow: \"NONE\",\n                  showBorder: false,\n                  showShadow: ri!brandingMap.CardShowShadow\n                )\n              }\n            ),\n            #\"SYSTEM_SYSRULES_columnLayout\"(width: \"2X\")\n          }\n        )\n      }\n    )\n  }\n)"
    },
    "af326a29-a1c8-4399-a28d-996f85819d9e": {
      "name": "CMGT_UTIL_Filter",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!fieldValuePairs: a!defaultValue(\n    ri!fieldValuePairs,\n    apply(\n      rule!CMGT_UTIL_Filter_CreateFieldValuePair(\n        field: _,\n        value: ri!value,\n        allFields: a!flatten(ri!field)\n      ),\n      a!flatten(ri!field)\n    )\n  ),\n  local!matchingCriteria: a!defaultValue(\n    value: ri!matchingCriteria,\n    default: \"ALL\"\n  ),\n  local!matchType: a!defaultValue(value: ri!matchType, default: \"EXACT\"),\n  local!matchIndices: if(\n    a!isNullOrEmpty(a!flatten(ri!records)),\n    tointeger({}),\n    reduce(\n      rule!CMGT_UTIL_Filter_Reducer(\n        matchingCriteria: local!matchingCriteria,\n        previousIndices: _,\n        records: a!flatten(ri!records),\n        fieldValuePair: _,\n        matchType: local!matchType\n      ),\n      a!match(\n        value: local!matchingCriteria,\n        equals: \"ALL\",\n        then: enumerate(count(a!flatten(ri!records))) + 1,\n        equals: \"ANY\",\n        then: {},\n        default: fn!error(\n          \"Invalid matchingCriteria, must be one of: ALL, ANY\"\n        )\n      ),\n      local!fieldValuePairs\n    )\n  ),\n  local!rejectIndices: difference(\n    if(\n      a!isNullOrEmpty(ri!records),\n      tointeger({}),\n      enumerate(count(a!flatten(ri!records))) + 1\n    ),\n    local!matchIndices\n  ),\n  local!matches: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!matchIndices, {})\n  ),\n  local!rejects: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!rejectIndices, {})\n  ),\n  local!output: a!match(\n    value: a!defaultValue(ri!filterType, \"FILTER\"),\n    equals: \"FILTER\",\n    then: local!matches,\n    equals: \"REJECT\",\n    then: local!rejects,\n    equals: \"FIRST_MATCH\",\n    then: index(local!matches, 1, null),\n    equals: \"FIRST_REJECT\",\n    then: index(local!rejects, 1, null),\n    equals: \"MATCH_COUNT\",\n    then: count(local!matchIndices),\n    equals: \"REJECT_COUNT\",\n    then: count(local!rejectIndices),\n    equals: \"MATCH_INDICES\",\n    then: local!matchIndices,\n    equals: \"REJECT_INDICES\",\n    then: local!rejectIndices,\n    equals: \"FULL_RESULT\",\n    then: a!map(\n      matches: local!matches,\n      rejects: local!rejects,\n      firstMatch: index(local!matches, 1, null),\n      firstReject: index(local!rejects, 1, null),\n      matchCount: count(local!matchIndices),\n      rejectCount: count(local!rejectIndices),\n      matchIndices: local!matchIndices,\n      rejectIndices: local!rejectIndices\n    ),\n    default: fn!error(\n      \"Invalid filterType, must be one of: FILTER, REJECT, FIRST_MATCH, FIRST_REJECT, MATCH_COUNT, REJECT_COUNT, MATCH_INDICES, REJECT_INDICES, FULL_RESULT\"\n    )\n  ),\n  local!output\n)"
    },
    "bd8f3e49-406c-4eab-a3a4-ce119dfbb5ce": {
      "name": "CMGT_UTIL_RichTextField",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  /*\n  This should never be above 4000 characters as it will go over the amount allowed in synced records\n  If using the RTE in other places for customization, the field length should be 4000 characters to allow for additional HTML to be added.\n  The RTE calculates the max length allowed on the front end for the end-user, but will not go over that amount on the back-end\n  */\n  local!maxSize: a!defaultValue(\n    value: ri!maxSize,\n    default: cons!CMGT_INT_MAX_CHAR_LIMIT_EXTRA_LARGE\n  ),\n  if(\n    cons!CMGT_BOL_AUTOMATION_TESTING_LABEL_SWITCH,\n    #\"SYSTEM_SYSRULES_paragraphField\"(\n      label: ri!label,\n      labelPosition: if(rule!CMGT_UTIL_IsBlank(ri!label),\"COLLAPSED\",ri!labelPosition),\n      instructions: ri!instructions,\n      helpTooltip: ri!helpToolTip,\n      placeholder: ri!placeholder,\n      value: rule!CMGT_UTIL_StripHtmlTags(value: ri!value, isFormatted: true),\n      saveInto: a!save(\n        ri!value,\n        \"<p>\" & substitute(save!value, char(10), \"<br>\") & \"</p>\"\n      ),\n      refreshAfter: ri!refreshAfter,\n      characterLimit: local!maxSize,\n      height: ri!height,\n      showWhen: ri!showWhen,\n      required: ri!required,\n      requiredMessage: ri!requiredMessage,\n      readOnly: ri!readOnly,\n      disabled: ri!disabled\n    ),\n    #\"SYSTEM_SYSRULES_styledTextEditorField\"(\n      label: ri!label,\n      labelPosition: if(rule!CMGT_UTIL_IsBlank(ri!label),\"COLLAPSED\",ri!labelPosition),\n      instructions: ri!instructions,\n      helpTooltip: ri!helpToolTip,\n      placeholder: ri!placeholder,\n      value: ri!value,\n      saveInto: {\n        ri!value,\n        ri!additionalSaves\n      },\n      sizeLimit: local!maxSize,\n      height: a!defaultValue(ri!height, \"SHORT_PLUS\"),\n      showWhen: ri!showWhen,\n      required: ri!required,\n      requiredMessage: ri!requiredMessage,\n      readOnly: ri!readOnly,\n      disabled: ri!disabled,\n      validations: ri!validations\n    )\n  )\n)"
    },
    "_a-0000eccd-140e-8000-9d02-011c48011c48_3346549": {
      "name": "CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!taskResponseOptions,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.sortOrder,\n        value: fv!index\n      )\n    },\n    /*Only modify these fields if they are currently null*/\n    neverOverwrite: {\n      a!map(\n        field:  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.isActive,\n        value: true\n      )\n    }\n  )\n)"
    },
    "_a-0000eb8e-69e6-8000-9c8c-011c48011c48_1961976": {
      "name": "CMGT_WFL_CaseType_RecordAction_WorkflowCreateEdit_TaskList",
      "type": "Interface",
      "sail_code": "{\n  #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n    marginAbove: \"STANDARD\",\n    buttons: {\n      #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n        label: #\"urn:appian:translation-string:v1:c512b062-c487-4b59-a5d9-e009552303aa\",\n        saveInto: a!save(ri!currentWorkflowStep, \"ADD_REF_TASKS\"),\n        size: \"SMALL\",\n        color: \"SECONDARY\"\n      ),\n      #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n        label: #\"urn:appian:translation-string:v1:23f8a61c-3268-4b1d-acb1-ae906e28de5e\",\n        saveInto: a!save(\n          ri!currentWorkflowStep,\n          \"ADD_TASK_BLOCKS\"\n        ),\n        size: \"SMALL\",\n        color: \"SECONDARY\"\n      ),\n      #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n        label: #\"urn:appian:translation-string:v1:bda4ee2c-c4c4-4b2e-b8ef-1446de6a954d\",\n        saveInto: a!save(\n          ri!currentWorkflowStep,\n          \"SELECT_AUTOMATION_TYPE\"\n        ),\n        size: \"SMALL\",\n        color: \"SECONDARY\"\n      ),\n\n    },\n    align: \"START\",\n    marginBelow: \"NONE\"\n  ),\n  #\"SYSTEM_SYSRULES_gridLayout\"(\n    label:#\"urn:appian:translation-string:v1:0d2803b8-e051-4704-b4d5-c637b0568ff3\",\n    labelPosition: \"COLLAPSED\",\n    emptyGridMessage: #\"urn:appian:translation-string:v1:9541cbd3-719b-4809-bfdc-ee599f8cbab7\",\n    headerCells: {\n      #\"SYSTEM_SYSRULES_gridLayoutHeaderCell\"(),\n      #\"SYSTEM_SYSRULES_gridLayoutHeaderCell\"(),\n      #\"SYSTEM_SYSRULES_gridLayoutHeaderCell\"(),\n      #\"SYSTEM_SYSRULES_gridLayoutHeaderCell\"()\n    },\n    columnConfigs: {\n      #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"ICON\"),\n      #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"DISTRIBUTE\"),\n      #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"ICON\"),\n      #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"ICON\")\n    },\n    rows: #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!visibleCaseTypeWorkflowTasks,\n      expression: a!localVariables(\n        local!thisTask: fv!item,\n        local!caseTypeWorkflowTaskName: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label],\n        local!afterTaskBranchIndices: rule!CMGT_UTIL_Filter(\n          records: a!flatten(\n            ri!caseTypeWorkflowTaskBranchMaps.aftercaseTypeWorkflowTaskBranches\n          ),\n          fieldValuePairs: {\n            a!map(\n              field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n              value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n            ),\n            a!map(\n              field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive,\n              value: { true, null }\n            )\n          },\n          filterType: \"MATCH_INDICES\"\n        ),\n        local!afterTasks: rule!CMGT_UTIL_Filter(\n          records: ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask][ri!visibleCaseTypeWorkflowTaskIndices],\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n          value: index(\n            a!flatten(\n              ri!caseTypeWorkflowTaskBranchMaps.afterCaseTypeWorkflowTaskBranches\n            )[local!afterTaskBranchIndices],\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid,\n            null\n          )\n        ),\n        local!dependents: joinarray(\n          local!afterTasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label],\n          \", \"\n        ),\n        local!countOfDependents: if(\n          a!isNotNullOrEmpty(local!dependents),\n          length(local!afterTasks),\n          0\n        ),\n        local!tasksWithInvalidBasicDetails: index(\n          ri!additionalValidationConditions,\n          \"tasksWithInvalidBasicDetails\",\n          \" \"\n        ),\n        local!hasInvalidBasicDetails: and(\n          rule!CMGT_UTIL_IsNotBlank(local!tasksWithInvalidBasicDetails),\n          contains(\n            index(\n              local!tasksWithInvalidBasicDetails,\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n              null\n            ),\n            fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n          )\n        ),\n        local!tasksWithNoPrecendents: index(\n          index(\n            ri!additionalValidationConditions,\n            \"tasksWithNoPrecedents\",\n            \" \"\n          ),\n          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n          \" \"\n        ),\n        local!isOrphanedTask: and(\n          rule!CMGT_UTIL_IsNotBlank(local!tasksWithNoPrecendents),\n          contains(\n            local!tasksWithNoPrecendents,\n            fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n          )\n        ),\n        #\"SYSTEM_SYSRULES_gridRowLayout\"(\n          id: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n          contents: {\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              value: if(\n                fv!isFirst,\n                {\n                  #\"SYSTEM_SYSRULES_richTextIcon\"(\n                    icon: \"play-circle\",\n                    size: \"MEDIUM\",\n                    altText: #\"urn:appian:translation-string:v1:419ef7cc-f846-4e8d-9805-f45d76f7ff16\"\n                  )\n                },\n                {\n                  #\"SYSTEM_SYSRULES_richTextIcon\"(\n                    icon: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.icon],\n                    caption: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.label],\n                    size: \"MEDIUM\",\n                    color: if(\n                      ri!selectedCaseTypeWorkflowTaskUuid = fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                      ri!brandingMap.WhiteColor,\n                      if(\n                        fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n                        ri!brandingMap.AccentColor,\n                        ri!brandingMap.SecondaryTextColor\n                      )\n                    )\n                  )\n                }\n              )\n            ),\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              value: {\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: local!caseTypeWorkflowTaskName,\n                  style: \"STRONG\"\n                ),\n                char(32),\n                #\"SYSTEM_SYSRULES_richTextIcon\"(\n                  icon: \"exclamation-triangle\",\n                  altText: #\"urn:appian:translation-string:v1:00414da3-9e85-41c6-8a51-73f3335484d9\",\n                  caption: joinarray(\n                    {\n                      if(\n                        or(\n                          local!hasInvalidBasicDetails = true,\n                          local!isOrphanedTask = true,\n\n                        ),\n                        #\"urn:appian:translation-string:v1:9875b168-85bf-4637-9363-49206253f2de\",\n                        null\n                      )\n                    },\n                    \", \"\n                  ),\n                  color: if(\n                    ri!selectedCaseTypeWorkflowTaskUuid = fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                    ri!brandingMap.WhiteColor,\n                    ri!brandingMap.NegativeAccentColor\n                  ),\n                  showWhen: or(\n                    local!isOrphanedTask,\n                    local!hasInvalidBasicDetails,\n\n                  )\n                ),\n                char(10),\n                #\"SYSTEM_SYSRULES_richTextIcon\"(\n                  icon: \"circle\",\n                  showWhen: rule!CMGT_UTIL_IsNotBlank(\n                    fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone]\n                  ),\n                  altText: #\"urn:appian:translation-string:v1:802692c1-f167-44d0-8058-196440edbb6a\",\n                  color: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone.milestoneColor],\n                  size: \"SMALL\"\n                ),\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: {\n                    char(32),\n                    fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone.label]\n                  },\n                  showWhen: rule!CMGT_UTIL_IsNotBlank(\n                    fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone]\n                  ),\n                  color: if(\n                    ri!selectedCaseTypeWorkflowTaskUuid = fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                    ri!brandingMap.WhiteColor,\n                    ri!brandingMap.SecondaryTextColor\n                  ),\n                  size: \"SMALL\"\n                ),\n                /*Except start task all task will have task behavior type. So removing extra new line\n                if there are not task behavior type*/\n                if(\n                  and(\n                    rule!CMGT_UTIL_IsNotBlank(\n                      fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.label],\n\n                    ),\n                    fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.taskBehaviorTypeId] <> cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n                    rule!CMGT_UTIL_IsNotBlank(\n                      fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone]\n                    ),\n\n                  ),\n                  char(10),\n                  {}\n                ),\n                #\"SYSTEM_SYSRULES_richTextIcon\"(\n                  icon: \"arrow-right\",\n                  color: if(\n                    ri!selectedCaseTypeWorkflowTaskUuid = fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                    ri!brandingMap.WhiteColor,\n                    ri!brandingMap.SecondaryTextColor\n                  ),\n                  altText: #\"urn:appian:translation-string:v1:6fa1bc00-eaf5-45d0-966b-16d2a592ccaf\",\n                  size: \"SMALL\",\n                  caption: local!dependents\n                ),\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(text: \" \"),\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: concat(\n                    #\"urn:appian:translation-string:v1:0b9b52cc-25f5-4444-90b3-6d70a4491713\",\n                    \" \",\n                    local!countOfDependents,\n                    \" \",\n                    if(\n                      local!countOfDependents = 1,\n                      #\"urn:appian:translation-string:v1:f840e77d-0aae-4eeb-b795-0394d8bff5b4\",\n                      #\"urn:appian:translation-string:v1:7178a955-6103-460e-8886-24c185dc3faf\"\n                    )\n                  ),\n                  color: if(\n                    ri!selectedCaseTypeWorkflowTaskUuid = fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                    ri!brandingMap.WhiteColor,\n                    ri!brandingMap.SecondaryTextColor\n                  ),\n                  size: \"SMALL\"\n                )\n              }\n            ),\n            #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n              buttons: {\n                /*Disable the up arrow button for the first task which is start task and second task as it should not\n                also be moved up*/\n                #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                  label: \"\",\n                  icon: \"caret-up\",\n                  saveInto: if(\n                    contains({ 1, 2 }, fv!index),\n                    {},\n                    a!localVariables(\n                      local!thisIndex: ri!visibleCaseTypeWorkflowTaskIndices[fv!index],\n                      local!swapIndex: ri!visibleCaseTypeWorkflowTaskIndices[fv!index - 1],\n                      local!thisCaseTypeWorkflowTask: ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask][local!thisIndex],\n                      local!swapCaseTypeWorkflowTask: ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask][local!swapIndex],\n                      {\n                        a!save(\n                          ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask][local!swapIndex],\n                          local!thisCaseTypeWorkflowTask\n                        ),\n                        a!save(\n                          ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask][local!thisIndex],\n                          local!swapCaseTypeWorkflowTask\n                        )\n                      }\n                    )\n                  ),\n                  size: \"SMALL\",\n                  style: \"LINK\",\n                  disabled: contains({ 1, 2 }, fv!index),\n                  accessibilityText: #\"urn:appian:translation-string:v1:405f03e4-77b7-4ccd-b468-abd1132cf6cc\"(\n                    #\"urn:appian:translation-variable:v1:d357a1dd-9637-43f4-84b3-5ef76459c645\": local!caseTypeWorkflowTaskName\n                  ),\n                  showWhen: not(fv!isFirst)\n                ),\n                /*Disable the down arrow button for the first task which is start task*/\n                #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                  label: \"\",\n                  icon: \"caret-down\",\n                  saveInto: if(\n                    or(fv!isLast, fv!isFirst),\n                    {},\n                    a!localVariables(\n                      local!thisIndex: ri!visibleCaseTypeWorkflowTaskIndices[fv!index],\n                      local!swapIndex: ri!visibleCaseTypeWorkflowTaskIndices[fv!index + 1],\n                      local!thisCaseTypeWorkflowTask: ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask][local!thisIndex],\n                      local!swapCaseTypeWorkflowTask: ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask][local!swapIndex],\n                      {\n                        a!save(\n                          ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask][local!swapIndex],\n                          local!thisCaseTypeWorkflowTask\n                        ),\n                        a!save(\n                          ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask][local!thisIndex],\n                          local!swapCaseTypeWorkflowTask\n                        )\n                      }\n                    )\n                  ),\n                  size: \"SMALL\",\n                  style: \"LINK\",\n                  disabled: or(fv!isLast, fv!isFirst),\n                  accessibilityText: #\"urn:appian:translation-string:v1:a49810cb-02df-496e-9546-1299833280e9\"(\n                    #\"urn:appian:translation-variable:v1:1473025b-e8a1-454d-949a-c499f18c2193\": local!caseTypeWorkflowTaskName\n                  ),\n                  showWhen: not(fv!isFirst)\n                )\n              }\n            ),\n            /*Disable the remove button for the first task which is start task*/\n            #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n              buttons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                label: \"\",\n                icon: \"close\",\n                saveInto: if(\n                  fv!isFirst,\n                  {},\n                  a!localVariables(\n                    local!thisIndex: ri!visibleCaseTypeWorkflowTaskIndices[fv!index],\n                    {\n                      a!save(\n                        ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask][local!thisIndex],\n                        #\"urn:appian:function:v1:a:update\"(\n                          ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask][local!thisIndex],\n                          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive,\n                          false\n                        )\n                      ),\n                      /* Mark the removed case type workflow task as Inactive in create case case type workflow task*/\n                      if(\n                        rule!CMGT_UTIL_IsBlank(\n                          ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask]\n                        ),\n                        {},\n                        a!save(\n                          ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask][local!thisIndex],\n                          #\"urn:appian:function:v1:a:update\"(\n                            ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask][local!thisIndex],\n                            recordType!CMGT_WFL_CFG_CreateCaseCaseTypeWorkflowTask.isActive,\n                            false\n                          )\n                        )\n                      ),\n                      /* Mark the removed case type workflow task as Inactive in send email case type workflow task*/\n                      if(\n                        rule!CMGT_UTIL_IsBlank(\n                          ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask]\n                        ),\n                        {},\n                        a!save(\n                          ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask][local!thisIndex],\n                          #\"urn:appian:function:v1:a:update\"(\n                            ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask][local!thisIndex],\n                            recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.isActive,\n                            false\n                          )\n                        )\n                      ),\n                      /* Clear any dependents for task that is removed */\n                      a!save(\n                        ri!caseTypeWorkflowTaskBranchMaps,\n                        #\"SYSTEM_SYSRULES_forEach\"(\n                          items: ri!caseTypeWorkflowTaskBranchMaps,\n                          expression: a!localVariables(\n                            local!filteredTaskBranchIndex: a!flatten(\n                              {\n                                rule!CMGT_UTIL_Filter(\n                                  records: fv!item.afterCaseTypeWorkflowTaskBranches,\n                                  field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid,\n                                  value: local!thisTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                                  filterType: \"MATCH_INDICES\"\n                                ),\n                                rule!CMGT_UTIL_Filter(\n                                  records: fv!item.afterCaseTypeWorkflowTaskBranches,\n                                  field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n                                  value: local!thisTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                                  filterType: \"MATCH_INDICES\"\n                                )\n                              }\n                            ),\n                            #\"urn:appian:function:v1:a:update\"(\n                              fv!item,\n                              \"afterCaseTypeWorkflowTaskBranches\",\n                              if(\n                                rule!CMGT_UTIL_IsNotBlank(local!filteredTaskBranchIndex),\n                                #\"urn:appian:function:v1:a:update\"(\n                                  fv!item.afterCaseTypeWorkflowTaskBranches,\n                                  local!filteredTaskBranchIndex,\n                                  #\"urn:appian:function:v1:a:update\"(\n                                    data: index(\n                                      fv!item.afterCaseTypeWorkflowTaskBranches,\n                                      local!filteredTaskBranchIndex,\n                                      null\n                                    ),\n                                    index: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive,\n                                    value: false\n                                  )\n                                ),\n                                fv!item.afterCaseTypeWorkflowTaskBranches\n                              )\n                            )\n                          )\n                        )\n                      )\n                    }\n                  )\n                ),\n                size: \"SMALL\",\n                style: \"LINK\",\n                showWhen: not(fv!isFirst),\n                color: if(\n                  ri!selectedCaseTypeWorkflowTaskUuid = fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                  ri!brandingMap.WhiteColor,\n                  ri!brandingMap.NegativeAccentColor\n                ),\n                accessibilityText: #\"urn:appian:translation-string:v1:d544b739-290e-4c0b-8e08-ae1ea9b5d578\"(\n                  #\"urn:appian:translation-variable:v1:75d491f3-ed1b-4279-affd-0ef9d51760a3\": local!caseTypeWorkflowTaskName\n                )\n              )\n            )\n          }\n        )\n      )\n    ),\n    selectionValue: ri!selectedCaseTypeWorkflowTaskUuid,\n    selectionSaveInto: {\n      a!save(\n        ri!selectedCaseTypeWorkflowTaskUuid,\n        index(reverse(save!value), 1, null)\n      ),\n      /*The task branch has to populated for each response for decision question.It is taking time to refresh the value of this local\n                  when value is initialized in top. So the below logic which is dependent on this is not getting the value and is NULL at\n                  the time when the below logics are executed. So the value is assigned in this save */\n      a!save(\n        ri!selectedCaseTypeWorkflowTask,\n        rule!CMGT_UTIL_Filter(\n          records: ri!visibleCaseTypeWorkflowTasks,\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n          value: ri!selectedCaseTypeWorkflowTaskUuid,\n          filterType: \"FIRST_MATCH\"\n        )\n      ),\n      /*For the selected task in the middle pane*/\n      a!save(\n        ri!taskResponseOptions,\n        ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskResponseOptions]\n      ),\n      /*Populate the response options for decision tasks when there is no*/\n      if(\n        rule!CMGT_UTIL_IsNotBlank(input: ri!taskResponseOptions),\n        a!save(\n          ri!caseTypeWorkflowTaskBranchMaps,\n          append(\n            ri!caseTypeWorkflowTaskBranchMaps,\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: difference(\n                touniformstring(\n                  ri!taskResponseOptions[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.caseTypeWorkflowTaskResponseOptionUuid]\n                ),\n                touniformstring(\n                  rule!CMGT_UTIL_Filter(\n                    records: ri!caseTypeWorkflowTaskBranchMaps,\n                    fieldValuePairs: {\n                      a!map(\n                        field: \"taskUUID\",\n                        value: ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n                      ),\n                      a!map(field: \"isActive\", value: { true, null })\n                    }\n                  ).taskResponseOptionUUID\n                )\n              ),\n              expression: rule!CMGT_WFL_ConstructCaseTypeWorkflowTaskBranchMap(\n                taskUuid: ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                taskResponseOptionUUID: fv!item,\n                isRequired: true,\n                isRequirednessValid: true,\n                isActive: toboolean(null),\n                afterCaseTypeWorkflowTaskBranches: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch(\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid: ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isRequired: true,\n                  /*Note, defaulting this to NULL until an actual selection is made so that the network renderer doesn't think there's a task*/\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive: null,\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.caseTypeTaskResponseOptionUuid: fv!item,\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.taskResponseOption: rule!CMGT_UTIL_Filter(\n                    records: ri!taskResponseOptions,\n                    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.caseTypeWorkflowTaskResponseOptionUuid,\n                    value: fv!item\n                  )\n                )\n              )\n            )\n          )\n        ),\n        {}\n      )\n    },\n    selectable: true,\n    selectionStyle: \"ROW_HIGHLIGHT\",\n    validations: {},\n    shadeAlternateRows: false,\n    borderStyle: \"LIGHT\",\n    accessibilityText: #\"urn:appian:translation-string:v1:66c34730-13f2-43e2-96ea-684b87c67e0c\"\n  )\n}"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_568228": {
      "name": "CMGT_WFL_CaseType_RecordAction_Manage_Workflow_InitializeParameters",
      "type": "Expression Rule",
      "sail_code": "/*Have to reconstruct the full case type,\nsince it has one-to-many relationships that could have more than 10 child records*/\na!localVariables(\n  local!selectedCaseType: rule!CMGT_QR_GetCaseType(\n    returnType: \"SINGLE_OBJECT\",\n    fields: {\n      recordType!CMGT_CFG_CaseType.caseTypeMetadata\n    },\n    caseTypeUuid: ri!caseTypeUuid,\n    executeWhen: a!isNotNullOrEmpty(ri!caseTypeUuid)\n  ),\n  if(\n    /*if there is no case type, exit since there is no additional info to be collected*/\n    rule!CMGT_UTIL_IsBlank(local!selectedCaseType),\n    null,\n    a!localVariables(\n      local!caseTypeMetaData: a!defaultValue(\n        local!selectedCaseType[recordType!CMGT_CFG_CaseType.caseTypeMetadata],\n        recordType!CMGT_CFG_CaseTypeMetadata(\n          recordType!CMGT_CFG_CaseTypeMetadata.caseTypeUuid: ri!caseTypeUuid\n        )\n      ),\n      local!caseTypeWorkflowTasks: if(\n        a!defaultValue(value: ri!includeTasks, default: true),\n        rule!CMGT_WFL_QR_GetCaseTypeWorkflowTask(\n          caseTypeUuId: ri!caseTypeUuid,\n          executeWhen: a!isNotNullOrEmpty(ri!caseTypeUuid),\n          fields: {\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.createCaseCaseTypeWorkflowTask,\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTask,\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction\n          },\n          includeMilestones: true,\n          taskIntentionCodes: cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_WORKFLOW,\n          relatedRecordData: {\n            #\"SYSTEM_SYSRULES_relatedRecordData\"(\n              relationship: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches,\n              filters: {\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive,\n                  operator: \"=\",\n                  value: true\n                )\n              }\n            )\n          },\n          sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n            field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder,\n            ascending: true\n          )\n        ),\n        {}\n      ),\n      local!caseTypeMilestones: rule!CMGT_WFL_QR_GetReferenceMilestone(\n        caseTypeUuid: ri!caseTypeUuid,\n        executeWhen: a!isNotNullOrEmpty(ri!caseTypeUuid)\n      ),\n      #\"urn:appian:function:v1:a:update\"(\n        /*Update with tasks, milestones, and case type*/\n        #\"urn:appian:function:v1:a:update\"(\n          /*Case type with case type workflow tasks*/\n          #\"urn:appian:function:v1:a:update\"(\n            local!selectedCaseType,\n            recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask,\n            local!caseTypeWorkflowTasks\n          ),\n          /*Now updating the case type with workflow tasks to also include the milestones*/\n          recordType!CMGT_CFG_CaseType.referenceMilestone,\n          local!caseTypeMilestones\n        ),\n        /*Lastly, update with either existing meta data or newly initialized*/\n        recordType!CMGT_CFG_CaseType.caseTypeMetadata,\n        local!caseTypeMetaData\n      )\n    )\n  )\n)"
    },
    "_a-0000ed89-fd25-8000-9d52-011c48011c48_3950561": {
      "name": "CMGT_WFL_MTR_CreateWflTaskReassignTaskAutomationRule",
      "type": "Expression Rule",
      "sail_code": "now()"
    },
    "_a-0000ed49-63d5-8000-9d3e-011c48011c48_3603367": {
      "name": "CMGT_WFL_EmailTemplate_RecordAction_CreateUpdate",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!brandingMap: rule!CMGT_CB_UTIL_LoadBrandingMap(),\n  local!isCreate: rule!CMGT_UTIL_IsBlank(\n    value: ri!emailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateId]\n  ),\n  local!referencedTaskNames: index(\n    rule!CMGT_WFL_QR_GetSendEmailReferenceTasks(\n      emailTemplateUuid: ri!emailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid],\n      executeWhen: rule!CMGT_UTIL_IsNotBlank(\n        ri!emailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateId]\n      )\n    ),\n    recordType!CMGT_WFL_CFG_SendEmailReferenceTask.referenceTask.nameLabel,\n    null()\n  ),\n  local!referencedTaskBlockNames: index(\n    rule!CMGT_WFL_QR_GetSendEmailTaskBlockTasks(\n      emailTemplateUuid: ri!emailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid],\n      executeWhen: rule!CMGT_UTIL_IsNotBlank(\n        ri!emailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateId]\n      )\n    ),\n    recordType!CMGT_WFL_CFG_SendEmailTaskBlockTask.taskBlockTask.taskBlock.label,\n    null()\n  ),\n  local!referencedCaseTypeTaskNames: index(\n    rule!CMGT_WFL_QR_GetSendEmailCaseTypeWorkflowTasks(\n      emailTemplateUuid: ri!emailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid],\n      executeWhen: rule!CMGT_UTIL_IsNotBlank(\n        ri!emailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateId]\n      )\n    ),\n    recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.caseTypeWorkflowTask.caseType.name,\n    null()\n  ),\n  #\"SYSTEM_SYSRULES_formLayout_v2\"(\n    titleBar: #\"SYSTEM_SYSRULES_cardLayout\"(\n      contents: {\n        #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n          items: {\n            #\"SYSTEM_SYSRULES_sideBySideItem\"(\n              item: #\"SYSTEM_SYSRULES_stampField\"(\n                icon: \"envelope-open-text\",\n                contentColor: local!brandingMap.StandardStampContentColor,\n                backgroundColor: local!brandingMap.StandardStampBackgroundColor,\n                size: \"TINY\",\n                shape: local!brandingMap.StandardStampShape\n              ),\n              width: \"MINIMIZE\"\n            ),\n            #\"SYSTEM_SYSRULES_sideBySideItem\"(\n              item: #\"SYSTEM_SYSRULES_headingField\"(\n                text: if(\n                  local!isCreate,\n                  #\"urn:appian:translation-string:v1:46b8e7eb-9250-4bc1-87ba-785b0eb505a2\",\n                  #\"urn:appian:translation-string:v1:5f22d685-37f9-42d5-b1b1-bda7f782cf18\"\n                ),\n                headingTag: \"H1\",\n                fontWeight: \"SEMI_BOLD\",\n                size: local!brandingMap.H1Size,\n                marginAbove: \"STANDARD\"\n              )\n            )\n          },\n          alignVertical: \"MIDDLE\",\n          spacing: \"STANDARD\",\n          marginBelow: \"NONE\",\n          marginAbove: \"NONE\"\n        ),\n        #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: #\"urn:appian:translation-string:v1:4e55001e-fef0-492e-9eee-42b9010b7b6d\",\n            color: local!brandingMap.secondaryTextColor,\n            size: \"SMALL\"\n          )\n        )\n      },\n      padding: \"STANDARD\",\n      showBorder: false()\n    ),\n\n    showTitleBarDivider: true(),\n    contentsWidth: \"FULL\",\n    contents: {\n      rule!CMGT_WFL_DisplayInfoBanner_EmailTemplate(\n        brandingMap: local!brandingMap,\n        primaryMessage: #\"urn:appian:translation-string:v1:352e8f93-81ec-4882-a059-01abdbe209b1\",\n        showWhen: not(local!isCreate),\n        caseTypeWorkFlowNames: local!referencedCaseTypeTaskNames,\n        referenceTaskNames: local!referencedTaskNames,\n        taskBlockNames: local!referencedTaskBlockNames\n      ),\n      rule!CMGT_WFL_EmailTemplate_Details(emailTemplate: ri!emailTemplate)\n    },\n    buttons: {\n      #\"SYSTEM_SYSRULES_ButtonLayout\"(\n        primaryButtons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          label: if(\n            local!isCreate,\n            #\"urn:appian:translation-string:v1:b8033487-0a9e-4a1b-8970-b49eb8ad8cc7\",\n            #\"urn:appian:translation-string:v1:06dbafc7-e085-40de-a68a-c83054c1d7ec\"\n          ),\n          submit: true,\n          style: \"SOLID\",\n          validate: true\n        ),\n        secondaryButtons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          label: #\"urn:appian:translation-string:v1:edd4df67-d878-46d6-ab67-732a3700a588\",\n          saveInto: {\n            a!save(\n              ri!documentsToDelete,\n              rule!CMGT_UTIL_Filter(\n                records: ri!emailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateAttachments],\n                field: recordType!CMGT_WFL_CFG_EmailTemplateAttachments.emailTemplateAttachmentId,\n                value: null\n              )[recordType!CMGT_WFL_CFG_EmailTemplateAttachments.appianDocumentId]\n            ),\n            a!save(ri!emailTemplate, null)\n          },\n          submit: true,\n          style: \"OUTLINE\",\n          validate: false\n        )\n      )\n    }\n  )\n)"
    },
    "_a-0000eca3-381d-8000-9cf0-011c48011c48_3100753": {
      "name": "CMGT_WFL_GroupCaseTypeWorkflowTaskBranches",
      "type": "Expression Rule",
      "sail_code": "/*This rule groups the task branches as how they should be displayed in the dependents dropdown \nbased on response option, requiredness, requiredness valid, conditionset and returns the result in a map format*/\na!localVariables(\n  local!activeBranches: rule!CMGT_UTIL_Filter(\n    records: ri!caseTypeWorkflowTaskBranch,\n    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive,\n    value: false,\n    filterType: \"REJECT\"\n  ),\n  local!automationUUIDs: rule!CMGT_UTIL_Distinct(\n    rule!CMGT_UTIL_Filter(\n      records: ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorTypeId,\n      value: cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION\n    )[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n  ),\n  local!automationBranches: rule!CMGT_UTIL_Filter(\n    records: local!activeBranches,\n    fieldValuePairs: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n        value: local!automationUUIDs\n      )\n    }\n  ),\n  local!automationGroupMaps: rule!CMGT_WFL_GroupCaseTypeWorkflowTaskBranches_Automations(\n    caseTypeWorkflowTaskBranch: local!automationBranches,\n    caseType: ri!caseType\n  ),\n  local!activeTaskBranches: rule!CMGT_UTIL_Filter(\n    records: local!activeBranches,\n    fieldValuePairs: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n        value: local!automationUUIDs\n      )\n    },\n    filterType: \"REJECT\",\n    \n  ),\n  local!distinctBeforeTaskUUID: rule!CMGT_UTIL_Distinct(\n    local!activeTaskBranches[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid]\n  ),\n  /*Grouping task based on response option  */\n  local!distinctResponseOptions: a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!distinctBeforeTaskUUID,\n      expression: a!localVariables(\n        local!thisUUID: fv!item,\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: rule!CMGT_UTIL_Distinct(\n            rule!CMGT_UTIL_Filter(\n              records: local!activeBranches,\n              field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n              value: local!thisUUID\n            )[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.caseTypeTaskResponseOptionUuid]\n          ),\n          expression: rule!CMGT_WFL_ConstructCaseTypeWorkflowTaskBranchMap(\n            taskUUID: local!thisUUID,\n            taskResponseOptionUUID: fv!item\n          )\n        )\n      )\n    )\n  ),\n  /* Grouping local!distinctResponseOptions based on requiredness */\n  local!distinctionRequiredness: a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!distinctResponseOptions,\n      expression: a!localVariables(\n        local!thisItem: fv!item,\n        local!thisTaskBranches: rule!CMGT_UTIL_Filter(\n          records: local!activeBranches,\n          fieldValuePairs: {\n            a!map(\n              field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n              value: local!thisItem.taskUUID\n            ),\n            a!map(\n              field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.caseTypeTaskResponseOptionUuid,\n              value: local!thisItem.taskResponseOptionUUID\n            ),\n            a!map(\n              field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.conditionSetUuid,\n              value: local!thisItem.conditionSetUUID\n            )\n          }\n        ),\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: rule!CMGT_UTIL_Distinct(\n            local!thisTaskBranches[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isRequired]\n          ),\n          expression: rule!CMGT_WFL_ConstructCaseTypeWorkflowTaskBranchMap(\n            taskUUID: local!thisItem.taskUUID,\n            taskResponseOptionUUID: local!thisItem.taskResponseOptionUUID,\n            isRequired: fv!item,\n            conditionSetUUID: local!thisItem.conditionSetUUID,\n            afterCaseTypeWorkflowTaskBranches: rule!CMGT_UTIL_Filter(\n              records: local!thisTaskBranches,\n              field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isRequired,\n              value: fv!item\n            ),\n            isActive: true\n          )\n        )\n      )\n    )\n  ),\n  /* Grouping local!distinctionRequiredness based on requiredness valid */\n  local!distinctRequirednessValid: #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!distinctionRequiredness,\n    expression: a!localVariables(\n      local!thisMap: fv!item,\n      local!startsByDefault_afterTaskBranches: cast(\n        #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch\n        ),\n        rule!CMGT_UTIL_Filter(\n          records: local!thisMap.afterCaseTypeWorkflowTaskBranches,\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid,\n          value: index(\n            rule!CMGT_UTIL_Filter(\n              records: ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n              field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.startsByDefault,\n              value: true\n            ),\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n            {}\n          )\n        )\n      ),\n      local!loopBackTasks_afterTaskBranches: cast(\n        #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch\n        ),\n        rule!CMGT_UTIL_Filter(\n          records: local!thisMap.afterCaseTypeWorkflowTaskBranches,\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid,\n          value: rule!CMGT_WFL_CaseTypeWorkflowTasks_FindPreviousTasksInTree(\n            caseType: ri!caseType,\n            taskUuId: local!thisMap.taskUUID,\n            caseTypeWorkflowTaskBranches: local!activeBranches\n          )[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n        )\n      ),\n      {\n        /*isRequirednessValid = true         */\n        if(\n          rule!CMGT_UTIL_IsNotBlank(\n            difference(\n              cast(\n                #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch\n                ),\n                fv!item.afterCaseTypeWorkflowTaskBranches\n              ),\n              a!flatten(\n                {\n                  local!startsByDefault_afterTaskBranches,\n                  local!loopBackTasks_afterTaskBranches\n                }\n              )\n            )\n          ),\n          rule!CMGT_WFL_ConstructCaseTypeWorkflowTaskBranchMap(\n            taskUUID: local!thisMap.taskUUID,\n            taskResponseOptionUUID: local!thisMap.taskResponseOptionUUID,\n            isRequired: local!thisMap.isRequired,\n            isRequirednessValid: true,\n            conditionSetUUID: fv!item.conditionSetUUID,\n            afterCaseTypeWorkflowTaskBranches: difference(\n              cast(\n                #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch\n                ),\n                fv!item.afterCaseTypeWorkflowTaskBranches\n              ),\n              a!flatten(\n                {\n                  local!startsByDefault_afterTaskBranches,\n                  local!loopBackTasks_afterTaskBranches\n                }\n              )\n            ),\n            isActive: fv!item.isActive\n          ),\n          null\n        ),\n        /*isRequirednessValid = false         */\n        if(\n          rule!CMGT_UTIL_IsNotBlank(\n            union(\n              local!startsByDefault_afterTaskBranches,\n              local!loopBackTasks_afterTaskBranches\n            )\n          ),\n          rule!CMGT_WFL_ConstructCaseTypeWorkflowTaskBranchMap(\n            taskUUID: local!thisMap.taskUUID,\n            taskResponseOptionUUID: local!thisMap.taskResponseOptionUUID,\n            isRequired: local!thisMap.isRequired,\n            isRequirednessValid: false,\n            conditionSetUUID: fv!item.conditionSetUUID,\n            afterCaseTypeWorkflowTaskBranches: union(\n              local!startsByDefault_afterTaskBranches,\n              local!loopBackTasks_afterTaskBranches\n            ),\n            isActive: fv!item.isActive\n          ),\n          null\n        )\n      }\n    )\n  ),\n  cast(\n    #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n      'type!{http://www.appian.com/ae/types/2009}Map'\n    ),\n    rule!CMGT_UTIL_RejectBlank(\n      a!flatten(\n        merge(\n          local!distinctRequirednessValid,\n          local!automationGroupMaps\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000edde-da74-8000-9d79-011c48011c48_4221197": {
      "name": "CMGT_WFL_MTR_UserUpdatesWorkflow",
      "type": "Expression Rule",
      "sail_code": "now()"
    },
    "_a-0000eb88-676f-8000-9c81-011c48011c48_1925601": {
      "name": "CMGT_CB_UTIL_LoadBrandingMap",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_MergeMaps(\n  map1: rule!CMGT_UTIL_LoadBrandingMap(),\n  map2: a!localVariables(\n    local!branding: getbrandingconfig(\n      cons!CMGT_WFL_DOC_DEFAULT_BRANDING_CONFIG,\n      true\n    ),\n    local!output: reduce(\n      #\"urn:appian:function:v1:a:update\"(_, _, _),\n      a!map(),\n      merge(\n        {\n          local!branding.defaultBranding.key,\n          local!branding.customBranding.key\n        },\n        {\n          local!branding.defaultBranding.value,\n          local!branding.customBranding.value\n        }\n      )\n    ),\n    local!output\n  )\n)"
    },
    "_a-0000ed89-fd25-8000-9d52-011c48011c48_3950576": {
      "name": "CMGT_WFL_MTR_CreateWflTaskAssignTaskAutomationRule",
      "type": "Expression Rule",
      "sail_code": "now()"
    },
    "_a-0000ed49-63d5-8000-9d3e-011c48011c48_3604833": {
      "name": "CMGT_WFL_EmailTemplateAttachment_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!emailTemplateAttachments,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_EmailTemplateAttachments.modifiedBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_EmailTemplateAttachments.modifiedOn,\n        value: now()\n      )\n    },\n    /*Only modify these fields if they are currently null*/\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_EmailTemplateAttachments.documentName,\n        value: document(\n          fv!item[recordType!CMGT_WFL_CFG_EmailTemplateAttachments.appianDocumentId],\n          \"name\"\n        )\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_EmailTemplateAttachments.extension,\n        value: document(\n          fv!item[recordType!CMGT_WFL_CFG_EmailTemplateAttachments.appianDocumentId],\n          \"extension\"\n        )\n      ),\n      a!map(\n        field:  recordType!CMGT_WFL_CFG_EmailTemplateAttachments.size,\n        value: document(\n          fv!item[recordType!CMGT_WFL_CFG_EmailTemplateAttachments.appianDocumentId],\n          \"size\"\n        )\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_EmailTemplateAttachments.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_EmailTemplateAttachments.createdOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_EmailTemplateAttachments.isActive,\n        value: true\n      )\n    }\n  )\n)"
    },
    "_a-0000ecb5-acf8-8000-9cf6-011c48011c48_3213055": {
      "name": "CMGT_WFL_Automation_initializeChildConditionSet",
      "type": "Expression Rule",
      "sail_code": "/*Empty Condition Set    */\na!localVariables(\n  local!conditionSetUUID: a!refreshVariable(\n    value: rule!CMGT_UTIL_GenerateUuid_NonPlugin(),\n    refreshAlways: true\n  ),\n  recordType!CMGT_CFG_ConditionSet(\n    recordType!CMGT_CFG_ConditionSet.isActive: true,\n    recordType!CMGT_CFG_ConditionSet.isValid: true,\n    recordType!CMGT_CFG_ConditionSet.parentConditionSetUuid: ri!parentConditionSetUUid,\n    recordType!CMGT_CFG_ConditionSet.conditionSetUuid: local!conditionSetUUID,\n    recordType!CMGT_CFG_ConditionSet.operatorCode: cons!CMGT_TXT_SET_OPERATOR_AND,\n    recordType!CMGT_CFG_ConditionSet.condition: if(\n      rule!CMGT_UTIL_IsBlank(ri!defaultConditions),\n      {},\n      #\"urn:appian:function:v1:a:update\"(\n        data: ri!defaultConditions,\n        index: recordType!CMGT_CFG_Condition.conditionSetUuid,\n        value: local!conditionSetUUID\n      )\n    )\n  )\n)"
    },
    "_a-0000e99c-1217-8000-9ba9-011c48011c48_63958": {
      "name": "CMGT_QR_GetTaskBehaviorType",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  executeWhen: ri!executeWhen,\n  recordType: recordType!CMGT_CFG_TaskBehaviorType,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_TaskBehaviorType.isSystemOnly,\n      operator: \"=\",\n      value: ri!isSystemOnly\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_TaskBehaviorType.taskBehaviorTypeId,\n      operator: \"in\",\n      value: ri!taskBehaviorTypeId\n    )\n  },\n  returnType: ri!returnType,\n  fields: ri!fields,\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  triggerRefresh: ri!triggerRefresh,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000eb57-0ad2-8000-9c6b-011c48011c48_1720975": {
      "name": "CMGT_NCF_updateNodeHorizontalOrderFromIndex",
      "type": "Expression Rule",
      "sail_code": "#\"urn:appian:function:v1:a:update\"(\n  data: ri!currentNode,\n  index: \"horizontalOrder\",\n  value: wherecontains(\n    ri!currentNode,\n    append(ri!sortedNodes, a!map())\n  )[1] * 100 / (length(ri!sortedNodes) + 1)\n)"
    },
    "_a-0000ecf6-527e-8000-9bbc-011c48011c48_59891": {
      "name": "CMGT_CFG_ENUM_ACT_ASSIGN_CASE",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  /*code that is used to help evaluation of what actions needs to be ran*/\n  actionCode: cons!CMGT_CFG_TXT_ACT_ASSIGN_CASE,\n  /*Display text of action type in configuration*/\n  name: #\"urn:appian:translation-string:v1:340cf3dc-0483-4dd7-b199-d47e56259f94\",\n  /*interface used to configure assignment logic*/\n  configurationRule:rule!CMGT_WFL_AutomationRule_Configure_AssignmentLogic,\n  runtimeConfigurationRule: rule!CMGT_AutomationRule_Configure_AssignmentLogic,\n  configurationDisplayRule: rule!CMGT_WFL_CaseType_Rules_FormatAssignAction,\n  runtimeDisplayRule: rule!CMGT_Case_Rules_FormatAssignAction,\n  /*process to be run to assigne a case*/\n  PmConstant: cons!CMGT_PM_ROLE_MANAGE,\n  /*evaluation rule that runs and outputs the necessary process parameters*/\n  pmParameterEvalRule: rule!CMGT_AUTO_EVAL_CaseAssignment_DetermineProcessParameters,\n  context: cons!CMGT_CFG_TXT_ACT_CONTEXT_CASE,\n  createdBy: \"system\"\n)"
    },
    "000dea29-56ba-8000-02de-7f0000014e7a": {
      "name": "CMGT_WFL_ReferenceTask_CreateUpdate",
      "type": "Process Model",
      "sail_code": "// Input: ?\n= rule!CMGT_WFL_MTR_ReferenceTaskWrapper(referenceTask: pv!referenceTasks)\n\n// Output: ?\nrule!CMGT_WFL_ReferenceTask_SetMetaData(\n  referenceTasks: pv!referenceTasks,\n  initiator: pp!initiator\n)\n\n// Input: ?\n=pv!referenceTasks\n\n// Input: ?\n=recordType!CMGT_WFL_CFG_ReferenceTask\n\n// Output: ?\nAC!RecordsUpdated\n\n// Input: ?\n=documentsToDelete\n\n// Input: ?\n=newEmailTemplates\n\n// Input: ?\n= pv!documentsToDelete[tp!instanceindex]"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_34666": {
      "name": "CMGT_WFL_QR_GetTaskBlockTask",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_WFL_CFG_TaskBlockTask,\n  executeWhen: ri!executeWhen,\n  returnType: ri!returnType,\n  sort: ri!sort,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockId,\n      operator: \"in\",\n      value: ri!taskBlockId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlock.isActive,\n      operator: \"=\",\n      value: true\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_TaskBlockTask.referenceTaskId,\n      operator: \"=\",\n      value: ri!referenceTaskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskId,\n      operator: \"in\",\n      value: ri!taskBlockTaskId\n    )\n  },\n  fields: {\n    ri!fields,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.referenceTask,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.taskBehaviorType,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.beforeTaskBlockTaskBranches,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.beforeTaskBlockTaskBranches,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlock,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.createCaseTaskBlockTask,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.sendEmailTaskBlockTask,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.sendEmailTaskBlockTask,\n    #\"urn:appian:record-relationship:v1:671fbea8-6589-4ff6-8271-f692a237f4f4/924d5530-bf9b-4356-a967-499f27089d0d/6ea50f07-345d-4d73-b820-8b224ccbee99/516efecb-7202-4e04-a2fb-1da7c56053df\"\n  },\n  relatedRecordData: {\n    ri!relatedRecordData,\n    #\"SYSTEM_SYSRULES_relatedRecordData\"(\n      relationship:recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskResponseOptions,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field:recordType!CMGT_WFL_CFG_TaskBlockTaskResponseOption.sortOrder,\n        ascending: true\n      )\n    )\n  },\n  pagingInfo: ri!pagingInfo,\n  triggerRefresh: ri!triggerRefresh,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000eb4d-d051-8000-9c68-011c48011c48_1673723": {
      "name": "CMGT_WFL_MTR_UserEditsReferenceTask",
      "type": "Expression Rule",
      "sail_code": "now()"
    },
    "_a-0000eaf1-7a52-8000-9c42-011c48011c48_1227353": {
      "name": "CMGT_UTIL_StripHtmlTags",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!replacedText: substitute(\n    substitute(ri!value, \"<p>\", \"\"),\n    \"</p>\",\n    \"\"\n  ),\n  if(\n    ri!isFormatted,\n    /*The striphtml() will automatically substitue char(10) for <br>*/striphtml(local!replacedText),\n    striphtml(\n      substitute(local!replacedText, \"<br>\", \" \")\n    )\n  )\n)"
    },
    "_a-0000eb60-4595-8000-9c6e-011c48011c48_1742656": {
      "name": "CMGT_WFL_CaseType_RecordAction_WorkflowTasksAdd_AddTasks",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!selectedReferenceTaskIds: {},\n  local!newReferenceTask: {},\n  local!activeMilestones: rule!CMGT_UTIL_Filter(\n    records: ri!caseType[recordType!CMGT_CFG_CaseType.referenceMilestone],\n    field: recordType!CMGT_WFL_CFG_ReferenceMilestone.isActive,\n    value: true()\n  ),\n  local!showMilestone: rule!CMGT_UTIL_IsNotBlank(local!activeMilestones),\n  local!tabs: {\n    a!map(\n      tabNumber: 1,\n      name: #\"urn:appian:translation-string:v1:3d8141e4-f5ef-494f-b301-93dd17767665\"\n    ),\n    a!map(\n      tabNumber: 2,\n      name: #\"urn:appian:translation-string:v1:f1a2114c-0453-4665-b358-be59650c55bc\"\n    )\n  },\n  local!selectedTab: 1,\n  local!currentForm: \"ADD_TASK\",\n  local!isPreview: false(),\n  local!addTaskAllNewEmailTemplates,\n  local!currentTaskNewEmailTemplates,\n  local!selectedEmailTemplate: rule!CMGT_UTIL_Filter(\n    records: ri!emailTemplates,\n    field: recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid,\n    value: index(\n      local!newReferenceTask,\n      recordType!CMGT_WFL_CFG_ReferenceTask.sendEmailReferenceTask.emailTemplateUuid,\n      null\n    )\n  ),\n  a!match(\n    value: local!currentForm,\n    equals: \"CREATE_NEW_EMAIL_TEMPLATE\",\n    then: #\"SYSTEM_SYSRULES_paneLayout\"(\n      panes: {\n        #\"SYSTEM_SYSRULES_pane\"(\n          backgroundColor: ri!brandingMap.TertiaryBackgroundColor,\n          padding: \"MORE\",\n          contents: {\n            #\"SYSTEM_SYSRULES_columnsLayout\"(\n              columns: {\n                #\"SYSTEM_SYSRULES_columnLayout\"(width: \"2X\"),\n                #\"SYSTEM_SYSRULES_columnLayout\"(\n                  width: \"WIDE_PLUS\",\n                  contents: {\n                    #\"SYSTEM_SYSRULES_cardLayout\"(\n                      contents: {\n                        #\"SYSTEM_SYSRULES_cardLayout\"(\n                          showBorder: false,\n                          padding: \"NONE\",\n                          marginBelow: \"NONE\",\n                          contents: rule!CMGT_WFL_SUB_CreateEmailTemplate(\n                            brandingMap:ri!brandingMap,\n                            emailTemplates: ri!emailTemplates,\n                            documentsToDelete: ri!documentsToDelete,\n                            submitSaveInto: {\n                              a!save(\n                                local!newReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.sendEmailReferenceTask.emailTemplateUuid],\n                                save!value[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid]\n                              ),\n                              a!save(\n                                local!addTaskAllNewEmailTemplates,\n                                rule!CMGT_UTIL_RejectBlank(\n                                  array: append(\n                                    local!addTaskAllNewEmailTemplates,\n                                    save!value\n                                  )\n                                )\n                              ),\n                              a!save(\n                                local!currentTaskNewEmailTemplates,\n                                rule!CMGT_UTIL_RejectBlank(\n                                  array: append(\n                                    local!currentTaskNewEmailTemplates,\n                                    save!value\n                                  )\n                                )\n                              ),\n                              a!save(local!currentForm, \"ADD_TASK\")\n                            },\n                            cancelSaveInto: { a!save(local!currentForm, \"ADD_TASK\") }\n                          )\n                        )\n                      },\n                      style: ri!brandingMap.CardBackgroundColor,\n                      shape: ri!brandingMap.CardShape,\n                      marginBelow: \"NONE\",\n                      showBorder: false,\n                      showShadow: ri!brandingMap.CardShowShadow\n                    )\n                  }\n                ),\n                #\"SYSTEM_SYSRULES_columnLayout\"(width: \"2X\")\n              }\n            )\n          },\n          accessibilityText: #\"urn:appian:translation-string:v1:46b8e7eb-9250-4bc1-87ba-785b0eb505a2\"\n        )\n      }\n    ),\n    whenTrue: local!isPreview,\n    then: rule!CMGT_EmailTemplate_Preview(\n      emailTemplateName: local!selectedEmailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.templateName],\n      subject: local!selectedEmailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.subject],\n      body: local!selectedEmailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.body],\n      isPreview: local!isPreview,\n      cfgAttachments: rule!CMGT_UTIL_RejectBlank(\n        local!selectedEmailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateAttachments]\n      ),\n      brandingMap: ri!brandingMap\n    ),\n    default: {\n      #\"SYSTEM_SYSRULES_paneLayout\"(\n        panes: {\n          #\"SYSTEM_SYSRULES_pane\"(\n            backgroundColor: ri!brandingMap.TertiaryBackgroundColor,\n            padding: \"MORE\",\n            contents: {\n              #\"SYSTEM_SYSRULES_columnsLayout\"(\n                columns: {\n                  #\"SYSTEM_SYSRULES_columnLayout\"(width: \"1X\"),\n                  #\"SYSTEM_SYSRULES_columnLayout\"(\n                    width: \"WIDE_PLUS\",\n                    contents: {\n                      #\"SYSTEM_SYSRULES_cardLayout\"(\n                        contents: {\n                          #\"SYSTEM_SYSRULES_cardLayout\"(\n                            showBorder: false,\n                            padding: \"NONE\",\n                            marginBelow: \"NONE\",\n                            contents: {\n                              rule!CMGT_UTIL_HeaderField(\n                                label: #\"urn:appian:translation-string:v1:c512b062-c487-4b59-a5d9-e009552303aa\",\n                                labelSize: \"MEDIUM\",\n                                marginBelow: \"NONE\",\n                                brandingMap: ri!brandingMap,\n                                divider: \"NONE\",\n                                rightSideContents: {\n                                  #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n                                    buttons: {\n                                      #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                                        label: #\"urn:appian:translation-string:v1:edd4df67-d878-46d6-ab67-732a3700a588\",\n                                        saveInto: {\n                                          if(\n                                            rule!CMGT_UTIL_IsNotBlank(\n                                              ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask]\n                                            ),\n                                            a!save(\n                                              ri!currentWorkflowStep,\n                                              \"CONFIGURE_WORKFLOW\"\n                                            ),\n                                            a!save(\n                                              ri!currentWorkflowStep,\n                                              \"ADD_TASKS_EMPTY_STATE\"\n                                            )\n                                          ),\n                                          a!save(local!selectedReferenceTaskIds, {}),\n                                          a!save(ri!newCaseTypeWorkflowTasks, {}),\n                                          a!save(local!newReferenceTask, {}),\n                                          a!save(local!selectedTab, 1),\n                                          /* Append the newly created email templates attachmentIds to documentsToDelete on Cancel */\n                                          a!save(\n                                            ri!documentsToDelete,\n                                            rule!CMGT_UTIL_Distinct(\n                                              value: append(\n                                                ri!documentsToDelete,\n                                                rule!CMGT_UTIL_RejectBlank(\n                                                  array: index(\n                                                    local!addTaskAllNewEmailTemplates,\n                                                    recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateAttachments.appianDocumentId,\n                                                    null\n                                                  )\n                                                )\n                                              )\n                                            )\n                                          ),\n                                          /* Clear all the newly created email Templates on Cancel */\n                                          a!save(\n                                            ri!emailTemplates,\n                                            rule!CMGT_UTIL_Filter(\n                                              records: ri!emailTemplates,\n                                              field: recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid,\n                                              value: local!addTaskAllNewEmailTemplates[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid],\n                                              filterType: \"REJECT\"\n                                            )\n                                          )\n                                        },\n                                        size: \"SMALL\",\n                                        width: \"MINIMIZE\",\n                                        style: \"OUTLINE\",\n                                        color: ri!brandingMap.AccentColor\n                                      ),\n                                      #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                                        label: #\"urn:appian:translation-string:v1:9054fda3-d0ac-4d53-8046-6afc52dd8a75\",\n                                        saveInto: {\n                                          a!save(\n                                            ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                                            append(\n                                              ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                                              /* Updating sort order for sorting the tasks in the leadsInto dropdown only for display purpose, the actual sort order is updated in the setMetaData rule */\n                                              #\"SYSTEM_SYSRULES_forEach\"(\n                                                items: ri!newCaseTypeWorkflowTasks,\n                                                expression: #\"urn:appian:function:v1:a:update\"(\n                                                  fv!item,\n                                                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder,\n                                                  max(\n                                                    ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask.sortOrder],\n                                                  ) + fv!index\n                                                )\n                                              )\n                                            )\n                                          ),\n                                          a!save(local!selectedReferenceTaskIds, {}),\n                                          a!save(ri!newCaseTypeWorkflowTasks, {}),\n                                          a!save(\n                                            ri!currentWorkflowStep,\n                                            \"CONFIGURE_WORKFLOW\"\n                                          ),\n                                          a!save(local!newReferenceTask, {}),\n                                          a!save(local!selectedTab, 1)\n                                        },\n                                        size: \"SMALL\",\n                                        width: \"MINIMIZE\",\n                                        style: \"SOLID\",\n                                        color: ri!brandingMap.AccentColor\n                                      )\n                                    },\n                                    align: \"END\",\n                                    marginBelow: \"NONE\"\n                                  )\n                                },\n                                labelColor: ri!brandingMap.SecondaryTextColor,\n                                labelFontWeight: \"SEMI_BOLD\"\n                              ),\n                              #\"SYSTEM_SYSRULES_horizontalLine\"()\n                            }\n                          ),\n                          #\"SYSTEM_SYSRULES_columnsLayout\"(\n                            columns: {\n                              #\"SYSTEM_SYSRULES_columnLayout\"(\n                                contents: {\n                                  #\"SYSTEM_SYSRULES_cardLayout\"(\n                                    contents: {\n                                      /*Tabs*/\n                                      #\"SYSTEM_SYSRULES_columnsLayout\"(\n                                        columns: {\n                                          #\"SYSTEM_SYSRULES_columnLayout\"(\n                                            contents: rule!CMGT_UTIL_TabLayout(\n                                              tabs: local!tabs,\n                                              activeTab: local!selectedTab,\n                                              brandingMap: ri!brandingMap,\n                                              isMobileScreenSize: false\n                                            )\n                                          )\n                                        },\n                                        marginBelow: \"NONE\",\n                                        spacing: \"NONE\",\n                                        stackWhen: \"NEVER\",\n                                        showDividers: false\n                                      ),\n                                      a!match(\n                                        value: local!selectedTab,\n                                        equals: 1,\n                                        /*Tasks Grid*/\n                                        then: rule!CMGT_WFL_CaseType_RecordAction_NonCategoryCreateEdit_SelectTasks(\n                                          brandingMap: ri!brandingMap,\n                                          newCaseTypeWorkflowTasks: ri!newCaseTypeWorkflowTasks,\n                                          selectedReferenceTaskIds: local!selectedReferenceTaskIds,\n                                          activeCaseTypes: ri!activeCaseTypes,\n                                          caseTypeUuid: ri!caseType[recordType!CMGT_CFG_CaseType.uuid],\n                                        ),\n                                        equals: 2,\n                                        then: rule!CMGT_WFL_CaseType_RecordAction_NonCategoryCreateEdit_CreateTasks(\n                                          brandingMap: ri!brandingMap,\n                                          newReferenceTask: local!newReferenceTask,\n                                          newCaseTypeWorkflowTasks: ri!newCaseTypeWorkflowTasks,\n                                          caseTypeUuid: ri!caseType[recordType!CMGT_CFG_CaseType.uuid],\n                                          emailTemplates: ri!emailTemplates,\n                                          isPreview: local!isPreview,\n                                          currentForm: local!currentForm,\n                                          currentTaskEmailTemplates: local!currentTaskNewEmailTemplates,\n                                          documentsToDelete: ri!documentsToDelete\n                                        ),\n                                        default: {}\n                                      )\n                                    },\n                                    height: \"EXTRA_TALL\",\n                                    padding: \"EVEN_LESS\",\n                                    marginBelow: \"NONE\",\n                                    showBorder: false\n                                  )\n                                },\n                                width: \"8X\"\n                              ),\n                              #\"SYSTEM_SYSRULES_columnLayout\"(\n                                contents: {\n                                  #\"SYSTEM_SYSRULES_cardLayout\"(\n                                    contents: {\n                                      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                        value: {\n                                          #\"SYSTEM_SYSRULES_richTextHeader\"(\n                                            text: {\n                                              #\"urn:appian:translation-string:v1:bd31effd-a144-4cb4-8837-548e3dfec78b\"\n                                            },\n                                            size: \"SMALL\"\n                                          )\n                                        }\n                                      ),\n                                      #\"SYSTEM_SYSRULES_gridLayout\"(\n                                        label: #\"urn:appian:translation-string:v1:3f5c5af4-f26d-4c36-9a89-4c092f23dd51\",\n                                        labelPosition: \"COLLAPSED\",\n                                        headerCells: {\n                                          #\"SYSTEM_SYSRULES_gridLayoutHeaderCell\"(\n                                            label: #\"urn:appian:translation-string:v1:0bae9b3f-5ddd-4c6a-a4cf-abe8702dac9e\"\n                                          ),\n                                          #\"SYSTEM_SYSRULES_gridLayoutHeaderCell\"(\n                                            label: #\"urn:appian:translation-string:v1:802692c1-f167-44d0-8058-196440edbb6a\",\n                                            showWhen: local!showMilestone\n                                          ),\n                                          #\"SYSTEM_SYSRULES_gridLayoutHeaderCell\"()\n                                        },\n                                        columnConfigs: {\n                                          #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(weight: \"3\"),\n                                          #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(\n                                            weight: \"2\",\n                                            showWhen: local!showMilestone\n                                          ),\n                                          #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"ICON\")\n                                        },\n                                        emptyGridMessage: #\"urn:appian:translation-string:v1:9541cbd3-719b-4809-bfdc-ee599f8cbab7\",\n                                        rows: #\"SYSTEM_SYSRULES_forEach\"(\n                                          items: ri!newCaseTypeWorkflowTasks,\n                                          expression: #\"SYSTEM_SYSRULES_gridRowLayout\"(\n                                            contents: {\n                                              #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                                value: {\n                                                  if(\n                                                    fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.isAutomated],\n                                                    {\n                                                      #\"SYSTEM_SYSRULES_richTextIcon\"(\n                                                        icon: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.icon],\n                                                        caption: #\"urn:appian:translation-string:v1:6f0faf57-3d4b-45c2-a1f8-099820a4ced1\",\n                                                        showWhen: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.isAutomated],\n\n                                                      ),\n                                                      char(32)\n                                                    },\n                                                    {}\n                                                  ),\n                                                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                                    text: {\n                                                      fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label]\n                                                    },\n                                                    style: \"STRONG\"\n                                                  ),\n                                                  char(10),\n                                                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                                    text: {\n                                                      #\"SYSTEM_SYSRULES_richTextIcon\"(\n                                                        icon: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.icon],\n\n                                                      ),\n                                                      \" \",\n                                                      fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.label],\n\n                                                    },\n                                                    color: ri!brandingMap.SecondaryTextColor,\n                                                    size: \"SMALL\"\n                                                  ),\n                                                  char(10),\n                                                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                                    text: rule!CMGT_UTIL_TruncateText(\n                                                      text: stripwith(\n                                                        striphtml(\n                                                          fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.description]\n                                                        ),\n                                                        char(10)\n                                                      ),\n                                                      maxLength: 30\n                                                    ),\n                                                    color: ri!brandingMap.SecondaryTextColor,\n                                                    size: \"SMALL\"\n                                                  )\n                                                }\n                                              ),\n                                              #\"SYSTEM_SYSRULES_dropdownField_v1\"(\n                                                choiceLabels: local!activeMilestones[recordType!CMGT_WFL_CFG_ReferenceMilestone.label],\n                                                choiceValues: local!activeMilestones[recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid],\n                                                placeholder: #\"urn:appian:translation-string:v1:d6ec595a-cb00-4ca9-ad39-73fe092ca2eb\",\n                                                value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone.milestoneUuid],\n                                                saveInto: a!save(\n                                                  fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone],\n                                                  rule!CMGT_UTIL_Filter(\n                                                    records: local!activeMilestones,\n                                                    field: recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid,\n                                                    value: save!value\n                                                  )\n                                                ),\n                                                showWhen: local!showMilestone\n                                              ),\n                                              #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n                                                buttons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                                                  label: \"\",\n                                                  icon: \"close\",\n                                                  saveInto: {\n                                                    a!save(\n                                                      local!selectedReferenceTaskIds,\n                                                      remove(\n                                                        local!selectedReferenceTaskIds,\n                                                        wherecontains(\n                                                          fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTaskId],\n                                                          tointeger(local!selectedReferenceTaskIds)\n                                                        )\n                                                      )\n                                                    ),\n                                                    a!save(\n                                                      ri!newCaseTypeWorkflowTasks,\n                                                      rule!CMGT_UTIL_Filter(\n                                                        records: ri!newCaseTypeWorkflowTasks,\n                                                        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n                                                        value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                                                        filterType: \"REJECT\"\n                                                      )\n                                                    )\n                                                  },\n                                                  size: \"SMALL\",\n                                                  style: \"LINK\",\n                                                  color: ri!brandingMap.NegativeAccentColor,\n                                                  accessibilityText: #\"urn:appian:translation-string:v1:d544b739-290e-4c0b-8e08-ae1ea9b5d578\"(\n                                                    #\"urn:appian:translation-variable:v1:75d491f3-ed1b-4279-affd-0ef9d51760a3\": fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label]\n                                                  )\n                                                )\n                                              )\n                                            },\n                                            selectionDisabled: true\n                                          )\n                                        ),\n                                        shadeAlternateRows: false,\n                                        borderStyle: \"LIGHT\"\n                                      )\n                                    },\n                                    height: \"EXTRA_TALL\",\n                                    marginBelow: \"NONE\",\n                                    showBorder: false\n                                  )\n                                },\n                                width: \"10X\"\n                              )\n                            },\n                            marginBelow: \"NONE\",\n                            showDividers: true\n                          )\n                        },\n                        style: ri!brandingMap.CardBackgroundColor,\n                        shape: ri!brandingMap.CardShape,\n                        /*padding: \"NONE\",*/\n                        marginBelow: \"NONE\",\n                        showBorder: false,\n                        showShadow: ri!brandingMap.CardShowShadow\n                      )\n                    }\n                  ),\n                  #\"SYSTEM_SYSRULES_columnLayout\"(width: \"1X\")\n                }\n              )\n            },\n            accessibilityText: #\"urn:appian:translation-string:v1:c512b062-c487-4b59-a5d9-e009552303aa\"\n          )\n        }\n      )\n    }\n  )\n)"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_568168": {
      "name": "CMGT_WFL_ReferenceTask_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!referenceTasks,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_ReferenceTask.modifiedBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_ReferenceTask.modifiedOn,\n        value: now()\n      )\n    },\n    /*Only modify these fields if they are currently null*/\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_ReferenceTask.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_ReferenceTask.createdOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_ReferenceTask.isActive,\n        value: true\n      )\n    },\n    /*Set metadata for all child relationships*/\n    childRelationships: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions,\n        value: rule!CMGT_WFL_TaskResponseOption_SetMetaData(\n          taskResponseOptions: fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions]\n        )\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_ReferenceTask.createCaseReferenceTask,\n        value: rule!CMGT_WFL_CreateCaseReferenceTask_SetMetaData(\n          createCaseReferenceTask: fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.createCaseReferenceTask],\n          initiator: ri!initiator\n        )\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_ReferenceTask.sendEmailReferenceTask,\n        value: rule!CMGT_WFL_SendEmailReferenceTask_SetMetaData(\n          sendEmailReferenceTask: fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.sendEmailReferenceTask],\n          initiator: ri!initiator\n        )\n      )\n    }\n  )\n)"
    },
    "_a-0001ed77-88a5-8000-9d49-011c48011c48_3795631": {
      "name": "CMGT_UTIL_Toggle",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_cardLayout\"(\n  contents: {\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      columns: {\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!tabs,\n          expression: a!localVariables(\n            local!isCurrentSelection: ri!activeTab = fv!index,\n            #\"SYSTEM_SYSRULES_columnLayout\"(\n              contents: #\"SYSTEM_SYSRULES_cardLayout\"(\n                contents: {\n                  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                    labelPosition: \"COLLAPSED\",\n                    value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                      text: fv!item.name,\n                      color: if(\n                        local!isCurrentSelection,\n                        ri!brandingMap.InfoTextColor,\n                        \"STANDARD\"\n                      ),\n                      style: if(\n                        local!isCurrentSelection,\n                        \"STRONG\",\n                        \"PLAIN\"\n                      )\n                    ),\n                    align: \"CENTER\",\n                    marginAbove: \"NONE\",\n                    marginBelow: \"NONE\"\n                  )\n                },\n                link: #\"SYSTEM_SYSRULES_dynamicLink\"(value: fv!index, saveInto: ri!activeTab),\n                style: if(\n                  local!isCurrentSelection,\n                  ri!brandingMap.ConfigBackgroundColor,\n                  \"NONE\"\n                ),\n                shape: \"SEMI_ROUNDED\",\n                padding: \"EVEN_LESS\",\n                marginAbove: \"NONE\",\n                marginBelow: \"NONE\",\n                showBorder: local!isCurrentSelection,\n                borderColor: if(\n                  local!isCurrentSelection,\n                  ri!brandingMap.AccentColor,\n                  \"STANDARD\"\n                ),\n                accessibilityText: if(\n                  local!isCurrentSelection,\n                  #\"urn:appian:translation-string:v1:506805fb-4c0f-414b-90f2-023f86caf367\",\n                  \"\"\n                ),\n\n              )\n            )\n          )\n        )\n      },\n      spacing: \"DENSE\",\n      marginAbove: \"NONE\",\n      marginBelow: \"NONE\"\n    )\n  },\n  shape: \"SEMI_ROUNDED\",\n  padding: \"EVEN_LESS\",\n  marginAbove: \"NONE\",\n  marginBelow: \"NONE\",\n  showWhen: ri!showWhen,\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_33778": {
      "name": "CMGT_UTIL_SetRecordFields",
      "type": "Expression Rule",
      "sail_code": "/*\nFuture enhancement ideas:\n1 Parameter to skip update if the field isn't present in the object\n--- This would also apply to nested fields, as in, don't set a relationship field if the entire relationship object isn't there because it will instantiate it\n2 Parameter to overwrite based on more enhanced logic\n3 Allow list types for the `value`\n4 Allow reuse to apply setting metadata for nested relationships, but using their own set metadata rule\n--- e.g. CMGT_Entity_SetMetaData can be used in both the Case process and the individual Entity process\n*/\nif(\n  a!isNullOrEmpty(ri!record),\n  ri!record,\n  a!localVariables(\n    local!allUpdates: rule!CMGT_UTIL_RejectBlank(a!flatten(\n      {\n        ri!alwaysOverwrite,\n        ri!childRelationships,\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!neverOverwrite,\n          expression: #\"urn:appian:function:v1:a:update\"(\n            fv!item,\n            \"value\",\n            /*Specifically using this instead of a!defaultValue() to account for the `{null}` value*/\n            if(\n              rule!CMGT_UTIL_IsBlank(ri!record[fv!item.field]),\n              fv!item.value,\n              ri!record[fv!item.field]\n            )\n          )\n        )\n      }\n    )),\n    local!onlyChangedUpdates: a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!allUpdates,\n        expression: if(\n          or(\n            tostring(ri!record[fv!item.field]) = tostring(fv!item.value),\n            toboolean(fv!item.applyWhen) = false\n          ),\n          {},\n          fv!item\n        )\n      )\n    ),\n    if(\n      a!isNullOrEmpty(local!onlyChangedUpdates),\n      ri!record,\n      #\"urn:appian:function:v1:a:update\"(\n        data: ri!record,\n        index: local!onlyChangedUpdates.field,\n        value: local!onlyChangedUpdates.value\n      )\n    )\n  )\n)"
    },
    "_a-0000e98b-cfe0-8000-9ba5-011c48011c48_19651": {
      "name": "CMGT_QR_GetCaseType",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_CFG_CaseType,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_CaseType.uuid,\n      operator: \"in\",\n      value: ri!caseTypeUuid\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_CaseType.isCategory,\n      operator: \"=\",\n      value: ri!isCaseCategory\n    )\n  },\n  fields: {\n    ri!fields,\n    if(\n      ri!excludeRelatedRecords,\n      {},\n      recordType!CMGT_CFG_CaseType.parentCaseType\n    )\n  },\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  logicalExpressions: {\n    ri!additionalLogicalExpression,\n    rule!CMGT_CaseTypeActiveLogicalExpression(includeInactive: ri!includeInactive)\n  },\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ed9c-71ef-8000-9d58-011c48011c48_3989201": {
      "name": "CMGT_WFL_WorkflowEdit_SelectAutomationType",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!selectedAction: cons!CMGT_CFG_TXT_ACT_WORKFLOW_ROUTING,\n  local!automationTaskBehaviorType: rule!CMGT_QR_GetTaskBehaviorType(\n    taskBehaviorTypeId: cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n    returnType: \"SINGLE_OBJECT\"\n  ),\n  #\"SYSTEM_SYSRULES_paneLayout\"(\n    panes: #\"SYSTEM_SYSRULES_pane\"(\n      backgroundColor: ri!brandingMap.TertiaryBackgroundColor,\n      contents: #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(width: \"1X\"),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            width: \"WIDE_PLUS\",\n            contents: {\n              #\"SYSTEM_SYSRULES_cardLayout\"(\n                contents: {\n                  #\"SYSTEM_SYSRULES_cardLayout\"(\n                    contents: {\n                      rule!CMGT_UTIL_HeaderField(\n                        label: #\"urn:appian:translation-string:v1:d754472d-8ff1-4171-a6ed-74d8d844e5d5\",\n                        labelSize: \"MEDIUM\",\n                        marginBelow: \"NONE\",\n                        brandingMap: ri!brandingMap,\n                        divider: \"NONE\",\n                        labelColor: ri!brandingMap.SecondaryTextColor,\n                        labelFontWeight: \"SEMI_BOLD\"\n                      ),\n                      #\"SYSTEM_SYSRULES_horizontalLine\"()\n                    },\n                    showBorder: false,\n                    padding: \"NONE\",\n                    marginBelow: \"NONE\",\n\n                  ),\n                  #\"SYSTEM_SYSRULES_cardLayout\"(\n                    showBorder: false(),\n                    marginBelow: \"MORE\",\n                    padding: \"MORE\",\n                    contents: #\"SYSTEM_SYSRULES_cardGroupLayout\"(\n                      cards: {\n                        #\"SYSTEM_SYSRULES_forEach\"(\n                          items: ri!automationTypesData,\n                          expression: #\"SYSTEM_SYSRULES_cardLayout\"(\n                            contents: {\n                              #\"SYSTEM_SYSRULES_cardLayout\"(\n                                contents: {\n                                  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                    labelPosition: \"COLLAPSED\",\n                                    value: {},\n                                    marginAbove: \"STANDARD\",\n                                    showWhen: fv!item.isCustom = false()\n                                  ),\n                                  #\"SYSTEM_SYSRULES_tagField\"(\n                                    tags: {\n                                      #\"SYSTEM_SYSRULES_tagItem_v1\"(\n                                        text:#\"urn:appian:translation-string:v1:7be3d522-d9c0-4aa1-9a11-044548c802bf\",\n                                        backgroundColor: ri!brandingMap.InfoTextColor,\n                                        showWhen: fv!item.isCustom\n                                      )\n                                    },\n                                    size: \"SMALL\",\n                                    align: \"END\",\n                                    marginAbove: \"EVEN_LESS\",\n                                    marginBelow: \"NONE\"\n                                  ),\n                                  #\"SYSTEM_SYSRULES_columnsLayout\"(\n                                    columns: {\n                                      #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}),\n                                      #\"SYSTEM_SYSRULES_columnLayout\"(\n                                        contents: {\n                                          #\"SYSTEM_SYSRULES_imageField_v1\"(\n                                            images: {\n                                              #\"SYSTEM_SYSRULES_documentImage\"(document: fv!item.image)\n                                            },\n                                            size: \"TINY\",\n                                            style: \"STANDARD\",\n                                            align: \"CENTER\"\n                                          ),\n\n                                        }\n                                      ),\n                                      #\"SYSTEM_SYSRULES_columnLayout\"(contents: {})\n                                    },\n                                    marginAbove: \"STANDARD\",\n                                    marginBelow: \"STANDARD\"\n                                  ),\n                                  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                    labelPosition: \"COLLAPSED\",\n                                    value: {},\n                                    marginAbove: \"STANDARD\"\n                                  )\n                                },\n                                height: \"AUTO\",\n                                style: ri!brandingMap.ConfigBackgroundColor,\n                                shape: \"SEMI_ROUNDED\",\n                                padding: \"LESS\",\n                                showBorder: false(),\n                                marginAbove: \"NONE\",\n                                marginBelow: \"STANDARD\"\n                              ),\n                              #\"SYSTEM_SYSRULES_headingField\"(\n                                text: fv!item.name,\n                                size: \"SMALL\",\n                                color: ri!brandingMap.InfoTextColor,\n                                fontWeight: \"SEMI_BOLD\",\n                                align: \"CENTER\",\n                                marginAbove: \"STANDARD\",\n                                marginBelow: \"STANDARD\"\n                              ),\n                              #\"SYSTEM_SYSRULES_cardLayout\"(\n                                contents: {\n                                  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                    labelPosition: \"COLLAPSED\",\n                                    value: {\n                                      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                        text: fv!item.description,\n                                        color: ri!brandingMap.secondaryTextColor\n                                      )\n                                    },\n                                    preventWrapping: false,\n                                    align: \"CENTER\",\n                                    marginAbove: \"NONE\",\n                                    marginBelow: \"MORE\"\n                                  )\n                                },\n                                height: \"AUTO\",\n                                style: \"TRANSPARENT\",\n                                padding: \"LESS\",\n                                marginAbove: \"NONE\",\n                                marginBelow: \"NONE\",\n                                showBorder: false\n                              )\n                            },\n                            height: \"AUTO\",\n                            style: \"TRANSPARENT\",\n                            shape: \"SEMI_ROUNDED\",\n                            padding: \"NONE\",\n                            link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                              value: index(fv!item, \"actionCode\", null),\n                              saveInto: local!selectedAction\n                            ),\n                            borderColor: if(\n                              local!selectedAction = index(fv!item, \"actionCode\", null),\n                              \"ACCENT\",\n                              null\n                            )\n                          )\n                        )\n                      },\n                      fillContainer: true,\n                      cardWidth: \"NARROW_PLUS\",\n                      cardHeight: \"AUTO\"\n                    )\n                  ),\n                  #\"SYSTEM_SYSRULES_horizontalLine\"(),\n                  #\"SYSTEM_SYSRULES_ButtonLayout\"(\n                    primaryButtons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                      label: #\"urn:appian:translation-string:v1:9054fda3-d0ac-4d53-8046-6afc52dd8a75\",\n                      disabled: rule!CMGT_UTIL_IsBlank(value: local!selectedAction),\n                      saveInto: a!localVariables(\n                        local!taskActionUuid: a!refreshVariable(\n                          value: rule!CMGT_UTIL_GenerateUuid_NonPlugin(),\n                          refreshOnVarChange: ri!caseType\n                        ),\n                        local!caseTypeWorkflowTask: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask(\n                          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid: rule!CMGT_UTIL_GenerateUuid_NonPlugin(),\n                          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.startsByDefault: false,\n                          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive: true,\n                          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeUuid: ri!caseType[recordType!CMGT_CFG_CaseType.uuid],\n                          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label: #\"urn:appian:translation-string:v1:dcf3f891-0159-4ed3-9156-fd676ef4f253\"(\n                            #\"urn:appian:translation-variable:v1:956f25ca-db8b-4061-ab45-fdc50d50fe79\": a!defaultValue(\n                              index(\n                                rule!CMGT_UTIL_Filter(\n                                  records: ri!automationTypesData,\n                                  field: \"actionCode\",\n                                  value: local!selectedAction\n                                ),\n                                \"name\",\n                                null\n                              ),\n                             \"\"\n                            )\n                          ),\n                          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskIntentionCode: cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_WORKFLOW,\n                          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType: local!automationTaskBehaviorType,\n                          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorTypeId: cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n                          /* Updating sort order for sorting the tasks in the leadsInto dropdown only for display purpose, the actual sort order is updated in the setMetaData rule */\n                          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder: max(\n                            ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask.sortOrder]\n                          ) + 1,\n                          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction: recordType!CMGT_WFL_CFG_TaskActions(\n                            recordType!CMGT_WFL_CFG_TaskActions.taskActionUuid: local!taskActionUuid,\n                            recordType!CMGT_WFL_CFG_TaskActions.actionCode: local!selectedAction,\n                            recordType!CMGT_WFL_CFG_TaskActions.isActive: true\n                          ),\n                          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTask: if(\n                            local!selectedAction = cons!CMGT_CFG_TXT_ACT_SEND_EMAIL,\n                            recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask(\n                              recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.taskActionUuid: local!taskActionUuid\n                            ),\n                            {}\n                          )\n                        ),\n                        local!conditionSet: rule!CMGT_WFL_CaseType_Automation_initializeConditionSet(\n                          caseTypeWorkflowTaskUuid: local!caseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                          parentConditionSetUUid: rule!CMGT_UTIL_GenerateUuid_NonPlugin()\n                        ),\n                        {\n                          a!save(\n                            ri!selectedCaseTypeWorkflowTask,\n                            local!caseTypeWorkflowTask\n                          ),\n                          a!save(\n                            ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                            append(\n                              ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                              local!caseTypeWorkflowTask\n                            )\n                          ),\n                          a!save(\n                            ri!selectedCaseTypeWorkflowTaskUuid,\n                            local!caseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n                          ),\n                          a!save(ri!currentWorkflowStep, null),\n                          if(\n                            local!selectedAction = cons!CMGT_CFG_TXT_ACT_WORKFLOW_ROUTING,\n                            {\n                              a!save(\n                                ri!conditionSets,\n                                append(ri!conditionSets, local!conditionSet)\n                              ),\n                              a!save(\n                                ri!caseTypeWorkflowTaskBranchMaps,\n                                append(\n                                  ri!caseTypeWorkflowTaskBranchMaps,\n                                  {\n                                    #\"SYSTEM_SYSRULES_forEach\"(\n                                      items: local!conditionSet[recordType!CMGT_CFG_ConditionSet.childConditionSet],\n                                      expression: rule!CMGT_WFL_ConstructCaseTypeWorkflowTaskBranchMap(\n                                        taskUUID: local!caseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                                        taskResponseOptionUUID: fn!tointeger(null),\n                                        isRequired: true,\n                                        isActive: true,\n                                        afterCaseTypeWorkflowTaskBranches: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch(\n                                          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.conditionSetUuid: fv!item[recordType!CMGT_CFG_ConditionSet.conditionSetUuid],\n                                          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid: local!caseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                                          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isRequired: false,\n                                          /*Note, defaulting this to NULL until an actual selection is made so that the network renderer doesn't think there's a task*/\n                                          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive: null\n                                        ),\n                                        conditionSetUUID: fv!item[recordType!CMGT_CFG_ConditionSet.conditionSetUuid]\n                                      )\n                                    ),\n                                    rule!CMGT_WFL_ConstructCaseTypeWorkflowTaskBranchMap(\n                                      taskUUID: local!caseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                                      taskResponseOptionUUID: fn!tointeger(null),\n                                      isRequired: true,\n                                      isActive: true,\n                                      afterCaseTypeWorkflowTaskBranches: /* Handles the default task branches*/\n                                      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch(\n                                        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.conditionSetUuid: null,\n                                        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid: local!caseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                                        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isRequired: false,\n                                        /*Note, defaulting this to NULL until an actual selection is made so that the network renderer doesn't think there's a task*/\n                                        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive: null\n                                      ),\n\n                                    )\n                                  }\n                                )\n                              )\n                            },\n                            {}\n                          ),\n                          a!save(\n                            local!selectedAction,\n                            cons!CMGT_CFG_TXT_ACT_WORKFLOW_ROUTING\n                          ),\n                          /*a!save(*/\n                          /*local!taskActionUuid,*/\n                          /*rule!CMGT_UTIL_GenerateUuid_NonPlugin()*/\n                          /*)*/\n\n                        }\n                      ),\n                      size: \"SMALL\",\n                      style: \"SOLID\"\n                    ),\n                    secondaryButtons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                      label: #\"urn:appian:translation-string:v1:edd4df67-d878-46d6-ab67-732a3700a588\",\n                      saveInto: {\n                        a!save(ri!currentWorkflowStep, null),\n                        a!save(\n                          local!selectedAction,\n                          cons!CMGT_CFG_TXT_ACT_WORKFLOW_ROUTING\n                        )\n                      },\n                      size: \"SMALL\",\n                      validate: false(),\n                      style: \"OUTLINE\",\n                      color: ri!brandingMap.AccentColor\n                    )\n                  )\n                },\n                style: ri!brandingMap.CardBackgroundColor,\n                shape: ri!brandingMap.CardShape,\n                marginBelow: \"NONE\",\n                showBorder: false,\n                showShadow: ri!brandingMap.CardShowShadow\n              )\n            },\n\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(width: \"1X\")\n        }\n      ),\n      padding: \"MORE\",\n      accessibilityText: #\"urn:appian:translation-string:v1:d754472d-8ff1-4171-a6ed-74d8d844e5d5\"\n    )\n  )\n)"
    },
    "_a-0000ece2-0128-8000-9bb8-011c48011c48_40224": {
      "name": "CMGT_UTIL_ContructSLAMap",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    rule!CMGT_UTIL_IsNotBlank(input: ri!slaJson),\n    isvalidjson(ri!slaJson)\n  ),\n  cast(\n    'type!{http://www.appian.com/ae/types/2009}Map',\n    #\"SYSTEM_SYSRULES_fromJson_v1\"(ri!slaJson)\n  ),\n  a!map(\n    days: a!defaultValue(ri!days, tostring(null())),\n    hours: a!defaultValue(ri!hours, tostring(null())),\n    minutes: a!defaultValue(ri!minutes, tostring(null())),\n    isBusinessDays: a!defaultValue(ri!isBusinessDays, false)\n  )\n)"
    },
    "ec53efc4-92ea-42bd-b292-c5307b3f2758": {
      "name": "CMGT_UTIL_ExtractAllWriteableFirstChildrenOfCaseType",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_RejectBlank(\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: a!keys(ri!caseType),\n    expression: if(\n      runtimetypeof(fv!item) <> 'type!{http://www.appian.com/ae/types/2009}RecordRelationship',\n      {},\n      with(\n        local!children: ri!caseType[fv!item],\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: local!children,\n          expression: a!localVariables(\n            local!currentItem: fv!item,\n            if(\n              or(\n                runtimetypeof(fv!item) = recordType!CMGT_CFG_CaseType,\n                runtimetypeof(fv!item) = #\"urn:appian:record-type:v1:SYSTEM_RECORD_TYPE_USER\",\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  items: ri!recordsToDrop,\n                  expression: runtimetypeof(local!currentItem) = fv!item\n                )\n              ),\n              {},\n              fv!item\n            )\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000eb4d-d051-8000-9c68-011c48011c48_1673763": {
      "name": "CMGT_WFL_MTR_UserInitiatesReferenceTask",
      "type": "Expression Rule",
      "sail_code": "{}"
    },
    "_a-0000ed5b-d85c-8000-9d42-011c48011c48_3696853": {
      "name": "CMGT_QR_GetEmailTemplateAttachments",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_EmailTemplateAttachments,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field:recordType!CMGT_EmailTemplateAttachments.sendEmailTaskId,\n      operator: \"=\",\n      value: ri!sendEmailTaskId\n    )\n  },\n  fields: {\n    ri!fields,\n    recordType!CMGT_EmailTemplateAttachments.createdByUser,\n    recordType!CMGT_EmailTemplateAttachments.modifiedByUser\n  },\n  pagingInfo: ri!pagingInfo,\n  sort: a!defaultValue(\n    value: ri!sort,\n    default: #\"SYSTEM_SYSRULES_sortInfo\"(\n      field:recordType!CMGT_EmailTemplateAttachments.createdOn,\n      ascending: false\n    )\n  ),\n  relatedRecordData: ri!relatedRecordData,\n  groupByFields: ri!groupByFields,\n  logicalExpressions: ri!additionalLogicalExpression,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ed08-c8b4-8000-9d25-011c48011c48_3441965": {
      "name": "CMGT_WFL_CreateCaseReferenceTask_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_SetRecordFields(\n  record: ri!createCaseReferenceTask,\n  /*Always set these fields with each update*/\n  alwaysOverwrite: {\n    a!map(\n      field: recordType!CMGT_WFL_CFG_CreateCaseReferenceTask.modifiedBy,\n      value: ri!initiator\n    ),\n    a!map(\n      field: recordType!CMGT_WFL_CFG_CreateCaseReferenceTask.modifiedOn,\n      value: now()\n    )\n  },\n  /*Only modify these fields if they are currently null*/\n  neverOverwrite: {\n    a!map(\n      field: recordType!CMGT_WFL_CFG_CreateCaseReferenceTask.createdBy,\n      value: ri!initiator\n    ),\n    a!map(\n      field: recordType!CMGT_WFL_CFG_CreateCaseReferenceTask.createdOn,\n      value: now()\n    ),\n    a!map(\n      field: recordType!CMGT_WFL_CFG_CreateCaseReferenceTask.isActive,\n      value: true\n    )\n  }\n)"
    },
    "_a-0000eb57-0ad2-8000-9c6b-011c48011c48_1719960": {
      "name": "CMGT_NCF_orderNodesBasedOnDistanceFromStart",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!edgesFromOrderedNodes: a!refreshVariable(\n    value: rule!CMGT_UTIL_Filter(\n      records: ri!allEdges,\n      field: \"from\",\n      value: ri!orderedNodes.id\n    ),\n    refreshAlways: true\n  ),\n  local!edgesToUnorderedNodes: a!refreshVariable(\n    value: rule!CMGT_UTIL_Filter(\n      filterType: \"REJECT\",\n      records:local!edgesFromOrderedNodes,\n      field: \"to\",\n      value: ri!orderedNodes.id\n    ),\n    refreshAlways: true\n  ),\n  local!dependentUnorderedNodes: a!refreshVariable(\n    value:  rule!CMGT_UTIL_Filter(\n      records: ri!allNodes,\n      field: \"id\",\n      value: local!edgesToUnorderedNodes.to\n    ),\n    refreshAlways: true\n  ),\n  local!nodesToOrder: a!refreshVariable(\n    value: rule!CMGT_UTIL_cast(\n      typeOf: {a!map()},\n      value: apply(\n        rule!CMGT_NCF_updateNodeOrderBasedOnPrecedents(\n          allEdges: ri!allEdges,\n          currentNode: _,\n          edgesToUnorderedNodes: local!edgesToUnorderedNodes,\n          orderedNodes: ri!orderedNodes\n        ),\n        local!dependentUnorderedNodes\n      )\n    ),\n    refreshAlways: true\n  ),\n  union(ri!orderedNodes, local!nodesToOrder)\n)"
    },
    "_a-0000edd3-c29a-8000-9d77-011c48011c48_4201604": {
      "name": "CMGT_UTIL_RecordBackedDropdownField",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!oneRowOfData: index(\n    #\"SYSTEM_SYSRULES_queryRecordType_v2\"(\n      recordType: ri!recordType,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(startIndex: 1, batchSize: 1)\n    ).data,\n    1,\n    null\n  ),\n  if(\n    a!isNullOrEmpty(local!oneRowOfData),\n    {},\n    a!localVariables(\n      local!pkField: a!keys(local!oneRowOfData)[1],\n      local!labelField: a!defaultValue(\n        ri!labelField,\n        index(\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: a!keys(local!oneRowOfData),\n            expression: if(\n              runtimetypeof(local!oneRowOfData[fv!item]) = 'type!{http://www.appian.com/ae/types/2009}Text',\n              fv!item,\n              {}\n            )\n          ),\n          1,\n          null\n        )\n      ),\n      local!sortOrderField: index(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: a!keys(local!oneRowOfData),\n          expression: if(\n            tostring(fv!item) = \"sortOrder\",\n            fv!item,\n            {}\n          )\n        ),\n        1,\n        null\n      ),\n      local!isActiveField: index(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: a!keys(local!oneRowOfData),\n          expression: if(\n            tostring(fv!item) = \"isActive\",\n            fv!item,\n            {}\n          )\n        ),\n        1,\n        null\n      ),\n      if(\n        ri!readOnly,\n        a!localVariables(\n          local!displayValue: if(\n            a!isNullOrEmpty(ri!value),\n            \"\",\n            #\"SYSTEM_SYSRULES_queryRecordByIdentifier\"(\n              recordType: ri!recordType,\n              identifier: ri!value\n            )[local!labelField]\n          ),\n          local!displayValue\n        ),\n        #\"SYSTEM_SYSRULES_dropdownField_v1\"(\n          label: ri!dropdownLabel,\n          labelPosition: a!defaultValue(ri!dropdownLabelPosition, \"ABOVE\"),\n          data: #\"SYSTEM_SYSRULES_recordData\"(\n            recordType: ri!recordType,\n            filters: {\n              #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"AND\",\n                filters: ri!additionalFilters,\n                logicalExpressions: {\n                #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"OR\",\n                filters: {\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: local!isActiveField,\n                    operator: \"=\",\n                    value: true,\n                    applyWhen: a!isNotNullOrEmpty(local!isActiveField)\n                  ),\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: local!pkField,\n                    operator: \"=\",\n                    value: ri!value,\n                    applyWhen: a!isNotNullOrEmpty(ri!value)\n                  )\n                }\n              )\n              }\n              )\n            }\n          ),\n          sort: if(\n            a!isNullOrEmpty(local!sortOrderField),\n            {},\n            #\"SYSTEM_SYSRULES_sortInfo\"(\n              field: local!sortOrderField,\n              ascending: true\n            )\n          ),\n          placeholder: ri!placeholder,\n          choiceLabels: local!labelField,\n          choiceValues: local!pkField,\n          value: ri!value,\n          saveInto: ri!saveInto,\n          required: a!defaultValue(ri!required, false),\n          requiredMessage: ri!requiredMessage,\n          disabled: a!defaultValue(ri!disabled, false),\n          showWhen: ri!showWhen,\n          accessibilityText: ri!accessibilityText,\n          validationGroup: ri!validationGroup\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000ed89-fd25-8000-9d52-011c48011c48_3937243": {
      "name": "CMGT_UTIL_IsListType",
      "type": "Expression Rule",
      "sail_code": "#\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n  runtimetypeof(\n    index(\n      ri!value,\n      1,\n      null\n    )\n  )\n) = runtimetypeof(\n  ri!value\n)"
    },
    "_a-0000e9c0-fc38-8000-9bb5-011c48011c48_128419": {
      "name": "CMGT_UTIL_TabLayout",
      "type": "Interface",
      "sail_code": "{\n  a!localVariables(\n    local!isMobileScreenSize: a!defaultValue(ri!isMobileScreenSize, false),\n    if(\n      local!isMobileScreenSize,\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_dropdownField_v1\"(\n                label: #\"urn:appian:translation-string:v1:2a5f4093-d5ab-4f98-9e91-6c882d53eddd\",\n                labelPosition: \"COLLAPSED\",\n                choiceLabels: #\"SYSTEM_SYSRULES_forEach\"(\n                  items: ri!tabs,\n                  expression: concat(\n                    fv!item.name,\n                    if(\n                      fv!item.showTabCount,\n                      concat(\" (\", fv!item.tabCount, \")\"),\n                      \"\"\n                    )\n                  )\n                ),\n                choiceValues: #\"SYSTEM_SYSRULES_forEach\"(items: ri!tabs, expression: fv!index),\n                value: ri!activeTab,\n                saveInto: {\n                  ri!activeTab,\n                  a!save(\n                    ri!metrics,\n                    index(\n                      ri!tabs,\n                      ri!activeTab,\n                      \"metricEvalRule\",\n                      null\n                    )\n                  )\n                }\n              )\n            }\n          )\n        },\n        showWhen: a!defaultValue(ri!showWhen, true)\n      ),\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!tabs,\n            expression: #\"SYSTEM_SYSRULES_columnLayout\"(\n              contents: {\n                #\"SYSTEM_SYSRULES_cardLayout\"(\n                  contents: {\n                    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                      items: {\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(width: \"AUTO\"),\n                        /* Display the icon */\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                            label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Tab\" & fv!index),\n                            labelPosition: \"COLLAPSED\",\n                            value: {\n                              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                                icon: fv!item.icon,\n                                color: ri!brandingMap.StandardTextColor,\n                                size: \"STANDARD\"\n                              )\n                            }\n                          ),\n                          width: \"MINIMIZE\",\n                          showWhen: a!isNotNullOrEmpty(fv!item.icon)\n                        ),\n                        /* Display the name */\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                            label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Tab\" & fv!index),\n                            labelPosition: \"COLLAPSED\",\n                            value: {\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: fv!item.name,\n                                linkStyle: \"STANDALONE\",\n                                color: ri!brandingMap.StandardTextColor,\n                                size: a!defaultValue(ri!size, \"STANDARD\"),\n                                style: if(fv!index = ri!activeTab, \"STRONG\", \"PLAIN\")\n                              )\n                            },\n                            align: \"CENTER\"\n                          ),\n                          width: \"MINIMIZE\"\n                        ),\n                        /*Display tab count*/\n                        if(\n                          fv!item.showTabCount,\n                          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                            item: #\"SYSTEM_SYSRULES_tagField\"(\n                              labelPosition: \"COLLAPSED\",\n                              tags: #\"SYSTEM_SYSRULES_tagItem\"(\n                                text: fv!item.tabCount,\n                                backgroundColor: ri!brandingMap.TagBackgroundColor,\n                                textColor: ri!brandingMap.TagTextColor\n                              ),\n                              size: \"SMALL\"\n                            ),\n                            width: \"MINIMIZE\"\n                          ),\n                          {}\n                        ),\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(width: \"AUTO\")\n                      },\n                      marginBelow: \"NONE\"\n                    )\n                  },\n                  link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                    label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Card Link\" & fv!index),\n                    value: fv!index,\n                    saveInto: {\n                      ri!activeTab,\n                      a!save(ri!metrics, fv!item.metricEvalRule)\n                    }\n                  ),\n                  style: if(\n                    fv!index = ri!activeTab,\n                    a!defaultValue(\n                      ri!activeTabBackgroundColor,\n                      \"TRANSPARENT\",\n\n                    ),\n                    \"TRANSPARENT\",\n\n                  ),\n                  padding: \"LESS\",\n                  height: \"AUTO\",\n                  marginBelow: \"NONE\",\n                  showBorder: false,\n                  accessibilityText: if(\n                    fv!index = ri!activeTab,\n                    #\"urn:appian:translation-string:v1:506805fb-4c0f-414b-90f2-023f86caf367\",\n                    \"\"\n                  )\n                ),\n                #\"SYSTEM_SYSRULES_horizontalLine\"(\n                  color: if(\n                    fv!index = ri!activeTab,\n                    a!defaultValue(\n                      ri!activeTabColor,\n                      ri!brandingMap.AccentColor\n                    ),\n                    ri!brandingMap.TertiaryBackgroundColor\n                  ),\n                  weight: \"MEDIUM\",\n                  marginBelow: \"LESS\"\n                )\n              },\n              width: \"NARROW\",\n              showWhen: fv!item.showTab\n            )\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_cardLayout\"(showBorder: false, style: \"TRANSPARENT\"),\n              #\"SYSTEM_SYSRULES_horizontalLine\"(\n                weight: \"MEDIUM\",\n                color: ri!brandingMap.TertiaryBackgroundColor,\n                marginBelow: \"LESS\"\n              )\n            },\n            width: \"AUTO\",\n            showWhen: a!defaultValue(ri!showAdditionalTabCard, true)\n          )\n        },\n        alignVertical: \"BOTTOM\",\n        marginBelow: \"NONE\",\n        marginAbove: \"STANDARD\",\n        spacing: \"NONE\",\n        showDividers: false,\n        showWhen: a!defaultValue(ri!showWhen, true)\n      )\n    )\n  )\n}"
    },
    "_a-0000ea2f-ac11-8000-9bf4-011c48011c48_619938": {
      "name": "CMGT_NetworkChartField_StandardFormatting",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  nodeOptionGroups: a!map(\n    task: a!map(\n      chosen: false,\n      shape: \"box\",\n      shapeProperties: a!map(\n        borderRadius: if(\n          search(\n            \"ROUND\",\n            tostring(ri!brandingMap.CardShape)\n          ),\n          6,\n          0\n        )\n      ),\n      font: a!map(\n        multi: \"html\",\n        align: \"left\",\n        size: 12,\n        vadjust: 2,\n        color: ri!brandingMap.BlackColor,\n        bold: a!map(size: 14, vadjust: - 4, mod: \"bold\")\n      ),\n      color: a!map(\n        border: ri!brandingMap.DividerColor,\n        background: ri!brandingMap.WhiteColor\n      ),\n      margin: 12,\n      widthConstraint: a!map(maximum: 250),\n      heightConstraint: a!map(valign: \"middle\"),\n      /*shadow: a!map(enabled: true, size: 0, x: 0, y: - 5)*/\n    ),\n    terminal: a!map(\n      chosen: false,\n      shape: \"box\",\n      shapeProperties: a!map(\n        borderRadius: if(\n          search(\n            \"ROUND\",\n            tostring(ri!brandingMap.CardShape)\n          ),\n          6,\n          0\n        )\n      ),\n      font: a!map(\n        multi: \"html\",\n        align: \"left\",\n        size: 12,\n        vadjust: 2,\n        color: ri!brandingMap.BlackColor,\n        bold: a!map(size: 14, vadjust: 0, mod: \"bold\")\n      ),\n      margin: 10,\n      color: a!map(\n        border: ri!brandingMap.DividerColor,\n        background: ri!brandingMap.WhiteColor\n      )\n    )\n  ),\n  defaultEdge: a!map(\n    color: ri!brandingMap.SecondaryTextColor,\n    width: 1,\n    dashes: true,\n    chosen: false\n  ),\n  defaultArrow: a!map(to: a!map(enabled: true, scaleFactor: .75)),\n  layout: a!map(\n    improvedLayout: true,\n    clusterThreshold: 1000000,\n    hierarchical: a!map(\n      enabled: true,\n      levelSeparation: 175,\n      nodeSpacing: 250,\n      treeSpacing: 400,\n      blockShifting: true,\n      edgeMinimization: true,\n      parentCentralization: true,\n      direction: \"UD\",\n      sortMethod: \"directed\",\n      shakeTowards: \"roots\"\n    )\n  ),\n  physics: a!map(\n    enabled: true,\n    solver: \"hierarchicalRepulsion\",\n    hierarchicalRepulsion: a!map(avoidOverlap: 1, nodeDistance: 80),\n    maxVelocity: .00001,\n    stabilization: a!map(\n      iterations: 1000000,\n      onlyDynamicEdges: true\n    )\n  )\n)"
    },
    "_a-0000eda5-abee-8000-9d5c-011c48011c48_4012450": {
      "name": "CMGT_WFL_MTR_UserCreatesSendEmailAutomationTask",
      "type": "Expression Rule",
      "sail_code": "now()"
    },
    "_a-0000e9fa-aa45-8000-9bda-011c48011c48_301090": {
      "name": "CMGT_UTIL_DisplayUser",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!user,\n  expression: a!localVariables(\n    local!currentUserRecord: if(\n      isusernametaken(fv!item),\n      rule!CMGT_UTIL_Filter(\n        records: ri!userRecord,\n        field: #\"urn:appian:record-field:v1:SYSTEM_RECORD_TYPE_USER/SYSTEM_RECORD_TYPE_USER_FIELD_username\",\n        value: fv!item\n      ),\n      null()\n    ),\n    cast(\n      'type!{http://www.appian.com/ae/types/2009}Text',\n      if(\n        rule!CMGT_UTIL_IsNotBlank(input: local!currentUserRecord),\n        if(\n          or(\n            local!currentUserRecord[#\"urn:appian:record-field:v1:SYSTEM_RECORD_TYPE_USER/SYSTEM_RECORD_TYPE_USER_FIELD_isServiceAccount\"] = true,\n            #\"urn:appian:function:v1:a:isusermemberofgroup?okey=a!isUserMemberOfGroup\"(\n              username: fv!item,\n              groups: cons!CMGT_GRP_SERVICE_ACCOUNTS\n            )\n          ),\n          cons!CMGT_TXT_AUTOMATED_SYSTEM,\n          local!currentUserRecord[#\"urn:appian:record-field:v1:SYSTEM_RECORD_TYPE_USER/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\"]\n        ),\n        if(\n          isnull(fv!item),\n          if(\n            ri!returnNullForEmpty,\n            null,\n            cons!CMGT_TXT_EMPTY_VALUE\n          ),\n          fv!item\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000ec6b-da11-8000-9ce2-011c48011c48_2900228": {
      "name": "CMGT_WFL_CaseType_RecordAction_NonCategoryCreateEdit_CreateTasks",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  /* Metrics*/\n  local!metric: rule!CMGT_WFL_MTR_UserInitiatesReferenceTask(),\n  local!sectionDetails: {\n    a!map(\n      name: #\"urn:appian:translation-string:v1:da4cf475-ea53-4246-a609-081432655c8f\",\n      contents: rule!CMGT_WFL_CaseType_RecordAction_NonCategoryCreateEdit_CreateTasks_TaskDetailsSection\n    ),\n    a!map(\n      name: #\"urn:appian:translation-string:v1:ed7c99ee-76ae-4168-a9d5-6383291fe488\",\n      contents: rule!CMGT_WFL_CaseType_RecordAction_NonCategoryCreateEdit_CreateTasks_AssignmentSection\n    ),\n    a!map(\n      name: #\"urn:appian:translation-string:v1:7994796a-c989-4edf-a48a-2c5a838f1c16\",\n      contents: rule!CMGT_WFL_CaseType_RecordAction_NonCategoryCreateEdit_CreateTasks_SlaSection\n    )\n  },\n  #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n    label: \"\",\n    contents: {\n      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextIcon\"(\n            icon: \"info-circle\",\n            color: ri!brandingMap.InfoAccentColor\n          ),\n          \" \",\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: #\"urn:appian:translation-string:v1:8558d88e-1d39-45d3-874b-04a95caaafbd\"\n          )\n        },\n        marginAbove: \"LESS\",\n        marginBelow: \"LESS\"\n      ),\n      /* Title */\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!sectionDetails,\n        expression: rule!CMGT_Workflow_ConfigureTask_SectionWrapper(\n          sectionName: fv!item.name,\n          brandingMap: ri!brandingMap,\n          sectionContents: fv!item.contents(\n            newReferenceTask: ri!newReferenceTask,\n            currentTaskEmailTemplates: ri!currentTaskEmailTemplates,\n            documentsToDelete: ri!documentsToDelete,\n            emailTemplates: ri!emailTemplates,\n            isPreview: ri!isPreview,\n            currentForm: ri!currentForm\n          )\n        )\n      ),\n      #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n        validations: {\n          /*Validation thrown when:\n      there is a blank response option\n      or\n      only one response option\n      */\n          #\"SYSTEM_SYSRULES_validationMessage\"(\n            message: #\"urn:appian:translation-string:v1:d402c5b7-0888-4e49-8599-5ac3a6edacab\",\n            validateAfter: \"SUBMIT\",\n            showWhen: and(\n              a!isNotNullOrEmpty(\n                ri!newReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions]\n              ),\n              length(\n                ri!newReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions.label]\n              ) <> count(\n                ri!newReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions.label]\n              )\n            )\n          ),\n          #\"SYSTEM_SYSRULES_validationMessage\"(\n            message: #\"urn:appian:translation-string:v1:db902d02-f822-4eaf-a0c2-07944110b684\",\n            validateAfter: \"SUBMIT\",\n            showWhen: and(\n              a!defaultValue(\n                ri!newReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId],\n                0\n              ) = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION,\n              count(\n                ri!newReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions.label]\n              ) < 2\n            )\n          ),\n          #\"SYSTEM_SYSRULES_validationMessage\"(\n            message: #\"urn:appian:translation-string:v1:b6df6f51-cd36-4d95-bfe4-e7be13e4dc7f\",\n            validateAfter: \"SUBMIT\",\n            showWhen: and(\n              a!defaultValue(\n                ri!newReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId],\n                0\n              ) = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION,\n              count(\n                rule!CMGT_UTIL_Distinct(\n                  ri!newReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions.label]\n                )\n              ) <> count(\n                ri!newReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions.label]\n              )\n            )\n          )\n        }\n      ),\n      #\"SYSTEM_SYSRULES_ButtonLayout\"(\n        secondaryButtons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          label: #\"urn:appian:translation-string:v1:fa9f85e9-0345-4f20-8252-5686f8d7955e\",\n          saveInto: {\n            a!save(\n              ri!newCaseTypeWorkflowTasks,\n              append(\n                ri!newCaseTypeWorkflowTasks,\n                recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask(\n                  /* Since the reference task is not written to the DB yet passing referenceTaskId as null */\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTaskId: null,\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeUuid: ri!caseTypeUuid,\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.startsByDefault: false(),\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive: true,\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorTypeId: ri!newReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId],\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType: ri!newReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType],\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label: ri!newReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.nameLabel],\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.description: ri!newReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.description],\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid: rule!CMGT_UTIL_GenerateUuid_NonPlugin(),\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sla: ri!newReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.defaultSla],\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.defaultGroupAssignee: ri!newReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.defaultGroupAssignee],\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.questionLabel: ri!newReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.questionLabel],\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskIntentionCode: cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_WORKFLOW,\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskResponseOptions: #\"SYSTEM_SYSRULES_forEach\"(\n                    items: ri!newReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions],\n                    expression: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption(\n                      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.label: fv!item[recordType!CMGT_WFL_CFG_TaskResponseOption.label],\n                      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.sortOrder: fv!item[recordType!CMGT_WFL_CFG_TaskResponseOption.sortOrder],\n                      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.caseTypeWorkflowTaskResponseOptionUuid: rule!CMGT_UTIL_GenerateUuid_NonPlugin()\n                    )\n                  ),\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.createCaseCaseTypeWorkflowTask: if(\n                    ri!newReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_CREATE_CASE,\n                    recordType!CMGT_WFL_CFG_CreateCaseCaseTypeWorkflowTask(\n                      recordType!CMGT_WFL_CFG_CreateCaseCaseTypeWorkflowTask.caseTypeUuid: ri!newReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.createCaseReferenceTask.caseTypeUuid],\n                      recordType!CMGT_WFL_CFG_CreateCaseCaseTypeWorkflowTask.relationshipToOriginalCase: ri!newReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.createCaseReferenceTask.relationshipToOriginalCase]\n                    ),\n                    {}\n                  ),\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTask: if(\n                    ri!newReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_SEND_EMAIL,\n                    recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask(\n                      recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.emailTemplateUuid: ri!newReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.sendEmailReferenceTask.emailTemplateUuid]\n                    ),\n                    {}\n                  ),\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTask: ri!newReferenceTask,\n                  /*Since we will be populating task branches only when Add Dependent task is clicked it is not required\n                                we need to populate task branches*/\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches: {}\n                )\n              )\n            ),\n            a!save(ri!newReferenceTask, null),\n            a!save(ri!currentTaskEmailTemplates, null)\n          },\n          style: \"SOLID\",\n          validate: true\n        )\n      )\n    }\n  )\n)"
    },
    "_a-0000ecf6-527e-8000-9bbc-011c48011c48_56681": {
      "name": "CMGT_CFG_ENUM_ACTIONS",
      "type": "Expression Rule",
      "sail_code": "/*Contains the list of all actions for use in the Automation \nand their attributes. */\n{\nrule!CMGT_CFG_ENUM_ACT_ASSIGN_CASE(),\nrule!CMGT_CFG_ENUM_ACT_REASSIGN_CASE(),\nrule!CMGT_CFG_ENUM_ACT_ASSIGN_TASK(),\nrule!CMGT_CFG_ENUM_ACT_REASSIGN_TASK(),\nrule!CMGT_CFG_ENUM_ACT_WORKFLOW_ROUTING(),\nrule!CMGT_CFG_ENUM_ACT_SEND_EMAIL()\n  /* to add a new action, copy the above expression rule and replace the \n  values with the process model constant and attributes \n  of the newly configured action */\n  \n}"
    },
    "_a-0000e9ca-3659-8000-9bb8-011c48011c48_145917": {
      "name": "CMGT_UTIL_Distinct",
      "type": "Expression Rule",
      "sail_code": "cast(\n  runtimetypeof(ri!value),\n  union(\n    a!flatten(ri!value),\n    a!flatten(ri!value)\n  )\n)"
    },
    "_a-0000eb92-18b7-8000-9c91-011c48011c48_2008561": {
      "name": "CMGT_WFL_CaseType_RecordAction_Milestones_CreateEdit",
      "type": "Interface",
      "sail_code": "{\n  if(\n    rule!CMGT_UTIL_IsBlank(\n      ri!visibleMilestoneIndices\n    ),\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: #\"urn:appian:translation-string:v1:02e7dd78-9ef7-4572-b697-f2a1316794f3\",\n        color: ri!brandingMap.StandardTextColor,\n        style: \"EMPHASIS\"\n      )\n    ),\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!caseType[recordType!CMGT_CFG_CaseType.referenceMilestone][ri!visibleMilestoneIndices],\n      expression: rule!CMGT_WFL_CaseType_RecordAction_NonCategoryCreateEdit_SingleMilestone(\n        brandingMap: ri!brandingMap,\n        thisMilestone: fv!item,\n        thisIndex: fv!index,\n        isFirst: fv!isFirst,\n        isLast: fv!isLast,\n        visibleMilestoneIndices: ri!visibleMilestoneIndices,\n        caseType: ri!caseType\n      )\n    )\n  ),\n  #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n    buttons: {\n      #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n        /* Add Milestone button */\n        label: #\"urn:appian:translation-string:v1:30d70852-91d6-46a8-9837-3a88e381f0bb\",\n        icon: \"plus-circle\",\n        size: \"SMALL\",\n        style: \"LINK\",\n        saveInto: a!save(\n          ri!caseType[recordType!CMGT_CFG_CaseType.referenceMilestone],\n          append(\n            ri!caseType[recordType!CMGT_CFG_CaseType.referenceMilestone],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone(\n              recordType!CMGT_WFL_CFG_ReferenceMilestone.caseTypeUuid: ri!caseType[recordType!CMGT_CFG_CaseType.uuid],\n              recordType!CMGT_WFL_CFG_ReferenceMilestone.label: null,\n              recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: rule!CMGT_UTIL_GenerateUuid_NonPlugin(),\n              recordType!CMGT_WFL_CFG_ReferenceMilestone.isActive: true,\n              recordType!CMGT_WFL_CFG_ReferenceMilestone.sortOrder: count(\n                a!defaultValue(\n                  value: ri!caseType[recordType!CMGT_CFG_CaseType.referenceMilestone],\n                  default: {}\n                )\n              ) + 1,\n              recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: a!localVariables(\n                /*Get usage of each color in milestone schema*/\n                local!colorCounts: #\"SYSTEM_SYSRULES_forEach\"(\n                  items: ri!milestoneColors,\n                  expression: a!map(\n                    color: fv!item,\n                    count: rule!CMGT_UTIL_Filter(\n                      records: ri!caseType[recordType!CMGT_CFG_CaseType.referenceMilestone][ri!visibleMilestoneIndices],\n                      field: recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor,\n                      value: fv!item,\n                      filterType: \"MATCH_COUNT\"\n                    )\n                  )\n                ),\n                /*Reject out any that have been used in current segment*/\n                local!colorsAvailable: rule!CMGT_UTIL_Filter(\n                  records: local!colorCounts,\n                  field: \"count\",\n                  value: max(\n                    local!colorCounts.count\n                  ),\n                  filterType: \"REJECT\"\n                ),\n                /*Select first of available, if null, select the first color in the scheme since segment has reset*/\n                a!defaultValue(\n                  index(\n                    local!colorsAvailable,\n                    1,\n                    null\n                  ).color,\n                  index(\n                    ri!milestoneColors,\n                    1,\n                    null\n                  )\n                )\n              )\n            )\n          )\n        ),\n        accessibilityText: #\"urn:appian:translation-string:v1:9e159048-eba6-486b-9a68-0a8e9f01b555\"\n      ),\n\n    },\n    align: \"START\"\n  )\n}"
    },
    "_a-0000eb4d-d051-8000-9c68-011c48011c48_1673741": {
      "name": "CMGT_WFL_MTR_ReferenceTaskWrapper",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(\n    ri!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.referenceTaskId]\n  ),\n  rule!CMGT_WFL_MTR_UserCreatesReferenceTask(),\n  rule!CMGT_WFL_MTR_UserEditsReferenceTask()\n)"
    },
    "_a-0000ece2-0128-8000-9bb8-011c48011c48_40321": {
      "name": "CMGT_UTIL_isEmptySLA",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    a!isNullOrEmpty(ri!slaMap.days),\n    a!isNullOrEmpty(ri!slaMap.hours),\n    a!isNullOrEmpty(ri!slaMap.minutes)\n  ),\n  true,\n  false\n)"
    },
    "_a-0000e9d3-70bf-8000-9bbd-011c48011c48_180560": {
      "name": "CMGT_UTIL_returnTypeNumber",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer',\n  if(\n    isnull(ri!type),\n    typeof(ri!typeOf),\n    typeof(cast(ri!type, null))\n  )\n)"
    },
    "83c4efee-b53d-4a10-8bac-fef3810bcb3c": {
      "name": "CMGT_WFL_CaseTypeWorkflowTasks_FindPreviousTasksInTree_Reducer",
      "type": "Expression Rule",
      "sail_code": "with(\n  /*All tasks that are currently not in the tree are considered available  */\n  local!availableTasks: rule!CMGT_UTIL_Filter(\n    filterType: \"REJECT\",\n    records: ri!allTasks,\n    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n    value: ri!treeTasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n  ),\n  /*The existing beforeTaskBranches in the tree */\n  local!treeTaskBeforeBranches: rule!CMGT_UTIL_Filter(\n    records: ri!caseTypeWorkflowTaskBranches,\n    fieldValuePairs: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid,\n        value: ri!treeTasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isRequired,\n        value: true\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive,\n        value: true\n      )\n    }\n  ),\n  /*Identifies the UUIDs of the beforeTask in the tree branches  */\n  local!previousTasksInTreeUuid: a!flatten(\n    local!treeTaskBeforeBranches[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid]\n  ),\n  /*Finds the before task from the available list of tasks  */\n  local!previousTasksInTree: rule!CMGT_UTIL_Filter(\n    records: local!availableTasks,\n    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n    value: local!previousTasksInTreeUuid\n  ),\n  /*Add the identified tasks to the tree  */\n  if(\n    a!isNullOrEmpty(local!previousTasksInTree),\n    ri!treeTasks,\n    append(ri!treeTasks, local!previousTasksInTree)\n  )\n)"
    },
    "_a-0000ed49-63d5-8000-9d3e-011c48011c48_3602456": {
      "name": "CMGT_WFL_QR_GetEmailTemplates",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_WFL_CFG_EmailTemplate,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateId,\n      operator: \"in\",\n      value: ri!emailTemplateId\n    )\n  },\n  fields: {\n    ri!fields,\n    recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateAttachments,\n    recordType!CMGT_WFL_CFG_EmailTemplate.sendEmailCaseTypeWorkflowTask,\n    recordType!CMGT_WFL_CFG_EmailTemplate.sendEmailReferenceTasks,\n    recordType!CMGT_WFL_CFG_EmailTemplate.sendEmailTaskBlockTasks\n  },\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ed65-13b8-8000-9d44-011c48011c48_3725977": {
      "name": "CMGT_Automation_ConditionTypeField",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_dropdownField_v1\"(\n  label: #\"urn:appian:translation-string:v1:cfd938d0-1c74-423e-89ee-f71a530aaec0\",\n  placeholder: #\"urn:appian:translation-string:v1:cfd938d0-1c74-423e-89ee-f71a530aaec0\",\n  choiceLabels: ri!selectedField.extraConfigurations.configurations.type.label,\n  choiceValues: ri!selectedField.extraConfigurations.configurations.type,\n  value: ri!selectedExtraConfigs,\n  disabled: not(\n    a!defaultValue(\n      ri!isValid,\n      true\n    )\n  ),\n  saveInto: {\n    a!save(\n      ri!selectedExtraConfigs,\n      save!value\n    ),\n    a!save(\n      ri!fieldPathJson,\n      #\"SYSTEM_SYSRULES_toJson_v1\"(\n        value:rule!CMGT_Automation_constructSavedFieldMapping(\n          selectedField: ri!selectedField,\n          selectedExtraConfigs: ri!selectedExtraConfigs\n        )\n      )\n    ),\n    a!save(\n      ri!valueType,\n      \"RecordType\"\n    ),\n    a!save(\n      ri!isValid,\n      true\n    ),\n    a!save(\n      ri!valueJson,\n      null\n    ),\n\n  },\n  required: true,\n  requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n    #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:cfd938d0-1c74-423e-89ee-f71a530aaec0\"\n  ),\n  validationGroup: ri!validationGroup\n)"
    },
    "_a-0000ed49-63d5-8000-9d3e-011c48011c48_3612864": {
      "name": "CMGT_WFL_EmailTemplate_Details",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n  contents: {\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: #\"SYSTEM_SYSRULES_textField\"(\n            label: #\"urn:appian:translation-string:v1:fe962919-107c-4fbe-b95f-53eef9152c9f\",\n            labelPosition: \"ABOVE\",\n            value: ri!emailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.templateName],\n            saveInto: ri!emailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.templateName],\n            characterLimit: cons!CMGT_INT_MAX_CHAR_LIMIT_MEDIUM,\n            required: true,\n            requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n              #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:fe962919-107c-4fbe-b95f-53eef9152c9f\"\n            )\n          ),\n\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}, width: \"NARROW\"),\n        #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}),\n\n      }\n    ),\n    #\"SYSTEM_SYSRULES_textField\"(\n      label: #\"urn:appian:translation-string:v1:0238b081-2003-447d-9ddc-7d2e03c1b756\",\n      labelPosition: \"ABOVE\",\n      value: ri!emailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.subject],\n      saveInto: ri!emailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.subject],\n      characterLimit: cons!CMGT_INT_MAX_CHAR_LIMIT_MEDIUM,\n      required: true,\n      requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n        #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:0238b081-2003-447d-9ddc-7d2e03c1b756\"\n      )\n    ),\n    rule!CMGT_UTIL_RichTextField(\n      label: #\"urn:appian:translation-string:v1:8af4d705-f521-4a97-a2b3-0eb63aff4217\",\n      labelPosition: \"ABOVE\",\n      value: ri!emailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.body],\n      maxSize: cons!CMGT_INT_MAX_CHAR_LIMIT_EXTRA_LARGE,\n      required: true,\n      requiredMessage: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n        #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:8af4d705-f521-4a97-a2b3-0eb63aff4217\"\n      )\n    ),\n    #\"SYSTEM_SYSRULES_fileUploadField_v1\"(\n      label: #\"urn:appian:translation-string:v1:83b3fbbe-7b13-4700-97e6-d9c1c99d26a9\",\n      labelPosition: \"ABOVE\",\n      target: cons!CMGT_WFL_FLD_EMAIL_TEMPLATE_ATTACHMENTS,\n      value: index(\n        rule!CMGT_UTIL_Filter(\n          records: ri!emailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateAttachments],\n          field: recordType!CMGT_WFL_CFG_EmailTemplateAttachments.isActive,\n          value: true\n        ),\n        recordType!CMGT_WFL_CFG_EmailTemplateAttachments.appianDocumentId,\n        null()\n      ),\n      saveInto: {\n        a!save(\n          ri!emailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateAttachments],\n          a!localVariables(\n            local!allExistingEmailAttachments: rule!CMGT_UTIL_Filter(\n              records: ri!emailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateAttachments],\n              field: recordType!CMGT_WFL_CFG_EmailTemplateAttachments.emailTemplateAttachmentId,\n              value: null,\n              filterType: \"REJECT\"\n            ),\n            local!newEmailAttachments: #\"SYSTEM_SYSRULES_forEach\"(\n              items: difference(\n                tointeger(save!value),\n                tointeger(\n                  local!allExistingEmailAttachments[recordType!CMGT_WFL_CFG_EmailTemplateAttachments.appianDocumentId]\n                )\n              ),\n              expression: a!localVariables(\n                local!documentContent: property(\n                  property(\n                    #\"SYSTEM_SYSRULES_fileUploadField_v1\"(value:fv!item),\n                    \"contents\",\n                    null\n                  ),\n                  \"value\",\n                  null\n                ),\n                local!documentSize: property(\n                  local!documentContent,\n                  \"fileSizeDisplay\",\n                  null\n                ),\n                local!documentExtension: property(local!documentContent, \"extension\", null),\n                local!documentName: property(local!documentContent, \"name\", null),\n                recordType!CMGT_WFL_CFG_EmailTemplateAttachments(\n                  recordType!CMGT_WFL_CFG_EmailTemplateAttachments.emailTemplateId: ri!emailTemplate[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateId],\n                  recordType!CMGT_WFL_CFG_EmailTemplateAttachments.appianDocumentId: fv!item,\n                  recordType!CMGT_WFL_CFG_EmailTemplateAttachments.fullName: local!documentName,\n                  recordType!CMGT_WFL_CFG_EmailTemplateAttachments.sizeDisplay: local!documentSize,\n                  recordType!CMGT_WFL_CFG_EmailTemplateAttachments.extension: local!documentExtension,\n                  recordType!CMGT_WFL_CFG_EmailTemplateAttachments.extensionIcon: rule!CMGT_Document_IconLogic(local!documentExtension[1]),\n                  recordType!CMGT_WFL_CFG_EmailTemplateAttachments.isActive: true\n                )\n              )\n            ),\n            local!deletedAttachmentsDocIds: difference(\n              tointeger(\n                local!allExistingEmailAttachments[recordType!CMGT_WFL_CFG_EmailTemplateAttachments.appianDocumentId]\n              ),\n              tointeger(save!value)\n            ),\n            local!deletedEmailAttachments: if(\n              rule!CMGT_UTIL_IsNotBlank(local!deletedAttachmentsDocIds),\n              #\"urn:appian:function:v1:a:update\"(\n                rule!CMGT_UTIL_Filter(\n                  records: local!allExistingEmailAttachments,\n                  field: recordType!CMGT_WFL_CFG_EmailTemplateAttachments.appianDocumentId,\n                  value: local!deletedAttachmentsDocIds\n                ),\n                recordType!CMGT_WFL_CFG_EmailTemplateAttachments.isActive,\n                false()\n              ),\n              null()\n            ),\n            local!unmodifiedAttachmentDocsIds: difference(\n              tointeger(\n                local!allExistingEmailAttachments[recordType!CMGT_WFL_CFG_EmailTemplateAttachments.appianDocumentId]\n              ),\n              tointeger(\n                local!deletedEmailAttachments[recordType!CMGT_WFL_CFG_EmailTemplateAttachments.appianDocumentId]\n              )\n            ),\n            local!unmodifiedEmailAttachments: rule!CMGT_UTIL_Filter(\n              records: local!allExistingEmailAttachments,\n              field: recordType!CMGT_WFL_CFG_EmailTemplateAttachments.appianDocumentId,\n              value: local!unmodifiedAttachmentDocsIds\n            ),\n            /*Flatten back the maps we modified*/\n            rule!CMGT_UTIL_RejectBlank(\n              a!flatten(\n                {\n                  local!deletedEmailAttachments,\n                  local!unmodifiedEmailAttachments,\n                  local!newEmailAttachments\n                }\n              )\n            )\n          )\n        )\n      },\n      validations: {\n        if(\n          sum(fv!files.size) > 10000000,\n          #\"urn:appian:translation-string:v1:a1087a9c-a240-49a1-9c4b-0bad6508d7e7\",\n          \"\"\n        ),\n        if(\n          contains(upper(fv!files.extension), \"EXE\"),\n          #\"urn:appian:translation-string:v1:5c813578-8c25-4776-ab40-324949c19c6b\"(\n            #\"urn:appian:translation-variable:v1:35c1a6e6-523c-4c14-8060-a99ae8ad0c95\": joinarray(\n              index(\n                fv!files,\n                \"name\",\n                wherecontains(\"EXE\", upper(fv!files.extension))\n              ),\n              \", \"\n            )\n          ),\n          \"\"\n        )\n      }\n    )\n  }\n)"
    },
    "_a-0000e99c-1217-8000-9ba9-011c48011c48_52143": {
      "name": "CMGT_UTIL_ValidateEmail",
      "type": "Expression Rule",
      "sail_code": "/*  Email Address Validation for Appian 7+  */\n/*  Allows the 'name' to contain letters, numbers, plus period and special characters: _ - + ' & %  */\n/*  Allows the 'domain' to contain only letters, numbers, period and dash.  */\n/*When the case is created from the portal and if that email is used for account creation, only then below validation should be displayed in portal else existing validation should be displayed\nPlease enter a valid email address. Email address may only contain letters, numbers, and the following special characters: @ . _ - */\na!localVariables(\n  local!validationMessage: #\"urn:appian:translation-string:v1:b90bb29b-f3c4-4405-a032-741e69f0ed63\",\n  if(\n    a!isNullOrEmpty(ri!textInput),\n    null,\n    a!localVariables(\n      local!localPart: index(split(trim(ri!textInput), \"@\"), 1, {}),\n      local!domainPart: index(split(trim(ri!textInput), \"@\"), 2, {}),\n      {\n        if(\n          or(\n            len(trim(ri!textInput)) > 255,\n            length(split(trim(ri!textInput), \" \")) > 1,\n            count(split(ri!textInput, \"@\")) <> 2\n          ),\n          local!validationMessage,\n          if(\n            or(\n              length(split(local!domainPart, \".\")) < 2,\n              contains(split(local!localPart, \".\"), \"\"),\n              contains(split(local!domainPart, \".\"), \"\"),\n            ),\n            local!validationMessage,\n            null\n          )\n        )\n      }\n    )\n  )\n)"
    },
    "_a-0000ed5b-d85c-8000-9d42-011c48011c48_3693313": {
      "name": "CMGT_Sub_EmailTemplateAttachments_SummaryDisplay",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!richTextItems: {\n    /*email template attachments*/\n    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n      text: a!defaultValue(\n        ri!attachment[recordType!CMGT_EmailTemplateAttachments.fullName],\n        ri!cfgAttachment[recordType!CMGT_WFL_CFG_EmailTemplateAttachments.fullName]\n      ),\n      link: if(\n        ri!isShowNoLink,\n        null,\n        #\"SYSTEM_SYSRULES_documentDownloadLink\"(\n          document: ri!attachment[recordType!CMGT_EmailTemplateAttachments.appianDocumentId]\n        ),\n\n      ),\n      color: if(\n        ri!doNoColoring,\n        null,\n        a!defaultValue(\n          ri!linkColor,\n          ri!brandingMap.AccentColor\n        )\n      ),\n      style: a!defaultValue(ri!nameStyle, \"PLAIN\"),\n      linkStyle: \"STANDALONE\",\n      size: a!defaultValue(ri!size, \"STANDARD\")\n    ),\n    /*type and size*/\n    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n      text: {\n        a!defaultValue(\n          ri!attachment[recordType!CMGT_EmailTemplateAttachments.sizeDisplay],\n          ri!cfgAttachment[recordType!CMGT_WFL_CFG_EmailTemplateAttachments.sizeDisplay]\n        )\n      },\n      color: if(\n        ri!doNoColoring,\n        null,\n        a!defaultValue(\n          ri!sizeAndExtensionColor,\n          ri!brandingMap.SecondaryTextColor\n        )\n      ),\n      size: a!defaultValue(ri!size, \"SMALL\")\n    ),\n    /*created on and by*/\n    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n      text: {\n        #\"urn:appian:translation-string:v1:4d275ec1-1668-4931-8cb0-d98659946f9e\"(\n          #\"urn:appian:translation-variable:v1:d81439e1-2f47-4876-ba7e-558207d3f9e2\": rule!CMGT_UTIL_FormatDateTime(\n            dateTime: ri!attachment[recordType!CMGT_EmailTemplateAttachments.createdOn]\n          ),\n          #\"urn:appian:translation-variable:v1:0d790051-dbdb-4b06-a22d-793703034e08\": rule!CMGT_UTIL_DisplayUser(\n            user: ri!attachment[recordType!CMGT_EmailTemplateAttachments.createdBy],\n            userRecord: ri!attachment[recordType!CMGT_EmailTemplateAttachments.createdByUser]\n          )\n        )\n      },\n      color: if(\n        ri!doNoColoring,\n        null,\n        ri!brandingMap.SecondaryTextColor\n      ),\n      size: a!defaultValue(ri!size, \"SMALL\")\n    )\n  },\n  if(\n    ri!isSingleRichTextField,\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Document Details\"),\n      labelPosition: \"COLLAPSED\",\n      value: #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!richTextItems,\n        expression: { fv!item, char(10) }\n      )\n    ),\n    local!richTextItems\n  )\n)"
    },
    "_a-0000ec7e-4d3b-8000-9ce6-011c48011c48_2997534": {
      "name": "CMGT_Document_IconColorLogic",
      "type": "Expression Rule",
      "sail_code": "a!match(\n  value: lower(ri!documentExtension),\n  /* red4*/\n  equals: \"pdf\",\n  then: ri!brandingMap.NegativeTextColor,\n  equals: \"img\",\n  equals: \"png\",\n  equals: \"mov\",\n  equals: \"jpg\",\n  /* red3*/\n  then: ri!brandingMap.NegativeAccentColor,\n  equals: \"xlsx\",\n  equals: \"xls\",\n  equals: \"xlsm\",\n  /* green4*/\n  then: ri!brandingMap.PositiveTextColor,\n  equals: \"ppt\",\n  equals: \"pptx\",\n  /* orange3*/\n  then: ri!brandingMap.TaskStatusInProgressAccentColor,\n  equals: \"doc\",\n  equals: \"docx\",\n  equals: \"txt\",\n  equals: \"properties\",\n  /* blue3*/\n  then: ri!brandingMap.InfoAccentColor,\n  default: ri!brandingMap.SecondaryTextColor\n)"
    },
    "_a-0000ed12-0330-8000-9d27-011c48011c48_3488853": {
      "name": "CMGT_WFL_TaskAction_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!taskAction,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_TaskActions.modifiedOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_TaskActions.modifedBy,\n        value: ri!initiator\n      )\n    },\n    /*Only modify these fields if they are currently null*/\n    neverOverwrite: {\n      a!map(\n        field:recordType!CMGT_WFL_CFG_TaskActions.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_TaskActions.createdOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_TaskActions.isActive,\n        value: true\n      )\n    },\n    childRelationships: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_TaskActions.associatedAssignmentRule,\n        value: rule!CMGT_WFL_AssociatedAssignmentRule_SetMetaData(\n          assignmentRules: fv!item[recordType!CMGT_WFL_CFG_TaskActions.associatedAssignmentRule],\n          initiator: ri!initiator\n        )\n      ),\n      \n    }\n  )\n)"
    },
    "_a-0000eb2c-b6af-8000-9c5d-011c48011c48_1476001": {
      "name": "CMGT_UTIL_DisplayBranding",
      "type": "Expression Rule",
      "sail_code": "/*\nNote that because a forEach that loops over a single item is significantly less performant than just calling the thing,\nwe only want to use forEach here if multiple keys are passed, since this rule is used on every text on every interface\n(many calls per page load).\n\nRather than create a separate rule that just adds to rule sprawl, we just commented the common blocks of identical code.\nUpdates to either one should be reflected in the other.\n*/\na!localVariables(\n  /*Using this to avoid re-evaluation on page interaction*/\n  local!output: cast(\n    /*Always ensure the key is returned as the same list-type of the input, especially for null/empty keys*/\n    runtimetypeof(ri!key),\n    if(\n      a!isNullOrEmpty(ri!key),\n      {},\n      if(\n        count(a!flatten(ri!key)) = 1,\n        a!localVariables(\n          local!key: a!flatten(ri!key)[1],\n          /*START OF COMMON CODE*/\n          local!rawLabel:a!defaultValue(ri!brandingMap[local!key], local!key),\n          /*END OF COMMON CODE*/\n          local!rawLabel\n        ),\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!key,\n          expression: a!localVariables(\n            local!key: fv!item,\n            /*START OF COMMON CODE*/\n            local!rawLabel: a!defaultValue(ri!brandingMap[local!key], local!key),\n            \n            /*END OF COMMON CODE*/\n            local!rawLabel\n          )\n        )\n      )\n    )\n  ),\n  local!output\n)"
    },
    "_a-0000eb32-20f6-8000-9c60-011c48011c48_1532719": {
      "name": "CMGT_UTIL_sortList",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!records),\n  if(\n    a!isNullOrEmpty(ri!field),\n    ri!records,\n    with(\n      local!dataSortedByField: todatasubset(\n        ri!records,\n        #\"SYSTEM_SYSRULES_pagingInfo\"(\n          startIndex: 1,\n          batchSize: - 1,\n          sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n            field: ri!field,\n            ascending: a!defaultValue(ri!ascending, true)\n          )\n        )\n      ).data,\n      if(\n        a!isNullOrEmpty(ri!nullsFirst),\n        local!dataSortedByField,\n        with(\n          local!nullsAggregated: rule!CMGT_UTIL_Filter(\n            records: local!dataSortedByField,\n            field: ri!field,\n            value: null,\n            filterType: \"FULL_RESULT\"\n          ),\n          if(\n            ri!nullsFirst,\n            append(\n              local!nullsAggregated.matches,\n              local!nullsAggregated.rejects\n            ),\n            append(\n              local!nullsAggregated.rejects,\n              local!nullsAggregated.matches\n            )\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000ec97-0cde-8000-9cec-011c48011c48_3058161": {
      "name": "CMGT_WFL_Condition_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!conditions,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {\n      a!map(\n        field:recordType!CMGT_CFG_Condition.modifiedOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_CFG_Condition.modifiedBy,\n        value: ri!initiator\n      )\n    },\n    /*Only modify these fields if they are currently null*/\n    neverOverwrite: {\n      a!map(\n        field:recordType!CMGT_CFG_Condition.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field:recordType!CMGT_CFG_Condition.createdOn,\n        value: now()\n      ),\n      a!map(\n        field:recordType!CMGT_CFG_Condition.isActive,\n        value: true\n      ),\n      a!map(\n        field:recordType!CMGT_CFG_Condition.isValid,\n        value: true\n      )\n    }\n  )\n)"
    },
    "_a-0000ed12-0330-8000-9d27-011c48011c48_3488873": {
      "name": "CMGT_WFL_AssociatedAssignmentRule_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!assignmentRules,\n  expression: a!localVariables(\n    local!originalAssignmentRule: rule!CMGT_WFL_CFG_CaseAssignment_QR_getAssignmentRule(\n      returnType: \"SINGLE_OBJECT\",\n      assignmentRuleId: fv!item[recordType!CMGT_CFG_AssignmentRules.assignmentRuleId],\n      returnAllRelatedRecords: true\n    ),\n    rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_CFG_AssignmentRules.modifiedOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_CFG_AssignmentRules.modifedBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_CFG_AssignmentRules.assignmentVersion,\n        value: if(\n          a!isNullOrEmpty(\n            fv!item[recordType!CMGT_CFG_AssignmentRules.assignmentRuleId]\n          ),\n          1,\n          a!localVariables(\n            local!originalGroup: index(\n              #\"SYSTEM_SYSRULES_fromJson_v1\"(\n                local!originalAssignmentRule[recordType!CMGT_CFG_AssignmentRules.assignmentJson]\n              ),\n              \"groups\",\n              \"id\",\n              null\n            ),\n            local!currentGroup: index(\n              #\"SYSTEM_SYSRULES_fromJson_v1\"(\n                fv!item[recordType!CMGT_CFG_AssignmentRules.assignmentJson]\n              ),\n              \"groups\",\n              \"id\",\n              null\n            ),\n            if(\n              or(\n                tointeger(local!originalGroup) <> tointeger(local!currentGroup),\n                local!originalAssignmentRule[recordType!CMGT_CFG_AssignmentRules.routingType] <> fv!item[recordType!CMGT_CFG_AssignmentRules.routingType]\n              ),\n              local!originalAssignmentRule[recordType!CMGT_CFG_AssignmentRules.assignmentVersion] + 1,\n              local!originalAssignmentRule[recordType!CMGT_CFG_AssignmentRules.assignmentVersion]\n            )\n          )\n        )\n      )\n    },\n    /*Only modify these fields if they are currently null*/\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_CFG_AssignmentRules.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_CFG_AssignmentRules.createdOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_CFG_AssignmentRules.isActive,\n        value: true\n      )\n    },\n    childRelationships: {\n      a!map(\n        field: recordType!CMGT_CFG_AssignmentRules.usersToExclude,\n        value: rule!CMGT_WFL_ExcludedUsers_SetMetaData(\n          excludedUsers: fv!item[recordType!CMGT_CFG_AssignmentRules.usersToExclude],\n          initiator: ri!initiator,\n          originalExcludedUsers: local!originalAssignmentRule[recordType!CMGT_CFG_AssignmentRules.usersToExclude]\n        )\n      ),\n\n    }\n  )\n  )\n)"
    },
    "_a-0000ecf6-527e-8000-9bbc-011c48011c48_59897": {
      "name": "CMGT_CFG_ENUM_ACT_ASSIGN_TASK",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  /*code that is used to help evaluation of what actions needs to be ran*/\n  actionCode: cons!CMGT_CFG_TXT_ACT_ASSIGN_TASK,\n  /*Display text of action type in configuration*/\n  name: #\"urn:appian:translation-string:v1:5f11c5ad-d08d-4d59-86d6-c7464038329c\",\n  /*interface used to configure assignment logic*/\n  configurationRule:rule!CMGT_WFL_AutomationRule_Configure_AssignmentLogic,\n  runtimeConfigurationRule: rule!CMGT_AutomationRule_Configure_AssignmentLogic,\n  configurationDisplayRule: rule!CMGT_WFL_CaseType_Rules_FormatAssignAction,\n  runtimeDisplayRule: rule!CMGT_Case_Rules_FormatAssignAction,\n  /*process to be run to assigne a case*/\n  PmConstant: cons!CMGT_PM_ROLE_MANAGE,\n  /*evaluation rule that runs and outputs the necessary process parameters*/\n  pmParameterEvalRule: rule!CMGT_AUTO_EVAL_TaskAssignment_DetermineProcessParameters,\n  context: cons!CMGT_CFG_TXT_ACT_CONTEXT_TASK,\n  createdBy: \"system\"\n)"
    }
  }
}
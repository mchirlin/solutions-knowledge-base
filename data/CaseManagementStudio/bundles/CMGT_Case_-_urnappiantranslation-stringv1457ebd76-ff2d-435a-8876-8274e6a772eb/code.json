{
  "_metadata": {
    "bundle_id": "CMGT_Case_-_urnappiantranslation-stringv1457ebd76-ff2d-435a-8876-8274e6a772eb"
  },
  "objects": {
    "_a-0000edd3-c29a-8000-9d77-011c48011c48_4202004": {
      "name": "CMGT_UTIL_getRecordTypeUuid",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  ri!recordType.'@attributes'.'uuid'\n)"
    },
    "5c0a03e8-19d5-430b-9444-ac7b91b46d77": {
      "name": "CMGT_EVAL_returnDataForConditionEvaluation",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!studioData: rule!CMGT_QR_getStudioFieldsByCase(case: ri!case),\n  local!caseRecords: rule!CMGT_UTIL_Filter(\n    records: rule!CMGT_AUTO_EVAL_AvailableFieldsCustomizationsWrapper_Case(),\n    field: \"recordType\",\n    value: null,\n    filterType: \"REJECT\"\n  ),\n  local!relatedCaseData: #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!caseRecords,\n    expression: a!map(\n      relationship: fv!item.relationship,\n      data: rule!CMGT_UTIL_QueryRecord(\n        recordType: fv!item.recordType,\n        filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: fv!item.recordCaseField,\n          operator: \"=\",\n          value: ri!case[recordType!CMGT_Case.caseId]\n        )\n      )\n    )\n  ),\n  local!caseData: reduce(\n    rule!CMGT_AUTO_EVAL_ConstructCaseDataForEvaluation_reducer,\n    ri!case,\n    local!relatedCaseData\n  ),\n  local!taskRecords: rule!CMGT_UTIL_Filter(\n    records: rule!CMGT_AUTO_EVAL_AvailableFieldsCustomizationsWrapper_Task(),\n    field: \"recordType\",\n    value: null,\n    filterType: \"REJECT\"\n  ),\n  local!relatedTaskData: #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!taskRecords,\n    expression: a!map(\n      relationship: fv!item.relationship,\n      data: rule!CMGT_UTIL_QueryRecord(\n        recordType: fv!item.recordType,\n        filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: fv!item.recordTaskField,\n          operator: \"=\",\n          value: ri!task[recordType!CMGT_Task.taskId]\n        )\n      )\n    )\n  ),\n  local!taskData:reduce(\n    rule!CMGT_AUTO_EVAL_ConstructTaskDataForEvaluation_reducer,\n    ri!task,\n    local!relatedTaskData\n  ),\n  a!map(\n    studioData: local!studioData,\n    caseData: local!caseData,\n    taskData: local!taskData\n  )\n)"
    },
    "_a-0000eea8-05c2-8000-9db5-011c48011c48_4810878": {
      "name": "CMGT_SMS_AI_SearchHistory_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!searchHistory,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_SMS_AI_SearchHistory.modifiedOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_SMS_AI_SearchHistory.modifiedBy,\n        value: ri!initiator\n      )\n    },\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_SMS_AI_SearchHistory.isActive,\n        value: true()\n      ),\n      a!map(\n        field: recordType!CMGT_SMS_AI_SearchHistory.createdOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_SMS_AI_SearchHistory.createdBy,\n        value: ri!initiator\n      )\n    }\n  )\n)"
    },
    "_a-0000eb8b-ef8d-8000-9c85-011c48011c48_1945380": {
      "name": "CMGT_WFL_FormatTaskDetails",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!seperator: if(\n    ri!showInSeperateLine,\n    char(10),\n    char(32)\n  ),\n  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n    label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Task Identitifer\"),\n    labelPosition: \"COLLAPSED\",\n    value: {\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: ri!nameLabel & char(10),\n        showWhen: a!isNotNullOrEmpty(ri!nameLabel),\n        size: \"MEDIUM\"\n      ),\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: concat(\n          #\"urn:appian:translation-string:v1:47c0f678-c7ec-47ad-ac82-1751a615f89c\"(\n            #\"urn:appian:translation-variable:v1:9162e0ba-fea7-496d-8944-cd3d29902607\": rule!CMGT_UTIL_FormatDateTime(\n              dateTime: ri!lastUpdatedTimestamp,\n              includeTime: false\n            )\n          ),\n          char(10),\n          char(10)\n        ),\n        showWhen: a!isNotNullOrEmpty(ri!lastUpdatedTimestamp),\n        color: ri!brandingMap.SecondaryTextColor,\n\n      ),\n      #\"SYSTEM_SYSRULES_richTextIcon\"(\n        icon: ri!taskBehaviorType[recordType!CMGT_CFG_TaskBehaviorType.icon],\n        color: ri!brandingMap.StandardTextColor,\n        size: \"STANDARD\",\n        showWhen: ri!showTaskBehaviorTypeIcon\n      ),\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: char(32),\n        showWhen: ri!showTaskBehaviorTypeIcon\n      ),\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: {\n          ri!taskBehaviorType[recordType!CMGT_CFG_TaskBehaviorType.label]\n        },\n        color: if(\n          tointeger(ri!taskBehaviorType[recordType!CMGT_CFG_TaskBehaviorType.taskBehaviorTypeId]) = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n          ri!brandingMap.InfoAccentColor,\n          ri!brandingMap.StandardTextColor\n        ),\n        size: \"SMALL\"\n      ),\n      local!seperator,\n      #\"SYSTEM_SYSRULES_richTextIcon\"(\n        icon: \"arrow-right\",\n        color: ri!brandingMap.SecondaryTextColor,\n        altText: #\"urn:appian:translation-string:v1:6fa1bc00-eaf5-45d0-966b-16d2a592ccaf\",\n        size: \"SMALL\",\n        caption: ri!dependents,\n        showWhen: and(\n          ri!showDependents,\n          ri!countOfDependents > 0\n        )\n      ),\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: {\n          \" \",\n          concat(\n            #\"urn:appian:translation-string:v1:0b9b52cc-25f5-4444-90b3-6d70a4491713\",\n            \" \",\n            ri!countOfDependents,\n            \" \",\n            if(\n              ri!countOfDependents = 1,\n              #\"urn:appian:translation-string:v1:f840e77d-0aae-4eeb-b795-0394d8bff5b4\",\n              #\"urn:appian:translation-string:v1:7178a955-6103-460e-8886-24c185dc3faf\"\n            )\n          ),\n          \" \"\n        },\n        color: ri!brandingMap.SecondaryTextColor,\n        size: \"SMALL\",\n        showWhen: and(\n          ri!showDependents,\n          ri!countOfDependents > 0\n        )\n      ),\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: {\n          if(\n            ri!showSlaDays,\n            {\n              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                icon: \"clock-o\",\n                altText: #\"urn:appian:translation-string:v1:9f41e6f7-45b5-4350-af35-58bf2b3af4eb\"\n              ),\n              \" \",\n              {\n                /*Adding conditions to check whether the value is 0,If so consider as empty*/\n                if(\n                  rule!CMGT_UTIL_isEmptySLA(ri!slaDays),\n                  cons!CMGT_TXT_EMPTY_VALUE,\n                  {\n                    rule!CMGT_WFL_FormatSLADisplay(slaMap: ri!slaDays),\n\n                  }\n                ),\n\n              },\n              \" \",\n\n            },\n            {}\n          ),\n          if(\n            a!defaultValue(ri!showGroupAssignee, true),\n            {\n              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                icon: \"group\",\n                altText: #\"urn:appian:translation-string:v1:64bf7660-8738-4162-81c8-166d776a7324\"\n              ),\n              \" \",\n              if(\n                rule!CMGT_UTIL_IsBlank(ri!defaultGroupAssignee),\n                cons!CMGT_TXT_EMPTY_VALUE,\n                group(ri!defaultGroupAssignee, \"groupName\")\n              )\n            },\n            {}\n          )\n        },\n        color: ri!brandingMap.SecondaryTextColor,\n        size: \"SMALL\"\n      )\n    },\n    marginBelow: \"NONE\"\n  )\n)"
    },
    "_a-0000e9ae-873e-8000-9baf-011c48011c48_89716": {
      "name": "CMGT_UTIL_CalendarField",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!daysOfWeek: {\n    #\"urn:appian:translation-string:v1:54e17271-ff88-44b6-bdbb-6757ac512213\",\n    #\"urn:appian:translation-string:v1:6496e4b9-1e17-43e5-a14e-74a659193405\",\n    #\"urn:appian:translation-string:v1:ac2f886c-8ad6-4726-8823-8d9c51d84e8e\",\n    #\"urn:appian:translation-string:v1:e67fbbe8-bb1b-4fe4-a68b-0bfc0cb9123b\",\n    #\"urn:appian:translation-string:v1:ef35d9ec-d068-429d-8e8f-6ef947b5ba5f\",\n    #\"urn:appian:translation-string:v1:581a7892-c388-4a0d-b7a9-9b9347700100\",\n    #\"urn:appian:translation-string:v1:bdda4113-30a7-4f47-af99-d71b9d3e5665\"\n  },\n  local!monthDates: rule!CMGT_UTIL_CalendarField_GetMonthDates(startDate: ri!firstDate),\n  local!numOfWeeks: if(\n    a!isNullOrEmpty(local!monthDates),\n    0,\n    length(local!monthDates) / 7\n  ),\n  local!currentYear: year(ri!firstDate),\n  local!currentMonth: month(ri!firstDate),\n  local!currentDay: day(ri!firstDate),\n  local!selectableDays: if(\n    rule!CMGT_UTIL_IsNotBlank(ri!selectableDates),\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!selectableDates,\n      expression: rule!CMGT_UTIL_GetDateFromDateTime(\n        dateTimeValue: fv!item,\n        convertToSystemTimeZone: false\n      )\n    ),\n    todate(null)\n  ),\n  {\n    #\"SYSTEM_SYSRULES_cardLayout\"(\n      contents: {\n        #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n          items: {\n            #\"SYSTEM_SYSRULES_sideBySideItem\"(width: \"MINIMIZE\"),\n            /*Month and year label*/\n            #\"SYSTEM_SYSRULES_sideBySideItem\"(\n              item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                labelPosition: \"COLLAPSED\",\n                value: {\n                  #\"SYSTEM_SYSRULES_richTextHeader\"(\n                    text: {\n                      text(\n                        date(\n                          local!currentYear,\n                          local!currentMonth,\n                          local!currentDay\n                        ),\n                        \"mmmm yyyy\"\n                      )\n                    },\n                    size: \"SMALL\"\n                  )\n                }\n              )\n            ),\n            /*Navigation icon*/\n            #\"SYSTEM_SYSRULES_sideBySideItem\"(\n              item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                labelPosition: \"COLLAPSED\",\n                value: {\n                  #\"SYSTEM_SYSRULES_richTextIcon\"(\n                    icon: \"angle-left\",\n                    altText: #\"urn:appian:translation-string:v1:5e14ef93-fcae-46cf-ab0b-2f508681b1d3\",\n                    /*restrict user navigating to previous month*/\n                    link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                      saveInto: {\n                        if(\n                          local!currentMonth = 1,\n                          /*If current month is January, have to decrease the year, set month to Dec (12), and set day to the 1st (1)*/\n                          a!save(\n                            ri!firstDate,\n                            date(local!currentYear - 1, 12, 1)\n                          ),\n                          /*If current month is not January, year is the same, have to decrease the month, and set day to the 1st (1)*/\n                          a!save(\n                            ri!firstDate,\n                            date(\n                              local!currentYear,\n                              local!currentMonth - 1,\n                              1\n                            )\n                          )\n                        )\n                      }\n                    ),\n                    linkStyle: \"STANDALONE\",\n                    color: \"STANDARD\",\n                    size: \"MEDIUM\"\n                  ),\n                  /*space between paging icons*/\n                  \" \",\n                  #\"SYSTEM_SYSRULES_richTextIcon\"(\n                    icon: \"angle-right\",\n                    altText: #\"urn:appian:translation-string:v1:3a18859f-5a01-447e-97a1-b32f15c381ea\",\n                    /*user shouldn't be able to navigate beyond the max case due date month */\n                    /*eg: last case due month is on november, user shouldn't be able to navigate after november*/\n                    link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                      saveInto: {\n                        if(\n                          local!currentMonth = 12,\n                          /*If current month is December, have to increment the year, set month to Jan (1), and set day to the 1st (1)*/\n                          a!save(\n                            ri!firstDate,\n                            date(local!currentYear + 1, 1, 1)\n                          ),\n                          /*If current month is not December, year is the same, have to increment the month, and set day to the 1st (1)*/\n                          a!save(\n                            ri!firstDate,\n                            date(\n                              local!currentYear,\n                              local!currentMonth + 1,\n                              1\n                            )\n                          )\n                        )\n                      }\n                    ),\n                    linkStyle: \"STANDALONE\",\n                    color: \"STANDARD\",\n                    size: \"MEDIUM\"\n                  )\n                }\n              ),\n              width: \"MINIMIZE\"\n            ),\n            #\"SYSTEM_SYSRULES_sideBySideItem\"(width: \"MINIMIZE\")\n          },\n          alignVertical: \"MIDDLE\"\n        ),\n        #\"SYSTEM_SYSRULES_gridLayout\"(\n          label: ri!label,\n          labelPosition: \"COLLAPSED\",\n          headerCells: #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!daysOfWeek,\n            expression: #\"SYSTEM_SYSRULES_gridLayoutHeaderCell\"(label: fv!item, align: \"CENTER\")\n          ),\n          columnConfigs: {\n            #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"ICON_PLUS\"),\n            #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"ICON\"),\n            #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"ICON\"),\n            #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"ICON\"),\n            #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"ICON\"),\n            #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"ICON\"),\n            #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"ICON\")\n          },\n          rows: #\"SYSTEM_SYSRULES_forEach\"(\n            items: enumerate(local!numOfWeeks) + 1,\n            expression: #\"SYSTEM_SYSRULES_gridRowLayout\"(\n              contents: {\n                a!localVariables(\n                  local!rowNum: fv!item,\n                  #\"SYSTEM_SYSRULES_forEach\"(\n                    items: local!daysOfWeek,\n                    expression: a!localVariables(\n                      local!date: index(\n                        index(\n                          local!monthDates,\n                          enumerate(7) + 7 * (local!rowNum - 1) + 1,\n                          null\n                        ),\n                        fv!index,\n                        {}\n                      ),\n                      local!isSelectable: contains(local!selectableDays, local!date),\n                      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                        labelPosition: \"COLLAPSED\",\n                        value: {\n                          if(\n                            or(\n                              month(local!date) < local!currentMonth,\n                              month(local!date) > local!currentMonth\n                            ),\n                            {\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(text: \" \"),\n                              char(10),\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"()\n                            },\n                            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                              text: {\n                                day(local!date),\n                                char(10),\n                                if(\n                                  local!isSelectable,\n                                  #\"SYSTEM_SYSRULES_richTextIcon\"(\n                                    icon: if(\n                                      local!date = ri!selectedDate,\n                                      \"circle\",\n                                      \"circle-o\"\n                                    ),\n                                    size: \"SMALL\",\n                                    altText: a!match(\n                                      value: local!date,\n                                      equals: ri!selectedDate,\n                                      then: #\"urn:appian:translation-string:v1:bba99ad4-c088-4129-aaa7-bd8561f12981\",\n                                      whenTrue: local!isSelectable,\n                                      then: #\"urn:appian:translation-string:v1:56face77-2026-4ac3-b5db-fce74bc46165\",\n                                      default: null()\n                                    )\n                                  ),\n                                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(text: \" \")\n                                )\n                              },\n                              link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                                saveInto: {\n                                  a!save(\n                                    ri!selectedDate,\n                                    if(\n                                      local!date = ri!selectedDate,\n                                      null,\n                                      local!date\n                                    )\n                                  )\n                                },\n                                showWhen: local!isSelectable\n                              ),\n                              linkStyle: \"STANDALONE\",\n                              color: \"STANDARD\",\n                              style: if(\n                                local!date = ri!selectedDate,\n                                \"STRONG\",\n                                \"PLAIN\"\n                              )\n                            )\n                          )\n                        },\n                        align: \"CENTER\"\n                      )\n                    )\n                  )\n                )\n              }\n            )\n          ),\n          shadeAlternateRows: true,\n          borderStyle: \"LIGHT\"\n        ),\n        #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          value: {\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: #\"urn:appian:translation-string:v1:bb35dd48-fc7e-4d13-a480-deb04257d520\",\n              link: #\"SYSTEM_SYSRULES_dynamicLink\"(saveInto: a!save(ri!selectedDate, null)),\n              linkStyle: \"STANDALONE\"\n            ),\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(text: \" \")\n          },\n          showWhen: a!isNotNullOrEmpty(ri!selectedDate),\n          align: \"RIGHT\",\n          marginAbove: \"NONE\",\n          marginBelow: \"NONE\"\n        )\n      },\n      height: \"AUTO\",\n      style: \"TRANSPARENT\",\n      padding: \"NONE\",\n      marginAbove: \"STANDARD\",\n      marginBelow: \"NONE\",\n      showBorder: false,\n      showShadow: false\n    )\n  }\n)"
    },
    "_a-0000ee70-a572-8000-9d9f-011c48011c48_4655788": {
      "name": "CMGT_KB_ResourcesCardDisplayWrapper",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!searchTerm,\n  local!searchTermTemp,\n  local!showUnpublished: true(),\n  local!isCurrentLevelAllCases: tostring(ri!currentLevelSelected) = #\"urn:appian:translation-string:v1:3807a409-6086-4767-8e1b-dd26b980ff5f\",\n  /*Query to Handle the BatchSize of Custom Paging*/\n  local!allAvailableResources: rule!CMGT_KB_QR_GetResources(\n    returnType: \"OBJECT_ARRAY\",\n    triggerRefresh: ri!triggerRefresh,\n    searchTerm: local!searchTerm,\n    fields: {\n      recordType!CMGT_KB_Resource.document,\n      recordType!CMGT_KB_Resource.caseType\n    },\n    searchFields: {\n      recordType!CMGT_KB_Resource.title,\n      recordType!CMGT_KB_Resource.resourceText.plainText,\n      recordType!CMGT_KB_Resource.modifiedBy,\n      #\"urn:appian:record-field:v1:462e1408-1c19-4591-b946-fce9233909ce/20381804-6324-459c-8688-d93a850ce2ab/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\",\n      #\"urn:appian:record-field:v1:462e1408-1c19-4591-b946-fce9233909ce/07608b0d-8089-4216-a3e1-a3cb646c086f/9b6a045d-e2da-4963-a8c7-f7833625e811/SYSTEM_RECORD_TYPE_DOCUMENT_FIELD_name\",\n      #\"urn:appian:record-field:v1:462e1408-1c19-4591-b946-fce9233909ce/07608b0d-8089-4216-a3e1-a3cb646c086f/9b6a045d-e2da-4963-a8c7-f7833625e811/SYSTEM_RECORD_TYPE_DOCUMENT_FIELD_description\"\n    },\n    additionalFilters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_KB_Resource.status,\n        operator: \"=\",\n        value: #\"urn:appian:translation-string:v1:c46d69c3-d638-48ac-abee-bfc4414a30cf\",\n        applyWhen: toboolean(local!showUnpublished) <> true()\n      )\n    },\n    additionalLogicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n      operator: \"OR\",\n      filters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_KB_Resource.caseTypeUuid,\n          operator: \"is null\"\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_KB_Resource.caseTypeUuid,\n          operator: \"in\",\n          value: {\n            ri!selectedCaseTypeUuid,\n            ri!selectedCaseType[recordType!CMGT_CFG_CaseType.parentUuid]\n          }\n        )\n      }\n    ),\n    pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n      startIndex: 1,\n      batchSize: cons!CMGT_INT_BATCH_SIZE_MAX,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_KB_Resource.modifiedOn,\n        ascending: false\n      )\n    )\n  ),\n  local!numberOfAllCaseResources: length(\n    {\n      rule!CMGT_UTIL_Filter(\n        records: local!allAvailableResources,\n        field: recordType!CMGT_KB_Resource.caseType.isCategory,\n        value: { true, false },\n        filterType: \"REJECT\"\n      )\n    }\n  ),\n  local!numberOfCaseCategoryResources: length(\n    {\n      rule!CMGT_UTIL_Filter(\n        records: local!allAvailableResources,\n        field: recordType!CMGT_KB_Resource.caseType.isCategory,\n        value: true\n      )\n    }\n  ),\n  local!numberOfCaseTypeResources: length(\n    {\n      rule!CMGT_UTIL_Filter(\n        records: local!allAvailableResources,\n        field: recordType!CMGT_KB_Resource.caseType.isCategory,\n        value: false\n      )\n    }\n  ),\n  local!allCasesBatchSize: if(\n    or(\n      local!isCurrentLevelAllCases,\n      and(\n        ri!currentLevelSelected = ri!displayConfigs.hierarchyLevel[2],\n        local!numberOfCaseCategoryResources = 0\n      ),\n      and(\n        ri!currentLevelSelected = ri!displayConfigs.hierarchyLevel[3],\n        local!numberOfCaseCategoryResources = 0,\n        local!numberOfCaseTypeResources = 0\n      )\n    ),\n    cons!CMGT_KB_INT_BATCH_SIZE_MEDIUM_PLUS,\n    cons!CMGT_KB_INT_BATCH_SIZE_SMALL\n  ),\n  local!allCasesPagingInfo: a!refreshVariable(\n    value: #\"SYSTEM_SYSRULES_pagingInfo\"(\n      startIndex: 1,\n      batchSize: local!allCasesBatchSize,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_KB_Resource.modifiedOn,\n        ascending: false\n      )\n    ),\n    refreshOnVarChange: local!searchTerm\n  ),\n  local!allCasesLevelResources: rule!CMGT_KB_QR_GetResources(\n    returnType: \"DATA_SUBSET\",\n    triggerRefresh: ri!triggerRefresh,\n    searchTerm: local!searchTerm,\n    fields: {\n      recordType!CMGT_KB_Resource.document,\n      recordType!CMGT_KB_Resource.caseType\n    },\n    searchFields: {\n      recordType!CMGT_KB_Resource.title,\n      recordType!CMGT_KB_Resource.resourceText.plainText,\n      recordType!CMGT_KB_Resource.modifiedBy,\n      #\"urn:appian:record-field:v1:462e1408-1c19-4591-b946-fce9233909ce/20381804-6324-459c-8688-d93a850ce2ab/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\",\n      #\"urn:appian:record-field:v1:462e1408-1c19-4591-b946-fce9233909ce/07608b0d-8089-4216-a3e1-a3cb646c086f/9b6a045d-e2da-4963-a8c7-f7833625e811/SYSTEM_RECORD_TYPE_DOCUMENT_FIELD_name\",\n      #\"urn:appian:record-field:v1:462e1408-1c19-4591-b946-fce9233909ce/07608b0d-8089-4216-a3e1-a3cb646c086f/9b6a045d-e2da-4963-a8c7-f7833625e811/SYSTEM_RECORD_TYPE_DOCUMENT_FIELD_description\"\n    },\n    additionalFilters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_KB_Resource.status,\n        operator: \"=\",\n        value: #\"urn:appian:translation-string:v1:c46d69c3-d638-48ac-abee-bfc4414a30cf\",\n        applyWhen: toboolean(local!showUnpublished) <> true()\n      )\n    },\n    additionalLogicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n      operator: \"AND\",\n      filters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_KB_Resource.caseTypeUuid,\n          operator: \"is null\"\n        )\n      }\n    ),\n    pagingInfo: local!allCasesPagingInfo\n  ),\n  local!categoryLevelBatchSize: if(\n    or(\n      and(\n        ri!currentLevelSelected = ri!displayConfigs.hierarchyLevel[2],\n        local!numberOfAllCaseResources = 0\n      ),\n      and(\n        ri!currentLevelSelected = ri!displayConfigs.hierarchyLevel[3],\n        local!numberOfAllCaseResources = 0,\n        local!numberOfCaseTypeResources = 0\n      )\n    ),\n    cons!CMGT_KB_INT_BATCH_SIZE_MEDIUM_PLUS,\n    cons!CMGT_KB_INT_BATCH_SIZE_SMALL\n  ),\n  local!categoryLevelPagingInfo: a!refreshVariable(\n    value: #\"SYSTEM_SYSRULES_pagingInfo\"(\n      startIndex: 1,\n      batchSize: local!categoryLevelBatchSize,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_KB_Resource.modifiedOn,\n        ascending: false\n      )\n    ),\n    refreshOnVarChange: local!searchTerm\n  ),\n  local!categoryLevelResources: if(\n    rule!CMGT_UTIL_IsNotBlank(ri!selectedCaseTypeUuid),\n    rule!CMGT_KB_QR_GetResources(\n      returnType: \"DATA_SUBSET\",\n      triggerRefresh: ri!triggerRefresh,\n      searchTerm: local!searchTerm,\n      fields: {\n        recordType!CMGT_KB_Resource.document,\n        recordType!CMGT_KB_Resource.caseType\n      },\n      searchFields: {\n        recordType!CMGT_KB_Resource.title,\n        recordType!CMGT_KB_Resource.resourceText.plainText,\n        recordType!CMGT_KB_Resource.modifiedBy,\n        #\"urn:appian:record-field:v1:462e1408-1c19-4591-b946-fce9233909ce/20381804-6324-459c-8688-d93a850ce2ab/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\",\n        #\"urn:appian:record-field:v1:462e1408-1c19-4591-b946-fce9233909ce/07608b0d-8089-4216-a3e1-a3cb646c086f/9b6a045d-e2da-4963-a8c7-f7833625e811/SYSTEM_RECORD_TYPE_DOCUMENT_FIELD_name\",\n        #\"urn:appian:record-field:v1:462e1408-1c19-4591-b946-fce9233909ce/07608b0d-8089-4216-a3e1-a3cb646c086f/9b6a045d-e2da-4963-a8c7-f7833625e811/SYSTEM_RECORD_TYPE_DOCUMENT_FIELD_description\"\n      },\n      additionalFilters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_KB_Resource.status,\n          operator: \"=\",\n          value: #\"urn:appian:translation-string:v1:c46d69c3-d638-48ac-abee-bfc4414a30cf\",\n          applyWhen: toboolean(local!showUnpublished) <> true()\n        )\n      },\n      additionalLogicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n        operator: \"AND\",\n        filters: {\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_KB_Resource.caseTypeUuid,\n            operator: \"not null\",\n            applyWhen: rule!CMGT_UTIL_IsNotBlank(ri!selectedCaseTypeUuid)\n          ),\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_KB_Resource.caseTypeUuid,\n            operator: \"in\",\n            value: {\n              ri!selectedCaseTypeUuid,\n              ri!selectedCaseType[recordType!CMGT_CFG_CaseType.parentUuid]\n            },\n            applyWhen: rule!CMGT_UTIL_IsNotBlank(ri!selectedCaseTypeUuid)\n          ),\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_KB_Resource.caseType.isCategory,\n            operator: \"=\",\n            value: true(),\n            applyWhen: rule!CMGT_UTIL_IsNotBlank(ri!selectedCaseTypeUuid)\n          )\n        }\n      ),\n      pagingInfo: local!categoryLevelPagingInfo\n    ),\n    null()\n  ),\n  local!caseTypeLevelBatchSize: if(\n    and(\n      ri!currentLevelSelected = ri!displayConfigs.hierarchyLevel[3],\n      local!numberOfAllCaseResources = 0,\n      local!numberOfCaseCategoryResources = 0\n    ),\n    cons!CMGT_KB_INT_BATCH_SIZE_MEDIUM_PLUS,\n    cons!CMGT_KB_INT_BATCH_SIZE_SMALL\n  ),\n  local!caseTypeLevelPagingInfo: a!refreshVariable(\n    value: #\"SYSTEM_SYSRULES_pagingInfo\"(\n      startIndex: 1,\n      batchSize: local!caseTypeLevelBatchSize,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_KB_Resource.modifiedOn,\n        ascending: false\n      )\n    ),\n    refreshOnVarChange: local!searchTerm\n  ),\n  local!caseTypeLevelResources: if(\n    rule!CMGT_UTIL_IsNotBlank(ri!selectedCaseTypeUuid),\n    rule!CMGT_KB_QR_GetResources(\n      returnType: \"DATA_SUBSET\",\n      triggerRefresh: ri!triggerRefresh,\n      searchTerm: local!searchTerm,\n      fields: {\n        recordType!CMGT_KB_Resource.document,\n        recordType!CMGT_KB_Resource.caseType\n      },\n      searchFields: {\n        recordType!CMGT_KB_Resource.title,\n        recordType!CMGT_KB_Resource.resourceText.plainText,\n        recordType!CMGT_KB_Resource.modifiedBy,\n        #\"urn:appian:record-field:v1:462e1408-1c19-4591-b946-fce9233909ce/20381804-6324-459c-8688-d93a850ce2ab/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\",\n        #\"urn:appian:record-field:v1:462e1408-1c19-4591-b946-fce9233909ce/07608b0d-8089-4216-a3e1-a3cb646c086f/9b6a045d-e2da-4963-a8c7-f7833625e811/SYSTEM_RECORD_TYPE_DOCUMENT_FIELD_name\",\n        #\"urn:appian:record-field:v1:462e1408-1c19-4591-b946-fce9233909ce/07608b0d-8089-4216-a3e1-a3cb646c086f/9b6a045d-e2da-4963-a8c7-f7833625e811/SYSTEM_RECORD_TYPE_DOCUMENT_FIELD_description\"\n      },\n      additionalFilters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_KB_Resource.status,\n          operator: \"=\",\n          value: #\"urn:appian:translation-string:v1:c46d69c3-d638-48ac-abee-bfc4414a30cf\",\n          applyWhen: toboolean(local!showUnpublished) <> true()\n        )\n      },\n      additionalLogicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n        operator: \"AND\",\n        filters: {\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_KB_Resource.caseTypeUuid,\n            operator: \"not null\"\n          ),\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_KB_Resource.caseTypeUuid,\n            operator: \"in\",\n            value: { ri!selectedCaseTypeUuid },\n            applyWhen: rule!CMGT_UTIL_IsNotBlank(ri!selectedCaseTypeUuid)\n          ),\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_KB_Resource.caseType.isCategory,\n            operator: \"=\",\n            value: false()\n          )\n        }\n      ),\n      pagingInfo: local!caseTypeLevelPagingInfo\n    ),\n    null()\n  ),\n  local!totalCountOfAllCasesResources: index(\n    local!allCasesLevelResources,\n    \"totalCount\",\n    null()\n  ),\n  local!totalCountOfCategoryLevelResources: index(\n    local!categoryLevelResources,\n    \"totalCount\",\n    null()\n  ),\n  local!totalCountOfCaseTypeLevelResources: index(\n    local!caseTypeLevelResources,\n    \"totalCount\",\n    null()\n  ),\n  #\"SYSTEM_SYSRULES_cardLayout\"(\n    contents: {\n      #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n        items: {\n          /*Search*/\n          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n            item: #\"SYSTEM_SYSRULES_textField\"(\n              label: #\"urn:appian:translation-string:v1:7607e9f5-1e18-4ff8-883a-700b1b6ed238\",\n              labelPosition: \"COLLAPSED\",\n              placeholder: \"Search\",\n              value: local!searchTermTemp,\n              saveInto: {\n                a!save(local!searchTermTemp, trim(save!value)),\n                if(\n                  a!isNullOrEmpty(local!searchTermTemp),\n                  a!save(local!searchTerm, local!searchTermTemp),\n                  {}\n                )\n              },\n              refreshAfter: \"KEYPRESS\",\n              marginAbove: \"EVEN_LESS\",\n              marginBelow: \"NONE\"\n            ),\n            width: \"1X\"\n          ),\n          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n            item: #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n              buttons: {\n                #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                  label: #\"urn:appian:translation-string:v1:7607e9f5-1e18-4ff8-883a-700b1b6ed238\",\n                  saveInto: a!save(local!searchTerm, local!searchTermTemp),\n                  style: \"OUTLINE\",\n                  size: \"SMALL\"\n                )\n              },\n              align: \"START\",\n              marginBelow: \"NONE\",\n              marginAbove: \"EVEN_LESS\"\n            ),\n            width: \"MINIMIZE\"\n          ),\n          /*Add resource record action*/\n          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n            item: #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n              actions: if(\n                a!isNotNullOrEmpty(ri!selectedCaseTypeUuid),\n                #\"SYSTEM_SYSRULES_recordActionItem\"(\n                  action: #\"urn:appian:record-action:v1:82aa3b28-94c2-4d3c-a403-bb813bd76155/faa27aab-0728-4c54-a932-daa98dc7da5b\",\n                  identifier: ri!selectedCaseTypeUuid\n                ),\n                #\"SYSTEM_SYSRULES_recordActionItem\"(\n                  action: #\"urn:appian:record-action:v1:462e1408-1c19-4591-b946-fce9233909ce/42eaf4ed-12b3-4919-88b9-8f34e6a65d3d\"\n                )\n              ),\n              style: \"TOOLBAR_PRIMARY\",\n              display: \"LABEL_AND_ICON\",\n              align: \"END\"\n            ),\n            width: \"2X\"\n          )\n        },\n        marginBelow: \"STANDARD\"\n      ),\n      /*Show Unnpublished Toggle*/\n      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextIcon\"(\n            icon: if(\n              local!showUnpublished,\n              \"toggle-on\",\n              \"toggle-off\"\n            ),\n            color: if(\n              local!showUnpublished,\n              ri!brandingMap.AccentColor,\n              ri!brandingMap.NavigationHighlightColor\n            ),\n            link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n              value: local!showUnpublished,\n              saveInto: {\n                a!save(\n                  local!showUnpublished,\n                  not(local!showUnpublished)\n                ),\n                a!save(ri!triggerRefresh, now())\n              }\n            ),\n            linkStyle: \"STANDALONE\",\n            size: \"MEDIUM\",\n            altText: if(\n              local!showUnpublished,\n              #\"urn:appian:translation-string:v1:d1be97ef-5362-4f3b-aee6-542918496309\",\n              #\"urn:appian:translation-string:v1:2912e702-de09-44db-a6d7-12dbc7bd4550\"\n            )\n          ),\n          char(32),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: #\"urn:appian:translation-string:v1:173f735a-72c6-45fe-b8c7-072109ffb845\",\n            size: \"STANDARD\"\n          )\n        },\n        marginBelow: \"MORE\"\n      ),\n      a!match(\n        value: null,\n        whenTrue: and(\n          a!match(\n            value: ri!currentLevelSelected,\n            equals: ri!displayConfigs.hierarchyLevel[1],\n            /*No Search results on All Cases level*/\n            then: rule!CMGT_UTIL_IsBlank(local!allCasesLevelResources.data),\n            equals: ri!displayConfigs.hierarchyLevel[2],\n            /*No Search results on Category level*/\n            then: and(\n              rule!CMGT_UTIL_IsBlank(local!allCasesLevelResources.data),\n              rule!CMGT_UTIL_IsBlank(local!categoryLevelResources.data)\n            ),\n            equals: ri!displayConfigs.hierarchyLevel[3],\n            /*No Search results on Case Type level*/\n            then: and(\n              rule!CMGT_UTIL_IsBlank(local!allCasesLevelResources.data),\n              rule!CMGT_UTIL_IsBlank(local!categoryLevelResources.data),\n              rule!CMGT_UTIL_IsBlank(local!caseTypeLevelResources.data)\n            ),\n            default: false()\n          )\n        ),\n        /* Empty state */\n        then: #\"SYSTEM_SYSRULES_cardLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(marginBelow: \"EVEN_MORE\"),\n            rule!CMGT_UTIL_DisplayEmptyState(\n              brandingMap: ri!brandingMap,\n              primaryText: #\"urn:appian:translation-string:v1:21d9dfbb-38eb-494f-a759-2c575e3f8b2c\",\n              docImage: cons!CMGT_DOC_IMAGES_NO_RESULTS_ICON,\n              imageSize: \"SMALL\",\n              primaryTextSize: \"MEDIUM\"\n            ),\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(marginBelow: \"EVEN_MORE\"),\n\n          },\n          height: \"EXTRA_TALL\",\n          padding: \"EVEN_MORE\",\n          marginAbove: \"EVEN_MORE\",\n          showBorder: false,\n          style: \"TRANSPARENT\"\n        ),\n        /*Purposely not iterated using a!foreach to simplify the logics behind Search & Custom Paging*/\n        default: {\n          /*All Cases Resources*/\n          rule!CMGT_KB_SUB_ResourcesCardDisplay(\n            hierarchyLevel: ri!displayConfigs.hierarchyLevel[1],\n            brandingMap: ri!brandingMap,\n            resourcesToDisplay: local!allCasesLevelResources.data,\n            selectedResource: ri!selectedResource,\n            numberOfResources: local!totalCountOfAllCasesResources,\n            pagingInfo: local!allCasesPagingInfo,\n            batchSize: local!allCasesBatchSize\n          ),\n          /*Category Level Resources*/\n          rule!CMGT_KB_SUB_ResourcesCardDisplay(\n            hierarchyLevel: ri!displayConfigs.hierarchyLevel[2],\n            brandingMap: ri!brandingMap,\n            resourcesToDisplay: local!categoryLevelResources.data,\n            selectedResource: ri!selectedResource,\n            numberOfResources: local!totalCountOfCategoryLevelResources,\n            pagingInfo: local!categoryLevelPagingInfo,\n            batchSize: local!categoryLevelBatchSize\n          ),\n          /*Case type level Resources*/\n          rule!CMGT_KB_SUB_ResourcesCardDisplay(\n            hierarchyLevel: ri!displayConfigs.hierarchyLevel[3],\n            brandingMap: ri!brandingMap,\n            resourcesToDisplay: local!caseTypeLevelResources.data,\n            selectedResource: ri!selectedResource,\n            numberOfResources: local!totalCountOfCaseTypeLevelResources,\n            pagingInfo: local!caseTypeLevelPagingInfo,\n            batchSize: local!caseTypeLevelBatchSize\n          )\n        }\n      )\n    },\n    style: \"TRANSPARENT\",\n    padding: \"NONE\",\n    marginBelow: \"MORE\",\n    showBorder: false,\n    shape: ri!brandingMap.CardShape,\n    showShadow: ri!brandingMap.CardShowShadow\n  )\n)"
    },
    "_a-0000ec22-0443-8000-9cd2-011c48011c48_2682638": {
      "name": "CMGT_MTR_UserSelectedAssignedToGroupTab",
      "type": "Expression Rule",
      "sail_code": "now()"
    },
    "_a-0000ee9e-ca68-8000-9daf-011c48011c48_4776134": {
      "name": "CMGT_SMS_AI_SitePage_SmartSearch",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!brandingMap: rule!CMGT_UTIL_LoadBrandingMap(),\n  local!searchCategories: rule!CMGT_SMS_AI_QR_GetCategory(returnType: \"OBJECT_ARRAY\"),\n  local!selectedCategoryTemp: local!searchCategories[recordType!CMGT_SMS_AI_CFG_Category.categoryId],\n  local!selectedCategory,\n  local!searchTextTemp,\n  local!searchText,\n  local!activeTab: a!refreshVariable(\n    value: a!match(\n      value: {},\n      whenTrue: contains(\n        tointeger(local!selectedCategory),\n        { 1, 2 }\n      ),\n      then: 1,\n      whenTrue: contains(tointeger(local!selectedCategory), 1),\n      then: 2,\n      whenTrue: contains(tointeger(local!selectedCategory), 2),\n      then: 3,\n      default: 1\n    ),\n    refreshOnVarChange: local!searchText\n  ),\n  local!triggerRefresh: a!refreshVariable(\n    value: now(),\n    refreshAfter: \"RECORD_ACTION\",\n    refreshOnVarChange: local!activeTab\n  ),\n  local!searchHistory: a!refreshVariable(\n    value: rule!CMGT_SMS_AI_QR_GetSearchHistory(\n      returnType: \"OBJECT_ARRAY\",\n      createdBy: loggedInUser(),\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: cons!CMGT_SMS_AI_INT_BATCH_SIZE_EXTRA_SMALL,\n        sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!CMGT_SMS_AI_SearchHistory.modifiedOn,\n          ascending: false\n        )\n      ),\n      fields: recordType!CMGT_SMS_AI_SearchHistory.searchHistoryCategoryMap,\n      triggerRefresh: local!triggerRefresh\n    ),\n    refreshOnVarChange: local!triggerRefresh\n  ),\n  /*The first instance of validation should be displayed on the click of submit button.This value will be updated based on the local!showvalidation during a button click */\n  local!displayValidation: false,\n  /*Adding separate validation for character count check because OOTB validation when displayed causes mismatch in text field and button alignment*/\n  local!validationForSearchText: a!refreshVariable(\n    value: len(local!searchTextTemp) > cons!CMGT_SMS_AI_INT_MAX_CHAR_LIMIT_LARGE,\n    refreshOnVarChange: local!displayValidation\n  ),\n  local!showValidation: or(\n    rule!CMGT_UTIL_IsBlank(local!searchTextTemp),\n    rule!CMGT_UTIL_IsBlank(local!selectedCategoryTemp),\n    local!validationForSearchText\n  ),\n  /*To display the space above the card only initially. The displaySpace will be incremented in further saves.*/\n  /*Not using boolean here as, the change in value will not display the space properly not even when first proper search is executed*/\n  local!displaySpace: 1,\n  /*Cases Tab*/\n  local!selectedCaseStatus: a!refreshVariable(\n    value: null,\n    refreshOnVarChange: local!triggerRefresh\n  ),\n  local!selectedCaseTypes: a!refreshVariable(\n    value: null,\n    refreshOnVarChange: local!triggerRefresh\n  ),\n  local!selectedCaseAssignees: a!refreshVariable(\n    value: null,\n    refreshOnVarChange: local!triggerRefresh\n  ),\n  local!selectedCaseAssignedGroups: a!refreshVariable(\n    value: null,\n    refreshOnVarChange: local!triggerRefresh\n  ),\n  local!pagingInfoForCases: a!refreshVariable(\n    value: #\"SYSTEM_SYSRULES_pagingInfo\"(\n      startIndex: 1,\n      batchSize: cons!CMGT_INT_BATCH_SIZE_MEDIUM/*INCORPORATION STEP - Cases - Add sortInfo() to sort based on similarity score*/\n      ,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: #\"urn:appian:record-search-results:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/allSearchFields/similarityScore\",\n        ascending: false\n      )\n    ),\n    refreshOnVarChange: {\n      local!triggerRefresh,\n      local!selectedCaseStatus,\n      local!selectedCaseTypes,\n      local!selectedCaseAssignees,\n      local!selectedCaseAssignedGroups\n    }\n  ),\n  local!searchResultsForCases: rule!CMGT_SMS_AI_QR_GetSmartSearchResultsOnCases(\n    searchTerm: local!searchText,\n    pagingInfo: local!pagingInfoForCases,\n    caseType: local!selectedCaseTypes,\n    status: local!selectedCaseStatus,\n    assignee: local!selectedCaseAssignees,\n    assignedGroup: local!selectedCaseAssignedGroups,\n    triggerRefresh: local!triggerRefresh,\n    selectedCategory: local!selectedCategory\n  ),\n  /*Tasks Tab*/\n  local!selectedTaskStatus: a!refreshVariable(\n    value: null,\n    refreshOnVarChange: local!triggerRefresh\n  ),\n  local!selectedTaskTypes: a!refreshVariable(\n    value: null,\n    refreshOnVarChange: local!triggerRefresh\n  ),\n  local!selectedTaskAssignees: a!refreshVariable(\n    value: null,\n    refreshOnVarChange: local!triggerRefresh\n  ),\n  local!selectedTaskAssignedGroups: a!refreshVariable(\n    value: null,\n    refreshOnVarChange: local!triggerRefresh\n  ),\n  local!pagingInfoForTasks: a!refreshVariable(\n    value: #\"SYSTEM_SYSRULES_pagingInfo\"(\n      startIndex: 1,\n      batchSize: cons!CMGT_INT_BATCH_SIZE_MEDIUM/*INCORPORATION STEP - Tasks - Add sortInfo() to sort based on similarity score*/\n      ,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: #\"urn:appian:record-search-results:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/allSearchFields/similarityScore\",\n        ascending: false\n      )\n    ),\n    refreshOnVarChange: {\n      local!triggerRefresh,\n      local!selectedTaskTypes,\n      local!selectedTaskStatus,\n      local!selectedTaskAssignedGroups,\n      local!selectedTaskAssignees\n    }\n  ),\n  local!searchResultsForTasks: rule!CMGT_SMS_AI_QR_GetSmartSearchResultsOnTasks(\n    searchTerm: local!searchText,\n    pagingInfo: local!pagingInfoForTasks,\n    statusIds: local!selectedTaskStatus,\n    taskTypesIds: local!selectedTaskTypes,\n    assignee: local!selectedTaskAssignees,\n    assignedGroup: local!selectedTaskAssignedGroups,\n    triggerRefresh: local!triggerRefresh,\n    selectedCategory: local!selectedCategory\n  ),\n  /*Top Tab*/\n  local!topSearchResults: rule!CMGT_SMS_AI_GetTopSmartSearchResults(\n    cases: index(\n      local!searchResultsForCases,\n      \"data\",\n      null\n    ),\n    tasks: index(\n      local!searchResultsForTasks,\n      \"data\",\n      null\n    )\n  ),\n  local!tabs: {\n    a!map(\n      name: #\"urn:appian:translation-string:v1:7fb4c23f-a2ce-4572-b4e3-1fac53386e86\",\n      showTabCount: false(),\n      showTab: contains(\n        tointeger(local!selectedCategory),\n        { 1, 2 }\n      )\n    ),\n    a!map(\n      name: #\"urn:appian:translation-string:v1:afeebca1-14f6-4395-bf5d-88a61a5bd34e\",\n      showTabCount: false(),\n      showTab: contains(tointeger(local!selectedCategory), 1)\n    ),\n    a!map(\n      name: #\"urn:appian:translation-string:v1:ae3d3f86-01e2-4653-a614-ebbd7e9c9cde\",\n      showTabCount: false(),\n      showTab: contains(tointeger(local!selectedCategory), 2)\n    )\n  },\n  #\"SYSTEM_SYSRULES_headerContentLayout\"(\n    contents: {\n      /*Empty Space*/\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_cardLayout\"(\n                showBorder: false,\n                style: local!brandingMap.DefaultBackgroundColor,\n                height: \"SHORT_PLUS\"\n              ),\n\n            },\n            width: \"WIDE_PLUS\"\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(contents: {})\n        },\n        showWhen: local!displaySpace = 1\n      ),\n      /*Search Box*/\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_cardLayout\"(\n                contents: {\n                  #\"SYSTEM_SYSRULES_cardLayout\"(\n                    contents: {\n                      #\"SYSTEM_SYSRULES_headingField\"(\n                        text: #\"urn:appian:translation-string:v1:77327e89-a5b4-4952-a593-97b2f85f406a\",\n                        size: \"MEDIUM_PLUS\",\n                        fontWeight: \"SEMI_BOLD\",\n                        marginBelow: \"LESS\"\n                      ),\n                      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                        labelPosition: \"COLLAPSED\",\n                        value: {\n                          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                            text: #\"urn:appian:translation-string:v1:0f395d2d-e6f2-48b6-afcd-900352d84720\",\n                            color: local!brandingMap.SecondaryTextColor,\n                            size: \"MEDIUM\"\n                          )\n                        }\n                      )\n                    },\n                    style: local!brandingMap.ConfigBackgroundColor,\n                    shape: \"ROUNDED\",\n                    padding: \"STANDARD\",\n                    showBorder: false,\n                    showWhen: local!displaySpace = 1\n                  ),\n                  #\"SYSTEM_SYSRULES_cardLayout\"(\n                    contents: {\n                      #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                        items: {\n                          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                            item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                              labelPosition: \"COLLAPSED\",\n                              value: {\n                                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                  text: #\"urn:appian:translation-string:v1:aa37a376-8cad-4919-9632-6d34b1c0943f\",\n                                  color: local!brandingMap.StandardTextColor,\n                                  style: \"STRONG\"\n                                )\n                              }\n                            ),\n                            width: \"MINIMIZE\"\n                          ),\n                          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                            item: #\"SYSTEM_SYSRULES_checkboxField_v1\"(\n                              choiceLabels: local!searchCategories[recordType!CMGT_SMS_AI_CFG_Category.label],\n                              choiceValues: local!searchCategories[recordType!CMGT_SMS_AI_CFG_Category.categoryId],\n                              labelPosition: \"COLLAPSED\",\n                              value: tointeger(local!selectedCategoryTemp),\n                              saveInto: local!selectedCategoryTemp,\n                              choiceLayout: \"COMPACT\",\n                              marginBelow: \"NONE\"\n                            )\n                          )\n                        },\n                        alignVertical: \"MIDDLE\"\n                      ),\n                      #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                        items: {\n                          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                            item: #\"SYSTEM_SYSRULES_textField\"(\n                              label: \"\",\n                              labelPosition: \"COLLAPSED\",\n                              value: local!searchTextTemp,\n                              saveInto: a!save(local!searchTextTemp, trim(save!value)),\n                              refreshAfter: \"UNFOCUS\",\n                              marginBelow: \"NONE\"\n                            )\n                          ),\n                          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                            item: #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n                              buttons: {\n                                #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                                  label: #\"urn:appian:translation-string:v1:e3c04bbf-3297-4625-b89f-be0595880761\",\n                                  size: \"SMALL\",\n                                  style: \"SOLID\",\n                                  submit: not(local!showValidation),\n                                  validate: true,\n                                  /*To not display the initial space at the top when search is executed for the first time*/\n                                  saveInto: {\n                                    a!save(local!searchText, local!searchTextTemp),\n                                    a!save(\n                                      local!selectedCategory,\n                                      local!selectedCategoryTemp\n                                    ),\n                                    if(\n                                      local!showValidation,\n                                      a!save(local!displayValidation, true),\n                                      {\n                                        a!save(\n                                          local!displaySpace,\n                                          local!displaySpace + 1\n                                        ),\n                                        a!save(local!displayValidation, false),\n                                        /* Write to search history */\n                                        #\"SYSTEM_SYSRULES_startProcess3\"(\n                                          processModel: cons!CMGT_SMS_AI_PM_WRITE_SEARCH_HISTORY,\n                                          processParameters: {\n                                            searchCategory: local!selectedCategory,\n                                            searchText: local!searchText\n                                          }\n                                        )\n                                      }\n                                    ),\n                                    a!save(local!triggerRefresh, now()),\n                                    a!save(\n                                      {\n                                        local!searchResultsForCases,\n                                        local!searchResultsForTasks\n                                      },\n                                      null()\n                                    )\n                                  }\n                                )\n                              },\n                              align: \"START\",\n                              marginBelow: \"NONE\"\n                            ),\n                            width: \"MINIMIZE\"\n                          )\n                        },\n                        alignVertical: \"MIDDLE\",\n                        spacing: \"NONE\",\n                        marginBelow: if(\n                          and(\n                            local!displayValidation,\n                            local!showValidation\n                          ),\n                          \"EVEN_LESS\",\n                          \"STANDARD\"\n                        )\n                      ),\n                      /* Validation Message*/\n                      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                        labelPosition: \"COLLAPSED\",\n                        value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                          text: if(\n                            local!validationForSearchText,\n                            #\"urn:appian:translation-string:v1:db3b8c2d-1618-4dfc-a379-53320d7445ed\"(\n                              #\"urn:appian:translation-variable:v1:9048b1ec-e0c0-498d-bf63-aee30fb0d59c\": len(local!searchTextTemp)\n                            ),\n                            #\"urn:appian:translation-string:v1:d2fbb041-7b3e-46cc-8b26-1c230ddba933\"\n                          ),\n                          color: \"NEGATIVE\",\n                          size: \"STANDARD\",\n                          style: \"PLAIN\"\n                        ),\n                        showWhen: and(\n                          local!displayValidation,\n                          local!showValidation\n                        ),\n                        marginAbove: \"NONE\"\n                      ),\n                      /* Recent searches */\n                      rule!CMGT_SMS_AI_ShowRecentSearches(\n                        searchHistory: local!searchHistory,\n                        displaySpace: local!displaySpace,\n                        searchTextTemp: local!searchTextTemp,\n                        searchText: local!searchText,\n                        selectedCategoryTemp: local!selectedCategoryTemp,\n                        selectedCategory: local!selectedCategory,\n                        brandingMap: local!brandingMap,\n                        triggerRefresh: local!triggerRefresh\n                      ),\n                      /* Delete search history */\n                      #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n                        actions: #\"SYSTEM_SYSRULES_recordActionItem\"(\n                          action: #\"urn:appian:record-action:v1:53049395-2855-4537-8bc6-f1a7d80fd2df/595eac66-3d52-4f57-a7bf-e122352cac16\"\n                        ),\n                        style: \"LINKS\",\n                        display: \"LABEL_AND_ICON\",\n                        showWhen: rule!CMGT_UTIL_IsNotBlank(input: local!searchHistory)\n                      )\n                    },\n                    shape: \"ROUNDED\",\n                    padding: \"STANDARD\",\n                    showBorder: false\n                  )\n                },\n                style: local!brandingMap.ConfigBackgroundColor,\n                shape: \"ROUNDED\",\n                padding: \"NONE\",\n                marginBelow: \"STANDARD\",\n                showBorder: true\n              ),\n\n            },\n            width: \"WIDE_PLUS\"\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(contents: {})\n        }\n      ),\n      /*Search Results*/\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: #\"SYSTEM_SYSRULES_cardLayout\"(\n              contents: {\n                rule!CMGT_SMS_UTIL_TabLayout(\n                  tabs: local!tabs,\n                  activeTab: local!activeTab,\n                  brandingMap: local!brandingMap\n                ),\n                a!match(\n                  value: local!activeTab,\n                  equals: 1,\n                  then: rule!CMGT_SMS_AI_SmartSearchResultsTab_Top(\n                    topResults: local!topSearchResults.data,\n                    brandingMap: local!brandingMap\n                  ),\n                  equals: 2,\n                  then: {\n                    rule!CMGT_SMS_AI_SmartSearchResultsTab_Cases(\n                      searchResult: local!searchResultsForCases,\n                      pagingInfo: local!pagingInfoForCases,\n                      selectedCaseTypes: local!selectedCaseTypes,\n                      selectedStatus: local!selectedCaseStatus,\n                      selectedAssignees: local!selectedCaseAssignees,\n                      selectedAssignedGroups: local!selectedCaseAssignedGroups,\n                      brandingMap: local!brandingMap,\n                      totalCount: index(\n                        local!searchResultsForCases,\n                        \"totalCount\",\n                        null\n                      )\n                    )\n                  },\n                  equals: 3,\n                  then: {\n                    rule!CMGT_SMS_AI_SmartSearchResultsTab_Tasks(\n                      searchResult: local!searchResultsForTasks.data,\n                      selectedStatus: local!selectedTaskStatus,\n                      selectedTaskTypes: local!selectedTaskTypes,\n                      selectedAssignees: local!selectedTaskAssignees,\n                      selectedAssignedGroups: local!selectedTaskAssignedGroups,\n                      pagingInfo: local!pagingInfoForTasks,\n                      brandingMap: local!brandingMap,\n                      totalCount: index(\n                        local!searchResultsForTasks,\n                        \"totalCount\",\n                        null\n                      )\n                    )\n                  },\n                  default: {}\n                )\n              },\n              style: local!brandingMap.ConfigBackgroundColor,\n              padding: \"NONE\",\n              showBorder: true,\n              shape: \"ROUNDED\",\n\n            ),\n            width: \"WIDE_PLUS\"\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(contents: {})\n        },\n        showWhen: any(\n          rule!CMGT_UTIL_IsNotBlank,\n          {\n            local!searchResultsForCases,\n            local!searchResultsForTasks,\n\n          }\n        )\n      ),\n      /*Search Results - No Result found*/\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_stampField\"(\n                labelPosition: \"COLLAPSED\",\n                icon: \"search-minus\",\n                backgroundColor: local!brandingMap.WhiteColor,\n                contentColor: local!brandingMap.SecondaryTextColor,\n                size: \"MEDIUM\",\n                align: \"CENTER\",\n                marginBelow: \"STANDARD\",\n                shape: \"ROUNDED\"\n              ),\n              #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                labelPosition: \"COLLAPSED\",\n                value: {\n                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                    text: #\"urn:appian:translation-string:v1:6ad92534-fd9d-4c80-b325-728dd1392a18\",\n                    color: local!brandingMap.StandardTextColor,\n                    size: \"MEDIUM\"\n                  )\n                },\n                align: \"CENTER\"\n              )\n            },\n            width: if(\n              not(\n                #\"SYSTEM_SYSRULES_isPageWidth\"({ \"PHONE\", \"TABLET_PORTRAIT\" })\n              ),\n              \"MEDIUM_PLUS\",\n              \"WIDE_PLUS\"\n            )\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(contents: {})\n        },\n        showWhen: and(\n          all(\n            rule!CMGT_UTIL_IsBlank,\n            {\n              local!searchResultsForCases,\n              local!searchResultsForTasks,\n\n            }\n          ),\n          and(\n            rule!CMGT_UTIL_IsNotBlank(local!searchText),\n            rule!CMGT_UTIL_IsNotBlank(local!selectedCategory)\n          )\n        ),\n\n      )\n    },\n    backgroundColor: local!brandingMap.defaultBackgroundColor\n  )\n)"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_575605": {
      "name": "CMGT_WFL_TaskBlock_Visualization",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!activeTasks: rule!CMGT_UTIL_Filter(\n    records: ri!tasks,\n    field: recordType!CMGT_WFL_CFG_TaskBlockTask.isActive,\n    value: true\n  ),\n  local!activeTaskBranches: rule!CMGT_UTIL_Filter(\n    records: a!flatten(\n      ri!tasks[recordType!CMGT_WFL_CFG_TaskBlockTask.beforeTaskBlockTaskBranches]\n    ),\n    field: recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.isActive,\n    value: true\n  ),\n  local!startMilestoneReferenceMilestoneId: a!defaultValue(ri!startTaskUuid, \"m-0\"),\n  /*\n  -------\n  Build all nodes\n  -------\n  */\n  /*Start with parent milestone nodes for each distinct milestone*/\n  /*we should rework this to remove the milstone concept entirely*/\n  local!milestoneNodes: #\"SYSTEM_SYSRULES_forEach\"(\n    items: {\n      a!map(\n        referenceMilestone: a!map(\n          referenceMilestoneId: local!startMilestoneReferenceMilestoneId,\n          label: #\"urn:appian:translation-string:v1:ca8737d3-bee3-452c-9475-419cf1366475\"\n        ),\n        tasks: local!activeTasks\n      ),\n      a!map(\n        referenceMilestone: a!map(\n          referenceMilestoneId: \"m-\" & if(\n            a!isNullOrEmpty(local!activeTasks),\n            1,\n            length(local!activeTasks) + 1\n          ),\n          label: #\"urn:appian:translation-string:v1:c9dcd0d5-2e16-4d10-b544-3e3445922c79\"\n        )\n      )\n    },\n    expression: a!map(\n      id: fv!item.referenceMilestone.referenceMilestoneId,\n      group: \"terminal\",\n      label: concat(\n        \"<b>\",\n        substitute(\n          upper(fv!item.referenceMilestone.label),\n          char(10),\n          \"</b>\" & char(10) & \"<b>\"\n        ),\n        \"</b>\"\n      ),\n      font: a!map(\n        multi: \"html\",\n        align: \"left\",\n        size: 12,\n        vadjust: 2,\n        color: ri!brandingMap.BlackColor,\n        bold: a!map(size: 14, vadjust: 0, mod: \"bold\")\n      ),\n      color: a!map(\n        border: ri!brandingMap.DividerColor,\n        background: ri!brandingMap.WhiteColor\n      ),\n      shadow: a!map(),\n      /*For each milestone, create the children nodes within that milestone*/\n      children: #\"SYSTEM_SYSRULES_forEach\"(\n        items: fv!item.tasks,\n        expression: a!localVariables(\n          if(\n            fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBehaviorType.isAutomated],\n            a!map(\n              id: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskUuid],\n              group: \"task\",\n              label: if(\n                tostring(ri!selectedTaskBlockTaskUuid) = fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskUuid],\n                concat(\n                  \"<b>\" & rule!CMGT_UTIL_TruncateText(\n                    text: a!defaultValue(\n                      fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskName],\n                      #\"urn:appian:translation-string:v1:f1a2114c-0453-4665-b358-be59650c55bc\"\n                    ),\n                    maxLength: 44\n                  ) & \"</b>\"\n                ),\n                rule!CMGT_UTIL_TruncateText(\n                  text: a!defaultValue(\n                    fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskName],\n                    #\"urn:appian:translation-string:v1:f1a2114c-0453-4665-b358-be59650c55bc\"\n                  ),\n                  maxLength: 44\n                )\n              ),\n              font: a!map(\n                multi: \"html\",\n                align: \"left\",\n                size: 12,\n                vadjust: 2,\n                color: ri!brandingMap.BlackColor,\n                bold: a!map(size: 14, vadjust: - 4, mod: \"bold\"),\n\n              ),\n              shape: \"image\",\n              image: rule!CMGT_WFL_Automation_returnImageURL(\n                taskBehaviorType: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBehaviorType],\n                taskAction:null,\n                isSelected: tostring(ri!selectedTaskBlockTaskUuid) = fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskUuid],\n\n              ),\n              color: a!map(\n                border: ri!brandingMap.DividerColor,\n                background: null\n              ),\n              shadow: a!map()\n            ),\n            a!map(\n              id: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskUuid],\n              group: \"task\",\n              label: concat(\n                \"<b>\",\n                /*Trim the title to 44 characters at the next space to prevent wrapping text*/\n                substitute(\n                  rule!CMGT_UTIL_TruncateText(\n                    text: a!defaultValue(\n                      fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskName],\n                      #\"urn:appian:translation-string:v1:f1a2114c-0453-4665-b358-be59650c55bc\"\n                    ),\n                    maxLength: 44\n                  ),\n                  char(10),\n                  \"</b>\" & char(10) & \"<b>\"\n                ),\n                \"</b>\",\n                char(10),\n                fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBehaviorType.label]\n              ),\n              font: a!map(\n                multi: \"html\",\n                align: \"left\",\n                size: 12,\n                vadjust: 2,\n                color: ri!brandingMap.BlackColor,\n                bold: a!map(size: 14, vadjust: - 4, mod: \"bold\")\n              ),\n              color: a!map(\n                border: ri!brandingMap.DividerColor,\n                background: ri!brandingMap.WhiteColor\n              ),\n              shadow: a!map(\n                enabled: true,\n                color: ri!brandingMap.WhiteColor,\n                size: 0,\n                x: 0,\n                y: - 5\n              )\n            )\n          )\n        )\n      )\n    )\n  ),\n  /*\n  -------\n  Build all edges\n  -------\n  */\n  /*Build edges for all VALID branches between tasks*/\n  /*Note that branches can become inActive through SAIL manipulation in forms, so we hide them*/\n  local!taskToTaskEdges: if(\n    rule!CMGT_UTIL_IsBlank(local!activeTasks),\n    {},\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: rule!CMGT_UTIL_DistinctRecords(\n        records: local!activeTaskBranches,\n        fields: {\n          recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.beforeTaskBlockTaskUuid,\n          recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.afterTaskBlockTaskUuid,\n          recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.taskResponseOption.taskBlockTaskResponseUuid\n        }\n      ),\n      expression: a!localVariables(\n        local!taskBeforeBranch: displayvalue(\n          fv!item[recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.beforeTaskBlockTaskUuid],\n          local!activeTasks[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskUuid],\n          local!activeTasks,\n          null\n        ),\n        local!taskAfterBranch: displayvalue(\n          fv!item[recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.afterTaskBlockTaskUuid],\n          local!activeTasks[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskUuid],\n          local!activeTasks,\n          null\n        ),\n        a!map(\n          from: local!taskBeforeBranch[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskUuid],\n          to: local!taskAfterBranch[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskUuid],\n          label: rule!CMGT_UTIL_TruncateText(\n            text: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.taskResponseOption.label],\n            maxLength: 15\n          ),\n          title: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.taskResponseOption.label],\n          color: ri!brandingMap.BlackColor,\n          dashes: if(\n            fv!item[recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.isRequired],\n            false,\n            true\n          ),\n          font: a!map(\n            multi: \"html\",\n            align: \"horizontal\",\n            color: ri!brandingMap.BlackColor,\n            bold: a!map(mod: \"bold\", size: 15)\n          )\n        )\n      )\n    )\n  ),\n  /*Build edges for all tasks that connect to their milestone start node*/\n  local!milestoneToTaskEdges: #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!activeTasks,\n    expression: a!map(\n      from: local!startMilestoneReferenceMilestoneId,\n      to: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskUuid],\n      color: ri!brandingMap.BlackColor,\n      /*- Connect to start if starts by default is true*/\n      showWhen: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.startsByDefault],\n      dashes: false,\n      font: a!map()\n    )\n  ),\n  /*Build edges for all tasks that connect to the next milestone or the \"End\" node if in last milestone*/\n  local!taskToMilestoneEdges: a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!activeTasks,\n      expression: a!localVariables(\n        local!taskDependentBranches: rule!CMGT_UTIL_Filter(\n          records: local!activeTaskBranches,\n          field: recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.beforeTaskBlockTaskUuid,\n          value: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskUuid]\n        ),\n        local!taskPrecedentBranches: rule!CMGT_UTIL_Filter(\n          records: local!activeTaskBranches,\n          field: recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.afterTaskBlockTaskUuid,\n          value: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskUuid]\n        ),\n        local!responseOptionToEnd: rule!CMGT_UTIL_Filter(\n          records: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskResponseOptions],\n          field: recordType!CMGT_WFL_CFG_TaskBlockTaskResponseOption.taskBlockTaskResponseUuid,\n          value: local!taskDependentBranches[recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.taskBlockTaskResponseOptionUuid],\n          filterType: \"REJECT\"\n        ),\n        local!item: fv!item,\n        if(\n          and(\n            toboolean(\n              local!item[recordType!CMGT_WFL_CFG_TaskBlockTask.startsByDefault]\n            ) = false,\n            rule!CMGT_UTIL_IsBlank(local!taskPrecedentBranches)\n          ),\n          null,\n          {\n            /* Constructing edge for each response option */\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: local!responseOptionToEnd,\n              expression: a!map(\n                from: local!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskUuid],\n                to: \"m-\" & length(local!activeTasks) + 1,\n                color: ri!brandingMap.BlackColor,\n                label: rule!CMGT_UTIL_TruncateText(\n                  text: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTaskResponseOption.label],\n                  maxLength: 15\n                ),\n                title: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTaskResponseOption.label],\n                dashes: false,\n                font: a!map(\n                  multi: \"html\",\n                  align: \"horizontal\",\n                  color: ri!brandingMap.BlackColor,\n                  bold: a!map(mod: \"bold\", size: 15)\n                )\n              )\n            ),\n            a!map(\n              from: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskUuid],\n              to: \"m-\" & length(local!activeTasks) + 1,\n              color: ri!brandingMap.BlackColor,\n              label: \"\",\n              title: \"\",\n              /*- Connect to end if has nothing after it*/\n              showWhen: and(\n                rule!CMGT_UTIL_IsBlank(local!taskDependentBranches),\n                rule!CMGT_UTIL_IsBlank(local!responseOptionToEnd)\n              ),\n              dashes: false,\n              font: a!map()\n            )\n          }\n        )\n      )\n    )\n  ),\n  /*Combine all edges before passing to component*/\n  /*Set the arrows parameter on the individual edges since we may need to swap these around to optimize rendering*/\n  local!allEdges: rule!CMGT_UTIL_Filter(\n    records: #\"SYSTEM_SYSRULES_forEach\"(\n      items: rule!CMGT_UTIL_RejectBlank(\n        {\n          local!taskToTaskEdges,\n          local!milestoneToTaskEdges,\n          local!taskToMilestoneEdges\n        }\n      ),\n      expression: #\"urn:appian:function:v1:a:update\"(\n        fv!item,\n        \"arrows\",\n        rule!CMGT_NetworkChartField_StandardFormatting(brandingMap: ri!brandingMap).defaultArrow\n      )\n    ),\n    field: \"showWhen\",\n    value: false,\n    filterType: \"REJECT\"\n  ),\n  local!fixNodesEdgesOrder: if(\n    a!isNullOrEmpty(local!activeTasks),\n    a!map(nodes: {}, edges: {}),\n    rule!CMGT_NetworkChartField_FixNodeEdgeOrder_Logic(\n      nodes: local!milestoneNodes,\n      edges: local!allEdges\n    )\n  ),\n  /*\n  -------\n  local variables that refreshes after load based on selection\n  -------\n  */\n  /*Logic for node selection*/\n  local!selectedTask: rule!CMGT_UTIL_cast(\n    type: recordType!CMGT_WFL_CFG_TaskBlockTask,\n    value: if(\n      a!isNullOrEmpty(ri!selectedTaskBlockTaskUuid),\n      null,\n      rule!CMGT_UTIL_Filter(\n        records: local!activeTasks,\n        field: recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskUuid,\n        value: ri!selectedTaskBlockTaskUuid\n      )\n    )\n  ),\n  local!finalNodesToDisplay: if(\n    a!isNullOrEmpty(ri!selectedTaskBlockTaskUuid),\n    /*display as it is, if no task node is selected*/\n    local!fixNodesEdgesOrder.nodes,\n    /*Update selected task's border and unrelated task nodes*/\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!fixNodesEdgesOrder.nodes,\n      expression: a!localVariables(\n        local!currentTask: rule!CMGT_UTIL_cast(\n          type: recordType!CMGT_WFL_CFG_TaskBlockTask,\n          value: rule!CMGT_UTIL_Filter(\n            records: local!activeTasks,\n            field: recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskUuid,\n            value: fv!item.id\n          )\n        ),\n        local!isSelected: touniformstring(ri!selectedTaskBlockTaskUuid) = touniformstring(fv!item.id),\n        local!isRelatedToSelected: or(\n          contains(\n            local!currentTask[recordType!CMGT_WFL_CFG_TaskBlockTask.beforeTaskBlockTaskBranches.beforeTaskBlockTaskUuid],\n            touniformstring(ri!selectedTaskBlockTaskUuid)\n          ),\n          contains(\n            local!selectedTask[recordType!CMGT_WFL_CFG_TaskBlockTask.beforeTaskBlockTaskBranches.beforeTaskBlockTaskUuid],\n            touniformstring(fv!item.id)\n          )\n        ),\n        #\"urn:appian:function:v1:a:update\"(\n          fv!item,\n          { \"font\", \"color\", \"shadow\" },\n          {\n            #\"urn:appian:function:v1:a:update\"(\n              fv!item.font,\n              \"color\",\n              if(\n                or(\n                  local!isSelected,\n                  local!isRelatedToSelected\n                ),\n                { ri!brandingMap.BlackColor },\n                { ri!brandingMap.SecondaryTextColor }\n              )\n            ),\n            #\"urn:appian:function:v1:a:update\"(\n              fv!item.color,\n              { \"background\", \"border\" },\n              {\n                if(\n                  or(\n                    local!isSelected,\n                    local!isRelatedToSelected\n                  ),\n                  { fv!item.color.background },\n                  { ri!brandingMap.WhiteColor }\n                ),\n                if(\n                  local!isSelected,\n                  ri!brandingMap.BlackColor,\n                  ri!brandingMap.DividerColor\n                )\n              }\n            ),\n            #\"urn:appian:function:v1:a:update\"(\n              fv!item.shadow,\n              \"color\",\n              if(\n                or(\n                  local!isSelected,\n                  local!isRelatedToSelected\n                ),\n                { fv!item.shadow.color },\n                { ri!brandingMap.WhiteColor }\n              )\n            )\n          }\n        )\n      )\n    )\n  ),\n  local!finalEdgesToDisplay: if(\n    a!isNullOrEmpty(ri!selectedTaskBlockTaskUuid),\n    /*display as it is if no task node is selected*/\n    local!fixNodesEdgesOrder.edges,\n    /*Update edges to selected and related nodes to be black in color*/\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!fixNodesEdgesOrder.edges,\n      expression: if(\n        /*if it is a edge to selected or related node - update color*/\n        contains(\n          touniformstring({ fv!item.from, fv!item.to }),\n          touniformstring(ri!selectedTaskBlockTaskUuid)\n        ),\n        fv!item,\n        {\n          #\"urn:appian:function:v1:a:update\"(\n            data: fv!item,\n            index: { \"font\", \"color\" },\n            value: {\n              #\"urn:appian:function:v1:a:update\"(\n                data: fv!item.font,\n                index: \"color\",\n                value: ri!brandingMap.SecondaryTextColor\n              ),\n              ri!brandingMap.DividerColor\n            }\n          )\n        }\n      )\n    )\n  ),\n  local!validations: a!localVariables(\n    local!isEndNodePresentAndConnected:\n    and(\n    contains(\n      index(local!finalNodesToDisplay, \"label\", \"\"),\n      \"<b>END</b>\"\n    ),\n    contains(\n      touniformstring(index(local!finalEdgesToDisplay, \"to\", \"\")),\n      \"m-\" & if(\n        rule!CMGT_UTIL_IsBlank(local!activeTasks),\n        1,\n        length(local!activeTasks) + 1\n      )\n    )\n    ),\n    {\n      #\"SYSTEM_SYSRULES_validationMessage\"(\n        message: #\"urn:appian:translation-string:v1:b1c8fa44-5ad7-4c3d-adab-2b29d020ce6f\"(\n          #\"urn:appian:translation-variable:v1:7202908f-19dc-44a8-a741-9d1f47227cbe\": ri!additionalValidationConditions.taskNamesInViolation\n        ),\n        validateAfter: \"SUBMIT\",\n        showWhen: rule!CMGT_UTIL_IsNotBlank(\n          ri!additionalValidationConditions.taskNamesInViolation\n        )\n      ),\n      /*display validation message if there are no tasks mapped to START*/\n      #\"SYSTEM_SYSRULES_validationMessage\"(\n        message: #\"urn:appian:translation-string:v1:459be6ff-55b0-47f3-81fc-6c7386747126\",\n        validateAfter: \"SUBMIT\",\n        showWhen: and(\n          rule!CMGT_UTIL_IsBlank(\n            ri!additionalValidationConditions.tasksMappedtoStart\n          ),\n          ri!additionalValidationConditions.doesNonStartTasksExist\n        )\n      ),\n      /*display validation message if there is not end node*/\n      #\"SYSTEM_SYSRULES_validationMessage\"(\n        message: #\"urn:appian:translation-string:v1:2c2e7b04-c771-4f76-94e6-06f65f4c162f\",\n        validateAfter: \"SUBMIT\",\n        showWhen: and(\n\n          not(local!isEndNodePresentAndConnected),\n          count(\n            index(local!finalNodesToDisplay, \"label\", null)\n          ) > 1\n        )\n      ),\n      /*display validation message if there are tasks with no required precedents*/\n      #\"SYSTEM_SYSRULES_validationMessage\"(\n        message: #\"urn:appian:translation-string:v1:cb8b665a-6708-48a7-a046-0581dfad9bdd\"(\n          #\"urn:appian:translation-variable:v1:5f1e4161-3b84-4604-a027-ed934750ece6\": joinarray(\n            index(\n              ri!additionalValidationConditions,\n              \"tasksWithNoPrecedents\",\n              null\n            )[recordType!CMGT_WFL_CFG_TaskBlockTask.taskName],\n            \", \"\n          )\n        ),\n        validateAfter: \"SUBMIT\",\n        showWhen: rule!CMGT_UTIL_IsNotBlank(\n          index(\n            ri!additionalValidationConditions,\n            \"tasksWithNoPrecedents\",\n            null\n          )\n        )\n      ),\n      /*display validation message if there are tasks with invalid basic details*/\n      #\"SYSTEM_SYSRULES_validationMessage\"(\n        message: #\"urn:appian:translation-string:v1:1954697c-c9b5-4ac7-b349-d5d298d0f929\"(\n          #\"urn:appian:translation-variable:v1:f8f512c7-0b6c-4d3d-9aaf-482aa193d182\": joinarray(\n            index(\n              index(\n                ri!additionalValidationConditions,\n                \"tasksWithInvalidBasicDetails\",\n                null\n              ),\n              recordType!CMGT_WFL_CFG_TaskBlockTask.taskName,\n              null\n            ),\n            \", \"\n          )\n        ),\n        validateAfter: \"SUBMIT\",\n        showWhen: rule!CMGT_UTIL_IsNotBlank(\n          index(\n            ri!additionalValidationConditions,\n            \"tasksWithInvalidBasicDetails\",\n            null\n          )\n        )\n      )\n    }\n  ),\n  {\n    #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n      showWhen: rule!CMGT_UTIL_IsNotBlank(local!validations),\n      validations: local!validations\n    ),\n    #\"SYSTEM_SYSRULES_cardLayout\"(\n      contents: rule!CMGT_PLUGIN_NetworkChartField(\n        nodes: local!finalNodesToDisplay,\n        edges: local!finalEdgesToDisplay,\n        selectedNodeUuid: ri!selectedTaskBlockTaskUuid,\n        height: if(\n          rule!CMGT_UTIL_IsMobileScreenSize(),\n          \"MEDIUM\",\n          a!defaultValue(ri!height, \"TALL\")\n        ),\n        selectable: ri!selectable,\n        brandingMap: ri!brandingMap,\n        onNodeSelection: a!save(\n          ri!selectedTaskBlockTaskUuid,\n          rule!CMGT_UTIL_cast(\n            typeOf: { \"\" },\n            value: if(\n              touniformstring(ri!selectedTaskBlockTaskUuid) = save!value,\n              {},\n              save!value\n            )\n          )\n        ),\n        showNavButtons: a!defaultValue(ri!showVizNavigationButtons, true)\n      ),\n      style: \"TRANSPARENT\",\n      shape: ri!brandingMap.CardShape,\n      padding: \"EVEN_LESS\",\n      showBorder: false,\n      showShadow: false\n    )\n  }\n)"
    },
    "_a-0000ecf6-527e-8000-9bbc-011c48011c48_59137": {
      "name": "CMGT_Task_ConstructTaskOccurrence",
      "type": "Expression Rule",
      "sail_code": "/*Only for NEW OCCURRENCE*/\nrule!CMGT_UTIL_SetRecordFields(\n  record: ri!task,\n  /*Always set these fields with each update*/\n  alwaysOverwrite: {\n    a!map(\n      field: recordType!CMGT_Task.taskId,\n      value: null()\n    ),\n    a!map(\n      field: recordType!CMGT_Task.createdBy,\n      value: cons!CMGT_TXT_PROCESS_AUTOMATION\n    ),\n    a!map(\n      field: recordType!CMGT_Task.createdOn,\n      value: null()\n    ),\n    a!map(\n      field: recordType!CMGT_Task.modifiedBy,\n      value: cons!CMGT_TXT_PROCESS_AUTOMATION\n    ),\n    a!map(\n      field: recordType!CMGT_Task.modifiedOn,\n      value: null()\n    ),\n    a!map(\n      field: recordType!CMGT_Task.dueOn,\n      value: null()\n    ),\n    a!map(\n      field: recordType!CMGT_Task.milestoneId,\n      value: a!defaultValue(\n        value: ri!task[recordType!CMGT_Task.milestone.milestoneId],\n        default: null\n      )\n    ),\n    a!map(\n      field: recordType!CMGT_Task.taskInstanceUuid,\n      value: displayvalue(\n        ri!task[recordType!CMGT_Task.taskInstanceUuid],\n        index(\n          ri!taskInstanceUuidMapping,\n          \"oldUuid\",\n          {}\n        ),\n        index(\n          ri!taskInstanceUuidMapping,\n          \"newUuid\",\n          {}\n        ),\n        ri!task[recordType!CMGT_Task.taskInstanceUuid]\n      )\n    ),\n    a!map(\n      field: recordType!CMGT_Task.isCurrent,\n      value: true()\n    ),\n    a!map(\n      field: recordType!CMGT_Task.instanceCount,\n      value: tointeger(\n        ri!task[recordType!CMGT_Task.instanceCount]\n      ) + 1\n    ),\n    a!map(\n      field: recordType!CMGT_Task.taskResponseOptionId,\n      value: null()\n    )\n  },\n  /*Only modify these fields if they are currently null*/\n  neverOverwrite: {},\n  /*Update Child Relationships*/\n  childRelationships: {\n    /*Branches will be constructed in a separate rule*/\n    a!map(\n      field: recordType!CMGT_Task.beforeTaskInstanceBranches,\n      value: {}\n    ),\n    a!map(\n      field: recordType!CMGT_Task.roles,\n      value: {}\n    ),\n    a!map(\n      field: recordType!CMGT_Task.comments,\n      value: {}\n    ),\n    a!map(\n      field: recordType!CMGT_Task.documents,\n      value: {}\n    ),\n    a!map(\n      field: recordType!CMGT_Task.selectedTaskResponseOption,\n      value: {}\n    ),\n    a!map(\n      field: recordType!CMGT_Task.taskResponseOptions,\n      value: if(\n        rule!CMGT_UTIL_IsBlank(\n          ri!task[recordType!CMGT_Task.taskResponseOptions]\n        ),\n        {},\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!task[recordType!CMGT_Task.taskResponseOptions],\n          expression: recordType!CMGT_TaskResponseOption(\n            recordType!CMGT_TaskResponseOption.taskResponseOptionId: null,\n            recordType!CMGT_TaskResponseOption.label: fv!item[recordType!CMGT_TaskResponseOption.label],\n            recordType!CMGT_TaskResponseOption.sortOrder: fv!item[recordType!CMGT_TaskResponseOption.sortOrder],\n            recordType!CMGT_TaskResponseOption.isActive: fv!item[recordType!CMGT_TaskResponseOption.isActive],\n            recordType!CMGT_TaskResponseOption.taskResponseOptionUuid: displayvalue(\n              fv!item[recordType!CMGT_TaskResponseOption.taskResponseOptionUuid],\n              index(\n                a!flatten(\n                  index(\n                    ri!taskInstanceUuidMapping,\n                    \"taskResponseOptionsUuidMapping\",\n                    {}\n                  )\n                ),\n                \"taskResponseOptionUUID\",\n                null()\n              ),\n              index(\n                a!flatten(\n                  index(\n                    ri!taskInstanceUuidMapping,\n                    \"taskResponseOptionsUuidMapping\",\n                    {}\n                  )\n                ),\n                \"newUuid\",\n                null()\n              ),\n              fv!item[recordType!CMGT_TaskResponseOption.taskResponseOptionUuid]\n            )\n          )\n        )\n      )\n    ),\n    a!map(\n      field: recordType!CMGT_Task.conditionSet,\n      value: if(\n        a!isNullOrEmpty(\n          ri!task[recordType!CMGT_Task.conditionSet]\n        ),\n        {},\n        if(\n          rule!CMGT_UTIL_IsBlank(\n            rule!CMGT_UTIL_Filter(\n              records: {\n                ri!task[recordType!CMGT_Task.conditionSet]\n              },\n              field: recordType!CMGT_ConditionSet.isActive,\n              value: false,\n              filterType: \"REJECT\"\n            )\n          ),\n          {},\n        recordType!CMGT_ConditionSet(\n          recordType!CMGT_ConditionSet.conditionSetId: null,\n          recordType!CMGT_ConditionSet.conditionSetUuid: displayvalue(\n            ri!task[recordType!CMGT_Task.conditionSet.conditionSetUuid],\n            index(\n              a!flatten(\n                index(\n                  ri!taskInstanceUuidMapping,\n                  \"parentConditionSetMapping\",\n                  {}\n                )\n              ),\n              \"conditionSetUuid\",\n              null()\n            ),\n            index(\n              a!flatten(\n                index(\n                  ri!taskInstanceUuidMapping,\n                  \"parentConditionSetMapping\",\n                  {}\n                )\n              ),\n              \"newUuid\",\n              null()\n            ),\n            ri!task[recordType!CMGT_Task.conditionSet.conditionSetUuid]\n          ),\n          recordType!CMGT_ConditionSet.taskInstanceUuid: displayvalue(\n            ri!task[recordType!CMGT_Task.conditionSet.taskInstanceUuid],\n            index(\n              ri!taskInstanceUuidMapping,\n              \"oldUuid\",\n              {}\n            ),\n            index(\n              ri!taskInstanceUuidMapping,\n              \"newUuid\",\n              {}\n            ),\n            ri!task[recordType!CMGT_Task.conditionSet.taskInstanceUuid]\n          ),\n          recordType!CMGT_ConditionSet.operatorCode: ri!task[recordType!CMGT_Task.conditionSet.operatorCode],\n          recordType!CMGT_ConditionSet.isActive: ri!task[recordType!CMGT_Task.conditionSet.isActive],\n          recordType!CMGT_ConditionSet.childConditionSet: #\"SYSTEM_SYSRULES_forEach\"(\n            items: rule!CMGT_UTIL_Filter(\n              records: ri!task[recordType!CMGT_Task.conditionSet],\n              field: recordType!CMGT_ConditionSet.isActive,\n              value: false,\n              filterType: \"REJECT\"\n            ),\n            expression: recordType!CMGT_ConditionSet(\n              recordType!CMGT_ConditionSet.conditionSetId: null,\n              recordType!CMGT_ConditionSet.conditionSetUuid: displayvalue(\n                fv!item[recordType!CMGT_ConditionSet.conditionSetUuid],\n                index(\n                  a!flatten(\n                    index(\n                      ri!taskInstanceUuidMapping,\n                      \"childConditionSetMapping\",\n                      {}\n                    )\n                  ),\n                  \"conditionSetUuid\",\n                  null()\n                ),\n                index(\n                  a!flatten(\n                    index(\n                      ri!taskInstanceUuidMapping,\n                      \"childConditionSetMapping\",\n                      {}\n                    )\n                  ),\n                  \"newUuid\",\n                  null()\n                ),\n                fv!item[recordType!CMGT_ConditionSet.conditionSetUuid]\n              ),\n              recordType!CMGT_ConditionSet.parentConditionSetUuid: displayvalue(\n                fv!item[recordType!CMGT_ConditionSet.parentConditionSetUuid],\n                index(\n                  a!flatten(\n                    index(\n                      ri!taskInstanceUuidMapping,\n                      \"parentConditionSetMapping\",\n                      {}\n                    )\n                  ),\n                  \"conditionSetUuid\",\n                  null()\n                ),\n                index(\n                  a!flatten(\n                    index(\n                      ri!taskInstanceUuidMapping,\n                      \"parentConditionSetMapping\",\n                      {}\n                    )\n                  ),\n                  \"newUuid\",\n                  null()\n                ),\n                fv!item[recordType!CMGT_ConditionSet.parentConditionSetUuid]\n              ),\n              recordType!CMGT_ConditionSet.operatorCode: fv!item[recordType!CMGT_ConditionSet.operatorCode],\n              recordType!CMGT_ConditionSet.isActive: fv!item[recordType!CMGT_ConditionSet.isActive],\n              recordType!CMGT_ConditionSet.condition: #\"SYSTEM_SYSRULES_forEach\"(\n                items: rule!CMGT_UTIL_Filter(\n                  records: fv!item[recordType!CMGT_ConditionSet.condition],\n                  field: recordType!CMGT_Condition.isActive,\n                  value: false,\n                  filterType: \"REJECT\"\n                ),\n                expression: recordType!CMGT_Condition(\n                  recordType!CMGT_Condition.conditionId: null,\n                  recordType!CMGT_Condition.conditionSetUuid: displayvalue(\n                    fv!item[recordType!CMGT_Condition.conditionSetUuid],\n                    index(\n                      a!flatten(\n                        index(\n                          ri!taskInstanceUuidMapping,\n                          \"childConditionSetMapping\",\n                          {}\n                        )\n                      ),\n                      \"conditionSetUuid\",\n                      null()\n                    ),\n                    index(\n                      a!flatten(\n                        index(\n                          ri!taskInstanceUuidMapping,\n                          \"childConditionSetMapping\",\n                          {}\n                        )\n                      ),\n                      \"newUuid\",\n                      null()\n                    ),\n                    fv!item[recordType!CMGT_Condition.conditionSetUuid]\n                  ),\n                  recordType!CMGT_Condition.fieldPathJson: fv!item[recordType!CMGT_Condition.fieldPathJson],\n                  recordType!CMGT_Condition.operator: fv!item[recordType!CMGT_Condition.operator],\n                  recordType!CMGT_Condition.valueJson: fv!item[recordType!CMGT_Condition.valueJson],\n                  recordType!CMGT_Condition.valueType: fv!item[recordType!CMGT_Condition.valueType],\n                  recordType!CMGT_Condition.isActive: fv!item[recordType!CMGT_Condition.isActive],\n                  recordType!CMGT_Condition.isValid: fv!item[recordType!CMGT_Condition.isValid],\n                  recordType!CMGT_Condition.evaluationType: fv!item[recordType!CMGT_Condition.evaluationType]\n                )\n              )\n              )\n            )\n          )\n        )\n      )\n    ),\n    a!map(\n      field: recordType!CMGT_Task.automationTaskAction,\n      value: if(\n        rule!CMGT_UTIL_IsBlank(\n          ri!task[recordType!CMGT_Task.automationTaskAction]\n        ),\n        null,\n        recordType!CMGT_TaskActions(\n          recordType!CMGT_TaskActions.taskInstanceUuid: displayvalue(\n            ri!task[recordType!CMGT_Task.automationTaskAction.taskInstanceUuid],\n            index(\n              ri!taskInstanceUuidMapping,\n              \"oldUuid\",\n              {}\n            ),\n            index(\n              ri!taskInstanceUuidMapping,\n              \"newUuid\",\n              {}\n            ),\n            ri!task[recordType!CMGT_Task.automationTaskAction.taskInstanceUuid]\n          ),\n          recordType!CMGT_TaskActions.taskActionUuid: displayvalue(\n            ri!task[recordType!CMGT_Task.automationTaskAction.taskActionUuid],\n            index(\n              a!flatten(\n                index(\n                  ri!taskInstanceUuidMapping,\n                  \"taskActionUuidMapping\",\n                  {}\n                )\n              ),\n              \"taskActionUuid\",\n              null()\n            ),\n            index(\n              a!flatten(\n                index(\n                  ri!taskInstanceUuidMapping,\n                  \"taskActionUuidMapping\",\n                  {}\n                )\n              ),\n              \"newUuid\",\n              null()\n            ),\n            ri!task[recordType!CMGT_Task.automationTaskAction.taskActionUuid],\n            \n          ),\n          recordType!CMGT_TaskActions.actionCode: ri!task[recordType!CMGT_Task.automationTaskAction.actionCode],\n          recordType!CMGT_TaskActions.isActive: true,\n          recordType!CMGT_TaskActions.associatedAssignmentRule: if(\n            rule!CMGT_UTIL_IsBlank(\n              ri!task[recordType!CMGT_Task.automationTaskAction]\n            ),\n            null,\n            recordType!CMGT_AssignmentRule(\n            recordType!CMGT_AssignmentRule.taskActionUuid: displayvalue(\n              ri!task[recordType!CMGT_Task.automationTaskAction.taskActionUuid],\n              index(\n                a!flatten(\n                  index(\n                    ri!taskInstanceUuidMapping,\n                    \"taskActionUuidMapping\",\n                    {}\n                  )\n                ),\n                \"taskActionUuid\",\n                null()\n              ),\n              index(\n                a!flatten(\n                  index(\n                    ri!taskInstanceUuidMapping,\n                    \"taskActionUuidMapping\",\n                    {}\n                  )\n                ),\n                \"newUuid\",\n                null()\n              ),\n              ri!task[recordType!CMGT_Task.automationTaskAction.taskActionUuid],\n              \n            ),\n            recordType!CMGT_AssignmentRule.routingType: ri!task[recordType!CMGT_Task.automationTaskAction.associatedAssignmentRule.routingType],\n            recordType!CMGT_AssignmentRule.assignmentVersion: ri!task[recordType!CMGT_Task.automationTaskAction.associatedAssignmentRule.assignmentVersion],\n            recordType!CMGT_AssignmentRule.assigneeType: ri!task[recordType!CMGT_Task.automationTaskAction.associatedAssignmentRule.assigneeType],\n            recordType!CMGT_AssignmentRule.assignmentJson: ri!task[recordType!CMGT_Task.automationTaskAction.associatedAssignmentRule.assignmentJson],\n            recordType!CMGT_AssignmentRule.isActive: true,\n            recordType!CMGT_AssignmentRule.caseAssignmentUsersToExclude: if(\n              rule!CMGT_UTIL_IsBlank(\n                ri!task[#\"urn:appian:record-relationship:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/45ed19eb-2545-4c96-9e19-72127f9d27a3/dc83b26a-0034-46f4-8085-5887ad59bc08/86c11a87-1ab5-4e62-93f2-b7d24e412b3a\"]\n              ),\n              null,\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: ri!task[#\"urn:appian:record-relationship:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/45ed19eb-2545-4c96-9e19-72127f9d27a3/dc83b26a-0034-46f4-8085-5887ad59bc08/86c11a87-1ab5-4e62-93f2-b7d24e412b3a\"],\n                expression: recordType!CMGT_CaseAssignmentUsersToExclude(\n                  recordType!CMGT_CaseAssignmentUsersToExclude.username: fv!item[recordType!CMGT_CaseAssignmentUsersToExclude.username]\n                )\n              )\n            )\n            )\n          )\n        )\n      )\n    ),\n    a!map(\n      field: recordType!CMGT_Task.automationWorkflowTasks,\n      value: if(\n        rule!CMGT_UTIL_IsBlank(\n          ri!task[recordType!CMGT_Task.automationWorkflowTasks]\n        ),\n        null,\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!task[recordType!CMGT_Task.automationWorkflowTasks],\n          /* Need to update the automation tasks with the appropriate task instance UUID  */\n          expression: rule!CMGT_Task_ConstructTaskOccurrence(\n            task: #\"urn:appian:function:v1:a:update\"(\n              data: fv!item,\n              index: recordType!CMGT_Task.automationParentWorkflowTaskInstanceUuid,\n              value: displayvalue(\n                ri!task[recordType!CMGT_Task.taskInstanceUuid],\n                index(\n                  ri!taskInstanceUuidMapping,\n                  \"oldUuid\",\n                  {}\n                ),\n                index(\n                  ri!taskInstanceUuidMapping,\n                  \"newUuid\",\n                  {}\n                ),\n                ri!task[recordType!CMGT_Task.taskInstanceUuid]\n              )\n            ),\n            taskInstanceUuidMapping: index(\n              ri!taskInstanceUuidMapping,\n              \"automationRuleTasksSetMapping\",\n              null\n            )\n          )\n        )\n      )\n    ),\n    a!map(\n      field: recordType!CMGT_Task.createCaseTask,\n      value: if(\n        a!isNullOrEmpty(\n          ri!task[recordType!CMGT_Task.createCaseTask]\n        ),\n        {},\n        recordType!CMGT_CreateCaseTask(\n          recordType!CMGT_CreateCaseTask.createCaseTaskId: null,\n          recordType!CMGT_CreateCaseTask.taskId: null,\n          recordType!CMGT_CreateCaseTask.caseTypeUuid: ri!task[recordType!CMGT_Task.createCaseTask.caseTypeUuid],\n          recordType!CMGT_CreateCaseTask.relationshipToOriginalCase: ri!task[recordType!CMGT_Task.createCaseTask.relationshipToOriginalCase],\n          recordType!CMGT_CreateCaseTask.isActive: ri!task[recordType!CMGT_Task.createCaseTask.isActive]\n        )\n      )\n    ),\n    a!map(\n      field: recordType!CMGT_Task.sendEmailTask,\n      value: if(\n        a!isNullOrEmpty(\n          ri!task[recordType!CMGT_Task.sendEmailTask]\n        ),\n        {},\n        recordType!CMGT_SendEmailTask(\n          recordType!CMGT_SendEmailTask.sendEmailTaskId: null,\n          recordType!CMGT_SendEmailTask.taskId: null,\n          recordType!CMGT_SendEmailTask.taskActionUuid: displayvalue(\n            ri!task[recordType!CMGT_Task.sendEmailTask.taskActionUuid],\n            index(\n              a!flatten(\n                index(\n                  ri!taskInstanceUuidMapping,\n                  \"taskActionUuidMapping\",\n                  {}\n                )\n              ),\n              \"taskActionUuid\",\n              null()\n            ),\n            index(\n              a!flatten(\n                index(\n                  ri!taskInstanceUuidMapping,\n                  \"taskActionUuidMapping\",\n                  {}\n                )\n              ),\n              \"newUuid\",\n              null()\n            ),\n            ri!task[recordType!CMGT_Task.sendEmailTask.taskActionUuid]\n          ),\n          recordType!CMGT_SendEmailTask.emailTemplateUuid: ri!task[recordType!CMGT_Task.sendEmailTask.emailTemplateUuid],\n          recordType!CMGT_SendEmailTask.templateName: ri!task[recordType!CMGT_Task.sendEmailTask.templateName],\n          recordType!CMGT_SendEmailTask.subject: ri!task[recordType!CMGT_Task.sendEmailTask.subject],\n          recordType!CMGT_SendEmailTask.body: ri!task[recordType!CMGT_Task.sendEmailTask.body],\n          recordType!CMGT_SendEmailTask.recipientRoleJson: ri!task[recordType!CMGT_Task.sendEmailTask.recipientRoleJson],\n          recordType!CMGT_SendEmailTask.recipientGroupJson: ri!task[recordType!CMGT_Task.sendEmailTask.recipientGroupJson],\n          recordType!CMGT_SendEmailTask.recipientUserJson: ri!task[recordType!CMGT_Task.sendEmailTask.recipientUserJson],\n          recordType!CMGT_SendEmailTask.recipientEmailJson: ri!task[recordType!CMGT_Task.sendEmailTask.recipientEmailJson],\n          recordType!CMGT_SendEmailTask.emailTemplateAttachments: #\"SYSTEM_SYSRULES_forEach\"(\n            items: rule!CMGT_UTIL_Filter(\n              records: ri!task[recordType!CMGT_Task.sendEmailTask],\n              field: recordType!CMGT_EmailTemplateAttachments.isActive,\n              value: true\n            ),\n            expression: recordType!CMGT_EmailTemplateAttachments(\n              recordType!CMGT_EmailTemplateAttachments.emailTemplateAttachmentId: null,\n              recordType!CMGT_EmailTemplateAttachments.sendEmailTaskId: null,\n              recordType!CMGT_EmailTemplateAttachments.appianDocumentId: fv!item[recordType!CMGT_EmailTemplateAttachments.appianDocumentId],\n              recordType!CMGT_EmailTemplateAttachments.documentName: fv!item[recordType!CMGT_EmailTemplateAttachments.documentName],\n              recordType!CMGT_EmailTemplateAttachments.extension: fv!item[recordType!CMGT_EmailTemplateAttachments.extension],\n              recordType!CMGT_EmailTemplateAttachments.size: fv!item[recordType!CMGT_EmailTemplateAttachments.size],\n              \n            )\n          )\n        )\n      )\n    )\n  }\n)"
    },
    "_a-0000eaab-5303-8000-9c24-011c48011c48_994738": {
      "name": "CMGT_formatEventInitiator",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!user: rule!CMGT_QR_GetUser(\n    username: ri!initiator,\n    returnType: \"SINGLE_OBJECT\"\n  ),\n  if(\n    rule!CMGT_UTIL_IsBlank(local!user),\n    ri!initiator,\n    if(\n      or(\n        local!user[#\"urn:appian:record-field:v1:SYSTEM_RECORD_TYPE_USER/SYSTEM_RECORD_TYPE_USER_FIELD_isServiceAccount\"] = true,\n        #\"urn:appian:function:v1:a:isusermemberofgroup?okey=a!isUserMemberOfGroup\"(\n          username: ri!initiator,\n          groups: cons!CMGT_GRP_SERVICE_ACCOUNTS\n        )\n      ),\n      cons!CMGT_TXT_AUTOMATED_SYSTEM,\n      ri!initiator\n    )\n  )\n)"
    },
    "_a-0000ea01-8773-8000-9bde-011c48011c48_356157": {
      "name": "CMGT_UTIL_CardGroupHandler",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!maxPerRow: a!defaultValue(ri!maxPerRow, count(ri!cardLayouts)),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: enumerate(\n      ceiling(\n        count(ri!cardLayouts) / local!maxPerRow,\n        1\n      )\n    ),\n    expression: a!localVariables(\n      local!rowIndex: fv!index,\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        marginBelow: ri!marginBelow,\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            showWhen: contains({ \"RIGHT\", \"CENTER\" }, ri!align)\n          ),\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: enumerate(local!maxPerRow),\n            expression: a!localVariables(\n              local!adjustedIndex: (local!rowIndex - 1) * local!maxPerRow + fv!index,\n              local!cardLayout: a!refreshVariable(\n                value: index(ri!cardLayouts, local!adjustedIndex, {}),\n                refreshAlways: true\n              ),\n              #\"SYSTEM_SYSRULES_columnLayout\"(\n                width: ri!columnWidth,\n                contents: local!cardLayout\n              )\n            )\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            showWhen: contains({ \"LEFT\", \"CENTER\" }, ri!align)\n          )\n        },\n        stackWhen: ri!stackWhen,\n        spacing: a!defaultValue(ri!spacing,\"DENSE\")\n      )\n    )\n  )\n)"
    },
    "_a-0000eb60-4595-8000-9c6e-011c48011c48_1750531": {
      "name": "CMGT_WFL_CaseType_Visualization",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!activeTasks: rule!CMGT_UTIL_Filter(\n    records: ri!tasks,\n    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive,\n    value: true\n  ),\n  local!activeTaskBranches: rule!CMGT_UTIL_Filter(\n    records: a!flatten(\n      ri!tasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches]\n    ),\n    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive,\n    value: true\n  ),\n  local!startMilestoneReferenceMilestoneId: a!defaultValue(ri!startTaskUuid, \"m-0\"),\n  /*\n  -------\n  Build all nodes\n  -------\n  */\n  /*Start with parent milestone nodes for each distinct milestone*/\n  /*we should rework this to remove the milstone concept entirely*/\n  local!milestoneNodes: #\"SYSTEM_SYSRULES_forEach\"(\n    items: {\n      a!map(\n        referenceMilestone: a!map(\n          referenceMilestoneId: local!startMilestoneReferenceMilestoneId,\n          label: #\"urn:appian:translation-string:v1:ca8737d3-bee3-452c-9475-419cf1366475\"\n        ),\n        tasks: local!activeTasks\n      ),\n      a!map(\n        referenceMilestone: a!map(\n          referenceMilestoneId: \"m-\" & if(\n            rule!CMGT_UTIL_IsBlank(local!activeTasks),\n            1,\n            length(local!activeTasks) + 1\n          ),\n          label: #\"urn:appian:translation-string:v1:c9dcd0d5-2e16-4d10-b544-3e3445922c79\"\n        )\n      )\n    },\n    expression: a!map(\n      id: fv!item.referenceMilestone.referenceMilestoneId,\n      group: \"terminal\",\n      label: concat(\n        \"<b>\",\n        substitute(\n          upper(fv!item.referenceMilestone.label),\n          char(10),\n          \"</b>\" & char(10) & \"<b>\"\n        ),\n        \"</b>\"\n      ),\n      font: a!map(\n        multi: \"html\",\n        align: \"left\",\n        size: 12,\n        vadjust: 2,\n        color: ri!brandingMap.BlackColor,\n        bold: a!map(size: 14, vadjust: 0, mod: \"bold\")\n      ),\n      color: a!map(\n        border: ri!brandingMap.DividerColor,\n        background: ri!brandingMap.WhiteColor\n      ),\n      shadow: a!map(),\n      /*For each milestone, create the children nodes within that milestone*/\n      children: #\"SYSTEM_SYSRULES_forEach\"(\n        items: fv!item.tasks,\n        expression: a!localVariables(\n          if(\n            fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.isAutomated],\n            /*Automated Tasks */\n            a!map(\n              id: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n              group: \"task\",\n              label: if(\n                tostring(ri!selectedCaseTypeWorkflowTaskUuid) = fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                concat(\n                  \"<b>\" & rule!CMGT_UTIL_TruncateText(\n                    text: a!defaultValue(\n                      fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label],\n                      #\"urn:appian:translation-string:v1:f1a2114c-0453-4665-b358-be59650c55bc\"\n                    ),\n                    maxLength: 44\n                  ) & \"</b>\"\n                ),\n                rule!CMGT_UTIL_TruncateText(\n                  text: a!defaultValue(\n                    fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label],\n                    #\"urn:appian:translation-string:v1:f1a2114c-0453-4665-b358-be59650c55bc\"\n                  ),\n                  maxLength: 44\n                )\n              ),\n              font: a!map(\n                multi: \"html\",\n                align: \"left\",\n                size: 12,\n                vadjust: 2,\n                color: ri!brandingMap.BlackColor,\n                bold: a!map(size: 14, vadjust: - 4, mod: \"bold\")\n              ),\n              shape: \"image\",\n              image: rule!CMGT_WFL_Automation_returnImageURL(\n                taskBehaviorType: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType],\n                taskAction: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction],\n                isSelected: tostring(ri!selectedCaseTypeWorkflowTaskUuid) = fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n              ),\n              color: a!map(\n                border: ri!brandingMap.DividerColor,\n                background: null\n              ),\n              shadow: a!map()\n            ),\n            a!map(\n              id: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n              group: \"task\",\n              label: concat(\n                \"<b>\",\n                /*Trim the title to 44 characters at the next space to prevent wrapping text*/\n                substitute(\n                  rule!CMGT_UTIL_TruncateText(\n                    text: a!defaultValue(\n                      fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label],\n                      #\"urn:appian:translation-string:v1:f1a2114c-0453-4665-b358-be59650c55bc\"\n                    ),\n                    maxLength: 44\n                  ),\n                  char(10),\n                  \"</b>\" & char(10) & \"<b>\"\n                ),\n                \"</b>\",\n                char(10),\n                fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.label]\n              ),\n              font: a!map(\n                multi: \"html\",\n                align: \"left\",\n                size: 12,\n                vadjust: 2,\n                color: ri!brandingMap.BlackColor,\n                bold: a!map(size: 14, vadjust: - 4, mod: \"bold\")\n              ),\n              color: a!map(\n                border: ri!brandingMap.DividerColor,\n                background: ri!brandingMap.WhiteColor\n              ),\n              shadow: a!map(\n                enabled: true,\n                color: rule!CMGT_UTIL_DisplayBranding(\n                  brandingMap: ri!brandingMap,\n                  key: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone.milestoneColor]\n                ),\n                size: 0,\n                x: 0,\n                y: - 5\n              )\n            )\n          )\n        )\n      )\n    )\n  ),\n  /*\n  -------\n  Build all edges\n  -------\n  */\n  /*Build edges for all VALID branches between tasks*/\n  /*Note that branches can become inActive through SAIL manipulation in forms, so we hide them*/\n  local!taskToTaskEdges: if(\n    rule!CMGT_UTIL_IsBlank(local!activeTasks),\n    {},\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: rule!CMGT_UTIL_DistinctRecords(\n        records: local!activeTaskBranches,\n        fields: {\n          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid,\n          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.taskResponseOption.caseTypeWorkflowTaskResponseOptionUuid,\n\n        }\n      ),\n      expression: a!localVariables(\n        local!taskBeforeBranch: displayvalue(\n          fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid],\n          local!activeTasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n          local!activeTasks,\n          null\n        ),\n        local!taskAfterBranch: displayvalue(\n          fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid],\n          local!activeTasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n          local!activeTasks,\n          null\n        ),\n        a!map(\n          from: local!taskBeforeBranch[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n          to: local!taskAfterBranch[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n          label: rule!CMGT_UTIL_TruncateText(\n            text: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.taskResponseOption.label],\n            maxLength: 15\n          ),\n          title: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.taskResponseOption.label],\n          color: ri!brandingMap.BlackColor,\n          dashes: if(\n            fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isRequired],\n            false,\n            true\n          ),\n          font: a!map(\n            multi: \"html\",\n            align: \"horizontal\",\n            color: ri!brandingMap.BlackColor,\n            bold: a!map(mod: \"bold\", size: 15)\n          )\n        )\n      )\n    )\n  ),\n  /*Build edges for all tasks that connect to their milestone start node*/\n  local!milestoneToTaskEdges: #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!activeTasks,\n    expression: a!map(\n      from: local!startMilestoneReferenceMilestoneId,\n      to: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n      color: ri!brandingMap.BlackColor,\n      showWhen: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.startsByDefault],\n      dashes: false,\n      font: a!map()\n    )\n  ),\n  /*Build edges for all tasks that connect to the next milestone or the \"End\" node if in last milestone*/\n  local!taskToMilestoneEdges: rule!CMGT_UTIL_RejectBlank(\n    a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!activeTasks,\n        expression: a!localVariables(\n          local!taskDependentBranches: rule!CMGT_UTIL_Filter(\n            records: local!activeTaskBranches,\n            field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n            value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n          ),\n          local!taskPrecedentBranches: rule!CMGT_UTIL_Filter(\n            records: local!activeTaskBranches,\n            field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid,\n            value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n          ),\n          local!responseOptionToEnd: rule!CMGT_UTIL_Filter(\n            records: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskResponseOptions],\n            field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.caseTypeWorkflowTaskResponseOptionUuid,\n            value: local!taskDependentBranches[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.caseTypeTaskResponseOptionUuid],\n            filterType: \"REJECT\"\n          ),\n          /* The below 2 locals are specific to automation */\n          local!currentTaskActiveConditionSets: cast(\n            #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n              recordType!CMGT_CFG_ConditionSet\n            ),\n            rule!CMGT_UTIL_Filter(\n              records: a!flatten(\n                rule!CMGT_UTIL_Filter(\n                  records: ri!conditionSets,\n                  field: recordType!CMGT_CFG_ConditionSet.caseTypeWorkflowTaskUuid,\n                  value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n                )[recordType!CMGT_CFG_ConditionSet.childConditionSet]\n              ),\n              field: recordType!CMGT_CFG_ConditionSet.isActive,\n              value: true\n            )\n          ),\n          local!currentTaskActiveConditionSetCount: length(\n            rule!CMGT_UTIL_DistinctRecords(\n              records: rule!CMGT_UTIL_Filter(\n                records: a!flatten(\n                  local!currentTaskActiveConditionSets[recordType!CMGT_CFG_ConditionSet.condition]\n                ),\n                field: recordType!CMGT_CFG_Condition.isActive,\n                value: true\n              ),\n              fields: recordType!CMGT_CFG_Condition.conditionSetUuid\n            )\n          ),\n          /* This local is used to drive logic to connect activities with End */\n          local!hasDefaultEdgeToEnd: a!match(\n            value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorTypeId],\n            whenTrue: and(\n              fv!value = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n              fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction.actionCode] = cons!CMGT_CFG_TXT_ACT_WORKFLOW_ROUTING\n            ),\n            /* Checking if the after task branch count is less than active condition set count(with conditions)+1 (If no rule met go to) */\n            then: length(\n              rule!CMGT_UTIL_DistinctRecords(\n                records: rule!CMGT_UTIL_Filter(\n                  records: local!activeTaskBranches,\n                  field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n                  value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n\n                ),\n                fields: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.conditionSetUuid\n              )\n            ) < local!currentTaskActiveConditionSetCount + 1,\n            whenTrue: and(\n              rule!CMGT_UTIL_IsBlank(local!taskDependentBranches),\n              rule!CMGT_UTIL_IsBlank(local!responseOptionToEnd)\n            ),\n            then: true,\n            /* add additional logics here */\n            default: false\n          ),\n          local!item: fv!item,\n          if(\n            and(\n              local!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.startsByDefault] = false,\n              rule!CMGT_UTIL_IsBlank(local!taskPrecedentBranches)\n            ),\n            null,\n            {\n              /* Constructing edge for each response option */\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: local!responseOptionToEnd,\n                expression: a!map(\n                  from: local!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                  to: \"m-\" & length(local!activeTasks) + 1,\n                  color: ri!brandingMap.BlackColor,\n                  label: rule!CMGT_UTIL_TruncateText(\n                    text: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.label],\n                    maxLength: 15\n                  ),\n                  title: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.label],\n                  dashes: false,\n                  font: a!map(\n                    multi: \"html\",\n                    align: \"horizontal\",\n                    color: ri!brandingMap.BlackColor,\n                    bold: a!map(mod: \"bold\", size: 15)\n                  )\n                )\n              ),\n              a!map(\n                from: local!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                to: \"m-\" & length(local!activeTasks) + 1,\n                color: ri!brandingMap.BlackColor,\n                label: \"\",\n                title: \"\",\n                /*- Connect to end if has default edge to end*/\n                showWhen: local!hasDefaultEdgeToEnd,\n                dashes: false,\n                font: a!map(\n                  multi: \"html\",\n                  align: \"horizontal\",\n                  color: ri!brandingMap.BlackColor,\n                  bold: a!map(mod: \"bold\", size: 15)\n                )\n              )\n            }\n          )\n        )\n      )\n    )\n  ),\n  /*Combine all edges before passing to component*/\n  /*Set the arrows parameter on the individual edges since we may need to swap these around to optimize rendering*/\n  local!allEdges: rule!CMGT_UTIL_Filter(\n    records: #\"SYSTEM_SYSRULES_forEach\"(\n      items: {\n        local!taskToTaskEdges,\n        local!milestoneToTaskEdges,\n        local!taskToMilestoneEdges\n      },\n      expression: #\"urn:appian:function:v1:a:update\"(\n        fv!item,\n        \"arrows\",\n        rule!CMGT_NetworkChartField_StandardFormatting(brandingMap: ri!brandingMap).defaultArrow\n      )\n    ),\n    field: \"showWhen\",\n    value: false,\n    filterType: \"REJECT\"\n  ),\n  local!fixNodesEdgesOrder: /*a!map(nodes: {}, edges: {}),*/\n  if(\n    a!isNullOrEmpty(local!activeTasks),\n    a!map(nodes: {}, edges: {}),\n    rule!CMGT_NetworkChartField_FixNodeEdgeOrder_Logic(\n      nodes: local!milestoneNodes,\n      edges: local!allEdges\n    )\n  ),\n  /*-------*/\n  /*local variables that refreshes after load based on selection*/\n  /*-------*/\n  /**/\n  /*Logic for node selection*/\n  /*ri!selectedCaseTypeWorkflowTaskUuid: if(*/\n  /*a!isNotNullOrEmpty(ri!selectedCaseTypeWorkflowTaskUuid),*/\n  /*ri!selectedCaseTypeWorkflowTaskUuid,*/\n  /*\"\"*/\n  /*),*/\n  local!selectedTask: rule!CMGT_UTIL_cast(\n    type: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask,\n    value: if(\n      a!isNullOrEmpty(ri!selectedCaseTypeWorkflowTaskUuid),\n      null,\n      rule!CMGT_UTIL_Filter(\n        records: local!activeTasks,\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n        value: ri!selectedCaseTypeWorkflowTaskUuid\n      )\n    )\n  ),\n  local!finalNodesToDisplay: if(\n    a!isNullOrEmpty(ri!selectedCaseTypeWorkflowTaskUuid),\n    /*display as it is, if no task node is selected*/\n    local!fixNodesEdgesOrder.nodes,\n    /*Update selected task's border and unrelated task nodes*/\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!fixNodesEdgesOrder.nodes,\n      expression: a!localVariables(\n        local!currentTask: rule!CMGT_UTIL_cast(\n          type: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask,\n          value: rule!CMGT_UTIL_Filter(\n            records: local!activeTasks,\n            field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n            value: fv!item.id\n          )\n        ),\n        local!isSelected: touniformstring(ri!selectedCaseTypeWorkflowTaskUuid) = touniformstring(fv!item.id),\n        local!isRelatedToSelected: or(\n          contains(\n            local!currentTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches.beforeCaseTypeWorkflowTaskUuid],\n            touniformstring(ri!selectedCaseTypeWorkflowTaskUuid)\n          ),\n          contains(\n            local!selectedTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches.beforeCaseTypeWorkflowTaskUuid],\n            touniformstring(fv!item.id)\n          )\n        ),\n        #\"urn:appian:function:v1:a:update\"(\n          fv!item,\n          { \"font\", \"color\", \"shadow\" },\n          {\n            #\"urn:appian:function:v1:a:update\"(\n              fv!item.font,\n              \"color\",\n              if(\n                or(\n                  local!isSelected,\n                  local!isRelatedToSelected\n                ),\n                { ri!brandingMap.BlackColor },\n                { ri!brandingMap.SecondaryTextColor }\n              )\n            ),\n            #\"urn:appian:function:v1:a:update\"(\n              fv!item.color,\n              { \"background\", \"border\" },\n              {\n                if(\n                  or(\n                    local!isSelected,\n                    local!isRelatedToSelected\n                  ),\n                  { fv!item.color.background },\n                  { ri!brandingMap.WhiteColor }\n                ),\n                if(\n                  local!isSelected,\n                  ri!brandingMap.BlackColor,\n                  ri!brandingMap.DividerColor\n                )\n              }\n            ),\n            #\"urn:appian:function:v1:a:update\"(\n              fv!item.shadow,\n              \"color\",\n              if(\n                or(\n                  local!isSelected,\n                  local!isRelatedToSelected\n                ),\n                { fv!item.shadow.color },\n                { ri!brandingMap.WhiteColor }\n              )\n            )\n          }\n        )\n      )\n    )\n  ),\n  local!finalEdgesToDisplay: if(\n    a!isNullOrEmpty(ri!selectedCaseTypeWorkflowTaskUuid),\n    /*display as it is if no task node is selected*/\n    local!fixNodesEdgesOrder.edges,\n    /*Update edges to selected and related nodes to be black in color*/\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!fixNodesEdgesOrder.edges,\n      expression: if(\n        /*if it is a edge to selected or related node - update color*/\n        contains(\n          touniformstring({ fv!item.from, fv!item.to }),\n          touniformstring(ri!selectedCaseTypeWorkflowTaskUuid)\n        ),\n        fv!item,\n        {\n          #\"urn:appian:function:v1:a:update\"(\n            data: fv!item,\n            index: { \"font\", \"color\" },\n            value: {\n              #\"urn:appian:function:v1:a:update\"(\n                data: fv!item.font,\n                index: \"color\",\n                value: ri!brandingMap.SecondaryTextColor\n              ),\n              ri!brandingMap.DividerColor\n            }\n          )\n        }\n      )\n    )\n  ),\n  local!validations: a!localVariables(\n    local!isEndNodePresentAndConnected: and(\n      contains(\n        index(local!finalNodesToDisplay, \"label\", \"\"),\n        \"<b>END</b>\"\n      ),\n      contains(\n        touniformstring(\n          index(local!finalEdgesToDisplay, \"to\", \"\")\n        ),\n        \"m-\" & if(\n          rule!CMGT_UTIL_IsBlank(local!activeTasks),\n          1,\n          length(local!activeTasks) + 1\n        )\n      )\n    ),\n    {\n      #\"SYSTEM_SYSRULES_validationMessage\"(\n        message: #\"urn:appian:translation-string:v1:b1c8fa44-5ad7-4c3d-adab-2b29d020ce6f\"(\n          #\"urn:appian:translation-variable:v1:7202908f-19dc-44a8-a741-9d1f47227cbe\": ri!additionalValidationConditions.taskNamesInViolation\n        ),\n        validateAfter: \"SUBMIT\",\n        showWhen: rule!CMGT_UTIL_IsNotBlank(\n          ri!additionalValidationConditions.taskNamesInViolation\n        )\n      ),\n      /*display validation message if there are no tasks mapped to START*/\n      #\"SYSTEM_SYSRULES_validationMessage\"(\n        message: #\"urn:appian:translation-string:v1:459be6ff-55b0-47f3-81fc-6c7386747126\",\n        validateAfter: \"SUBMIT\",\n        showWhen: and(\n          rule!CMGT_UTIL_IsBlank(\n            ri!additionalValidationConditions.tasksMappedtoStart\n          ),\n          ri!additionalValidationConditions.doesNonStartTasksExist\n        )\n      ),\n      /*display validation message if there is not end node*/\n      #\"SYSTEM_SYSRULES_validationMessage\"(\n        message: #\"urn:appian:translation-string:v1:2c2e7b04-c771-4f76-94e6-06f65f4c162f\",\n        validateAfter: \"SUBMIT\",\n        showWhen: and(\n          not(local!isEndNodePresentAndConnected),\n          count(\n            index(local!finalNodesToDisplay, \"label\", null)\n          ) > 1\n        )\n      ),\n      /*display validation message if there are tasks with no required precedents*/\n      #\"SYSTEM_SYSRULES_validationMessage\"(\n        message: #\"urn:appian:translation-string:v1:cb8b665a-6708-48a7-a046-0581dfad9bdd\"(\n          #\"urn:appian:translation-variable:v1:5f1e4161-3b84-4604-a027-ed934750ece6\": joinarray(\n            index(\n              ri!additionalValidationConditions,\n              \"tasksWithNoPrecedents\",\n              null\n            )[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label],\n            \", \"\n          )\n        ),\n        validateAfter: \"SUBMIT\",\n        showWhen: rule!CMGT_UTIL_IsNotBlank(\n          index(\n            ri!additionalValidationConditions,\n            \"tasksWithNoPrecedents\",\n            null\n          )\n        )\n      ),\n      #\"SYSTEM_SYSRULES_validationMessage\"(\n        message: #\"urn:appian:translation-string:v1:4fab94dc-fcb1-427a-af9f-1239079b2897\"(\n          #\"urn:appian:translation-variable:v1:3e31b6d5-df20-4d17-80a7-81f3c83ff370\": #\"urn:appian:translation-string:v1:e1677170-3ff7-4041-bdf6-16f33d92d9ed\"\n        ),\n        validateAfter: \"SUBMIT\",\n        showWhen: rule!CMGT_UTIL_IsNotBlank(\n          index(\n            ri!additionalValidationConditions,\n            \"taskWithoutName\",\n            null\n          )\n        )\n      ),\n      /*display validation message if there are tasks with invalid basic details*/\n      #\"SYSTEM_SYSRULES_validationMessage\"(\n        message: #\"urn:appian:translation-string:v1:1954697c-c9b5-4ac7-b349-d5d298d0f929\"(\n          #\"urn:appian:translation-variable:v1:f8f512c7-0b6c-4d3d-9aaf-482aa193d182\": joinarray(\n            index(\n              index(\n                ri!additionalValidationConditions,\n                \"tasksWithInvalidBasicDetails\",\n                {}\n              ),\n              recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label,\n              {}\n            ),\n            \", \"\n          )\n        ),\n        validateAfter: \"SUBMIT\",\n        showWhen: rule!CMGT_UTIL_IsNotBlank(\n          index(\n            ri!additionalValidationConditions,\n            \"tasksWithInvalidBasicDetails\",\n            null\n          )\n        )\n      )\n    }\n  ),\n  {\n    #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n      showWhen: rule!CMGT_UTIL_IsNotBlank(local!validations),\n      validations: local!validations,\n      validationGroup: ri!validationGroup\n    ),\n    #\"SYSTEM_SYSRULES_cardLayout\"(\n      contents: rule!CMGT_PLUGIN_NetworkChartField(\n        nodes: local!finalNodesToDisplay,\n        edges: local!finalEdgesToDisplay,\n        selectedNodeUuid: ri!selectedCaseTypeWorkflowTaskUuid,\n        height: a!defaultValue(\n          ri!height,\n          if(\n            rule!CMGT_UTIL_IsMobileScreenSize(),\n            \"MEDIUM\",\n            \"TALL\"\n          )\n        ),\n        selectable: ri!selectable,\n        brandingMap: ri!brandingMap,\n        onNodeSelection: a!save(\n          ri!selectedCaseTypeWorkflowTaskUuid,\n          rule!CMGT_UTIL_cast(\n            typeOf: { \"\" },\n            value: if(\n              touniformstring(ri!selectedCaseTypeWorkflowTaskUuid) = touniformstring(save!value),\n              {},\n              save!value\n            )\n          )\n        )\n      ),\n      style: a!defaultValue(ri!backgroundStyle,ri!brandingMap.CardBackgroundColor),\n      shape: ri!brandingMap.CardShape,\n      padding: \"EVEN_LESS\",\n      showBorder: false,\n      showShadow: false\n    )\n  }\n)"
    },
    "_a-0000ed20-1ca4-8000-9d2b-011c48011c48_3521276": {
      "name": "CMGT_EVAL_EvalCaseAutomationConditionsAndReturnActions",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!CMGT_UTIL_IsBlank(ri!automationTasks),\n  {},\n  a!localVariables(\n    local!data: rule!CMGT_EVAL_returnDataForConditionEvaluation(case: ri!case, task: ri!task),\n    local!caseType: rule!CMGT_QR_GetCaseType(\n      returnType: \"SINGLE_OBJECT\",\n      caseTypeUuid: ri!case[recordType!CMGT_Case.caseTypeUuid],\n      fields: {\n        recordType!CMGT_CFG_CaseType.parentCaseType\n      }\n    ),\n    /*Need to return the available field paths in case the paths have changed.  */\n    local!allAvailableFields: rule!CMGT_returnAvailableFields(\n      scope: if(\n        rule!CMGT_UTIL_IsBlank(ri!task),\n        \"CASE\",\n        \"TASK\"\n      ),\n      caseTypeRecordTypeUuid: local!caseType[recordType!CMGT_CFG_CaseType.uuid],\n      parentCaseTypeRecordTypeUuid: local!caseType[recordType!CMGT_CFG_CaseType.parentUuid]\n    ),\n    local!filteredAvailableFields: rule!CMGT_UTIL_Filter(\n      records: local!allAvailableFields,\n      fieldValuePairs: {\n        a!map(\n          field: \"uuid\",\n          value: rule!CMGT_ENUM_Automation_ootbCaseRecordFieldsToReject(context: null)\n        )\n      },\n      filterType: \"REJECT\"\n    ),\n    local!rulesWithPassingConditionSets: ri!automationTasks[where(\n      /*loops through each task (automation rule) and checks whether or not it should be run based on the conditions*/\n      a!flatten(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!automationTasks, expression: a!localVariables(\n            /* Only want to execute if the condition set is active         */\n            local!parentConditionSet: index(\n              rule!CMGT_UTIL_Filter(\n                records: a!flatten(\n                  fv!item[recordType!CMGT_Task.conditionSet]\n                ),\n                field: recordType!CMGT_ConditionSet.isActive,\n                value: true()\n              ),\n              1,\n              null\n            ),\n            /*loops through each child condition set and checks if the child condition sets associated with each one pass*/\n            local!parentConditionSetEvaluation: #\"SYSTEM_SYSRULES_forEach\"(\n              items: local!parentConditionSet[recordType!CMGT_ConditionSet.childConditionSet],\n              expression: a!localVariables(\n                local!childConditionSet: fv!item,\n                /*loops through each condition on the child condition set and checks if the conditions associated pass*/\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  items: local!childConditionSet[recordType!CMGT_ConditionSet.condition],\n                  expression: rule!CMGT_EVAL_EvaluateConditionSetDynamic(\n                    conditionSet: local!childConditionSet,\n                    data: local!data,\n                    availableFields: local!filteredAvailableFields\n                  ).result\n                )\n              )\n            ),\n            if(\n              a!isNullOrEmpty(local!parentConditionSet),\n              true,\n              /*checks if all the child condition sets pass depending on the operator selected*/\n              a!match(\n                value: tostring(\n                  local!parentConditionSet[recordType!CMGT_ConditionSet.operatorCode]\n                ),\n                equals: \"OR\",\n                then: or(local!parentConditionSetEvaluation),\n                equals: \"AND\",\n                then: and(local!parentConditionSetEvaluation),\n                default: 0\n              )\n            )\n          )\n        )\n      )\n    )],\n    a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!rulesWithPassingConditionSets[recordType!CMGT_Task.automationTaskAction],\n        expression: #\"urn:appian:function:v1:a:update\"(\n          data: fv!item,\n          index: recordType!CMGT_TaskActions.automationTaskInstance,\n          value: rule!CMGT_UTIL_Filter(\n            records: ri!automationTasks,\n            field: recordType!CMGT_Task.taskInstanceUuid,\n            value: fv!item[recordType!CMGT_TaskActions.taskInstanceUuid]\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000eaba-1e20-8000-9c2a-011c48011c48_1041687": {
      "name": "CMGT_RelatedCaseMap_SetEvents",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!relatedCaseMaps,\n  expression: /*EVENTS THAT ARE PROCESS-SPECIFIC (based on \"eventType\" input)*/\n  rule!CMGT_CaseEventHistory_Constructor(\n    caseId: fv!item[recordType!CMGT_RelatedCaseMap.caseId],\n    initiator: ri!initiator,\n    eventTypeId: if(\n      fv!item[recordType!CMGT_RelatedCaseMap.isActive],\n      cons!CMGT_REFID_EVENT_TYPE_CASE_ADD_RELATED_CASE,\n      cons!CMGT_REFID_EVENT_TYPE_CASE_REMOVE_RELATED_CASE\n    ),\n    details: a!map(\n      relatedCaseId: fv!item[recordType!CMGT_RelatedCaseMap.relatedCaseId],\n      relationshipMapTypeId: fv!item[recordType!CMGT_RelatedCaseMap.relationshipMapTypeId]\n    )\n  )\n)"
    },
    "_a-0000ecf6-527e-8000-9bbc-011c48011c48_60047": {
      "name": "CMGT_WFL_CaseType_Rules_FormatRuleConditionSet",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!activeConditionSets: rule!CMGT_UTIL_Filter(\n    records: ri!caseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet],\n    field: recordType!CMGT_CFG_ConditionSet.isActive,\n    value: true\n  ),\n  local!containsMultipleChildConditionSets: length(\n    a!defaultValue(\n      local!activeConditionSets,\n      0\n    )\n  ) > 1,\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!activeConditionSets,\n    expression: {\n      a!localVariables(\n        local!currentChildConditionSet: fv!item,\n        local!activeConditions:rule!CMGT_UTIL_Filter(\n          records:local!currentChildConditionSet[recordType!CMGT_CFG_ConditionSet.condition],\n          field: recordType!CMGT_CFG_Condition.isActive,\n          value: true\n        ),\n        local!numberOfConditions: length(\n          local!activeConditions\n        ),\n        local!containsMultipleConditions: local!numberOfConditions > 1,\n        {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: \"(\",\n            size: a!defaultValue(ri!textSize,\"MEDIUM\"),\n            showWhen: and(\n              local!containsMultipleChildConditionSets,\n              local!containsMultipleConditions\n            ),\n            color: a!defaultValue(ri!textColor, \"STANDARD\")\n          ),\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!activeConditions,\n            expression: a!localVariables(\n              {\n                rule!CMGT_Automation_FormatCondition(\n                  fieldDetails:ri!availableFields,\n                  fieldPathJson:fv!item[recordType!CMGT_CFG_Condition.fieldPathJson],\n                  textSize: a!defaultValue(ri!textSize,\"MEDIUM\"),\n                  textColor:ri!textColor,\n                  valueJson: fv!item[recordType!CMGT_CFG_Condition.valueJson],\n                  operator: fv!item[recordType!CMGT_CFG_Condition.operator]\n                ),\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: \" \",\n                  showWhen: and(\n                    fv!index < local!numberOfConditions,\n                  ),\n                  size:a!defaultValue(ri!textSize,\"MEDIUM\"),\n                  color: a!defaultValue(ri!textColor, \"STANDARD\")\n                ),\n                /*only show the in between opeartor codes if it is not the last condition within a specific condition set*/\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: UPPER(\n                    local!currentChildConditionSet[recordType!CMGT_CFG_ConditionSet.operatorCode]\n                  ) & \" \",\n                  showWhen: fv!index < local!numberOfConditions,\n                  size: a!defaultValue(ri!textSize,\"MEDIUM\"),\n                  color: a!defaultValue(ri!textColor, \"STANDARD\")\n                )\n              }\n            )\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: \")\",\n            size: a!defaultValue(ri!textSize,\"MEDIUM\"),\n            showWhen: and(\n              local!containsMultipleChildConditionSets,\n              local!containsMultipleConditions\n            ),\n            color: a!defaultValue(ri!textColor, \"STANDARD\")\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: \" \",\n            size: a!defaultValue(ri!textSize,\"MEDIUM\"),\n            showWhen:\n            or(\n              and(\n                local!containsMultipleChildConditionSets,\n                local!containsMultipleConditions\n              ),\n              fv!index < length(\n                a!defaultValue(\n                  local!activeConditionSets,\n                  {}\n                )\n              )\n            ),\n            color: a!defaultValue(ri!textColor, \"STANDARD\")\n          ),\n          /*only show the operator code if the current condition set is not the last one*/\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: UPPER(\n              ri!caseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet.operatorCode]\n            ) & \" \",\n            showWhen: fv!index < length(\n              a!defaultValue(\n                local!activeConditionSets,\n                {}\n              )\n            ),\n            size: a!defaultValue(ri!textSize,\"MEDIUM\"),\n            color: a!defaultValue(ri!textColor, \"STANDARD\")\n          )\n        }\n      )\n    }\n  )\n)"
    },
    "_a-0000eaba-1e20-8000-9c2a-011c48011c48_1034479": {
      "name": "CMGT_UTIL_parseColorSchemeBranding",
      "type": "Expression Rule",
      "sail_code": "if(\n  or(\n    isnull(ri!colorSchemeValue),\n    contains(rule!CMGT_ENUM_BRAND_STANDARD_COLOR_SCHEMES().COLOR_SCHEME.colorSchemes.key, ri!colorSchemeValue)\n  ),\n\n  /*Is a standard color scheme (e.g. MIDNIGHT)*/\n  if(\n    ri!returnRawHexCodes,\n    a!flatten(displayvalue(\n      ri!colorSchemeValue,\n      rule!CMGT_ENUM_BRAND_STANDARD_COLOR_SCHEMES().COLOR_SCHEME.colorSchemes.key,\n      rule!CMGT_ENUM_BRAND_STANDARD_COLOR_SCHEMES().COLOR_SCHEME.colorSchemes.hexCodes,\n      {}\n    )),\n    ri!colorSchemeValue\n  ),\n\n  /*Is a custom color scheme*/\n  if(\n    ri!returnRawHexCodes,\n    split(ri!colorSchemeValue, \",\"),\n    #\"SYSTEM_SYSRULES_colorSchemeCustom\"(colors: split(ri!colorSchemeValue, \",\"))\n  )\n)"
    },
    "_a-0000eb57-0ad2-8000-9c6b-011c48011c48_1720993": {
      "name": "CMGT_NCF_orderNodesHorizontallyTopDown",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!nodesOnCurrentLevel: a!refreshVariable(\n    value: rule!CMGT_UTIL_Filter(\n      records: ri!allNodes,\n      field: \"verticalOrder\",\n      value: ri!level\n    ),\n    refreshAlways: true\n  ),\n  local!eachNodeWithHorizontalOrder: a!refreshVariable(\n    value: apply(\n      rule!CMGT_NCF_setAverageHorizontalOrderOfPrecedents(\n        currentNode: _,\n        /*can pass in just sorted nodes because parents will always be above children*/\n        orderedNodes: ri!orderedNodes,\n        allEdges: ri!allEdges\n      ),\n      local!nodesOnCurrentLevel\n    ),\n    refreshAlways: true\n  ),\n  local!sortedNodesForThisLevel: a!refreshVariable(\n    value: rule!CMGT_UTIL_sortList(\n      records: local!eachNodeWithHorizontalOrder,\n      field: \"horizontalOrder\",\n      ascending: true\n    ),\n    refreshAlways: true\n  ),\n  local!updatedHorizontalOrder: a!refreshVariable(\n    value: apply(\n      rule!CMGT_NCF_updateNodeHorizontalOrderFromIndex(\n        sortedNodes: local!sortedNodesForThisLevel,\n        currentNode: _\n      ),\n      local!sortedNodesForThisLevel\n    ),\n    refreshAlways: true\n  ),\n  {\n    ri!orderedNodes,\n    local!updatedHorizontalOrder\n  }\n)"
    },
    "be08c367-c0f2-4e1d-ba3c-c8d95476189f": {
      "name": "CMGT_Role_Add",
      "type": "Process Model",
      "sail_code": "// Output: ?\nrule!CMGT_UTIL_Filter(\n  records: pv!roles,\n  field: recordType!CMGT_Role.roleId,\n  value: null\n)\n\n// Input: ?\n=pv!roles[recordType!CMGT_Role.caseId]\n\n// Input: ?\npv!cases\n\n// Input: ?\n=recordType!CMGT_Case\n\n// Input: ?\npv!tasks\n\n// Input: ?\n=recordType!CMGT_Task\n\n// Output: ?\nrule!CMGT_Case_SetMetaData(\n  cases: #\"SYSTEM_SYSRULES_forEach\"(\n    items: rule!CMGT_UTIL_Distinct(\n      pv!roles[recordType!CMGT_Role.caseId]\n    ),\n    expression: recordType!CMGT_Case(\n      recordType!CMGT_Case.caseId: fv!item,\n      recordType!CMGT_Case.roles: rule!CMGT_UTIL_Filter(\n        records: pv!roles,\n        field: recordType!CMGT_Role.caseId,\n        value: fv!item\n      )\n    )\n  ),\n  initiator: a!defaultValue(pv!automationInitiator, pp!initiator),\n  eventType: cons!CMGT_TXT_EVENT_TYPE_CASE_MODIFY_CHILD_RECORD\n)\n\n// Output: ?\nrule!CMGT_Task_SetMetaData(\n  tasks: #\"SYSTEM_SYSRULES_forEach\"(\n    items: rule!CMGT_UTIL_Distinct(\n      pv!roles[recordType!CMGT_Role.taskId]\n    ),\n    expression: recordType!CMGT_Task(\n      recordType!CMGT_Task.taskId: fv!item,\n      recordType!CMGT_Task.roles: rule!CMGT_UTIL_Filter(\n        records: pv!roles,\n        field: recordType!CMGT_Role.taskId,\n        value: fv!item\n      )\n    )\n  ),\n  initiator: a!defaultValue(pv!automationInitiator, pp!initiator),\n  eventType: cons!CMGT_TXT_EVENT_TYPE_TASK_MODIFY_CHILD_RECORD\n)"
    },
    "_a-0000ea0e-71db-8000-9be6-011c48011c48_470032": {
      "name": "CMGT_EventHistory_Task_FormatDetails",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!details: cast(\n    'type!{http://www.appian.com/ae/types/2009}Map',\n    if(\n      a!isNotNullOrEmpty(\n        ri!data[recordType!CMGT_EventHistory_Task.details]\n      ),\n      #\"SYSTEM_SYSRULES_fromJson_v1\"(\n        ri!data[recordType!CMGT_EventHistory_Task.details]\n      ),\n      null\n    )\n  ),\n  a!match(\n    value: ri!data[recordType!CMGT_EventHistory_Task.taskEventTypeId],\n    whenTrue: and(\n      contains(\n        {\n          cons!CMGT_REFID_EVENT_TYPE_TASK_COMPLETE\n        },\n        fv!value\n      ),\n      ri!data[recordType!CMGT_EventHistory_Task.task.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION\n    ),\n    then: concat(\n      #\"urn:appian:translation-string:v1:6ddd8757-400b-4b3e-831d-104bf494c1de\"(\n        #\"urn:appian:translation-variable:v1:6577e335-2c33-4e71-a854-63d183c0ef0d\": local!details.automationType\n      ),\n      if(\n        ri!data[recordType!CMGT_EventHistory_Task.task.automationTaskAction.actionCode] = cons!CMGT_CFG_TXT_ACT_SEND_EMAIL,\n        {\n          char(10),\n          #\"urn:appian:translation-string:v1:444f1eb9-fa68-45ef-9d35-569a389884ff\"(\n            #\"urn:appian:translation-variable:v1:2278bdbc-1c5e-427f-994d-caa131837e1c\": local!details.subject\n          )\n        },\n        \"\"\n      )\n    ),\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_TASK_COMPLETE\n      },\n      fv!value\n    ),\n    then: {\n      concat(\n        #\"urn:appian:translation-string:v1:0c505a3f-efa5-4335-8a88-38e6b58fabcf\"(\n          #\"urn:appian:translation-variable:v1:71b17c88-e24f-4229-b8ac-1b067deda73f\": local!details.taskBehaviorType\n        ),\n        char(10),\n        a!match(\n          value: ri!data[recordType!CMGT_EventHistory_Task.task.taskBehaviorTypeId],\n          whenTrue: ri!data[recordType!CMGT_EventHistory_Task.task.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION,\n          then: local!details.taskResponseOptionLabelKey,\n          whenTrue: ri!data[recordType!CMGT_EventHistory_Task.task.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_CREATE_CASE,\n          then: a!localVariables(\n            local!case: rule!CMGT_QR_GetCase(\n              returnType: \"SINGLE_OBJECT\",\n              executeWhen: a!isNotNullOrEmpty(local!details.newCaseId),\n              caseId: local!details.newCaseId,\n              fields: {\n                recordType!CMGT_Case.friendlyId,\n                recordType!CMGT_Case.title\n              }\n            ),\n            {\n              local!case[recordType!CMGT_Case.friendlyId],\n              \" | \",\n              local!case[recordType!CMGT_Case.title]\n            }\n          ),\n          default: null\n        )\n      )\n    },\n    whenTrue: or(\n      and(\n        contains(\n          {\n            cons!CMGT_REFID_EVENT_TYPE_TASK_COMPLETE\n          },\n          fv!value\n        ),\n        ri!data[recordType!CMGT_EventHistory_Task.task.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_SEND_EMAIL\n      ),\n      fv!value = cons!CMGT_REFID_EVENT_TYPE_TASK_UPDATE_EMAIL\n    ),\n    then: concat(\n      #\"urn:appian:translation-string:v1:0c505a3f-efa5-4335-8a88-38e6b58fabcf\"(\n        #\"urn:appian:translation-variable:v1:71b17c88-e24f-4229-b8ac-1b067deda73f\": local!details.taskBehaviorType\n      ),\n      char(10),\n      #\"urn:appian:translation-string:v1:444f1eb9-fa68-45ef-9d35-569a389884ff\"(\n        #\"urn:appian:translation-variable:v1:2278bdbc-1c5e-427f-994d-caa131837e1c\": local!details.subject\n      )\n    ),\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_TASK_NOT_NEEDED,\n        cons!CMGT_REFID_EVENT_TYPE_TASK_MARKED_ACTIVITY_AS_READY,\n        cons!CMGT_REFID_EVENT_TYPE_TASK_UPDATE_ACTIVITY,\n        cons!CMGT_REFID_EVENT_TYPE_TASK_ADD_ACTIVITY,\n        cons!CMGT_REFID_EVENT_TYPE_TASK_CREATE\n      },\n      fv!value\n    ),\n    then: {\n      if(\n        ri!data[recordType!CMGT_EventHistory_Task.task.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n        #\"urn:appian:translation-string:v1:6ddd8757-400b-4b3e-831d-104bf494c1de\"(\n          #\"urn:appian:translation-variable:v1:6577e335-2c33-4e71-a854-63d183c0ef0d\": local!details.automationType\n        ),\n        #\"urn:appian:translation-string:v1:0c505a3f-efa5-4335-8a88-38e6b58fabcf\"(\n          #\"urn:appian:translation-variable:v1:71b17c88-e24f-4229-b8ac-1b067deda73f\": local!details.taskBehaviorType\n        )\n      )\n    },\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_TASK_ADD_ASSIGNEE,\n        cons!CMGT_REFID_EVENT_TYPE_TASK_REMOVED_ASSIGNEE\n      },\n      fv!value\n    ),\n    then: if(\n      a!isNotNullOrEmpty(local!details.groupId),\n      group(\n        tointeger(local!details.groupId),\n        \"groupName\"\n      ),\n      rule!CMGT_UTIL_DisplayUserFullName(username: local!details.user)\n    ),\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_TASK_ADD_COMMENT,\n        cons!CMGT_REFID_EVENT_TYPE_TASK_UPDATE_COMMENT,\n        cons!CMGT_REFID_EVENT_TYPE_TASK_REPLY_TO_COMMENT,\n        cons!CMGT_REFID_EVENT_TYPE_TASK_DELETE_COMMENT\n      },\n      fv!value\n    ),\n    then: concat(\n      #\"urn:appian:translation-string:v1:b047f92a-3c3c-4104-9fab-4323d484d78f\"(\n        #\"urn:appian:translation-variable:v1:98579b94-57f7-41ee-8b4e-649f6147ac35\": rule!CMGT_UTIL_StripHtmlTags(\n          value: local!details.commentText,\n          isFormatted: true\n        )\n      ),\n      if(\n        rule!CMGT_UTIL_IsBlank(local!details.taggedUsers),\n        \"\",\n        concat(\n          char(10),\n          #\"urn:appian:translation-string:v1:1989f3c9-20e5-4be9-822b-7b1dc48f424b\"(\n            #\"urn:appian:translation-variable:v1:0ceb2d10-7e2a-44f9-919d-e51150bb29d3\": joinarray(\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: local!details.taggedUsers,\n                expression: rule!CMGT_UTIL_DisplayUserFullName(username: fv!item)\n              ),\n              \", \"\n            )\n          )\n        )\n      ),\n      if(\n        rule!CMGT_UTIL_IsBlank(local!details.documents),\n        \"\",\n        concat(\n          char(10),\n          #\"urn:appian:translation-string:v1:c0d05eca-625c-4aba-afba-fda052e49cb2\"(\n            #\"urn:appian:translation-variable:v1:7299566d-8206-4962-bb5e-71475e411afb\": joinarray(\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: local!details.documents,\n                expression: fv!item\n              ),\n              \", \"\n            )\n          )\n        )\n      )\n    ),\n    equals: cons!CMGT_REFID_EVENT_TYPE_TASK_UPDATE_NAME,\n    then: concat(\n      #\"urn:appian:translation-string:v1:f80429d7-dbf2-4282-9283-8f89899e72d3\"(\n        #\"urn:appian:translation-variable:v1:5c18f69d-9530-42da-847b-130c5c4b6d7e\": local!details.originalValue\n      ),\n      char(10),\n      #\"urn:appian:translation-string:v1:942a20e1-ba63-496f-9fff-8d1c84bff8df\"(\n        #\"urn:appian:translation-variable:v1:70a6a6c1-297e-430b-b2bd-68be43c4b5d8\": local!details.newValue\n      ),\n      char(10),\n      if(\n        ri!data[recordType!CMGT_EventHistory_Task.task.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n        {\n          #\"urn:appian:translation-string:v1:6ddd8757-400b-4b3e-831d-104bf494c1de\"(\n            #\"urn:appian:translation-variable:v1:6577e335-2c33-4e71-a854-63d183c0ef0d\": local!details.automationType\n          )\n        },\n        #\"urn:appian:translation-string:v1:0c505a3f-efa5-4335-8a88-38e6b58fabcf\"(\n          #\"urn:appian:translation-variable:v1:71b17c88-e24f-4229-b8ac-1b067deda73f\": local!details.taskBehaviorType\n        )\n      )\n    ),\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_TASK_UPDATE_STATUS,\n        cons!CMGT_REFID_EVENT_TYPE_TASK_UPDATE_DUE_DATE\n      },\n      fv!value\n    ),\n    then: #\"urn:appian:translation-string:v1:0c505a3f-efa5-4335-8a88-38e6b58fabcf\"(\n      #\"urn:appian:translation-variable:v1:71b17c88-e24f-4229-b8ac-1b067deda73f\": local!details.taskBehaviorType\n    ),\n    default: local!details.value\n  )\n)"
    },
    "_a-0000ed9c-71ef-8000-9d58-011c48011c48_3989208": {
      "name": "CMGT_AUTO_EVAL_AvailableFieldsCustomizationsWrapper_Task",
      "type": "Expression Rule",
      "sail_code": "/*Returns a list of maps that are used in getting relationships and fields to reject for configuration*/\n{\n  rule!CMGT_AUTO_EVAL_AvailableFieldCustomizations_Task(),\n  rule!CMGT_AUTO_EVAL_AvailableFieldCustomizations_TaskRole()\n}"
    },
    "_a-0000ecb5-acf8-8000-9cf6-011c48011c48_3182959": {
      "name": "CMGT_QR_getStudioFieldsByCase",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!CMGT_UTIL_IsBlank(ri!case),\n  null,\n  #\"SYSTEM_SYSRULES_controlPanelRecords\"(\n    controlPanel: #\"urn:appian:control-panel:v1:1b82dc2b-d4df-44ed-ac7c-3cce3b4ee0e0\",\n    record: ri!case\n  )\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_38959": {
      "name": "CMGT_RelatedCaseMap_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!relatedCaseMaps,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_RelatedCaseMap.modifiedOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_RelatedCaseMap.modifiedBy,\n        value: ri!initiator\n      )\n    },\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_RelatedCaseMap.createdOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_RelatedCaseMap.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_RelatedCaseMap.isActive,\n        value: true\n      ),\n      /*In case the ID of parent/child is on the object instead of the direct field itself, tie it to the direct field itself*/\n      /*e.g. `.parentCase.caseId` is populated, so then we populate `.caseId`*/\n      a!map(\n        field: recordType!CMGT_RelatedCaseMap.caseId,\n        value: fv!item[recordType!CMGT_RelatedCaseMap.parentCase.caseId]\n      ),\n      a!map(\n        field: recordType!CMGT_RelatedCaseMap.relatedCaseId,\n        value: fv!item[recordType!CMGT_RelatedCaseMap.childCase.caseId]\n      )\n    }\n  )\n)"
    },
    "_a-0000e9e5-e5dd-8000-9bc7-011c48011c48_232774": {
      "name": "CMGT_Document_DetermineFolderForDocument",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!folder: if(\n    rule!CMGT_UTIL_IsOnPortal(),\n    cons!CMGT_FLD_TEMPORARY_DOCUMENTS,\n    a!defaultValue(\n      rule!CMGT_UTIL_GetSubFolderByType(\n        parentFolderId: a!defaultValue(\n          ri!document[recordType!CMGT_Document.case.folderId],\n          ri!folderId\n        ),\n        folderType: if(\n          ri!document[recordType!CMGT_Document.isPrivate],\n          cons!CMGT_TXT_CASE_SUB_FOLDERS[1],\n          cons!CMGT_TXT_CASE_SUB_FOLDERS[2]\n        )\n      ),\n      cons!CMGT_FLD_TEMPORARY_DOCUMENTS\n    )\n  ),\n  local!folder\n)"
    },
    "_a-0000e9d3-70bf-8000-9bbd-011c48011c48_180568": {
      "name": "CMGT_UTIL_IsNotBlank",
      "type": "Expression Rule",
      "sail_code": "not(rule!CMGT_UTIL_IsBlank(ri!input))"
    },
    "_a-0000ebe1-6999-8000-9cbe-011c48011c48_2311182": {
      "name": "CMGT_Portal_CaseContact_Details",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!required: and(\n    not(a!defaultValue(ri!disabled, false)),\n    not(a!defaultValue(ri!readOnly, false))\n  ),\n  {\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            /*First Name*/\n            #\"SYSTEM_SYSRULES_textField\"(\n              label: #\"urn:appian:translation-string:v1:a98538d8-6e54-425f-a476-6b5a770eb222\",\n              labelPosition: \"ABOVE\",\n              value: ri!portalCaseContact[recordType!CMGT_Portal_CaseContact.firstName],\n              saveInto: a!save(\n                ri!portalCaseContact[recordType!CMGT_Portal_CaseContact.firstName],\n                trim(save!value)\n              ),\n              refreshAfter: \"UNFOCUS\",\n              characterLimit: cons!CMGT_INT_MAX_CHAR_LIMIT_MEDIUM,\n              showCharacterCount: false(),\n              required: local!required,\n              requiredMessage: #\"urn:appian:translation-string:v1:b4584cf2-870b-4173-b06b-88c40ce8af9f\",\n              readOnly: ri!readOnly,\n              disabled: ri!disabled,\n              inputPurpose: \"NAME\"\n            )\n          }\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            /*Name/Last Name*/\n            #\"SYSTEM_SYSRULES_textField\"(\n              label: #\"urn:appian:translation-string:v1:ec4b5229-54c6-4ca8-aa38-b6331fd5906e\",\n              labelPosition: \"ABOVE\",\n              value: ri!portalCaseContact[recordType!CMGT_Portal_CaseContact.lastName],\n              saveInto: a!save(\n                ri!portalCaseContact[recordType!CMGT_Portal_CaseContact.lastName],\n                trim(save!value)\n              ),\n              refreshAfter: \"UNFOCUS\",\n              characterLimit: cons!CMGT_INT_MAX_CHAR_LIMIT_MEDIUM,\n              showCharacterCount: false(),\n              required: local!required,\n              requiredMessage: #\"urn:appian:translation-string:v1:cbfe5429-0437-4459-a42d-b05a384fe0b3\",\n              readOnly: ri!readOnly,\n              disabled: ri!disabled\n            )\n          }\n        ),\n\n      },\n      spacing: \"DENSE\",\n      stackWhen: { \"PHONE\", \"TABLET_PORTRAIT\" }\n    ),\n    /*Email*/\n    #\"SYSTEM_SYSRULES_textField\"(\n      label: #\"urn:appian:translation-string:v1:e5740ff4-4bcb-4f66-b44b-3c39099f1863\",\n      labelPosition: \"ABOVE\",\n      value: ri!portalCaseContact[recordType!CMGT_Portal_CaseContact.email],\n      saveInto: {\n        a!save(\n          ri!portalCaseContact[recordType!CMGT_Portal_CaseContact.email],\n          trim(save!value)\n        )\n      },\n      refreshAfter: \"UNFOCUS\",\n      characterLimit: cons!CMGT_INT_MAX_CHAR_LIMIT_MEDIUM,\n      showCharacterCount: false(),\n      required: local!required,\n      requiredMessage: #\"urn:appian:translation-string:v1:b200c379-03f6-45cd-9fed-7323d3384305\",\n      readOnly: ri!readOnly,\n      validations: {\n        rule!CMGT_UTIL_ValidateEmail(\n          textInput: ri!portalCaseContact[recordType!CMGT_Portal_CaseContact.email]\n        )\n      },\n      inputPurpose: \"EMAIL\"\n    )\n  }\n)"
    },
    "_a-0000ecac-72b0-8000-9cf2-011c48011c48_3160433": {
      "name": "CMGT_EVAL_EvaluateConditionDynamic",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!conditionMap: rule!CMGT_UTIL_ReturnFieldEvaluationByType(\n    type: ri!condition[recordType!CMGT_Condition.valueType]\n  ),\n  local!field: rule!CMGT_returnAvailableFieldFromFieldPathJson(\n    fieldPathJson: ri!condition[recordType!CMGT_Condition.fieldPathJson],\n    availableFields: ri!availableFields\n  ),\n  local!parentRecordTypeUuid: local!field.parentRecordTypeUuid,\n  local!data: a!match(\n    value: local!parentRecordTypeUuid,\n    equals: cons!CMGT_UUID_RECORD_TYPE_CASE,\n    then: ri!data.caseData,\n    equals: cons!CMGT_UUID_RECORD_TYPE_TASK,\n    then: ri!data.taskData,\n    default: a!defaultValue(\n      ri!data.studioData[local!field.dataKeyName],\n      ri!data.caseData\n    )\n  ),\n  if(\n    or(\n      rule!CMGT_UTIL_IsBlank(local!field),\n      rule!CMGT_UTIL_IsBlank(local!data)\n    ),\n    #\"urn:appian:function:v1:a:update\"(\n      ri!condition,\n      {\n        recordType!CMGT_Condition.isMet,\n        recordType!CMGT_Condition.isValid\n      },\n      { false, false }\n    ),\n    if(\n      /*Checking whether the field used in condition is update/deleted in Studio*/\n      ri!condition[recordType!CMGT_Condition.isValid],\n      if(\n        local!conditionMap.evalRule(\n          condition: ri!condition,\n          data: local!data,\n          field: local!field\n        ),\n        #\"urn:appian:function:v1:a:update\"(\n          ri!condition,\n          recordType!CMGT_Condition.isMet,\n          true\n        ),\n        #\"urn:appian:function:v1:a:update\"(\n          ri!condition,\n          recordType!CMGT_Condition.isMet,\n          false\n        )\n      ),\n      #\"urn:appian:function:v1:a:update\"(\n        ri!condition,\n        recordType!CMGT_Condition.isMet,\n        false\n      )\n    )\n  )\n)"
    },
    "_a-0000ed49-63d5-8000-9d3e-011c48011c48_3626108": {
      "name": "CMGT_CFG_ENUM_ACT_REASSIGN_CASE",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  /*code that is used to help evaluation of what actions needs to be ran*/\n  actionCode: cons!CMGT_CFG_TXT_ACT_REASSIGN_CASE,\n  /*Display text of action type in configuration*/\n  name: #\"urn:appian:translation-string:v1:255ef9a9-837a-4a2c-aef4-2c578cfb4807\",\n  /*interface used to configure assignment logic*/\n  configurationRule:rule!CMGT_WFL_AutomationRule_Configure_AssignmentLogic,\n  runtimeConfigurationRule: rule!CMGT_AutomationRule_Configure_AssignmentLogic,\n  configurationDisplayRule: rule!CMGT_WFL_CaseType_Rules_FormatAssignAction,\n  runtimeDisplayRule: rule!CMGT_Case_Rules_FormatAssignAction,\n  /*process to be run to assigne a case*/\n  PmConstant: cons!CMGT_PM_ROLE_MANAGE,\n  /*evaluation rule that runs and outputs the necessary process parameters*/\n  pmParameterEvalRule: rule!CMGT_AUTO_EVAL_CaseAssignment_DetermineProcessParameters,\n  context: cons!CMGT_CFG_TXT_ACT_CONTEXT_CASE,\n  createdBy: \"system\"\n)"
    },
    "_a-0000ea2f-ac11-8000-9bf4-011c48011c48_588925": {
      "name": "CMGT_UTIL_DisplayUserFullName",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(a!isNotNullOrEmpty(ri!username), isusernametaken(ri!username)),\n  concat(\n    user(ri!username, \"firstName\"),\n    \" \",\n    user(ri!username, \"lastName\")\n  ),\n  ri!username\n)"
    },
    "_a-0000edbd-1f9f-8000-9d6d-011c48011c48_4082103": {
      "name": "CMGT_CaseTypeMetadata_formatDetailsCardLayout",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_cardLayout\"(\n  marginBelow: \"STANDARD\",\n  shape: ri!brandingMap.CardShape,\n  showBorder: ri!brandingMap.CardShowBorder,\n  showShadow: ri!brandingMap.CardShowShadow,\n  style: ri!brandingMap.CardBackgroundColor,\n  borderColor: ri!brandingMap.CardBorderColor,\n  contents: {\n    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n      alignVertical: \"MIDDLE\",\n      spacing: \"SPARSE\",\n      items: {\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          width: \"MINIMIZE\",\n          item: #\"SYSTEM_SYSRULES_stampField\"(\n            shape: \"SQUARED\",\n            icon: ri!stampIcon,\n            backgroundColor: ri!brandingMap.StandardStampBackgroundColor,\n            contentColor: ri!brandingMap.StandardStampContentColor\n          )\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: ri!label),\n            labelPosition: \"COLLAPSED\",\n            value: {\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: ri!label,\n                size: \"STANDARD\",\n                color: ri!brandingMap.SecondaryTextColor\n              ),\n              char(\n                10\n              ),\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: ri!value,\n                size: \"MEDIUM\"\n              )\n            }\n          ),\n\n        )\n      }\n    ),\n\n  }\n)"
    },
    "_a-0000e9d3-70bf-8000-9bbd-011c48011c48_180552": {
      "name": "CMGT_UTIL_cast",
      "type": "Expression Rule",
      "sail_code": "with(  \n  local!typeNumber: rule!CMGT_UTIL_returnTypeNumber(\n    type: ri!type,\n    typeOf: ri!typeOf\n  ),\n\n  /* If the object is empty, use null or {} depending on if it is array type or not */\n  local!objectToCast: if(\n    rule!CMGT_UTIL_IsNotBlank(ri!value),\n    ri!value,\n    rule!CMGT_UTIL_checkIfSingleType(\n      type: ri!type,\n      typeOf: ri!typeOf\n    ),\n    null,\n    {}\n  ),\n\n  cast(\n    local!typeNumber,\n    local!objectToCast\n  )\n  \n)"
    },
    "_a-0000ecac-72b0-8000-9cf2-011c48011c48_3152780": {
      "name": "CMGT_returnAvailableFields",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!availableCaseFieldsCustomizations: rule!CMGT_AUTO_EVAL_AvailableFieldsCustomizationsWrapper_Case(),\n  local!availableTaskFieldsCustomizations: rule!CMGT_AUTO_EVAL_AvailableFieldsCustomizationsWrapper_Task(),\n  local!studioParentRecordTypeUuid: a!defaultValue(\n    ri!caseTypeRecordTypeUuid,\n    ri!parentCaseTypeRecordTypeUuid\n  ),\n  local!caseFields: append(\n    rule!CMGT_UTIL_RejectBlank(\n      a!flatten(\n        local!availableCaseFieldsCustomizations.fieldMapsToAdd\n      )\n    ),\n    a!flatten(\n      local!availableCaseFieldsCustomizations.customFieldsToAdd\n    )\n  ),\n  local!taskFields: if(\n    ri!scope = \"TASK\",\n    append(\n      rule!CMGT_UTIL_RejectBlank(\n        a!flatten(\n          local!availableTaskFieldsCustomizations.fieldMapsToAdd\n        )\n      ),\n      a!flatten(\n        local!availableTaskFieldsCustomizations.customFieldsToAdd\n      )\n    ),\n    null()\n  ),\n  local!controlPanelHierarchy: #\"SYSTEM_SYSRULES_controlPanelRecordHierarchyMetadata\"(\n    controlPanel: #\"urn:appian:control-panel:v1:1b82dc2b-d4df-44ed-ac7c-3cce3b4ee0e0\",\n    recordUuid: local!studioParentRecordTypeUuid\n  ),\n  local!studioFields: rule!CMGT_formatStudioFieldHierarchy(\n    controlPanelHierarchy: local!controlPanelHierarchy\n  ),\n  local!allFields: rule!CMGT_UTIL_RejectBlank(\n    a!flatten(\n      {\n        local!studioFields,\n        local!caseFields,\n        local!taskFields\n      }\n    )\n  ),\n  local!containsDuplicateNames: count(local!allFields.displayName) <> count(\n    rule!CMGT_UTIL_Distinct(local!allFields.displayName)\n  ),\n  local!formatFieldLabels: #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!allFields,\n    expression: #\"urn:appian:function:v1:a:update\"(\n      data: fv!item,\n      index: \"label\",\n      value: if(\n        and(\n          local!containsDuplicateNames,\n          /*Determines is the field is a duplicate   */\n          count(\n            wherecontains(\n              fv!item.displayName,\n              local!allFields.displayName\n            )\n          ) > 1\n        ),\n        a!match(\n          value: fv!item.parentRecordTypeUuid,\n          equals: cons!CMGT_UUID_RECORD_TYPE_CASE,\n          then: concat(\"Case \", fv!item.displayName),\n          equals: cons!CMGT_UUID_RECORD_TYPE_TASK,\n          then: concat(\"Task \", fv!item.displayName),\n          default: fv!item.displayName,\n          \n        ),\n        fv!item.displayName\n      )\n    )\n  ),\n  local!formatFieldLabels\n)"
    },
    "_a-0000eab0-e049-8000-9c27-011c48011c48_1006075": {
      "name": "CMGT_WFL_Case_GenerateCaseCreationMilestones_Logic",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!referenceMilestones: rule!CMGT_WFL_QR_GetReferenceMilestone(\n    executeWhen: a!isNotNullOrEmpty(\n      ri!case[recordType!CMGT_Case.caseTypeUuid]\n    ),\n    caseTypeUuid: ri!case[recordType!CMGT_Case.caseTypeUuid]\n  ),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!referenceMilestones,\n    expression: recordType!CMGT_Milestone(\n      recordType!CMGT_Milestone.caseId: ri!case[recordType!CMGT_Case.caseId],\n      recordType!CMGT_Milestone.referenceMilestoneUuid: fv!item[recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid],\n      recordType!CMGT_Milestone.label: fv!item[recordType!CMGT_WFL_CFG_ReferenceMilestone.label],\n      recordType!CMGT_Milestone.milestoneColor: fv!item[recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor],\n      recordType!CMGT_Milestone.sortOrder: fv!item[recordType!CMGT_WFL_CFG_ReferenceMilestone.sortOrder]\n    )\n  )\n)"
    },
    "_a-0000e9c0-fc38-8000-9bb5-011c48011c48_126719": {
      "name": "CMGT_UTIL_DisplayDueDate",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!dueDisplay: rule!CMGT_UTIL_FormatDueDate(\n    dueOn: ri!dueOn,\n    iconSize: ri!size,\n    brandingMap: ri!brandingMap,\n    showAsOverdueWhen: ri!showAsOverdueWhen\n  ),\n  local!textColor: a!defaultValue(\n    ri!overrideTextColor,\n    if(\n      and(\n        ri!dueOn < now(),\n        ri!showAsOverdueWhen,\n        a!isNotNullOrEmpty(ri!dueOn)\n      ),\n      ri!brandingMap.StandardTextColor,\n      a!defaultValue(\n        ri!defaultTextColor,\n        ri!brandingMap.StandardTextColor\n      )\n    )\n  ),\n  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n    label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Due Date\"),\n    labelPosition: \"COLLAPSED\",\n    value: {\n      index(local!dueDisplay, \"icon\", null),\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: {\n          if(\n            a!isNotNullOrEmpty(index(local!dueDisplay, \"icon\", null), ),\n            char(32),\n            {}\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: { ri!additionalText, \" \" },\n            showWhen: and(\n              a!isNotNullOrEmpty(ri!additionalText),\n              ri!dueOn > now(),\n              or(\n                a!isNotNullOrEmpty(ri!dueOn),\n                ri!showIcon = false()\n              )\n            ),\n            color: local!textColor,\n            size: ri!size\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: index(local!dueDisplay, \"text\", null),\n            color: local!textColor,\n            size: ri!size,\n            style: ri!style\n          )\n        }\n      )\n    },\n    showWhen: ri!showWhen,\n    align: ri!align\n  )\n)"
    },
    "_a-0000ea95-307e-8000-9c1a-011c48011c48_937953": {
      "name": "CMGT_Case_Sub_SuggestedCasesDetailsSmall",
      "type": "Interface",
      "sail_code": "{\n  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n    label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Case Identitifer\"),\n    labelPosition: \"COLLAPSED\",\n    value: {\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: {\n          ri!case[recordType!CMGT_Case.friendlyId],\n          \" \",\n          ri!case[recordType!CMGT_Case.title],\n\n        },\n        color: ri!brandingMap.StandardTextColor,\n        size: \"STANDARD\",\n        style: \"STRONG\"\n      ),\n\n    },\n    preventWrapping: true,\n    marginBelow: \"EVEN_LESS\"\n  ),\n  #\"SYSTEM_SYSRULES_tagField\"(\n    label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Case Staus\"),\n    labelPosition: \"COLLAPSED\",\n    tags: #\"SYSTEM_SYSRULES_tagItem\"(\n      text: ri!case[recordType!CMGT_Case.status.statusLabel],\n      backgroundColor: rule!CMGT_UTIL_DisplayBranding(\n        brandingMap: ri!brandingMap,\n        key: ri!case[recordType!CMGT_Case.status.softColor]\n      ),\n      textColor: rule!CMGT_UTIL_DisplayBranding(\n        brandingMap: ri!brandingMap,\n        key: ri!case[recordType!CMGT_Case.status.textColor]\n      )\n    ),\n    size: \"SMALL\"\n  ),\n  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n    value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n      text: #\"urn:appian:translation-string:v1:47c0f678-c7ec-47ad-ac82-1751a615f89c\"(\n        #\"urn:appian:translation-variable:v1:9162e0ba-fea7-496d-8944-cd3d29902607\": rule!CMGT_UTIL_FormatDateTime(\n          dateTime: ri!case[recordType!CMGT_Case.modifiedOn],\n          convertToSystemTimeZone: true\n        )\n      ),\n      color: ri!brandingMap.SecondaryTextColor,\n      size: \"SMALL\"\n    )\n  )\n}"
    },
    "_a-0000e9e5-e5dd-8000-9bc7-011c48011c48_232566": {
      "name": "CMGT_UTIL_GetSubFolderByType",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!parentFolderId),\n  tofolder(null),\n  tofolder(\n    a!localVariables(\n      local!allFolders: #\"SYSTEM_SYSRULES_forEach\"(\n        items: {\n          ri!parentFolderId,\n          folder(ri!parentFolderId, \"folderChildren\")\n        },\n        expression: a!map(\n          name: folder(fv!item, \"name\"),\n          folderId: fv!item\n        )\n      ),\n      local!filterForType: index(\n        a!flatten(\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!allFolders,\n            expression: if(\n              search(ri!folderType, fv!item.name),\n              fv!item.folderId,\n              {}\n            )\n          )\n        ),\n        1,\n        null\n      ),\n      a!defaultValue(local!filterForType, ri!parentFolderId)\n    )\n  )\n)"
    },
    "_a-0000ed1b-3d9b-8000-9d29-011c48011c48_3514771": {
      "name": "CMGT_UTIL_DeepIndex",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!CMGT_UTIL_IsBlank(value: ri!item),\n  {},\n  if(\n    rule!CMGT_UTIL_IsBlank(value: ri!indexArray),\n    ri!item,\n    reduce(index(_, _, {}), ri!item, ri!indexArray)\n  )\n)"
    },
    "_a-0000e9dc-ab93-8000-9bc2-011c48011c48_205262": {
      "name": "CMGT_UTIL_CustomPaging",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_richTextDisplayField\"(\n  labelPosition: \"COLLAPSED\",\n  value: {\n    #\"SYSTEM_SYSRULES_richTextIcon\"(\n      icon: \"angle-double-left\",\n      altText: if(\n        ri!pagingInfo.startIndex = 1,\n        {},\n        #\"urn:appian:translation-string:v1:ed587018-95bf-4158-b3aa-49f5ce54059a\"\n      ),\n      link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n        saveInto: { a!save(ri!pagingInfo.startIndex, 1) },\n        showWhen: not(ri!pagingInfo.startIndex = 1)\n      ),\n      linkStyle: \"STANDALONE\",\n      color: if(\n        ri!pagingInfo.startIndex = 1,\n        ri!brandingMap.SecondaryTextColor,\n        ri!brandingMap.AccentColor\n      ),\n      size: ri!size\n    ),\n    #\"SYSTEM_SYSRULES_richTextIcon\"(\n      icon: \"angle-left\",\n      altText: if(\n        ri!pagingInfo.startIndex = 1,\n        {},\n        #\"urn:appian:translation-string:v1:577b13c4-f7eb-4811-b548-f8cf995c101a\"\n      ),\n      link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n        saveInto: {\n          a!save(\n            ri!pagingInfo.startIndex,\n            max(\n              1,\n              ri!pagingInfo.startIndex - ri!pagingInfo.batchSize\n            )\n          )\n        },\n        showWhen: not(ri!pagingInfo.startIndex = 1)\n      ),\n      linkStyle: \"STANDALONE\",\n      color: if(\n        ri!pagingInfo.startIndex = 1,\n        ri!brandingMap.SecondaryTextColor,\n        ri!brandingMap.AccentColor\n      ),\n      size: ri!size\n    ),\n    \" \",\n    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n      text: {\n        min(ri!pagingInfo.startIndex, ri!totalCount),\n        \" - \",\n        min(\n          ri!pagingInfo.startIndex + ri!pagingInfo.batchSize - 1,\n          ri!totalCount\n        )\n      },\n      size: ri!size,\n      style: \"STRONG\"\n    ),\n    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n      text: {\n        \" \",\n        #\"urn:appian:translation-string:v1:163f6484-a689-4dc0-a84a-23eba79ab2c1\",\n        \" \",\n        text(ri!totalCount, \"###,###,###,###,###\")\n      },\n      size: ri!size\n    ),\n    \" \",\n    #\"SYSTEM_SYSRULES_richTextIcon\"(\n      icon: \"angle-right\",\n      altText: if(\n        ri!pagingInfo.startIndex + ri!pagingInfo.batchSize - 1 >= ri!totalCount,\n        {},\n        #\"urn:appian:translation-string:v1:358b472b-b442-4c8f-a00b-c9e5427a2ded\"\n      ),\n      link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n        saveInto: {\n          a!save(\n            ri!pagingInfo.startIndex,\n            ri!pagingInfo.startIndex + ri!pagingInfo.batchSize\n          )\n        },\n        showWhen: not(\n          ri!pagingInfo.startIndex + ri!pagingInfo.batchSize - 1 >= ri!totalCount\n        )\n      ),\n      linkStyle: \"STANDALONE\",\n      color: if(\n        ri!pagingInfo.startIndex + ri!pagingInfo.batchSize - 1 >= ri!totalCount,\n        ri!brandingMap.SecondaryTextColor,\n        ri!brandingMap.AccentColor\n      ),\n      size: ri!size\n    ),\n    #\"SYSTEM_SYSRULES_richTextIcon\"(\n      icon: \"angle-double-right\",\n      altText: if(\n        ri!pagingInfo.startIndex + ri!pagingInfo.batchSize - 1 >= ri!totalCount,\n        {},\n        #\"urn:appian:translation-string:v1:9d646fda-f9c2-461b-992a-ca32d38f237b\"\n      ),\n      link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n        saveInto: {\n          a!save(\n            ri!pagingInfo.startIndex,\n            if(\n              mod(ri!totalCount, ri!pagingInfo.batchSize) = 0,\n              ri!totalCount - ri!pagingInfo.batchSize + 1,\n              ri!totalCount - mod(ri!totalCount, ri!pagingInfo.batchSize) + 1\n            )\n          )\n        },\n        showWhen: not(\n          ri!pagingInfo.startIndex + ri!pagingInfo.batchSize - 1 >= ri!totalCount\n        )\n      ),\n      linkStyle: \"STANDALONE\",\n      color: if(\n        ri!pagingInfo.startIndex + ri!pagingInfo.batchSize - 1 >= ri!totalCount,\n        ri!brandingMap.SecondaryTextColor,\n        ri!brandingMap.AccentColor\n      ),\n      size: ri!size\n    )\n  },\n  showWhen: ri!totalCount > 0,\n  align: \"RIGHT\"\n)"
    },
    "_a-0000ee67-6b40-8000-9d9d-011c48011c48_4637699": {
      "name": "CMGT_KB_DisplayResource",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!selectedResource: rule!CMGT_KB_QR_GetResources(\n    resourceIds: ri!selectedResource[recordType!CMGT_KB_Resource.resourceId],\n    returnType: \"SINGLE_OBJECT\",\n    fields: {\n      recordType!CMGT_KB_Resource.document,\n      recordType!CMGT_KB_Resource.caseType\n    },\n    triggerRefresh: ri!triggerRefresh\n  ),\n  local!configurationMaps: {\n    a!map(\n      icon: \"user-edit\",\n      label: #\"urn:appian:translation-string:v1:de4280e1-9df9-427a-ade6-ad4c8c302e57\",\n      value: if(\n        rule!CMGT_UTIL_IsBlank(\n          value: local!selectedResource[recordType!CMGT_KB_Resource.createdBy]\n        ),\n        cons!CMGT_TXT_EMPTY_VALUE,\n        #\"urn:appian:translation-string:v1:1f5aedd6-a580-4aa1-a0b8-ef6748685f81\"(\n          #\"urn:appian:translation-variable:v1:2c46855b-18ce-4c7f-95f5-dbc5ba5052e1\": rule!CMGT_UTIL_FormatDateTime(\n            dateTime: local!selectedResource[recordType!CMGT_KB_Resource.createdOn]\n          ),\n          #\"urn:appian:translation-variable:v1:91852aef-c0e1-4b48-9e71-abdc24704bfd\": rule!CMGT_UTIL_DisplayUser(\n            userRecord: local!selectedResource[recordType!CMGT_KB_Resource.createdByUser],\n            user: local!selectedResource[recordType!CMGT_KB_Resource.createdBy]\n          )\n        )\n      )\n    ),\n    a!map(\n      icon: \"calendar-alt\",\n      label: #\"urn:appian:translation-string:v1:b483221d-7b1d-47db-a053-4256414c415d\",\n      value: if(\n        rule!CMGT_UTIL_IsBlank(\n          value: local!selectedResource[recordType!CMGT_KB_Resource.modifiedBy]\n        ),\n        cons!CMGT_TXT_EMPTY_VALUE,\n        #\"urn:appian:translation-string:v1:4230a36e-eec1-42d0-99d4-0074cb4b2cd7\"(\n          #\"urn:appian:translation-variable:v1:a4c67cf6-9c2d-4ec2-938d-4439ce74bf5a\": rule!CMGT_UTIL_FormatDateTime(\n            dateTime: local!selectedResource[recordType!CMGT_KB_Resource.modifiedOn]\n          ),\n          #\"urn:appian:translation-variable:v1:f5c7ddaa-3c1b-4f24-b71e-f152971c2168\": rule!CMGT_UTIL_DisplayUser(\n            userRecord: local!selectedResource[recordType!CMGT_KB_Resource.modifiedByUser],\n            user: local!selectedResource[recordType!CMGT_KB_Resource.modifiedBy]\n          )\n        )\n      )\n    )\n  },\n  {\n    #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n      contents: {\n        #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          labelPosition: \"COLLAPSED\",\n          value: {\n            #\"SYSTEM_SYSRULES_richTextIcon\"(\n              icon: \"arrow-left\",\n              color: ri!brandingMap.AccentColor\n            ),\n            char(32),\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: #\"urn:appian:translation-string:v1:ee1aacf0-bdaf-4cb2-8a1e-12725f46b10d\",\n              link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                saveInto: a!save(ri!selectedResource, null())\n              ),\n              linkStyle: \"STANDALONE\",\n              color: ri!brandingMap.AccentColor\n            )\n          },\n          marginBelow: \"MORE\"\n        ),\n        #\"SYSTEM_SYSRULES_columnsLayout\"(\n          columns: {\n            #\"SYSTEM_SYSRULES_columnLayout\"(\n              contents: #\"SYSTEM_SYSRULES_cardLayout\"(\n                contents: {\n                  rule!CMGT_UTIL_HeaderField(\n                    label: local!selectedResource[recordType!CMGT_KB_Resource.title],\n                    labelSize: ri!brandingMap.SecondaryHeaderSize,\n                    divider: \"NONE\",\n                    rightSideContents: #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n                      actions: #\"SYSTEM_SYSRULES_recordActionItem\"(\n                        action: #\"urn:appian:record-action:v1:462e1408-1c19-4591-b946-fce9233909ce/9aa4ecca-b970-4f2a-8a8d-94c97708d009\",\n                        identifier: local!selectedResource[recordType!CMGT_KB_Resource.resourceId]\n                      ),\n                      style: \"LINKS\",\n                      align: \"END\",\n                      display: \"ICON\"\n                    ),\n                    marginBelow: \"LESS\",\n                    marginAbove: \"NONE\",\n                    labelFontWeight: ri!brandingMap.SecondaryHeaderFontWeight\n                  ),\n                  a!match(\n                    value: local!selectedResource[recordType!CMGT_KB_Resource.resourceTypeId],\n                    equals: 1,\n                    then: #\"SYSTEM_SYSRULES_cardLayout\"(\n                      contents: rule!CMGT_UTIL_RichTextField(\n                        labelPosition: \"COLLAPSED\",\n                        value: local!selectedResource[recordType!CMGT_KB_Resource.resourceText.resourceText],\n                        readOnly: true()\n                      ),\n                      showBorder: false(),\n                      shape: ri!brandingMap.CardShape\n                    ),\n                    equals: 2,\n                    then: #\"SYSTEM_SYSRULES_cardLayout\"(\n                      contents: #\"SYSTEM_SYSRULES_documentViewerField\"(\n                        document: local!selectedResource[recordType!CMGT_KB_Resource.document.appianDocumentId]\n                      ),\n                      showBorder: false(),\n                      shape: ri!brandingMap.CardShape\n                    ),\n                    default: {}\n                  )\n                },\n                style: ri!brandingMap.ConfigBackgroundColor,\n                shape: ri!brandingMap.CardShape,\n                padding: \"LESS\",\n                marginAbove: \"NONE\",\n                showBorder: false()\n              ),\n              width: \"6X\"\n            ),\n            /* Configuration section */\n            #\"SYSTEM_SYSRULES_columnLayout\"(\n              contents: #\"SYSTEM_SYSRULES_cardLayout\"(\n                contents: {\n                  rule!CMGT_UTIL_HeaderField(\n                    label: #\"urn:appian:translation-string:v1:a5fbd21e-a576-458a-a61d-fa38065ed4ee\",\n                    labelSize: ri!brandingMap.SecondaryHeaderSize,\n                    divider: \"NONE\",\n                    rightSideContents: {},\n                    marginBelow: \"LESS\",\n                    marginAbove: \"NONE\",\n                    labelFontWeight: ri!brandingMap.SecondaryHeaderFontWeight\n                  ),\n                  #\"SYSTEM_SYSRULES_forEach\"(\n                    items: local!configurationMaps,\n                    expression: {\n                      #\"SYSTEM_SYSRULES_cardLayout\"(\n                        contents: #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                          spacing: \"STANDARD\",\n                          marginBelow: \"NONE\",\n                          marginAbove: \"NONE\",\n                          items: {\n                            #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                              item: #\"SYSTEM_SYSRULES_stampField\"(\n                                labelPosition: \"COLLAPSED\",\n                                icon: fv!item.icon,\n                                backgroundColor: ri!brandingMap.StandardStampBackgroundColor,\n                                contentColor: ri!brandingMap.StandardStampContentColor,\n                                size: \"TINY\",\n                                align: \"CENTER\",\n                                marginAbove: \"NONE\",\n                                marginBelow: \"NONE\",\n                                shape: ri!brandingMap.StandardStampShape\n                              ),\n                              width: \"MINIMIZE\"\n                            ),\n                            #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                              item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                labelPosition: \"COLLAPSED\",\n                                value: {\n                                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                    text: fv!item.label,\n                                    color: ri!brandingMap.SecondaryTextColor,\n                                    size: ri!brandingMap.H2Size\n                                  ),\n                                  char(10),\n                                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(text: fv!item.value)\n                                },\n                                align: \"LEFT\",\n                                marginAbove: \"NONE\",\n                                marginBelow: \"NONE\"\n                              ),\n                              width: \"10X\"\n                            ),\n                            #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                              item: #\"SYSTEM_SYSRULES_tagField\"(\n                                labelPosition: \"COLLAPSED\",\n                                tags: #\"SYSTEM_SYSRULES_tagItem_v1\"(\n                                  text: local!selectedResource[recordType!CMGT_KB_Resource.status],\n                                  backgroundColor: if(\n                                    local!selectedResource[recordType!CMGT_KB_Resource.status] = #\"urn:appian:translation-string:v1:70cee055-b42f-49e0-8e78-1f77503c3f78\",\n                                    ri!brandingMap.WarningBackgroundColor,\n                                    ri!brandingMap.TagBackgroundColor\n                                  ),\n                                  textColor: if(\n                                    local!selectedResource[recordType!CMGT_KB_Resource.status] = #\"urn:appian:translation-string:v1:70cee055-b42f-49e0-8e78-1f77503c3f78\",\n                                    ri!brandingMap.WarningTextColor,\n                                    ri!brandingMap.InfoTextColor\n                                  )\n                                ),\n                                showWhen: fv!isFirst,\n                                align: \"END\"\n                              ),\n                              width: \"5X\"\n                            )\n                          }\n                        ),\n                        shape: ri!brandingMap.CardShape,\n                        padding: \"LESS\",\n                        marginAbove: \"NONE\",\n                        showBorder: false()\n                      ),\n                      #\"SYSTEM_SYSRULES_richTextDisplayField\"(labelPosition: \"COLLAPSED\")\n                    }\n                  )\n                },\n                style: ri!brandingMap.ConfigBackgroundColor,\n                shape: ri!brandingMap.CardShape,\n                padding: \"LESS\",\n                marginAbove: \"NONE\",\n                showBorder: false()\n              ),\n              width: \"4X\"\n            )\n          }\n        )\n      }\n    )\n  }\n)"
    },
    "_a-0000ed80-c26f-8000-9d4d-011c48011c48_3833438": {
      "name": "CMGT_GetRuntimeConfigAutomationRulesForTask",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_QR_GetTask(\n  taskIntentionCodes: {cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_RUNTIME_CONFIG_TRIGGER},\n  fields: {\n    recordType!CMGT_Task.taskInstanceUuid,\n    recordType!CMGT_Task.taskIntentionCode,\n    recordType!CMGT_Task.automationTaskAction,\n    recordType!CMGT_Task.automationTaskAction,\n    #\"urn:appian:record-relationship:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/45ed19eb-2545-4c96-9e19-72127f9d27a3/dc83b26a-0034-46f4-8085-5887ad59bc08/86c11a87-1ab5-4e62-93f2-b7d24e412b3a\",\n    recordType!CMGT_Task.conditionSet,\n    recordType!CMGT_Task.automationTrigger,\n    recordType!CMGT_Task.triggerContext,\n    recordType!CMGT_Task.automationParentWorkflowTaskInstanceUuid\n  },\n  additionalLogicalExpression: {\n    #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n      operator: \"AND\",\n      filters: {\n      },\n      logicalExpressions: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n        operator: \"AND\",\n        logicalExpressions: {\n          #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"OR\",\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_Task.automationParentWorkflowTaskInstanceUuid,\n                operator: \"=\",\n                value: ri!task[recordType!CMGT_Task.taskInstanceUuid],\n              )\n            }\n          ),\n          #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"OR\",\n            logicalExpressions: {\n              /*filters on rules where the trigger does not need any context -TODO*/\n              /*filters on rules where the context is needed*/\n              #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"AND\",\n                filters: {\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: recordType!CMGT_Task.automationTrigger.triggerId,\n                    operator: \"in\",\n                    value: ri!triggerIds,\n                    applyWhen: contains(ri!triggerIds, cons!CMGT_REFID_TRIGGER_TASK_FIELD_IS_UPDATED)\n                  ),\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: recordType!CMGT_Task.triggerContext,\n                    operator: \"in\",\n                    value: ri!triggerContext,\n                    applyWhen: contains(ri!triggerIds, cons!CMGT_REFID_TRIGGER_TASK_FIELD_IS_UPDATED)\n                  )\n                }\n              )\n            },\n            filters: {}\n          )\n        }\n      )\n    )\n  },\n  sort: {\n    #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_Task.sortOrder,\n      ascending: true\n    )\n  }\n)\n"
    },
    "_a-0000ea4b-5b86-8000-9bfd-011c48011c48_721577": {
      "name": "CMGT_WFL_ReferenceTask_RecordGrid",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_gridField_v3\"(\n  label: ri!label,\n  labelPosition: a!defaultValue(ri!labelPosition, \"COLLAPSED\"),\n  emptyGridMessage: #\"urn:appian:translation-string:v1:16c803f0-8c55-49fb-bd16-754c1d55fae0\",\n  data: #\"SYSTEM_SYSRULES_recordData\"(\n    recordType: recordType!CMGT_WFL_CFG_ReferenceTask,\n    filters: if(\n      ri!showOnlyActiveTasks,\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_WFL_CFG_ReferenceTask.isActive,\n        operator: \"=\",\n        value: true\n      ),\n      {}\n    )\n  ),\n  columns: {\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:b6952414-89c9-41ca-b623-3904e55c50b0\",\n      sortField: recordType!CMGT_WFL_CFG_ReferenceTask.nameLabel,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        value: {\n          #\"SYSTEM_SYSRULES_richTextIcon\"(\n            icon: fv!row[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType.icon],\n            caption: #\"urn:appian:translation-string:v1:6f0faf57-3d4b-45c2-a1f8-099820a4ced1\",\n            showWhen: fv!row[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType.isAutomated],\n            color: ri!brandingMap.StandardTextColor\n          ),\n          char(32),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: fv!row[recordType!CMGT_WFL_CFG_ReferenceTask.nameLabel],\n            style: \"STRONG\",\n            color: ri!brandingMap.StandardTextColor\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: \" \" & #\"urn:appian:translation-string:v1:c3cf77cc-ade1-4b17-bea9-5012476ef73f\",\n            showWhen: fv!row[recordType!CMGT_WFL_CFG_ReferenceTask.isActive] = false,\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\",\n            style: \"EMPHASIS\"\n          )\n        }\n      )\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:87b80513-1e00-457f-92aa-c7df18190cd5\",\n      sortField: recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType.label,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        value: {\n          #\"SYSTEM_SYSRULES_richTextIcon\"(\n            icon: fv!row[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType.icon],\n            color: ri!brandingMap.StandardTextColor,\n\n          ),\n          \" \",\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: fv!row[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType.label]\n          )\n        }\n      )\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:9ef20f7e-d182-48ed-8b39-7a5219d71816\",\n      sortField: recordType!CMGT_WFL_CFG_ReferenceTask.defaultGroupAssignee,\n      value: if(\n        isnull(\n          fv!row[recordType!CMGT_WFL_CFG_ReferenceTask.defaultGroupAssignee]\n        ),\n        cons!CMGT_TXT_EMPTY_VALUE,\n        group(\n          fv!row[recordType!CMGT_WFL_CFG_ReferenceTask.defaultGroupAssignee],\n          \"groupName\"\n        )\n      ),\n      showWhen: ri!isExpandedView\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:a3c034f0-ccfe-4859-80b4-c74fff78c63a\",\n      sortField: recordType!CMGT_WFL_CFG_ReferenceTask.createdOn,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: rule!CMGT_UTIL_FormatDateTime(\n              dateTime: fv!row[recordType!CMGT_WFL_CFG_ReferenceTask.createdOn],\n              includeTime: false()\n            ),\n            color: ri!brandingMap.StandardTextColor\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              char(10),\n              fv!row[#\"urn:appian:record-field:v1:3dbe5fed-28bf-4f27-aa59-eb2c940289b4/39036111-1388-44d3-a545-db0c880eaa01/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\"]\n            },\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\"\n          )\n        }\n      ),\n      showWhen: ri!isExpandedView,\n      align: \"END\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:11bd60d9-131f-4409-8bf0-7ef9c57dd366\",\n      sortField: recordType!CMGT_WFL_CFG_ReferenceTask.modifiedOn,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: rule!CMGT_UTIL_FormatDateTime(\n              dateTime: fv!row[recordType!CMGT_WFL_CFG_ReferenceTask.modifiedOn],\n              includeTime: false()\n            ),\n            color: ri!brandingMap.StandardTextColor\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              char(10),\n              fv!row[#\"urn:appian:record-field:v1:3dbe5fed-28bf-4f27-aa59-eb2c940289b4/20657a72-01c8-4f44-ab1d-8264a346b928/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\"]\n            },\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\"\n          )\n        }\n      ),\n      showWhen: ri!isExpandedView,\n      align: \"END\"\n    ),\n    /*Actions*/\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      value: #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n        actions: {\n          /*action: updateReferenceTask*/\n          #\"SYSTEM_SYSRULES_recordActionItem\"(\n            action: #\"urn:appian:record-action:v1:3dbe5fed-28bf-4f27-aa59-eb2c940289b4/08727f68-4a3b-43dd-9d74-a20b3ca9b45f\",\n            identifier: fv!identifier\n          ),\n          /*action: inactivateTask*/\n          #\"SYSTEM_SYSRULES_recordActionItem\"(\n            action: #\"urn:appian:record-action:v1:3dbe5fed-28bf-4f27-aa59-eb2c940289b4/dab179fa-7524-47b7-bfde-bf5b695b08c6\",\n            identifier: fv!identifier\n          )\n        },\n        style: \"MENU_ICON\",\n        securityOnDemand: not(\n          cons!CMGT_BOL_AUTOMATION_TESTING_LABEL_SWITCH\n        )\n      ),\n      showWhen: ri!isExpandedView,\n      align: \"CENTER\",\n      width: \"ICON\"\n    )\n  },\n  pageSize: a!defaultValue(\n    ri!pageSize,\n    cons!CMGT_INT_BATCH_SIZE_LARGE\n  ),\n  initialSorts: if(\n    ri!isExpandedView,\n    #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_WFL_CFG_ReferenceTask.modifiedOn,\n      ascending: false\n    ),\n    #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_WFL_CFG_ReferenceTask.nameLabel,\n      ascending: true\n    )\n  ),\n  selectable: ri!selectable,\n  selectionValue: ri!selectedReferenceTaskIds,\n  selectionSaveInto: ri!selectedReferenceTaskIds,\n  validations: {},\n  borderStyle: \"LIGHT\",\n  refreshAfter: \"RECORD_ACTION\",\n  userFilters: {\n    #\"urn:appian:user-filter:v1:3dbe5fed-28bf-4f27-aa59-eb2c940289b4/edf09a91-8ea9-4cd6-8a15-b4a092c60f63\",\n    if(\n      ri!isExpandedView,\n      {\n        #\"urn:appian:user-filter:v1:3dbe5fed-28bf-4f27-aa59-eb2c940289b4/5f709eee-094b-4a85-9d6c-c08d01e96faf\"\n      },\n      {}\n    ),\n    if(\n      ri!showOnlyActiveTasks,\n      {},\n      #\"urn:appian:user-filter:v1:3dbe5fed-28bf-4f27-aa59-eb2c940289b4/1ac8a2d2-ae6b-4d2e-b931-4b9d7b5e1342\"\n    )\n  },\n  showSearchBox: true,\n  showRefreshButton: ri!isExpandedView,\n  showExportButton: false\n)"
    },
    "_a-0000ed2d-b44d-8000-9d2f-011c48011c48_3541180": {
      "name": "CMGT_generateTaskActionFromCfgTaskAction",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!newTaskActionUuid: index(\n    rule!CMGT_UTIL_Filter(\n      records: ri!taskActionNewUUIDMapping,\n      field: \"taskActionUuid\",\n      value: ri!cfgTaskAction[recordType!CMGT_WFL_CFG_TaskActions.taskActionUuid]\n    ),\n    \"newUuid\",\n    null\n  ),\n  recordType!CMGT_TaskActions(\n    recordType!CMGT_TaskActions.taskInstanceUuid: ri!taskInstanceUUID,\n    recordType!CMGT_TaskActions.taskActionUuid: local!newTaskActionUuid,\n    recordType!CMGT_TaskActions.actionCode: ri!cfgTaskAction[recordType!CMGT_WFL_CFG_TaskActions.actionCode],\n    recordType!CMGT_TaskActions.isActive: ri!cfgTaskAction[recordType!CMGT_WFL_CFG_TaskActions.isActive],\n    recordType!CMGT_TaskActions.associatedAssignmentRule: recordType!CMGT_AssignmentRule(\n      recordType!CMGT_AssignmentRule.taskActionUuid: local!newTaskActionUuid,\n      recordType!CMGT_AssignmentRule.routingType: ri!cfgTaskAction[recordType!CMGT_WFL_CFG_TaskActions.associatedAssignmentRule.routingType],\n      recordType!CMGT_AssignmentRule.assignmentVersion: ri!cfgTaskAction[recordType!CMGT_WFL_CFG_TaskActions.associatedAssignmentRule.assignmentVersion],\n      recordType!CMGT_AssignmentRule.assignmentJson: ri!cfgTaskAction[recordType!CMGT_WFL_CFG_TaskActions.associatedAssignmentRule.assignmentJson],\n      recordType!CMGT_AssignmentRule.assigneeType: ri!cfgTaskAction[recordType!CMGT_WFL_CFG_TaskActions.associatedAssignmentRule.assigneeType],\n      recordType!CMGT_AssignmentRule.isActive: ri!cfgTaskAction[recordType!CMGT_WFL_CFG_TaskActions.associatedAssignmentRule.isActive],\n      recordType!CMGT_AssignmentRule.caseAssignmentUsersToExclude: #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!cfgTaskAction[recordType!CMGT_WFL_CFG_TaskActions.associatedAssignmentRule],\n        expression: recordType!CMGT_CaseAssignmentUsersToExclude(\n          recordType!CMGT_CaseAssignmentUsersToExclude.username: fv!item[recordType!CMGT_CFG_AssignmentRule_UsersToExclude.username]\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e9a5-4cb8-8000-9bac-011c48011c48_84066": {
      "name": "CMGT_SitePage_Workspace_InternalUser",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!brandingMap: rule!CMGT_UTIL_LoadBrandingMap(),\n  local!loggedInUser: loggedInUser(),\n  local!triggerRefresh: a!refreshVariable(\n    value: now(),\n    refreshAfter: \"RECORD_ACTION\"\n  ),\n  local!caseAssigneeLogicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n    operator: \"AND\",\n    filters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_Case.roles.userAssignee,\n        operator: \"=\",\n        value: local!loggedInUser\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_Case.statusId,\n        operator: \"<>\",\n        value: cons!CMGT_REFID_STATUS_CASE_CLOSED\n      )\n    }\n  ),\n  local!recentCases: rule!CMGT_QR_GetCase(\n    additionalLogicalExpression: local!caseAssigneeLogicalExpression,\n    fields: {\n      recordType!CMGT_Case.status,\n      recordType!CMGT_Case.priority,\n      recordType!CMGT_Case.createdByUser\n    },\n    includeAssignees: true,\n    includePrimaryContact: true,\n    pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n      startIndex: 1,\n      batchSize: cons!CMGT_INT_BATCH_SIZE_CARD_SMALL,\n      sort: {\n        #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!CMGT_Case.dueOnSortOrder,\n          ascending: true\n        ),\n        #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!CMGT_Case.dueOn,\n          ascending: true\n        )\n      }\n    )\n  ),\n  local!businessGroups: a!refreshVariable(\n    value: a!groupMembers(\n      group: cons!CMGT_GRP_BUSINESS_GROUPS,\n      memberType: \"GROUP\"\n    ).data,\n    refreshOnReferencedVarChange: false\n  ),\n  local!userGroupsToFilter: intersection(\n    togroup(local!businessGroups),\n    a!groupsForUser(loggedInUser())\n  ),\n  local!taskTabs: rule!CMGT_Task_EvaluateDataForDisplay(userGroups: local!userGroupsToFilter),\n  local!selectedTaskTab: 1,\n  local!metrics,\n  local!phone: { \"PHONE\" },\n  local!isPhone: #\"SYSTEM_SYSRULES_isPageWidth\"(local!phone),\n  #\"SYSTEM_SYSRULES_headerContentLayout\"(\n    header: {},\n    contents: {\n      #\"SYSTEM_SYSRULES_cardLayout\"(\n        contents: {\n          #\"SYSTEM_SYSRULES_columnsLayout\"(\n            columns: {\n              #\"SYSTEM_SYSRULES_columnLayout\"(\n                contents: {\n                  /*Quick Links*/\n                  rule!CMGT_Workspace_InternalUser_Sub_QuickLinks(brandingMap: local!brandingMap),\n                  /*Latest Updates*/\n                  rule!CMGT_UTIL_HeaderField(\n                    label: #\"urn:appian:translation-string:v1:2d969cfc-8acd-48ff-b6a7-46cd4b6e90dc\",\n                    divider: \"NONE\",\n                    brandingMap: local!brandingMap,\n                    marginBelow: \"NONE\"\n                  ),\n                  rule!CMGT_EventHistory_Sub_LatestUpdates(\n                    brandingMap: local!brandingMap,\n                    isPhone: local!isPhone\n                  )\n                },\n                width: \"NARROW_PLUS\"\n              ),\n              #\"SYSTEM_SYSRULES_columnLayout\"(\n                contents: #\"SYSTEM_SYSRULES_columnsLayout\"(\n                  columns: {\n                    #\"SYSTEM_SYSRULES_columnLayout\"(\n                      contents: {\n                        /*My Cases*/\n                        rule!CMGT_UTIL_HeaderField(\n                          label: #\"urn:appian:translation-string:v1:25a60250-ed07-4581-9e56-1e84702adee8\",\n                          divider: \"NONE\",\n                          rightSideContents: {\n                            #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                              items: {\n                                #\"SYSTEM_SYSRULES_sideBySideItem\"(),\n                                #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                                  item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                    labelPosition: \"COLLAPSED\",\n                                    value: {\n                                      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                        text: #\"urn:appian:translation-string:v1:5d80b586-40a7-4438-aabb-e6c7e5d19122\",\n                                        link: #\"SYSTEM_SYSRULES_safeLink\"(\n                                          uri: a!urlForSite(sitePage: rule!CMGT_SITE_PAGE_CASES()),\n                                          openLinkIn: \"SAME_TAB\"\n                                        ),\n                                        linkStyle: \"STANDALONE\"\n                                      )\n                                    },\n                                    align: \"RIGHT\"\n                                  ),\n                                  width: \"MINIMIZE\"\n                                )\n                              }\n                            )\n                          },\n                          brandingMap: local!brandingMap,\n                          marginBelow: \"NONE\"\n                        ),\n                        if(\n                          a!isNullOrEmpty(local!recentCases),\n                          #\"SYSTEM_SYSRULES_cardLayout\"(\n                            contents: {\n                              #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                value: {\n                                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                    text: #\"urn:appian:translation-string:v1:e0a8b2dd-4ac9-463f-9d0a-a591599ae3c3\",\n                                    color: local!brandingMap.SecondaryTextColor,\n                                    style: \"EMPHASIS\"\n                                  )\n                                },\n                                align: \"CENTER\"\n                              )\n                            },\n                            style: local!brandingMap.CardBackgroundColor,\n                            shape: local!brandingMap.CardShape,\n                            padding: \"EVEN_MORE\",\n                            marginBelow: \"STANDARD\",\n                            showBorder: local!brandingMap.CardShowBorder,\n                            showShadow: local!brandingMap.CardShowShadow\n                          ),\n                          rule!CMGT_UTIL_CardGroupHandler(\n                            maxPerRow: if(\n                              #\"SYSTEM_SYSRULES_isPageWidth\"({ \"DESKTOP_NARROW\", \"TABLET_PORTRAIT\" }),\n                              2,\n                              if(local!isPhone, 1, 3)\n                            ),\n                            cardLayouts: {\n                              #\"SYSTEM_SYSRULES_forEach\"(\n                                items: local!recentCases,\n                                expression: #\"SYSTEM_SYSRULES_cardLayout\"(\n                                  contents: {\n                                    rule!CMGT_Case_Sub_DetailsSmall(\n                                      case: fv!item,\n                                      showRecordLink: false,\n                                      brandingMap: local!brandingMap\n                                    )\n                                  },\n                                  link: #\"SYSTEM_SYSRULES_recordLink\"(\n                                    recordType: recordType!CMGT_Case,\n                                    identifier: fv!item[recordType!CMGT_Case.caseId]\n                                  ),\n                                  style: local!brandingMap.CardBackgroundColor,\n                                  shape: local!brandingMap.CardShape,\n                                  showBorder: local!brandingMap.CardShowBorder,\n                                  showShadow: local!brandingMap.CardShowShadow\n                                )\n                              )\n                            }\n                          )\n                        ),\n                        /*My Tasks*/\n                        rule!CMGT_UTIL_HeaderField(\n                          label: #\"urn:appian:translation-string:v1:1411ee2d-e580-4a80-8cfc-5fa873b9ec86\",\n                          divider: \"NONE\",\n                          brandingMap: local!brandingMap,\n                          marginBelow: \"NONE\"\n                        ),\n                        #\"SYSTEM_SYSRULES_cardLayout\"(\n                          contents: {\n                            rule!CMGT_UTIL_TabLayout(\n                              tabs: local!taskTabs,\n                              activeTab: local!selectedTaskTab,\n                              brandingMap: local!brandingMap,\n                              metrics: local!metrics\n                            ),\n                            #\"SYSTEM_SYSRULES_cardLayout\"(\n                              contents: {\n                                rule!CMGT_Task_RecordGrid(\n                                  logicalExpression: local!taskTabs[local!selectedTaskTab].taskLogicalExpression,\n                                  label: #\"urn:appian:translation-string:v1:1411ee2d-e580-4a80-8cfc-5fa873b9ec86\",\n                                  showFilters: not(local!selectedTaskTab = 1),\n                                  showSearchBox: true,\n                                  showStatusFilter: false,\n                                  showAssigneeFilter: true,\n                                  showRefresh: false(),\n                                  pageSize: cons!CMGT_INT_BATCH_SIZE_LARGE,\n                                  borderStyle: \"LIGHT\",\n                                  triggerRefresh: local!triggerRefresh,\n                                  brandingMap: local!brandingMap,\n                                  initialSorts: {\n                                    #\"SYSTEM_SYSRULES_sortInfo\"(\n                                      field: recordType!CMGT_Task.status.sortOrder,\n                                      ascending: true\n                                    ),\n                                    #\"SYSTEM_SYSRULES_sortInfo\"(\n                                      field: recordType!CMGT_Task.dueOnSortOrder,\n                                      ascending: true\n                                    ),\n                                    #\"SYSTEM_SYSRULES_sortInfo\"(\n                                      field: recordType!CMGT_Task.dueOn,\n                                      ascending: true\n                                    )\n                                  },\n                                  context: if(\n                                    local!selectedTaskTab = 1,\n                                    \"MY_TASK_VIEW\",\n                                    \"MY_SHARED_QUEUE\"\n                                  )\n                                )\n                              },\n                              showBorder: false,\n                              style: \"TRANSPARENT\"\n                            )\n                          },\n                          style: local!brandingMap.CardBackgroundColor,\n                          shape: local!brandingMap.CardShape,\n                          padding: \"NONE\",\n                          showBorder: local!brandingMap.CardShowBorder,\n                          showShadow: local!brandingMap.CardShowShadow\n                        )\n                      },\n                      width: \"AUTO\"\n                    ),\n                    #\"SYSTEM_SYSRULES_columnLayout\"(\n                      contents: {\n                        /*My Work In Progress*/\n                        rule!CMGT_Workspace_InternalUser_Sub_MyWorkInProgress(\n                          triggerRefresh: local!triggerRefresh,\n                          loggedInUser: local!loggedInUser,\n                          brandingMap: local!brandingMap\n                        ),\n                        /*Calendar*/\n                        rule!CMGT_Workspace_InternalUser_Sub_CalendarDisplay(\n                          loggedInUser: local!loggedInUser,\n                          brandingMap: local!brandingMap\n                        )\n                      },\n                      width: \"NARROW_PLUS\"\n                    )\n                  },\n                  stackWhen: {\n                    \"TABLET_LANDSCAPE\",\n                    \"TABLET_PORTRAIT\",\n                    local!phone\n                  }\n                )\n              )\n            }\n          ),\n          #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            labelPosition: \"COLLAPSED\",\n            value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: {\n                #\"urn:appian:translation-string:v1:58f8fdf4-83a5-4464-9171-8bc5411d93e1\"(\n                  #\"urn:appian:translation-variable:v1:2076c4a6-f99d-4edc-b115-26c836ac0359\": joinarray(\n                    tointeger(\n                      split(\n                        cons!CMGT_VRS_CASE_MANAGEMENT_BASE_APPLICATION,\n                        \".\"\n                      )\n                    ),\n                    \".\"\n                  )\n                )\n              },\n              color: local!brandingMap.SecondaryTextColor\n            ),\n            align: \"CENTER\",\n            marginAbove: \"MORE\",\n            marginBelow: \"MORE\"\n          )\n        },\n        style: \"TRANSPARENT\",\n        padding: \"NONE\",\n        marginAbove: \"NONE\",\n        showBorder: false\n      )\n    },\n    backgroundColor: local!brandingMap.DefaultBackgroundColor,\n    contentsPadding: \"STANDARD\"\n  )\n)"
    },
    "_a-0000e9a5-4cb8-8000-9bac-011c48011c48_73098": {
      "name": "CMGT_SitePage_Cases",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!brandingMap: rule!CMGT_UTIL_LoadBrandingMap(),\n  local!suggestedCases: rule!CMGT_QR_GetCase(\n    fields: {\n      recordType!CMGT_Case.status\n    },\n    excludeRelatedRecords: true,\n    additionalFilters: #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Case.modifiedBy,\n      operator: \"=\",\n      value: loggedInUser()\n    ),\n    returnType: \"OBJECT_ARRAY\",\n    pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n      startIndex: 1,\n      batchSize: 5,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_Case.modifiedOn,\n        ascending: false\n      )\n    )\n  ),\n  #\"SYSTEM_SYSRULES_headerContentLayout\"(\n    contents: {\n      rule!CMGT_UTIL_HeaderField(\n        label: #\"urn:appian:translation-string:v1:c750f1f2-e7b8-4b75-b1b3-017fc218be26\",\n        labelSize: \"LARGE\",\n        labelColor: local!brandingMap.StandardTextColor,\n        brandingMap: local!brandingMap,\n        marginAbove: \"NONE\",\n        divider: \"NONE\",\n        marginBelow: \"NONE\",\n        rightSideContents: {\n          #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n            actions: #\"SYSTEM_SYSRULES_recordActionItem\"(\n              action: #\"urn:appian:record-action:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/484c73e3-b6f9-422f-afc7-d19f793a16b5\"\n            ),\n            style: \"TOOLBAR_PRIMARY\",\n            align: \"END\"\n          )\n        }\n      ),\n      rule!CMGT_UTIL_HeaderField(\n        label: #\"urn:appian:translation-string:v1:e5d1b47e-d320-4757-af9f-958c41e9d681\",\n        brandingMap: local!brandingMap,\n        marginAbove: \"NONE\",\n        divider: \"NONE\",\n        marginBelow: \"NONE\",\n        showWhen: a!isNotNullOrEmpty(local!suggestedCases)\n      ),\n      rule!CMGT_UTIL_CardGroupHandler(\n        maxPerRow: 5,\n        cardLayouts: {\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!suggestedCases,\n            expression: #\"SYSTEM_SYSRULES_cardLayout\"(\n              contents: {\n                rule!CMGT_Case_Sub_SuggestedCasesDetailsSmall(\n                  case: fv!item,\n                  brandingMap: local!brandingMap\n                )\n              },\n              link: #\"SYSTEM_SYSRULES_recordLink\"(\n                recordType: recordType!CMGT_Case,\n                identifier: fv!item[recordType!CMGT_Case.caseId]\n              ),\n              style: local!brandingMap.CardBackgroundColor,\n              shape: local!brandingMap.CardShape,\n              showBorder: local!brandingMap.CardShowBorder,\n              showShadow: local!brandingMap.CardShowShadow\n            )\n          )\n        }\n      ),\n      rule!CMGT_UTIL_HeaderField(\n        label: #\"urn:appian:translation-string:v1:265522d7-92e5-43ad-a1f4-be35fbd831ca\",\n        brandingMap: local!brandingMap,\n        marginAbove: \"NONE\",\n        divider: \"NONE\",\n        marginBelow: \"NONE\"\n      ),\n      #\"SYSTEM_SYSRULES_cardLayout\"(\n        style: local!brandingMap.CardBackgroundColor,\n        showBorder: local!brandingMap.CardShowBorder,\n        showShadow: local!brandingMap.CardShowShadow,\n        shape: local!brandingMap.CardShape,\n        contents: {\n          rule!CMGT_Case_RecordGrid(\n            label: #\"urn:appian:translation-string:v1:c750f1f2-e7b8-4b75-b1b3-017fc218be26\",\n            showMetaData: true,\n            context: \"CASES_PAGE\",\n            showExportButton: true,\n            brandingMap: local!brandingMap\n          )\n        }\n      )\n    },\n    backgroundColor: local!brandingMap.DefaultBackgroundColor\n  )\n)"
    },
    "_a-0000ea2f-ac11-8000-9bf4-011c48011c48_592936": {
      "name": "CMGT_Email_TaskDetails_ReplacementParamsMap",
      "type": "Expression Rule",
      "sail_code": "{\n  /*Base Template Parameters*/\n  rule!CMGT_Email_BaseTemplate_ReplacementParamsMap(\n    brandingMap: ri!brandingMap,\n    instructionSize: \"16px\",\n    instruction: ri!instruction,\n    footerText: #\"urn:appian:translation-string:v1:14fe848f-addf-4cf9-a888-20116ef078aa\",\n    buttonLabel: #\"urn:appian:translation-string:v1:94619bc6-d8b4-419b-a023-75d45630625c\",\n    buttonLinkUrl: \n    #\"urn:appian:function:v1:a:urlforrecord?okey=a!urlForRecord\"(\n      targetLocation: rule!CMGT_SITE_PAGE_CASES(),\n      recordType: recordType!CMGT_Task,\n      identifier: ri!task[recordType!CMGT_Task.taskId],\n    )\n  ),\n  /* Body   */\n  {\n    find: \"body\",\n    replace: rule!CMGT_UTIL_FillDocumentTemplate(\n      document: cons!CMGT_DOC_TASK_DETAILS_EMAIL_BODY_TEMPLATE,\n      replacementParams: {\n        {\n          find: \"taskTypeColor\",\n          replace: ri!brandingMap.SecondaryTextColor\n        },\n        {\n          find: \"taskType\",\n          replace: #\"urn:appian:translation-string:v1:17a6863b-4ae0-47b0-bd6d-cebb7ee6e66c\"(\n            #\"urn:appian:translation-variable:v1:3863aab7-e43f-4e8c-860c-295dcca2a906\": ri!task[recordType!CMGT_Task.taskBehaviorType.label],\n            #\"urn:appian:translation-variable:v1:c0f7b2db-1114-4491-8c74-ef6223dbbb66\": ri!task[recordType!CMGT_Task.status.statusLabel]\n          ),\n          \n        },\n        {\n          find: \"taskTitleColor\",\n          replace: ri!brandingMap.StandardTextColor\n        },\n        {\n          find: \"taskTitle\",\n          replace: ri!task[recordType!CMGT_Task.title]\n        },\n        {\n          find: \"caseNamePreTextColor\",\n          replace: ri!brandingMap.SecondaryTextColor\n        },\n        {\n          find: \"caseNamePreText\",\n          replace: #\"urn:appian:translation-string:v1:068e16e2-b3df-48d9-b393-07a9e10b2225\"\n        },\n        {\n          find: \"caseRecordLink\",\n          replace: \n          #\"urn:appian:function:v1:a:urlforrecord?okey=a!urlForRecord\"(\n            targetLocation: rule!CMGT_SITE_PAGE_CASES(),\n            recordType: recordType!CMGT_Case,\n            identifier: ri!case[recordType!CMGT_Case.caseId],\n          )\n        },\n        {\n          find: \"caseTitle\",\n          replace: ri!case[recordType!CMGT_Case.title]\n        },\n        {\n          find: \"fieldNameColor\",\n          replace: ri!brandingMap.SecondaryTextColor\n        },\n        { find: \"fieldName\", replace: ri!fieldName },\n        {\n          find: \"oldValueColor\",\n          replace: ri!brandingMap.SecondaryTextColor\n        },\n        {\n          /*This oldValue parameter can be passed only if the contents need to be displayed in the striked format else not required            */\n          find: \"oldValue\",\n          replace: joinarray(ri!oldValue, \", \"),\n          \n        },\n        {\n          find: \"newValueColor\",\n          replace: ri!brandingMap.StandardTextColor\n        },\n        {\n          find: \"newValue\",\n          replace: joinarray(ri!newValue, \" \")\n        }\n      }\n    )\n  },\n  \n}"
    },
    "_a-0000ebb3-5308-8000-9cab-011c48011c48_2115665": {
      "name": "CMGT_LA_UTIL_IsLimitedAccessOrPortal",
      "type": "Expression Rule",
      "sail_code": "/*Since a!isUserMemberOfGroup() is not supported on portal we are checking the portal condition first\nwhere the a!isUserMemberOfGroup() is executed only when above condition becomes false*/\nif(\n  rule!CMGT_UTIL_IsOnPortal(),\n  true,\n  #\"urn:appian:function:v1:a:isusermemberofgroup?okey=a!isUserMemberOfGroup\"(\n    loggedInUser(),\n    cons!CMGT_LA_GRP_EXTERNAL_USERS\n  )\n)"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_576741": {
      "name": "CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch",
      "type": "Expression Rule",
      "sail_code": "if(\n  cons!CMGT_BOL_AUTOMATION_TESTING_LABEL_SWITCH,\n  ri!testingLabel,\n  ri!shipmentLabel\n)"
    },
    "_a-0000eeba-7a31-8000-9dbb-011c48011c48_4845514": {
      "name": "CMGT_SMS_AI_GetTopSmartSearchResults",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!casesMap: if(\n    rule!CMGT_UTIL_IsBlank(\n      value: ri!cases\n    ),\n    null(),\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!cases,\n      expression: a!map(\n        context: \"CASES\",\n        data: fv!item/*Incorporation point - cases*/\n        ,\n        similarityScore: fv!item[#\"urn:appian:record-search-results:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/allSearchFields/similarityScore\"]\n      )\n    )\n  ),\n  local!tasksMap: if(\n    rule!CMGT_UTIL_IsBlank(\n      value: ri!tasks\n    ),\n    null(),\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!tasks,\n      expression: a!map(\n        context: \"TASKS\",\n        data: fv!item,\n        /*Incorporation point - tasks*/\n        similarityScore: fv!item[#\"urn:appian:record-search-results:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/allSearchFields/similarityScore\"]\n      )\n    )\n  ),\n  todatasubset(\n    arrayToPage: rule!CMGT_UTIL_RejectBlank(\n      array: {\n        local!casesMap,\n        local!tasksMap\n      }\n    ),\n    pagingConfiguration: #\"SYSTEM_SYSRULES_pagingInfo\"(\n      startIndex: 1,\n      batchSize: 10,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: \"similarityScore\",\n        ascending: false()\n      )\n    )\n  )\n)"
    },
    "_a-0000e9fa-aa45-8000-9bda-011c48011c48_293777": {
      "name": "CMGT_CaseEventHistory_Constructor",
      "type": "Expression Rule",
      "sail_code": "recordType!CMGT_EventHistory_Case(\n  recordType!CMGT_EventHistory_Case.caseId: ri!caseId,\n  recordType!CMGT_EventHistory_Case.timestamp: a!defaultValue(value: ri!timestamp, default: now()),\n  recordType!CMGT_EventHistory_Case.username: rule!CMGT_formatEventInitiator(initiator: ri!initiator),\n  recordType!CMGT_EventHistory_Case.caseEventTypeId: ri!eventTypeId,\n  recordType!CMGT_EventHistory_Case.details: if(\n    a!isNotNullOrEmpty(ri!details),\n    #\"SYSTEM_SYSRULES_toJson_v1\"(\n      value: ri!details,\n      removeNullOrEmptyFields: false\n    ),\n    null\n  )\n)"
    },
    "_a-0000ed2d-b44d-8000-9d2f-011c48011c48_3541045": {
      "name": "CMGT_Automation_GenerateAutomationTasks_Logic",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!CMGT_UTIL_IsBlank(ri!task),\n  a!localVariables(\n    local!caseTypeWorkflowTasks: rule!CMGT_GetAutomationRulesForCase(\n      triggerIds: ri!triggerIds,\n      case: ri!case,\n      triggerContext: ri!triggerContext\n    ),\n    rule!CMGT_Automation_ConstructCreationOfAutomationTask(\n      caseTypeWorkflowTasks: local!caseTypeWorkflowTasks,\n      case: ri!case,\n      parentWorkflowTaskUuid: local!caseTypeWorkflowTasks[1][recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationParentCaseTypeWorkflowTaskUuid]\n    )\n  ),\n  rule!CMGT_Automation_ConstructAutomationTaskFromRuntimeConfigTask(\n    triggerIds: ri!triggerIds,\n    task: ri!task,\n    triggerContext: ri!triggerContext\n  )\n)"
    },
    "0002ed22-4a2e-8000-1c65-7f0000014e7a": {
      "name": "CMGT_Automation_Evaluation",
      "type": "Process Model",
      "sail_code": "// Output: ?\npv!index + 1\n\n// Input: ?\nrule!CMGT_Task_SetMetaData(\n  tasks: pv!transformedTasks,\n  initiator: cons!CMGT_TXT_PROCESS_AUTOMATION,\n  eventType: \"TRIGGERED_AUTOMATION_ACTION\"\n)\n\n// Input: ?\n=recordType!CMGT_Task\n\n// Output: ?\nAC!RecordsUpdated\n\n// Input: ?\nrule!CMGT_UTIL_Filter(\n  records: rule!CMGT_CFG_ENUM_ACTIONS(),\n  field: \"actionCode\",\n  value: pv!taskActions[recordType!CMGT_TaskActions.actionCode][pv!index]\n).PmConstant\n\n// Input: ?\na!localVariables(\n  local!pmParamsEval: rule!CMGT_UTIL_Filter(\n    records: rule!CMGT_CFG_ENUM_ACTIONS(),\n    field: \"actionCode\",\n    value: pv!taskActions[recordType!CMGT_TaskActions.actionCode][pv!index],\n    filterType: \"FIRST_MATCH\"\n  ),\n  local!pmParamsEval.pmParameterEvalRule(\n    taskActions: pv!taskActions[pv!index],\n    case: pv!case,\n    task: pv!task\n  )\n)\n\n// Input: ?\n= rule!CMGT_EVAL_EvalCaseAutomationConditionsAndReturnActions( automationTasks: pv!transformedTasks, case: pv!case, task: pv!task)\n\n// Output: ?\nrule!CMGT_UTIL_Distinct(\n  ac!taskActions[recordType!CMGT_TaskActions.actionCode]\n)\n\n// Output: ?\ncount(ac!taskActions)\n\n// Input: ?\n= /*need to requery for case, due to certain case update actions not passing through*//*necessary data for task transformation*/rule!CMGT_QR_GetCase( caseId: pv!case[recordType!CMGT_Case.caseId], fields: { recordType!CMGT_Case.milestones, recordType!CMGT_Case.caseType }),\n\n// Output: ?\nrule!CMGT_Automation_GenerateAutomationTasks_Logic(\n  triggerIds: pv!triggerId,\n  case: ac!case,\n  task: pv!task,\n  triggerContext: pv!triggerContext\n)"
    },
    "_a-0000ecb5-acf8-8000-9cf6-011c48011c48_3214701": {
      "name": "CMGT_WFL_GroupCaseTypeWorkflowTaskBranches_Automations",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!distinctBeforeTaskUUID: rule!CMGT_UTIL_Distinct(\n    ri!caseTypeWorkflowTaskBranch[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid]\n  ),\n  cast(\n    #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n      'type!{http://www.appian.com/ae/types/2009}Map'\n    ),\n    rule!CMGT_UTIL_RejectBlank(\n      a!flatten(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: local!distinctBeforeTaskUUID,\n          expression: a!localVariables(\n            local!thisUUID: fv!item,\n            local!thisTaskBranches: rule!CMGT_UTIL_Filter(\n              records: ri!caseTypeWorkflowTaskBranch,\n              fieldValuePairs: {\n                a!map(\n                  field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n                  value: local!thisUUID\n                ),\n                \n              }\n            ),\n            {\n              a!match(\n                value: tostring(\n                  rule!CMGT_UTIL_Filter(\n                    records: ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n                    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n                    value: local!thisUUID\n                  )[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction.actionCode]\n                ),\n                equals: cons!CMGT_CFG_TXT_ACT_WORKFLOW_ROUTING,\n                /* Grouping the branches with same Condition Set Uuids */\n                then: #\"SYSTEM_SYSRULES_forEach\"(\n                  items: rule!CMGT_UTIL_Distinct(\n                    local!thisTaskBranches[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.conditionSetUuid]\n                  ),\n                  expression: rule!CMGT_WFL_ConstructCaseTypeWorkflowTaskBranchMap(\n                    taskUUID: local!thisUUID,\n                    conditionSetUUID: fv!item,\n                    afterCaseTypeWorkflowTaskBranches: rule!CMGT_UTIL_Filter(\n                      records: local!thisTaskBranches,\n                      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.conditionSetUuid,\n                      value: fv!item,\n                      \n                    ),\n                    isRequired: true,\n                    isActive: true,\n                    isRequirednessValid: true\n                  )\n                ),\n                equals: cons!CMGT_CFG_TXT_ACT_SEND_EMAIL,\n                /*   Grouping all the branches as the send email dependents are always required and valid      */\n                then: rule!CMGT_WFL_ConstructCaseTypeWorkflowTaskBranchMap(\n                  taskUUID: local!thisUUID,\n                  afterCaseTypeWorkflowTaskBranches: local!thisTaskBranches,\n                  isRequired: true,\n                  isActive: true,\n                  isRequirednessValid: true\n                ),\n                default: {}\n              )\n            }\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e99c-1217-8000-9ba9-011c48011c48_61649": {
      "name": "CMGT_UTIL_GetDateFromDateTime",
      "type": "Expression Rule",
      "sail_code": "/*todate and totime function will return the value based on GMT timezone when date and time is passed as input to this functions\nso in order to get the date or time in user's timezone/system time zone using below logic */\nif(\n  a!isNullOrEmpty(value: ri!dateTimeValue),\n  null(),\n  a!localVariables(\n    /*Converting dateTime to system time zone if  convertToSystemTimeZone is passed true */\n    local!dateTimeToFormat: if(\n      ri!convertToSystemTimeZone,\n      rule!CMGT_UTIL_ConvertDateTimeToTimezone(\n        dateTime: ri!dateTimeValue,\n        timezone: rule!CMGT_UTIL_SystemTimezone()\n      ),\n      ri!dateTimeValue\n    ),\n    a!match(\n      value: tostring(userlocale(loggedInUser())),\n      equals: \"en_US\",\n      then: todate(\n        text(local!dateTimeToFormat, \"mm/dd/yyyy\")\n      ),\n      equals: \"ar\",\n      then: text(local!dateTimeToFormat, \"yyyy/mm/dd\"),\n      default: todate(\n        text(local!dateTimeToFormat, \"dd-mm-yyyy\")\n      )\n    )\n  )\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_24762": {
      "name": "CMGT_QR_GetRole",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_Role,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  fields: {\n    ri!fields,\n    recordType!CMGT_Role.usernameUser,\n    recordType!CMGT_Role.roleType,\n    recordType!CMGT_Role.createdByUser,\n    recordType!CMGT_Role.modifiedByUser,\n    recordType!CMGT_Role.case,\n    recordType!CMGT_Role.task\n  },\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Role.caseId,\n      operator: \"in\",\n      value: ri!caseId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Role.taskId,\n      operator: \"=\",\n      value: ri!taskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Role.roleTypeId,\n      operator: \"in\",\n      value: ri!roleTypeId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Role.username,\n      operator: \"in\",\n      value: ri!usernames\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Role.groupId,\n      operator: \"in\",\n      value: ri!groupIds\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Role.roleId,\n      operator: \"in\",\n      value: ri!roleId\n    )\n  },\n  pagingInfo: ri!pagingInfo,\n  groupByFields: ri!groupByFields,\n  sort: a!defaultValue(\n    ri!sort,\n    #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_Role.modifiedOn,\n      ascending: false\n    )\n  ),\n  relatedRecordData: ri!relatedRecordData,\n  logicalExpressions: ri!additionalLogicalExpression,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ebe1-6999-8000-9cbe-011c48011c48_2275969": {
      "name": "CMGT_Role_CreateCase_CreateAssigneeAndAssignedGroup",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!assignees: rule!CMGT_UTIL_Filter(\n    records: ri!case[recordType!CMGT_Case.roles],\n    field: recordType!CMGT_Role.roleTypeId,\n    value: {\n      cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n      cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n    }\n  ),\n  a!defaultValue(\n    local!assignees,\n    {}/*rule!CMGT_ACR_EVAL_RouteCaseToUserOrGroup(*/\n    /*case: ri!case*/\n    /*)*/\n    \n  )\n)"
    },
    "_a-0000ed7d-5e46-8000-9d4b-011c48011c48_3826401": {
      "name": "CMGT_AutomationRules_FormatTrigger",
      "type": "Expression Rule",
      "sail_code": "{\n  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n    text: #\"urn:appian:translation-string:v1:cf90b3f1-9bae-4f4a-a576-de203e2a320a\",\n    size: a!defaultValue(ri!textSize, \"MEDIUM\"),\n    color: a!defaultValue(\n      ri!textColor,\n      \"STANDARD\"\n    )\n  ),\n  \" \",\n  a!match(\n    value: ri!automationTrigger[recordType!CMGT_CFG_Triggers.triggerId],\n    /*case or task field is updated trigger*/\n    whenTrue: or(\n      tointeger(ri!automationTrigger[recordType!CMGT_CFG_Triggers.triggerId]) = cons!CMGT_REFID_TRIGGER_CASE_FIELD_UPDATED,\n      tointeger(ri!automationTrigger[recordType!CMGT_CFG_Triggers.triggerId]) = cons!CMGT_REFID_TRIGGER_TASK_FIELD_IS_UPDATED\n    ),\n    then: a!localVariables(\n      local!fieldPathFromJson: if(\n        rule!CMGT_UTIL_IsBlank(\n          ri!triggerContext\n        ),\n        \"\",\n        #\"SYSTEM_SYSRULES_fromJson_v1\"(\n          ri!triggerContext\n        )\n      ),\n      local!uuid: index(\n        local!fieldPathFromJson,\n        \"uuid\",\n        \"\"\n      ),\n      local!fieldDetails: rule!CMGT_UTIL_Filter(\n        records: ri!availableFields,\n        fieldValuePairs: {\n          a!map(\n            field: \"uuid\",\n            value: touniformstring(\n              local!uuid\n            )\n          ),\n          a!map(\n            field: \"displayName\",\n            value: touniformString(\n              local!fieldPathFromJson.displayName\n            )\n          )\n        },\n        filterType: \"FIRST_MATCH\"\n      ),\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: lower(\n          if(\n            or(\n              toboolean(\n                search(\n                  lower(\n                    \"case\"\n                  ),\n                  lower(\n                    local!fieldDetails.displayName\n                  )\n                )\n              ),\n              toboolean(\n                search(\n                  lower(\n                    \"task\"\n                  ),\n                  lower(\n                    local!fieldDetails.displayName\n                  )\n                )\n              )\n            ),\n            #\"urn:appian:translation-string:v1:8aacea1a-5819-4413-affa-8f166d5ca0df\",\n            if(\n              ri!automationTrigger[recordType!CMGT_CFG_Triggers.triggerId] = cons!CMGT_REFID_TRIGGER_CASE_FIELD_UPDATED,\n              #\"urn:appian:translation-string:v1:e037247b-ef7e-4e5b-b039-33336bef7cc6\",\n              #\"urn:appian:translation-string:v1:0824d03c-4f64-479b-b888-9d8c9e6e827d\"\n            )\n          ) & \" \" & local!fieldDetails.displayName & if(\n            and(\n              rule!CMGT_UTIL_IsNotBlank(\n                local!fieldDetails.fieldType\n              ),\n              typename(\n                typeof(\n                  local!fieldDetails.fieldType\n                )\n              ) <> \"RecordType\",\n              or(\n                local!fieldDetails.fieldType = \"DATETIME\",\n                local!fieldDetails.fieldType = \"DATE\"\n              )\n            ),\n            \" \" & #\"urn:appian:translation-string:v1:9406cefa-d79d-4f00-8370-66b1b28739b3\",\n            null\n          ) & \" \" & #\"urn:appian:translation-string:v1:ab752946-2cdb-481b-a768-965023a1dd2e\"\n        ),\n        size: a!defaultValue(ri!textSize, \"MEDIUM\"),\n        style: \"STRONG\",\n        color: a!defaultValue(\n          ri!textColor,\n          \"STANDARD\"\n        )\n      )\n    ),\n    default: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n      text: lower(\n        ri!automationTrigger[recordType!CMGT_CFG_Triggers.triggerName]\n      ),\n      size: a!defaultValue(ri!textSize, \"MEDIUM\"),\n      style: \"STRONG\",\n      color: a!defaultValue(\n        ri!textColor,\n        \"STANDARD\"\n      )\n    )\n  )\n}"
    },
    "_a-0000eca3-381d-8000-9cf0-011c48011c48_3141754": {
      "name": "CMGT_WFL_ConstructCaseTypeWorkflowTaskBranchMap",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  taskUUID: ri!taskUUID,\n  taskResponseOptionUUID: ri!taskResponseOptionUUID,\n  isRequired: ri!isRequired,\n  isRequirednessValid: a!defaultValue(\n    value: ri!isRequirednessValid,\n    default: true\n  ),\n  conditionSetUUID: ri!conditionSetUUID,\n  afterCaseTypeWorkflowTaskBranches: ri!afterCaseTypeWorkflowTaskBranches,\n  isActive: ri!isActive\n)"
    },
    "_a-0000ed08-c8b4-8000-9d25-011c48011c48_3443270": {
      "name": "CMGT_AutomationRules_FormatRuleAction",
      "type": "Expression Rule",
      "sail_code": "{\n  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n    text: if(\n      ri!isStandalone,\n      #\"urn:appian:translation-string:v1:bee323bd-daba-4df1-bb07-3dd244aa6a52\",\n      #\"urn:appian:translation-string:v1:6aea9e8c-d9d3-4331-929e-7033358af61c\"\n    ) & \" \",\n    size: a!defaultValue(ri!textSize, \"MEDIUM\"),\n    color: a!defaultValue(ri!textColor, \"STANDARD\")\n  ),\n  a!localVariables(\n    local!action: index(\n      rule!CMGT_UTIL_Filter(\n        records: rule!CMGT_CFG_ENUM_ACTIONS(),\n        field: \"actionCode\",\n        value: ri!actionCode\n      ),\n      1,\n      null\n    ),\n    if(\n      rule!CMGT_UTIL_IsBlank(local!action),\n      \"\",\n      a!match(\n        value: ri!context,\n        equals: \"CONFIG\",\n        then: local!action.configurationDisplayRule(\n          action: ri!action,\n          textColor: ri!textColor,\n          textSize: ri!textSize\n        ),\n        equals: \"RUN_TIME\",\n        then: local!action.runtimeDisplayRule(\n          action: ri!action,\n          textColor: ri!textColor,\n          textSize: ri!textSize\n        ),\n        /*add additional conditions and formatting rules below as actions get configured/added*/\n        default: \"\"\n      )\n    )\n  )\n}"
    },
    "_a-0000eb57-0ad2-8000-9c6b-011c48011c48_1721000": {
      "name": "CMGT_NCF_setAverageHorizontalOrderOfPrecedents",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!precedentEdges: a!refreshVariable(\n    value: rule!CMGT_UTIL_Filter(\n      records: ri!allEdges,\n      field: \"to\",\n      value: ri!currentNode.id\n    ),\n    refreshAlways: true\n  ),\n  local!precedentNodes: a!refreshVariable(\n    value: rule!CMGT_UTIL_Filter(\n      records: ri!orderedNodes,\n      field: \"id\",\n      value: local!precedentEdges.from\n    ),\n    refreshAlways: true\n  ),\n  /*setting this as a percent 1-100*/\n  /*if there are no parents the score is 50*/\n  local!averageParentHorizontalOrder: a!refreshVariable(\n    value: if(\n      a!isNullOrEmpty(local!precedentNodes),\n      50.0,\n      average(local!precedentNodes.horizontalOrder)\n    ),\n    refreshAlways: true\n  ),\n  #\"urn:appian:function:v1:a:update\"(\n    data: ri!currentNode,\n    index: \"horizontalOrder\",\n    value: local!averageParentHorizontalOrder\n  )\n)"
    },
    "_a-0000ecb5-acf8-8000-9cf6-011c48011c48_3212771": {
      "name": "CMGT_WFL_Automation_returnImageURL",
      "type": "Expression Rule",
      "sail_code": "/*By default all automation type tasks should use the OOB images. \nAny additional or task behavior type specific images should be added here*/\na!match(\n  value: ri!taskBehaviorType[recordType!CMGT_CFG_TaskBehaviorType.taskBehaviorTypeId],\n  equals: cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n  then: a!match(\n    value: ri!taskAction[recordType!CMGT_WFL_CFG_TaskActions.actionCode],\n    equals: cons!CMGT_CFG_TXT_ACT_WORKFLOW_ROUTING,\n    then: if(\n      ri!isSelected,\n      document(\n        cons!CMGT_WFL_DOC_IMAGE_AUTOMATION_WORKFLOW_ROUTING_SELECTED,\n        \"url\"\n      ),\n      document(\n        cons!CMGT_WFL_DOC_IMAGE_AUTOMATION_WORKFLOW_ROUTING_UNSELECTED,\n        \"url\"\n      )\n    ),\n    equals: cons!CMGT_CFG_TXT_ACT_SEND_EMAIL,\n    then: if(\n      ri!isSelected,\n      document(\n        cons!CMGT_WFL_DOC_IMAGE_AUTOMATION_SEND_EMAIL_SELECTED,\n        \"url\"\n      ),\n      document(\n        cons!CMGT_WFL_DOC_IMAGE_AUTOMATION_SEND_EMAIL_UNSELECTED,\n        \"url\"\n      )\n    ),\n    /*Add additional automation type specific images here*/\n    default: if(\n      ri!isSelected,\n      document(\n        cons!CMGT_WFL_DOC_IMAGE_AUTOMATION_WORKFLOW_ROUTING_SELECTED,\n        \"url\"\n      ),\n      document(\n        cons!CMGT_WFL_DOC_IMAGE_AUTOMATION_WORKFLOW_ROUTING_UNSELECTED,\n        \"url\"\n      )\n    )\n  ),\n  /*Add additional task behaviour type specific images here*/\n  default: null\n)"
    },
    "_a-0000eeb1-4048-8000-9db7-011c48011c48_4825302": {
      "name": "CMGT_SMS_AI_SmartSearchCaseCard",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_cardLayout\"(\n  padding: \"STANDARD\",\n  contents: {\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      alignVertical: \"TOP\",\n      spacing: \"DENSE\",\n      stackWhen: {\n        \"TABLET_PORTRAIT\",\n        \"PHONE\"\n      },\n      showDividers: false,\n      marginBelow: \"STANDARD\",\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_columnsLayout\"(\n              marginBelow: \"NONE\",\n              spacing: \"DENSE\",\n              alignVertical: \"MIDDLE\",\n              columns: {\n                #\"SYSTEM_SYSRULES_columnLayout\"(\n                  width: \"EXTRA_NARROW\",\n                  contents: {\n                    #\"SYSTEM_SYSRULES_stampField\"(\n                      labelPosition: \"COLLAPSED\",\n                      align: if(\n                        #\"SYSTEM_SYSRULES_isPageWidth\"(\n                          \"PHONE\"\n                        ),\n                        \"START\",\n                        \"END\"\n                      ),\n                      shape: \"SEMI_ROUNDED\",\n                      size: \"SMALL\",\n                      text: #\"urn:appian:translation-string:v1:2287610d-a4d0-4f68-8763-3d87082961e0\",\n                      icon: \"clipboard-o\",\n                      backgroundColor: \"#EBF4FF\",\n                      contentColor: \"#0C4283\",\n                      marginBelow: \"NONE\"\n                    )\n                  }\n                ),\n                #\"SYSTEM_SYSRULES_columnLayout\"(\n                  contents: {\n                    #\"SYSTEM_SYSRULES_headingField\"(\n                      text: concat(\n                        ri!case[recordType!CMGT_Case.friendlyId],\n                        char(\n                          32\n                        ),\n                        \"-\",\n                        char(\n                          32\n                        ),\n                        ri!case[recordType!CMGT_Case.title]\n                      ),\n                      size: \"SMALL\",\n                      fontWeight: \"SEMI_BOLD\",\n                      marginBelow: \"EVEN_LESS\"\n                    ),\n                    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                      alignVertical: \"MIDDLE\",\n                      spacing: \"DENSE\",\n                      items: {\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                          width: \"MINIMIZE\",\n                          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                            marginBelow: \"NONE\",\n                            labelPosition: \"COLLAPSED\",\n                            value: {\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: if(\n                                  a!isNullOrEmpty(\n                                    ri!case[recordType!CMGT_Case.caseType.parentCaseType.name]\n                                  ),\n                                  ri!case[recordType!CMGT_Case.caseType.name],\n                                  concat(\n                                    ri!case[recordType!CMGT_Case.caseType.parentCaseType.name],\n                                    char(\n                                      32\n                                    ),\n                                    char(\n                                      8226\n                                    ),\n                                    char(\n                                      32\n                                    ),\n                                    ri!case[recordType!CMGT_Case.caseType.name]\n                                  )\n                                ),\n                                color: ri!brandingMap.StandardTextColor,\n                                size: \"STANDARD\"\n                              )\n                            }\n                          )\n                        )\n                      }\n                    ),\n\n                  }\n                ),\n\n              }\n            )\n          }\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          width: \"NARROW\",\n          contents: {\n            #\"SYSTEM_SYSRULES_tagField\"(\n              align: if(\n                #\"SYSTEM_SYSRULES_isPageWidth\"(\n                  {\n                    \"TABLET_PORTRAIT\",\n                    \"PHONE\"\n                  }\n                ),\n                \"START\",\n                \"END\"\n              ),\n              labelPosition: \"COLLAPSED\",\n              marginBelow: \"NONE\",\n              tags: #\"SYSTEM_SYSRULES_tagItem_v1\"(\n                text: ri!case[recordType!CMGT_Case.status.statusLabel],\n                backgroundColor: rule!CMGT_UTIL_DisplayBranding(\n                  brandingMap: ri!brandingMap,\n                  key: ri!case[recordType!CMGT_Case.status.softColor]\n                ),\n                textColor: rule!CMGT_UTIL_DisplayBranding(\n                  brandingMap: ri!brandingMap,\n                  key: ri!case[recordType!CMGT_Case.status.textColor]\n                )\n              )\n            ),\n\n          }\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n      alignVertical: \"MIDDLE\",\n      stackWhen: {\n        \"TABLET_PORTRAIT\",\n        \"PHONE\"\n      },\n      items: {\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          width: \"MINIMIZE\",\n          item: rule!CMGT_UTIL_DisplayDueDate(\n            dueOn: ri!case[recordType!CMGT_Case.dueOn],\n            brandingMap: ri!brandingMap\n          )\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          width: \"MINIMIZE\",\n          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            label: \"\",\n            labelPosition: \"COLLAPSED\",\n            value: {\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: {\n                  #\"SYSTEM_SYSRULES_richTextIcon\"(\n                    icon: ri!case[recordType!CMGT_Case.priority.icon],\n                    caption: #\"urn:appian:translation-string:v1:daf55019-55a7-4676-87e7-7a6bf456e7dd\",\n                    color: rule!CMGT_UTIL_DisplayBranding(\n                      brandingMap: ri!brandingMap,\n                      key: ri!case[recordType!CMGT_Case.priority.iconColor]\n                    )\n                  ),\n                  \" \",\n                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                    text: ri!case[recordType!CMGT_Case.priority.priorityName]\n                  )\n                },\n                size: \"STANDARD\"\n              )\n            },\n            marginBelow: \"NONE\"\n          )\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n      alignVertical: \"MIDDLE\",\n      stackWhen: {\n        \"TABLET_PORTRAIT\",\n        \"PHONE\"\n      },\n      items: {\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          width: \"MINIMIZE\",\n          item: rule!CMGT_UTIL_DisplayListOfItems(\n            values: rule!CMGT_UTIL_Filter(\n              records: ri!case[recordType!CMGT_Case.roles],\n              field: recordType!CMGT_Role.roleType.roleTypeId,\n              value: cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE\n            )[#\"urn:appian:record-field:v1:6799d796-883e-49ff-8975-297d87e40756/6f0c8dbc-95d2-4ba7-9fb5-f0916efa0f08/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\"],\n            separator: \", \",\n            emptyLabel: #\"urn:appian:translation-string:v1:c25a86b2-435b-4f45-9f11-15b1f0b8415e\",\n            brandingMap: ri!brandingMap,\n            marginAbove: \"NONE\",\n            icon: \"user\",\n            iconCaption: #\"urn:appian:translation-string:v1:4d270950-323f-42b7-ac89-630f33e2c96c\",\n            iconColor: ri!brandingMap.SecondaryTextColor,\n            marginBelow: \"EVEN_LESS\"\n          )\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: rule!CMGT_UTIL_DisplayListOfItems(\n            values: togroup(\n              rule!CMGT_UTIL_Filter(\n                records: ri!case[recordType!CMGT_Case.roles],\n                field: recordType!CMGT_Role.roleType.roleTypeId,\n                value: cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n              )[recordType!CMGT_Role.groupAssignee]\n            ),\n            separator: \", \",\n            emptyLabel: #\"urn:appian:translation-string:v1:c25a86b2-435b-4f45-9f11-15b1f0b8415e\",\n            brandingMap: ri!brandingMap,\n            marginAbove: \"NONE\",\n            icon: \"users\",\n            iconCaption: #\"urn:appian:translation-string:v1:8d84d9ae-54ba-40f2-830b-c62a43069e5d\",\n            iconColor: ri!brandingMap.SecondaryTextColor,\n            marginBelow: \"EVEN_LESS\"\n          )\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_horizontalLine\"(),\n    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n      alignVertical: \"MIDDLE\",\n      spacing: \"DENSE\",\n      items: {\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          width: \"MINIMIZE\",\n          item: #\"SYSTEM_SYSRULES_imageField_v1\"(\n            marginBelow: \"NONE\",\n            labelPosition: \"COLLAPSED\",\n            images: #\"SYSTEM_SYSRULES_documentImage\"(\n              document: cons!CMGT_SMS_AI_DOC_IMG_SEARCH_RESULT_ICON\n            ),\n            size: \"ICON\"\n          ),\n\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            marginBelow: \"NONE\",\n            labelPosition: \"COLLAPSED\",\n            value: {\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: #\"urn:appian:translation-string:v1:e8ab34ff-ee52-4e67-867a-e0d29b9e1440\",\n                color: ri!brandingMap.InfoTextColor\n              ),\n              char(\n                32\n              ),\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: touniformstring(\n                  ri!case[#\"urn:appian:record-search-results:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/allSearchFields/sourceField\"]\n                ),\n                style: \"STRONG\",\n                color: ri!brandingMap.InfoTextColor\n              ),\n              /*Matched On Field - Incorporation*/\n\n            }\n          )\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_cardLayout\"(\n      style: ri!brandingMap.TertiaryBackgroundColor,\n      showBorder: false,\n      shape: \"SEMI_ROUNDED\",\n      contents: {\n        #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          labelPosition: \"COLLAPSED\",\n          value: {\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: rule!CMGT_UTIL_StripHtmlTags(\n                value: ri!case[#\"urn:appian:record-search-results:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/allSearchFields/sourceContent\"]\n              )\n            ),\n            /*Matched On Content - Incorporation*/\n\n          }\n        )\n      }\n    ),\n\n  },\n  height: \"AUTO\",\n  showBorder: false,\n  style: \"NONE\",\n  marginBelow: \"STANDARD\",\n  shape: \"SEMI_ROUNDED\",\n  showShadow: true,\n  link: #\"SYSTEM_SYSRULES_recordLink\"(\n    recordType: recordType!CMGT_Case,\n    identifier: ri!case[recordType!CMGT_Case.caseId],\n    openLinkIn: \"NEW_TAB\"\n  )\n)"
    },
    "_a-0000e9f4-1323-8000-9bd3-011c48011c48_267840": {
      "name": "CMGT_UTIL_LoadBrandingMap",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!branding: getbrandingconfig(\n    cons!CMGT_DOC_DEFAULT_BRANDING_CONFIG,\n    true\n  ),\n  local!output: reduce(\n    #\"urn:appian:function:v1:a:update\"(_, _, _),\n    a!map(),\n    merge(\n      {\n        local!branding.defaultBranding.key,\n        local!branding.customBranding.key\n      },\n      {\n        local!branding.defaultBranding.value,\n        local!branding.customBranding.value\n      }\n    )\n  ),\n  local!output\n)"
    },
    "_a-0000eea8-05c2-8000-9db5-011c48011c48_4799702": {
      "name": "CMGT_SMS_AI_QR_GetSearchHistory",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_SMS_AI_SearchHistory,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_SMS_AI_SearchHistory.searchId,\n      operator: \"in\",\n      value: ri!searchId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_SMS_AI_SearchHistory.createdBy,\n      operator: \"=\",\n      value: ri!createdBy\n    )\n  },\n  logicalExpressions: ri!additionalLogicalExpression,\n  fields: { ri!fields },\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort\n)"
    },
    "_a-0000eeba-7a31-8000-9dbb-011c48011c48_4846357": {
      "name": "CMGT_SMS_AI_SmartSearchResultsTab_Tasks",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_cardLayout\"(\n  showBorder: false,\n  style: \"TRANSPARENT\",\n  padding: \"STANDARD\",\n  contents: {\n    /* Filters */\n    rule!CMGT_SMS_AI_SmartSearchTasksTabFilters(\n      selectedStatus: ri!selectedStatus,\n      selectedTaskTypes: ri!selectedTaskTypes,\n      selectedAssignees: ri!selectedAssignees,\n      selectedAssignedGroups: ri!selectedAssignedGroups\n    ),\n    /* Results */\n    #\"SYSTEM_SYSRULES_cardGroupLayout\"(\n      labelPosition: \"COLLAPSED\",\n      cards: {\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!searchResult,\n          expression: {\n            rule!CMGT_SMS_AI_SmartSearchTaskCard(\n              task: fv!item,\n              brandingMap: ri!brandingMap\n            )\n          }\n        )\n      },\n      cardWidth: \"WIDE\"\n    ),\n    /* Custom Paging */\n    if(\n      ri!totalCount > cons!CMGT_INT_BATCH_SIZE_MEDIUM,\n      rule!CMGT_UTIL_CustomPaging(\n        pagingInfo: ri!pagingInfo,\n        totalCount: ri!totalCount,\n        brandingMap: ri!brandingMap\n      ),\n      {}\n    ),\n    /*Search Results - No Result found*/\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_stampField\"(\n              labelPosition: \"COLLAPSED\",\n              icon: \"search-minus\",\n              backgroundColor: ri!brandingMap.WhiteColor,\n              contentColor: ri!brandingMap.SecondaryTextColor,\n              size: \"MEDIUM\",\n              align: \"CENTER\",\n              marginBelow: \"STANDARD\",\n              shape: \"ROUNDED\"\n            ),\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              labelPosition: \"COLLAPSED\",\n              value: {\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: #\"urn:appian:translation-string:v1:6ad92534-fd9d-4c80-b325-728dd1392a18\",\n                  color: ri!brandingMap.StandardTextColor,\n                  size: \"MEDIUM\"\n                )\n              },\n              align: \"CENTER\"\n            )\n          },\n          width: if(\n            not(\n              #\"SYSTEM_SYSRULES_isPageWidth\"({ \"PHONE\", \"TABLET_PORTRAIT\" })\n            ),\n            \"MEDIUM_PLUS\",\n            \"WIDE_PLUS\"\n          )\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(contents: {})\n      },\n      showWhen: rule!CMGT_UTIL_IsBlank(value: ri!searchResult)\n    )\n  }\n)"
    },
    "_a-0000e882-ff68-8000-9bb2-011c48011c48_37819-cmgt_eml_tri": {
      "name": "CMGT_EML_TRI_QR_GetThreads",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_EML_TRI_Thread,\n  returnType: ri!returnType,\n  executeWhen: ri!executeWhen,\n  triggerRefresh: ri!triggerRefresh,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_EML_TRI_Thread.threadId,\n      operator: \"in\",\n      value: ri!threadIds\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_EML_TRI_Thread.threadSetId,\n      operator: \"in\",\n      value: ri!threadSetIds\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_EML_TRI_Thread.threadStatus,\n      operator: \"in\",\n      value: ri!threadStatuses\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_EML_TRI_Thread.subject,\n      operator: \"in\",\n      value: ri!subjects\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_EML_TRI_Thread.messages.messageId,\n      operator: \"in\",\n      value: ri!messageIds\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_EML_TRI_Thread.isActive,\n      operator: \"in\",\n      value: { a!defaultValue(ri!isActive, true) }\n    ),\n    ri!additionalFilter\n  },\n  logicalExpressions: {\n    if(\n      a!isNotNullOrEmpty(ri!searchTerm),\n      {\n        #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n          operator: \"AND\",\n          logicalExpressions: #\"SYSTEM_SYSRULES_forEach\"(\n            items: split(trim(ri!searchTerm), \" \"),\n            expression: a!localVariables(\n              local!splitSearchTerm: fv!item,\n              #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"OR\",\n                filters: #\"SYSTEM_SYSRULES_forEach\"(\n                  items: ri!searchFields,\n                  expression: #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: fv!item,\n                    operator: \"includes\",\n                    value: local!splitSearchTerm\n                  )\n                )\n              )\n            )\n          )\n        )\n      },\n      {}\n    ),\n    ri!additionalLogicalExpressions\n  },\n  fields: ri!fields,\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  groupByFields: ri!groupByFields,\n)"
    },
    "_a-0000ecf6-527e-8000-9bbc-011c48011c48_56544": {
      "name": "CMGT_CheckIfTaskOccurrenceNeeded",
      "type": "Expression Rule",
      "sail_code": "and(\n  contains(\n    {\n      cons!CMGT_REFID_STATUS_TASK_NOT_NEEDED,\n      cons!CMGT_REFID_STATUS_TASK_COMPLETED\n    },\n    ri!originalStatus\n  ),\n  contains(\n    {\n      cons!CMGT_REFID_STATUS_TASK_READY,\n      cons!CMGT_REFID_STATUS_TASK_IN_PROGRESS,\n      cons!CMGT_REFID_STATUS_TASK_QUEUED\n    },\n    ri!newStatus\n  )\n)"
    },
    "_a-0000ee70-a572-8000-9d9f-011c48011c48_4655130": {
      "name": "CMGT_KB_SingleResourceDisplay",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_cardLayout\"(\n  contents: {\n    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n      items: {\n        /*Title*/\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: #\"SYSTEM_SYSRULES_headingField\"(\n            text: if(\n              len(\n                trim(\n                  ri!resource[recordType!CMGT_KB_Resource.title]\n                )\n              ) > 30,\n              concat(\n                left(\n                  trim(\n                    ri!resource[recordType!CMGT_KB_Resource.title]\n                  ),\n                  30\n                ),\n                #\"urn:appian:translation-string:v1:ad4913b6-cc67-4559-bc61-252b9a95ead8\"\n              ),\n              trim(\n                ri!resource[recordType!CMGT_KB_Resource.title]\n              )\n            ),\n            headingTag: \"H2\",\n            size: ri!brandingMap.SecondaryHeaderSize,\n            fontWeight: ri!brandingMap.SecondaryHeaderFontWeight,\n            marginBelow: \"NONE\",\n            marginAbove: \"EVEN_LESS\"\n          ),\n          width: \"MINIMIZE\"\n        ),\n        /*Status*/\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: #\"SYSTEM_SYSRULES_tagField\"(\n            labelPosition: \"COLLAPSED\",\n            tags: #\"SYSTEM_SYSRULES_tagItem_v1\"(\n              text: ri!resource[recordType!CMGT_KB_Resource.status],\n              backgroundColor: if(\n                ri!resource[recordType!CMGT_KB_Resource.status] = #\"urn:appian:translation-string:v1:70cee055-b42f-49e0-8e78-1f77503c3f78\",\n                ri!brandingMap.WarningBackgroundColor,\n                ri!brandingMap.TagBackgroundColor\n              ),\n              textColor: if(\n                ri!resource[recordType!CMGT_KB_Resource.status] = #\"urn:appian:translation-string:v1:70cee055-b42f-49e0-8e78-1f77503c3f78\",\n                ri!brandingMap.WarningTextColor,\n                ri!brandingMap.InfoTextColor\n              )\n            ),\n            marginAbove: \"LESS\",\n            marginBelow: \"NONE\",\n            align: \"START\",\n            size: \"SMALL\"\n          ),\n          width: \"3X\"\n        ),\n        /*Record Actions*/\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n            actions: {\n              #\"SYSTEM_SYSRULES_recordActionItem\"(\n                action: #\"urn:appian:record-action:v1:462e1408-1c19-4591-b946-fce9233909ce/9aa4ecca-b970-4f2a-8a8d-94c97708d009\",\n                identifier: ri!resource[recordType!CMGT_KB_Resource.resourceId]\n              ),\n              #\"SYSTEM_SYSRULES_recordActionItem\"(\n                action: #\"urn:appian:record-action:v1:462e1408-1c19-4591-b946-fce9233909ce/fb6d2e45-7f9e-47e0-9376-20a7dc1dbeaf\",\n                identifier: ri!resource[recordType!CMGT_KB_Resource.resourceId]\n              ),\n              #\"SYSTEM_SYSRULES_recordActionItem\"(\n                action: #\"urn:appian:record-action:v1:462e1408-1c19-4591-b946-fce9233909ce/5bf5bb84-8a57-4e1c-b7e6-d1138e941a15\",\n                identifier: ri!resource[recordType!CMGT_KB_Resource.resourceId]\n              ),\n              #\"SYSTEM_SYSRULES_recordActionItem\"(\n                action: #\"urn:appian:record-action:v1:462e1408-1c19-4591-b946-fce9233909ce/343cedee-4615-438f-b84a-bdfd3b545920\",\n                identifier: ri!resource[recordType!CMGT_KB_Resource.resourceId]\n              )\n            },\n            securityOnDemand: not(\n              cons!CMGT_BOL_AUTOMATION_TESTING_LABEL_SWITCH\n            ),\n            style: \"MENU_ICON\",\n            align: \"START\",\n            display: \"LABEL_AND_ICON\",\n            accessibilityText: ri!resource[recordType!CMGT_KB_Resource.title]\n          ),\n          width: \"MINIMIZE\"\n        )\n      },\n      spacing: \"STANDARD\",\n      marginBelow: \"NONE\",\n      marginAbove: \"NONE\"\n    ),\n    /*Last Updated*/\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      labelPosition: \"COLLAPSED\",\n      value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: if(\n          rule!CMGT_UTIL_IsBlank(\n            value: ri!resource[recordType!CMGT_KB_Resource.modifiedBy]\n          ),\n          cons!CMGT_TXT_EMPTY_VALUE,\n          #\"urn:appian:translation-string:v1:0c3a166d-18c6-4b0b-945a-d9e252e91f96\"(\n            #\"urn:appian:translation-variable:v1:e2683745-196b-4fc0-830e-a7d87ec83b43\": rule!CMGT_UTIL_DisplayUser(\n              userRecord: ri!resource[recordType!CMGT_KB_Resource.modifiedByUser],\n              user: ri!resource[recordType!CMGT_KB_Resource.modifiedBy]\n            ),\n            #\"urn:appian:translation-variable:v1:f74f43d8-cb21-432c-979f-c166486ce431\": rule!CMGT_UTIL_FormatDateTime(\n              dateTime: ri!resource[recordType!CMGT_KB_Resource.modifiedOn]\n            )\n          )\n        ),\n        color: ri!brandingMap.SecondaryTextColor,\n        size: \"SMALL\"\n      ),\n      marginAbove: \"NONE\"\n    ),\n    /*Resource Contents*/\n    a!match(\n      value: ri!resource[recordType!CMGT_KB_Resource.resourceTypeId],\n      equals: cons!CMGT_KB_REFID_RESOURCE_TYPE_TEXT,\n      /*Text*/\n      then: #\"SYSTEM_SYSRULES_cardLayout\"(\n        contents: rule!CMGT_UTIL_RichTextField(\n          value: if(\n            len(\n              ri!resource[recordType!CMGT_KB_Resource.resourceText.plainText]\n            ) > 60,\n            concat(\n              left(\n                ri!resource[recordType!CMGT_KB_Resource.resourceText.plainText],\n                60\n              ),\n              #\"urn:appian:translation-string:v1:ad4913b6-cc67-4559-bc61-252b9a95ead8\"\n            ),\n            ri!resource[recordType!CMGT_KB_Resource.resourceText.plainText]\n          ),\n          readOnly: true()\n        ),\n        showBorder: ri!brandingMap.CardShowBorder,\n        borderColor: ri!brandingMap.CardBorderColor,\n        shape: ri!brandingMap.CardShape,\n        showShadow: ri!brandingMap.CardShowShadow,\n        style: ri!brandingMap.CardBackgroundColor,\n        marginBelow: \"EVEN_LESS\",\n        height: \"AUTO\"\n      ),\n      equals: cons!CMGT_KB_REFID_RESOURCE_TYPE_DOCUMENT,\n      /*Document*/\n      then: #\"SYSTEM_SYSRULES_cardGroupLayout\"(\n        labelPosition: \"COLLAPSED\",\n        cards: {\n          rule!CMGT_KB_Document_Sub_DocumentCard(\n            brandingMap: ri!brandingMap,\n            document: ri!resource[recordType!CMGT_KB_Resource.document]\n          )\n        },\n        marginAbove: \"NONE\",\n        marginBelow: \"EVEN_LESS\"\n      ),\n      /*Add custom resource contents below*/\n      default: {}\n    )\n  },\n  showBorder: ri!brandingMap.CardShowBorder,\n  borderColor: ri!brandingMap.CardBorderColor,\n  padding: \"LESS\",\n  link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n    saveInto: a!save(ri!selectedResource, ri!resource)\n  ),\n  shape: ri!brandingMap.CardShape,\n  showShadow: ri!brandingMap.CardShowShadow,\n  style: ri!brandingMap.CardBackgroundColor,\n  height: \"AUTO\"\n)"
    },
    "_a-0000ea03-1fde-8000-9be1-011c48011c48_390450": {
      "name": "CMGT_CommentDocumentMap_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!commentDocumentMaps,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {},\n    /*Only modify these fields if they are currently null (default value)*/\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_CommentDocumentMap.isActive,\n        value: true\n      )\n    }\n  )\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_39879": {
      "name": "CMGT_Document_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!documents,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    alwaysOverwrite: {\n      /*ri!taskCompletedOn will be removed once related record tree updation feature is released which will automatically update these metadata with parent's data*/\n      /*ri!taskCompletedOn is added, so that in the frontend we can display documents based on task completed timestamp in task summary*/\n      a!map(\n        field: recordType!CMGT_Document.modifiedOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_Document.modifiedBy,\n        value: ri!initiator\n      )\n    },\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_Document.createdOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_Document.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_Document.isActive,\n        value: true\n      ),\n      a!map(\n        field: recordType!CMGT_Document.isPrivate,\n        value: #\"urn:appian:function:v1:a:isusermemberofgroup?okey=a!isUserMemberOfGroup\"(\n          ri!initiator,\n          cons!CMGT_GRP_INTERNAL_USERS\n        )\n      ),\n      a!map(\n        field: recordType!CMGT_Document.documentName,\n        value: document(\n          fv!item[recordType!CMGT_Document.appianDocId],\n          \"name\"\n        )\n      ),\n      a!map(\n        field: recordType!CMGT_Document.extension,\n        value: document(\n          fv!item[recordType!CMGT_Document.appianDocId],\n          \"extension\"\n        )\n      ),\n      a!map(\n        field: recordType!CMGT_Document.size,\n        value: document(\n          fv!item[recordType!CMGT_Document.appianDocId],\n          \"size\"\n        )\n      ),\n      /*Set caseId/taskId in case it's on the object and not the FK field*/\n      a!map(\n        field: recordType!CMGT_Document.caseId,\n        value: fv!item[recordType!CMGT_Document.case.caseId]\n      ),\n      a!map(\n        field: recordType!CMGT_Document.taskId,\n        value: fv!item[recordType!CMGT_Document.task.taskId]\n      )\n    }\n  )\n)"
    },
    "_a-0000ec22-0443-8000-9cd2-011c48011c48_2708511": {
      "name": "CMGT_UTIL_DisplayEmptyState",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_columnsLayout\"(\n  showWhen: ri!showWhen,\n  columns: {\n    #\"SYSTEM_SYSRULES_columnLayout\"(\n      width: \"EXTRA_NARROW\",\n      showWhen: if(ri!condensed, false, true)\n    ),\n    #\"SYSTEM_SYSRULES_columnLayout\"(\n      contents: {\n        if(\n          a!isNotNullOrEmpty(ri!docImage),\n          #\"SYSTEM_SYSRULES_imageField_v1\"(\n            images: #\"SYSTEM_SYSRULES_documentImage\"(document: ri!docImage),\n            size: a!defaultValue(value: ri!imageSize, default: \"TINY\"),\n            align: \"CENTER\"\n          ),\n          {}\n        ),\n        #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          value: {\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: ri!primaryText,\n              color: ri!brandingMap.PrimaryTextColor,\n              style: ri!primaryTextStyle,\n              size: a!defaultValue(\n                value: ri!primaryTextSize,\n                default: \"MEDIUM\"\n              )\n            )\n          },\n          align: \"CENTER\",\n          marginBelow: if(\n            rule!CMGT_UTIL_IsNotBlank(ri!secondaryText),\n            \"EVEN_LESS\",\n            \"STANDARD\"\n          )\n        ),\n        #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          value: {\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: ri!secondaryText,\n              color: ri!brandingMap.SecondaryTextColor,\n              style: ri!secondaryTextStyle,\n              size: a!defaultValue(\n                value: ri!secondaryTextSize,\n                default: \"STANDARD\"\n              )\n            )\n          },\n          labelPosition: \"COLLAPSED\",\n          align: \"CENTER\",\n          showWhen: rule!CMGT_UTIL_IsNotBlank(ri!secondaryText),\n          marginBelow: a!defaultValue(\n            value: ri!secondaryTextMarginBelow,\n            default: \"STANDARD\"\n          )\n        ),\n        a!defaultValue(ri!additionalContent, {})\n      }\n    ),\n    #\"SYSTEM_SYSRULES_columnLayout\"(\n      width: \"EXTRA_NARROW\",\n      showWhen: if(ri!condensed, false, true)\n    ),\n\n  },\n  marginBelow: \"NONE\"\n)"
    },
    "_a-0000e9a5-4cb8-8000-9bac-011c48011c48_69322": {
      "name": "CMGT_QR_GetPriority",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_CFG_Priority,\n  returnType: ri!returnType,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_Priority.isActive,\n      operator: \"=\",\n      value: ri!isActive\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_Priority.priorityId,\n      operator: \"in\",\n      value: ri!priorityId\n    )\n  },\n  fields: ri!fields,\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  triggerRefresh: ri!triggerRefresh,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ed65-13b8-8000-9d44-011c48011c48_3726443": {
      "name": "CMGT_Automation_returnConditionValueForDisplay",
      "type": "Expression Rule",
      "sail_code": "a!match(\n  value: ri!fieldDetails.fieldType,\n  whenTrue: tostring(fv!value) = \"USERNAME\",\n  then: if(\n    rule!CMGT_UTIL_IsNotBlank(ri!jsonValue),\n    tostring(\n      rule!CMGT_QR_GetUser(\n        username: tostring(ri!jsonValue.id),\n        returnType: \"SINGLE_OBJECT\"\n      )[#\"urn:appian:record-field:v1:SYSTEM_RECORD_TYPE_USER/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\"]\n    ),\n    \"\"\n  ),\n  whenTrue: and(\n    fv!value = \"RecordType\",\n    a!isNotNullOrEmpty(ri!jsonValue)\n  ),\n  then: a!localVariables(\n    local!allSelectedExtraConfigurations: rule!CMGT_UTIL_Filter(\n      records: ri!fieldDetails.extraConfigurations.configurations.type,\n      field: \"code\",\n      value: ri!fieldPathFromJson.extraConfigurations.code,\n      filterType: \"FIRST_MATCH\"\n    ),\n    a!match(\n      value: local!allSelectedExtraConfigurations.recordTypeUuid,\n      equals: \"SYSTEM_RECORD_TYPE_USER\",\n      then: tostring(\n        rule!CMGT_QR_GetUser(\n          username: tostring(ri!jsonValue.id),\n          returnType: \"SINGLE_OBJECT\"\n        )[#\"urn:appian:record-field:v1:SYSTEM_RECORD_TYPE_USER/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\"]\n      ),\n      default: a!localVariables(\n        local!fieldValue: rule!CMGT_UTIL_RecordBackedDropdownField(\n          recordType: local!allSelectedExtraConfigurations.recordType,\n          additionalFilters: local!allSelectedExtraConfigurations.filters.additionalFilters,\n          value: ri!jsonValue,\n          labelField: local!allSelectedExtraConfigurations.filters.dropdownFieldLabels,\n          readOnly: true\n        ),\n        /* for task assignee, clarify that the role mapping is referring to case role */\n        if(ri!fieldDetails.fieldUUID = \"7576a553-bb91-4848-962a-c7a23a9f3b2d\",\n        \"Case \" & local!fieldValue,\n        local!fieldValue\n        )\n      )\n    )\n  ),\n  /*Check for choice list(record type) value from field details*/\n  whenTrue: and(\n   fv!value = \"CHOICE_LIST\",\n    a!isNotNullOrEmpty(ri!jsonValue)\n  ),\n  /*retrive choice label from its value based on condition value by studio function*/\n  then: \n  a!localVariables(\n    local!ootbCaseAdditionalInfo: rule!CMGT_UTIL_Filter(\n      records: {\n        a!map(\n          displayName: \"Status\",\n          logicFieldName: \"status\",\n          dropdownFieldLabels: recordType!CMGT_CFG_Status.statusLabel,\n          additionalFilters: #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_CFG_Status.type,\n            operator: \"=\",\n            value: if(\n              ri!fieldDetails.parentRecordTypeUuid= cons!CMGT_UUID_RECORD_TYPE_CASE,\n              \"CASE\",\n              \"TASK\"\n              )\n          )\n        )\n      },\n      field: \"displayName\",\n      value: ri!fieldDetails.displayName\n    ),\n    rule!CMGT_UTIL_RecordBackedDropdownField(\n      recordType: ri!fieldDetails.recordType,\n      additionalFilters: local!ootbCaseAdditionalInfo.additionalFilters,\n      value: ri!jsonValue,\n      labelField: local!ootbCaseAdditionalInfo.dropdownFieldLabels,\n      readOnly: true\n    )\n  ),\n  /*display format for date and date time field without timezone*/\n  whenTrue: or(\n    fv!value = \"DATETIME\",\n    fv!value = \"DATE\"\n  ),\n  then: if(\n    contains(\n      {\n        cons!CMGT_TXT_AUTOMATION_OPERATOR_AFTER_NOW_OFFSET,\n        cons!CMGT_TXT_AUTOMATION_OPERATOR_AFTER_TODAY_OFFSET,\n        cons!CMGT_TXT_AUTOMATION_OPERATOR_BEFORE_NOW_OFFSET,\n        cons!CMGT_TXT_AUTOMATION_OPERATOR_BEFORE_TODAY_OFFSET,\n        cons!CMGT_TXT_AUTOMATION_OPERATOR_ON_OR_AFTER_TODAY_OFFSET,\n        cons!CMGT_TXT_AUTOMATION_OPERATOR_ON_OR_BEFORE_TODAY_OFFSET\n      },\n      ri!operator\n    ),\n    ri!jsonValue,\n    rule!CMGT_UTIL_FormatDateTime(\n      dateTime: ri!jsonValue,\n      includeTime: fv!value = \"DATETIME\",\n      convertToSystemTimeZone:fv!value = \"DATE\"\n    )\n  ),\n  whenTrue: fv!value = \"GROUP\",\n  then: if(\n    rule!CMGT_UTIL_IsNotBlank(ri!jsonValue),\n    group(\n      tointeger(\n        index(index(ri!jsonValue, \"id\", null), 1, null)\n      ),\n      \"groupName\"\n    ),\n    \"\"\n  ),\n  default: tostring(ri!jsonValue)\n)"
    },
    "_a-0000e9d3-70bf-8000-9bbd-011c48011c48_180598": {
      "name": "CMGT_UTIL_returnSingleTypeObject",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!typeOf: if(\n    isnull(ri!type),\n    ri!typeOf,\n    cast(\n      ri!type,\n      {}\n    )\n  ),\n\n  index(\n    cast(\n      typeof({local!typeOf}), \n      updatearray({local!typeOf}, 1, {})\n    ), \n    1,\n    {}\n  )\n)"
    },
    "_a-0000ed6c-5326-8000-9d46-011c48011c48_3743692": {
      "name": "CMGT_ENUM_Automation_ootbCaseRecordFieldsToReject",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*If Context is passed then these are the default fields to reject  */\n  local!defaultContextFieldsToReject: {\n    /*Created By User*/\"a5ede28b-dcb0-48e4-8a37-12ea5d27ee76\",\n    /*Created On*/\"4db722a4-2e1f-4d17-a168-0ae254a83407\",\n    /*Modified On */\"12a54b35-6aad-4cf0-b04a-700cc54a4917\",\n    \n  },\n  local!contextFieldsToReject: a!match(\n    value: ri!context,\n    /*If no context is passed, then it's assumed to be used when configuring a condition, which rejects Due On & Completed On    */\n    whenTrue: rule!CMGT_UTIL_IsBlank(ri!context),\n    then: {\n      /*Due On*/\"dd6a7d01-9f60-4e65-b322-da301c36bcbb\",\n      /*Completed On*/\"71e2da70-92e0-4ace-93b2-67247ad82b96\"\n    },\n    default: a!flatten(\n      {\n        local!defaultContextFieldsToReject,\n        a!match(\n          value: ri!context,\n          /*If the context is blank then should    */\n          whenTrue: rule!CMGT_UTIL_IsBlank(ri!context),\n          /*fields to hide within the fields dropdown of the case field is updated trigger*/\n          equals: cons!CMGT_TXT_AVAILABLE_FIELDS_FOR_CASE_FIELD_UPDATED_TRIGGER_CONTEXT,\n          then: { null },\n          /*fields to ignore when checking for updated fields within the CMGT_Case_UpdateProperty PM*/\n          equals: tostring(cons!CMGT_PM_UPDATE_CASE_PROPERTY),\n          then: {\n            /*Description*/\"1282844c-ffee-4473-a3b4-3e2c8f94cf0e\",\n            /*Case Assignee/Case Watcher*/\"7576a553-bb91-4848-962a-c7a23a9f3b2d\",\n            /*Group Assignee*/\"980ec52a-b916-409f-9cdf-1752ce399f6d\",\n            /*Title*/\"cc5741b7-43ad-438b-844e-8da8538c9cae\"\n          },\n          /*fields to ignore when checking for updated fields within the CMGT_Case_Update PM*/\n          equals: tostring(cons!CMGT_PM_UPDATE_CASE),\n          then: {\n            /*Case Assignee/Case Watcher*/\"7576a553-bb91-4848-962a-c7a23a9f3b2d\",\n            /*Group Assignee*/\"980ec52a-b916-409f-9cdf-1752ce399f6d\",\n            /*Due On*/\"dd6a7d01-9f60-4e65-b322-da301c36bcbb\",\n            /*Completed On*/\"71e2da70-92e0-4ace-93b2-67247ad82b96\",\n            /*Status*/\"43305b8c-b670-44fe-be8a-90fe7dd78436\",\n            /*Priority*/\"e50c4ea6-59fc-475d-bc19-998a2428555e\"\n          },\n          /*fields to ignore when checking for updated fields within the CMGT_Case_bulkUpdate PM*/\n          equals: tostring(cons!CMGT_PM_BULK_UPDATE_CASE),\n          then: {\n            /*Completed On*/\"71e2da70-92e0-4ace-93b2-67247ad82b96\",\n            /*Title*/\"cc5741b7-43ad-438b-844e-8da8538c9cae\",\n            /*Description*/\"1282844c-ffee-4473-a3b4-3e2c8f94cf0e\",\n            \n          },\n          equals: cons!CMGT_TXT_AVAILABLE_FIELDS_FOR_UPDATE_CASE_ASSIGNEE_FIELD_TRIGGER_CONTEXT,\n          then: {\n            /*Due On*/\"dd6a7d01-9f60-4e65-b322-da301c36bcbb\",\n            /*Completed On*/\"71e2da70-92e0-4ace-93b2-67247ad82b96\",\n            /*Title*/\"cc5741b7-43ad-438b-844e-8da8538c9cae\",\n            /*Status*/\"43305b8c-b670-44fe-be8a-90fe7dd78436\",\n            /*Priority*/\"e50c4ea6-59fc-475d-bc19-998a2428555e\",\n            /*Description*/\"1282844c-ffee-4473-a3b4-3e2c8f94cf0e\",\n            \n          },\n          equals: cons!CMGT_TXT_AVAILABLE_FIELDS_FOR_UPDATE_CASE_WATCHER_FIELD_TRIGGER_CONTEXT,\n          then: {\n            /*Due On*/\"dd6a7d01-9f60-4e65-b322-da301c36bcbb\",\n            /*Group Assignee*/\"980ec52a-b916-409f-9cdf-1752ce399f6d\",\n            /*Completed On*/\"71e2da70-92e0-4ace-93b2-67247ad82b96\",\n            /*Title*/\"cc5741b7-43ad-438b-844e-8da8538c9cae\",\n            /*Status*/\"43305b8c-b670-44fe-be8a-90fe7dd78436\",\n            /*Priority*/\"e50c4ea6-59fc-475d-bc19-998a2428555e\",\n            /*Description*/\"1282844c-ffee-4473-a3b4-3e2c8f94cf0e\",\n            \n          },\n          default: null\n        )\n      }\n    )\n  ),\n  rule!CMGT_UTIL_RejectBlank(\n    local!contextFieldsToReject\n  )\n)"
    },
    "_a-0000ece2-0128-8000-9bb8-011c48011c48_39254": {
      "name": "CMGT_UTIL_FormatDueDate",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    rule!CMGT_UTIL_IsNotBlank(ri!dueOn),\n    ri!showAsOverdueWhen\n  ),\n  a!localVariables(\n    local!elapsedDays: elapseddays(ri!dueOn, now()),\n    local!elapsedHours: elapsedhours(ri!dueOn, now()),\n    local!elapsedMinutes: elapsedminutes(ri!dueOn, now()),\n    local!getDateFromDueDateConverted: rule!CMGT_UTIL_GetDateFromDateTime(\n      dateTimeValue: ri!dueOn,\n      convertToSystemTimeZone: false\n    ),\n    a!match(\n      value: local!getDateFromDueDateConverted,\n      /* Overdue by days     */\n      whenTrue: local!elapsedDays > 0,\n      then: a!map(\n        icon: #\"SYSTEM_SYSRULES_richTextIcon\"(\n          icon: \"exclamation-circle\",\n          size: ri!iconSize,\n          color: ri!brandingMap.NegativeAccentColor,\n          caption: #\"urn:appian:translation-string:v1:d7fef3a3-051d-443a-b953-149895f8a3c8\"\n        ),\n        text: if(\n          local!elapsedDays = 1,\n          #\"urn:appian:translation-string:v1:b179fba0-6749-4045-b6bf-8a18629bb0ad\"(\n            #\"urn:appian:translation-variable:v1:40b4aa38-acbc-4588-b634-cd5ce89462d4\": local!elapsedDays\n          ),\n          #\"urn:appian:translation-string:v1:41a4b792-f85b-47bd-84cb-9969ff768b5b\"(\n            #\"urn:appian:translation-variable:v1:ce229db1-aeef-4add-873e-17aa7a70938e\": local!elapsedDays\n          )\n        )\n      ),\n      /*   Overdue by hours   */\n      whenTrue: and(\n        local!elapsedHours > 0,\n        local!elapsedHours < 24\n      ),\n      then: a!map(\n        icon: #\"SYSTEM_SYSRULES_richTextIcon\"(\n          icon: \"exclamation-circle\",\n          size: ri!iconSize,\n          color: ri!brandingMap.NegativeAccentColor,\n          caption: #\"urn:appian:translation-string:v1:d7fef3a3-051d-443a-b953-149895f8a3c8\"\n        ),\n        text: if(\n          local!elapsedHours = 1,\n          #\"urn:appian:translation-string:v1:1a0d1c13-62a2-4920-82b8-c9e6c6b94abf\"(\n            #\"urn:appian:translation-variable:v1:5e46f0b5-0f17-4e73-bd77-fe5cc91ebc24\": local!elapsedHours\n          ),\n          #\"urn:appian:translation-string:v1:283f2c46-04f4-4cfe-87f1-3948c1cd2684\"(\n            #\"urn:appian:translation-variable:v1:c3e94e73-9d02-414a-aca6-6418b7a58222\": local!elapsedHours\n          )\n        )\n      ),\n      /*  Overdue by minutes    */\n      whenTrue: and(\n        local!elapsedMinutes > 0,\n        local!elapsedMinutes < 60\n      ),\n      then: a!map(\n        icon: #\"SYSTEM_SYSRULES_richTextIcon\"(\n          icon: \"clock\",\n          size: ri!iconSize,\n          color: ri!brandingMap.WarningAccentColor,\n          caption: #\"urn:appian:translation-string:v1:d7fef3a3-051d-443a-b953-149895f8a3c8\"\n        ),\n        text: if(\n          local!elapsedMinutes = 1,\n          #\"urn:appian:translation-string:v1:a5b4fb2f-5c76-4fce-b138-3c6bdc99a65b\"(\n            #\"urn:appian:translation-variable:v1:4520261c-795e-4420-b8e1-1a7352034a43\": local!elapsedMinutes\n          ),\n          #\"urn:appian:translation-string:v1:73a34328-d743-4473-aa26-1798314ed42f\"(\n            #\"urn:appian:translation-variable:v1:754b7c44-1511-44f8-ba35-bd8aa238d558\": local!elapsedMinutes\n          )\n        )\n      ),\n      default: a!map(\n        icon: #\"SYSTEM_SYSRULES_richTextIcon\"(\n          icon: \"calendar-o\",\n          size: ri!iconSize,\n          color: ri!brandingMap.SecondaryTextColor\n        ),\n        text: rule!CMGT_UTIL_FormatDateTime(dateTime: ri!dueOn, includeTime: true)\n      ),\n      /*   Due Today   */\n      equals: today(),\n      then: a!map(\n        icon: #\"SYSTEM_SYSRULES_richTextIcon\"(\n          icon: \"clock\",\n          size: ri!iconSize,\n          color: ri!brandingMap.WarningAccentColor,\n          caption: #\"urn:appian:translation-string:v1:a252bcc9-689a-4c2a-a46a-fb5ca57a7ba9\"\n        ),\n        text: #\"urn:appian:translation-string:v1:492c0e0f-7195-43c0-ae1a-25047163feab\"(\n          #\"urn:appian:translation-variable:v1:9cec6370-6bb2-4e54-a608-510c0259542f\": rule!CMGT_UTIL_FormatDateTime(dateTime: ri!dueOn, returnTime: true)\n        )\n      ),\n      /* Due Tomorrow     */\n      equals: today() + 1,\n      then: a!map(\n        icon: #\"SYSTEM_SYSRULES_richTextIcon\"(\n          icon: \"clock\",\n          size: ri!iconSize,\n          color: ri!brandingMap.WarningAccentColor,\n          caption: #\"urn:appian:translation-string:v1:a252bcc9-689a-4c2a-a46a-fb5ca57a7ba9\"\n        ),\n        text: #\"urn:appian:translation-string:v1:028d3aa9-fb98-4b9c-aca8-cf7afee3b18f\"(\n          #\"urn:appian:translation-variable:v1:2ea8b884-d971-4045-8116-bd3eaddbe5dd\": rule!CMGT_UTIL_FormatDateTime(dateTime: ri!dueOn, returnTime: true)\n        )\n      )\n    )\n  ),\n  a!map(\n    icon: #\"SYSTEM_SYSRULES_richTextIcon\"(\n      icon: \"calendar-o\",\n      size: ri!iconSize,\n      color: ri!brandingMap.SecondaryTextColor\n    ),\n    text: a!defaultValue(\n      value: rule!CMGT_UTIL_FormatDateTime(dateTime: ri!dueOn, includeTime: true),\n      default: cons!CMGT_TXT_EMPTY_VALUE\n    )\n  )\n)"
    },
    "_a-0000ea13-fced-8000-9be9-011c48011c48_481668": {
      "name": "CMGT_Role_SetEvents",
      "type": "Expression Rule",
      "sail_code": "a!match(\n  value: ri!context,\n  whenTrue: rule!CMGT_UTIL_IsBlank(\n    ri!roles\n  ),\n  then: {},\n  equals: \"CASE\",\n  then: #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!roles,\n    expression: rule!CMGT_CaseEventHistory_Constructor(\n      caseId: fv!item[recordType!CMGT_Role.caseId],\n      initiator: ri!initiator,\n      eventTypeId: a!match(\n        value: fv!item[recordType!CMGT_Role.roleTypeId],\n        equals: cons!CMGT_SELF_REFID_ROLE_TYPE_CLAIMANT,\n        then: cons!CMGT_SELF_REFID_EVENT_TYPE_CASE_ADD_CLAIMANT,\n        equals: cons!CMGT_REFID_ROLE_TYPE_WATCHER,\n        then: if(\n          fv!item[recordType!CMGT_Role.isActive],\n          cons!CMGT_REFID_EVENT_TYPE_CASE_ADD_WATCHER,\n          cons!CMGT_REFID_EVENT_TYPE_CASE_REMOVED_WATCHER\n        ),\n        equals: cons!CMGT_LA_REFID_ROLE_TYPE_SUBMITTER,\n        then: cons!CMGT_LA_REFID_EVENT_TYPE_CASE_ADD_SUBMITTER,\n        whenTrue: or(\n          fv!value = cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n          fv!value = cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n        ),\n        then: if(\n          fv!item[recordType!CMGT_Role.isActive],\n          cons!CMGT_REFID_EVENT_TYPE_CASE_ADD_ASSIGNEE,\n          cons!CMGT_REFID_EVENT_TYPE_CASE_REMOVED_ASSIGNEE\n        ),\n        default: {}\n      ),\n      details: a!map(\n        user: tostring(\n          fv!item[recordType!CMGT_Role.username]\n        ),\n        groupId: tointeger(\n          fv!item[recordType!CMGT_Role.groupId]\n        )\n      )\n    )\n  ),\n  equals: \"TASK\",\n  then: a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!roles,\n      expression: a!localVariables(\n        local!originalRole: rule!CMGT_UTIL_Filter(\n          records: ri!originalRoles,\n          field: recordType!CMGT_Role.roleId,\n          value: fv!item[recordType!CMGT_Role.roleId]\n        ),\n        if(\n          /*new role or change in active flag, create event*/\n          or(\n            a!isNullOrEmpty(\n              local!originalRole\n            ),\n            and(\n              a!isNotNullOrEmpty(\n                local!originalRole\n              ),\n              local!originalRole[recordType!CMGT_Role.isActive] <> fv!item[recordType!CMGT_Role.isActive]\n            )\n          ),\n          rule!CMGT_TaskEventHistory_Constructor(\n            taskId: fv!item[recordType!CMGT_Role.taskId],\n            initiator: ri!initiator,\n            eventTypeId: if(\n              fv!item[recordType!CMGT_Role.isActive],\n              cons!CMGT_REFID_EVENT_TYPE_TASK_ADD_ASSIGNEE,\n              cons!CMGT_REFID_EVENT_TYPE_TASK_REMOVED_ASSIGNEE\n            ),\n            details: a!map(\n              user: tostring(\n                fv!item[recordType!CMGT_Role.username]\n              ),\n              groupId: tointeger(\n                fv!item[recordType!CMGT_Role.groupId]\n              )\n            )\n          ),\n          {}\n        )\n      )\n    )\n  ),\n  default: {}\n)"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_564662": {
      "name": "CMGT_ControlPanel_Tasking_TaskBlocks",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!triggerRefresh: a!refreshVariable(\n    value: now(),\n    refreshAfter: \"RECORD_ACTION\"\n  ),\n  local!showEmptyState: rule!CMGT_WFL_QR_GetTaskBlock(\n    returnType: \"TOTAL_COUNT\",\n    includeInactive: true,\n    triggerRefresh: local!triggerRefresh\n  ) = 0,\n  local!suggestedTaskBlocks: rule!CMGT_WFL_QR_GetTaskBlock(\n    triggerRefresh: local!triggerRefresh,\n    pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n      1,\n      5,\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_WFL_CFG_TaskBlock.modifiedOn\n      )\n    )\n  ),\n  local!suggestTaskBlockTasks: rule!CMGT_WFL_QR_GetTaskBlockTask(\n    executeWhen: rule!CMGT_UTIL_IsNotBlank(local!suggestedTaskBlocks),\n    taskBlockId: local!suggestedTaskBlocks[recordType!CMGT_WFL_CFG_TaskBlock.taskBlockId],\n    fields: {},\n    triggerRefresh: local!triggerRefresh\n  ),\n  {\n    if(\n      local!showEmptyState,\n      {\n        #\"SYSTEM_SYSRULES_cardLayout\"(\n          contents: {\n            rule!CMGT_UTIL_DisplayEmptyState(\n              brandingMap: ri!brandingMap,\n              primaryText: #\"urn:appian:translation-string:v1:9082c759-2b6b-45aa-ad84-89b963d4c6f8\",\n              primaryTextSize: \"MEDIUM\",\n              primaryTextStyle: \"STRONG\",\n              secondaryText: #\"urn:appian:translation-string:v1:d7029924-2233-4b56-9c93-5bd373069d5f\",\n              secondaryTextMarginBelow: \"MORE\",\n              docImage: cons!CMGT_WFL_CMS_TASK_BLOCKS_EMPTY_STATE,\n              imageSize: \"EXTRA_SMALL\",\n              additionalContent: {\n                #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n                  actions: {\n                    #\"SYSTEM_SYSRULES_recordActionItem\"(\n                      action: #\"urn:appian:record-action:v1:44c1744f-0f51-4ba8-a6d6-38e8ce4360d6/016a19ba-923c-4b7e-893b-0055282dc5c4\"\n                    )\n                  },\n                  align: \"CENTER\",\n                  display: \"LABEL\",\n                  style: \"TOOLBAR_PRIMARY\"\n                )\n              }\n            )\n          },\n          padding: \"EVEN_MORE\",\n          marginAbove: \"EVEN_MORE\",\n          height: \"EXTRA_TALL\",\n          showBorder: false()\n        )\n      },\n      {\n        rule!CMGT_UTIL_HeaderField(\n          label: if(\n            not(local!showEmptyState),\n            #\"urn:appian:translation-string:v1:2c0f9fac-4e49-4335-b942-7c43063d530a\",\n            \"\"\n          ),\n          labelSize: ri!brandingMap.H2Size,\n          divider: \"NONE\",\n          brandingMap: ri!brandingMap,\n          labelColor: ri!brandingMap.StandardTextColor,\n          labelFontWeight: ri!brandingMap.H2Weight,\n          rightSideContents: {\n            #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n              actions: {\n                /*action: createWorkTaskBlock*/\n                #\"SYSTEM_SYSRULES_recordActionItem\"(\n                  action: #\"urn:appian:record-action:v1:44c1744f-0f51-4ba8-a6d6-38e8ce4360d6/016a19ba-923c-4b7e-893b-0055282dc5c4\"\n                )\n              },\n              align: \"END\",\n              style: \"TOOLBAR_PRIMARY\",\n              display: \"LABEL\"\n            )\n          },\n          marginBelow: \"NONE\",\n          marginAbove: \"STANDARD\"\n        ),\n        #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_cardGroupLayout\"(\n              cards: #\"SYSTEM_SYSRULES_forEach\"(\n                items: local!suggestedTaskBlocks,\n                expression: #\"SYSTEM_SYSRULES_cardLayout\"(\n                  contents: {\n                    #\"SYSTEM_SYSRULES_cardLayout\"(\n                      contents: {\n                        #\"SYSTEM_SYSRULES_tagField\"(\n                          tags: {\n                            #\"SYSTEM_SYSRULES_tagItem_v1\"(\n                              text: if(\n                                or(\n                                  fv!item[recordType!CMGT_WFL_CFG_TaskBlock.numOfActiveTaskBlockTasks] > 1,\n                                  fv!item[recordType!CMGT_WFL_CFG_TaskBlock.numOfActiveTaskBlockTasks] = 0\n                                ),\n                                concat(\n                                  fv!item[recordType!CMGT_WFL_CFG_TaskBlock.numOfActiveTaskBlockTasks],\n                                  \" \",\n                                  #\"urn:appian:translation-string:v1:406b7c4a-ff09-4f3e-b7a7-333b03e9e34e\"\n                                ),\n                                concat(\n                                  fv!item[recordType!CMGT_WFL_CFG_TaskBlock.numOfActiveTaskBlockTasks],\n                                  \" \",\n                                  #\"urn:appian:translation-string:v1:af901900-c392-4676-a3ac-40d40aaa3415\"\n                                )\n                              ),\n                              backgroundColor: ri!brandingMap.TagSecondaryBackgroundColor\n                            )\n                          },\n                          size: ri!brandingMap.TagSize,\n                          align: \"START\",\n                          marginAbove: \"NONE\",\n                          marginBelow: \"NONE\"\n                        ),\n                        rule!CMGT_WFL_TaskBlock_Visualization(\n                          brandingMap: ri!brandingMap,\n                          selectable: false,\n                          tasks: rule!CMGT_UTIL_Filter(\n                            records: local!suggestTaskBlockTasks,\n                            field: recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockId,\n                            value: fv!item[recordType!CMGT_WFL_CFG_TaskBlock.taskBlockId]\n                          ),\n                          height: \"SHORT\",\n                          showVizNavigationButtons: \"NONE\"\n                        )\n                      },\n                      marginBelow: \"NONE\",\n                      height: \"AUTO\",\n                      showBorder: false,\n                      showShadow: false,\n                      style: ri!brandingMap.SelectedCardColor,\n                      padding: \"LESS\"\n                    ),\n                    #\"SYSTEM_SYSRULES_cardLayout\"(\n                      contents: {\n                        #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                          items: {\n                            #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                              item: #\"SYSTEM_SYSRULES_headingField\"(\n                                text: fv!item[recordType!CMGT_WFL_CFG_TaskBlock.label],\n                                size: ri!brandingMap.H2Size,\n                                fontWeight: ri!brandingMap.H2Weight,\n                                marginBelow: \"NONE\"\n                              )\n                            ),\n                            #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                              item: #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n                                actions: {\n                                  #\"SYSTEM_SYSRULES_recordActionItem\"(\n                                    action: #\"urn:appian:record-action:v1:44c1744f-0f51-4ba8-a6d6-38e8ce4360d6/9c156a36-9b2a-423f-8f46-16d2a099c0ea\",\n                                    identifier: fv!item[recordType!CMGT_WFL_CFG_TaskBlock.taskBlockId]\n                                  )\n                                },\n                                style: \"LINKS\",\n                                display: \"ICON\",\n                                align: \"END\"\n                              ),\n                              width: \"MINIMIZE\"\n                            )\n                          },\n                          marginBelow: \"NONE\"\n                        ),\n                        #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                          labelPosition: \"COLLAPSED\",\n                          value: {\n                            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                              text: #\"urn:appian:translation-string:v1:47c0f678-c7ec-47ad-ac82-1751a615f89c\"(\n                                #\"urn:appian:translation-variable:v1:9162e0ba-fea7-496d-8944-cd3d29902607\": rule!CMGT_UTIL_FormatDateTime(\n                                  dateTime: fv!item[recordType!CMGT_WFL_CFG_TaskBlock.modifiedOn],\n                                  includeTime: false,\n                                  convertToSystemTimeZone: false\n                                )\n                              ),\n                              color: ri!brandingMap.SecondaryTextColor,\n                              size: \"SMALL\"\n                            )\n                          }\n                        )\n                      },\n                      padding: \"LESS\",\n                      marginAbove: \"NONE\",\n                      showBorder: false,\n                      showShadow: false,\n                      style: \"TRANSPARENT\",\n                      marginBelow: \"LESS\"\n                    )\n                  },\n                  shape: ri!brandingMap.CardShape,\n                  padding: \"NONE\",\n                  showBorder: ri!brandingMap.CardShowBorder,\n                  showShadow: ri!brandingMap.CardShowShadow,\n                  style: ri!brandingMap.CardBackgroundColor,\n                  borderColor: ri!brandingMap.InactiveCardBackgroundColor\n                )\n              ),\n              fillContainer: true,\n              cardWidth: \"NARROW\",\n              cardHeight: \"AUTO\"\n            )\n          },\n          showWhen: rule!CMGT_UTIL_IsNotBlank(input: local!suggestedTaskBlocks),\n          marginBelow: \"EVEN_LESS\",\n          marginAbove: \"EVEN_LESS\",\n\n        ),\n        rule!CMGT_UTIL_HeaderField(\n          label: #\"urn:appian:translation-string:v1:f774ab2a-1dfc-414e-83cb-8c9416974a17\",\n          labelSize: ri!brandingMap.H2Size,\n          divider: \"NONE\",\n          rightSideContents: {},\n          brandingMap: ri!brandingMap,\n          labelColor: ri!brandingMap.StandardTextColor,\n          labelFontWeight: ri!brandingMap.H2Weight\n        ),\n        #\"SYSTEM_SYSRULES_cardLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_gridField_v3\"(\n              label: #\"urn:appian:translation-string:v1:2a091aa5-a899-438f-a0e7-5d495f5c2092\",\n              labelPosition: \"COLLAPSED\",\n              emptyGridMessage: #\"urn:appian:translation-string:v1:5859332c-43a4-40d9-b183-e7f549cc31cc\",\n              data: #\"SYSTEM_SYSRULES_recordData\"(\n                recordType: recordType!CMGT_WFL_CFG_TaskBlock\n              ),\n              columns: {\n                #\"SYSTEM_SYSRULES_gridColumn\"(\n                  label: #\"urn:appian:translation-string:v1:0bae9b3f-5ddd-4c6a-a4cf-abe8702dac9e\",\n                  sortField: recordType!CMGT_WFL_CFG_TaskBlock.label,\n                  value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                    value: {\n                      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                        text: fv!row[recordType!CMGT_WFL_CFG_TaskBlock.label],\n                        style: \"STRONG\"\n                      ),\n                      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                        text: \" \" & #\"urn:appian:translation-string:v1:c3cf77cc-ade1-4b17-bea9-5012476ef73f\",\n                        showWhen: fv!row[recordType!CMGT_WFL_CFG_TaskBlock.isActive] = false,\n                        color: ri!brandingMap.SecondaryTextColor,\n                        size: \"SMALL\",\n                        style: \"EMPHASIS\"\n                      )\n                    }\n                  )\n                ),\n                #\"SYSTEM_SYSRULES_gridColumn\"(\n                  label: #\"urn:appian:translation-string:v1:fb29417a-3690-481e-8adf-04d7d1b8eb03\",\n                  sortField: recordType!CMGT_WFL_CFG_TaskBlock.numOfActiveTaskBlockTasks,\n                  value: fv!row[recordType!CMGT_WFL_CFG_TaskBlock.numOfActiveTaskBlockTasks],\n                  align: \"END\",\n                  width: \"NARROW_PLUS\"\n                ),\n                #\"SYSTEM_SYSRULES_gridColumn\"(\n                  label: #\"urn:appian:translation-string:v1:0495bd73-7477-4bca-8918-2632c601a60b\",\n                  sortField: recordType!CMGT_WFL_CFG_TaskBlock.description,\n                  value: a!defaultValue(\n                    fv!row[recordType!CMGT_WFL_CFG_TaskBlock.description],\n                    cons!CMGT_TXT_EMPTY_VALUE\n                  ),\n                  width: \"WIDE\"\n                ),\n                #\"SYSTEM_SYSRULES_gridColumn\"(\n                  label: #\"urn:appian:translation-string:v1:11bd60d9-131f-4409-8bf0-7ef9c57dd366\",\n                  sortField: recordType!CMGT_WFL_CFG_TaskBlock.modifiedOn,\n                  value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                    labelPosition: \"COLLAPSED\",\n                    value: {\n                      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                        text: rule!CMGT_UTIL_FormatDateTime(\n                          dateTime: fv!row[recordType!CMGT_WFL_CFG_TaskBlock.modifiedOn],\n                          includeTime: false()\n                        ),\n                        color: ri!brandingMap.StandardTextColor\n                      ),\n                      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                        text: {\n                          char(10),\n                          fv!row[#\"urn:appian:record-field:v1:44c1744f-0f51-4ba8-a6d6-38e8ce4360d6/a0728de6-9dfd-4cea-9370-204213874230/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\"]\n                        },\n                        color: ri!brandingMap.SecondaryTextColor,\n                        size: \"SMALL\"\n                      )\n                    }\n                  ),\n                  align: \"END\"\n                ),\n                /*Actions*/\n                #\"SYSTEM_SYSRULES_gridColumn\"(\n                  value: #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n                    actions: {\n                      /*action: updateTaskBlock*/\n                      #\"SYSTEM_SYSRULES_recordActionItem\"(\n                        action: #\"urn:appian:record-action:v1:44c1744f-0f51-4ba8-a6d6-38e8ce4360d6/9c156a36-9b2a-423f-8f46-16d2a099c0ea\",\n                        identifier: fv!identifier\n                      ),\n                      /*action: inactivateTaskBlock*/\n                      #\"SYSTEM_SYSRULES_recordActionItem\"(\n                        action: #\"urn:appian:record-action:v1:44c1744f-0f51-4ba8-a6d6-38e8ce4360d6/5333de8e-b803-4cd2-8a2a-c144729db9a3\",\n                        identifier: fv!identifier\n                      )\n                    },\n                    style: \"MENU_ICON\",\n                    securityOnDemand: not(\n                      cons!CMGT_BOL_AUTOMATION_TESTING_LABEL_SWITCH\n                    )\n                  ),\n                  align: \"CENTER\",\n                  width: \"ICON\"\n                )\n              },\n              pageSize: cons!CMGT_INT_BATCH_SIZE_LARGE,\n              initialSorts: #\"SYSTEM_SYSRULES_sortInfo\"(\n                field: recordType!CMGT_WFL_CFG_TaskBlock.modifiedOn,\n                ascending: false\n              ),\n              validations: {},\n              borderStyle: \"LIGHT\",\n              refreshAfter: \"RECORD_ACTION\",\n              userFilters: #\"urn:appian:user-filter:v1:44c1744f-0f51-4ba8-a6d6-38e8ce4360d6/3ed7f3c8-d527-4944-aa70-b26eec2b77e2\",\n              showSearchBox: true,\n              showRefreshButton: true,\n              showExportButton: false,\n              shadeAlternateRows: ri!brandingMap.ShadeAlternateGridRows\n            )\n          },\n          style: ri!brandingMap.CardBackgroundColor,\n          showBorder: ri!brandingMap.CardShowBorder,\n          showShadow: ri!brandingMap.CardShowShadow,\n          borderColor: ri!brandingMap.CardBorderColor,\n          shape: ri!brandingMap.CardShape,\n          padding: \"STANDARD\"\n        )\n      }\n    )\n  }\n)"
    },
    "8af695e2-f3e1-4fe7-9755-ff66a47ce843": {
      "name": "CMGT_UTIL_MergeMaps",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!value1_keyed: if(\n    isnull(ri!key),\n    ri!map1,\n    index(ri!map1, ri!key, null)\n  ),\n  local!value2_keyed: if(\n    isnull(ri!key),\n    ri!map2,\n    index(ri!map2, ri!key, null)\n  ),\n  local!newValue: if(\n    and(\n      runtimetypeof(local!value1_keyed) = 'type!{http://www.appian.com/ae/types/2009}Map',\n      runtimetypeof(local!value2_keyed) = 'type!{http://www.appian.com/ae/types/2009}Map'\n    ),\n    reduce(\n      rule!CMGT_UTIL_MergeMaps(\n        previous: _,\n        key: _,\n        map1: local!value1_keyed,\n        map2: local!value2_keyed\n      ),\n      a!map(),\n      union(\n        a!keys(local!value1_keyed),\n        a!keys(local!value2_keyed)\n      )\n    ),\n    a!defaultValue(local!value2_keyed, local!value1_keyed)\n  ),\n  if(\n    isnull(ri!key),\n    local!newValue,\n    #\"urn:appian:function:v1:a:update\"(ri!previous, ri!key, local!newValue)\n  )\n)"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_568470": {
      "name": "CMGT_PLUGIN_ReturnContentRoleMap",
      "type": "Expression Rule",
      "sail_code": "returncontentrolemap(\n  a!defaultValue(ri!folder, ri!document),\n  false\n)"
    },
    "_a-0000ee14-5ca0-8000-9d88-011c48011c48_4339354": {
      "name": "CMGT_Portal_Case_IntakeForm",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!portalConfig: rule!CMGT_INT_GET_PortalConfig(locale: \"en_US\"),\n  local!brandingMap: local!portalConfig.result.body.brandingMap,\n  {\n    #\"SYSTEM_SYSRULES_wizardStep\"(\n      label: #\"urn:appian:translation-string:v1:827415f5-9d50-4b00-8022-4e754b375320\",\n      contents: {\n        #\"urn:appian:record-field-metadata:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/908c9e8c-078d-4e74-afc9-6e3f9a7c176a/c25c790c-fb22-4fef-bb1e-ff16a9a547da\"(ri!case),\n        #\"urn:appian:record-field-metadata:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/cc5741b7-43ad-438b-844e-8da8538c9cae/cf3eef91-1aab-47ee-8292-134944327765\"(ri!case),\n        #\"urn:appian:record-field-metadata:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/1282844c-ffee-4473-a3b4-3e2c8f94cf0e/0d1be703-738f-42a3-9da3-3e849bd489a4\"(ri!case),\n        /*Case Contact Section*/\n        rule!CMGT_Portal_CreateCase_Sub_ContactsSection(\n          brandingMap: local!brandingMap,\n          caseContact: ri!case[recordType!CMGT_Case.portalCaseContact]\n        ),\n        #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n          label: #\"urn:appian:translation-string:v1:83b3fbbe-7b13-4700-97e6-d9c1c99d26a9\",\n          labelSize: \"SMALL\",\n          labelHeadingTag: \"H2\",\n          labelColor: local!brandingMap.StandardTextColor,\n          contents: {\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(\n                testingLabel: \"Include Documents Message\"\n              ),\n              labelPosition: \"COLLAPSED\",\n              value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: #\"urn:appian:translation-string:v1:ee11779b-be2d-4612-8ef6-9208c4b9f3dd\"\n              ),\n              marginBelow: \"LESS\"\n            ),\n            rule!CMGT_Document_Sub_UploadDocument(\n              documents: ri!case[recordType!CMGT_Case.documents],\n              case: ri!case,\n              labelPosition: \"COLLAPSED\",\n              brandingMap: local!brandingMap,\n              label: #\"urn:appian:translation-string:v1:455edb96-9d9a-4038-b43e-d10aa9a3a811\"\n            )\n          },\n          marginBelow: \"NONE\"\n        )\n      }\n    )\n  }\n)"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_583958": {
      "name": "CMGT_UTIL_FillDocumentTemplate",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!output: reduce(\n    substitute(_, _, _),\n    rule!CMGT_PLUGIN_ReadDocumentContent(document: ri!document),\n    merge(\n      apply(\n        concat(\"###\", _, \"###\"),\n        ri!replacementParams.find\n      ),\n      touniformstring(ri!replacementParams.replace)\n    )\n  ),\n  local!output\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_43989": {
      "name": "CMGT_Document_RecordAction_CaseUpload_SaveLogic",
      "type": "Expression Rule",
      "sail_code": "/*\nThe point of this rule is to merge the uploaded Appian Document objects with \nthe existing CMGT_Document record objects\n*/\na!save(\n  ri!documents,\n  a!localVariables(\n    /*\n    Get all the unique Appian Document objects from \n      1. The already uploaded documents & newly uploaded documents (ri!documents.appianDocId)\n      2. The newly uploaded documents (save!value)\n    */\n    local!appianDocIds: reject(\n      a!isNullOrEmpty,\n      a!flatten(\n        {\n          a!flatten(ri!documents)[recordType!CMGT_Document.appianDocId],\n          save!value\n        }\n      )\n    ),\n    local!uniqueAppianDocIds: rule!CMGT_UTIL_Distinct(local!appianDocIds),\n    /*\n    For each one, if it's already assigned to a CMGT_Document object, attach it to that,\n    otherwise generate a new CMGT_Document object\n    */\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!uniqueAppianDocIds,\n      expression: displayvalue(\n        tointeger(fv!item),\n        tointeger(\n          a!flatten(ri!documents)[recordType!CMGT_Document.appianDocId]\n        ),\n        a!flatten(ri!documents),\n        recordType!CMGT_Document(\n          recordType!CMGT_Document.appianDocId: fv!item,\n          recordType!CMGT_Document.caseId: ri!case[recordType!CMGT_Case.caseId],\n          recordType!CMGT_Document.taskId: ri!task[recordType!CMGT_Task.taskId],\n          recordType!CMGT_Document.isPrivate: if(\n            rule!CMGT_LA_UTIL_IsLimitedAccessOrPortal(),\n            false,\n            #\"urn:appian:function:v1:a:isusermemberofgroup?okey=a!isUserMemberOfGroup\"(\n              loggedInUser(),\n              cons!CMGT_GRP_INTERNAL_USERS\n            )\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000ed40-282d-8000-9d33-011c48011c48_3588296": {
      "name": "CMGT_AUTO_EVAL_AvailableFieldCustomizations_CaseRole",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  recordTypeUuid: \"6799d796-883e-49ff-8975-297d87e40756\",\n  recordType: recordType!CMGT_Role,\n  relationship: recordType!CMGT_Case.roles,\n  recordCaseField: recordType!CMGT_Role.caseId,\n  fieldMapsToAdd: {},\n  customFieldsToAdd: {\n    /*Case Assignee*/\n    a!map(\n      /*Username column in CMGT_Role*/\n      uuid: \"7576a553-bb91-4848-962a-c7a23a9f3b2d\",\n      customFieldCode: \"CASE_ASSIGNEE\",\n      displayName: #\"urn:appian:translation-string:v1:16c222de-63d0-4437-96bd-732f479284af\",\n      relationshipType: \"ONE_TO_MANY\",\n      fieldType: \"RecordType\",\n      field: recordType!CMGT_Role.username,\n      /*Relationship from Case to this record*/\n      relationship: recordType!CMGT_Case.roles,\n      extraConfigurations: a!map(\n        evaluation: a!map(\n          filters: {\n            a!map(\n              field: recordType!CMGT_Role.roleTypeId,\n              operator: \"=\",\n              value: cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE\n            )\n          }\n        ),\n        configurations: {\n          a!map(\n            type: a!map(\n              label: #\"urn:appian:translation-string:v1:0698e0da-27c8-4e13-9005-c899baa073a1\",\n              code: \"USER\",\n              recordType: #\"urn:appian:record-type:v1:SYSTEM_RECORD_TYPE_USER\",\n              recordTypeUuid: \"SYSTEM_RECORD_TYPE_USER\"\n            )\n          ),\n          a!map(\n            type: a!map(\n              label: #\"urn:appian:translation-string:v1:290c92d6-5fc9-4bb2-96b9-1b0b216488d7\",\n              code: \"ROLE\",\n              recordType: recordType!CMGT_CFG_RoleType,\n              recordTypeUuid: \"92127931-0b6f-4a0e-848d-0a0bd6abc27d\",\n              filters: a!map(\n                dropdownFieldLabels: recordType!CMGT_CFG_RoleType.label,\n                additionalFilters: #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_CFG_RoleType.roleTypeId,\n                  operator: \"not in\",\n                  value: {\n                    cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n                    cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n                  }\n                )\n              )\n            )\n          )\n        }\n      ),\n      parentRecordTypeUuid: cons!CMGT_UUID_RECORD_TYPE_CASE\n    ),\n    /*Group Assignee*/\n    a!map(\n      uuid: \"980ec52a-b916-409f-9cdf-1752ce399f6d\",\n      displayName: #\"urn:appian:translation-string:v1:4c269aad-61d8-4701-bfbf-4d62b1ae5721\",\n      customFieldCode: \"GROUP_ASSIGNEE\",\n      relationshipType: \"ONE_TO_MANY\",\n      fieldType:\"GROUP\",\n      field: recordType!CMGT_Role.groupId,\n      relationship: recordType!CMGT_Case.roles,\n      extraConfigurations: a!map(\n        evaluation: a!map(\n          filters: a!map(\n            field: recordType!CMGT_Role.roleTypeId,\n            operator: \"=\",\n            value: cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n          )\n        )\n      ),\n      parentRecordTypeUuid: cons!CMGT_UUID_RECORD_TYPE_CASE\n    ),\n    /*Case watcher*/\n    a!map(\n      uuid: \"7576a553-bb91-4848-962a-c7a23a9f3b2d\",\n      displayName:#\"urn:appian:translation-string:v1:a73cc477-8832-4148-b2bc-c410777c9f8c\",\n      customFieldCode: \"CASE_WATCHER\",\n      relationshipType: \"ONE_TO_MANY\",\n      fieldType: \"RecordType\",\n      field: recordType!CMGT_Role.username,\n      relationship: recordType!CMGT_Case.roles,\n      extraConfigurations: a!map(\n        evaluation: a!map(\n          filters: a!map(\n            field: recordType!CMGT_Role.roleTypeId,\n            operator: \"=\",\n            value: cons!CMGT_REFID_ROLE_TYPE_WATCHER\n          )\n        ),\n        configurations: {\n          a!map(\n            type: a!map(\n              label:#\"urn:appian:translation-string:v1:0698e0da-27c8-4e13-9005-c899baa073a1\",\n              code: \"USER\",\n              recordType: #\"urn:appian:record-type:v1:SYSTEM_RECORD_TYPE_USER\",\n              recordTypeUuid: \"SYSTEM_RECORD_TYPE_USER\"\n            )\n          )\n        }\n      ),\n      parentRecordTypeUuid: cons!CMGT_UUID_RECORD_TYPE_CASE\n    )\n  }\n)"
    },
    "_a-0000ea38-e7a4-8000-9bf7-011c48011c48_649357": {
      "name": "CMGT_ControlPanel_QuickLink_ItemMap",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  icon: \"folder-open\",\n  /*Note this security should match who is able to see the control panel site  */\n  showWhen: #\"urn:appian:function:v1:a:isusermemberofgroup?okey=a!isUserMemberOfGroup\"(\n    loggedInUser(),\n    cons!CMGT_GRP_CASE_MANAGERS\n  ),\n  item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n    labelPosition: \"COLLAPSED\",\n    value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n      text: #\"urn:appian:translation-string:v1:801fd0b2-c47d-41bc-b519-80db148e83e1\",\n      link: #\"SYSTEM_SYSRULES_safeLink\"(\n        uri: concat(\n          rule!CMGT_UTIL_GetSiteUrl().authedPath,\n          \"/control-panel/\",\n          cons!CMGT_CONTROL_PANEL_TXT_SITE_URL_STUB\n        ),\n        openLinkIn: \"NEW_TAB\"\n      ),\n      linkStyle: \"STANDALONE\"\n    )\n  )\n)"
    },
    "_a-0000ee70-a572-8000-9d9f-011c48011c48_4666181": {
      "name": "CMGT_KB_SUB_ResourcesCardDisplay",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!noOfResourcesInCurrentPage: length({ ri!resourcesToDisplay }),\n  local!noOfAlignmentCards: abs(\n    ri!batchSize - local!noOfResourcesInCurrentPage\n  ),\n  if(\n    rule!CMGT_UTIL_IsNotBlank(input: ri!resourcesToDisplay),\n    {\n      /*Heading*/\n      #\"SYSTEM_SYSRULES_headingField\"(\n        text: #\"urn:appian:translation-string:v1:aba40cfc-a3ef-4d2b-bcaf-4862d56a0e33\"(\n          #\"urn:appian:translation-variable:v1:0aa82461-056b-44c3-834a-141269ffb0c4\": ri!hierarchyLevel\n        ),\n        marginBelow: \"NONE\",\n        marginAbove: \"NONE\",\n        size: \"SMALL\",\n        fontWeight: ri!brandingMap.SecondaryHeaderFontWeight,\n        color: ri!brandingMap.StandardTextColor\n      ),\n      /*Resource Cards*/\n      #\"SYSTEM_SYSRULES_cardGroupLayout\"(\n        spacing: \"DENSE\",\n        marginAbove: \"LESS\",\n        marginBelow: if(\n          ri!numberOfResources > ri!batchSize,\n          \"EVEN_LESS\",\n          \"MORE\"\n        ),\n        cards: {\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!resourcesToDisplay,\n            expression: rule!CMGT_KB_SingleResourceDisplay(\n              resource: fv!item,\n              brandingMap: ri!brandingMap,\n              selectedResource: ri!selectedResource\n            )\n          ),\n          /* Added these cards for alignment */\n          if(\n            local!noOfAlignmentCards = 0,\n            {},\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: enumerate(local!noOfAlignmentCards),\n              expression: #\"SYSTEM_SYSRULES_cardLayout\"(\n                showBorder: false(),\n                padding: \"LESS\",\n                height: \"AUTO\",\n                style: \"TRANSPARENT\"\n              )\n            )\n          )\n        },\n        fillContainer: true,\n        cardHeight: \"AUTO\"\n      ),\n      /*Pagination*/\n      if(\n        ri!numberOfResources > ri!batchSize,\n        rule!CMGT_UTIL_CustomPaging(\n          pagingInfo: ri!pagingInfo,\n          totalCount: ri!numberOfResources,\n          brandingMap: ri!brandingMap\n        ),\n        {}\n      )\n    },\n    {}\n  )\n)"
    },
    "_a-0000ee62-d499-8000-9d9b-011c48011c48_4615946": {
      "name": "CMGT_KB_ControlPanel_KnowledgeBase",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!brandingMap: rule!CMGT_CB_UTIL_LoadBrandingMap(),\n  local!triggerRefresh: a!refreshVariable(\n    value: now(),\n    refreshAfter: \"RECORD_ACTION\"\n  ),\n  local!selectedCaseType: rule!CMGT_QR_GetCaseType(\n    returnType: \"SINGLE_OBJECT\",\n    caseTypeUuid: ri!selectedCaseTypeUuid,\n    fields: {\n      recordType!CMGT_CFG_CaseType.parentCaseType\n    },\n    triggerRefresh: local!triggerRefresh,\n    includeInactive: true,\n    executeWhen: a!isNotNullOrEmpty(ri!selectedCaseTypeUuid)\n  ),\n  local!allAvailableResourcesCount: rule!CMGT_KB_QR_GetResources(\n    returnType: \"TOTAL_COUNT\",\n    triggerRefresh: local!triggerRefresh,\n    additionalLogicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n      operator: \"OR\",\n      filters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_KB_Resource.caseTypeUuid,\n          operator: \"is null\"\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_KB_Resource.caseTypeUuid,\n          operator: \"in\",\n          value: {\n            ri!selectedCaseTypeUuid,\n            local!selectedCaseType[recordType!CMGT_CFG_CaseType.parentUuid]\n          },\n          applyWhen: rule!CMGT_UTIL_IsNotBlank(ri!selectedCaseTypeUuid)\n        )\n      }\n    ),\n    fields: {\n      recordType!CMGT_KB_Resource.caseType\n    },\n    pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n      startIndex: 1,\n      batchSize: cons!CMGT_INT_BATCH_SIZE_MAX,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_KB_Resource.modifiedOn,\n        ascending: false\n      )\n    )\n  ),\n  local!currentLevelSelected: a!match(\n    value: ri!selectedCaseTypeUuid,\n    equals: null,\n    then: #\"urn:appian:translation-string:v1:3807a409-6086-4767-8e1b-dd26b980ff5f\",\n    whenTrue: local!selectedCaseType[recordType!CMGT_CFG_CaseType.isCategory],\n    then: local!selectedCaseType[recordType!CMGT_CFG_CaseType.name],\n    whenTrue: local!selectedCaseType[recordType!CMGT_CFG_CaseType.isCategory] = false,\n    then: local!selectedCaseType[recordType!CMGT_CFG_CaseType.name],\n    default: #\"urn:appian:translation-string:v1:3807a409-6086-4767-8e1b-dd26b980ff5f\"\n  ),\n  local!displayConfigs: {\n    a!map(\n      hierarchyLevel: #\"urn:appian:translation-string:v1:3807a409-6086-4767-8e1b-dd26b980ff5f\"\n    ),\n    a!map(\n      hierarchyLevel: if(\n        toboolean(\n          local!selectedCaseType[recordType!CMGT_CFG_CaseType.isCategory]\n        ) = true(),\n        local!selectedCaseType[recordType!CMGT_CFG_CaseType.name],\n        local!selectedCaseType[recordType!CMGT_CFG_CaseType.parentCaseType.name]\n      )\n    ),\n    a!map(\n      hierarchyLevel: if(\n        toboolean(\n          local!selectedCaseType[recordType!CMGT_CFG_CaseType.isCategory]\n        ) <> true(),\n        local!selectedCaseType[recordType!CMGT_CFG_CaseType.name],\n        null()\n      )\n    )\n  },\n  local!selectedResource,\n  #\"SYSTEM_SYSRULES_paneLayout\"(\n    panes: #\"SYSTEM_SYSRULES_pane\"(\n      contents: {\n        a!match(\n          value: null,\n          /* Summary of the resource */\n          whenTrue: rule!CMGT_UTIL_IsNotBlank(local!selectedResource),\n          then: rule!CMGT_KB_DisplayResource(\n            selectedResource: local!selectedResource,\n            brandingMap: local!brandingMap,\n            triggerRefresh: local!triggerRefresh\n          ),\n          whenTrue: local!allAvailableResourcesCount = 0,\n          /*Empty State*/\n          then: #\"SYSTEM_SYSRULES_cardLayout\"(\n            contents: {\n              rule!CMGT_UTIL_DisplayEmptyState(\n                brandingMap: local!brandingMap,\n                primaryText: #\"urn:appian:translation-string:v1:8d090952-9d52-491e-9218-3c1e254b9d43\",\n                secondaryText: #\"urn:appian:translation-string:v1:34257d03-f106-4a39-9df7-9df147ead34f\",\n                docImage: cons!CMGT_KB_DOC_IMAGES_KNOWLEDGE_BASE_EMPTY_STATE,\n                additionalContent: #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n                  actions: if(\n                    a!isNotNullOrEmpty(ri!selectedCaseTypeUuid),\n                    /*Add resource record action*/\n                    #\"SYSTEM_SYSRULES_recordActionItem\"(\n                      action: #\"urn:appian:record-action:v1:82aa3b28-94c2-4d3c-a403-bb813bd76155/faa27aab-0728-4c54-a932-daa98dc7da5b\",\n                      identifier: ri!selectedCaseTypeUuid\n                    ),\n                    #\"SYSTEM_SYSRULES_recordActionItem\"(\n                      action: #\"urn:appian:record-action:v1:462e1408-1c19-4591-b946-fce9233909ce/42eaf4ed-12b3-4919-88b9-8f34e6a65d3d\"\n                    )\n                  ),\n                  align: \"CENTER\",\n                  style: \"TOOLBAR_PRIMARY\",\n                  display: \"LABEL\"\n                ),\n                primaryTextStyle: \"STRONG\",\n                imageSize: \"EXTRA_SMALL\",\n                primaryTextSize: \"MEDIUM\",\n                secondaryTextMarginBelow: \"MORE\"\n              )\n            },\n            height: \"EXTRA_TALL\",\n            padding: \"EVEN_MORE\",\n            marginAbove: \"EVEN_MORE\",\n            showBorder: false,\n            shape: local!brandingMap.CardShape,\n            showShadow: local!brandingMap.CardShowShadow,\n            style: local!brandingMap.CardBackgroundColor\n          ),\n          /*Display Resources*/\n          default: rule!CMGT_KB_ResourcesCardDisplayWrapper(\n            brandingMap: local!brandingMap,\n            triggerRefresh: local!triggerRefresh,\n            displayConfigs: local!displayConfigs,\n            currentLevelSelected: local!currentLevelSelected,\n            selectedResource: local!selectedResource,\n            selectedCaseTypeUuid: ri!selectedCaseTypeUuid,\n            selectedCaseType: local!selectedCaseType\n          )\n        )\n      },\n      backgroundColor: local!brandingMap.DefaultBackgroundColor\n    )\n  )\n)"
    },
    "_a-0000ed85-292c-8000-9d50-011c48011c48_3864239": {
      "name": "CMGT_Automation_ConstructAutomationTaskFromRuntimeConfigTask",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!runtimeConfigTasks: rule!CMGT_GetRuntimeConfigAutomationRulesForTask(\n    triggerIds: ri!triggerIds,\n    task: ri!task,\n    triggerContext: ri!triggerContext\n  ),\nif(\n  rule!CMGT_UTIL_IsBlank(local!runtimeConfigTasks),\n  {},\n  a!localVariables(\n    local!taskInstanceUuidMapping: rule!CMGT_Task_ConstructTaskInstanceUuidMapping(\n      originalTasks: local!runtimeConfigTasks,\n      activeTasks: local!runtimeConfigTasks\n    ),\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!runtimeConfigTasks,\n      expression: #\"urn:appian:function:v1:a:update\"(\n        data: rule!CMGT_Task_ConstructTaskOccurrence(\n          task: fv!item,\n          taskInstanceUuidMapping: local!taskInstanceUuidMapping\n        ),\n        index: {\n          recordType!CMGT_Task.taskIntentionCode\n        },\n        value:{\n          cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_TRIGGER\n        }\n      )\n    )\n  )\n))"
    },
    "_a-0000e9ec-2a80-8000-9bc9-011c48011c48_246572": {
      "name": "CMGT_UTIL_IsOnPortal",
      "type": "Expression Rule",
      "sail_code": "/*\nOn portal only, the loggedInUser() function returns 'Anonymous'\nThis assumes there are no users in the system with this username\n*/\n\nloggedInUser() = \"Anonymous\""
    },
    "_a-0000ebe1-6999-8000-9cbe-011c48011c48_2312376": {
      "name": "CMGT_Portal_CaseContact_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!portalCaseContacts,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_Portal_CaseContact.modifiedBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_Portal_CaseContact.modifiedOn,\n        value: now()\n      )\n    },\n    /*Only modify these fields if they are currently null*/\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_Portal_CaseContact.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_Portal_CaseContact.createdOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_Portal_CaseContact.isActive,\n        value: true\n      )\n    }\n  )\n)"
    },
    "_a-0000e99c-1217-8000-9ba9-011c48011c48_58807": {
      "name": "CMGT_UTIL_TruncateText",
      "type": "Expression Rule",
      "sail_code": "if(\n  or(isnull(ri!text), isnull(ri!maxLength)),\n  ri!text,\n  if(\n    len(ri!text) > ri!maxLength,\n    left(\n      ri!text,\n      max(\n        search(\" \", ri!text, ri!maxLength + 1) - 1,\n        ri!maxLength\n      )\n    ) & \"...\",\n    ri!text\n  )\n)"
    },
    "_a-0000ea2f-ac11-8000-9bf4-011c48011c48_588863": {
      "name": "CMGT_Email_NewRolesToNotify",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!roleTypeIds),\n  null,\n  a!localVariables(\n    local!newUserRoles: rule!CMGT_UTIL_Filter(\n      records: ri!roles,\n      fieldValuePairs: {\n        a!map(\n          field: recordType!CMGT_Role.roleId,\n          value: null()\n        ),\n        a!map(\n          field: recordType!CMGT_Role.roleTypeId,\n          value: if(\n            ri!roleTypeIds = cons!CMGT_REFID_ROLE_TYPE_WATCHER,\n            cons!CMGT_REFID_ROLE_TYPE_WATCHER,\n            cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE\n          )\n        )\n      }\n    ),\n    local!currentUserRoles: difference(\n      rule!CMGT_UTIL_Filter(\n        records: ri!roles,\n        fieldValuePairs: {\n          a!map(\n            field: recordType!CMGT_Role.roleTypeId,\n            value: cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE\n          )\n        }\n      ),\n      local!newUserRoles\n    ),\n    a!match(\n      value: ri!roleTypeIds,\n      equals: cons!CMGT_REFID_ROLE_TYPE_WATCHER,\n      /*Send email to new watchers*/\n      then: local!newUserRoles,\n      default: a!defaultValue(\n        /*Sending Email to new user assignee*/\n        value: local!newUserRoles,\n        /*\n    If there is no current user assignee and if the group assignee is updated, email is sent\n    to all group members. If there is a current user assignee, and if the group assignee is updated, the \n    email won't be sent to new group members\n    */\n        default: if(\n          a!isNullOrEmpty(local!currentUserRoles),\n          rule!CMGT_UTIL_Filter(\n            records: ri!roles,\n            fieldValuePairs: {\n              a!map(\n                field: recordType!CMGT_Role.roleId,\n                value: null()\n              ),\n              a!map(\n                field: recordType!CMGT_Role.roleTypeId,\n                value: cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n              )\n            }\n          ),\n          null()\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000ed6c-5326-8000-9d46-011c48011c48_3743485": {
      "name": "CMGT_Automation_constructSavedFieldMapping",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  uuid: ri!selectedField.uuid,\n  parentRecordTypeUuid: ri!selectedField.parentRecordTypeUuid,\n  fieldType: tostring(ri!selectedField.fieldType),\n  customFieldCode: ri!selectedField.customFieldCode,\n  displayName: ri!selectedField.displayName,\n  extraConfigurations: a!map(\n    code: ri!selectedExtraConfigs.code,\n    recordTypeUuid: ri!selectedExtraConfigs.recordTypeUuid\n  )\n)"
    },
    "_a-0000ed08-c8b4-8000-9d25-011c48011c48_3443118": {
      "name": "CMGT_WFL_AutomationRules_FormatTrigger",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_AutomationRules_FormatTrigger(\n  textColor: ri!textColor,\n  automationTrigger:ri!caseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTrigger],\n  triggerContext: ri!caseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.triggerContext],\n  availableFields: ri!availableFields,\n  textSize: ri!textSize\n)"
    },
    "_a-0000e9fd-9441-8000-9bdc-011c48011c48_325004": {
      "name": "CMGT_EventHistory_Sub_LatestUpdates",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!relationshipMapTypes: rule!CMGT_QR_GetRelationshipMapType(returnType: \"OBJECT_ARRAY\"),\n  local!entityTypes: rule!CMGT_QR_GetEntityType(returnType: \"OBJECT_ARRAY\"),\n  #\"SYSTEM_SYSRULES_cardLayout\"(\n    contents: {\n      #\"SYSTEM_SYSRULES_eventHistoryListField\"(\n        label: #\"urn:appian:translation-string:v1:2d969cfc-8acd-48ff-b6a7-46cd4b6e90dc\",\n        labelPosition: \"COLLAPSED\",\n        eventData: {\n          #\"SYSTEM_SYSRULES_eventData\"(\n            recordType: recordType!CMGT_EventHistory_Case,\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_EventHistory_Case.timestamp,\n                operator: \">=\",\n                value: now() - 1\n              )\n            },\n            timestamp: recordType!CMGT_EventHistory_Case.timestamp,\n            user: recordType!CMGT_EventHistory_Case.username,\n            eventTypeName: fv!data[recordType!CMGT_EventHistory_Case.caseEventType.eventLabel],\n            details: rule!CMGT_EventHistory_Case_FormatDetails(\n              data: fv!data,\n              relationshipMapTypes: local!relationshipMapTypes,\n              entityTypes: local!entityTypes\n            ),\n            recordTypeForTag: recordType!CMGT_Case,\n            recordIdentifier: recordType!CMGT_EventHistory_Case.caseId\n          ),\n          #\"SYSTEM_SYSRULES_eventData\"(\n            recordType: recordType!CMGT_EventHistory_Task,\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_EventHistory_Task.timestamp,\n                operator: \">=\",\n                value: now() - 1\n              )\n            },\n            timestamp: recordType!CMGT_EventHistory_Task.timestamp,\n            user: recordType!CMGT_EventHistory_Task.username,\n            eventTypeName: fv!data[recordType!CMGT_EventHistory_Task.taskEventType.eventLabel],\n            details: rule!CMGT_EventHistory_Task_FormatDetails(data: fv!data),\n            recordTypeForTag: recordType!CMGT_Task,\n            recordIdentifier: recordType!CMGT_EventHistory_Task.taskId\n          ),\n          #\"SYSTEM_SYSRULES_eventData\"(\n            recordType: recordType!CMGT_EventHistory_Entity,\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_EventHistory_Entity.username,\n                operator: \"=\",\n                value: loggedInUser()\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_EventHistory_Entity.timestamp,\n                operator: \">=\",\n                value: now() - 1\n              )\n            },\n            timestamp: recordType!CMGT_EventHistory_Entity.timestamp,\n            user: recordType!CMGT_EventHistory_Entity.username,\n            eventTypeName: fv!data[recordType!CMGT_EventHistory_Entity.entityEventType.eventLabel],\n            details: rule!CMGT_EventHistory_Entity_FormatDetails(\n              data: fv!data,\n              relationshipMapTypes: local!relationshipMapTypes\n            ),\n            recordTypeForTag: recordType!CMGT_Entity,\n            recordIdentifier: recordType!CMGT_EventHistory_Entity.entityId\n          )\n        },\n        eventStyle: \"PREVIEW_LIST\",\n        previewListPageSize: if(\n          ri!isPhone,\n          cons!CMGT_INT_BATCH_SIZE_SMALL,\n          cons!CMGT_INT_BATCH_SIZE_MEDIUM\n        ),\n        displayUser: \"IMAGE\",\n        displayUserColorScheme: #\"SYSTEM_SYSRULES_colorSchemeCustom\"(\n          colors: rule!CMGT_UTIL_parseColorSchemeBranding(\n            colorSchemeValue: ri!brandingMap.EventHistoryUserColorScheme,\n            returnRawHexCodes: true\n          )\n        ),\n        showSearchBox: false\n      )\n    },\n    style: ri!brandingMap.CardBackgroundColor,\n    shape: ri!brandingMap.CardShape,\n    padding: \"NONE\",\n    showBorder: ri!brandingMap.CardShowBorder,\n    showShadow: ri!brandingMap.CardShowShadow\n  )\n)"
    },
    "_a-0000e9ae-873e-8000-9baf-011c48011c48_97439": {
      "name": "CMGT_QR_GetUser",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: #\"urn:appian:record-type:v1:SYSTEM_RECORD_TYPE_USER\",\n  returnType: ri!returnType,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: #\"urn:appian:record-field:v1:SYSTEM_RECORD_TYPE_USER/SYSTEM_RECORD_TYPE_USER_FIELD_username\",\n      operator: \"in\",\n      value: ri!username\n    )\n  },\n  fields: ri!fields,\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  triggerRefresh: ri!triggerRefresh,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000eac3-5839-8000-9c2d-011c48011c48_1070771": {
      "name": "CMGT_CaseEntityMap_SetEvents",
      "type": "Expression Rule",
      "sail_code": "a!match(\n  value: ri!context,\n  equals: \"CASE\",\n  then: #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!caseEntityMaps,\n    expression: /*EVENTS THAT ARE PROCESS-SPECIFIC (based on \"eventType\" input)*/\n    rule!CMGT_CaseEventHistory_Constructor(\n      caseId: fv!item[recordType!CMGT_CaseEntityMap.caseId],\n      initiator: ri!initiator,\n      eventTypeId: a!match(\n        value: fv!item[recordType!CMGT_CaseEntityMap.isActive],\n        equals: true,\n        then: cons!CMGT_REFID_EVENT_TYPE_CASE_ADD_RELATED_ENTITY,\n        default: cons!CMGT_REFID_EVENT_TYPE_CASE_REMOVE_RELATED_ENTITY\n      ),\n      details: a!map(\n        entityId: fv!item[recordType!CMGT_CaseEntityMap.entityId],\n        entityTypeId: fv!item[recordType!CMGT_CaseEntityMap.entity.entityTypeId]\n      )\n    )\n  ),\n  equals: \"ENTITY\",\n  then: #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!caseEntityMaps,\n    expression: /*EVENTS THAT ARE PROCESS-SPECIFIC (based on \"eventType\" input)*/\n    rule!CMGT_EntityEventHistory_Constructor(\n      entityId: fv!item[recordType!CMGT_CaseEntityMap.entityId],\n      initiator: ri!initiator,\n      eventTypeId: a!match(\n        value: fv!item[recordType!CMGT_CaseEntityMap.isActive],\n        equals: true,\n        then: cons!CMGT_REFID_EVENT_TYPE_ENTITY_ADD_RELATED_CASE,\n        default: cons!CMGT_REFID_EVENT_TYPE_ENTITY_REMOVE_RELATED_CASE\n      ),\n      details: a!map(\n        caseId: fv!item[recordType!CMGT_CaseEntityMap.caseId]\n      )\n    )\n  ),\n  default: {}\n)"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_564650": {
      "name": "CMGT_ControlPanel_Tasking_Task",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!triggerRefresh: a!refreshVariable(\n    value: now(),\n    refreshAfter: \"RECORD_ACTION\"\n  ),\n  local!showEmptyState: rule!CMGT_WFL_QR_GetReferenceTask(\n    returnType: \"TOTAL_COUNT\",\n    includeInactive: true,\n    triggerRefresh: local!triggerRefresh\n  ) = 0,\n  local!suggestedTasks: rule!CMGT_WFL_QR_GetReferenceTask(\n    pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n      1,\n      4,\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_WFL_CFG_ReferenceTask.modifiedOn\n      )\n    ),\n    triggerRefresh: local!triggerRefresh\n  ),\n  local!decorativeBarColor: split(ri!brandingMap.StampSchemeA, \",\"),\n  {\n    if(\n      local!showEmptyState,\n      #\"SYSTEM_SYSRULES_cardLayout\"(\n        contents: {\n          rule!CMGT_UTIL_DisplayEmptyState(\n            brandingMap: ri!brandingMap,\n            primaryText: #\"urn:appian:translation-string:v1:7a7e85a0-00a9-4ccb-a7d7-3306800c6483\",\n            primaryTextSize: \"MEDIUM\",\n            primaryTextStyle: \"STRONG\",\n            secondaryText: #\"urn:appian:translation-string:v1:ec02cf57-885f-4207-a5fc-130c9b912516\",\n            secondaryTextMarginBelow: \"MORE\",\n            docImage: cons!CMGT_WFL_CMS_TASKS_EMPTY_STATE,\n            imageSize: \"EXTRA_SMALL\",\n            additionalContent: {\n              #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n                actions: {\n                  #\"SYSTEM_SYSRULES_recordActionItem\"(\n                    action: #\"urn:appian:record-action:v1:3dbe5fed-28bf-4f27-aa59-eb2c940289b4/71706f00-ef33-4ef5-a17b-9d9c2ff7e561\"\n                  )\n                },\n                align: \"CENTER\",\n                display: \"LABEL\",\n                style: \"TOOLBAR_PRIMARY\"\n              )\n            }\n          )\n        },\n        padding: \"EVEN_MORE\",\n        marginAbove: \"EVEN_MORE\",\n        showBorder: false(),\n        height: \"EXTRA_TALL\"\n      ),\n      {\n        rule!CMGT_UTIL_HeaderField(\n          label: if(\n            not(local!showEmptyState),\n            #\"urn:appian:translation-string:v1:2c0f9fac-4e49-4335-b942-7c43063d530a\",\n            \"\"\n          ),\n          divider: \"NONE\",\n          brandingMap: ri!brandingMap,\n          marginBelow: \"NONE\",\n          marginAbove: \"STANDARD\",\n          labelSize: ri!brandingMap.H2Size,\n          labelColor: ri!brandingMap.StandardTextColor,\n          labelFontWeight: ri!brandingMap.H2Weight,\n          rightSideContents: {\n            #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n              actions: {\n                #\"SYSTEM_SYSRULES_recordActionItem\"(\n                  action: #\"urn:appian:record-action:v1:3dbe5fed-28bf-4f27-aa59-eb2c940289b4/71706f00-ef33-4ef5-a17b-9d9c2ff7e561\"\n                )\n              },\n              display: \"LABEL\",\n              style: \"TOOLBAR_PRIMARY\",\n              align: \"END\",\n\n            )\n          }\n        ),\n        /*Suggestions of tasks based on actions of loggedinuser*/\n        #\"SYSTEM_SYSRULES_cardGroupLayout\"(\n          fillContainer: true,\n          cardWidth: \"NARROW\",\n          cards: #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!suggestedTasks,\n            expression: #\"SYSTEM_SYSRULES_cardLayout\"(\n              contents: {\n                #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                  items: {\n                    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                      item: #\"SYSTEM_SYSRULES_headingField\"(\n                        text: fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.nameLabel],\n                        size: ri!brandingMap.H2Size,\n                        fontWeight: ri!brandingMap.H2Weight,\n                        marginAbove: \"NONE\",\n                        marginBelow: \"NONE\"\n                      )\n                    ),\n                    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                      item: #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n                        actions: #\"SYSTEM_SYSRULES_recordActionItem\"(\n                          action: #\"urn:appian:record-action:v1:3dbe5fed-28bf-4f27-aa59-eb2c940289b4/08727f68-4a3b-43dd-9d74-a20b3ca9b45f\",\n                          identifier: fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.referenceTaskId]\n                        ),\n                        style: \"LINKS\",\n                        display: \"ICON\",\n                        align: \"END\"\n                      ),\n                      width: \"MINIMIZE\"\n                    )\n                  },\n                  marginAbove: \"LESS\",\n                  marginBelow: \"NONE\"\n                ),\n                #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                  labelPosition: \"COLLAPSED\",\n                  value: {\n                    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                      text: #\"urn:appian:translation-string:v1:47c0f678-c7ec-47ad-ac82-1751a615f89c\"(\n                        #\"urn:appian:translation-variable:v1:9162e0ba-fea7-496d-8944-cd3d29902607\": rule!CMGT_UTIL_FormatDateTime(\n                          dateTime: fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.modifiedOn],\n                          includeTime: false\n                        )\n                      ),\n                      color: ri!brandingMap.SecondaryTextColor,\n                      size: \"SMALL\"\n                    )\n                  },\n                  marginAbove: \"NONE\"\n                ),\n                #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                  items: {\n                    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                      item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                        labelPosition: \"COLLAPSED\",\n                        value: {\n                          #\"SYSTEM_SYSRULES_richTextIcon\"(\n                            icon: fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType.icon],\n                            color: ri!brandingMap.StandardTextColor,\n                            size: \"STANDARD\",\n\n                          )\n                        },\n                        align: \"LEFT\"\n                      ),\n                      width: \"MINIMIZE\"\n                    ),\n                    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                      item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                        labelPosition: \"COLLAPSED\",\n                        value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                          text: {\n                            fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType.label]\n                          },\n                          color: if(\n                            fv!item[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n                            ri!brandingMap.InfoAccentColor,\n                            ri!brandingMap.StandardTextColor\n                          ),\n                          size: \"SMALL\"\n                        )\n                      )\n                    )\n                  },\n                  spacing: \"DENSE\",\n                  marginAbove: \"STANDARD\",\n                  marginBelow: \"LESS\"\n                )\n              },\n              style: ri!brandingMap.CardBackgroundColor,\n              marginBelow: \"NONE\",\n              shape: ri!brandingMap.CardShape,\n              padding: \"LESS\",\n              showShadow: ri!brandingMap.CardShowShadow,\n              showBorder: ri!brandingMap.CardShowBorder,\n              borderColor: ri!brandingMap.CardBorderColor,\n              decorativeBarPosition: \"TOP\",\n              decorativeBarColor: local!decorativeBarColor[fv!index]\n            ),\n\n          ),\n          showWhen: rule!CMGT_UTIL_IsNotBlank(local!suggestedTasks),\n          marginBelow: \"EVEN_LESS\",\n          marginAbove: \"EVEN_LESS\",\n        ),\n        rule!CMGT_UTIL_HeaderField(\n          label: #\"urn:appian:translation-string:v1:6374761d-9602-4ad7-ac64-510c5990aff9\",\n          divider: \"NONE\",\n          marginAbove: \"NONE\",\n          brandingMap: ri!brandingMap,\n          labelSize: ri!brandingMap.H2Size,\n          labelColor: ri!brandingMap.StandardTextColor,\n          labelFontWeight: ri!brandingMap.H2Weight\n        ),\n        #\"SYSTEM_SYSRULES_cardLayout\"(\n          contents: {\n            rule!CMGT_WFL_ReferenceTask_RecordGrid(\n              brandingMap: ri!brandingMap,\n              isExpandedView: true,\n              selectable: false,\n              showOnlyActiveTasks: false,\n              label: #\"urn:appian:translation-string:v1:406b7c4a-ff09-4f3e-b7a7-333b03e9e34e\",\n              labelPosition: \"COLLAPSED\"\n            )\n          },\n          shape: ri!brandingMap.CardShape,\n          showShadow: ri!brandingMap.CardShowShadow,\n          showBorder: ri!brandingMap.CardShowBorder,\n          borderColor: ri!brandingMap.CardBorderColor,\n          style: ri!brandingMap.CardBackgroundColor,\n          padding: \"STANDARD\",\n          marginAbove: \"LESS\"\n        )\n      }\n    )\n  }\n)"
    },
    "_a-0000e9ca-3659-8000-9bb8-011c48011c48_145769": {
      "name": "CMGT_PLUGIN_NetworkChartField",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!formattingOptions: rule!CMGT_UTIL_MergeMaps(\n    map1: rule!CMGT_NetworkChartField_StandardFormatting(brandingMap: ri!brandingMap),\n    map2: ri!formattingOptions\n  ),\n  /*The actual rendering is very hard to predict based on what notes are actually present and their complexity*/\n  /*Therefore, these are 2 parameters, each with 2 options, that drastically impact the rendering*/\n  local!renderingOptions: {\n    a!map(st: \"roots\", te: false),\n    a!map(st: \"roots\", te: true)\n  },\n  /*NOTE: So far this seems the best rendering algorithm that accounts for the most node complexity*/\n  local!selectedRenderingOption: 1,\n  {\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      labelPosition: \"COLLAPSED\",\n      value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: #\"urn:appian:translation-string:v1:638a9b48-01a5-4947-9ef0-ae787ea16196\"\n      ),\n      showWhen: a!isNullOrEmpty(ri!nodes),\n      align: \"CENTER\",\n      marginAbove: \"MORE\",\n      marginBelow: \"MORE\"\n    ),\n    #\"SYSTEM_SYSRULES_radioButtonField_v1\"(\n      choiceLabels: enumerate(count(local!renderingOptions)) + 1,\n      choiceValues: enumerate(count(local!renderingOptions)) + 1,\n      label: rule!CMGT_UTIL_ReplaceArgs(\n        string: #\"urn:appian:translation-string:v1:105f6b59-5f21-49e4-bd84-13d867a2580e\",\n        args: a!map(option: local!selectedRenderingOption)\n      ),\n      labelPosition: \"ADJACENT\",\n      value: local!selectedRenderingOption,\n      saveInto: local!selectedRenderingOption,\n      showWhen: and(\n        /*Decided to hide showing this 'Rendering Algorithm' option going forward, to put it back just remove the `false` below this line*/\n        false,\n        ri!showRenderingToggle,\n        a!isNotNullOrEmpty(ri!nodes)\n      ),\n      choiceLayout: \"COMPACT\"\n    ),\n    fn!networkChartField(\n      labelPosition: \"COLLAPSED\",\n      validations: {},\n      height: a!defaultValue(ri!height, \"TALL\"),\n      showWhen: a!isNotNullOrEmpty(ri!nodes),\n      nodes: ri!nodes,\n      edges: ri!edges,\n      nodeSelectionValue: a!flatten(ri!selectedNodeUuid),\n      nodeSelectionSaveInto: ri!onNodeSelection,\n      edgeOptions: local!formattingOptions.defaultEdge,\n      groups: local!formattingOptions.nodeOptionGroups,\n      layout: local!formattingOptions.layout,\n      interaction: a!map(\n        selectable: a!defaultValue(ri!selectable, true),\n        navigationButtons: a!defaultValue(ri!showNavButtons, true),\n        hover: true\n      ),\n      physics: local!formattingOptions.physics\n    )\n  }\n)"
    },
    "_a-0000eb57-0ad2-8000-9c6b-011c48011c48_1720580": {
      "name": "CMGT_NCF_orderNodesHorizontallyBottomUp",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!nodesOnCurrentLevel: a!refreshVariable(\n    value: rule!CMGT_UTIL_Filter(\n      records: ri!allNodes,\n      field: \"verticalOrder\",\n      value: ri!level\n    ),\n    refreshAlways: true\n  ),\n  local!eachNodeWithHorizontalOrder: a!refreshVariable(\n    value: apply(\n      rule!CMGT_NCF_setAverageHorizontalOrderOfDependents(\n        currentNode: _,\n        /*can pass in just sorted nodes because parents will always be above children*/\n        orderedNodes: ri!orderedNodes,\n        allEdges: ri!allEdges\n      ),\n      local!nodesOnCurrentLevel\n    ),\n    refreshAlways: true\n  ),\n  local!sortedNodesForThisLevel: a!refreshVariable(\n    value: rule!CMGT_UTIL_sortList(\n      records: local!eachNodeWithHorizontalOrder,\n      field: \"horizontalOrder\",\n      ascending: true\n    ),\n    refreshAlways: true\n  ),\n  local!updatedHorizontalOrder: a!refreshVariable(\n    value: apply(\n      rule!CMGT_NCF_updateNodeHorizontalOrderFromIndex(\n        sortedNodes: local!sortedNodesForThisLevel,\n        currentNode: _\n      ),\n      local!sortedNodesForThisLevel\n    ),\n    refreshAlways: true\n  ),\n  {\n    ri!orderedNodes,\n    local!updatedHorizontalOrder\n  }\n)"
    },
    "_a-0000ecac-72b0-8000-9cf2-011c48011c48_3160355": {
      "name": "CMGT_EVAL_EvaluateConditionSetDynamic",
      "type": "Expression Rule",
      "sail_code": "if(\n  or(\n    a!isNullOrEmpty(ri!conditionSet),\n    ri!conditionSet[recordType!CMGT_ConditionSet.isActive] = false()\n  ),\n  false,\n  a!localVariables(\n    local!conditions: cast(\n      #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n        recordType!CMGT_Condition\n      ),\n      rule!CMGT_UTIL_Filter(\n        records: ri!conditionSet[recordType!CMGT_ConditionSet.condition],\n        field: recordType!CMGT_Condition.isActive,\n        value: false(),\n        filterType: \"REJECT\"\n      )\n    ),\n    local!evaluatedConditions: #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!conditions,\n      expression: rule!CMGT_EVAL_EvaluateConditionDynamic(\n        condition: fv!item,\n        data: ri!data,\n        availableFields: ri!availableFields\n      )\n    ),\n    a!map(\n      result: a!match(\n        value: ri!conditionSet[recordType!CMGT_ConditionSet.operatorCode],\n        equals: cons!CMGT_TXT_SET_OPERATOR_AND,\n        then: and(\n          local!evaluatedConditions[recordType!CMGT_Condition.isMet]\n        ),\n        equals: cons!CMGT_TXT_SET_OPERATOR_OR,\n        then: or(\n          local!evaluatedConditions[recordType!CMGT_Condition.isMet]\n        ),\n        default: error(fv!value)\n      ),\n      updatedConditionOutcomes: local!evaluatedConditions\n    )\n  )\n)"
    },
    "_a-0000edc1-4e36-8000-9d71-011c48011c48_4098443": {
      "name": "CMGT_Case_EditForm",
      "type": "Interface",
      "sail_code": "{\n  #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n    contents: {\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"urn:appian:record-field-metadata:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/cc5741b7-43ad-438b-844e-8da8538c9cae/cf3eef91-1aab-47ee-8292-134944327765\"(\n                ri!case\n              )\n            }\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {}\n          )\n        }\n      ),\n      #\"urn:appian:record-field-metadata:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/1282844c-ffee-4473-a3b4-3e2c8f94cf0e/0d1be703-738f-42a3-9da3-3e849bd489a4\"(\n        ri!case\n      )\n    }\n  )\n}"
    },
    "_a-0000e9ca-3659-8000-9bb8-011c48011c48_137512": {
      "name": "CMGT_Role_Sub_ManageUi",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  /*\n  Roles can be added or updated. If they are not originally initiated, they are added (eg watcher).\n  Assignees are updated, whether they have an assignee or not since they can be initiated upon case/task creation\n  */\n  /*\n  We need to separate the roles because the saves of the picker interact with the same record.\n  We will gather which roleType we are specifically interacting with for each picker field.\n  e.g. userPickerField may be interacting with Assignees or Watchers\n  */\n  local!groupPickerRoleType: a!refreshVariable(\n    value: rule!CMGT_UTIL_Filter(\n      records: ri!roleTypes,\n      field: recordType!CMGT_CFG_RoleType.roleTypeId,\n      value: {\n        cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n      },\n      filterType: \"FIRST_MATCH\"\n    ),\n    refreshOnReferencedVarChange: false\n  ),\n  local!userPickerRoleType: a!refreshVariable(\n    value: rule!CMGT_UTIL_Filter(\n      records: ri!roleTypes,\n      field: recordType!CMGT_CFG_RoleType.roleTypeId,\n      value: {\n        cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n        cons!CMGT_REFID_ROLE_TYPE_WATCHER\n      },\n      filterType: \"FIRST_MATCH\"\n    ),\n    refreshOnReferencedVarChange: false\n  ),\n  local!removeAllAssignees,\n  local!removeAllAssignedGrps,\n  if(\n    ri!displayAsSideBySide,\n    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n      items: {\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: #\"SYSTEM_SYSRULES_pickerFieldGroups\"(\n            label: a!defaultValue(\n              ri!groupPickerLabel,\n              local!groupPickerRoleType[recordType!CMGT_CFG_RoleType.label]\n            ),\n            placeholder: a!defaultValue(\n              ri!assigneeGrpPlaceholderLbl,\n              #\"urn:appian:translation-string:v1:8e8e265d-e9d5-479f-b595-5de786fdbfee\"\n            ),\n            maxSelections: cons!CMGT_INT_MAX_GROUP_ASSIGNEES,\n            groupFilter: cons!CMGT_GRP_BUSINESS_GROUPS,\n            value: rule!CMGT_UTIL_Filter(\n              records: ri!roles,\n              field: recordType!CMGT_Role.roleTypeId,\n              value: {\n                cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n              }\n            )[recordType!CMGT_Role.groupId],\n            saveInto: {\n              rule!CMGT_Role_Sub_ManageUi_SaveLogic(\n                roles: ri!roles,\n                rolesToDelete: ri!rolesToDelete,\n                caseId: ri!caseId,\n                taskId: ri!taskId,\n                fieldToSet: recordType!CMGT_Role.groupId,\n                roleTypeId: local!groupPickerRoleType[recordType!CMGT_CFG_RoleType.roleTypeId]\n              ),\n              ri!assigneeGrpSaveInto\n            },\n            showWhen: a!isNotNullOrEmpty(local!groupPickerRoleType),\n            disabled: local!removeAllAssignedGrps\n          )\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: #\"SYSTEM_SYSRULES_pickerFieldUsers\"(\n            label: a!defaultValue(\n              ri!userPickerLabel,\n              local!userPickerRoleType[recordType!CMGT_CFG_RoleType.label]\n            ),\n            labelPosition: \"ABOVE\",\n            placeholder: a!defaultValue(\n              ri!userPickerPlaceholderLbl,\n              #\"urn:appian:translation-string:v1:f94463ce-ff90-4c69-955e-7fba10417a0e\"\n            ),\n            maxSelections: a!defaultValue(\n              /*watchersMaxSelection is used in bulk cases update*/\n              value: ri!userPickerMaxSelection,\n              default: cons!CMGT_INT_MAX_USER_ASSIGNEES\n            ),\n            groupFilter: cons!CMGT_GRP_INTERNAL_USERS,\n            value: rule!CMGT_UTIL_Filter(\n              records: ri!roles,\n              field: recordType!CMGT_Role.roleTypeId,\n              /* Below match is for scenraio where both assignee and watcher role details (eg: bulk case update) are being passed.\n              We need to only show case assignees in the assignee value field and case watchers in the watcher value field*/\n              value: a!match(\n                value: ri!isUserAssignee,\n                equals: true,\n                then: cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n                equals: false,\n                then: cons!CMGT_REFID_ROLE_TYPE_WATCHER,\n                default: {\n                  cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n                  cons!CMGT_REFID_ROLE_TYPE_WATCHER\n                }\n              )\n            )[recordType!CMGT_Role.username],\n            saveInto: {\n              rule!CMGT_Role_Sub_ManageUi_SaveLogic(\n                roles: ri!roles,\n                rolesToDelete: ri!rolesToDelete,\n                caseId: ri!caseId,\n                taskId: ri!taskId,\n                fieldToSet: recordType!CMGT_Role.username,\n                roleTypeId: local!userPickerRoleType[recordType!CMGT_CFG_RoleType.roleTypeId]\n              ),\n              ri!assigneeSaveInto\n            },\n            showWhen: a!isNotNullOrEmpty(local!userPickerRoleType),\n            disabled: local!removeAllAssignees\n          )\n        )\n      },\n      marginAbove: \"LESS\",\n      marginBelow: \"EVEN_LESS\"\n    ),\n    {\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: #\"SYSTEM_SYSRULES_pickerFieldGroups\"(\n              label: a!defaultValue(\n                ri!groupPickerLabel,\n                local!groupPickerRoleType[recordType!CMGT_CFG_RoleType.label]\n              ),\n              placeholder: a!defaultValue(\n                ri!assigneeGrpPlaceholderLbl,\n                #\"urn:appian:translation-string:v1:8e8e265d-e9d5-479f-b595-5de786fdbfee\"\n              ),\n              maxSelections: cons!CMGT_INT_MAX_GROUP_ASSIGNEES,\n              groupFilter: cons!CMGT_GRP_BUSINESS_GROUPS,\n              value: rule!CMGT_UTIL_Filter(\n                records: ri!roles,\n                field: recordType!CMGT_Role.roleTypeId,\n                value: {\n                  cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n                }\n              )[recordType!CMGT_Role.groupId],\n              saveInto: {\n                rule!CMGT_Role_Sub_ManageUi_SaveLogic(\n                  roles: ri!roles,\n                  rolesToDelete: ri!rolesToDelete,\n                  caseId: ri!caseId,\n                  taskId: ri!taskId,\n                  fieldToSet: recordType!CMGT_Role.groupId,\n                  roleTypeId: local!groupPickerRoleType[recordType!CMGT_CFG_RoleType.roleTypeId]\n                ),\n                ri!assigneeGrpSaveInto\n              },\n              showWhen: a!isNotNullOrEmpty(local!groupPickerRoleType),\n              disabled: local!removeAllAssignedGrps\n            ),\n            width: \"2X\"\n          ),\n          /*remove all groups*/\n          if(\n            ri!showRemove,\n            #\"SYSTEM_SYSRULES_columnLayout\"(\n              contents: #\"SYSTEM_SYSRULES_checkboxField_v1\"(\n                choiceLabels: #\"urn:appian:translation-string:v1:f591769e-9591-487d-9408-420a5945116f\",\n                choiceValues: true(),\n                value: local!removeAllAssignedGrps,\n                saveInto: {\n                  local!removeAllAssignedGrps,\n                  if(\n                    local!removeAllAssignedGrps,\n                    {\n                      if(\n                        a!isNullOrEmpty(ri!roles),\n                        /*Adding dummy entry in role relationship for tracking remove checkbox on the screen*/\n                        a!save(\n                          ri!roles,\n                          recordType!CMGT_Role(\n                            recordType!CMGT_Role.roleTypeId: cons!CMGT_ROLE_TYPE_ID_FOR_REMOVING_ASSIGNEE_GRPS\n                          )\n                        ),\n                        {\n                          a!save(\n                            ri!roles,\n                            remove(\n                              ri!roles,\n                              wherecontains(\n                                cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE,\n                                ri!roles[recordType!CMGT_Role.roleTypeId]\n                              )\n                            )\n                          ),\n                          a!save(\n                            ri!roles,\n                            /*Adding dummy entry in role relationship for tracking remove checkbox on the screen*/\n                            append(\n                              ri!roles,\n                              recordType!CMGT_Role(\n                                recordType!CMGT_Role.roleTypeId: cons!CMGT_ROLE_TYPE_ID_FOR_REMOVING_ASSIGNEE_GRPS\n                              )\n                            )\n                          )\n                        }\n                      )\n                    },\n                    {\n                      a!save(\n                        ri!roles,\n                        remove(\n                          ri!roles,\n                          wherecontains(\n                            cons!CMGT_ROLE_TYPE_ID_FOR_REMOVING_ASSIGNEE_GRPS,\n                            ri!roles[recordType!CMGT_Role.roleTypeId]\n                          )\n                        )\n                      )\n                    }\n                  ),\n                  ri!removeGrpsSaveInto\n                }\n              )\n            ),\n            {}\n          )\n        },\n        alignVertical: \"BOTTOM\",\n        showWhen: a!isNotNullOrEmpty(local!groupPickerRoleType),\n        stackWhen: { \"PHONE\", \"TABLET_PORTRAIT\" }\n      ),\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: #\"SYSTEM_SYSRULES_pickerFieldUsers\"(\n              label: a!defaultValue(\n                ri!userPickerLabel,\n                local!userPickerRoleType[recordType!CMGT_CFG_RoleType.label]\n              ),\n              labelPosition: \"ABOVE\",\n              placeholder: a!defaultValue(\n                ri!userPickerPlaceholderLbl,\n                #\"urn:appian:translation-string:v1:f94463ce-ff90-4c69-955e-7fba10417a0e\"\n              ),\n              maxSelections: a!defaultValue(\n                /*watchersMaxSelection is used in bulk cases update*/\n                value: ri!userPickerMaxSelection,\n                default: cons!CMGT_INT_MAX_USER_ASSIGNEES\n              ),\n              groupFilter: cons!CMGT_GRP_INTERNAL_USERS,\n              value: rule!CMGT_UTIL_Filter(\n                records: ri!roles,\n                field: recordType!CMGT_Role.roleTypeId,\n                /* Below match is for scenraio where both assignee and watcher role details (eg: bulk case update) are being passed.\n              We need to only show case assignees in the assignee value field and case watchers in the watcher value field*/\n                value: a!match(\n                  value: ri!isUserAssignee,\n                  equals: true,\n                  then: cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n                  equals: false,\n                  then: cons!CMGT_REFID_ROLE_TYPE_WATCHER,\n                  default: {\n                    cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n                    cons!CMGT_REFID_ROLE_TYPE_WATCHER\n                  }\n                )\n              )[recordType!CMGT_Role.username],\n              saveInto: {\n                rule!CMGT_Role_Sub_ManageUi_SaveLogic(\n                  roles: ri!roles,\n                  rolesToDelete: ri!rolesToDelete,\n                  caseId: ri!caseId,\n                  taskId: ri!taskId,\n                  fieldToSet: recordType!CMGT_Role.username,\n                  roleTypeId: local!userPickerRoleType[recordType!CMGT_CFG_RoleType.roleTypeId]\n                ),\n                ri!assigneeSaveInto\n              },\n              showWhen: a!isNotNullOrEmpty(local!userPickerRoleType),\n              disabled: local!removeAllAssignees\n            ),\n            width: \"2X\"\n          ),\n          /*remove all assignees*/\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: #\"SYSTEM_SYSRULES_checkboxField_v1\"(\n              choiceLabels: #\"urn:appian:translation-string:v1:970431cc-b2de-40ab-be75-1977daeff25e\",\n              choiceValues: true(),\n              value: local!removeAllAssignees,\n              saveInto: {\n                local!removeAllAssignees,\n                if(\n                  local!removeAllAssignees,\n                  {\n                    if(\n                      a!isNullOrEmpty(ri!roles),\n                      /*Adding dummy entry in role relationship for tracking remove checkbox on the screen*/\n                      a!save(\n                        ri!roles,\n                        recordType!CMGT_Role(\n                          recordType!CMGT_Role.roleTypeId: cons!CMGT_ROLE_TYPE_ID_FOR_REMOVING_ASSIGNEES\n                        )\n                      ),\n                      {\n                        a!save(\n                          ri!roles,\n                          remove(\n                            ri!roles,\n                            wherecontains(\n                              cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n                              ri!roles[recordType!CMGT_Role.roleTypeId]\n                            )\n                          )\n                        ),\n                        a!save(\n                          ri!roles,\n                          /*Adding dummy entry in role relationship for tracking remove checkbox on the screen*/\n                          append(\n                            ri!roles,\n                            recordType!CMGT_Role(\n                              recordType!CMGT_Role.roleTypeId: cons!CMGT_ROLE_TYPE_ID_FOR_REMOVING_ASSIGNEES\n                            )\n                          )\n                        )\n                      }\n                    )\n                  },\n                  {\n                    a!save(\n                      ri!roles,\n                      remove(\n                        ri!roles,\n                        wherecontains(\n                          cons!CMGT_ROLE_TYPE_ID_FOR_REMOVING_ASSIGNEES,\n                          ri!roles[recordType!CMGT_Role.roleTypeId]\n                        )\n                      )\n                    )\n                  }\n                ),\n                ri!removeAssigneesSaveInto\n              },\n\n            ),\n            showWhen: a!defaultValue(ri!showRemove, false)\n          )\n        },\n        alignVertical: \"BOTTOM\",\n        showWhen: a!isNotNullOrEmpty(local!userPickerRoleType),\n        stackWhen: { \"PHONE\", \"TABLET_PORTRAIT\" },\n        marginBelow: \"EVEN_LESS\"\n      )\n    }\n  )\n)"
    },
    "_a-0000ed5b-d85c-8000-9d42-011c48011c48_3681697": {
      "name": "CMGT_AUTO_EVAL_returnRuntimeValue",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!CMGT_UTIL_IsBlank(\n    rule!CMGT_UTIL_DeepIndex(\n      item: ri!field,\n      indexArray: {\n        \"extraConfigurations\",\n        \"evaluation\",\n        \"filters\"\n      }\n    )\n  ),\n  index(\n    ri!data,\n    index(ri!field, \"field\", null),\n    null\n  ),\n  a!localVariables(\n    local!filterData: a!flatten(\n      rule!CMGT_UTIL_Filter(\n        records: a!flatten(\n          index(\n            ri!data,\n            index(ri!field, \"relationship\", null),\n            null\n          )\n        ),\n        fieldValuePairs: ri!field.extraConfigurations.evaluation.filters\n      )\n    ),\n    if(\n      rule!CMGT_UTIL_IsBlank(local!filterData),\n      null,\n      rule!CMGT_UTIL_RejectBlank(\n        a!flatten(\n          index(\n            local!filterData,\n            index(ri!field, \"field\", null),\n            null\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000ed9c-71ef-8000-9d58-011c48011c48_3988353": {
      "name": "CMGT_CFG_ENUM_ACT_WORKFLOW_ROUTING",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  /*code that is used to help evaluation of what actions needs to be ran*/\n  /*Display text of action type in configuration*/\n  name: #\"urn:appian:translation-string:v1:d21a949c-ac2f-4bf6-96ae-cdbbb7c64355\",\n  actionCode: cons!CMGT_CFG_TXT_ACT_WORKFLOW_ROUTING,\n  image: cons!CMGT_DOC_IMAGE_AUTOMATION_TYPE_WORKFLOW_ROUTING,\n  description: #\"urn:appian:translation-string:v1:b6767c60-abdc-4042-8808-4caa75358eec\",\n  isCustom: false(),\n  PmConstant: cons!CMGT_PM_TASK_COMPLETE_AUTOMATED_TASK_WORKFLOW_ROUTING,\n  /*evaluation rule that runs and outputs the necessary process parameters*/\n  pmParameterEvalRule: rule!CMGT_AUTO_EVAL_WorkflowRouting_DetermineProcessParameters,\n  context: cons!CMGT_CFG_TXT_ACT_CONTEXT_AUTOMATION,\n  createdBy: \"system\"\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_44574": {
      "name": "CMGT_CaseTagMap_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!caseTagMaps,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_CaseTagMap.modifiedOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_CaseTagMap.modifiedBy,\n        value: ri!initiator\n      )\n    },\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_CaseTagMap.createdOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_CaseTagMap.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_CaseTagMap.isActive,\n        value: true\n      ),\n      /*Prime the caseId with the assigned case, if it's not already populated*/\n      a!map(\n        field: recordType!CMGT_CaseTagMap.caseId,\n        value: fv!item[recordType!CMGT_CaseTagMap.case.caseId]\n      )\n    }\n  )\n)"
    },
    "_a-0000eea8-05c2-8000-9db5-011c48011c48_4800267": {
      "name": "CMGT_SMS_AI_QR_GetSmartSearchResultsOnTasks",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    rule!CMGT_UTIL_IsNotBlank(input: ri!searchTerm),\n    contains(ri!selectedCategory, { 2 })\n  ),\n  a!localVariables(\n    local!data: a!refreshVariable(\n      value: #\"SYSTEM_SYSRULES_queryRecordType_v4\"(\n        recordType: recordType!CMGT_Task,\n        fields: {\n          /*Task*/\n          recordType!CMGT_Task.title,\n          recordType!CMGT_Task.description,\n          recordType!CMGT_Task.dueOn,\n          recordType!CMGT_Task.isCompleted,\n          /*Decision Task*/\n          recordType!CMGT_Task.questionLabel,\n          /*Case*/\n          recordType!CMGT_Task.case.title,\n          recordType!CMGT_Task.case.description,\n          recordType!CMGT_Task.case.friendlyId,\n          /*Comment*/\n          recordType!CMGT_Task.comments.commentText,\n          /*Milestone*/\n          recordType!CMGT_Task.milestone.label,\n          /*Roles*/\n          recordType!CMGT_Task.roles.userAssignee,\n          recordType!CMGT_Task.roles.groupAssignee,\n          recordType!CMGT_Task.roles.roleType.label,\n          #\"urn:appian:record-field:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/e6e8e187-2b16-44f6-a2bf-b321ffae90af/6f0c8dbc-95d2-4ba7-9fb5-f0916efa0f08/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\",\n          /*Status*/\n          recordType!CMGT_Task.status.statusLabel,\n          recordType!CMGT_Task.status.icon,\n          recordType!CMGT_Task.status.accentColor,\n          /*Task Behaviour Type*/\n          recordType!CMGT_Task.taskBehaviorType.label,\n          recordType!CMGT_Task.taskBehaviorType.icon/*All search fields*/\n          ,\n          #\"urn:appian:record-search-results:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/allSearchFields/all\"\n        },\n        filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n          operator: \"AND\",\n          logicalExpressions: {\n            #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n              operator: \"OR\",\n              filters: {\n                /*Task*/\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Task.title,\n                  operator: \"search\",\n                  value: ri!searchTerm,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!searchTerm)\n                ),\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Task.description,\n                  operator: \"search\",\n                  value: ri!searchTerm,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!searchTerm)\n                ),\n                /*Comment*/\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Task.comments.commentText,\n                  operator: \"search\",\n                  value: ri!searchTerm,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!searchTerm)\n                )\n              }\n            ),\n            #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n              operator: \"AND\",\n              filters: {\n                /*Assignee*/\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Task.roles.username,\n                  operator: \"in\",\n                  value: ri!assignee,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!assignee)\n                ),\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Task.roles.roleTypeId,\n                  operator: \"=\",\n                  value: cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!assignee)\n                )\n              }\n            ),\n            #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n              operator: \"AND\",\n              filters: {\n                /*Assigned Group*/\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Task.roles.groupId,\n                  operator: \"in\",\n                  value: ri!assignedGroup,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!assignedGroup)\n                ),\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Task.roles.roleTypeId,\n                  operator: \"=\",\n                  value: cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!assignedGroup)\n                )\n              }\n            )\n          },\n          filters: {\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Task.taskBehaviorType.taskBehaviorTypeId,\n              operator: \"in\",\n              value: ri!taskTypesIds,\n              applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!taskTypesIds)\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Task.status.statusId,\n              operator: \"in\",\n              value: ri!statusIds,\n              applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!statusIds)\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Task.taskIntentionCode,\n              operator: \"=\",\n              value: cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_WORKFLOW\n            )\n          }\n        ),\n        relatedRecordData: {\n          #\"SYSTEM_SYSRULES_relatedRecordData\"(\n            relationship: recordType!CMGT_Task.roles,\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_Role.roleTypeId,\n                operator: \"in\",\n                value: {\n                  cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n                  cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n                }\n              )\n            }\n          )\n        },\n        pagingInfo: a!defaultValue(\n          value: ri!pagingInfo,\n          default: #\"SYSTEM_SYSRULES_pagingInfo\"(startIndex: 1, batchSize: 10, )\n        ),\n        fetchTotalCount: true()\n      ),\n      refreshOnVarChange: ri!triggerRefresh\n    ),\n    local!data\n  ),\n  {}\n)"
    },
    "_a-0000e98b-cfe0-8000-9ba5-011c48011c48_22352": {
      "name": "CMGT_UTIL_QueryRecord",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Chosen return type*/\n  local!returnType: a!defaultValue(ri!returnType, \"OBJECT_ARRAY\"),\n  /*Determine the query parameters to use by the return type*/\n  local!queryParams: a!match(\n    value: local!returnType,\n    equals: \"OBJECT_ARRAY\",\n    then: a!map(\n      castToType: if(\n        a!isNullOrEmpty(ri!groupByFields),\n        #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(ri!recordType),\n        'type!{http://www.appian.com/ae/types/2009}Map?list'\n      ),\n      fetchTotalCount: false,\n      isArray: true,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: a!defaultValue(\n          ri!pagingInfo.batchSize,\n          cons!CMGT_INT_BATCH_SIZE_MAX\n        ),\n        sort: { ri!pagingInfo.sort, ri!sort }\n      )\n    ),\n    equals: \"SINGLE_OBJECT\",\n    then: a!map(\n      castToType: if(\n        a!isNullOrEmpty(ri!groupByFields),\n        ri!recordType,\n        'type!{http://www.appian.com/ae/types/2009}Map'\n      ),\n      fetchTotalCount: false,\n      isArray: false,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: 1,\n        sort: { ri!pagingInfo.sort, ri!sort }\n      )\n    ),\n    equals: \"DATA_SUBSET\",\n    then: a!map(\n      castToType: 'type!{http://www.appian.com/ae/types/2009}DataSubset',\n      fetchTotalCount: true,\n      isArray: false,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: a!defaultValue(ri!pagingInfo.startIndex, 1),\n        batchSize: a!defaultValue(\n          ri!pagingInfo.batchSize,\n          cons!CMGT_INT_BATCH_SIZE_MAX\n        ),\n        sort: { ri!pagingInfo.sort, ri!sort }\n      )\n    ),\n    equals: \"TOTAL_COUNT\",\n    then: a!map(\n      castToType: 'type!{http://www.appian.com/ae/types/2009}Integer',\n      fetchTotalCount: true,\n      isArray: false,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(startIndex: 1, batchSize: 0)\n    ),\n    default: fn!error(\n      \"Invalid returnType, must be one of: OBJECT_ARRAY, SINGLE_OBJECT, DATA_SUBSET, TOTAL_COUNT\"\n    )\n  ),\n  if(\n    /*Early exit for skip execution*/\n    ri!executeWhen = false,\n    cast(\n      local!queryParams.castToType,\n      if(local!queryParams.isArray, {}, null)\n    ),\n    a!localVariables(\n      /*Run the query*/\n      local!queryResult: a!refreshVariable(\n        value: #\"SYSTEM_SYSRULES_queryRecordType_v2\"(\n          recordType: ri!recordType,\n          fields: if(\n            a!isNullOrEmpty(ri!groupByFields),\n            reject(\n              a!isNullOrEmpty,\n              a!flatten(\n                {\n                  ri!fields,\n                  index(ri!relatedRecordData, \"relationship\", {})\n                }\n              )\n            ),\n            #\"SYSTEM_SYSRULES_aggregationFields\"(\n              groupings: #\"SYSTEM_SYSRULES_forEach\"(\n                items: ri!groupByFields,\n                expression: #\"SYSTEM_SYSRULES_grouping\"(field: fv!item, alias: tostring(fv!item))\n              ),\n              measures: #\"SYSTEM_SYSRULES_measure\"(\n                field: ri!groupByFields[1],\n                function: \"COUNT\",\n                alias: \"count\"\n              )\n            )\n          ),\n          filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            ignoreFiltersWithEmptyValues: true,\n            logicalExpressions: {\n              ri!logicalExpressions,\n              if(\n                and(\n                  a!isNotNullOrEmpty(ri!searchFields),\n                  a!isNotNullOrEmpty(ri!searchTerm)\n                ),\n                #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                  operator: \"AND\",\n                  logicalExpressions: #\"SYSTEM_SYSRULES_forEach\"(\n                    items: split(trim(ri!searchTerm), \" \"),\n                    expression: a!localVariables(\n                      local!splitSearchTerm: fv!item,\n                      #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                        operator: \"OR\",\n                        filters: #\"SYSTEM_SYSRULES_forEach\"(\n                          items: ri!searchFields,\n                          expression: #\"SYSTEM_SYSRULES_queryFilter\"(\n                            field: fv!item,\n                            operator: \"includes\",\n                            value: local!splitSearchTerm\n                          )\n                        )\n                      )\n                    )\n                  )\n                ),\n                {}\n              )\n            },\n            filters: ri!filters\n          ),\n          pagingInfo: if(\n            a!isNullOrEmpty(ri!groupByFields),\n            local!queryParams.pagingInfo,\n            #\"urn:appian:function:v1:a:update\"(\n              local!queryParams.pagingInfo,\n              \"sort\",\n              null\n            )\n          ),\n          fetchTotalCount: local!queryParams.fetchTotalCount,\n          relatedRecordData: if(\n            a!isNullOrEmpty(ri!groupByFields),\n            ri!relatedRecordData,\n            {}\n          )\n        ),\n        refreshOnVarChange: ri!triggerRefresh,\n        refreshAfter: { \"RECORD_ACTION\" }\n      ),\n      /*Format the output*/\n      local!output: a!match(\n        value: local!returnType,\n        equals: \"OBJECT_ARRAY\",\n        then: cast(\n          local!queryParams.castToType,\n          local!queryResult.data\n        ),\n        equals: \"SINGLE_OBJECT\",\n        then: cast(\n          local!queryParams.castToType,\n          local!queryResult.data\n        ),\n        equals: \"DATA_SUBSET\",\n        then: cast(\n          local!queryParams.castToType,\n          local!queryResult\n        ),\n        equals: \"TOTAL_COUNT\",\n        then: local!queryResult.totalCount,\n        default: null\n      ),\n      local!output\n    )\n  )\n)"
    },
    "_a-0000eeba-7a31-8000-9dbb-011c48011c48_4845541": {
      "name": "CMGT_SMS_AI_SmartSearchCasesTabFilters",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_sideBySideLayout\"(\n  items: {\n    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n      item: #\"SYSTEM_SYSRULES_multipleDropdownField_v1\"(\n        label: #\"urn:appian:translation-string:v1:4b2f6a5b-f592-4417-96fb-68a4e94875d3\",\n        placeholder: #\"urn:appian:translation-string:v1:4b2f6a5b-f592-4417-96fb-68a4e94875d3\",\n        data: #\"SYSTEM_SYSRULES_recordData\"(\n          recordType: recordType!CMGT_CFG_CaseType,\n          filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_CFG_CaseType.isCategory,\n                operator: \"=\",\n                value: false\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_CFG_CaseType.isActive,\n                operator: \"=\",\n                value: true\n              )\n            }\n          )\n        ),\n        value: ri!selectedCaseTypes,\n        saveInto: ri!selectedCaseTypes,\n        choiceLabels: recordType!CMGT_CFG_CaseType.fullLabel,\n        choiceValues: recordType!CMGT_CFG_CaseType.uuid,\n        sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!CMGT_CFG_CaseType.fullLabel,\n          ascending: true\n        )\n      )\n    ),\n    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n      item: #\"SYSTEM_SYSRULES_multipleDropdownField_v1\"(\n        label: #\"urn:appian:translation-string:v1:952ff189-5287-445d-991e-730bfc34ae2e\",\n        placeholder: #\"urn:appian:translation-string:v1:952ff189-5287-445d-991e-730bfc34ae2e\",\n        data: #\"SYSTEM_SYSRULES_recordData\"(\n          recordType: recordType!CMGT_CFG_Status,\n          filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_CFG_Status.type,\n                operator: \"=\",\n                value: \"CASE\"\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_CFG_Status.isActive,\n                operator: \"=\",\n                value: true\n              )\n            }\n          )\n        ),\n        value: ri!selectedStatus,\n        saveInto: ri!selectedStatus,\n        choiceLabels: recordType!CMGT_CFG_Status.statusLabel,\n        choiceValues: recordType!CMGT_CFG_Status.statusId,\n        sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!CMGT_CFG_Status.sortOrder,\n          ascending: true\n        )\n      )\n    ),\n    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n      item: #\"SYSTEM_SYSRULES_pickerFieldUsers\"(\n        label: #\"urn:appian:translation-string:v1:6b6a9910-093f-4a1e-9807-d5d8b06daecc\",\n        labelPosition: \"ABOVE\",\n        placeholder: #\"urn:appian:translation-string:v1:6b6a9910-093f-4a1e-9807-d5d8b06daecc\",\n        maxSelections: 5,\n        groupFilter: cons!CMGT_GRP_INTERNAL_USERS,\n        value: ri!selectedAssignees,\n        saveInto: a!save(\n          ri!selectedAssignees,\n          rule!CMGT_UTIL_Distinct(save!value)\n        )\n      ),\n\n    ),\n    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n      item: #\"SYSTEM_SYSRULES_pickerFieldGroups\"(\n        label: #\"urn:appian:translation-string:v1:e9f14855-a8fd-4654-9b29-5c0a16aba994\",\n        placeholder: #\"urn:appian:translation-string:v1:e9f14855-a8fd-4654-9b29-5c0a16aba994\",\n        labelPosition: \"ABOVE\",\n        maxSelections: 5,\n        groupFilter: cons!CMGT_GRP_BUSINESS_GROUPS,\n        value: ri!selectedAssignedGroups,\n        saveInto: a!save(\n          ri!selectedAssignedGroups,\n          rule!CMGT_UTIL_Distinct(save!value)\n        )\n      )\n    )\n  }\n)"
    },
    "_a-0000e9ca-3659-8000-9bb8-011c48011c48_137280": {
      "name": "CMGT_UTIL_DistinctRecords",
      "type": "Expression Rule",
      "sail_code": "if(\n  or(\n    a!isNullOrEmpty(ri!records),\n    a!isNullOrEmpty(ri!fields)\n  ),\n  ri!records,\n  with(\n    local!indexed: #\"SYSTEM_SYSRULES_forEach\"(\n      items: a!flatten(ri!records),\n      expression: a!map(\n        record: fv!item,\n        distinct: joinarray(\n          apply(\n            index(fv!item, _, null),\n            a!flatten(ri!fields)\n          ),\n          \"|\"\n        )\n      )\n    ),\n    local!distinctItems: union(\n      local!indexed.distinct,\n      local!indexed.distinct\n    ),\n    apply(\n      displayvalue(\n        _,\n        local!indexed.distinct,\n        local!indexed.record,\n        null\n      ),\n      local!distinctItems\n    )\n  )\n)"
    },
    "_a-0000e99c-1217-8000-9ba9-011c48011c48_52277": {
      "name": "CMGT_UTIL_HeaderField",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n  label: \"\",\n  contents: {\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            if(\n              and(\n                rule!CMGT_UTIL_IsBlank(ri!secondaryText),\n                rule!CMGT_UTIL_IsBlank(ri!labelIcon)\n              ),\n              #\"SYSTEM_SYSRULES_headingField\"(\n                text: rule!CMGT_UTIL_ReplaceArgs(string: ri!label, args: ri!labelArguments),\n                color: a!defaultValue(\n                  value: ri!labelColor,\n                  default: ri!brandingMap.SecondaryHeaderColor\n                ),\n                fontWeight: a!defaultValue(\n                  value: ri!labelFontWeight,\n                  default: ri!brandingMap.SecondaryHeaderFontWeight\n                ),\n                size: a!defaultValue(\n                  value: ri!labelSize,\n                  default: ri!brandingMap.SecondaryHeaderSize\n                ),\n                headingTag: \"H2\",\n                marginAbove: \"LESS\",\n                marginBelow: \"LESS\"\n              ),\n              #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n                label: rule!CMGT_UTIL_ReplaceArgs(string: ri!label, args: ri!labelArguments),\n                contents: {\n                  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                    value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                      text: ri!secondaryText,\n                      style: \"EMPHASIS\",\n                      color: a!defaultValue(\n                        value: ri!labelColor,\n                        default: ri!brandingMap.SecondaryTextColor\n                      ),\n                      size: \"SMALL\"\n                    ),\n                    labelPosition: \"COLLAPSED\",\n                    showWhen: a!isNotNullOrEmpty(ri!secondaryText)\n                  )\n                },\n                labelIcon: ri!labelIcon,\n                iconAltText: ri!iconAltText,\n                labelSize: a!defaultValue(value: ri!labelSize, default: \"SMALL\"),\n                labelHeadingTag: \"H2\",\n                labelColor: a!defaultValue(\n                  value: ri!labelColor,\n                  default: ri!brandingMap.SecondaryTextColor\n                ),\n                marginAbove: \"NONE\",\n                marginBelow: \"NONE\"\n              )\n            )\n          },\n          width: if(\n            a!isNotNullOrEmpty(ri!rightSideContents),\n            \"AUTO\",\n            \"MEDIUM\"\n          )\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: ri!rightSideContents,\n          width: \"AUTO\"\n        )\n      },\n      alignVertical: \"MIDDLE\",\n      marginAbove: \"NONE\",\n      marginBelow: \"NONE\",\n      stackWhen: { \"NEVER\" }\n    )\n  },\n  showWhen: a!defaultValue(ri!showWhen, true),\n  divider: a!defaultValue(ri!divider, \"BELOW\"),\n  dividerColor: ri!brandingMap.DividerColor,\n  marginAbove: a!defaultValue(ri!marginAbove, \"NONE\"),\n  marginBelow: a!defaultValue(ri!marginBelow, \"NONE\")\n)"
    },
    "_a-0000ecf6-527e-8000-9bbc-011c48011c48_59988": {
      "name": "CMGT_WFL_CaseType_RulesCardDisplayWrapper",
      "type": "Interface",
      "sail_code": "a!match(\n  value: rule!CMGT_UTIL_IsNotBlank(ri!rulesToDisplay),\n  equals: true,\n  then: {\n    rule!CMGT_CB_UTIL_HeaderSubHeaderField(\n      label: #\"urn:appian:translation-string:v1:0f4ca5a4-6299-4741-8187-0aef509110c4\"(\n        #\"urn:appian:translation-variable:v1:7cfc88e9-d23b-4c5d-88ea-e903067d2f06\": ri!label\n      ),\n      brandingMap: ri!brandingMap,\n      subheaderLabel: ri!subheaderLabel,\n      labelSize: \"SMALL\",\n      subheaderLabelColor: ri!brandingMap.SecondaryTextColor,\n      subheaderLabelSize: \"STANDARD\"\n    ),\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!rulesToDisplay,\n      expression: a!localVariables(\n        local!deactivatedTextColor: if(\n          fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive],\n          ri!brandingMap.StandardTextColor,\n          ri!brandingMap.SecondaryTextColor\n        ),\n        local!activeConditionSet: rule!CMGT_UTIL_Filter(\n          records: {\n            fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet]\n          },\n          field: recordType!CMGT_CFG_ConditionSet.isActive,\n          value: true\n        ),\n        #\"SYSTEM_SYSRULES_cardLayout\"(\n          shape: \"SEMI_ROUNDED\",\n          padding: \"LESS\",\n          style: if(\n            fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive],\n            null,\n            ri!brandingMap.TertiaryBackgroundColor\n          ),\n          showBorder: true,\n          marginBelow: if(fv!isLast, \"NONE\", \"STANDARD\"),\n          contents: {\n            #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n              alignVertical: \"MIDDLE\",\n              spacing: \"SPARSE\",\n              marginBelow: \"EVEN_LESS\",\n              items: {\n                /*execution order number*/\n                #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                  width: \"MINIMIZE\",\n                  item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                    value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                      size: \"MEDIUM\",\n                      text: a!defaultValue(ri!numOfHigherLevelRules, 0) + fv!index,\n                      color: local!deactivatedTextColor\n                    ),\n                    align: \"LEFT\"\n                  )\n                ),\n                /*Execution Order Update arrows*/\n                #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                  width: \"MINIMIZE\",\n                  item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                    showWhen: ri!showControls,\n                    value: {\n                      #\"SYSTEM_SYSRULES_richTextIcon\"(\n                        icon: \"caret-up\",\n                        color: if(\n                          or(\n                            fv!isFirst,\n                            not(\n                              fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive]\n                            )\n                          ),\n                          ri!brandingMap.CategoryCaseTypeBackgroundColor,\n                          ri!brandingMap.AccentColor\n                        ),\n                        link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                          value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder] - 1,\n                          saveInto: {\n                            #\"SYSTEM_SYSRULES_writeRecords_v2\"(\n                              records: {\n                                /*update sort order for the rule above the current rule*/\n                                #\"urn:appian:function:v1:a:update\"(\n                                  ri!rulesToDisplay[fv!index - 1],\n                                  {\n                                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.modifedBy,\n                                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.modifiedOn,\n                                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder\n                                  },\n                                  {\n                                    loggedInUser(),\n                                    now(),\n                                    fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder]\n                                  }\n                                ),\n                                /*update sort order for the current rule*/\n                                #\"urn:appian:function:v1:a:update\"(\n                                  fv!item,\n                                  {\n                                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.modifedBy,\n                                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.modifiedOn,\n                                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder\n                                  },\n                                  {\n                                    loggedInUser(),\n                                    now(),\n                                    fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder] - 1\n                                  }\n                                )\n                              },\n                              onSuccess: { a!save(ri!triggerRefresh, now()) }\n                            )\n                          },\n                          showWhen: and(\n                            not(fv!isFirst),\n                            fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive]\n                          )\n                        ),\n                        linkStyle: \"STANDALONE\",\n                        size: \"MEDIUM\",\n                        altText: if(\n                          or(\n                            fv!isFirst,\n                            not(\n                              fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive]\n                            )\n                          ),\n                          null,\n                          #\"urn:appian:translation-string:v1:bcea71b0-3503-4a3a-a8d1-ffae49d318f7\"(\n                            #\"urn:appian:translation-variable:v1:40abe15b-5511-42d1-9262-31254e0d572c\": fv!index\n                          )\n                        )\n                      ),\n                      char(10),\n                      #\"SYSTEM_SYSRULES_richTextIcon\"(\n                        icon: \"caret-down\",\n                        color: if(\n                          or(\n                            fv!isLast,\n                            not(\n                              fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive]\n                            )\n                          ),\n                          ri!brandingMap.CategoryCaseTypeBackgroundColor,\n                          ri!brandingMap.AccentColor\n                        ),\n                        link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                          value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder] + 1,\n                          saveInto: {\n                            #\"SYSTEM_SYSRULES_writeRecords_v2\"(\n                              records: {\n                                /*update the sort order for the rule below the current rue*/\n                                #\"urn:appian:function:v1:a:update\"(\n                                  ri!rulesToDisplay[fv!index + 1],\n                                  {\n                                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.modifedBy,\n                                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.modifiedOn,\n                                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder\n                                  },\n                                  {\n                                    loggedInUser(),\n                                    now(),\n                                    fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder]\n                                  }\n                                ),\n                                /*update sort order for the current rule*/\n                                #\"urn:appian:function:v1:a:update\"(\n                                  fv!item,\n                                  {\n                                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.modifedBy,\n                                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.modifiedOn,\n                                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder\n                                  },\n                                  {\n                                    loggedInUser(),\n                                    now(),\n                                    fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder] + 1\n                                  }\n                                )\n                              },\n                              onSuccess: { a!save(ri!triggerRefresh, now()) }\n                            )\n                          },\n                          showWhen: and(\n                            not(fv!isLast),\n                            fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive]\n                          )\n                        ),\n                        linkStyle: \"STANDALONE\",\n                        size: \"MEDIUM\",\n                        altText: if(\n                          or(\n                            fv!isLast,\n                            not(\n                              fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive]\n                            )\n                          ),\n                          null,\n                          #\"urn:appian:translation-string:v1:7a15e656-bc87-4811-b953-8521481a11f8\"(\n                          #\"urn:appian:translation-variable:v1:f43d7e08-821e-4f5e-80ac-091183e02989\": fv!index\n                        )\n                       )\n                      )\n                    },\n                    align: \"LEFT\"\n                  ),\n                  showWhen: #\"urn:appian:function:v1:a:isusermemberofgroup?okey=a!isUserMemberOfGroup\"(loggedInUser(), cons!CMGT_GRP_CASE_MANAGERS)\n                ),\n                /*read only automation rule*/\n                #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                  width: \"10X\",\n                  item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                    value: {\n                      rule!CMGT_WFL_AutomationRules_FormatTrigger(\n                        caseTypeWorkflowTask: fv!item,\n                        textColor: local!deactivatedTextColor,\n                        availableFields: ri!availableFieldsForTriggers\n                      ),\n                      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                        text: \", \" & #\"urn:appian:translation-string:v1:75521026-d916-4284-8fb1-204247072b4b\" & \" \",\n                        size: \"MEDIUM\",\n                        showWhen: rule!CMGT_UTIL_IsNotBlank(local!activeConditionSet),\n                        color: local!deactivatedTextColor\n                      ),\n                      /*condtion formatting*/\n                      rule!CMGT_WFL_CaseType_Rules_FormatRuleConditionSet(\n                        caseTypeWorkflowTask: fv!item,\n                        textColor: local!deactivatedTextColor,\n                        availableFields: ri!availableFields\n                      ),\n                      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                        text: \", \",\n                        size: \"MEDIUM\",\n                        color: local!deactivatedTextColor\n                      ),\n                      /*action formatting*/\n                      rule!CMGT_AutomationRules_FormatRuleAction(\n                        action: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction],\n                        actionCode: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction.actionCode],\n                        isStandalone: false,\n                        context: \"CONFIG\",\n                        textColor: local!deactivatedTextColor\n                      ),\n                      \" \",\n                      /*Invalid Flag Icon*/\n                      #\"SYSTEM_SYSRULES_richTextIcon\"(\n                        icon: \"exclamation-triangle\",\n                        size: \"MEDIUM\",\n                        caption: #\"urn:appian:translation-string:v1:314cd298-a1f1-4044-9cbb-8bff564af1ff\",\n                        color: ri!brandingMap.WarningAccentColor,\n                        showWhen: if(\n                          a!isNullOrEmpty(\n                            fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet]\n                          ),\n                          false,\n                          not(\n                            and(\n                              fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet.childConditionSet.isValid]\n                            )\n                          )\n                        )\n                      ),\n\n                    }\n                  )\n                ),\n                /*activate/inactivate toggle*/\n                #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                  showWhen: and(\n                    ri!showControls,\n                    #\"urn:appian:function:v1:a:isusermemberofgroup?okey=a!isUserMemberOfGroup\"(\n                      loggedInUser(),\n                      cons!CMGT_GRP_CASE_MANAGERS\n                    )\n                  ),\n                  item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                    value: {\n                      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                        text: #\"urn:appian:translation-string:v1:e716bb0e-4140-4480-8ba3-81dacdffcb70\" & \" \",\n                        style: if(\n                          fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive],\n                          \"PLAIN\",\n                          \"STRONG\"\n                        ),\n                        size: \"STANDARD\"\n                      ),\n                      #\"SYSTEM_SYSRULES_richTextIcon\"(\n                        icon: if(\n                          fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive],\n                          \"toggle-on\",\n                          \"toggle-off\"\n                        ),\n                        color: if(\n                          fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive],\n                          ri!brandingMap.AccentColor,\n                          ri!brandingMap.NavigationHighlightColor\n                        ),\n                        link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                          value: not(\n                            fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive]\n                          ),\n                          saveInto: {\n                            #\"SYSTEM_SYSRULES_writeRecords_v2\"(\n                              records: #\"urn:appian:function:v1:a:update\"(\n                                fv!item,\n                                {\n                                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.modifedBy,\n                                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.modifiedOn,\n                                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive\n                                },\n                                {\n                                  loggedInUser(),\n                                  now(),\n                                  not(\n                                    fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive]\n                                  )\n                                }\n                              ),\n                              onSuccess: {\n                                a!save(fv!item, fv!recordsUpdated),\n                                a!save(ri!triggerRefresh, now())\n                              }\n                            )\n                          }\n                        ),\n                        linkStyle: \"STANDALONE\",\n                        size: \"MEDIUM\",\n                        altText: if(\n                          fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive],\n                          #\"urn:appian:translation-string:v1:0cfba508-8287-4ef8-96c9-7bc26bbfd9db\"(\n                            #\"urn:appian:translation-variable:v1:4db7f40a-3b99-4a00-a486-31cd99e5b853\": fv!index\n                          ),\n                          #\"urn:appian:translation-string:v1:71663585-b0fa-4f65-b046-0a1b087c86df\"(\n                            #\"urn:appian:translation-variable:v1:e88317d0-478e-4add-8f70-6993a62bffb4\": fv!index\n                          )\n                        )\n                      ),\n                      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                        text: \" \" & #\"urn:appian:translation-string:v1:61c8f624-1f10-406a-ad8b-215ac6fd4a0e\",\n                        style: if(\n                          fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive],\n                          \"STRONG\",\n                          \"PLAIN\"\n                        ),\n                        size: \"STANDARD\"\n                      )\n                    },\n                    align: \"LEFT\"\n                  )\n                ),\n                /*Edit Action*/\n                #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                  item: #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n                    actions: #\"SYSTEM_SYSRULES_recordActionItem\"(\n                      action: #\"urn:appian:record-action:v1:d6ebee27-6e86-47e3-a9b8-71fdd0348854/9290eec0-a6a7-4a76-9ab7-4f1bc2a4836e\",\n                      identifier: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskId]\n                    ),\n                    display: \"ICON\",\n                    align: \"START\",\n                    style: \"LINKS\",\n                    accessibilityText: a!defaultValue(ri!numOfHigherLevelRules, 0) + fv!index\n                  ),\n                  showWhen: ri!showControls\n                ),\n\n              }\n            )\n          }\n        )\n      )\n    )\n  },\n  default: null\n)"
    },
    "_a-0000ee26-d1e0-8000-9d8e-011c48011c48_4408727": {
      "name": "CMGT_LA_Case_IntakeForm",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!brandingMap: rule!CMGT_LA_UTIL_LoadBrandingMap(),\n  {\n    #\"SYSTEM_SYSRULES_wizardStep\"(\n      label: #\"urn:appian:translation-string:v1:525b1903-51a1-43e5-a172-fa702cd7b439\",\n      contents: {\n        #\"urn:appian:record-field-metadata:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/908c9e8c-078d-4e74-afc9-6e3f9a7c176a/c25c790c-fb22-4fef-bb1e-ff16a9a547da\"(ri!case),\n        #\"urn:appian:record-field-metadata:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/cc5741b7-43ad-438b-844e-8da8538c9cae/cf3eef91-1aab-47ee-8292-134944327765\"(ri!case),\n        #\"urn:appian:record-field-metadata:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/1282844c-ffee-4473-a3b4-3e2c8f94cf0e/0d1be703-738f-42a3-9da3-3e849bd489a4\"(ri!case),\n        rule!CMGT_CreateCase_CreatedBySection(brandingMap: local!brandingMap),\n        #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n          label: #\"urn:appian:translation-string:v1:723d6afb-51ef-454e-a49a-bc1d6fb87b6a\",\n          labelSize: \"SMALL\",\n          labelHeadingTag: \"H2\",\n          labelColor: local!brandingMap.StandardTextColor,\n          contents: {\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(\n                testingLabel: \"Include Documents Message\"\n              ),\n              labelPosition: \"COLLAPSED\",\n              value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: #\"urn:appian:translation-string:v1:882235a6-1d02-4576-ab70-7cc4901f8724\"\n              ),\n              marginBelow: \"LESS\"\n            ),\n            rule!CMGT_Document_Sub_UploadDocument(\n              documents: ri!case[recordType!CMGT_Case.documents],\n              case: ri!case,\n              labelPosition: \"COLLAPSED\",\n              brandingMap: local!brandingMap,\n              label: #\"urn:appian:translation-string:v1:21e05523-30c7-4cb5-b438-242415ba02e3\"\n            )\n          },\n          marginBelow: \"NONE\"\n        )\n      }\n    )\n  }\n)"
    },
    "_a-0000e9b7-c1bc-8000-9bb2-011c48011c48_107142": {
      "name": "CMGT_Tag_GridDisplay",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!count: count(ri!tagNames),\n  {\n    if(\n      local!count <= cons!CMGT_INT_BATCH_SIZE_EXTRA_SMALL,\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: joinarray(ri!tagNames, \", \"),\n        color: ri!brandingMap.SecondaryTextColor,\n        size: \"SMALL\"\n      ),\n      /*Hide options > cons!CMGT_INT_NUM_OF_OBJECTS_TO_SHOW_BEFORE_HIDE, use the cons!CMGT_INT_NUM_OF_OBJECTS_TO_SHOW_BEFORE_HIDE object to be the \"show more\"*/\n      a!localVariables(\n        local!countForMoreAvailable: (\n          local!count - cons!CMGT_INT_BATCH_SIZE_EXTRA_SMALL\n        ) + 1,\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!tagNames,\n          expression: a!match(\n            value: fv!index,\n            whenTrue: fv!value < cons!CMGT_INT_BATCH_SIZE_EXTRA_SMALL,\n            then: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: concat(fv!item, \", \"),\n              color: ri!brandingMap.SecondaryTextColor,\n              size: \"SMALL\"\n            ),\n            whenTrue: fv!value = cons!CMGT_INT_BATCH_SIZE_EXTRA_SMALL,\n            then: {\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: concat(\n                  \"+\",\n                  #\"urn:appian:translation-string:v1:138e2717-f77d-4cb5-9d38-6e79f12039c7\"(\n                    #\"urn:appian:translation-variable:v1:706bfb1d-813b-4e07-adb1-b21bb5d5018b\": local!countForMoreAvailable\n                  )\n                ),\n                color: ri!brandingMap.SecondaryTextColor,\n                size: \"SMALL\"\n              )\n            },\n            default: #\"SYSTEM_SYSRULES_richTextItem_v1\"(showWhen: false)\n          )\n        )\n      )\n    )\n  }\n)"
    },
    "0008e9bd-51ec-8000-fdde-7f0000014e7a": {
      "name": "CMGT_Role_Manage",
      "type": "Process Model",
      "sail_code": "// Input: ?\n=roles\n\n// Input: ?\n=automationInitiator\n\n// Input: ?\n=rolesToDelete\n\n// Input: ?\n=automationInitiator\n\n// Input: ?\n={ emailSettingMap: rule!CMGT_Email_EmailSettingMap_Assignees( roles: pv!roles, rolesToDelete: pv!rolesToDelete)}\n\n// Input: ?\n= a!defaultValue(\n  pv!case,\n  recordType!CMGT_Case(\n    recordType!CMGT_Case.caseId: pv!task[recordType!CMGT_Task.caseId]\n  )\n)\n\n// Input: ?\n=triggerContext\n\n// Input: ?\n= rule!CMGT_Automation_ReturnValidCaseUpdatedTriggers(triggerContext: pv!triggerContext)\n\n// Output: ?\nrule!CMGT_Automation_ReturnCaseFieldDifferences(\n  originalCase: pv!originalCaseData,\n  case: recordType!CMGT_Case(\n    recordType!CMGT_Case.caseId: pv!case[recordType!CMGT_Case.caseId],\n    recordType!CMGT_Case.roles: rule!CMGT_QR_GetRole(\n      caseId: pv!case[recordType!CMGT_Case.caseId]\n    )\n  ),\n  processModel: pv!additionalFieldContext\n)"
    },
    "_a-0000eb2c-b6af-8000-9c5d-011c48011c48_1453742": {
      "name": "CMGT_UTIL_ReplaceArgs",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!args),\n  ri!string,\n  reduce(\n    substitute(_, _, _),\n    ri!string,\n    merge(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: a!keys(ri!args),\n        expression: \"@|\" & fv!item & \"|@\"\n      ),\n      touniformstring(ri!args[a!keys(ri!args)])\n    )\n  )\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_25461": {
      "name": "CMGT_Task_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!originalTasks: if(\n    or(\n      rule!CMGT_UTIL_IsBlank(ri!tasks),\n      ri!eventType = \"TRIGGERED_AUTOMATION_ACTION\",\n      \n    ),\n    null,\n    rule!CMGT_QR_GetTask(\n      taskId: ri!tasks[recordType!CMGT_Task.taskId],\n      includeInactive: true,\n      executeWhen: rule!CMGT_UTIL_IsNotBlank(\n        a!flatten(\n          ri!tasks[recordType!CMGT_Task.taskId]\n        )\n      ),\n      fields: {\n        recordType!CMGT_Task.roles,\n        recordType!CMGT_Task.conditionSet\n      }\n    )\n  ),\n  rule!CMGT_Task_SetEvents(\n    tasks: #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!tasks,\n      expression: a!localVariables(\n        /*The current value of this record in the database*/\n        local!orgItem: rule!CMGT_UTIL_Filter(\n          records: local!originalTasks,\n          field: recordType!CMGT_Task.taskId,\n          value: fv!item[recordType!CMGT_Task.taskId]\n        ),\n        rule!CMGT_UTIL_SetRecordFields(\n          record: fv!item,\n          /*Always set these fields with each update*/\n          alwaysOverwrite: {\n            a!map(\n              field: recordType!CMGT_Task.modifiedBy,\n              value: if(\n                /*we want the modified by to be process automation only when the new instance is created*/\n                and(\n                  rule!CMGT_UTIL_IsBlank(\n                    fv!item[recordType!CMGT_Task.taskId]\n                  ),\n                  tointeger(\n                    fv!item[recordType!CMGT_Task.instanceCount]\n                  ) > 1\n                ),\n                cons!CMGT_TXT_PROCESS_AUTOMATION,\n                ri!initiator\n              )\n            ),\n            a!map(\n              field: recordType!CMGT_Task.modifiedOn,\n              value: now()\n            ),\n            if(\n              ri!eventType = cons!CMGT_TXT_EVENT_TYPE_TASK_MODIFY_CHILD_RECORD,\n              null,\n              {\n                a!map(\n                  field: recordType!CMGT_Task.statusId,\n                  value: fv!item[recordType!CMGT_Task.statusId],\n                  applyWhen: contains(\n                    {\n                      cons!CMGT_REFID_STATUS_TASK_READY,\n                      cons!CMGT_REFID_STATUS_TASK_IN_PROGRESS\n                    },\n                    tointeger(\n                      fv!item[recordType!CMGT_Task.statusId]\n                    )\n                  )\n                ),\n                /* Calculate dueOn based on SLA*/\n                a!map(\n                  field: recordType!CMGT_Task.dueOn,\n                  value: if(\n                    or(\n                      tointeger(\n                        fv!item[recordType!CMGT_Task.statusId]\n                      ) = cons!CMGT_REFID_STATUS_TASK_READY,\n                      tointeger(\n                        fv!item[recordType!CMGT_Task.statusId]\n                      ) = cons!CMGT_REFID_STATUS_TASK_IN_PROGRESS\n                    ),\n                    if(\n                      and(\n                        or(\n                          rule!CMGT_UTIL_IsBlank(\n                            value: local!orgItem[recordType!CMGT_Task.dueOn]\n                          ),\n                          tointeger(\n                            local!orgItem[recordType!CMGT_Task.statusId]\n                          ) = cons!CMGT_REFID_STATUS_TASK_COMPLETED,\n                          tointeger(\n                            local!orgItem[recordType!CMGT_Task.statusId]\n                          ) = cons!CMGT_REFID_STATUS_TASK_NOT_NEEDED\n                        ),\n                        /*  For open and reopen , dueOn is updated as null in the recordAction context*/\n                        rule!CMGT_UTIL_IsBlank(\n                          value: fv!item[recordType!CMGT_Task.dueOn]\n                        ),\n                        /* we should not update due on if the status is being swithced between ready and inprogress*/\n                        tointeger(\n                          fv!item[recordType!CMGT_Task.statusId]\n                        ) <> tointeger(\n                          local!orgItem[recordType!CMGT_Task.statusId]\n                        ),\n                        if(\n                          tointeger(\n                            fv!item[recordType!CMGT_Task.statusId]\n                          ) = cons!CMGT_REFID_STATUS_TASK_IN_PROGRESS,\n                          tointeger(\n                            local!orgItem[recordType!CMGT_Task.statusId]\n                          ) <> cons!CMGT_REFID_STATUS_TASK_READY,\n                          not(\n                            and(\n                              tointeger(\n                                local!orgItem[recordType!CMGT_Task.statusId]\n                              ) = cons!CMGT_REFID_STATUS_TASK_IN_PROGRESS,\n                              tointeger(\n                                fv!item[recordType!CMGT_Task.statusId]\n                              ) = cons!CMGT_REFID_STATUS_TASK_READY\n                            )\n                          )\n                        )\n                      ),\n                      rule!CMGT_UTIL_CalculateDueDateBasedOnSLA(\n                        SLA: fv!item[recordType!CMGT_Task.sla],\n                        dateTime: now()\n                      ),\n                      fv!item[recordType!CMGT_Task.dueOn]\n                    ),\n                    fv!item[recordType!CMGT_Task.dueOn]\n                  )\n                ),\n                /*Clear completedBy/On whenever the statusId goes back to Queued/Ready/Inprogress status*/\n                a!map(\n                  field: recordType!CMGT_Task.completedBy,\n                  value: null,\n                  applyWhen: contains(\n                    {\n                      cons!CMGT_REFID_STATUS_TASK_IN_PROGRESS,\n                      cons!CMGT_REFID_STATUS_TASK_READY,\n                      cons!CMGT_REFID_STATUS_TASK_QUEUED,\n                      \n                    },\n                    tointeger(\n                      fv!item[recordType!CMGT_Task.statusId]\n                    )\n                  )\n                ),\n                /*Task has not been completed so no date should be available*/\n                a!map(\n                  field: recordType!CMGT_Task.completedOn,\n                  value: null,\n                  applyWhen: contains(\n                    {\n                      cons!CMGT_REFID_STATUS_TASK_IN_PROGRESS,\n                      cons!CMGT_REFID_STATUS_TASK_READY,\n                      cons!CMGT_REFID_STATUS_TASK_QUEUED,\n                      \n                    },\n                    tointeger(\n                      fv!item[recordType!CMGT_Task.statusId]\n                    )\n                  )\n                ),\n                a!map(\n                  field: recordType!CMGT_Task.isCurrent,\n                  value: a!defaultValue(\n                    fv!item[recordType!CMGT_Task.isCurrent],\n                    true\n                  ),\n                  \n                ),\n                a!map(\n                  field: recordType!CMGT_Task.instanceCount,\n                  value: a!defaultValue(\n                    fv!item[recordType!CMGT_Task.instanceCount],\n                    1\n                  ),\n                  \n                ),\n                \n              }\n            )\n          },\n          /*Only modify these fields if they are currently null*/\n          neverOverwrite: if(\n            ri!eventType = cons!CMGT_TXT_EVENT_TYPE_TASK_MODIFY_CHILD_RECORD,\n            {},\n            {\n              a!map(\n                field: recordType!CMGT_Task.createdBy,\n                value: ri!initiator\n              ),\n              a!map(\n                field: recordType!CMGT_Task.createdOn,\n                value: now()\n              ),\n              a!map(\n                field: recordType!CMGT_Task.isActive,\n                value: true\n              ),\n              a!map(\n                field: recordType!CMGT_Task.taskUuid,\n                value: rule!CMGT_UTIL_GenerateUuid_NonPlugin()\n              ),\n              a!map(\n                field: recordType!CMGT_Task.taskInstanceUuid,\n                value: rule!CMGT_UTIL_GenerateUuid_NonPlugin()\n              ),\n              a!map(\n                field: recordType!CMGT_Task.isAdHoc,\n                value: false,\n                \n              ),\n              /*Default status to \"Queued\"*/\n              a!map(\n                field: recordType!CMGT_Task.statusId,\n                value: cons!CMGT_REFID_STATUS_TASK_QUEUED\n              ),\n              /*Automatically calculate availableOn whenever the statusId is Ready*/\n              a!map(\n                field: recordType!CMGT_Task.availableOn,\n                value: now(),\n                applyWhen: tointeger(\n                  fv!item[recordType!CMGT_Task.statusId]\n                ) = cons!CMGT_REFID_STATUS_TASK_READY\n              ),\n              /*Set completedBy/On whenever the statusId matches a Completion status*/\n              a!map(\n                field: recordType!CMGT_Task.completedBy,\n                value: ri!initiator,\n                applyWhen: contains(\n                  {\n                    cons!CMGT_REFID_STATUS_TASK_COMPLETED,\n                    cons!CMGT_REFID_STATUS_TASK_NOT_NEEDED\n                  },\n                  tointeger(\n                    fv!item[recordType!CMGT_Task.statusId]\n                  )\n                )\n              ),\n              a!map(\n                field: recordType!CMGT_Task.completedOn,\n                value: now(),\n                applyWhen: contains(\n                  {\n                    cons!CMGT_REFID_STATUS_TASK_COMPLETED,\n                    cons!CMGT_REFID_STATUS_TASK_NOT_NEEDED\n                  },\n                  tointeger(\n                    fv!item[recordType!CMGT_Task.statusId]\n                  )\n                )\n              ),\n              a!map(\n                field: recordType!CMGT_Task.taskIntentionCode,\n                value: cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_WORKFLOW\n              )\n            }\n          ),\n          /*Set metadata for all child relationships*/\n          childRelationships: {\n            a!map(\n              field: recordType!CMGT_Task.roles,\n              value: rule!CMGT_Role_SetMetaData(\n                roles: fv!item[recordType!CMGT_Task.roles],\n                initiator: ri!initiator\n              )\n            ),\n            a!map(\n              field: recordType!CMGT_Task.comments,\n              value: rule!CMGT_Comment_SetMetaData(\n                /*Note that the caseId context is on task, therefore we need to set it on comment here*/\n                comments: rule!CMGT_UTIL_SetForeignKey(\n                  records: fv!item,\n                  relationship: recordType!CMGT_Task.comments,\n                  parentPkField: recordType!CMGT_Task.caseId,\n                  childFkField: recordType!CMGT_Comment.caseId\n                ),\n                initiator: ri!initiator\n              )\n            ),\n            a!map(\n              field: recordType!CMGT_Task.documents,\n              value: rule!CMGT_Document_SetMetaData(\n                /*Note that the caseId context is on task, therefore we need to set it on document here*/\n                documents: rule!CMGT_UTIL_SetForeignKey(\n                  records: fv!item,\n                  relationship: recordType!CMGT_Task.documents,\n                  parentPkField: recordType!CMGT_Task.caseId,\n                  childFkField: recordType!CMGT_Document.caseId\n                ),\n                initiator: ri!initiator\n              )\n            ),\n            a!map(\n              field: recordType!CMGT_Task.beforeTaskInstanceBranches,\n              value: rule!CMGT_TaskBranch_SetMetaData(\n                taskBranches: fv!item[recordType!CMGT_Task.beforeTaskInstanceBranches]\n              )\n            ),\n            a!map(\n              field: recordType!CMGT_Task.taskResponseOptions,\n              value: rule!CMGT_TaskResponseOption_SetMetaData(\n                taskResponseOptions: fv!item[recordType!CMGT_Task.taskResponseOptions]\n              )\n            ),\n            a!map(\n              field: recordType!CMGT_Task.conditionSet,\n              value: rule!CMGT_ConditionSet_SetMetaData(\n                conditionSets: fv!item[recordType!CMGT_Task.conditionSet],\n                initiator: ri!initiator\n              )\n            ),\n            a!map(\n              field: recordType!CMGT_Task.createCaseTask,\n              value: rule!CMGT_CreateCaseTask_SetMetaData(\n                createCaseTask: fv!item[recordType!CMGT_Task.createCaseTask],\n                initiator: ri!initiator\n              ),\n              applyWhen: rule!CMGT_UTIL_IsNotBlank(\n                fv!item[recordType!CMGT_Task.createCaseTask]\n              )\n            ),\n            a!map(\n              field: recordType!CMGT_Task.taskCaseMap,\n              value: rule!CMGT_TaskCaseMap_SetMetaData(\n                taskCaseMap: fv!item[recordType!CMGT_Task.taskCaseMap],\n                initiator: ri!initiator\n              ),\n              applyWhen: rule!CMGT_UTIL_IsNotBlank(\n                fv!item[recordType!CMGT_Task.taskCaseMap]\n              )\n            ),\n            a!map(\n              field: recordType!CMGT_Task.sendEmailTask,\n              value: rule!CMGT_SendEmailTask_SetMetaData(\n                sendEmailTask: fv!item[recordType!CMGT_Task.sendEmailTask],\n                initiator: ri!initiator\n              ),\n              applyWhen: rule!CMGT_UTIL_IsNotBlank(\n                fv!item[recordType!CMGT_Task.sendEmailTask]\n              )\n            ),\n            a!map(\n              field: recordType!CMGT_Task.automationWorkflowTasks,\n              value: rule!CMGT_Task_SetMetaData(\n                tasks: fv!item[recordType!CMGT_Task.automationWorkflowTasks],\n                initiator: cons!CMGT_TXT_PROCESS_AUTOMATION,\n                eventType: \"TRIGGERED_AUTOMATION_ACTION\"\n              ),\n              applyWhen: rule!CMGT_UTIL_IsNotBlank(\n                fv!item[recordType!CMGT_Task.automationWorkflowTasks]\n              )\n            ),\n            a!map(\n              field: recordType!CMGT_Task.automationTaskAction,\n              value: rule!CMGT_TaskAction_SetMetaData(\n                taskAction: fv!item[recordType!CMGT_Task.automationTaskAction],\n                initiator: ri!initiator\n              ),\n              applyWhen: rule!CMGT_UTIL_IsNotBlank(\n                fv!item[recordType!CMGT_Task.automationTaskAction]\n              )\n            )\n          }\n        )\n      )\n    ),\n    originalTasks: local!originalTasks,\n    initiator: ri!initiator,\n    eventType: ri!eventType,\n    taskBranches: ri!taskBranches\n  )\n)"
    },
    "_a-0000ed6e-4eb8-8000-9d48-011c48011c48_3774216": {
      "name": "CMGT_Automation_ReturnValidCaseUpdatedTriggers",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_RejectBlank(\n  {\n    cons!CMGT_REFID_TRIGGER_CASE_UPDATED,\n    if(\n      rule!CMGT_UTIL_IsBlank(ri!triggerContext),\n      null,\n      cons!CMGT_REFID_TRIGGER_CASE_FIELD_UPDATED\n    )\n  }\n)"
    },
    "_a-0000ea38-e7a4-8000-9bf7-011c48011c48_630916": {
      "name": "CMGT_Workspace_InternalUser_Sub_QuickLinks",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!itemMap: {\n    a!map(\n      icon: \"plus-circle\",\n      item: #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n        actions: {\n          #\"SYSTEM_SYSRULES_recordActionItem\"(\n            action: #\"urn:appian:record-action:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/484c73e3-b6f9-422f-afc7-d19f793a16b5\"\n          )\n        },\n        style: \"LINKS\",\n        display: \"LABEL\"\n      ),\n\n    ),\n    a!map(\n      icon: \"user-plus\",\n      item: #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n        actions: {\n          #\"SYSTEM_SYSRULES_recordActionItem\"(\n            action: #\"urn:appian:record-action:v1:ad3b988c-faba-4c39-9bda-be1ad52b4019/2fed3bba-1935-43a0-830a-55428610423c\"\n          )\n        },\n        style: \"LINKS\",\n        display: \"LABEL\"\n      )\n    ),\n    rule!CMGT_ControlPanel_QuickLink_ItemMap()\n  },\n  local!itemMapFiltered: rule!CMGT_UTIL_Filter(\n    records: local!itemMap,\n    field: \"showWhen\",\n    value: false,\n    filterType: \"REJECT\"\n  ),\n  {\n    rule!CMGT_UTIL_HeaderField(\n      label: #\"urn:appian:translation-string:v1:64a2d9b1-8ec0-4000-8a21-ec6857ed3ead\",\n      divider: \"NONE\",\n      brandingMap: ri!brandingMap,\n      marginBelow: \"NONE\"\n    ),\n    #\"SYSTEM_SYSRULES_cardLayout\"(\n      contents: {\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: local!itemMapFiltered,\n          expression: #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n            label: \"\",\n            contents: {\n              #\"SYSTEM_SYSRULES_cardLayout\"(\n                contents: {\n                  #\"SYSTEM_SYSRULES_columnsLayout\"(\n                    columns: {\n                      #\"SYSTEM_SYSRULES_columnLayout\"(\n                        contents: {\n                          #\"SYSTEM_SYSRULES_cardLayout\"(\n                            contents: {\n                              #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                labelPosition: \"ABOVE\",\n                                value: {\n                                  #\"SYSTEM_SYSRULES_richTextIcon\"(\n                                    icon: fv!item.icon,\n                                    color: ri!brandingMap.LoudStampContentColor,\n                                    size: \"MEDIUM_PLUS\"\n                                  )\n                                },\n                                align: \"CENTER\"\n                              )\n                            },\n                            height: \"EXTRA_SHORT\",\n                            style: ri!brandingMap.LoudStampBackgroundColor,\n                            padding: \"LESS\",\n                            marginBelow: \"NONE\",\n                            showBorder: false,\n\n                          )\n                        },\n                        width: \"EXTRA_NARROW\"\n                      ),\n                      #\"SYSTEM_SYSRULES_columnLayout\"(\n                        #\"SYSTEM_SYSRULES_cardLayout\"(\n                          contents: fv!item.item,\n                          style: ri!brandingMap.CardBackgroundColor,\n                          showBorder: false,\n\n                        )\n                      )\n                    },\n                    alignVertical: \"MIDDLE\",\n                    stackWhen: \"NEVER\",\n                    spacing: \"DENSE\"\n                  )\n                },\n                height: \"AUTO\",\n                style: ri!brandingMap.CardBackgroundColor,\n                padding: \"NONE\",\n                marginAbove: \"NONE\",\n                marginBelow: \"NONE\",\n                showBorder: ri!brandingMap.CardShowBorder,\n                showShadow: ri!brandingMap.CardShowShadow,\n                shape: ri!brandingMap.CardShape,\n\n              )\n            },\n            showWhen: fv!item.showWhen,\n            marginAbove: \"NONE\",\n            marginBelow: \"LESS\"\n          )\n        )\n      },\n      height: \"AUTO\",\n      style: \"TRANSPARENT\",\n      shape: ri!brandingMap.CardShape,\n      padding: \"NONE\",\n      marginAbove: \"NONE\",\n      marginBelow: \"STANDARD\",\n      showBorder: false,\n      showShadow: false\n    )\n  }\n)"
    },
    "_a-0000e9ca-3659-8000-9bb8-011c48011c48_137540": {
      "name": "CMGT_Role_Sub_ManageUi_SaveLogic",
      "type": "Expression Rule",
      "sail_code": "/*\nThe point of this rule is to merge the updated roles with \nthe existing CMGT_Role record objects, while not touching roles for other roleTypeIds\n*/\na!localVariables(\n  local!temp,\n  {\n    /*Since we have to output to both roles and rolesToDelete, saving a map into a temporary variable first*/\n    a!save(\n      local!temp,\n      a!localVariables(\n        /*Get all of the existing VALID roles grouped by the roleTypeId*/\n        local!existingRolesFilteredByRoleTypeId: rule!CMGT_UTIL_Filter(\n          records: ri!roles,\n          field: recordType!CMGT_Role.roleTypeId,\n          value: ri!roleTypeId,\n          filterType: \"FULL_RESULT\"\n        ),\n        /*Get all of the existing READY-TO-DELETE roles grouped by the roleTypeId*/\n        local!existingRolesToDeleteFilteredByRoleTypeId: rule!CMGT_UTIL_Filter(\n          records: ri!rolesToDelete,\n          field: recordType!CMGT_Role.roleTypeId,\n          value: ri!roleTypeId,\n          filterType: \"FULL_RESULT\"\n        ),\n        /*Get the unique selected values from the picker fields*/\n        local!uniqueSelectedValues: rule!CMGT_UTIL_Distinct(save!value),\n        /*Get all of the existing roles for this roleTypeId, including ones that were previously staged for deletion*/\n        local!allExistingRolesForThisRoleTypeId: cast(\n          typeof(ri!roles),\n          a!flatten(\n            {\n              local!existingRolesFilteredByRoleTypeId.matches,\n              local!existingRolesToDeleteFilteredByRoleTypeId.matches\n            }\n          )\n        ),\n        /*Finally, re-build all the roles we need based on the picker field selected values*/\n        /*If you removed someone, but then re-selected them, it will match back to their previously selected role*/\n        /*If you are adding a new person, it will generate a new role instance for them*/\n        local!newValidSelectedRolesForThisRoleTypeId: #\"SYSTEM_SYSRULES_forEach\"(\n          items: local!uniqueSelectedValues,\n          expression: displayvalue(\n            tostring(fv!item),\n            touniformstring(\n              local!allExistingRolesForThisRoleTypeId[ri!fieldToSet]\n            ),\n            local!allExistingRolesForThisRoleTypeId,\n            #\"urn:appian:function:v1:a:update\"(\n              recordType!CMGT_Role(\n                recordType!CMGT_Role.caseId: ri!caseId,\n                recordType!CMGT_Role.taskId: ri!taskId,\n                recordType!CMGT_Role.roleTypeId: ri!roleTypeId\n              ),\n              ri!fieldToSet,\n              fv!item\n            )\n          )\n        ),\n        /*Finally, determine which roles for this roleTypeId are no longer necessary AND have a DB primary key*/\n        /*This means that they have already been persisted and need to move to `rolesToDelete`*/\n        /*If they don't have a DB primary key, then they will just be removed from the SAIL variable*/\n        local!invalidRolesForThisRoleTypeIdWhichAreAlreadyPersistedSoMustBeDeleted: a!flatten(\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!allExistingRolesForThisRoleTypeId,\n            expression: if(\n              and(\n                not(\n                  contains(\n                    touniformstring(local!uniqueSelectedValues),\n                    tostring(fv!item[ri!fieldToSet])\n                  )\n                ),\n                a!isNotNullOrEmpty(\n                  fv!item[recordType!CMGT_Role.roleId]\n                )\n              ),\n              fv!item,\n              {}\n            )\n          )\n        ),\n        /*Flatten back the roles we modified, and re-join with the roles for other roleTypeIds that were untouched during this save*/\n        a!map(\n          roles: a!flatten(\n            {\n              local!newValidSelectedRolesForThisRoleTypeId,\n              local!existingRolesFilteredByRoleTypeId.rejects\n            }\n          ),\n          rolesToDelete: a!flatten(\n            {\n              local!invalidRolesForThisRoleTypeIdWhichAreAlreadyPersistedSoMustBeDeleted,\n              local!existingRolesToDeleteFilteredByRoleTypeId.rejects\n            }\n          )\n        )\n      )\n    ),\n    /*Finally, save the map values back into their dedicated variables*/\n    a!save(ri!roles, local!temp.roles),\n    a!save(\n      ri!rolesToDelete,\n      local!temp.rolesToDelete\n    )\n  }\n)"
    },
    "_a-0000ee70-a572-8000-9d9f-011c48011c48_4647252": {
      "name": "CMGT_KB_Document_Sub_DocumentCard",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_cardLayout\"(\n  contents: {\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Document icon\"),\n            labelPosition: \"COLLAPSED\",\n            value: {\n              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                icon: ri!document[recordType!CMGT_KB_Document.extensionIcon],\n                size: \"MEDIUM_PLUS\",\n                color: rule!CMGT_Document_IconColorLogic(\n                  documentExtension: ri!document[#\"urn:appian:record-field:v1:83afd5c9-de39-4147-bfc9-4c371ce1f854/9b6a045d-e2da-4963-a8c7-f7833625e811/SYSTEM_RECORD_TYPE_DOCUMENT_FIELD_extension\"],\n                  brandingMap: ri!brandingMap\n                )\n              )\n            },\n            marginBelow: \"NONE\"\n          ),\n          width: \"AUTO\"\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Document Details\"),\n              labelPosition: \"COLLAPSED\",\n              value: {\n                /*document name*/\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: ri!document[recordType!CMGT_KB_Document.fullName],\n                  color: ri!brandingMap.StandardTextColor,\n                  style: \"STRONG\",\n                  linkStyle: \"STANDALONE\",\n                  size: \"STANDARD\"\n                ),\n                char(10),\n                /*size*/\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: {\n                    concat(\n                      ri!document[recordType!CMGT_KB_Document.sizeInKB],\n                      \" KB\"\n                    )\n                  },\n                  color: ri!brandingMap.SecondaryTextColor,\n                  size: \"SMALL\"\n                )\n              }\n            )\n          },\n          width: \"WIDE\"\n        )\n      },\n      spacing: \"NONE\",\n      stackWhen: \"NEVER\"\n    )\n  },\n  showWhen: a!isNotNullOrEmpty(\n    ri!document[recordType!CMGT_KB_Document.appianDocumentId]\n  ),\n  shape: ri!brandingMap.CardShape,\n  showBorder: ri!brandingMap.CardShowBorder,\n  showShadow: ri!brandingMap.CardShowShadow,\n  padding: \"LESS\",\n  style: ri!brandingMap.CardBackgroundColor,\n  borderColor: ri!brandingMap.CardBorderColor\n)"
    },
    "_a-0000e99c-1217-8000-9ba9-011c48011c48_56367": {
      "name": "CMGT_UTIL_ConvertDateTimeToTimezone",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(value: ri!dateTime),\n  null(),\n  local(\n    gmt(ri!dateTime),\n    a!defaultValue(\n      value: ri!timezone,\n      default: rule!CMGT_UTIL_SystemTimezone()\n    )\n  )\n)"
    },
    "a371b4f3-5788-4239-b6f6-0173ec440fc1": {
      "name": "CMGT_Case_IntakeForm",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!brandingMap: rule!CMGT_UTIL_LoadBrandingMap(),\n  local!initialCaseTypeUuid: a!refreshVariable(\n    value: ri!case[recordType!CMGT_Case.caseTypeUuid],\n    refreshOnReferencedVarChange: false()\n  ),\n  {\n    #\"SYSTEM_SYSRULES_wizardStep\"(\n      label: #\"urn:appian:translation-string:v1:d7dd2eff-69fd-4437-8cb4-8988ac2d1ec9\",\n      contents: {\n        if(\n          rule!CMGT_UTIL_IsNotBlank(\n            input: local!initialCaseTypeUuid\n          ),\n          #\"urn:appian:record-field-metadata:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/908c9e8c-078d-4e74-afc9-6e3f9a7c176a/c25c790c-fb22-4fef-bb1e-ff16a9a547da\"(\n            ri!case\n          ),\n          #\"urn:appian:record-field-metadata:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/908c9e8c-078d-4e74-afc9-6e3f9a7c176a/297fb442-9b7a-4d74-b77d-665ca1bcf942\"(\n            ri!case\n          )\n        ),\n        #\"urn:appian:record-field-metadata:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/cc5741b7-43ad-438b-844e-8da8538c9cae/cf3eef91-1aab-47ee-8292-134944327765\"(\n          ri!case\n        ),\n        #\"urn:appian:record-field-metadata:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/1282844c-ffee-4473-a3b4-3e2c8f94cf0e/0d1be703-738f-42a3-9da3-3e849bd489a4\"(\n          ri!case\n        ),\n        rule!CMGT_CreateCase_CreatedBySection(\n          brandingMap: local!brandingMap\n        ),\n        #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n          label: #\"urn:appian:translation-string:v1:83b3fbbe-7b13-4700-97e6-d9c1c99d26a9\",\n          labelSize: \"SMALL\",\n          labelHeadingTag: \"H2\",\n          labelColor: local!brandingMap.StandardTextColor,\n          contents: {\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(\n                testingLabel: \"Include Documents Message\"\n              ),\n              labelPosition: \"COLLAPSED\",\n              value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: #\"urn:appian:translation-string:v1:ee11779b-be2d-4612-8ef6-9208c4b9f3dd\"\n              ),\n              marginBelow: \"LESS\"\n            ),\n            rule!CMGT_Document_Sub_UploadDocument(\n              documents: ri!case[recordType!CMGT_Case.documents],\n              case: ri!case,\n              labelPosition: \"COLLAPSED\",\n              brandingMap: local!brandingMap,\n              label: #\"urn:appian:translation-string:v1:455edb96-9d9a-4038-b43e-d10aa9a3a811\"\n            )\n          },\n          marginBelow: \"NONE\"\n        )\n      }\n    )\n  }\n)"
    },
    "_a-0000ece2-0128-8000-9bb8-011c48011c48_40502": {
      "name": "CMGT_WFL_FormatSLADisplay",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!hoursDisplayText: a!match(\n    value: tointeger(ri!slaMap.hours),\n    equals: 1,\n    then: #\"urn:appian:translation-string:v1:23f7f8d6-1ee1-4c2f-9e69-9dac7a0f84c3\"(\n      #\"urn:appian:translation-variable:v1:42dba5ab-df86-47d7-b3b0-7d36112974ca\": fv!value\n    ),\n    whenTrue: fv!value > 0,\n    then: #\"urn:appian:translation-string:v1:0aef6bec-8ebf-45d8-965f-b49fcc6b235a\"(\n      #\"urn:appian:translation-variable:v1:a8eaf3d9-e323-4137-83ac-b5aaf9bc4873\": fv!value\n    ),\n    default: \"\"\n  ),\n  local!minutesDisplayText: a!match(\n    value: tointeger(ri!slaMap.minutes),\n    equals: 1,\n    then: #\"urn:appian:translation-string:v1:bf434663-6032-440b-8189-a41db6225d08\"(\n      #\"urn:appian:translation-variable:v1:b0afebcf-7288-495a-9ab7-5febfd9e2ae0\": fv!value\n    ),\n    whenTrue: fv!value > 0,\n    then: #\"urn:appian:translation-string:v1:492cba40-cef4-46e6-85e3-833a070a03ea\"(\n      #\"urn:appian:translation-variable:v1:fa416d94-d663-47ee-88f7-175b0ba06963\": fv!value\n    ),\n    default: \"\"\n  ),\n  local!daysDisplayText: a!match(\n    value: tointeger(ri!slaMap.days),\n    equals: 1,\n    then: #\"urn:appian:translation-string:v1:9ee3dd60-6fb6-4843-be79-2e9c40e08f34\"(\n      #\"urn:appian:translation-variable:v1:6fd9c2a8-e621-4d75-834e-aaaadc92f269\": fv!value\n    ),\n    whenTrue: fv!value > 0,\n    then: #\"urn:appian:translation-string:v1:820111e5-8925-4832-88ca-14086aa4660e\"(\n      #\"urn:appian:translation-variable:v1:29106bce-e5f7-4e8a-857a-1bb1d86b79f7\": fv!value\n    ),\n    whenTrue: and(\n      or(\n        tointeger(ri!slaMap.hours) = 0,\n        tointeger(ri!slaMap.minutes) = 0,\n        fv!value = 0\n      ),\n      rule!CMGT_UTIL_IsBlank(value: local!hoursDisplayText),\n      rule!CMGT_UTIL_IsBlank(value: local!minutesDisplayText)\n    ),\n    then: #\"urn:appian:translation-string:v1:820111e5-8925-4832-88ca-14086aa4660e\"(\n      #\"urn:appian:translation-variable:v1:29106bce-e5f7-4e8a-857a-1bb1d86b79f7\": 0\n    ),\n    default: \"\"\n  ),\n  a!defaultValue(\n    value: joinarray(\n      {\n        local!daysDisplayText,\n        local!hoursDisplayText,\n        local!minutesDisplayText\n      },\n      \" \"\n    ),\n    default: cons!CMGT_TXT_EMPTY_VALUE\n  )\n)"
    },
    "_a-0000ec06-54a3-8000-9cca-011c48011c48_2515830": {
      "name": "CMGT_Task_EvaluateDataForDisplay",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!tabs: {\n    a!map(\n      translationLabel: #\"urn:appian:translation-string:v1:f339de0b-2302-4ef4-8218-c74f2a0a8c85\",\n      taskLogicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n        operator: \"AND\",\n        filters: {\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_Task.roles.userAssignee,\n            operator: \"=\",\n            value: loggedInUser()\n          ),\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_Task.statusId,\n            operator: \"in\",\n            value: {\n              cons!CMGT_REFID_STATUS_TASK_READY,\n              cons!CMGT_REFID_STATUS_TASK_IN_PROGRESS\n            }\n          ),\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_Task.case.statusId,\n            operator: \"<>\",\n            value: cons!CMGT_REFID_STATUS_CASE_CLOSED\n          )\n        }\n      ),\n      showTab: true,\n      metricEvalRule: null\n    ),\n    a!map(\n      translationLabel: #\"urn:appian:translation-string:v1:bb53e29d-433f-44b5-a6d0-1ff3e3c71c72\",\n      taskLogicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n        operator: \"AND\",\n        filters: {\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_Task.numberOfUserAssignees,\n            operator: \"=\",\n            value: 0\n          ),\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_Task.roles.groupAssignee,\n            operator: \"in\",\n            value: ri!userGroups\n          ),\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_Task.statusId,\n            operator: \"in\",\n            value: {\n              cons!CMGT_REFID_STATUS_TASK_READY,\n              cons!CMGT_REFID_STATUS_TASK_IN_PROGRESS\n            }\n          ),\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_Task.case.statusId,\n            operator: \"<>\",\n            value: cons!CMGT_REFID_STATUS_CASE_CLOSED\n          )\n        }\n      ),\n      showTab: true,\n      metricEvalRule: rule!CMGT_MTR_UserSelectedAssignedToGroupTab()\n    )\n  },\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!tabs,\n    expression: a!localVariables(\n      a!map(\n        name: fv!item.translationLabel,\n        showTab: fv!item.showTab,\n        taskLogicalExpression: fv!item.taskLogicalExpression,\n        metricEvalRule: fv!item.metricEvalRule\n      )\n    )\n  )\n)"
    },
    "_a-0000eeba-7a31-8000-9dbb-011c48011c48_4845526": {
      "name": "CMGT_SMS_AI_SmartSearchResultsTab_Top",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_cardLayout\"(\n  showBorder: false,\n  style: \"TRANSPARENT\",\n  padding: \"STANDARD\",\n  contents: {\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!topResults,\n      expression: a!match(\n        value: index(fv!item, \"context\", null()),\n        equals: \"CASES\",\n        then: rule!CMGT_SMS_AI_SmartSearchCaseCard(\n          case: index(fv!item, \"data\", null()),\n          brandingMap: ri!brandingMap\n        ),\n        equals: \"TASKS\",\n        then: rule!CMGT_SMS_AI_SmartSearchTaskCard(\n          task: index(fv!item, \"data\", null()),\n          brandingMap: ri!brandingMap\n        ),\n        default: {}\n      )\n    )\n  }\n)"
    },
    "89279547-29f9-4039-b557-c2f2efcf01a9": {
      "name": "CMGT_WFL_CaseTypeWorkflowTasks_FindPreviousTasksInTree",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!allTasks: ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n  if(\n      a!isNullOrEmpty(ri!taskUuId),\n     {},\n  reduce(\n  rule!CMGT_WFL_CaseTypeWorkflowTasks_FindPreviousTasksInTree_Reducer(\n    allTasks: local!allTasks,\n    caseTypeWorkflowTaskBranches: ri!caseTypeWorkflowTaskBranches,\n    treeTasks: _,\n    index:_\n  ),\n  rule!CMGT_UTIL_Filter(\n    records: local!allTasks,\n    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n    value: ri!taskUuId\n  ),\n  enumerate(length(local!allTasks)\n  )\n  )\n)\n)"
    },
    "_a-0000e9a5-4cb8-8000-9bac-011c48011c48_72412": {
      "name": "CMGT_Case_RecordGrid",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_gridField_v2\"(\n  label: ri!label,\n  labelPosition: \"COLLAPSED\",\n  emptyGridMessage: #\"urn:appian:translation-string:v1:8ee37f20-3590-406f-a163-623f655322c5\",\n  data: #\"SYSTEM_SYSRULES_recordData\"(\n    recordType: recordType!CMGT_Case,\n    filters: ri!logicalExpression,\n    fields: {\n      recordType!CMGT_Case.friendlyId,\n      recordType!CMGT_Case.caseId,\n      recordType!CMGT_Case.title,\n      recordType!CMGT_Case.caseType.fullLabel,\n      recordType!CMGT_Case.description,\n      recordType!CMGT_Case.priority.icon,\n      recordType!CMGT_Case.priority.priorityName,\n      recordType!CMGT_Case.priority.iconColor,\n      recordType!CMGT_Case.tagMap.tag.tagName,\n      recordType!CMGT_Case.status.statusLabel,\n      recordType!CMGT_Case.status.softColor,\n      recordType!CMGT_Case.status.textColor,\n      #\"urn:appian:record-field:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/07bc37b4-41ec-48e4-b08d-29d37608fe5c/6f0c8dbc-95d2-4ba7-9fb5-f0916efa0f08/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\",\n      recordType!CMGT_Case.roles.groupAssignee,\n      recordType!CMGT_Case.dueOn,\n      recordType!CMGT_Case.statusId,\n      recordType!CMGT_Case.modifiedOn,\n      recordType!CMGT_Case.createdByUser,\n      recordType!CMGT_Case.modifiedByUser,\n      recordType!CMGT_Case.modifiedBy,\n      recordType!CMGT_Case.createdBy,\n      recordType!CMGT_Case.createdByUser\n    },\n    relatedRecordData: {\n      #\"SYSTEM_SYSRULES_relatedRecordData\"(\n        relationship: recordType!CMGT_Case.roles,\n        /*This will put all users before groups*/\n        sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!CMGT_Role.groupId,\n          ascending: true\n        ),\n        filters: {\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_Role.roleTypeId,\n            operator: \"in\",\n            value: {\n              cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n              cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n            }\n          )\n        }\n      )\n    }\n  ),\n  columns: {\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:265522d7-92e5-43ad-a1f4-be35fbd831ca\",\n      sortField: recordType!CMGT_Case.friendlyId,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: fv!row[recordType!CMGT_Case.friendlyId],\n            link: #\"SYSTEM_SYSRULES_recordLink\"(\n              recordType: recordType!CMGT_Case,\n              identifier: fv!row[recordType!CMGT_Case.caseId]\n            ),\n            linkStyle: \"STANDALONE\",\n            color: ri!brandingMap.StandardTextColor,\n            style: \"STRONG\"\n          ),\n          \" \",\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: fv!row[recordType!CMGT_Case.title],\n            color: ri!brandingMap.StandardTextColor,\n            style: \"STRONG\"\n          ),\n          char(10),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              concat(\n                fv!row[recordType!CMGT_Case.caseType.fullLabel],\n                if(\n                  a!isNullOrEmpty(\n                    fv!row[recordType!CMGT_Case.description]\n                  ),\n                  null,\n                  {\n                    \"  \",\n                    rule!CMGT_UTIL_TruncateText(\n                      text: {\n                        rule!CMGT_UTIL_StripHtmlTags(\n                          value: fv!row[recordType!CMGT_Case.description],\n                          isFormatted: false\n                        )\n                      },\n                      maxLength: 50\n                    )\n                  }\n                )\n              )\n            },\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\"\n          )\n        }\n      ),\n      showWhen: contains({ \"COMPACT_LIST\" }, ri!context)\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:b5c1a7f9-aa4e-4105-b1e3-6bf63eef7ce7\",\n      sortField: recordType!CMGT_Case.friendlyId,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: fv!row[recordType!CMGT_Case.friendlyId] & \" \" & fv!row[recordType!CMGT_Case.title],\n            link: #\"SYSTEM_SYSRULES_recordLink\"(\n              recordType: recordType!CMGT_Case,\n              identifier: fv!identifier,\n              openLinkIn: a!defaultValue(ri!openRecordLinkIn, \"SAME_TAB\")\n            ),\n            linkStyle: \"STANDALONE\",\n            color: ri!brandingMap.StandardTextColor,\n            style: \"STRONG\"\n          ),\n          char(10),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                icon: fv!row[recordType!CMGT_Case.priority.icon],\n                altText: #\"urn:appian:translation-string:v1:62c1d184-cd2b-4147-82cc-a8c82f4e295f\",\n                caption: fv!row[recordType!CMGT_Case.priority.priorityName],\n                color: rule!CMGT_UTIL_DisplayBranding(\n                  brandingMap: ri!brandingMap,\n                  key: fv!row[recordType!CMGT_Case.priority.iconColor]\n                ),\n                size: \"MEDIUM\"\n              ),\n              if(\n                a!isNullOrEmpty(\n                  fv!row[recordType!CMGT_Case.priority.priorityName]\n                ),\n                \"\",\n                char(32)\n              ),\n              fv!row[recordType!CMGT_Case.caseType.fullLabel],\n              if(\n                a!isNotNullOrEmpty(\n                  fv!row[recordType!CMGT_Case.tagMap.tag.tagName]\n                ),\n                \" \",\n                \"\"\n              )\n            },\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\"\n          ),\n          #\"SYSTEM_SYSRULES_richTextIcon\"(\n            icon: \"tags\",\n            altText: #\"urn:appian:translation-string:v1:099c60a3-5a2d-49ee-9b13-c666ff42e4f0\",\n            showWhen: a!isNotNullOrEmpty(\n              fv!row[recordType!CMGT_Case.tagMap.tag.tagName]\n            ),\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\"\n          ),\n          \" \",\n          rule!CMGT_Tag_GridDisplay(\n            tagNames: fv!row[recordType!CMGT_Case.tagMap.tag.tagName],\n            brandingMap: ri!brandingMap\n          )\n        }\n      ),\n      showWhen: contains(\n        { \"RECORD_LIST\", \"CASES_PAGE\" },\n        ri!context\n      ),\n      width: \"AUTO\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:7e0ce8d9-9374-4a9e-925a-fc30eb5ba4b6\",\n      value: #\"SYSTEM_SYSRULES_tagField\"(\n        tags: #\"SYSTEM_SYSRULES_tagItem\"(\n          text: fv!row[recordType!CMGT_Case.status.statusLabel],\n          backgroundColor: rule!CMGT_UTIL_DisplayBranding(\n            brandingMap: ri!brandingMap,\n            key: fv!row[recordType!CMGT_Case.status.softColor]\n          ),\n          textColor: rule!CMGT_UTIL_DisplayBranding(\n            brandingMap: ri!brandingMap,\n            key: fv!row[recordType!CMGT_Case.status.textColor]\n          )\n        ),\n        align: \"CENTER\"\n      ),\n      showWhen: contains(\n        {\n          \"COMPACT_LIST\",\n          \"RECORD_LIST\",\n          \"CASES_PAGE\"\n        },\n        ri!context\n      ),\n      align: \"START\",\n      width: \"AUTO\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:e86d727f-ed3a-4e2e-9380-d61ce5a2d09a\",\n      sortField: recordType!CMGT_Case.createdBy,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        value: {\n          /*user image*/\n          #\"SYSTEM_SYSRULES_richTextImage\"(\n            image: #\"SYSTEM_SYSRULES_userImage\"(\n              user: fv!row[recordType!CMGT_Case.createdBy]\n            )\n          ),\n          \" \",\n          /*Name*/\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: rule!CMGT_UTIL_DisplayUser(\n              userRecord: fv!row[recordType!CMGT_Case.createdByUser],\n              user: fv!row[recordType!CMGT_Case.createdBy]\n            ),\n            link: #\"SYSTEM_SYSRULES_userRecordLink\"(\n              user: fv!row[recordType!CMGT_Case.createdBy],\n              openLinkIn: \"NEW_TAB\",\n              showWhen: and(\n                a!isNotNullOrEmpty(\n                  fv!row[recordType!CMGT_Case.createdByUser]\n                ),\n                not(\n                  or(\n                    fv!row[#\"urn:appian:record-field:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/aca01291-ae61-4159-8dc4-52dda1ddc18e/SYSTEM_RECORD_TYPE_USER_FIELD_isServiceAccount\"] = true,\n                    #\"urn:appian:function:v1:a:isusermemberofgroup?okey=a!isUserMemberOfGroup\"(\n                      username: fv!row[recordType!CMGT_Case.createdBy],\n                      groups: cons!CMGT_GRP_SERVICE_ACCOUNTS\n                    )\n                  )\n                )\n              )\n            ),\n            linkStyle: \"STANDALONE\",\n            color: ri!brandingMap.StandardTextColor\n          )\n        }\n      ),\n      showWhen: contains(\n        { \"RECORD_LIST\", \"CASES_PAGE\" },\n        ri!context\n      ),\n      width: \"AUTO\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:7bcb0001-ac03-470f-a26b-be3786709f7e\",\n      value: rule!CMGT_UTIL_DisplayUserAndGroupAssigneeList(\n        separator: \", \",\n        emptyLabel: #\"urn:appian:translation-string:v1:83cc28fc-8558-4039-804c-602530960d97\",\n        brandingMap: ri!brandingMap,\n        assigneeList: fv!row[#\"urn:appian:record-field:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/07bc37b4-41ec-48e4-b08d-29d37608fe5c/6f0c8dbc-95d2-4ba7-9fb5-f0916efa0f08/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\"],\n        groupList: togroup(\n          fv!row[recordType!CMGT_Case.roles.groupAssignee]\n        )\n      ),\n      showWhen: contains(\n        { \"RECORD_LIST\", \"CASES_PAGE\" },\n        ri!context\n      ),\n      width: \"AUTO\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:0fef6afa-51d1-49a6-8b45-055c403a05d3\",\n      sortField: recordType!CMGT_Case.dueOn,\n      value: rule!CMGT_UTIL_DisplayDueDate(\n        dueOn: fv!row[recordType!CMGT_Case.dueOn],\n        showAsOverdueWhen: fv!row[recordType!CMGT_Case.statusId] <> cons!CMGT_REFID_STATUS_CASE_CLOSED,\n        brandingMap: ri!brandingMap\n      ),\n      showWhen: contains(\n        { \"RECORD_LIST\", \"CASES_PAGE\" },\n        ri!context\n      ),\n      align: \"START\",\n      width: \"AUTO\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:11bd60d9-131f-4409-8bf0-7ef9c57dd366\",\n      sortField: recordType!CMGT_Case.modifiedOn,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: rule!CMGT_UTIL_FormatDateTime(\n              dateTime: fv!row[recordType!CMGT_Case.modifiedOn],\n              includeTime: false()\n            ),\n            color: ri!brandingMap.StandardTextColor\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              char(10),\n              rule!CMGT_UTIL_DisplayUser(\n                userRecord: fv!row[recordType!CMGT_Case.modifiedByUser],\n                user: fv!row[recordType!CMGT_Case.modifiedBy]\n              )\n            },\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\"\n          )\n        }\n      ),\n      showWhen: contains(\n        { \"RECORD_LIST\", \"CASES_PAGE\" },\n        ri!context\n      ),\n      align: \"END\",\n      width: \"AUTO\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      value: #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n        actions: {\n          #\"SYSTEM_SYSRULES_recordActionItem\"(\n            action: #\"urn:appian:record-action:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/c4afe148-8255-40e3-a91a-43af8dd145d1\",\n            identifier: fv!row[recordType!CMGT_Case.caseId]\n          )\n        },\n        style: \"MENU_ICON\"\n      ),\n      showWhen: a!defaultValue(ri!showRecordActionColumn, false),\n      width: \"ICON\"\n    )\n  },\n  pageSize: a!defaultValue(\n    ri!pageSize,\n    cons!CMGT_INT_BATCH_SIZE_LARGE\n  ),\n  initialSorts: {\n    if(\n      a!defaultValue(ri!showMetaData, false),\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_Case.modifiedOn,\n        ascending: false\n      ),\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_Case.friendlyId,\n        ascending: false\n      )\n    )\n  },\n  selectable: ri!selectable,\n  selectionValue: ri!selectionValue,\n  selectionSaveInto: ri!selectionSaveInto,\n  selectionRequired: ri!selectionRequired,\n  borderStyle: \"LIGHT\",\n  shadeAlternateRows: true(),\n  /*For accessibility*/\n  rowHeader: 1,\n  refreshAfter: \"RECORD_ACTION\",\n  userFilters: if(\n    ri!showUserFilters = false,\n    {},\n    a!defaultValue(\n      ri!userFilters,\n      {\n        #\"urn:appian:user-filter:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/0f8c8b4f-9420-4c56-b8f5-4e7a2bf2e5b8\",\n        #\"urn:appian:user-filter:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/468664a0-f75e-4c15-9bb6-4ae41b5878df\",\n        #\"urn:appian:user-filter:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/6a0ca789-87d4-433b-aeba-3be6e09efee0\",\n        #\"urn:appian:user-filter:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/a1c408b0-2d4f-4120-8e29-47207f052f02\",\n        #\"urn:appian:user-filter:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/5839e7dd-447d-4eed-8618-541791488d53\",\n        #\"urn:appian:user-filter:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/70cb66f7-72f3-4260-ad48-def7f2f30f76\",\n        #\"urn:appian:user-filter:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/930f4c0a-56ab-4f58-b918-e1aaf3e391f1\"\n      }\n    )\n  ),\n  showSearchBox: a!defaultValue(ri!showSearchBox, true),\n  showRefreshButton: ri!showRefreshButton,\n  showExportButton: a!defaultValue(ri!showExportButton, true),\n  recordActions: {\n    if(\n      a!defaultValue(ri!showRecordActions, false),\n      #\"SYSTEM_SYSRULES_recordActionItem\"(\n        #\"urn:appian:record-action:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/484c73e3-b6f9-422f-afc7-d19f793a16b5\"\n      ),\n      \"\"\n    ),\n    /*show bulk update cases action only if the context is Cases page*/\n    if(\n      contains({ \"CASES_PAGE\" }, ri!context),\n      #\"SYSTEM_SYSRULES_recordActionItem\"(\n        #\"urn:appian:record-action:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/7b9a9a8a-0000-4bb4-a39c-260be024fdd0\"\n      ),\n      {}\n    )\n  },\n  validations: ri!validations\n)"
    },
    "_a-0000eb57-0ad2-8000-9c6b-011c48011c48_1719972": {
      "name": "CMGT_NCF_updateNodeOrderBasedOnPrecedents",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!precedentEdges: a!refreshVariable(\n    value: rule!CMGT_UTIL_Filter(\n      records: ri!allEdges,\n      fieldValuePairs: {\n        a!map(field: \"to\", value: ri!currentNode.id)\n      }\n    ),\n    refreshAlways: true\n  ),\n  local!requiredPrecedentEdges: a!refreshVariable(\n    value: rule!CMGT_UTIL_Filter(\n      records: local!precedentEdges,\n      fieldValuePairs: { a!map(field: \"dashes\", value: false) }\n    ),\n    refreshAlways: true\n  ),\n  local!precedentEdgesFromSortedNodes: a!refreshVariable(\n    value: rule!CMGT_UTIL_Filter(\n      records: ri!edgesToUnorderedNodes,\n      field: \"to\",\n      value: ri!currentNode.id\n    ),\n    refreshAlways: true\n  ),\n  if(\n    /*since the currentNode is sourced from dependentUnorderedNodes, it will always have at least one precedent*/\n    /*if there are no required precedents and the non-required precedents are not sorted, return nothing*/\n    and(\n      a!isNullOrEmpty(local!requiredPrecedentEdges),\n      a!isNullOrEmpty(local!precedentEdgesFromSortedNodes)\n    ),\n    {},\n    or(\n      /*if there are no required precedents and any of the non-required precedents are sorted, give it an order */\n      and(\n        a!isNullOrEmpty(local!requiredPrecedentEdges),\n        a!isNotNullOrEmpty(local!precedentEdgesFromSortedNodes)\n      ),\n      /*if all required precedents are already sorted, give it an order*/\n      a!isNullOrEmpty(\n        difference(\n          local!requiredPrecedentEdges,\n          local!precedentEdgesFromSortedNodes\n        )\n      )\n    ),\n    #\"urn:appian:function:v1:a:update\"(\n      data: ri!currentNode,\n      index: \"verticalOrder\",\n      value: tointeger(\n        max(ri!orderedNodes.verticalOrder) + 1\n      )\n    ),\n    /*if the node has required precedents which are not already sorted, return nothing*/\n    {}\n  )\n)"
    },
    "_a-0000ed49-63d5-8000-9d3e-011c48011c48_3602346": {
      "name": "CMGT_ControlPanel_EmailTemplates",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!brandingMap: rule!CMGT_CB_UTIL_LoadBrandingMap(),\n  local!triggerRefresh: a!refreshVariable(\n    value: now(),\n    refreshAfter: \"RECORD_ACTION\"\n  ),\n  local!searchTermTemp,\n  local!searchTerm,\n  local!pagingInfo: a!refreshVariable(\n    value: #\"SYSTEM_SYSRULES_pagingInfo\"(\n      startIndex: 1,\n      batchSize: cons!CMGT_INT_BATCH_SIZE_LARGE,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_WFL_CFG_EmailTemplate.modifiedOn,\n        ascending: false\n      )\n    ),\n    refreshOnVarChange: local!searchTerm\n  ),\n  local!emailTemplates: rule!CMGT_WFL_QR_GetEmailTemplates(\n    returnType: \"DATA_SUBSET\",\n    triggerRefresh: local!triggerRefresh,\n    searchTerm: local!searchTerm,\n    fields: recordType!CMGT_WFL_CFG_EmailTemplate.modifiedByUser,\n    searchFields: {\n      #\"urn:appian:record-field:v1:85901491-e10b-4d54-aa08-7e9141f85151/b3195aca-08b1-4e2d-8bdd-6a1a07205675/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\",\n      recordType!CMGT_WFL_CFG_EmailTemplate.subject,\n      recordType!CMGT_WFL_CFG_EmailTemplate.templateName,\n      recordType!CMGT_WFL_CFG_EmailTemplate.body,\n      recordType!CMGT_WFL_CFG_EmailTemplate.modifiedBy,\n\n    },\n    pagingInfo: local!pagingInfo\n  ),\n  local!showEmptyState: rule!CMGT_WFL_QR_GetEmailTemplates(\n    returnType: \"TOTAL_COUNT\",\n    triggerRefresh: local!triggerRefresh\n  ) = 0,\n  local!cardDecorativeBorderColor: split(\n    {\n      local!brandingMap.StampSchemeA,\n      local!brandingMap.StampSchemeB,\n      local!brandingMap.StampSchemeA,\n\n    },\n    \",\"\n  ),\n  #\"SYSTEM_SYSRULES_paneLayout\"(\n    panes: #\"SYSTEM_SYSRULES_pane\"(\n      contents: if(\n        local!showEmptyState,\n        {\n          #\"SYSTEM_SYSRULES_cardLayout\"(\n            contents: {\n              rule!CMGT_UTIL_DisplayEmptyState(\n                brandingMap: local!brandingMap,\n                primaryText: #\"urn:appian:translation-string:v1:3b258922-fc67-4ec9-9dcf-fcdf6fb2944d\",\n                secondaryText: #\"urn:appian:translation-string:v1:0e571952-ef42-4449-b92c-2037537f0ff9\",\n                docImage: cons!CMGT_WFL_DOC_IMAGES_EMAIL_TEMPLATE_EMPTY_STATE,\n                additionalContent: #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n                  actions: {\n                    #\"SYSTEM_SYSRULES_recordActionItem\"(\n                      action: #\"urn:appian:record-action:v1:85901491-e10b-4d54-aa08-7e9141f85151/2f2a5245-755f-409f-beeb-f16ee944defb\"\n                    )\n                  },\n                  style: \"TOOLBAR_PRIMARY\",\n                  display: \"LABEL\",\n                  align: \"CENTER\"\n                ),\n                primaryTextStyle: \"STRONG\",\n                imageSize: \"EXTRA_SMALL\",\n                primaryTextSize: \"MEDIUM\",\n                secondaryTextMarginBelow: \"MORE\"\n              )\n            },\n            height: \"EXTRA_TALL\",\n            padding: \"EVEN_MORE\",\n            marginAbove: \"EVEN_MORE\",\n            showBorder: false\n          )\n        },\n        #\"SYSTEM_SYSRULES_cardLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_columnsLayout\"(\n              columns: {\n                #\"SYSTEM_SYSRULES_columnLayout\"(\n                  contents: #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                    items: {\n                      #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                        item: #\"SYSTEM_SYSRULES_textField\"(\n                          label: #\"urn:appian:translation-string:v1:7607e9f5-1e18-4ff8-883a-700b1b6ed238\",\n                          labelPosition: \"COLLAPSED\",\n                          placeholder: #\"urn:appian:translation-string:v1:5a1e52ee-9e36-47c7-a924-a6fa4ec8d41f\",\n                          value: local!searchTermTemp,\n                          saveInto: {\n                            a!save(local!searchTermTemp, trim(save!value)),\n                            if(\n                              a!isNullOrEmpty(local!searchTermTemp),\n                              a!save(local!searchTerm, local!searchTermTemp),\n                              {}\n                            )\n                          },\n                          refreshAfter: \"KEYPRESS\"\n                        ),\n                        width: \"1X\"\n                      ),\n                      #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                        item: #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n                          buttons: {\n                            #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                              label: #\"urn:appian:translation-string:v1:7607e9f5-1e18-4ff8-883a-700b1b6ed238\",\n                              saveInto: a!save(local!searchTerm, local!searchTermTemp),\n                              style: \"OUTLINE\"\n                            )\n                          },\n                          align: \"START\",\n                          marginBelow: \"NONE\"\n                        ),\n                        width: \"MINIMIZE\"\n                      )\n                    },\n                    marginBelow: \"STANDARD\"\n                  )\n                ),\n                #\"SYSTEM_SYSRULES_columnLayout\"(\n                  contents: #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n                    actions: {\n                      #\"SYSTEM_SYSRULES_recordActionItem\"(\n                        action: #\"urn:appian:record-action:v1:85901491-e10b-4d54-aa08-7e9141f85151/2f2a5245-755f-409f-beeb-f16ee944defb\"\n                      )\n                    },\n                    style: \"TOOLBAR_PRIMARY\",\n                    display: \"LABEL\",\n                    align: \"END\"\n                  )\n                )\n              }\n            ),\n            #\"SYSTEM_SYSRULES_cardGroupLayout\"(\n              spacing: \"STANDARD\",\n              marginAbove: \"LESS\",\n              marginBelow: \"EVEN_LESS\",\n              cards: {\n                if(\n                  rule!CMGT_UTIL_IsNotBlank(local!emailTemplates.data),\n                  #\"SYSTEM_SYSRULES_forEach\"(\n                    items: local!emailTemplates.data,\n                    expression: #\"SYSTEM_SYSRULES_cardLayout\"(\n                      contents: {\n                        #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                          items: {\n                            #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                              item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                labelPosition: \"COLLAPSED\",\n                                value: {\n                                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                    text: trim(\n                                      fv!item[recordType!CMGT_WFL_CFG_EmailTemplate.templateName]\n                                    ),\n                                    size: \"MEDIUM\",\n                                    style: \"STRONG\"\n                                  ),\n                                  char(10),\n                                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                    text: {\n                                      #\"urn:appian:translation-string:v1:8a31bca4-73f5-4717-8439-47c1c3f6a199\"(\n                                        #\"urn:appian:translation-variable:v1:38ec56a8-d337-4e23-bdd5-c833d7b88101\": rule!CMGT_UTIL_FormatDateTime(\n                                          dateTime: fv!item[recordType!CMGT_WFL_CFG_EmailTemplate.modifiedOn],\n                                          includeTime: false()\n                                        ),\n                                        #\"urn:appian:translation-variable:v1:59a009e1-3742-4aeb-a942-6d912fe6a56d\": rule!CMGT_UTIL_DisplayUser(\n                                          userRecord: fv!item[recordType!CMGT_WFL_CFG_EmailTemplate.modifiedByUser],\n                                          user: fv!item[recordType!CMGT_WFL_CFG_EmailTemplate.modifiedBy]\n                                        )\n                                      )\n                                    },\n                                    color: local!brandingMap.SecondaryTextColor,\n                                    size: \"SMALL\"\n                                  )\n                                },\n                                marginAbove: \"NONE\",\n                                marginBelow: \"STANDARD\"\n                              )\n                            ),\n                            #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                              item: #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n                                actions: {\n                                  #\"SYSTEM_SYSRULES_recordActionItem\"(\n                                    action: #\"urn:appian:record-action:v1:85901491-e10b-4d54-aa08-7e9141f85151/0f6ffc42-a95b-4c30-9c3a-b8a53ca3455b\",\n                                    identifier: fv!item[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateId]\n                                  ),\n                                  #\"SYSTEM_SYSRULES_recordActionItem\"(\n                                    action: #\"urn:appian:record-action:v1:85901491-e10b-4d54-aa08-7e9141f85151/011986b6-e350-41ae-8df3-e8d406cc86b6\",\n                                    identifier: fv!item[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateId]\n                                  )\n                                },\n                                style: \"MENU_ICON\",\n                                display: \"LABEL\",\n                                align: \"END\",\n                                accessibilityText: fv!item[recordType!CMGT_WFL_CFG_EmailTemplate.templateName]\n                              ),\n                              width: \"MINIMIZE\"\n                            )\n                          },\n                          marginBelow: \"NONE\"\n                        ),\n                        #\"SYSTEM_SYSRULES_tagField\"(\n                          labelPosition: \"COLLAPSED\",\n                          tags: {\n                            #\"SYSTEM_SYSRULES_tagItem_v1\"(\n                              text: fv!item[recordType!CMGT_WFL_CFG_EmailTemplate.countOfReferences] & \" \" & #\"urn:appian:translation-string:v1:5a089b47-21e3-4061-a48e-39e91fcc07ca\",\n                              backgroundColor: local!brandingMap.TagBackgroundColor,\n                              textColor: local!brandingMap.TagTextColor\n                            )\n                          },\n                          size: local!brandingMap.TagSize,\n                          marginBelow: \"STANDARD\"\n                        ),\n                        #\"SYSTEM_SYSRULES_cardLayout\"(\n                          contents: {\n                            #\"SYSTEM_SYSRULES_headingField\"(\n                              text: left(\n                                trim(\n                                  fv!item[recordType!CMGT_WFL_CFG_EmailTemplate.subject]\n                                ),\n                                50\n                              ),\n                              size: local!brandingMap.H3Size,\n                              fontWeight: \"SEMI_BOLD\",\n                              marginBelow: \"LESS\"\n                            ),\n                            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                              value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: left(\n                                  trim(\n                                    rule!CMGT_UTIL_StripHtmlTags(\n                                      value: fv!item[recordType!CMGT_WFL_CFG_EmailTemplate.body],\n                                      isFormatted: false\n                                    )\n                                  ),\n                                  300\n                                ),\n                                color: local!brandingMap.SecondaryTextColor,\n                                size: \"SMALL\"\n                              )\n                            )\n                          },\n                          height: \"AUTO\",\n                          style: \"TRANSPARENT\",\n                          shape: local!brandingMap.CardShape,\n                          padding: \"LESS\",\n                          marginAbove: \"STANDARD\",\n                          marginBelow: \"STANDARD\",\n                          showBorder: local!brandingMap.CardShowBorder,\n                          borderColor: local!brandingMap.CardBorderColor,\n                          showShadow: false\n                        )\n                      },\n                      height: \"AUTO\",\n                      style: local!brandingMap.CardBackgroundColor,\n                      shape: local!brandingMap.CardShape,\n                      padding: \"LESS\",\n                      marginBelow: \"STANDARD\",\n                      showBorder: local!brandingMap.CardShowBorder,\n                      borderColor: local!brandingMap.CardBorderColor,\n                      showShadow: false,\n                      decorativeBarPosition: \"TOP\",\n                      decorativeBarColor: index(\n                        local!cardDecorativeBorderColor,\n                        fv!index,\n                        null\n                      )\n                    )\n                  ),\n                  #\"SYSTEM_SYSRULES_cardLayout\"(\n                    contents: {\n                      #\"SYSTEM_SYSRULES_richTextDisplayField\"(marginBelow: \"EVEN_MORE\"),\n                      rule!CMGT_UTIL_DisplayEmptyState(\n                        brandingMap: local!brandingMap,\n                        primaryText: #\"urn:appian:translation-string:v1:9935b290-d68d-48b0-a152-206600baca12\",\n                        docImage: cons!CMGT_DOC_IMAGES_NO_RESULTS_ICON,\n                        imageSize: \"SMALL\",\n                        primaryTextSize: \"MEDIUM\"\n                      ),\n                      #\"SYSTEM_SYSRULES_richTextDisplayField\"(marginBelow: \"EVEN_MORE\")\n                    },\n                    height: \"EXTRA_TALL\",\n                    padding: \"EVEN_MORE\",\n                    marginAbove: \"EVEN_MORE\",\n                    showBorder: false\n                  )\n                )\n              },\n              cardWidth: \"MEDIUM\",\n              fillContainer: true,\n              cardHeight: \"AUTO\"\n            ),\n            if(\n              local!emailTemplates.totalCount > cons!CMGT_INT_BATCH_SIZE_LARGE,\n              rule!CMGT_UTIL_CustomPaging(\n                pagingInfo: local!pagingInfo,\n                totalCount: local!emailTemplates.totalCount,\n                brandingMap: local!brandingMap\n              ),\n              {}\n            )\n          },\n          style: \"TRANSPARENT\",\n          padding: \"NONE\",\n          marginBelow: \"MORE\",\n          showBorder: false\n        )\n      ),\n      backgroundColor: local!brandingMap.DefaultBackgroundColor\n    )\n  )\n)"
    },
    "_a-0000eafa-b342-8000-9c45-011c48011c48_1299921": {
      "name": "CMGT_UTIL_IsMobileScreenSize",
      "type": "Expression Rule",
      "sail_code": "=#\"SYSTEM_SYSRULES_isPageWidth\"({\"PHONE\", \"TABLET_PORTRAIT\"})"
    },
    "_a-0000e9d3-70bf-8000-9bbd-011c48011c48_180481": {
      "name": "CMGT_UTIL_RejectBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n  runtimetypeof(a!flatten(ri!array)),\n  reject(a!isNullOrEmpty(_), a!flatten(ri!array))\n)"
    },
    "_a-0000ea1d-36f5-8000-9bef-011c48011c48_538451": {
      "name": "CMGT_UTIL_GenerateUuid_NonPlugin",
      "type": "Expression Rule",
      "sail_code": "/*Reference:\nhttps://community.appian.com/w/the-appian-playbook/846/generating-uuids-guids*/\nfn!lower(\n  concat(\n    {\n      dec2hex(tointeger(rand(4) * 256), 2),\n      /*8 hex digits*/\n      \"-\",\n      dec2hex(tointeger(rand(2) * 256), 2),\n      /*4 hex digits*/\n      \"-4\",\n      /*version 4 = completely random*/\n      dec2hex(rand(3) * 256, 1),\n      /*3 hex digits*/\n      \"-\",\n      bin2hex(\"10\" & dec2bin(rand(1) * 4, 2), 1),\n      /*1 hex digit = Variant: 1st 2 bits=10=[ISO/IEC] + 2 rand bits*/\n      dec2hex(rand(3) * 256, 1),\n      /*3 hex digits*/\n      \"-\",\n      dec2hex(tointeger(rand(6) * 256), 2),\n      /*12 hex digits*/\n      \n    }\n  )\n)"
    },
    "_a-0000ebaa-19ba-8000-9ca6-011c48011c48_2093172": {
      "name": "CMGT_UTIL_returnLastIndexOfArray",
      "type": "Expression Rule",
      "sail_code": "index(\n  ri!array,\n  count(ri!array),\n  rule!CMGT_UTIL_returnSingleTypeObject(typeOf: ri!array)\n)"
    },
    "_a-0000ecac-72b0-8000-9cf2-011c48011c48_3153660": {
      "name": "CMGT_UTIL_CastJsonToMap",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(a!map()),\n  #\"SYSTEM_SYSRULES_fromJson_v1\"(\n    jsonText: a!defaultValue(\n      value: ri!jsonText,\n      default: \"{}\"\n    )\n  )\n)"
    },
    "_a-0000eec7-c803-8000-9dc7-011c48011c48_4907625": {
      "name": "CMGT_SMS_UTIL_TabLayout",
      "type": "Interface",
      "sail_code": "{\n  a!localVariables(\n    local!isMobileScreenSize: a!defaultValue(ri!isMobileScreenSize, false),\n    {\n      if(\n        local!isMobileScreenSize,\n        #\"SYSTEM_SYSRULES_columnsLayout\"(\n          columns: {\n            #\"SYSTEM_SYSRULES_columnLayout\"(\n              contents: {\n                #\"SYSTEM_SYSRULES_dropdownField_v1\"(\n                  label: #\"urn:appian:translation-string:v1:2a5f4093-d5ab-4f98-9e91-6c882d53eddd\",\n                  labelPosition: \"COLLAPSED\",\n                  choiceLabels: #\"SYSTEM_SYSRULES_forEach\"(\n                    items: ri!tabs,\n                    expression: concat(\n                      fv!item.name,\n                      if(\n                        fv!item.showTabCount,\n                        concat(\" (\", fv!item.tabCount, \")\"),\n                        \"\"\n                      )\n                    )\n                  ),\n                  choiceValues: #\"SYSTEM_SYSRULES_forEach\"(items: ri!tabs, expression: fv!index),\n                  value: ri!activeTab,\n                  saveInto: {\n                    ri!activeTab,\n                    a!save(\n                      ri!metrics,\n                      index(\n                        ri!tabs,\n                        ri!activeTab,\n                        \"metricEvalRule\",\n                        null\n                      )\n                    )\n                  }\n                )\n              }\n            )\n          },\n          showWhen: a!defaultValue(ri!showWhen, true),\n          marginBelow: \"NONE\"\n        ),\n        #\"SYSTEM_SYSRULES_columnsLayout\"(\n          columns: {\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: ri!tabs,\n              expression: #\"SYSTEM_SYSRULES_columnLayout\"(\n                contents: {\n                  #\"SYSTEM_SYSRULES_cardLayout\"(\n                    contents: {\n                      #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                        items: {\n                          #\"SYSTEM_SYSRULES_sideBySideItem\"(width: \"AUTO\"),\n                          /* Display the icon */\n                          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                            item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                              label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Tab\" & fv!index),\n                              labelPosition: \"COLLAPSED\",\n                              value: {\n                                #\"SYSTEM_SYSRULES_richTextIcon\"(\n                                  icon: fv!item.icon,\n                                  color: ri!brandingMap.StandardTextColor,\n                                  size: \"STANDARD\"\n                                )\n                              }\n                            ),\n                            width: \"MINIMIZE\",\n                            showWhen: a!isNotNullOrEmpty(fv!item.icon)\n                          ),\n                          /* Display the name */\n                          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                            item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                              label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Tab\" & fv!index),\n                              labelPosition: \"COLLAPSED\",\n                              value: {\n                                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                  text: fv!item.name,\n                                  linkStyle: \"STANDALONE\",\n                                  color: ri!brandingMap.StandardTextColor,\n                                  size: a!defaultValue(ri!size, \"STANDARD\"),\n                                  style: if(fv!index = ri!activeTab, \"STRONG\", \"PLAIN\")\n                                )\n                              },\n                              align: \"CENTER\"\n                            ),\n                            width: \"MINIMIZE\"\n                          ),\n                          /*Display tab count*/\n                          if(\n                            fv!item.showTabCount,\n                            #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                              item: #\"SYSTEM_SYSRULES_tagField\"(\n                                labelPosition: \"COLLAPSED\",\n                                tags: #\"SYSTEM_SYSRULES_tagItem\"(\n                                  text: fv!item.tabCount,\n                                  backgroundColor: ri!brandingMap.TagBackgroundColor,\n                                  textColor: ri!brandingMap.TagTextColor\n                                ),\n                                size: \"SMALL\"\n                              ),\n                              width: \"MINIMIZE\"\n                            ),\n                            {}\n                          ),\n                          #\"SYSTEM_SYSRULES_sideBySideItem\"(width: \"AUTO\")\n                        },\n                        marginBelow: \"NONE\"\n                      )\n                    },\n                    link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                      label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Card Link\" & fv!index),\n                      value: fv!index,\n                      saveInto: {\n                        ri!activeTab,\n                        a!save(ri!metrics, fv!item.metricEvalRule)\n                      }\n                    ),\n                    style: if(\n                      fv!index = ri!activeTab,\n                      a!defaultValue(\n                        ri!activeTabBackgroundColor,\n                        \"TRANSPARENT\",\n\n                      ),\n                      \"TRANSPARENT\",\n\n                    ),\n                    padding: \"LESS\",\n                    height: \"AUTO\",\n                    marginBelow: \"NONE\",\n                    showBorder: false,\n                    decorativeBarPosition: \"BOTTOM\",\n                    decorativeBarColor: if(\n                      fv!index = ri!activeTab,\n                      \"ACCENT\",\n                      ri!brandingMap.ConfigBackgroundColor\n                    ),\n                    accessibilityText: if(\n                      fv!index = ri!activeTab,\n                      #\"urn:appian:translation-string:v1:506805fb-4c0f-414b-90f2-023f86caf367\",\n                      \"\"\n                    )\n                  )\n                },\n                width: \"NARROW\",\n                showWhen: fv!item.showTab\n              )\n            )\n          },\n          alignVertical: \"BOTTOM\",\n          marginBelow: \"NONE\",\n          marginAbove: \"LESS\",\n          spacing: \"NONE\",\n          showDividers: false,\n          showWhen: a!defaultValue(ri!showWhen, true)\n        )\n      ),\n      #\"SYSTEM_SYSRULES_horizontalLine\"(marginAbove: \"NONE\")\n    }\n  )\n}"
    },
    "_a-0000ecf6-527e-8000-9bbc-011c48011c48_61077": {
      "name": "CMGT_Task_ConstructTaskInstanceUuidMapping",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!originalTasks: a!defaultValue(\n    ri!originalTasks,\n    if(\n      rule!CMGT_UTIL_IsBlank(ri!activeTasks),\n      null,\n      rule!CMGT_QR_GetTask(\n        taskId: ri!activeTasks[recordType!CMGT_Task.taskId],\n        includeInactive: true,\n        executeWhen: rule!CMGT_UTIL_IsNotBlank(\n          a!flatten(\n            ri!activeTasks[recordType!CMGT_Task.taskId]\n          )\n        ),\n        taskIntentionCodes: {\n          cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_RUNTIME_CONFIG_TRIGGER,\n          cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_WORKFLOW\n        },\n        includeMilestone: true(),\n        fields: {\n          recordType!CMGT_Task.beforeTaskInstanceBranches,\n          recordType!CMGT_Task.conditionSet,\n          recordType!CMGT_Task.taskResponseOptions,\n          recordType!CMGT_Task.conditionSet,\n          recordType!CMGT_Task.conditionSet,\n          #\"urn:appian:record-relationship:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/5189c3ac-98e2-4a82-8598-2e9561baec9d/64b891e4-359b-48b4-9f47-2a3af4695c34/52813580-ecf3-49c7-be71-568ab452d54a\",\n          recordType!CMGT_Task.automationTaskAction\n        }\n      )\n    )\n  ),\n  local!originalAutomationWorkflowTasks: if(\n    rule!CMGT_UTIL_IsBlank(ri!activeTasks),\n    null,\n    rule!CMGT_QR_GetTask(\n      additionalFilters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_Task.automationParentWorkflowTaskInstanceUuid,\n          operator: \"in\",\n          value: ri!activeTasks[recordType!CMGT_Task.taskInstanceUuid]\n        )\n      },\n      fields: {\n        recordType!CMGT_Task.conditionSet,\n        recordType!CMGT_Task.conditionSet,\n        recordType!CMGT_Task.conditionSet,\n        #\"urn:appian:record-relationship:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/5189c3ac-98e2-4a82-8598-2e9561baec9d/64b891e4-359b-48b4-9f47-2a3af4695c34/52813580-ecf3-49c7-be71-568ab452d54a\",\n        recordType!CMGT_Task.automationTaskAction\n      },\n      taskIntentionCodes: cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_RUNTIME_CONFIG_TRIGGER,\n      executeWhen: rule!CMGT_UTIL_IsNotBlank(\n        a!flatten(\n          ri!activeTasks[recordType!CMGT_Task.taskId]\n        )\n      )\n    )\n  ),\n  local!taskInstanceUuidMapping: a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!activeTasks,\n      expression: a!localVariables(\n        /*The current value of this record in the database*/\n        local!orgItem: rule!CMGT_UTIL_Filter(\n          records: local!originalTasks,\n          field: recordType!CMGT_Task.taskId,\n          value: fv!item[recordType!CMGT_Task.taskId]\n        ),\n        local!taskInstanceUuid: rule!CMGT_UTIL_GenerateUuid_NonPlugin(),\n        local!isNewOccurrenceNeeded: /* If a config task gets pass in, then we always need to create a new occurence  */\n        or(\n          local!orgItem[recordType!CMGT_Task.taskIntentionCode] = cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_RUNTIME_CONFIG_TRIGGER,\n          rule!CMGT_CheckIfTaskOccurrenceNeeded(\n            originalStatus: local!orgItem[recordType!CMGT_Task.statusId],\n            newStatus: fv!item[recordType!CMGT_Task.statusId]\n          )\n        ),\n        a!flatten(\n          a!map(\n            isNewOccurrenceNeeded: local!isNewOccurrenceNeeded,\n            taskId: fv!item[recordType!CMGT_Task.taskId],\n            oldUuid: fv!item[recordType!CMGT_Task.taskInstanceUuid],\n            newUuid: if(\n              local!isNewOccurrenceNeeded,\n              local!taskInstanceUuid,\n              fv!item[recordType!CMGT_Task.taskInstanceUuid]\n            ),\n            taskResponseOptionsUuidMapping: #\"SYSTEM_SYSRULES_forEach\"(\n              items: fv!item[recordType!CMGT_Task.taskResponseOptions],\n              expression: a!map(\n                taskResponseOptionUUID: fv!item[recordType!CMGT_TaskResponseOption.taskResponseOptionUuid],\n                newUuid: if(\n                  local!isNewOccurrenceNeeded,\n                  rule!CMGT_UTIL_GenerateUuid_NonPlugin(),\n                  fv!item[recordType!CMGT_TaskResponseOption.taskResponseOptionUuid]\n                )\n              )\n            ),\n            parentConditionSetMapping: #\"SYSTEM_SYSRULES_forEach\"(\n              items: fv!item[recordType!CMGT_Task.conditionSet],\n              expression: a!localVariables(\n                local!item: fv!item,\n                a!map(\n                  conditionSetUuid: local!item[recordType!CMGT_ConditionSet.conditionSetUuid],\n                  newUuid: if(\n                    local!isNewOccurrenceNeeded,\n                    rule!CMGT_UTIL_GenerateUuid_NonPlugin(),\n                    local!item[recordType!CMGT_ConditionSet.conditionSetUuid]\n                  )\n                )\n              )\n            ),\n            childConditionSetMapping: #\"SYSTEM_SYSRULES_forEach\"(\n              items: fv!item[recordType!CMGT_Task.conditionSet],\n              expression: a!localVariables(\n                local!item: fv!item,\n                a!map(\n                  conditionSetUuid: local!item[recordType!CMGT_ConditionSet.conditionSetUuid],\n                  newUuid: if(\n                    local!isNewOccurrenceNeeded,\n                    rule!CMGT_UTIL_GenerateUuid_NonPlugin(),\n                    local!item[recordType!CMGT_ConditionSet.conditionSetUuid]\n                  )\n                )\n              )\n            ),\n            taskActionUuidMapping:\n              if(\n              rule!CMGT_UTIL_IsNotBlank(\n                fv!item[recordType!CMGT_Task.automationTaskAction]\n              ),\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: fv!item[recordType!CMGT_Task.automationTaskAction],\n                expression: a!map(\n                  taskActionUuid: fv!item[recordType!CMGT_TaskActions.taskActionUuid],\n                  newUuid:rule!CMGT_UTIL_GenerateUuid_NonPlugin(),\n                ),\n              ),\n              null\n            ),\n            /*Generates relevant automation rules for the new instance of the task*/\n            automationRuleTasksSetMapping: rule!CMGT_Task_ConstructTaskInstanceUuidMapping(\n              activeTasks: rule!CMGT_UTIL_Filter(\n                records: local!originalAutomationWorkflowTasks,\n                field: recordType!CMGT_Task.automationParentWorkflowTaskInstanceUuid,\n                value: fv!item[recordType!CMGT_Task.taskInstanceUuid]\n              )\n            )\n          )\n        )\n      )\n    )\n  ),\n  local!taskInstanceUuidMapping\n)"
    },
    "_a-0000eca3-381d-8000-9cf0-011c48011c48_3112529": {
      "name": "CMGT_generateConditionSetUuidMap",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!CMGT_UTIL_IsNotBlank(ri!cfgConditionSet),\n  rule!CMGT_UTIL_RejectBlank(\n    a!flatten(\n      {\n        a!map(\n          conditionSetUuid: ri!cfgConditionSet[recordType!CMGT_CFG_ConditionSet.conditionSetUuid],\n          parentConditionSetUuid: ri!cfgConditionSet[recordType!CMGT_CFG_ConditionSet.parentConditionSetUuid],\n          newUuid: rule!CMGT_UTIL_GenerateUuid_NonPlugin()\n        ),\n        if(\n          rule!CMGT_UTIL_IsNotBlank(\n            ri!cfgConditionSet[recordType!CMGT_CFG_ConditionSet.childConditionSet]\n          ),\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!cfgConditionSet[recordType!CMGT_CFG_ConditionSet.childConditionSet],\n            expression: rule!CMGT_generateConditionSetUuidMap(cfgConditionSet: fv!item)\n          ),\n          null\n        )\n      }\n    )\n  ),\n  null\n)"
    },
    "_a-0000ed20-1ca4-8000-9d2b-011c48011c48_3521241": {
      "name": "CMGT_GetAutomationRulesForCase",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_WFL_QR_GetCaseTypeWorkflowTask(\n  taskIntentionCodes: {\n    cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_TRIGGER\n  },\n  fields: {\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskIntentionCode/*needed so the automation rules do not appear in the workflow grid/visualization on the case*/,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction,\n    #\"urn:appian:record-relationship:v1:d6ebee27-6e86-47e3-a9b8-71fdd0348854/b80565b5-ff65-4f64-8007-f2382adffd3f/de7a72ca-c484-48d9-974a-f834e5d302bd/69201ed0-4d96-49e9-805a-4bcf4d59ab9d\",\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTrigger,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.triggerContext,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeUuid/*to show the assignment rule selected*/\n    \n  },\n  additionalLogicalExpression: {\n    #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n      operator: \"AND\",\n      filters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive,\n          operator: \"=\",\n          value: true\n        ),\n        /*Should not pull in any task specific automation rules        */\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationParentCaseTypeWorkflowTaskUuid,\n          operator:\"is null\"\n        )\n      },\n      logicalExpressions: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n        operator: \"AND\",\n        logicalExpressions: {\n          #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"OR\",\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeUuid,\n                operator: \"is null\"\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeUuid,\n                operator: \"=\",\n                value: ri!case[recordType!CMGT_Case.caseTypeUuid],\n                applyWhen: a!isNotNullOrEmpty(\n                  ri!case[recordType!CMGT_Case.caseTypeUuid]\n                )\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeUuid,\n                operator: \"=\",\n                value: ri!case[recordType!CMGT_Case.caseType.parentUuid],\n                applyWhen: a!isNotNullOrEmpty(\n                  ri!case[recordType!CMGT_Case.caseType.parentUuid]\n                )\n              )\n            }\n          ),\n          #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"OR\",\n            logicalExpressions: {\n              /*filters on rules where the trigger does not need any context*/\n              #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"AND\",\n                filters: {\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTrigger.triggerId,\n                    operator: \"in\",\n                    value: ri!triggerIds,\n                    applyWhen: rule!CMGT_UTIL_IsNotBlank(\n                      wherecontains(\n                        ri!triggerIds,\n                        {\n                          cons!CMGT_REFID_TRIGGER_CASE_CREATED,\n                          cons!CMGT_REFID_TRIGGER_CASE_UPDATED\n                        }\n                      )\n                    )\n                  ),\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.triggerContext,\n                    operator: \"is null\",\n                    applyWhen: rule!CMGT_UTIL_IsNotBlank(\n                      wherecontains(\n                        ri!triggerIds,\n                        {\n                          cons!CMGT_REFID_TRIGGER_CASE_CREATED,\n                          cons!CMGT_REFID_TRIGGER_CASE_UPDATED\n                        }\n                      )\n                    )\n                  )\n                }\n              ),\n              /*filters on rules where the context is needed*/\n              #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"AND\",\n                filters: {\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTrigger.triggerId,\n                    operator: \"in\",\n                    value: ri!triggerIds,\n                    applyWhen: and(\n                      rule!CMGT_UTIL_IsNotBlank(ri!triggerContext),\n                      \n                    )\n                  ),\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.triggerContext,\n                    operator: \"in\",\n                    value: ri!triggerContext,\n                    applyWhen: rule!CMGT_UTIL_IsNotBlank(ri!triggerContext)\n                  )\n                }\n              )\n            },\n            filters: {}\n          )\n        }\n      )\n    )\n  },\n  sort: {\n    #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeUuid,\n      ascending: true\n    ),\n    #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder,\n      ascending: true\n    )\n  }\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_24593": {
      "name": "CMGT_Role_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!roles,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_Role.modifiedOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_Role.modifiedBy,\n        value: ri!initiator\n      )\n    },\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_Role.isActive,\n        value: true\n      ),\n      a!map(\n        field: recordType!CMGT_Role.createdOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_Role.createdBy,\n        value: ri!initiator\n      )\n    }\n  )\n)"
    },
    "_a-0000eb32-20f6-8000-9c60-011c48011c48_1481943": {
      "name": "CMGT_QR_GetEntityCategory",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_CFG_EntityCategory,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_EntityCategory.entityCategoryId,\n      operator: \"in\",\n      value: ri!entityCategoryId\n    )\n   \n  },\n  fields: ri!fields,\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000edbd-1f9f-8000-9d6d-011c48011c48_4081813": {
      "name": "CMGT_setPrefixDefault",
      "type": "Expression Rule",
      "sail_code": "left(\n  initials(\n    proper(\n      ri!caseType[recordType!CMGT_CFG_CaseType.name]\n    )\n  ),\n  3\n)"
    },
    "_a-0000eaba-1e20-8000-9c2a-011c48011c48_1044277": {
      "name": "CMGT_Comment_SetEvents",
      "type": "Expression Rule",
      "sail_code": "a!match(\n  value: ri!context,\n  whenTrue: rule!CMGT_UTIL_IsBlank(ri!comments),\n  then: {},\n  equals: \"CASE\",\n  then: a!flatten(\n    {\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!comments,\n        expression: rule!CMGT_CaseEventHistory_Constructor(\n          caseId: fv!item[recordType!CMGT_Comment.caseId],\n          initiator: ri!initiator,\n          eventTypeId:           \n          /*comment event history*/\n          if(\n            fv!item[recordType!CMGT_Comment.isActive] = false,\n            cons!CMGT_REFID_EVENT_TYPE_CASE_DELETE_COMMENT,\n            if(\n              a!isNotNullOrEmpty(\n                fv!item[recordType!CMGT_Comment.commentId]\n              ),\n              cons!CMGT_REFID_EVENT_TYPE_CASE_UPDATE_COMMENT,\n              if(\n                a!isNotNullOrEmpty(\n                  fv!item[recordType!CMGT_Comment.parentCommentId]\n                ),\n                cons!CMGT_REFID_EVENT_TYPE_CASE_REPLY_TO_COMMENT,\n                cons!CMGT_REFID_EVENT_TYPE_CASE_ADD_COMMENT\n              )\n            )\n          ),\n          details: a!localVariables(\n            local!detailsMap: a!map(\n              commentText: fv!item[recordType!CMGT_Comment.commentText],\n              taggedUsers: if(\n                rule!CMGT_UTIL_IsBlank(\n                  ri!comments[recordType!CMGT_Comment.userTags]\n                ),\n                {},\n                rule!CMGT_UTIL_RejectBlank(\n                  #\"SYSTEM_SYSRULES_forEach\"(\n                    items: a!flatten(\n                      ri!comments[recordType!CMGT_Comment.userTags]\n                    ),\n                    expression: if(\n                      fv!item[recordType!CMGT_CommentUserTag.isActive],\n                      tostring(\n                        fv!item[recordType!CMGT_CommentUserTag.username]\n                      ),\n                      null\n                    )\n                  )\n                )\n              ),\n              documents: if(\n                rule!CMGT_UTIL_IsBlank(\n                  ri!comments[recordType!CMGT_Comment.commentDocumentMap]\n                ),\n                null,\n                rule!CMGT_UTIL_RejectBlank(\n                  #\"SYSTEM_SYSRULES_forEach\"(\n                    items: a!flatten(\n                      ri!comments[recordType!CMGT_Comment.commentDocumentMap]\n                    ),\n                    expression: if(\n                      fv!item[recordType!CMGT_CommentDocumentMap.isActive],\n                      a!localVariables(\n                        local!originalDocument: rule!CMGT_QR_GetDocument(\n                          documentId: fv!item[recordType!CMGT_CommentDocumentMap.documentId],\n                          returnType: \"SINGLE_OBJECT\"\n                        ),\n                        concat(\n                          document(\n                            documentId: local!originalDocument[recordType!CMGT_Document.appianDocId],\n                            property: \"name\"\n                          ),\n                          \".\",\n                          lower(\n                            document(\n                              documentId: local!originalDocument[recordType!CMGT_Document.appianDocId],\n                              property: \"extension\"\n                            )\n                          )\n                        )\n                      ),\n                      null\n                    )\n                  )\n                )\n              )\n            ),\n            local!detailsMap\n          )\n        )\n      )\n    }\n  ),\n  equals: \"TASK\",\n  then: a!flatten(\n    {\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!comments,\n        expression: rule!CMGT_TaskEventHistory_Constructor(\n          taskId: fv!item[recordType!CMGT_Comment.taskId],\n          initiator: ri!initiator,\n          eventTypeId: if(\n            /*Defaulting to true here since this is a metadata field with a comment that has not been written as it happened within a task*/\n            a!defaultValue(fv!item[recordType!CMGT_Comment.isActive], true) = false,\n            cons!CMGT_REFID_EVENT_TYPE_TASK_DELETE_COMMENT,\n            if(\n              a!isNotNullOrEmpty(\n                fv!item[recordType!CMGT_Comment.commentId]\n              ),\n              cons!CMGT_REFID_EVENT_TYPE_TASK_UPDATE_COMMENT,\n              if(\n                a!isNotNullOrEmpty(\n                  fv!item[recordType!CMGT_Comment.parentCommentId]\n                ),\n                cons!CMGT_REFID_EVENT_TYPE_TASK_REPLY_TO_COMMENT,\n                cons!CMGT_REFID_EVENT_TYPE_TASK_ADD_COMMENT\n              )\n            )\n          ),\n          details: a!localVariables(\n            local!detailsMap: a!map(\n              commentText: fv!item[recordType!CMGT_Comment.commentText],\n              taggedUsers: if(\n                rule!CMGT_UTIL_IsBlank(\n                  ri!comments[recordType!CMGT_Comment.userTags]\n                ),\n                {},\n                rule!CMGT_UTIL_RejectBlank(\n                  #\"SYSTEM_SYSRULES_forEach\"(\n                    items: a!flatten(\n                      ri!comments[recordType!CMGT_Comment.userTags]\n                    ),\n                    expression: if(\n                      fv!item[recordType!CMGT_CommentUserTag.isActive],\n                      tostring(\n                        fv!item[recordType!CMGT_CommentUserTag.username]\n                      ),\n                      null\n                    )\n                  )\n                )\n              ),\n              documents: if(\n                rule!CMGT_UTIL_IsBlank(\n                  ri!comments[recordType!CMGT_Comment.commentDocumentMap]\n                ),\n                null,\n                rule!CMGT_UTIL_RejectBlank(\n                  #\"SYSTEM_SYSRULES_forEach\"(\n                    items: a!flatten(\n                      ri!comments[recordType!CMGT_Comment.commentDocumentMap]\n                    ),\n                    expression: if(\n                      fv!item[recordType!CMGT_CommentDocumentMap.isActive],\n                      a!localVariables(\n                        local!originalDocument: rule!CMGT_QR_GetDocument(\n                          documentId: fv!item[recordType!CMGT_CommentDocumentMap.documentId],\n                          returnType: \"SINGLE_OBJECT\"\n                        ),\n                        concat(\n                          document(\n                            documentId: local!originalDocument[recordType!CMGT_Document.appianDocId],\n                            property: \"name\"\n                          ),\n                          \".\",\n                          lower(\n                            document(\n                              documentId: local!originalDocument[recordType!CMGT_Document.appianDocId],\n                              property: \"extension\"\n                            )\n                          )\n                        )\n                      ),\n                      null\n                    )\n                  )\n                )\n              )\n            ),\n            local!detailsMap\n          )\n        )\n      )\n    }\n  ),\n  default: {}\n)"
    },
    "_a-0000eccd-140e-8000-9d02-011c48011c48_3330621": {
      "name": "CMGT_MTR_UserCreatesAutomationRule",
      "type": "Expression Rule",
      "sail_code": "now()"
    },
    "_a-0000ea4b-5b86-8000-9bfd-011c48011c48_735143": {
      "name": "CMGT_WFL_WorkflowConfiguration_Instruction",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!workflowConfigurationSteps: {\n    a!map(\n      name: #\"urn:appian:translation-string:v1:3733169a-f904-499e-8b06-51e97aae2ddf\",\n      description: #\"urn:appian:translation-string:v1:061011fd-c3f0-469c-8bd7-e89489fb003e\"\n    ),\n    a!map(\n      name: #\"urn:appian:translation-string:v1:dc376890-d114-4288-b37e-41dd0b858257\",\n      description: #\"urn:appian:translation-string:v1:f51edd14-0606-495b-bbff-e9aed296744c\"\n    ),\n    a!map(\n      name: #\"urn:appian:translation-string:v1:7076740c-e0f1-486f-b4c7-10fcc1f8d503\",\n      description: #\"urn:appian:translation-string:v1:0cfdf26b-adc4-43d8-b335-dbad844a0372\"\n    )\n  },\n  local!standardizeWidth: a!defaultValue(value: ri!standardizeWidth, default: false),\n  #\"SYSTEM_SYSRULES_columnsLayout\"(\n    columns: {\n      #\"SYSTEM_SYSRULES_columnLayout\"(\n        showWhen: local!standardizeWidth\n      ),\n      #\"SYSTEM_SYSRULES_columnLayout\"(\n        contents: {\n          rule!CMGT_WFL_WorkflowConfigurationInstruction_NavigationLink(\n            showInstruction: ri!showInstruction,\n            brandingMap: ri!brandingMap,\n            align: \"LEFT\",\n            showWhen: a!defaultValue(value: ri!showNavigationLink, default: false)\n          ),\n          #\"SYSTEM_SYSRULES_cardLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_columnsLayout\"(\n              columns: {\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  items: local!workflowConfigurationSteps,\n                  expression: #\"SYSTEM_SYSRULES_columnLayout\"(\n                    contents: {\n                      #\"SYSTEM_SYSRULES_cardLayout\"(\n                        contents: {\n                          #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                            items: {\n                              #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                                item: #\"SYSTEM_SYSRULES_stampField\"(\n                                  labelPosition: \"COLLAPSED\",\n                                  text: fv!index,\n                                  backgroundColor: if(\n                                    fv!index = ri!highlightIndex,\n                                    ri!brandingMap.WhiteColor,\n                                    ri!brandingMap.StandardStampBackgroundColor\n                                  ),\n                                  contentColor: ri!brandingMap.StandardStampContentColor,\n                                  size: \"TINY\"\n                                ),\n                                width: \"MINIMIZE\"\n                              ),\n                              #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                                item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                  label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(\n                                    testingLabel: \"Workflow Configuration Steps\" & fv!index,\n                                    shipmentLabel: \"\"\n                                  ),\n                                  labelPosition: \"COLLAPSED\",\n                                  value: {\n                                    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                      text: fv!item.name,\n                                      color: ri!brandingMap.StandardTextColor,\n                                      style: \"STRONG\"\n                                    ),\n                                    char(10),\n                                    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                      text: fv!item.description,\n                                      color: ri!brandingMap.SecondaryTextColor\n                                    )\n                                  }\n                                )\n                              )\n                            },\n                            spacing: \"SPARSE\",\n                            marginBelow: \"NONE\"\n                          )\n                        },\n                        style: if(\n                          fv!index = ri!highlightIndex,\n                          ri!brandingMap.InfoBackgroundColor,\n                          ri!brandingMap.WhiteColor\n                        ),\n                        shape: ri!brandingMap.CardShape,\n                        padding: \"STANDARD\",\n                        showBorder: false\n                      )\n                    }\n                  )\n                )\n              },\n              spacing: \"STANDARD\"\n            )\n          },\n          style: a!defaultValue(ri!cardStyle, ri!brandingMap.WhiteColor),\n          shape: ri!brandingMap.CardShape,\n          padding: \"LESS\",\n          marginBelow: \"STANDARD\",\n          showBorder: false\n        )\n        },\n        width: if(local!standardizeWidth, \"WIDE_PLUS\", \"AUTO\")\n      ),\n      #\"SYSTEM_SYSRULES_columnLayout\"(\n        showWhen: local!standardizeWidth\n      )\n    },\n    showWhen: ri!showInstruction,\n    marginAbove: \"MORE\"\n  )\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_25890": {
      "name": "CMGT_UTIL_IsBlank",
      "type": "Expression Rule",
      "sail_code": "length(a!flatten(ri!value)) = 0"
    },
    "_a-0000e9dc-ab93-8000-9bc2-011c48011c48_184820": {
      "name": "CMGT_SitePage_Entities",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!brandingMap: rule!CMGT_UTIL_LoadBrandingMap(),\n  local!triggerRefresh: a!refreshVariable(\n    value: now(),\n    refreshAfter: \"RECORD_ACTION\"\n  ),\n  local!entityCategoryTabs: #\"SYSTEM_SYSRULES_forEach\"(\n    items: rule!CMGT_QR_GetEntityCategory(triggerRefresh: null),\n    expression: a!map(\n      name: fv!item[recordType!CMGT_CFG_EntityCategory.labelPlural],\n      entityCategoryId: fv!item[recordType!CMGT_CFG_EntityCategory.entityCategoryId],\n      label: fv!item[recordType!CMGT_CFG_EntityCategory.label]\n    )\n  ),\n  local!activeTab: 1,\n  local!suggestedEntities: rule!CMGT_QR_GetEntity(\n    fields: {\n      recordType!CMGT_Entity.entityCategory\n    },\n    additionalFilters: #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Entity.modifiedBy,\n      operator: \"=\",\n      value: loggedInUser()\n    ),\n    triggerRefresh: local!triggerRefresh,\n    returnType: \"OBJECT_ARRAY\",\n    pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n      startIndex: 1,\n      batchSize: 5,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_Entity.modifiedOn,\n        ascending: false\n      )\n    )\n  ),\n  #\"SYSTEM_SYSRULES_headerContentLayout\"(\n    backgroundColor: local!brandingMap.DefaultBackgroundColor,\n    contents: {\n      rule!CMGT_UTIL_HeaderField(\n        label: #\"urn:appian:translation-string:v1:6e41c2c8-6bbf-4510-ad97-ae06858eff45\",\n        labelSize: \"MEDIUM_PLUS\",\n        labelColor: local!brandingMap.StandardTextColor,\n        brandingMap: local!brandingMap,\n        marginAbove: \"NONE\",\n        divider: \"NONE\",\n        rightSideContents: {\n          #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n            actions: {\n              #\"SYSTEM_SYSRULES_recordActionItem\"(\n                action: #\"urn:appian:record-action:v1:ad3b988c-faba-4c39-9bda-be1ad52b4019/2fed3bba-1935-43a0-830a-55428610423c\"\n              )\n            },\n            style: \"TOOLBAR_PRIMARY\",\n            align: \"END\"\n          )\n        }\n      ),\n      rule!CMGT_UTIL_HeaderField(\n        label: #\"urn:appian:translation-string:v1:e5d1b47e-d320-4757-af9f-958c41e9d681\",\n        brandingMap: local!brandingMap,\n        marginAbove: \"NONE\",\n        divider: \"NONE\",\n        marginBelow: \"NONE\",\n        showWhen: a!isNotNullOrEmpty(local!suggestedEntities)\n      ),\n      rule!CMGT_UTIL_CardGroupHandler(\n        maxPerRow: if(\n          #\"SYSTEM_SYSRULES_isPageWidth\"({ \"DESKTOP_WIDE\", \"DESKTOP\" }),\n          5,\n          3\n        ),\n        cardLayouts: {\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!suggestedEntities,\n            expression: rule!CMGT_Entity_Sub_SuggestedEntityDetailsSmall(\n              entity: fv!item,\n              brandingMap: local!brandingMap\n            )\n          )\n        }\n      ),\n      rule!CMGT_UTIL_HeaderField(\n        label: #\"urn:appian:translation-string:v1:a15973ec-16cf-4989-93e7-1a6b929828b8\",\n        brandingMap: local!brandingMap,\n        marginAbove: \"NONE\",\n        divider: \"NONE\",\n        marginBelow: \"NONE\"\n      ),\n      #\"SYSTEM_SYSRULES_cardLayout\"(\n        contents: {\n          rule!CMGT_UTIL_TabLayout(\n            tabs: local!entityCategoryTabs,\n            activeTab: local!activeTab,\n            brandingMap: local!brandingMap\n          ),\n          #\"SYSTEM_SYSRULES_cardLayout\"(\n            showBorder: false,\n            style: \"TRANSPARENT\",\n            contents: {\n              rule!CMGT_Entity_RecordGrid(\n                entityCategoryId: index(\n                  local!entityCategoryTabs.entityCategoryId,\n                  local!activeTab,\n                  null\n                ),\n                userFilters: {\n                  #\"urn:appian:user-filter:v1:ad3b988c-faba-4c39-9bda-be1ad52b4019/8413fe9c-1381-43a9-9aff-c855a928cafc\",\n                  #\"urn:appian:user-filter:v1:ad3b988c-faba-4c39-9bda-be1ad52b4019/780f13bf-eecb-46ce-af7a-8622967f4976\"\n                },\n                brandingMap: rule!CMGT_UTIL_LoadBrandingMap(),\n                label: index(\n                  local!entityCategoryTabs.label,\n                  local!activeTab,\n                  null\n                ),\n                labelPosition: \"COLLAPSED\",\n                context: \"RECORD_LIST\"\n              )\n            },\n\n          )\n        },\n        padding: \"NONE\",\n        showBorder: local!brandingMap.CardShowBorder,\n        showShadow: local!brandingMap.CardShowShadow,\n        style: local!brandingMap.CardBackgroundColor,\n        shape: local!brandingMap.CardShape\n      )\n    }\n  )\n)"
    },
    "_a-0000ebe1-6999-8000-9cbe-011c48011c48_2311034": {
      "name": "CMGT_Portal_CreateCase_Sub_ContactsSection",
      "type": "Interface",
      "sail_code": "{\n  #\"SYSTEM_SYSRULES_cardLayout\"(\n    contents: {\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              rule!CMGT_UTIL_HeaderField(\n                label: #\"urn:appian:translation-string:v1:c8394b9b-2d49-412b-a4b1-2790df0b3779\",\n                labelColor: ri!brandingMap.StandardTextColor,\n                divider: \"NONE\",\n                brandingMap: ri!brandingMap,\n                marginBelow: \"LESS\"\n              )\n            },\n            width: \"2X\"\n          )\n        },\n        marginBelow: \"NONE\"\n      ),\n      #\"SYSTEM_SYSRULES_cardLayout\"(\n        contents: {\n          #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n            contents: rule!CMGT_Portal_CaseContact_Details(\n              disabled: false,\n              readOnly: false,\n              portalCaseContact: ri!caseContact\n            )\n          )\n        },\n        padding: \"NONE\",\n        showBorder: false\n      )\n    },\n    showWhen: ri!showWhen,\n    style: \"TRANSPARENT\",\n    padding: \"NONE\",\n    marginBelow: \"STANDARD\",\n    showBorder: false\n  )\n}"
    },
    "_a-0000eced-17e9-8000-9bba-011c48011c48_45929": {
      "name": "CMGT_Workspace_InternalUser_Sub_MyWorkInProgress",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!activeTab: 1,\n  local!tabs: {\n    a!map(\n      name: #\"urn:appian:translation-string:v1:c750f1f2-e7b8-4b75-b1b3-017fc218be26\",\n    ),\n    a!map(\n      name: #\"urn:appian:translation-string:v1:406b7c4a-ff09-4f3e-b7a7-333b03e9e34e\",\n    )\n  },\n  local!cases: a!refreshVariable(\n    value: if(\n      local!activeTab = 1,\n      #\"SYSTEM_SYSRULES_queryRecordType_v1\"(\n        recordType: recordType!CMGT_Case,\n        filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n          operator: \"AND\",\n          ignoreFiltersWithEmptyValues: true,\n          filters: {\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Case.statusId,\n              operator: \"<>\",\n              value: cons!CMGT_REFID_STATUS_CASE_CLOSED\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Case.dueOn,\n              operator: \"not null\"\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Case.roles.userAssignee,\n              operator: \"=\",\n              value: ri!loggedInUser\n            )\n          }\n        ),\n        fields: #\"SYSTEM_SYSRULES_aggregationFields\"(\n          measures: {\n            #\"SYSTEM_SYSRULES_measure\"(\n              field: recordType!CMGT_Case.caseId,\n              alias: \"dueLater\",\n              function: \"COUNT\",\n              filters: {\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.dueOn,\n                  operator: \">\",\n                  value: rule!CMGT_UTIL_ConvertDateTimeToTimezone(\n                    dateTime: datetime(\n                      year(now()),\n                      month(now()),\n                      day(now()),\n                      23,\n                      59,\n                      59\n                    ),\n                    timezone: \"GMT\"\n                  )\n                )\n              }\n            ),\n            #\"SYSTEM_SYSRULES_measure\"(\n              field: recordType!CMGT_Case.caseId,\n              alias: \"dueToday\",\n              function: \"COUNT\",\n              filters: {\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.dueOn,\n                  operator: \"between\",\n                  value: {\n                    now(),\n                    rule!CMGT_UTIL_ConvertDateTimeToTimezone(\n                      dateTime: datetime(\n                        year(now()),\n                        month(now()),\n                        day(now()),\n                        23,\n                        59,\n                        59\n                      ),\n                      timezone: \"GMT\"\n                    )\n                  }\n                )\n              }\n            ),\n            #\"SYSTEM_SYSRULES_measure\"(\n              field: recordType!CMGT_Case.caseId,\n              alias: \"overdue\",\n              function: \"COUNT\",\n              filters: {\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.dueOn,\n                  operator: \"<\",\n                  value: now()\n                )\n              }\n            )\n          }\n        ),\n        pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(1, 5000)\n      ),\n      null\n    ),\n    refreshOnVarChange: ri!triggerRefresh\n  ),\n  local!tasks: a!refreshVariable(\n    value: if(\n      local!activeTab = 1,\n      null,\n      #\"SYSTEM_SYSRULES_queryRecordType_v1\"(\n        recordType: recordType!CMGT_Task,\n        filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n          operator: \"AND\",\n          ignoreFiltersWithEmptyValues: true,\n          filters: {\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Task.case.statusId,\n              operator: \"<>\",\n              value: cons!CMGT_REFID_STATUS_CASE_CLOSED\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Task.statusId,\n              operator: \"in\",\n              value: {\n                cons!CMGT_REFID_STATUS_TASK_READY,\n                cons!CMGT_REFID_STATUS_TASK_IN_PROGRESS\n              }\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Task.roles.username,\n              operator: \"=\",\n              value: ri!loggedInUser\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Task.dueOn,\n              operator: \"not null\"\n            )\n          }\n        ),\n        fields: #\"SYSTEM_SYSRULES_aggregationFields\"(\n          measures: {\n            #\"SYSTEM_SYSRULES_measure\"(\n              field: recordType!CMGT_Task.taskId,\n              alias: \"dueLater\",\n              function: \"COUNT\",\n              filters: {\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Task.dueOn,\n                  operator: \">\",\n                  value: rule!CMGT_UTIL_ConvertDateTimeToTimezone(\n                    dateTime: datetime(\n                      year(now()),\n                      month(now()),\n                      day(now()),\n                      23,\n                      59,\n                      59\n                    ),\n                    timezone: \"GMT\"\n                  )\n                )\n              }\n            ),\n            #\"SYSTEM_SYSRULES_measure\"(\n              field: recordType!CMGT_Task.taskId,\n              alias: \"dueToday\",\n              function: \"COUNT\",\n              filters: {\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Task.dueOn,\n                  operator: \"between\",\n                  value: {\n                    now(),\n                    rule!CMGT_UTIL_ConvertDateTimeToTimezone(\n                      dateTime: datetime(\n                        year(now()),\n                        month(now()),\n                        day(now()),\n                        23,\n                        59,\n                        59\n                      ),\n                      timezone: \"GMT\"\n                    )\n                  }\n                )\n              }\n            ),\n            #\"SYSTEM_SYSRULES_measure\"(\n              field: recordType!CMGT_Task.taskId,\n              alias: \"overdue\",\n              function: \"COUNT\",\n              filters: {\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Task.dueOn,\n                  operator: \"<\",\n                  value: now()\n                )\n              }\n            )\n          }\n        ),\n        pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(1, 5000)\n      )\n    ),\n    refreshOnVarChange: ri!triggerRefresh\n  ),\n  local!reportData: {\n    a!map(\n      label: #\"urn:appian:translation-string:v1:d7fef3a3-051d-443a-b953-149895f8a3c8\",\n      value: if(\n        local!activeTab = 1,\n        local!cases.data.overdue,\n        local!tasks.data.overdue\n      )\n    ),\n    a!map(\n      label: #\"urn:appian:translation-string:v1:c5019006-de15-41e1-b733-7c387844fff7\",\n      value: if(\n        local!activeTab = 1,\n        local!cases.data.dueToday,\n        local!tasks.data.dueToday\n      )\n    ),\n    a!map(\n      label: #\"urn:appian:translation-string:v1:b1a0fe3b-c773-4665-8f2f-0f9544303b7f\",\n      value: if(\n        local!activeTab = 1,\n        local!cases.data.dueLater,\n        local!tasks.data.dueLater\n      )\n    )\n  },\n  local!isDataEmpty:sum(\n    tointeger(a!flatten(local!reportData.value))\n  ) = 0,\n  {\n    rule!CMGT_UTIL_HeaderField(\n      label: #\"urn:appian:translation-string:v1:048a47bf-e7e7-428d-bb4e-b51b5d4501a5\",\n      divider: \"NONE\",\n      brandingMap: ri!brandingMap,\n      marginBelow: \"NONE\"\n    ),\n    #\"SYSTEM_SYSRULES_cardLayout\"(\n      contents: {\n        rule!CMGT_UTIL_TabLayout(\n          tabs: local!tabs,\n          activeTab: local!activeTab,\n          brandingMap: ri!brandingMap,\n          showAdditionalTabCard: false\n        ),\n        #\"SYSTEM_SYSRULES_cardLayout\"(\n          contents: if(\n            local!isDataEmpty,\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              value: {\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: if(local!activeTab=1,#\"urn:appian:translation-string:v1:bfd40925-755f-4a36-a4e4-73b355206d21\",#\"urn:appian:translation-string:v1:f56772d7-a0c6-4f66-9ecd-2ce9920a5678\"),\n                  color: ri!brandingMap.SecondaryTextColor,\n                  style: \"EMPHASIS\"\n                )\n              },\n              marginAbove: \"NONE\",\n              marginBelow: \"STANDARD\",\n              align: \"CENTER\"\n            ),\n            #\"SYSTEM_SYSRULES_columnChartField\"(\n              label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"My Work In Progress\"),\n              labelPosition: \"COLLAPSED\",\n              categories: index(local!tabs.name, local!activeTab, null),\n              series: {\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  items: local!reportData,\n                  expression: #\"SYSTEM_SYSRULES_chartSeries\"(label: fv!item.label, data: fv!item.value),\n\n                )\n              },\n              stacking: \"NONE\",\n              showLegend: true,\n              showTooltips: true,\n              height: \"SHORT\",\n              xAxisStyle: \"NONE\",\n              yAxisStyle: \"NONE\",\n              colorScheme: rule!CMGT_UTIL_parseColorSchemeBranding(\n                colorSchemeValue: ri!brandingMap.WorkInProgressColorScheme\n              )\n            )\n          ),\n          padding:if( local!isDataEmpty,\"MORE\",\"LESS\"),\n          style: \"TRANSPARENT\",\n          showBorder: false\n        )\n      },\n      height: \"AUTO\",\n      style: ri!brandingMap.CardBackgroundColor,\n      shape: ri!brandingMap.CardShape,\n      marginBelow: \"STANDARD\",\n      padding: \"NONE\",\n      showBorder: ri!brandingMap.CardShowBorder,\n      showShadow: ri!brandingMap.CardShowShadow\n    )\n  }\n)"
    },
    "_a-0000eca3-381d-8000-9cf0-011c48011c48_3112476": {
      "name": "CMGT_generateConditionSetFromCfgCondtionSet",
      "type": "Expression Rule",
      "sail_code": "if(\n  /*Only need to copy over active conditions & condition sets  */\n  ri!cfgConditionSet[recordType!CMGT_CFG_ConditionSet.isActive] = true,\n  a!localVariables(\n    local!newConditionSetUuid: index(\n      rule!CMGT_UTIL_Filter(\n        records: ri!conditionSetNewUUIDMapping,\n        field: \"conditionSetUuid\",\n        value: ri!cfgConditionSet[recordType!CMGT_CFG_ConditionSet.conditionSetUuid]\n      ),\n      \"newUuid\",\n      null\n    ),\n    recordType!CMGT_ConditionSet(\n      recordType!CMGT_ConditionSet.conditionSetUuid: local!newConditionSetUuid,\n      recordType!CMGT_ConditionSet.parentConditionSetUuid: index(\n        rule!CMGT_UTIL_Filter(\n          records: ri!conditionSetNewUUIDMapping,\n          field: \"conditionSetUuid\",\n          value: ri!cfgConditionSet[recordType!CMGT_CFG_ConditionSet.parentConditionSetUuid]\n        ),\n        \"newUuid\",\n        null\n      ),\n      recordType!CMGT_ConditionSet.taskInstanceUuid: ri!taskInstanceUUID,\n      recordType!CMGT_ConditionSet.operatorCode: ri!cfgConditionSet[recordType!CMGT_CFG_ConditionSet.operatorCode],\n      recordType!CMGT_ConditionSet.isActive: ri!cfgConditionSet[recordType!CMGT_CFG_ConditionSet.isActive],\n      recordType!CMGT_ConditionSet.condition: #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!cfgConditionSet[recordType!CMGT_CFG_ConditionSet.condition],\n        expression: rule!CMGT_UTIL_RejectBlank(\n          if(\n            fv!item[recordType!CMGT_CFG_Condition.isActive] = true,\n            recordType!CMGT_Condition(\n              recordType!CMGT_Condition.conditionSetUuid: local!newConditionSetUuid,\n              recordType!CMGT_Condition.fieldPathJson: fv!item[recordType!CMGT_CFG_Condition.fieldPathJson],\n              recordType!CMGT_Condition.operator: fv!item[recordType!CMGT_CFG_Condition.operator],\n              recordType!CMGT_Condition.valueJson: fv!item[recordType!CMGT_CFG_Condition.valueJson],\n              recordType!CMGT_Condition.valueType: fv!item[recordType!CMGT_CFG_Condition.valueType],\n              recordType!CMGT_Condition.isActive: fv!item[recordType!CMGT_CFG_Condition.isActive],\n              recordType!CMGT_Condition.isValid: fv!item[recordType!CMGT_CFG_Condition.isValid],\n              recordType!CMGT_Condition.evaluationType: fv!item[recordType!CMGT_CFG_Condition.evaluationType]\n            ),\n            null\n          )\n        )\n      ),\n      recordType!CMGT_ConditionSet.childConditionSet: rule!CMGT_UTIL_RejectBlank(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!cfgConditionSet[recordType!CMGT_CFG_ConditionSet.childConditionSet],\n          expression: rule!CMGT_generateConditionSetFromCfgCondtionSet(\n            cfgConditionSet: fv!item,\n            conditionSetNewUUIDMapping: ri!conditionSetNewUUIDMapping\n          )\n        )\n      )\n    )\n  ),\n  null\n)"
    },
    "_a-0000edc1-4e36-8000-9d71-011c48011c48_4100379": {
      "name": "CMGT_Case_SummaryPage",
      "type": "Interface",
      "sail_code": "{\n  #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n    contents: {\n      #\"urn:appian:record-field-metadata:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/1282844c-ffee-4473-a3b4-3e2c8f94cf0e/4f1d431d-35cd-4e32-bf9b-72ff92c4ae86\"(\n        ri!case\n      ),\n      #\"SYSTEM_SYSRULES_horizontalLine\"(\n        marginBelow: \"NONE\",\n        marginAbove: \"LESS\"\n      )\n    },\n    marginAbove: \"EVEN_LESS\"\n  )\n}"
    },
    "97297ba5-64ee-4b21-bf08-5901e134901e": {
      "name": "CMGT_returnAvailableFieldFromFieldPathJson",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!customFieldCode: rule!CMGT_UTIL_CastJsonToMap(\n    jsonText: ri!fieldPathJson\n  ).customFieldCode,\n  local!fieldUuid: rule!CMGT_UTIL_CastJsonToMap(\n    jsonText: ri!fieldPathJson\n  ).uuid,\n index(\n    if(\n      rule!CMGT_UTIL_IsBlank(local!customFieldCode),\n      rule!CMGT_UTIL_Filter(\n        records: ri!availableFields,\n        field: \"uuid\",\n        value: local!fieldUuid\n      ),\n      rule!CMGT_UTIL_Filter(\n        records: ri!availableFields,\n        field: \"customFieldCode\",\n        value: local!customFieldCode\n      )\n    ),\n    1,\n    null\n  )\n)"
    },
    "_a-0000ed40-282d-8000-9d33-011c48011c48_3588266": {
      "name": "CMGT_AUTO_EVAL_AvailableFieldCustomizations_Case",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  recordTypeUuid: cons!CMGT_UUID_RECORD_TYPE_CASE,\n  fieldMapsToAdd: {\n    /*Status*/\n    a!map(\n      uuid: \"43305b8c-b670-44fe-be8a-90fe7dd78436\",\n      fieldName: \"statusId\",\n      displayName: #\"urn:appian:record-field-properties:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/43305b8c-b670-44fe-be8a-90fe7dd78436/displayName\",\n      field: recordType!CMGT_Case.statusId,\n      fieldType: \"CHOICE_LIST\",\n      recordType: recordType!CMGT_CFG_Status,\n      typeIcon: \"caret-square-o-down\",\n      typeDisplayName: \"Choice List\",\n      parentRecordTypeUuid: cons!CMGT_UUID_RECORD_TYPE_CASE\n    ),\n    /*Priority*/\n    a!map(\n      uuid: \"e50c4ea6-59fc-475d-bc19-998a2428555e\",\n      fieldName: \"priorityId\",\n      displayName: #\"urn:appian:record-field-properties:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/e50c4ea6-59fc-475d-bc19-998a2428555e/displayName\",\n      field: recordType!CMGT_Case.priorityId,\n      fieldType:\"CHOICE_LIST\",\n      recordType: recordType!CMGT_CFG_Priority,\n      typeIcon: \"caret-square-o-down\",\n      typeDisplayName: \"Choice List\",\n      parentRecordTypeUuid: cons!CMGT_UUID_RECORD_TYPE_CASE\n    ),\n    /*Due On*/\n    a!map(\n      uuid: \"dd6a7d01-9f60-4e65-b322-da301c36bcbb\",\n      fieldName: \"dueOn\",\n      displayName: #\"urn:appian:record-field-properties:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/dd6a7d01-9f60-4e65-b322-da301c36bcbb/displayName\",\n      field: recordType!CMGT_Case.dueOn,\n      fieldType: \"DATETIME\",\n      typeIcon: \"calendar\",\n      typeDisplayName: \"Date and Time\",\n      parentRecordTypeUuid: cons!CMGT_UUID_RECORD_TYPE_CASE\n    ),\n    /*Completed On*/\n    a!map(\n      uuid: \"71e2da70-92e0-4ace-93b2-67247ad82b96\",\n      fieldName: \"completedOn\",\n      displayName: #\"urn:appian:record-field-properties:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/71e2da70-92e0-4ace-93b2-67247ad82b96/displayName\",\n      field: recordType!CMGT_Case.completedOn,\n      fieldType: \"DATETIME\",\n      typeIcon: \"calendar\",\n      typeDisplayName: \"Date and Time\",\n      parentRecordTypeUuid: cons!CMGT_UUID_RECORD_TYPE_CASE\n    ),\n    /*Created By*/\n    a!map(\n      uuid: \"a5ede28b-dcb0-48e4-8a37-12ea5d27ee76\",\n      fieldName: \"createdBy\",\n      displayName: #\"urn:appian:record-field-properties:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/a5ede28b-dcb0-48e4-8a37-12ea5d27ee76/displayName\",\n      field: recordType!CMGT_Case.createdBy,\n      fieldType: \"USERNAME\",\n      /*fieldType:  'recordType!{SYSTEM_RECORD_TYPE_USER}User',*/\n      typeIcon: \"caret-square-o-down\",\n      typeDisplayName: \"Choice List\",\n      parentRecordTypeUuid: cons!CMGT_UUID_RECORD_TYPE_CASE\n    ),\n    /*Created On*/\n    a!map(\n      uuid: \"4db722a4-2e1f-4d17-a168-0ae254a83407\",\n      fieldName: \"createdOn\",\n      displayName: #\"urn:appian:record-field-properties:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/4db722a4-2e1f-4d17-a168-0ae254a83407/displayName\",\n      field: recordType!CMGT_Case.createdOn,\n      fieldType: \"DATETIME\",\n      typeIcon: \"calendar\",\n      typeDisplayName: \"Date and Time\",\n      parentRecordTypeUuid: cons!CMGT_UUID_RECORD_TYPE_CASE\n    ),\n    /*Modified On*/\n    a!map(\n      uuid: \"12a54b35-6aad-4cf0-b04a-700cc54a4917\",\n      fieldName: \"modifiedOn\",\n      displayName: #\"urn:appian:record-field-properties:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/12a54b35-6aad-4cf0-b04a-700cc54a4917/displayName\",\n      field: recordType!CMGT_Case.modifiedOn,\n      fieldType: \"DATETIME\",\n      typeIcon: \"calendar\",\n      typeDisplayName: \"Date and Time\",\n      parentRecordTypeUuid: cons!CMGT_UUID_RECORD_TYPE_CASE\n    )\n  },\n  customFieldsToAdd: {}\n)"
    },
    "_a-0000ea9e-6ae8-8000-9c1d-011c48011c48_952061": {
      "name": "CMGT_displayListOfItems",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!values),\n  ri!emptyLabel,\n  joinarray(\n    ri!values,\n    ri!separator\n  )\n)"
    },
    "_a-0000e98b-cfe0-8000-9ba5-011c48011c48_20014": {
      "name": "CMGT_Case_GenerateFriendlyIdentifier_Logic",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!dateHex: dec2hex(text(today(), \"mmddyy\")),\n  local!asciiCodes: append(\n    /* ASCII codes for A-Z (65 - 90) */\n    enumerate(26) + 65,\n    /* ASCII codes for 0-9 (48 - 57) */\n    enumerate(10) + 48\n  ),\n  /* Generating 6 random alphanumeric characters */\n  local!randomAlphaNumericChars: concat(\n    char(\n      index(\n        local!asciiCodes,\n        1 + round(rand(6) * (count(local!asciiCodes) - 1), 0),\n        null\n      )\n    )\n  ),\n  joinarray(\n    {\n      a!defaultValue(\n        value: ri!case[recordType!CMGT_Case.caseType.caseTypeMetadata.prefix],\n        default: rule!CMGT_setPrefixDefault(\n          caseType: ri!case[recordType!CMGT_Case.caseType]\n        )\n      ),\n      \"-\",\n      local!randomAlphaNumericChars,\n      local!dateHex\n    }\n  )\n)"
    },
    "_a-0000e9ae-873e-8000-9baf-011c48011c48_90184": {
      "name": "CMGT_UTIL_CalendarField_GetMonthDates",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!startDate),\n  {},\n  a!localVariables(\n    local!daysInAWeek: 7,\n    local!month: month(ri!startDate),\n    local!year: year(ri!startDate),\n    /** Create initial array of dates for current month **/\n    local!numOfDaysInMonth: daysinmonth(local!month, local!year),\n    local!arrayOfDates: #\"SYSTEM_SYSRULES_forEach\"(\n      items: enumerate(local!numOfDaysInMonth) + 1,\n      expression: date(local!year, local!month, fv!item)\n    ),\n    /** Prepend array with last month's dates **/\n    local!firstDayOfMonth: date(local!year, local!month, 1),\n    local!monthStartDayOfWeek: weekday(local!firstDayOfMonth),\n    local!numOfDaysToPrepend: local!monthStartDayOfWeek - 1,\n    local!lastDayOfMonth: date(\n      local!year,\n      local!month,\n      local!numOfDaysInMonth\n    ),\n    local!previousMonth: month(\n      local!lastDayOfMonth - local!numOfDaysInMonth\n    ),\n    local!previousYear: year(\n      local!lastDayOfMonth - local!numOfDaysInMonth\n    ),\n    local!numOfDaysInPrevMonth: daysinmonth(local!previousMonth, local!previousYear),\n    local!datesToPrepend: #\"SYSTEM_SYSRULES_forEach\"(\n      items: if(\n        local!numOfDaysToPrepend = 0,\n        {},\n        index(\n          reverse(\n            enumerate(local!numOfDaysInPrevMonth) + 1\n          ),\n          { enumerate(local!numOfDaysToPrepend) + 1 },\n          {}\n        )\n      ),\n      expression: date(\n        local!previousYear,\n        local!previousMonth,\n        fv!item\n      )\n    ),\n    local!arrayWithPrependedDates: reduce(\n      fn!insert,\n      local!arrayOfDates,\n      local!datesToPrepend,\n      1\n    ),\n    /** Append array with next month's dates **/\n    local!monthEndDayOfWeek: weekday(\n      date(\n        local!year,\n        local!month,\n        local!numOfDaysInMonth\n      )\n    ),\n    local!numOfDaysToAppend: local!daysInAWeek - local!monthEndDayOfWeek,\n    local!nextMonth: month(\n      local!firstDayOfMonth + local!numOfDaysInMonth\n    ),\n    local!nextYear: year(\n      local!firstDayOfMonth + local!numOfDaysInMonth\n    ),\n    local!datesToAppend: #\"SYSTEM_SYSRULES_forEach\"(\n      items: if(\n        local!numOfDaysToAppend = 0,\n        {},\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: enumerate(local!numOfDaysToAppend) + 1,\n          expression: tostring(fv!item)\n        )\n      ),\n      expression: date(local!nextYear, local!nextMonth, fv!item)\n    ),\n    local!arrayWithAppendedDates: reduce(\n      fn!append,\n      local!arrayWithPrependedDates,\n      local!datesToAppend\n    ),\n    local!arrayWithAppendedDates\n  )\n)"
    },
    "_a-0000e9d3-70bf-8000-9bbd-011c48011c48_180583": {
      "name": "CMGT_UTIL_checkIfSingleType",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  with(\n    local!typeNumber: rule!CMGT_UTIL_returnTypeNumber(\n      type: ri!type,\n      typeOf: ri!typeOf\n    ),\n  \n    and(\n      /*The type of the input equals the type of the input returned as single type*/\n      local!typeNumber = rule!CMGT_UTIL_returnTypeNumber(\n        typeOf: rule!CMGT_UTIL_returnSingleTypeObject(typeOf: cast(local!typeNumber, null))\n      ),\n      \n      /*And the type of the input is not list of variant*/\n      local!typeNumber <> rule!CMGT_UTIL_returnTypeNumber(\n        typeOf: {}\n      )\n    )\n  )\n)"
    },
    "_a-0000e9ca-3659-8000-9bb8-011c48011c48_145648": {
      "name": "CMGT_UTIL_GetSiteUrl",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!authedPath: cast(\n    'type!{http://www.appian.com/ae/types/2009}Text',\n    extract(linktodocument(0, \"doc\"), \"\"\"\", \"/doc/\")\n  ),\n  local!subdomainWithDomain: extract(local!authedPath, \"//\", \"/suite\")[1],\n  local!subdomain: split(local!subdomainWithDomain, \".\")[1],\n  a!map(\n    subdomain: local!subdomain,\n    authedPath: local!authedPath,\n    subdomainWithDomain: local!subdomainWithDomain\n  )\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_36486": {
      "name": "CMGT_Case_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!metric: #\"SYSTEM_SYSRULES_forEach\"(\n    items: rule!CMGT_UTIL_Filter(\n      records: rule!CMGT_UTIL_RejectBlank(\n        a!flatten(\n          ri!cases[#\"urn:appian:record-relationship:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/5a26c421-0dd4-402c-bc21-d650ed60924e/5189c3ac-98e2-4a82-8598-2e9561baec9d/64b891e4-359b-48b4-9f47-2a3af4695c34\"]\n        )\n      ),\n      field: recordType!CMGT_ConditionSet.conditionSetId,\n      value: null\n    ),\n    expression: rule!CMGT_MTR_UserCreatesAutomationRule()\n  ),\n  rule!CMGT_Case_SetEvents(\n    cases: #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!cases,\n      expression: rule!CMGT_UTIL_SetRecordFields(\n        record: fv!item,\n        alwaysOverwrite: {\n          a!map(\n            field: recordType!CMGT_Case.modifiedOn,\n            value: now()\n          ),\n          a!map(\n            field: recordType!CMGT_Case.modifiedBy,\n            value: ri!initiator\n          ),\n          /* If the status is closed and the completedOn is empty then update to current time stamp, otherwise use the existing completedOn value     */\n          if(\n            ri!eventType = cons!CMGT_TXT_EVENT_TYPE_CASE_MODIFY_CHILD_RECORD,\n            null,\n            a!map(\n              field: recordType!CMGT_Case.completedOn,\n              value: a!match(\n                value: tointeger(\n                  fv!item[recordType!CMGT_Case.statusId]\n                ),\n                whenTrue: and(\n                  fv!value = cons!CMGT_REFID_STATUS_CASE_CLOSED,\n                  a!isNullOrEmpty(\n                    fv!item[recordType!CMGT_Case.completedOn]\n                  )\n                ),\n                then: now(),\n                whenTrue: and(\n                  fv!value <> cons!CMGT_REFID_STATUS_CASE_CLOSED,\n                  a!isNotNullOrEmpty(\n                    fv!item[recordType!CMGT_Case.completedOn]\n                  )\n                ),\n                then: null,\n                default: fv!item[recordType!CMGT_Case.completedOn]\n              )\n            ),\n            \n          )\n        },\n        neverOverwrite: if(\n          ri!eventType = cons!CMGT_TXT_EVENT_TYPE_CASE_MODIFY_CHILD_RECORD,\n          null,\n          {\n            a!map(\n              field: recordType!CMGT_Case.isActive,\n              value: true\n            ),\n            a!map(\n              field: recordType!CMGT_Case.createdOn,\n              value: now()\n            ),\n            a!map(\n              field: recordType!CMGT_Case.createdBy,\n              value: ri!initiator\n            ),\n            a!map(\n              field: recordType!CMGT_Case.friendlyId,\n              value: rule!CMGT_Case_GenerateFriendlyIdentifier_Logic(\n                case: fv!item\n              )\n            ),\n            a!map(\n              field: recordType!CMGT_Case.dueOn,\n              value: rule!CMGT_UTIL_CalculateDueDateBasedOnSLA(\n                SLA: fv!item[recordType!CMGT_Case.caseType.caseTypeMetadata.sla],\n                dateTime: now()\n              ),\n              applyWhen: ri!eventType = \"CREATE\"\n            ),\n            a!map(\n              field: recordType!CMGT_Case.priorityId,\n              value: a!defaultValue(\n                value: fv!item[recordType!CMGT_Case.caseType.caseTypeMetadata.priorityId],\n                default: cons!CMGT_REFID_PRIORITY_NONE\n              )\n            ),\n            a!map(\n              field: recordType!CMGT_Case.statusId,\n              value: cons!CMGT_REFID_STATUS_CASE_OPEN\n            ),\n            a!map(\n              field: recordType!CMGT_Case.processId,\n              value: ri!processId\n            )\n          }\n        ),\n        /*Set metadata for all child relationships*/\n        childRelationships: {\n          a!map(\n            field: recordType!CMGT_Case.comments,\n            value: rule!CMGT_Comment_SetMetaData(\n              comments: fv!item[recordType!CMGT_Case.comments],\n              initiator: ri!initiator\n            )\n          ),\n          a!map(\n            field: recordType!CMGT_Case.documents,\n            value: rule!CMGT_Document_SetMetaData(\n              documents: fv!item[recordType!CMGT_Case.documents],\n              initiator: ri!initiator\n            )\n          ),\n          a!map(\n            field: recordType!CMGT_Case.tagMap,\n            value: rule!CMGT_CaseTagMap_SetMetaData(\n              caseTagMaps: fv!item[recordType!CMGT_Case.tagMap],\n              initiator: ri!initiator\n            )\n          ),\n          a!map(\n            field: recordType!CMGT_Case.relatedCaseMap,\n            value: rule!CMGT_RelatedCaseMap_SetMetaData(\n              relatedCaseMaps: fv!item[recordType!CMGT_Case.relatedCaseMap],\n              initiator: ri!initiator\n            )\n          ),\n          a!map(\n            field: recordType!CMGT_Case.caseEntityMap,\n            value: rule!CMGT_CaseEntityMap_SetMetaData(\n              caseEntityMaps: fv!item[recordType!CMGT_Case.caseEntityMap],\n              initiator: ri!initiator\n            )\n          ),\n          a!map(\n            field: recordType!CMGT_Case.milestones,\n            value: rule!CMGT_Milestone_SetMetaData(\n              milestones: a!defaultValue(\n                fv!item[recordType!CMGT_Case.milestones],\n                if(\n                  or(\n                    a!isNullOrEmpty(\n                      fv!item[recordType!CMGT_Case.caseId]\n                    ),\n                    a!isNullOrEmpty(\n                      fv!item[recordType!CMGT_Case.folderId]\n                    )\n                  ),\n                  rule!CMGT_WFL_Case_GenerateCaseCreationMilestones_Logic(\n                    case: fv!item\n                  ),\n                  {}\n                )\n              ),\n              initiator: ri!initiator\n            )\n          ),\n          a!map(\n            field: recordType!CMGT_Case.tasks,\n            value: rule!CMGT_Task_SetMetaData(\n              tasks: fv!item[recordType!CMGT_Case.tasks],\n              initiator: ri!initiator\n            )\n          ),\n          a!map(\n            field: recordType!CMGT_Case.roles,\n            value: rule!CMGT_Role_SetMetaData(\n              roles: if(\n                ri!eventType = cons!CMGT_TXT_EVENT_TYPE_CASE_MODIFY_CHILD_RECORD,\n                fv!item[recordType!CMGT_Case.roles],\n                if(\n                  a!isNotNullOrEmpty(\n                    fv!item[recordType!CMGT_Case.caseId]\n                  ),\n                  if(\n                    a!isNullOrEmpty(\n                      fv!item[recordType!CMGT_Case.folderId]\n                    ),\n                    rule!CMGT_Role_CreateCase_CreateRoles_Wrapper(\n                      initiator: ri!initiator,\n                      case: ri!cases\n                    ),\n                    fv!item[recordType!CMGT_Case.roles]\n                  ),\n                  rule!CMGT_Role_CreateCase_CreateRoles_Wrapper(\n                    initiator: ri!initiator,\n                    case: ri!cases\n                  )\n                )\n              ),\n              initiator: ri!initiator\n            )\n          ),\n          a!map(\n            field: recordType!CMGT_Case.portalCaseContact,\n            value: rule!CMGT_Portal_CaseContact_SetMetaData(\n              portalCaseContacts: fv!item[recordType!CMGT_Case.portalCaseContact],\n              initiator: ri!initiator\n            )\n          )\n        }\n      )\n    ),\n    initiator: ri!initiator,\n    eventType: ri!eventType\n  )\n)"
    },
    "db0f818c-b3dc-4f0d-8aeb-1a70dbecc88a": {
      "name": "CMGT_Role_RecordAction_Manage",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!selectedRoleTypes: rule!CMGT_QR_GetRoleType(roleTypeId: ri!roleTypeIds),\n  local!selectedRoleTypeLabel: a!refreshVariable(\n    value: local!selectedRoleTypes[1][recordType!CMGT_CFG_RoleType.label],\n    refreshOnReferencedVarChange: false\n  ),\n  local!roles: rule!CMGT_QR_GetRole(\n    caseId: ri!case[recordType!CMGT_Case.caseId],\n    taskId: ri!task[recordType!CMGT_Task.taskId],\n    roleTypeId: ri!roleTypeIds,\n    executeWhen: or(\n      a!isNotNullOrEmpty(\n        ri!case[recordType!CMGT_Case.caseId]\n      ),\n      a!isNotNullOrEmpty(\n        ri!task[recordType!CMGT_Task.taskId]\n      )\n    )\n  ),\n  #\"SYSTEM_SYSRULES_formLayout_v1\"(\n    label: #\"urn:appian:translation-string:v1:e30b7b52-bf10-410b-8563-2294ff42b4a9\"(\n      #\"urn:appian:translation-variable:v1:043096b6-1591-4084-87f1-ddd6c69d5057\": #\"urn:appian:translation-string:v1:06dbafc7-e085-40de-a68a-c83054c1d7ec\",\n      #\"urn:appian:translation-variable:v1:6a662317-dd6f-4802-8554-9d20f2850bd1\": local!selectedRoleTypeLabel\n    ),\n    contents: {\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              rule!CMGT_Role_Sub_ManageUi(\n                roles: local!roles,\n                rolesToDelete: ri!rolesToDelete,\n                caseId: ri!case[recordType!CMGT_Case.caseId],\n                taskId: ri!task[recordType!CMGT_Task.taskId],\n                roleTypes: local!selectedRoleTypes\n              )\n            }\n          )\n        },\n        alignVertical: \"BOTTOM\"\n      )\n    },\n    buttons: #\"SYSTEM_SYSRULES_ButtonLayout\"(\n      primaryButtons: {\n        #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          label: #\"urn:appian:translation-string:v1:06dbafc7-e085-40de-a68a-c83054c1d7ec\",\n          saveInto: {\n            /*Remove roles that have no group or user assignee, these were staged and shouldn't be persisted to the DB*/\n            a!save(\n              ri!roles,\n              rule!CMGT_UTIL_Filter(\n                records: local!roles,\n                field: {\n                  recordType!CMGT_Role.username,\n                  recordType!CMGT_Role.groupId\n                },\n                value: { null, null },\n                filterType: \"REJECT\"\n              )\n            )\n          },\n          submit: true,\n          style: \"SOLID\",\n          validate: true\n        )\n      },\n      secondaryButtons: {\n        #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          label: #\"urn:appian:translation-string:v1:651cf177-f30b-485b-900f-8aaf47805737\",\n          value: true,\n          saveInto: {\n            a!save(ri!roles, null),\n            a!save(ri!rolesToDelete, null)\n          },\n          submit: true,\n          style: \"OUTLINE\",\n          validate: false\n        )\n      }\n    )\n  )\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_29411": {
      "name": "CMGT_QR_GetTask",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_Task,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  groupByFields: ri!groupByFields,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.taskId,\n      operator: \"in\",\n      value: ri!taskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.caseId,\n      operator: \"in\",\n      value: ri!caseId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.statusId,\n      operator: \"in\",\n      value: ri!statusId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.dueOn,\n      operator: \">\",\n      value: rule!CMGT_UTIL_ConvertDatetoDatetime(\n        date: ri!dueOnDate - 1,\n        useSystemTimeZone: a!defaultValue(ri!useSystemTimeZoneForDueOn, true)\n      )\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.dueOn,\n      operator: \"<=\",\n      value: rule!CMGT_UTIL_ConvertDatetoDatetime(\n        date: ri!dueOnDate,\n        useSystemTimeZone: a!defaultValue(ri!useSystemTimeZoneForDueOn, true)\n      )\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.isActive,\n      operator: \"=\",\n      value: true,\n      applyWhen: ri!includeInactive <> true\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.isCurrent,\n      operator: \"=\",\n      value: a!defaultValue(ri!isCurrentTask, true),\n      applyWhen: a!defaultValue(ri!isCurrentTaskApplyWhen, true),\n      \n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.taskIntentionCode,\n      operator: \"in\",\n      value: a!defaultValue(\n        ri!taskIntentionCodes,\n        {\n          cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_WORKFLOW\n        }\n      )\n    ),\n    \n  },\n  fields: {\n    ri!fields,\n    if(\n      ri!includeRoles,\n      {\n        recordType!CMGT_Task.roles\n      },\n      {}\n    ),\n    if(\n      ri!includeMilestone,\n      {\n        recordType!CMGT_Task.milestone\n      },\n      {}\n    ),\n    if(\n      ri!includeCase,\n      {\n        recordType!CMGT_Task.case\n      },\n      {}\n    ),\n    if(\n      ri!includeBranches,\n      {\n        recordType!CMGT_Task.beforeTaskInstanceBranches,\n        recordType!CMGT_Task.beforeTaskInstanceBranches,\n        recordType!CMGT_Task.beforeTaskInstanceBranches,\n        #\"urn:appian:record-relationship:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/73a323c9-ce12-4212-97aa-f89df7d14c09/9644c5ba-af85-48a3-9cda-fcfb028d6113/3280de96-3518-4a9e-b8ae-854a84562f07\"\n      },\n      {}\n    ),\n    recordType!CMGT_Task.taskBehaviorType,\n    recordType!CMGT_Task.status,\n    recordType!CMGT_Task.taskResponseOptions,\n    recordType!CMGT_Task.selectedTaskResponseOption,\n    recordType!CMGT_Task.conditionSet,\n    recordType!CMGT_Task.conditionSet,\n    #\"urn:appian:record-relationship:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/5189c3ac-98e2-4a82-8598-2e9561baec9d/64b891e4-359b-48b4-9f47-2a3af4695c34/52813580-ecf3-49c7-be71-568ab452d54a\",\n    recordType!CMGT_Task.createCaseTask,\n    recordType!CMGT_Task.sendEmailTask,\n    recordType!CMGT_Task.sendEmailTask,\n    recordType!CMGT_Task.automationTaskAction\n  },\n  logicalExpressions: {\n    ri!additionalLogicalExpression,\n    rule!CMGT_Task_AutomationRuleGlobalLogicalExpression(\n      taskIntentionCodes: ri!taskIntentionCodes\n    )\n  },\n  pagingInfo: ri!pagingInfo,\n  relatedRecordData: ri!relatedRecordData,\n  sort: ri!sort,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ebe1-6999-8000-9cbe-011c48011c48_2305690": {
      "name": "CMGT_UTIL_DisplayUserPhotoOrInitialsWithName",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_sideBySideLayout\"(\n  items: {\n    /*Initial*/\n    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n      item: #\"SYSTEM_SYSRULES_imageField_v1\"(\n        labelPosition: \"COLLAPSED\",\n        images: #\"SYSTEM_SYSRULES_userImage\"(\n          user: ri!userRecord[#\"urn:appian:record-field:v1:SYSTEM_RECORD_TYPE_USER/SYSTEM_RECORD_TYPE_USER_FIELD_username\"]\n        ),\n        size: \"ICON\",\n        style: \"AVATAR\"\n      ),\n      width: \"MINIMIZE\"\n    ),\n    /*Name*/\n    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n      item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"User Name\"),\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: rule!CMGT_UTIL_DisplayUser(userRecord: ri!userRecord, user: ri!user),\n            link: #\"SYSTEM_SYSRULES_userRecordLink\"(\n              user: ri!user,\n              openLinkIn: \"NEW_TAB\",\n              showWhen: and(\n                a!isNotNullOrEmpty(ri!userRecord),\n                not(\n                  or(\n                    ri!userRecord[#\"urn:appian:record-field:v1:SYSTEM_RECORD_TYPE_USER/SYSTEM_RECORD_TYPE_USER_FIELD_isServiceAccount\"] = true,\n                    #\"urn:appian:function:v1:a:isusermemberofgroup?okey=a!isUserMemberOfGroup\"(\n                      username: ri!user,\n                      groups: cons!CMGT_GRP_SERVICE_ACCOUNTS\n                    )\n                  )\n                )\n              )\n            ),\n            linkStyle: \"STANDALONE\",\n            color: ri!brandingMap.StandardTextColor\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              char(32),\n              char(8226),\n              char(32),\n              rule!CMGT_UTIL_FormatDateTime(\n                dateTime: ri!dateTime,\n                includeTime: a!defaultValue(ri!includeTime, false)\n              )\n            },\n            showWhen: a!isNotNullOrEmpty(ri!dateTime),\n            color: ri!brandingMap.StandardTextColor,\n            size: \"STANDARD\"\n          )\n        }\n      ),\n      width: \"AUTO\"\n    )\n\n  },\n  alignVertical: \"MIDDLE\"\n)"
    },
    "_a-0000ea95-307e-8000-9c1a-011c48011c48_941456": {
      "name": "CMGT_Entity_Sub_SuggestedEntityDetailsSmall",
      "type": "Interface",
      "sail_code": "{\n  #\"SYSTEM_SYSRULES_cardLayout\"(\n    contents: #\"SYSTEM_SYSRULES_columnsLayout\"(\n    columns: {\n      #\"SYSTEM_SYSRULES_columnLayout\"(\n        contents: #\"SYSTEM_SYSRULES_cardLayout\"(\n          contents: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            labelPosition: \"ABOVE\",\n            value: {\n              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                icon: ri!entity[recordType!CMGT_Entity.entityCategory.icon],\n                color: ri!brandingMap.EntityAccentColor,\n                size: \"MEDIUM_PLUS\",\n                caption: ri!entity[recordType!CMGT_Entity.entityCategory.label]\n              )\n            },\n            align: \"CENTER\"\n          ),\n          height: \"EXTRA_SHORT\",\n          style: ri!brandingMap.EntityBackgroundColor,\n          padding: \"LESS\",\n          marginBelow: \"NONE\",\n          showBorder: false\n        ),\n        width: \"EXTRA_NARROW\"\n      ),\n      #\"SYSTEM_SYSRULES_columnLayout\"(\n        contents: #\"SYSTEM_SYSRULES_cardLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Entity Identitifer\"),\n              labelPosition: \"COLLAPSED\",\n              value: {\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: {\n                    ri!entity[recordType!CMGT_Entity.title]\n                  },\n                  color: ri!brandingMap.StandardTextColor,\n                  size: \"STANDARD\",\n                  style: \"STRONG\"\n                )\n\n              },\n              preventWrapping: true,\n              marginBelow: \"NONE\"\n            ),\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: ri!entity[recordType!CMGT_Entity.entityType.label],\n                color: ri!brandingMap.SecondaryTextColor,\n                size: \"SMALL\"\n              ),\n              labelPosition: \"COLLAPSED\",\n              marginAbove: \"NONE\"\n            )\n          },\n          showBorder: false,\n          style: ri!brandingMap.CardBackgroundColor,\n        )\n\n      )\n    },\n    alignVertical: \"MIDDLE\",\n    spacing: \"NONE\"\n  ),\n  link: #\"SYSTEM_SYSRULES_recordLink\"(\n    recordType: recordType!CMGT_Entity,\n    identifier: ri!entity[recordType!CMGT_Entity.entityId]\n  ),\n  style: rule!CMGT_UTIL_DisplayBranding(\n    brandingMap: ri!brandingMap,\n    key: ri!brandingMap.CardBackgroundColor\n  ),\n  shape: ri!brandingMap.CardShape,\n  padding: \"NONE\",\n  showBorder: ri!brandingMap.CardShowBorder,\n  showShadow: ri!brandingMap.CardShowShadow\n  )\n}"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_24632": {
      "name": "CMGT_QR_GetRoleType",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_CFG_RoleType,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_RoleType.roleTypeId,\n      operator: \"in\",\n      value: ri!roleTypeId\n    )\n  },\n  fields: ri!fields,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  relatedRecordData: ri!relatedRecordData,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000eb03-ee76-8000-9c48-011c48011c48_1339315": {
      "name": "CMGT_ControlPanel_CaseTypeMetadata",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!brandingMap: rule!CMGT_CB_UTIL_LoadBrandingMap(),\n  local!caseType: rule!CMGT_QR_GetCaseType(\n    fields: {\n      recordType!CMGT_CFG_CaseType.caseTypeMetadata,\n      recordType!CMGT_CFG_CaseType.caseTypeMetadata\n    },\n    caseTypeUuId: ri!caseTypeUuid,\n    returnType: \"SINGLE_OBJECT\"\n  ),\n  local!caseTypeMetadata: rule!CMGT_UTIL_cast(\n    value: local!caseType[recordType!CMGT_CFG_CaseType.caseTypeMetadata],\n    type: recordType!CMGT_CFG_CaseTypeMetadata,\n  ),\n  local!sla: if(\n    a!isNullOrEmpty(\n      local!caseTypeMetadata[recordType!CMGT_CFG_CaseTypeMetadata.sla]\n    ),\n    a!map(\n      days: null,\n      hours: null,\n      minutes: null,\n      isBusinessDays: false\n    ),\n    #\"SYSTEM_SYSRULES_fromJson_v1\"(\n      local!caseTypeMetadata[recordType!CMGT_CFG_CaseTypeMetadata.sla]\n    )\n  ),\n  local!defaultPriority: rule!CMGT_QR_GetPriority(\n    priorityId: cons!CMGT_REFID_PRIORITY_NONE,\n    returnType: \"SINGLE_OBJECT\"\n  ),\n  #\"SYSTEM_SYSRULES_paneLayout\"(\n    panes:{\n      #\"SYSTEM_SYSRULES_pane\"(\n        backgroundColor: local!brandingMap.DefaultBackgroundColor,\n        contents:{\n          #\"SYSTEM_SYSRULES_columnsLayout\"(\n            columns: {\n              #\"SYSTEM_SYSRULES_columnLayout\"(\n                contents: {\n                  rule!CMGT_UTIL_HeaderField(\n                    brandingMap: local!brandingMap,\n                    label: #\"urn:appian:translation-string:v1:59f41fa8-1f11-4bb2-91d3-9056590d6ca8\",\n                    divider: \"NONE\",\n                    rightSideContents: {\n                      #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n                        actions: {\n                          #\"SYSTEM_SYSRULES_recordActionItem\"(\n                            action: #\"urn:appian:record-action:v1:82aa3b28-94c2-4d3c-a403-bb813bd76155/52900116-31d6-4cf3-aab7-01cc9d94a2a6\",\n                            identifier: ri!caseTypeUuid\n                          )\n                        },\n                        style: \"LINKS\",\n                        align: \"END\"\n                      ),\n\n                    },\n                    labelSize: \"SMALL\",\n                    labelFontWeight: \"SEMI_BOLD\",\n                    labelColor: local!brandingMap.StandardTextColor\n                  ),\n                  rule!CMGT_CaseTypeMetadata_formatDetailsCardLayout(\n                    label: #\"urn:appian:translation-string:v1:78ecdd7f-8128-4f65-bd14-46bde6be71de\",\n                    value: a!defaultValue(\n                      local!caseTypeMetadata[recordType!CMGT_CFG_CaseTypeMetadata.prefix],\n                      rule!CMGT_setPrefixDefault(caseType: local!caseType)\n                    ),\n                    brandingMap: local!brandingMap,\n                    stampIcon: \"tag\"\n                  ),\n                  rule!CMGT_UTIL_HeaderField(\n                    brandingMap: local!brandingMap,\n                    label: #\"urn:appian:translation-string:v1:f7c1d040-3a9b-4d3a-a1bb-8d3d1fc03d21\",\n                    divider: \"NONE\",\n                    rightSideContents: {},\n                    labelSize: \"SMALL\",\n                    labelFontWeight: \"SEMI_BOLD\",\n                    labelColor: local!brandingMap.StandardTextColor\n                  ),\n                  rule!CMGT_CaseTypeMetadata_formatDetailsCardLayout(\n                    label: if(\n                      index(local!sla, \"isBusinessDays\", \"\"),\n                      #\"urn:appian:translation-string:v1:a3a2ffa8-1da0-4a3a-9375-ae1e2b3ea369\",\n                      #\"urn:appian:translation-string:v1:9f41e6f7-45b5-4350-af35-58bf2b3af4eb\"\n                    ),\n                    value: if(\n                      rule!CMGT_UTIL_isEmptySLA(slaMap: local!sla),\n                      cons!CMGT_TXT_EMPTY_VALUE,\n                      joinarray(\n                        rule!CMGT_WFL_FormatSLADisplay(slaMap: local!sla),\n\n                      )\n                    ),\n                    brandingMap: local!brandingMap,\n                    stampIcon: \"calendar\"\n                  ),\n                  rule!CMGT_CaseTypeMetadata_formatDetailsCardLayout(\n                    label: #\"urn:appian:translation-string:v1:62c1d184-cd2b-4147-82cc-a8c82f4e295f\",\n                    value: a!defaultValue(\n                      local!caseTypeMetadata[recordType!CMGT_CFG_CaseTypeMetadata.priority.priorityName],\n                      local!defaultPriority[recordType!CMGT_CFG_Priority.priorityName]\n                    ),\n                    brandingMap: local!brandingMap,\n                    stampIcon: a!defaultValue(\n                      local!caseTypeMetadata[recordType!CMGT_CFG_CaseTypeMetadata.priority.icon],\n                      local!defaultPriority[recordType!CMGT_CFG_Priority.icon]\n                    )\n                  )\n                }\n              ),\n              #\"SYSTEM_SYSRULES_columnLayout\"(),\n              #\"SYSTEM_SYSRULES_columnLayout\"()\n            }\n          )\n        }\n      )\n    }\n  )\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_24901": {
      "name": "CMGT_QR_GetRelationshipMapType",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_CFG_RelationshipMapType,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_RelationshipMapType.relationshipMapTypeId,\n      operator: \"in\",\n      value: ri!relatedRelationshipTypeId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_RelationshipMapType.parentEntityCategoryId,\n      operator: \"=\",\n      value: ri!parentEntityTypeId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_RelationshipMapType.type,\n      operator: \"=\",\n      value: ri!type\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_RelationshipMapType.isActive,\n      operator: \"=\",\n      value: ri!isActive\n    )\n  },\n  fields: {\n    ri!fields,\n    if(\n      ri!excludeRelatedRecords,\n      {},\n      {\n        recordType!CMGT_CFG_RelationshipMapType.relatedRelationshipMapType,\n        recordType!CMGT_CFG_RelationshipMapType.relatedRelationshipMapType\n      }\n    ),\n    recordType!CMGT_CFG_RelationshipMapType.relationship\n  },\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  relatedRecordData: ri!relatedRecordData,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ecf6-527e-8000-9bbc-011c48011c48_57964": {
      "name": "CMGT_ControlPanel_Rules",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!brandingMap: rule!CMGT_CB_UTIL_LoadBrandingMap(),\n  local!triggerRefresh: a!refreshVariable(\n    value: now(),\n    refreshAfter: \"RECORD_ACTION\"\n  ),\n  local!allCaseRules: rule!CMGT_WFL_QR_GetCaseTypeWorkflowTask(\n    taskIntentionCodes: {\n      cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_TRIGGER\n    },\n    includeInactive: true,\n    fields: {\n      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction,\n      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTrigger,\n      /*to show the assignment rule selected*/\n      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction\n    },\n    additionalFilters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeUuid,\n        operator: \"is null\"\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationParentCaseTypeWorkflowTaskUuid,\n        operator: \"is null\"\n      )\n    },\n    triggerRefresh: local!triggerRefresh,\n    sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder,\n      ascending: true\n    )\n  ),\n  local!numOfInactiveAllCasesRules: rule!CMGT_UTIL_Filter(\n    records: local!allCaseRules,\n    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive,\n    value: { false },\n    filterType: \"MATCH_COUNT\"\n  ),\n  local!selectedCaseTypeRefreshed: rule!CMGT_QR_GetCaseType(\n    returnType: \"SINGLE_OBJECT\",\n    caseTypeUuid: ri!selectedCaseTypeUuid,\n    fields: {\n      recordType!CMGT_CFG_CaseType.parentCaseType\n    },\n    triggerRefresh: local!triggerRefresh,\n    includeInactive: true,\n    executeWhen: a!isNotNullOrEmpty(ri!selectedCaseTypeUuid)\n  ),\n  local!allAvailableFields: rule!CMGT_returnAvailableFields(\n    caseTypeRecordTypeUuid: local!selectedCaseTypeRefreshed[recordType!CMGT_CFG_CaseType.uuid],\n    parentCaseTypeRecordTypeUuid: local!selectedCaseTypeRefreshed[recordType!CMGT_CFG_CaseType.parentUuid]\n  ),\n  local!availableFieldsForTriggers: rule!CMGT_UTIL_Filter(\n    records: local!allAvailableFields,\n    fieldValuePairs: {\n      a!map(\n        field: \"uuid\",\n        value: rule!CMGT_ENUM_Automation_ootbCaseRecordFieldsToReject(\n          context: cons!CMGT_TXT_AVAILABLE_FIELDS_FOR_CASE_FIELD_UPDATED_TRIGGER_CONTEXT\n        )\n      )\n    },\n    filterType: \"REJECT\"\n  ),\n  local!filteredAvailableFields: rule!CMGT_UTIL_Filter(\n    records: local!allAvailableFields,\n    fieldValuePairs: {\n      a!map(\n        field: \"uuid\",\n        value: rule!CMGT_ENUM_Automation_ootbCaseRecordFieldsToReject(context: null)\n      )\n    },\n    filterType: \"REJECT\"\n  ),\n  local!displayConfigs: rule!CMGT_UTIL_RejectBlank(\n    {\n      /*numOfHigherLevelRules needed to display the execution order of the lower level rules correctly*/\n      a!map(\n        hierarchyLevel: #\"urn:appian:translation-string:v1:3807a409-6086-4767-8e1b-dd26b980ff5f\",\n        subHeadingLabel: null,\n        rulesToDisplay: local!allCaseRules,\n        showEmptyState: rule!CMGT_UTIL_IsBlank(local!allCaseRules),\n        numOfHigherLevelRules: 0\n      ),\n      if(\n        rule!CMGT_UTIL_IsBlank(ri!selectedCaseTypeUuid),\n        {},\n        if(\n          local!selectedCaseTypeRefreshed[recordType!CMGT_CFG_CaseType.isCategory],\n          a!localVariables(\n            local!caseCategoryRulesToDisplay: rule!CMGT_WFL_QR_GetCaseTypeWorkflowTask(\n              taskIntentionCodes: {\n                cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_TRIGGER\n              },\n              includeInactive: true,\n              fields: {\n                recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction,\n                recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTrigger,\n                /*to show the assignment rule selected*/\n                recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction,\n                recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseType,\n                recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseType\n              },\n              additionalFilters: {\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeUuid,\n                  operator: \"=\",\n                  value: ri!selectedCaseTypeUuid\n                )\n              },\n              triggerRefresh: local!triggerRefresh,\n              sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n                field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder,\n                ascending: true\n              )\n            ),\n            a!map(\n              hierarchyLevel: local!selectedCaseTypeRefreshed[recordType!CMGT_CFG_CaseType.name],\n              subHeadingLabel: null,\n              rulesToDisplay: local!caseCategoryRulesToDisplay,\n              showEmptyState: and(\n                rule!CMGT_UTIL_IsBlank(local!allCaseRules),\n                rule!CMGT_UTIL_IsBlank(local!caseCategoryRulesToDisplay)\n              ),\n              numOfHigherLevelRules: a!defaultValue(count(local!allCaseRules), 0) - local!numOfInactiveAllCasesRules\n            )\n          ),\n          a!localVariables(\n            local!caseCategoryRulesToDisplay: if(\n              rule!CMGT_UTIL_IsNotBlank(\n                local!selectedCaseTypeRefreshed[recordType!CMGT_CFG_CaseType.parentUuid]\n              ),\n              rule!CMGT_WFL_QR_GetCaseTypeWorkflowTask(\n                taskIntentionCodes: {\n                  cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_TRIGGER\n                },\n                includeInactive: true,\n                fields: {\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction,\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTrigger,\n                  /*to show the assignment rule selected*/\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction,\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseType,\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseType\n                },\n                additionalFilters: {\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeUuid,\n                    operator: \"=\",\n                    value: local!selectedCaseTypeRefreshed[recordType!CMGT_CFG_CaseType.parentUuid]\n                  )\n                },\n                triggerRefresh: local!triggerRefresh,\n                sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n                  field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder,\n                  ascending: true\n                )\n              ),\n              {}\n            ),\n            local!caseTypeRulesToDisplay: rule!CMGT_WFL_QR_GetCaseTypeWorkflowTask(\n              taskIntentionCodes: {\n                cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_TRIGGER\n              },\n              includeInactive: true,\n              fields: {\n                recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction,\n                recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTrigger,\n                /*to show the assignment rule selected*/\n                recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction,\n                recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseType,\n                recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseType\n              },\n              additionalFilters: {\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeUuid,\n                  operator: \"=\",\n                  value: local!selectedCaseTypeRefreshed[recordType!CMGT_CFG_CaseType.uuid]\n                )\n              },\n              triggerRefresh: local!triggerRefresh,\n              sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n                field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder,\n                ascending: true\n              )\n            ),\n            local!numOfInactiveCaseCategoryRules: rule!CMGT_UTIL_Filter(\n              records: local!caseCategoryRulesToDisplay,\n              field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive,\n              value: { false },\n              filterType: \"MATCH_COUNT\"\n            ),\n            {\n              a!map(\n                hierarchyLevel: local!selectedCaseTypeRefreshed[recordType!CMGT_CFG_CaseType.parentCaseType.name],\n                subHeadingLabel: null,\n                rulesToDisplay: local!caseCategoryRulesToDisplay,\n                showEmptyState: and(\n                  rule!CMGT_UTIL_IsBlank(local!allCaseRules),\n                  rule!CMGT_UTIL_IsBlank(local!caseCategoryRulesToDisplay)\n                ),\n                numOfHigherLevelRules: a!defaultValue(count(local!allCaseRules), 0) - local!numOfInactiveAllCasesRules\n              ),\n              a!map(\n                hierarchyLevel: local!selectedCaseTypeRefreshed[recordType!CMGT_CFG_CaseType.name],\n                subHeadingLabel: null,\n                rulesToDisplay: local!caseTypeRulesToDisplay,\n                showEmptyState: and(\n                  rule!CMGT_UTIL_IsBlank(local!allCaseRules),\n                  rule!CMGT_UTIL_IsBlank(local!caseCategoryRulesToDisplay),\n                  rule!CMGT_UTIL_IsBlank(local!caseTypeRulesToDisplay)\n                ),\n                numOfHigherLevelRules: a!defaultValue(count(local!allCaseRules), 0) + a!defaultValue(\n                  count(local!caseCategoryRulesToDisplay),\n                  0\n                ) - local!numOfInactiveCaseCategoryRules - local!numOfInactiveAllCasesRules\n              )\n            }\n          )\n        )\n      )\n    }\n  ),\n  #\"SYSTEM_SYSRULES_paneLayout\"(\n    panes: #\"SYSTEM_SYSRULES_pane\"(\n      contents: {\n        rule!CMGT_CB_UTIL_HeaderSubHeaderField(\n          rightSideContents: {\n            #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n              items: {\n                #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                  item: #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n                    actions: {\n                      if(\n                        rule!CMGT_UTIL_IsBlank(ri!selectedCaseTypeUuid),\n                        #\"SYSTEM_SYSRULES_recordActionItem\"(\n                          action: #\"urn:appian:record-action:v1:d6ebee27-6e86-47e3-a9b8-71fdd0348854/acf39782-4d3c-4452-accb-4d575582e565\"\n                        ),\n                        #\"SYSTEM_SYSRULES_recordActionItem\"(\n                          action: #\"urn:appian:record-action:v1:82aa3b28-94c2-4d3c-a403-bb813bd76155/08419512-782a-4f65-8aa6-245e1bfcda1b\",\n                          identifier: ri!selectedCaseTypeUuid\n                        )\n                      )\n                    },\n                    style: \"TOOLBAR_PRIMARY\",\n                    align: \"END\"\n                  )\n                )\n              },\n              alignVertical: \"MIDDLE\",\n              spacing: \"NONE\"\n            )\n          },\n          brandingMap: local!brandingMap,\n          showWhen: count(\n            a!flatten(local!displayConfigs.rulesToDisplay)\n          ) > 0,\n          subheaderLabelColor: local!brandingMap.StandardTextColor,\n          rightSideContentWidth: \"NARROW_PLUS\",\n          extraInformationContents: {\n            #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n              items: {\n                #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                  item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                    value: #\"SYSTEM_SYSRULES_richTextIcon\"(\n                      icon: \"info-circle\",\n                      color: local!brandingMap.InfoAccentColor,\n                      size: \"STANDARD\"\n                    )\n                  ),\n                  width: \"MINIMIZE\"\n                ),\n                #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                  item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                    value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                      text: #\"urn:appian:translation-string:v1:272922a2-1f72-442e-a55a-30b56368b523\",\n                      color: local!brandingMap.SecondaryTextColor\n                    )\n                  ),\n                  width: \"MINIMIZE\"\n                )\n              }\n            )\n          }\n        ),\n        if(\n          or(\n            /*cases level with no rules*/\n            and(\n              rule!CMGT_UTIL_IsBlank(local!allCaseRules),\n              rule!CMGT_UTIL_IsBlank(ri!selectedCaseTypeUuid)\n            ),\n            /*category level with no rules*/\n            and(\n              rule!CMGT_UTIL_IsNotBlank(ri!selectedCaseTypeUuid),\n              local!selectedCaseTypeRefreshed[recordType!CMGT_CFG_CaseType.isCategory],\n              local!displayConfigs.showEmptyState[2]\n            ),\n            /*type level with no rules*/\n            and(\n              rule!CMGT_UTIL_IsNotBlank(ri!selectedCaseTypeUuid),\n              not(\n                a!defaultValue(local!selectedCaseTypeRefreshed[recordType!CMGT_CFG_CaseType.isCategory], false)\n              ),\n              local!displayConfigs.showEmptyState[3]\n            )\n          ),\n          #\"SYSTEM_SYSRULES_cardLayout\"(\n            contents: {\n              rule!CMGT_WFL_AutomationRules_EmptyState(\n                brandingMap: local!brandingMap,\n                selectedCaseTypeUuid: ri!selectedCaseTypeUuid\n              )\n            },\n            shape: local!brandingMap.CardShape,\n            showBorder: local!brandingMap.CardShowBorder,\n            style: local!brandingMap.DefaultBackgroundColor\n          ),\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!displayConfigs,\n            expression: a!localVariables(\n              local!rulesToDisplay: rule!CMGT_UTIL_Filter(\n                records: fv!item.rulesToDisplay,\n                field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive,\n                value: { true, if(fv!isLast, false, {}) }\n              ),\n              {\n                rule!CMGT_WFL_CaseType_RulesCardDisplayWrapper(\n                  label: fv!item.hierarchyLevel,\n                  brandingMap: local!brandingMap,\n                  subheaderLabel: fv!item.subHeadingLabel,\n                  rulesToDisplay: local!rulesToDisplay,\n                  showControls: fv!isLast,\n                  triggerRefresh: local!triggerRefresh,\n                  numOfHigherLevelRules: fv!item.numOfHigherLevelRules,\n                  availableFields: local!filteredAvailableFields,\n                  availableFieldsForTriggers: local!availableFieldsForTriggers\n                )\n              }\n            )\n          )\n        )\n      },\n      backgroundColor: local!brandingMap.DefaultBackgroundColor\n    )\n  )\n)"
    },
    "_a-0000ed6e-4eb8-8000-9d48-011c48011c48_3752018": {
      "name": "CMGT_Automation_ReturnCaseFieldDifferences",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*returns only category fields*/\n  local!studioCategoryFields: #\"SYSTEM_SYSRULES_controlPanelRecordHierarchyMetadata\"(\n    controlPanel: #\"urn:appian:control-panel:v1:1b82dc2b-d4df-44ed-ac7c-3cce3b4ee0e0\",\n    recordUuid: ri!case[recordType!CMGT_Case.caseType.parentUuid]\n  )[1],\n  /*returns only type fields*/\n  local!studioTypeFields: #\"SYSTEM_SYSRULES_controlPanelRecordHierarchyMetadata\"(\n    controlPanel: #\"urn:appian:control-panel:v1:1b82dc2b-d4df-44ed-ac7c-3cce3b4ee0e0\",\n    recordUuid: ri!case[recordType!CMGT_Case.caseTypeUuid]\n  )[1],\n  /*returns only case fields*/\n  local!caseFields: rule!CMGT_returnAvailableFields(\n    caseTypeRecordTypeUuid: null,\n    parentCaseTypeRecordTypeUuid: null\n  ),\n  /*filters out either the case assignee or case watcher custom field code depending on the additional field context*/\n  local!filteredAvailableCaseFields: \n  rule!CMGT_UTIL_Filter(\n    records: \n    /*filters out any fields that do not need to be evaluated based off the process model/additional field context passed through*/\n    rule!CMGT_UTIL_Filter(\n      records: local!caseFields,\n      fieldValuePairs: {\n        a!map(\n          field: \"uuid\",\n          value: rule!CMGT_ENUM_Automation_ootbCaseRecordFieldsToReject(context: ri!processModel)\n        )\n      },\n      filterType: \"REJECT\"\n    ),\n    fieldValuePairs: {\n      a!match(\n        value: ri!processModel,\n        equals: cons!CMGT_TXT_AVAILABLE_FIELDS_FOR_UPDATE_CASE_ASSIGNEE_FIELD_TRIGGER_CONTEXT,\n        then: a!map(\n          field: \"customFieldCode\",\n          value: \"CASE_WATCHER\"\n        ),\n        equals: cons!CMGT_TXT_AVAILABLE_FIELDS_FOR_UPDATE_CASE_WATCHER_FIELD_TRIGGER_CONTEXT,\n        then: a!map(\n          field: \"customFieldCode\",\n          value: \"CASE_ASSIGNEE\"\n        ),\n        default: a!map(field: \"uuid\", value: null)\n      )\n    },\n    filterType: \"REJECT\"\n  ),\n  local!fieldGroupings: {\n    a!map(\n      fields: local!filteredAvailableCaseFields\n    ),\n    a!map(\n      fields: rule!CMGT_formatStudioFieldHierarchy(local!studioCategoryFields)\n    ),\n    a!map(\n      fields: rule!CMGT_formatStudioFieldHierarchy(local!studioTypeFields)\n    )\n  },\n  a!flatten(\n    rule!CMGT_UTIL_RejectBlank(\n      {\n        /*goes through each level (case, case category, case type)*/\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: local!fieldGroupings,\n          expression: a!localVariables(\n            local!currentFieldGrouping: fv!item,\n            local!groupingIndex: fv!index,\n            /*goes through each field within each level*/\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: local!currentFieldGrouping.fields,\n              expression: a!localVariables(\n                local!currentField: fv!item,\n                /*provides the appropriate original data that needs to be indexed on based on the level*/\n                local!originalRuntimeData: rule!CMGT_AUTO_EVAL_returnRuntimeValue(\n                  data: a!match(\n                    value: local!groupingIndex,\n                    equals: 1,\n                    then: ri!originalCase,\n                    equals: 2,\n                    then: ri!originalStudioData[local!studioCategoryFields.dataKeyName],\n                    equals: 3,\n                    then: ri!originalStudioData[local!studioTypeFields.dataKeyName],\n                    default: ri!originalCase\n                  ),\n                  field: local!currentField\n                ),\n                /*provides the appropriate runtime data that needs to be indexed on based on the level*/\n                local!newRuntimeData: rule!CMGT_AUTO_EVAL_returnRuntimeValue(\n                  data: a!match(\n                    value: local!groupingIndex,\n                    equals: 1,\n                    then: ri!case,\n                    equals: 2,\n                    then: ri!studioData[local!studioCategoryFields.dataKeyName],\n                    equals: 3,\n                    then: ri!studioData[local!studioTypeFields.dataKeyName],\n                    default: ri!case,\n                    \n                  ),\n                  field: local!currentField\n                ),\n                /*returns the field context that is stored in the TRIGGER_CONTEXT column for when the trigger is 'case field is updated'*/\n                local!fieldJson: #\"SYSTEM_SYSRULES_toJson_v1\"(\n                  rule!CMGT_Automation_constructSavedFieldMapping(selectedField: local!currentField)\n                ),\n                a!match(\n                  value: ri!processModel,\n                  /*bulk update on a case*/\n                  equals: tostring(cons!CMGT_PM_BULK_UPDATE_CASE),\n                  then: if(\n                    or(\n                      rule!CMGT_UTIL_IsNotBlank(local!newRuntimeData),\n                      /*checks if the checkbox was selected for remove case assignees*/\n                      and(\n                        local!currentField.customFieldCode = \"CASE_ASSIGNEE\",\n                        rule!CMGT_UTIL_IsNotBlank(\n                          rule!CMGT_UTIL_Filter(\n                            records: ri!case[recordType!CMGT_Case.roles],\n                            field: recordType!CMGT_Role.roleTypeId,\n                            value: {\n                              cons!CMGT_ROLE_TYPE_ID_FOR_REMOVING_ASSIGNEES\n                            }\n                          )\n                        )\n                      ),\n                      /*checks if the checkbox was selected for remove case group assignees*/\n                      and(\n                        local!currentField.customFieldCode = \"GROUP_ASSIGNEE\",\n                        rule!CMGT_UTIL_IsNotBlank(\n                          rule!CMGT_UTIL_Filter(\n                            records: ri!case[recordType!CMGT_Case.roles],\n                            field: recordType!CMGT_Role.roleTypeId,\n                            value: {\n                              cons!CMGT_ROLE_TYPE_ID_FOR_REMOVING_ASSIGNEE_GRPS\n                            }\n                          )\n                        )\n                      )\n                    ),\n                    local!fieldJson,\n                    null\n                  ),\n                  /*one to many fields on the case*/\n                  whenTrue: and(\n                    rule!CMGT_UTIL_IsListType(local!originalRuntimeData),\n                    rule!CMGT_UTIL_IsListType(local!newRuntimeData)\n                  ),\n                  then: if(\n                    rule!CMGT_UTIL_IsBlank(\n                      symmetricdifference(\n                        cast(\n                          runtimetypeof(local!currentField.fieldType),\n                          local!originalRuntimeData\n                        ),\n                        cast(\n                          runtimetypeof(local!currentField.fieldType),\n                          local!newRuntimeData\n                        )\n                      )\n                    ),\n                    null,\n                    local!fieldJson\n                  ),\n                  /*checks for the scenario where something is not initally filled out or is subsequently deleted*/\n                  whenTrue: or(\n                    and(\n                      rule!CMGT_UTIL_IsBlank(local!originalRuntimeData),\n                      rule!CMGT_UTIL_IsNotBlank(local!newRuntimeData)\n                    ),\n                    and(\n                      rule!CMGT_UTIL_IsNotBlank(local!originalRuntimeData),\n                      rule!CMGT_UTIL_IsBlank(local!newRuntimeData)\n                    )\n                  ),\n                  then: local!fieldJson,\n                  /*one to one fields on the case*/\n                  default: if(\n                    local!newRuntimeData <> local!originalRuntimeData,\n                    local!fieldJson,\n                    null\n                  )\n                )\n              )\n            )\n          )\n        )\n      }\n    )\n  )\n)"
    },
    "_a-0000ecbe-e702-8000-9cf8-011c48011c48_3255108": {
      "name": "CMGT_WFL_QR_GetConditionSet",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_CFG_ConditionSet,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  logicalExpressions: ri!additionalLogicalExpression,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_ConditionSet.conditionSetId,\n      operator: \"in\",\n      value: ri!cfgConditionSetId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_ConditionSet.conditionSetUuid,\n      operator: \"in\",\n      value: ri!cfgConditionSetUuid\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_ConditionSet.isActive,\n      operator: \"=\",\n      value: ri!isActive,\n      applyWhen: a!isNotNullOrEmpty(ri!isActive)\n    )\n  },\n  fields: {\n    ri!fields,\n    recordType!CMGT_CFG_ConditionSet.childConditionSet,\n    recordType!CMGT_CFG_ConditionSet.childConditionSet\n  },\n  relatedRecordData: { ri!relatedRecordData },\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ebaa-19ba-8000-9ca6-011c48011c48_2097980": {
      "name": "CMGT_LA_UTIL_LoadBrandingMap",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_MergeMaps(\n  map1: rule!CMGT_UTIL_LoadBrandingMap(),\n  map2: a!localVariables(\n    local!limitedAccessBranding: getbrandingconfig(\n      cons!CMGT_LA_DOC_DEFAULT_BRANDING_CONFIG,\n      true\n    ),\n    local!output: reduce(\n      #\"urn:appian:function:v1:a:update\"(_, _, _),\n      a!map(),\n      merge(\n        {\n          local!limitedAccessBranding.defaultBranding.key,\n          local!limitedAccessBranding.customBranding.key\n        },\n        {\n          local!limitedAccessBranding.defaultBranding.value,\n          local!limitedAccessBranding.customBranding.value\n        }\n      )\n    ),\n    local!output\n  )\n)"
    },
    "_a-0000ed9c-71ef-8000-9d58-011c48011c48_3988340": {
      "name": "CMGT_CFG_ENUM_ACT_SEND_EMAIL",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  /*code that is used to help evaluation of what actions needs to be ran*/\n  actionCode: cons!CMGT_CFG_TXT_ACT_SEND_EMAIL,\n  /*Display text of action type in configuration*/\n  name: #\"urn:appian:translation-string:v1:30808437-7386-42dc-8605-9d75e19508d3\",\n  image: cons!CMGT_DOC_IMAGE_AUTOMATION_TYPE_SEND_EMAIL,\n  description: #\"urn:appian:translation-string:v1:5efb7150-37e9-41f6-b9cc-ddbc1850e07d\",\n  isCustom: false(),\n  /*process to be run to send en email*/\n  PmConstant: cons!CMGT_PM_TASK_COMPLETE_AUTOMATED_TASK_SEND_EMAIL,\n  /*evaluation rule that runs and outputs the necessary process parameters*/\n  pmParameterEvalRule: rule!CMGT_AUTO_EVAL_SendEmail_DetermineProcessParameters,\n  context: cons!CMGT_CFG_TXT_ACT_CONTEXT_AUTOMATION,\n  createdBy: \"system\"\n)"
    },
    "_a-0000e98b-cfe0-8000-9ba5-011c48011c48_20741": {
      "name": "CMGT_QR_GetDocument",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_Document,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Document.caseId,\n      operator: \"=\",\n      value: ri!caseId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Document.taskId,\n      operator: \"=\",\n      value: ri!taskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Document.documentId,\n      operator: \"in\",\n      value: ri!documentId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Document.commentDocumentMap.commentId,\n      operator: \"=\",\n      value: ri!commentId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Document.documentName,\n      operator: \"in\",\n      value: ri!documentFileNames\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Document.modifiedOn,\n      operator: \"=\",\n      value: ri!includeModifiedOn\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Document.modifiedOn,\n      operator: \"<>\",\n      value: ri!excludeModifiedOn\n    )\n  },\n  fields: {\n    ri!fields,\n    recordType!CMGT_Document.case,\n    recordType!CMGT_Document.task,\n    recordType!CMGT_Document.createdByUser,\n    recordType!CMGT_Document.modifiedByUser\n  },\n  pagingInfo: ri!pagingInfo,\n  sort: a!defaultValue(\n    value: ri!sort,\n    default: #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_Document.createdOn,\n      ascending: false\n    )\n  ),\n  relatedRecordData: ri!relatedRecordData,\n  groupByFields: ri!groupByFields,\n  logicalExpressions: ri!additionalLogicalExpression,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_26020": {
      "name": "CMGT_QR_GetTag",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_Tag,\n  returnType: ri!returnType,\n  executeWhen: ri!executeWhen,\n  triggerRefresh: ri!triggerRefresh,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Tag.tagId,\n      operator: \"in\",\n      value: ri!tagId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Tag.tagName,\n      operator: \"=\",\n      value: ri!tagName\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Tag.caseTagMap.caseId,\n      operator: \"=\",\n      value: ri!caseId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Tag.isActive,\n      operator: \"=\",\n      value: ri!isActive\n    )\n  },\n  fields: ri!fields,\n  pagingInfo: ri!pagingInfo,\n  sort: a!defaultValue(\n    value: ri!sort,\n    default: #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_Tag.tagName,\n      ascending: true\n    )\n  ),\n  relatedRecordData: ri!relatedRecordData,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_568215": {
      "name": "CMGT_WFL_QR_GetReferenceMilestone",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_WFL_CFG_ReferenceMilestone,\n  returnType: ri!returnType,\n  executeWhen: ri!executeWhen,\n  triggerRefresh: ri!triggerRefresh,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_ReferenceMilestone.caseTypeUuid,\n      operator: \"=\",\n      value: ri!caseTypeUuid\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_ReferenceMilestone.referenceMilestoneId,\n      operator: \"in\",\n      value: ri!referenceMilestoneId\n    )\n  },\n  fields: {\n    ri!fields,\n    recordType!CMGT_WFL_CFG_ReferenceMilestone.caseType\n  },\n  relatedRecordData: { ri!relatedRecordData },\n  pagingInfo: ri!pagingInfo,\n  sort: a!defaultValue(\n    ri!sort,\n    #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_WFL_CFG_ReferenceMilestone.sortOrder,\n      ascending: true\n    )\n  ),\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000e99c-1217-8000-9ba9-011c48011c48_56349": {
      "name": "CMGT_UTIL_FormatDateTime",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!dateTime),\n  \"\",\n  a!localVariables(\n    /*Converting dateTime to system time zone if  convertToSystemTimeZone is passed true */\n    local!dateTimeToFormat: if(\n      ri!convertToSystemTimeZone,\n      rule!CMGT_UTIL_ConvertDateTimeToTimezone(\n        dateTime: ri!dateTime,\n        timezone: rule!CMGT_UTIL_SystemTimezone()\n      ),\n      ri!dateTime\n    ),\n    if(\n      ri!returnTime,\n      text(local!dateTimeToFormat, \"h:mm a\"),\n      if(\n        ri!includeTime,\n        text(\n          local!dateTimeToFormat,\n          \"mmm d, yyyy h:mm a\"\n        ),\n        if(\n          ri!returnMonthAndDay,\n          text(local!dateTimeToFormat, \"mmm.d\"),\n          text(local!dateTimeToFormat, \"mmm d, yyyy\")\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e99c-1217-8000-9ba9-011c48011c48_56355": {
      "name": "CMGT_UTIL_SystemTimezone",
      "type": "Expression Rule",
      "sail_code": "usertimezone(\"Administrator\")"
    },
    "_a-0000e9fd-9441-8000-9bdc-011c48011c48_306412": {
      "name": "CMGT_EventHistory_Case_FormatDetails",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!details: cast(\n    'type!{http://www.appian.com/ae/types/2009}Map',\n    if(\n      a!isNotNullOrEmpty(\n        ri!data[recordType!CMGT_EventHistory_Case.details]\n      ),\n      #\"SYSTEM_SYSRULES_fromJson_v1\"(\n        ri!data[recordType!CMGT_EventHistory_Case.details]\n      ),\n      null\n    )\n  ),\n  a!match(\n    value: ri!data[recordType!CMGT_EventHistory_Case.caseEventTypeId],\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_CASE_ADD_RELATED_CASE,\n        cons!CMGT_REFID_EVENT_TYPE_CASE_REMOVE_RELATED_CASE\n      },\n      fv!value\n    ),\n    then: a!localVariables(\n      local!case: rule!CMGT_QR_GetCase(\n        returnType: \"SINGLE_OBJECT\",\n        executeWhen: a!isNotNullOrEmpty(\n          local!details.relatedCaseId\n        ),\n        caseId: local!details.relatedCaseId\n      ),\n      concat(\n        local!case[recordType!CMGT_Case.friendlyId],\n        \" | \",\n        local!case[recordType!CMGT_Case.title],\n        char(\n          10\n        ),\n        #\"urn:appian:translation-string:v1:802ce84a-8b69-44d9-acb6-b3f80a4fc7b7\"(\n          #\"urn:appian:translation-variable:v1:00cdd306-d8cf-499b-8b48-5ca77d333e58\": displayvalue(\n            tointeger(\n              local!details.relationshipMapTypeId\n            ),\n            ri!relationshipMapTypes[recordType!CMGT_CFG_RelationshipMapType.relationshipMapTypeId],\n            ri!relationshipMapTypes[recordType!CMGT_CFG_RelationshipMapType.relationship.label],\n            null\n          )\n        )\n      )\n    ),\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_CASE_ADD_RELATED_ENTITY,\n        cons!CMGT_REFID_EVENT_TYPE_CASE_REMOVE_RELATED_ENTITY\n      },\n      fv!value\n    ),\n    then: concat(\n      rule!CMGT_QR_GetEntity(\n        entityId: local!details.entityId,\n        includeInactive: true,\n        returnType: \"SINGLE_OBJECT\"\n      )[recordType!CMGT_Entity.title],\n      char(\n        10\n      ),\n      #\"urn:appian:translation-string:v1:c1b0a11b-bf1f-43dd-b003-1a2ff5f48d16\"(\n        #\"urn:appian:translation-variable:v1:7d7f6926-286a-47ee-8c24-53fbbaee0b5d\": displayvalue(\n          tointeger(\n            local!details.entityTypeId\n          ),\n          ri!entityTypes[recordType!CMGT_CFG_EntityType.entityTypeId],\n          ri!entityTypes[recordType!CMGT_CFG_EntityType.label],\n          null\n        )\n      )\n    ),\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_CASE_ADD_WATCHER,\n        cons!CMGT_REFID_EVENT_TYPE_CASE_REMOVED_WATCHER,\n        cons!CMGT_REFID_EVENT_TYPE_CASE_ADD_ASSIGNEE,\n        cons!CMGT_REFID_EVENT_TYPE_CASE_REMOVED_ASSIGNEE,\n        cons!CMGT_LA_REFID_EVENT_TYPE_CASE_ADD_SUBMITTER,\n        \n      },\n      fv!value\n    ),\n    then: if(\n      a!isNotNullOrEmpty(\n        local!details.groupId\n      ),\n      group(\n        tointeger(\n          local!details.groupId\n        ),\n        \"groupName\"\n      ),\n      rule!CMGT_UTIL_DisplayUserFullName(\n        username: local!details.user\n      )\n    ),\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_CASE_ADD_TAG,\n        cons!CMGT_REFID_EVENT_TYPE_CASE_REMOVE_TAG\n      },\n      fv!value\n    ),\n    then: rule!CMGT_QR_GetTag(\n      tagId: local!details.tagId,\n      returnType: \"SINGLE_OBJECT\"\n    )[recordType!CMGT_Tag.tagName],\n    whenTrue: fv!value = cons!CMGT_REFID_EVENT_TYPE_CASE_UPDATE_DUE_DATE,\n    then: rule!CMGT_UTIL_FormatDateTime(\n      dateTime: local!details.dueOn,\n      includeTime: false,\n      convertToSystemTimeZone: true\n    ),\n    whenTrue: fv!value = cons!CMGT_REFID_EVENT_TYPE_CASE_UPDATE_PRIORITY,\n    then: index(\n      rule!CMGT_QR_GetPriority(\n        priorityId: local!details.priorityId,\n        fields: recordType!CMGT_CFG_Priority.priorityName,\n        executeWhen: a!isNotNullOrEmpty(\n          value: local!details.priorityId\n        )\n      ),\n      recordType!CMGT_CFG_Priority.priorityName,\n      null\n    ),\n    whenTrue: fv!value = cons!CMGT_REFID_EVENT_TYPE_CASE_UPDATE_STATUS,\n    then: index(\n      rule!CMGT_QR_GetStatus(\n        statusId: local!details.statusId,\n        fields: recordType!CMGT_CFG_Status.statusLabel,\n        executeWhen: a!isNotNullOrEmpty(\n          value: local!details.statusId\n        )\n      ),\n      recordType!CMGT_CFG_Status.statusLabel,\n      null\n    ),\n    whenTrue: fv!value = cons!CMGT_REFID_EVENT_TYPE_CASE_UPDATE_CASE_TITLE,\n    then: local!details.title,\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_CASE_ADD_COMMENT,\n        cons!CMGT_REFID_EVENT_TYPE_CASE_UPDATE_COMMENT,\n        cons!CMGT_REFID_EVENT_TYPE_CASE_REPLY_TO_COMMENT,\n        cons!CMGT_REFID_EVENT_TYPE_CASE_DELETE_COMMENT\n      },\n      fv!value\n    ),\n    then: concat(\n      #\"urn:appian:translation-string:v1:b047f92a-3c3c-4104-9fab-4323d484d78f\"(\n        #\"urn:appian:translation-variable:v1:98579b94-57f7-41ee-8b4e-649f6147ac35\": rule!CMGT_UTIL_StripHtmlTags(\n          value: local!details.commentText,\n          isFormatted: true\n        )\n      ),\n      if(\n        rule!CMGT_UTIL_IsBlank(\n          local!details.taggedUsers\n        ),\n        \"\",\n        concat(\n          char(\n            10\n          ),\n          #\"urn:appian:translation-string:v1:1989f3c9-20e5-4be9-822b-7b1dc48f424b\"(\n            #\"urn:appian:translation-variable:v1:0ceb2d10-7e2a-44f9-919d-e51150bb29d3\": joinarray(\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: local!details.taggedUsers,\n                expression: rule!CMGT_UTIL_DisplayUserFullName(\n                  username: fv!item\n                )\n              ),\n              \", \"\n            )\n          )\n        )\n      ),\n      if(\n        rule!CMGT_UTIL_IsBlank(\n          local!details.documents\n        ),\n        \"\",\n        concat(\n          char(\n            10\n          ),\n          #\"urn:appian:translation-string:v1:c0d05eca-625c-4aba-afba-fda052e49cb2\"(\n            #\"urn:appian:translation-variable:v1:7299566d-8206-4962-bb5e-71475e411afb\": joinarray(\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: local!details.documents,\n                expression: fv!item\n              ),\n              \", \"\n            )\n          )\n        )\n      )\n    ),\n    whenTrue: fv!value = cons!CMGT_PORTAL_REFID_EVENT_TYPE_UPDATE_CASE_CONTACT,\n    then: joinarray(\n      rule!CMGT_UTIL_RejectBlank(\n        array: {\n          if(\n            rule!CMGT_UTIL_IsBlank(\n              local!details.firstName\n            ),\n            null,\n            #\"urn:appian:translation-string:v1:91fffdbd-a177-4f4f-b0e0-769b9475604b\"(\n              #\"urn:appian:translation-variable:v1:e6f9ee42-d08f-46cd-90ce-29e1ce3a8e07\": local!details.firstName\n            )\n          ),\n          if(\n            rule!CMGT_UTIL_IsBlank(\n              local!details.lastName\n            ),\n            null,\n            #\"urn:appian:translation-string:v1:33ebde45-da93-4bff-813c-aafee5c65dd6\"(\n              #\"urn:appian:translation-variable:v1:d44e0b68-4130-4944-a35b-19ac9d247a9d\": local!details.lastName\n            )\n          ),\n          if(\n            rule!CMGT_UTIL_IsBlank(\n              local!details.email\n            ),\n            null,\n            #\"urn:appian:translation-string:v1:8a2f3918-6edc-4aef-b7eb-eb84fd4d95ac\"(\n              #\"urn:appian:translation-variable:v1:325eca9c-740e-49e3-9a9f-6541520f32f8\": local!details.email\n            )\n          )\n        }\n      ),\n      char(\n        10\n      )\n    ),\n    whenTrue: contains(\n      {\n        cons!CMGT_LA_REFID_EVENT_TYPE_CASE_CREATE_MESSAGE,\n        cons!CMGT_LA_REFID_EVENT_TYPE_CASE_UPDATE_MESSAGE,\n        cons!CMGT_LA_REFID_EVENT_TYPE_CASE_REPLY_TO_MESSAGE,\n        cons!CMGT_LA_REFID_EVENT_TYPE_CASE_DELETE_MESSAGE\n      },\n      fv!value\n    ),\n    then: concat(\n      #\"urn:appian:translation-string:v1:48b61db9-42d4-44e5-988d-8ac713130a6c\"(\n        #\"urn:appian:translation-variable:v1:26bedc4f-aa52-4263-b7f2-7bdfc9a2c3de\": rule!CMGT_UTIL_StripHtmlTags(\n          value: local!details.commentText,\n          isFormatted: true\n        )\n      ),\n      if(\n        rule!CMGT_UTIL_IsBlank(\n          local!details.taggedUsers\n        ),\n        \"\",\n        concat(\n          char(\n            10\n          ),\n          #\"urn:appian:translation-string:v1:1989f3c9-20e5-4be9-822b-7b1dc48f424b\"(\n            #\"urn:appian:translation-variable:v1:0ceb2d10-7e2a-44f9-919d-e51150bb29d3\": joinarray(\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: local!details.taggedUsers,\n                expression: rule!CMGT_UTIL_DisplayUserFullName(\n                  username: fv!item\n                )\n              ),\n              \", \"\n            )\n          )\n        )\n      ),\n      if(\n        rule!CMGT_UTIL_IsBlank(\n          local!details.documents\n        ),\n        \"\",\n        concat(\n          char(\n            10\n          ),\n          #\"urn:appian:translation-string:v1:c0d05eca-625c-4aba-afba-fda052e49cb2\"(\n            #\"urn:appian:translation-variable:v1:7299566d-8206-4962-bb5e-71475e411afb\": joinarray(\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: local!details.documents,\n                expression: fv!item\n              ),\n              \", \"\n            )\n          )\n        )\n      )\n    ),\n    whenTrue: fv!value = cons!CMGT_EML_TRI_REFID_EVENT_TYPE_LINKED_THREAD,\n    then: #\"urn:appian:translation-string:v1:65c8bfe4-e5b7-48d1-b95f-7ff19b102d5c\"(\n      #\"urn:appian:translation-variable:v1:df0a14e0-2a2f-456a-a64b-d14a5258f50d\": index(\n        rule!CMGT_EML_TRI_QR_GetThreads(\n          threadIds: local!details.threadId,\n          fields: recordType!CMGT_EML_TRI_Thread.subject,\n          executeWhen: a!isNotNullOrEmpty(\n            value: local!details.threadId\n          )\n        ),\n        recordType!CMGT_EML_TRI_Thread.subject,\n        null\n      )\n    ),\n    default: local!details.value\n  )\n)"
    },
    "_a-0000e9ef-12e0-8000-9bce-011c48011c48_258837": {
      "name": "CMGT_SUB_SetCaseFolderSecurity_Logic",
      "type": "Expression Rule",
      "sail_code": "a!flatten(\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!cases,\n    expression: a!localVariables(\n      /*Get the public folder for the case (the one with runtime security)*/\n      local!folder: rule!CMGT_UTIL_GetSubFolderByType(\n        parentFolderId: fv!item[recordType!CMGT_Case.folderId],\n        folderType: cons!CMGT_TXT_CASE_SUB_FOLDERS[2]\n      ),\n      /*Get the current security*/\n      local!folderSecurity: rule!CMGT_PLUGIN_ReturnContentRoleMap(folder: local!folder),\n      local!currentEditorUsers: touser(\n        a!flatten(local!folderSecurity.editorUsers)\n      ),\n      /*Determine all users who should be in the security role map*/\n      /* 1) All roles for the case - roles will never be null*/\n      local!userRolesForCase: fv!item[recordType!CMGT_Case.roles.username],\n      local!usersWhoAreNotInternal: touser(\n        reject(\n          #\"urn:appian:function:v1:a:isusermemberofgroup?okey=a!isUserMemberOfGroup\"(\n            username: _,\n            groups: cons!CMGT_GRP_INTERNAL_USERS\n          ),\n          local!userRolesForCase\n        )\n      ),\n      if(\n        and(\n          a!isNullOrEmpty(local!usersWhoAreNotInternal),\n          a!isNullOrEmpty(local!currentEditorUsers)\n        ),\n        {},\n        a!localVariables(\n          /*Calculate the diff between current and desired security role map*/\n          local!userEditorsToAddToFolder: difference(\n            local!usersWhoAreNotInternal,\n            local!currentEditorUsers\n          ),\n          local!usersToRemoveFromFolder: difference(\n            local!currentEditorUsers,\n            local!usersWhoAreNotInternal\n          ),\n          /*Create an output of modifications to make, if there are some to make*/\n          if(\n            and(\n              a!isNullOrEmpty(local!userEditorsToAddToFolder),\n              a!isNullOrEmpty(local!usersToRemoveFromFolder)\n            ),\n            {},\n            {\n              a!map(\n                caseId: fv!item[recordType!CMGT_Case.caseId],\n                folder: local!folder,\n                editors: local!userEditorsToAddToFolder,\n                removes: local!usersToRemoveFromFolder,\n                admins: {},\n                viewers: {}\n              )\n            }\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000ea0e-71db-8000-9be6-011c48011c48_470477": {
      "name": "CMGT_TaskEventHistory_Constructor",
      "type": "Expression Rule",
      "sail_code": "recordType!CMGT_EventHistory_Task(\n  recordType!CMGT_EventHistory_Task.taskId: ri!taskId,\n  recordType!CMGT_EventHistory_Task.timestamp: a!defaultValue(value: ri!timestamp, default: now()),\n  recordType!CMGT_EventHistory_Task.username: rule!CMGT_formatEventInitiator(initiator: ri!initiator),\n  recordType!CMGT_EventHistory_Task.taskEventTypeId: ri!eventTypeId,\n  recordType!CMGT_EventHistory_Task.details: if(\n    a!isNotNullOrEmpty(ri!details),\n    #\"SYSTEM_SYSRULES_toJson_v1\"(value: ri!details),\n    null\n  )\n)"
    },
    "_a-0000e9fa-aa45-8000-9bda-011c48011c48_293282": {
      "name": "CMGT_Case_UpdateProperty_SetEvents",
      "type": "Expression Rule",
      "sail_code": "a!flatten(\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!cases,\n    expression: a!localVariables(\n      local!oldCase: rule!CMGT_QR_GetCase(\n        returnType: \"SINGLE_OBJECT\",\n        caseId: fv!item[recordType!CMGT_Case.caseId],\n        fields: {\n          recordType!CMGT_Case.status,\n          recordType!CMGT_Case.priority\n        }\n      ),\n      local!newCase: fv!item,\n      local!events: rule!CMGT_UTIL_RejectBlank(\n        array: {\n          if(\n            fv!item[recordType!CMGT_Case.priorityId] = local!oldCase[recordType!CMGT_Case.priorityId],\n            null,\n            cons!CMGT_REFID_EVENT_TYPE_CASE_UPDATE_PRIORITY\n          ),\n          if(\n            fv!item[recordType!CMGT_Case.statusId] = local!oldCase[recordType!CMGT_Case.statusId],\n            null,\n            if(\n              fv!item[recordType!CMGT_Case.statusId] = cons!CMGT_REFID_STATUS_CASE_CLOSED,\n              cons!CMGT_REFID_EVENT_TYPE_CASE_CLOSED,\n              cons!CMGT_REFID_EVENT_TYPE_CASE_UPDATE_STATUS\n            )\n          ),\n          if(\n            fv!item[recordType!CMGT_Case.dueOn] = local!oldCase[recordType!CMGT_Case.dueOn],\n            null,\n            cons!CMGT_REFID_EVENT_TYPE_CASE_UPDATE_DUE_DATE\n          ),\n          if(\n            fv!item[recordType!CMGT_Case.title] = local!oldCase[recordType!CMGT_Case.title],\n            null,\n            cons!CMGT_REFID_EVENT_TYPE_CASE_UPDATE_CASE_TITLE\n          )\n        }\n      ),\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!events,\n        expression: rule!CMGT_CaseEventHistory_Constructor(\n          caseId: local!newCase[recordType!CMGT_Case.caseId],\n          initiator: ri!initiator,\n          eventTypeId: fv!item,\n          timestamp: now(),\n          details: a!match(\n            value: fv!item,\n            equals: cons!CMGT_REFID_EVENT_TYPE_CASE_UPDATE_STATUS,\n            then: a!map(\n              statusId: tointeger(\n                local!newCase[recordType!CMGT_Case.statusId]\n              )\n            ),\n            equals: cons!CMGT_REFID_EVENT_TYPE_CASE_UPDATE_PRIORITY,\n            then: a!map(\n              priorityId: tointeger(\n                local!newCase[recordType!CMGT_Case.priorityId]\n              )\n            ),\n            equals: cons!CMGT_REFID_EVENT_TYPE_CASE_UPDATE_CASE_TITLE,\n            then: a!map(\n              title: tostring(\n                local!newCase[recordType!CMGT_Case.title]\n              )\n            ),\n            equals: cons!CMGT_REFID_EVENT_TYPE_CASE_UPDATE_DUE_DATE,\n            then: a!map(\n              dueOn: local!newCase[recordType!CMGT_Case.dueOn]\n            ),\n            default: null\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000eeba-7a31-8000-9dbb-011c48011c48_4842294": {
      "name": "CMGT_SMS_AI_MTR_UserClicksOnPreviousSmartSearch",
      "type": "Expression Rule",
      "sail_code": "now()"
    },
    "_a-0000eb57-0ad2-8000-9c6b-011c48011c48_1720774": {
      "name": "CMGT_NCF_setAverageHorizontalOrderOfDependents",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!dependentEdges: a!refreshVariable(\n    value:rule!CMGT_UTIL_Filter(\n      records: ri!allEdges,\n      field: \"from\",\n      value: ri!currentNode.id\n    ),\n    refreshAlways: true\n  ),\n  local!dependentNodes: a!refreshVariable(\n    value: rule!CMGT_UTIL_Filter(\n      records: ri!orderedNodes,\n      field: \"id\",\n      value: local!dependentEdges.to\n    ),\n    refreshAlways: true\n  ),\n  /*setting this as a percent 1-100*/\n  /*if there are no children the score is 50*/\n  local!averageChildHorizontalOrder: a!refreshVariable(\n    value: if(\n      a!isNullOrEmpty(local!dependentNodes),\n      50.0,\n      average(local!dependentNodes.horizontalOrder)\n    ),\n    refreshAlways: true\n  ),\n  #\"urn:appian:function:v1:a:update\"(\n    data: ri!currentNode,\n    index: \"horizontalOrder\",\n    value: local!averageChildHorizontalOrder\n  )\n)"
    },
    "_a-0000ed7d-5e46-8000-9d4b-011c48011c48_3821612": {
      "name": "CMGT_CFG_ENUM_ACT_REASSIGN_TASK",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  /*code that is used to help evaluation of what actions needs to be ran*/\n  actionCode: cons!CMGT_CFG_TXT_ACT_REASSIGN_TASK,\n  /*Display text of action type in configuration*/\n  name: #\"urn:appian:translation-string:v1:22b56237-493d-43a4-99d4-4849ebaa4861\",\n  /*interface used to configure assignment logic*/\n  configurationRule:rule!CMGT_WFL_AutomationRule_Configure_AssignmentLogic,\n  runtimeConfigurationRule: rule!CMGT_AutomationRule_Configure_AssignmentLogic,\n  configurationDisplayRule: rule!CMGT_WFL_CaseType_Rules_FormatAssignAction,\n  runtimeDisplayRule: rule!CMGT_Case_Rules_FormatAssignAction,\n  /*process to be run to assigne a case*/\n  PmConstant: cons!CMGT_PM_ROLE_MANAGE,\n  /*evaluation rule that runs and outputs the necessary process parameters*/\n  pmParameterEvalRule: rule!CMGT_AUTO_EVAL_TaskAssignment_DetermineProcessParameters,\n  context: cons!CMGT_CFG_TXT_ACT_CONTEXT_TASK,\n  createdBy: \"system\"\n)"
    },
    "_a-0000ed40-282d-8000-9d33-011c48011c48_3588260": {
      "name": "CMGT_AUTO_EVAL_AvailableFieldsCustomizationsWrapper_Case",
      "type": "Expression Rule",
      "sail_code": "/*Returns a list of maps that are used in getting relationships and fields to reject for configuration*/\n{\n  rule!CMGT_AUTO_EVAL_AvailableFieldCustomizations_Case(),\n  rule!CMGT_AUTO_EVAL_AvailableFieldCustomizations_CaseRole()\n}"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_584171": {
      "name": "CMGT_Email_CaseDetails_ReplacementParamsMap",
      "type": "Expression Rule",
      "sail_code": "{\n  /*Base Template Parameters*/\n  rule!CMGT_Email_BaseTemplate_ReplacementParamsMap(\n    brandingMap: ri!brandingMap,\n    instructionSize: \"16px\",\n    instruction: ri!instruction,\n    footerText: #\"urn:appian:translation-string:v1:14fe848f-addf-4cf9-a888-20116ef078aa\",\n    buttonLabel: #\"urn:appian:translation-string:v1:6aa9d422-e637-410c-831a-b3031a5aa009\",\n    buttonLinkUrl:\n    #\"urn:appian:function:v1:a:urlforrecord?okey=a!urlForRecord\"(\n      recordType: recordType!CMGT_Case,\n      identifier: ri!case[recordType!CMGT_Case.caseId],\n      targetLocation: rule!CMGT_SITE_PAGE_CASES()\n    )\n  ),\n  /* Body */\n  {\n    find: \"body\",\n    replace: rule!CMGT_UTIL_FillDocumentTemplate(\n      document: cons!CMGT_DOC_CASE_DETAILS_EMAIL_BODY_TEMPLATE,\n      replacementParams: {\n        {\n          find: \"caseTypeTextColor\",\n          replace: ri!brandingMap.secondaryTextColor\n        },\n        {\n          find: \"caseType\",\n          replace: ri!case[recordType!CMGT_Case.caseType.fullLabel],\n          \n        },\n        {\n          find: \"caseTitleColor\",\n          replace: ri!brandingMap.StandardTextColor\n        },\n        {\n          find: \"caseTitle\",\n          replace: ri!case[recordType!CMGT_Case.title]\n        },\n        {\n          find: \"caseStatusBgColor\",\n          replace: rule!CMGT_UTIL_DisplayBranding(\n            brandingMap: ri!brandingMap,\n            key: ri!case[recordType!CMGT_Case.status.softColor]\n          )\n        },\n        {\n          find: \"caseStatusColor\",\n          replace: ri!brandingMap.StandardTextColor\n        },\n        {\n          find: \"caseStatus\",\n          replace: ri!case[recordType!CMGT_Case.status.statusLabel]\n        },\n        {\n          find: \"fieldNameColor\",\n          replace: ri!brandingMap.SecondaryTextColor\n        },\n        { find: \"fieldName\", replace: ri!fieldName },\n        {\n          find: \"oldValueColor\",\n          replace: ri!brandingMap.SecondaryTextColor\n        },\n        {\n          /*Showing only the current role types*/\n          find: \"oldValue\",\n          replace: joinarray(ri!oldValue, \", \")\n        },\n        {\n          find: \"newValueColor\",\n          replace: ri!brandingMap.StandardTextColor\n        },\n        {\n          /*Showing only the current role types*/\n          find: \"newValue\",\n          replace: joinarray(ri!newValue, \", \")\n        }\n      }\n    )\n  }\n}"
    },
    "_a-0000e9d3-70bf-8000-9bbd-011c48011c48_175235": {
      "name": "CMGT_NetworkChartField_FixNodeEdgeOrder_Logic",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*\n  Since the chart will graph dependent on the actual order of nodes\n  this logic will just reorder the nodes based on what don't have edges, what those point to, etc.\n  */\n  /*since nodes are passed in in a parent-child pattern, this pulls all of the nodes out and flattens*/\n  local!allNodes: rule!CMGT_UTIL_cast(\n    typeOf: { a!map() },\n    value: rule!CMGT_UTIL_RejectBlank(\n      a!flatten(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!nodes,\n          expression: {\n            remove(fv!item, \"children\"),\n            fv!item.children\n          }\n        )\n      )\n    )\n  ),\n  /*sorting nodes vertically so nodes which are closest to the start node are first in line*/\n  local!nodesOrderedVertically: reduce(\n    rule!CMGT_NCF_orderNodesBasedOnDistanceFromStart(\n      orderedNodes: _,\n      index: _,\n      allNodes: local!allNodes,\n      allEdges: ri!edges\n    ),\n    /*start with \"start\" node*/\n    #\"urn:appian:function:v1:a:update\"(\n      data: rule!CMGT_UTIL_Filter(\n        records: local!allNodes,\n        field: \"id\",\n        value: ri!nodes[1].id\n      ),\n      index: \"verticalOrder\",\n      value: 1\n    ),\n    enumerate(length(local!allNodes))\n  ),\n  /*stray nodes are nodes with no precedents or nodes that are unreachable*/\n  local!strayNodes: rule!CMGT_UTIL_Filter(\n    records: local!allNodes,\n    field: \"id\",\n    value: local!nodesOrderedVertically.id,\n    filterType: \"REJECT\"\n  ),\n  local!nodesSortedVertically: rule!CMGT_UTIL_sortList(\n    records: {\n      local!nodesOrderedVertically,\n      #\"urn:appian:function:v1:a:update\"(\n        local!strayNodes,\n        \"verticalOrder\",\n        repeat(length(local!strayNodes), 2)\n      )\n    },\n    field: \"verticalOrder\",\n    ascending: true\n  ),\n  /*using the \"verticalOrder\" property given to each node, goes through each \"level\" and sorts nodes*/\n  /*horizontally based on the horizontalOrder of their dependents to help prevent edge intersections*/\n  /*sorting from bottom first helps alleviate crossing lines that form from arbitrary sort from top*/\n  local!nodesSortedHorizontallyFromBottom: rule!CMGT_UTIL_sortList(\n    records: rule!CMGT_UTIL_sortList(\n      records: reduce(\n        rule!CMGT_NCF_orderNodesHorizontallyBottomUp(\n          orderedNodes: _,\n          level: _,\n          allNodes: local!nodesSortedVertically,\n          allEdges: ri!edges\n        ),\n        {},\n        rule!CMGT_UTIL_Distinct(\n          local!nodesSortedVertically.verticalOrder\n        )\n      ),\n      field: \"horizontalOrder\",\n      ascending: true\n    ),\n    field: \"verticalOrder\",\n    ascending: true\n  ),\n  /*using the \"verticalOrder\" property given to each node, goes through each \"level\" and sorts nodes*/\n  /*horizontally based on the horizontalOrder of their precedents to help prevent edge intersections*/\n  /*doing this sort last provides the best visual results*/\n  local!nodesSortedHorizontallyFromTop: rule!CMGT_UTIL_sortList(\n    records: rule!CMGT_UTIL_sortList(\n      records: reduce(\n        rule!CMGT_NCF_orderNodesHorizontallyTopDown(\n          orderedNodes: _,\n          level: _,\n          allNodes: local!nodesSortedHorizontallyFromBottom,\n          allEdges: ri!edges\n        ),\n        {},\n        rule!CMGT_UTIL_Distinct(\n          local!nodesSortedHorizontallyFromBottom.verticalOrder\n        )\n      ),\n      field: \"horizontalOrder\",\n      ascending: true\n    ),\n    field: \"verticalOrder\",\n    ascending: true\n  ),\n  local!fixNodesOrder: local!nodesSortedHorizontallyFromTop,\n  local!maxVerticalSort: todecimal(\n    rule!CMGT_UTIL_returnLastIndexOfArray(array: local!fixNodesOrder).verticalOrder\n  ),\n  /*\n  Since the chart will inaccurately graph if edges point back to previous nodes,\n  this logic will update the ordering of edges so that they always point to \"next\" nodes\n\n  If the edge \"from\" points to a \"to\" that is before it, it just swaps the \"from\" and \"to\" of both the object and the arrow\n  */\n  local!fixEdgesOrder: #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!edges,\n    expression: a!localVariables(\n      /*to help \"fix\" direction of loopback edges*/\n      local!fromNodeIndex: cast(\n        1,\n        wherecontains(\n          tostring(fv!item.from),\n          touniformstring(local!fixNodesOrder.id)\n        )\n      ),\n      local!toNodeIndex: cast(\n        1,\n        wherecontains(\n          tostring(fv!item.to),\n          touniformstring(local!fixNodesOrder.id)\n        )\n      ),\n      local!switchToAndFromIds: and(\n        a!isNotNullOrEmpty(local!fromNodeIndex),\n        a!isNotNullOrEmpty(local!toNodeIndex),\n        local!toNodeIndex < local!fromNodeIndex\n      ),\n      /*to allow for curved edges between distant nodes*/\n      local!fromNode: local!fixNodesOrder[local!fromNodeIndex],\n      local!toNode: local!fixNodesOrder[local!toNodeIndex],\n      local!horizontalOrderSign: sign(\n        local!fromNode.horizontalOrder - local!toNode.horizontalOrder\n      ),\n      /*to allow for multiple curved edges between two nodes when there are multiple branches*/\n      local!matchingEdgeIndices: rule!CMGT_UTIL_Filter(\n        records: ri!edges,\n        fieldValuePairs: {\n          a!map(field: \"from\", value: fv!item.from),\n          a!map(field: \"to\", value: fv!item.to)\n        },\n        filterType: \"MATCH_INDICES\"\n      ),\n      #\"urn:appian:function:v1:a:update\"(\n        fv!item,\n        { \"from\", \"to\", \"arrows\", \"smooth\", \"font\" },\n        {\n          /*from*/\n          if(\n            local!switchToAndFromIds,\n            fv!item.to,\n            fv!item.from\n          ),\n          /*to*/\n          if(\n            local!switchToAndFromIds,\n            fv!item.from,\n            fv!item.to\n          ),\n          /*arrows*/\n          cast(\n            252,\n            if(\n              and(\n                local!switchToAndFromIds,\n                a!isNotNullOrEmpty(fv!item.arrows)\n              ),\n              #\"urn:appian:function:v1:a:update\"(\n                fv!item.arrows,\n                { \"from\", \"to\" },\n                { fv!item.arrows.to, fv!item.arrows.from }\n              ),\n              fv!item.arrows\n            )\n          ),\n          /*smooth*/\n          a!match(\n            value: true,\n            /*allow for multiple curved edges between two nodes when there are multiple branches*/\n            whenTrue: length(local!matchingEdgeIndices) > 1,\n            then: a!map(\n              enabled: true,\n              type: \"curvedCW\",\n              roundness: a!localVariables(\n                local!normalizedMatchingEdgeIndices: enumerate(count(local!matchingEdgeIndices)),\n                local!normalizedCurrentIndex: cast(\n                  1,\n                  wherecontains(fv!index, local!matchingEdgeIndices)\n                ) - 1,\n                local!unadjustedCurve: (\n                  local!normalizedCurrentIndex - median(local!normalizedMatchingEdgeIndices)\n                ) / count(local!matchingEdgeIndices),\n                /*for some reason, negative curve values need to start at -2*/\n                local!adjustedCurve: if(\n                  local!unadjustedCurve < 0,\n                  local!unadjustedCurve - 2,\n                  local!unadjustedCurve\n                ),\n                local!adjustedCurve\n              )\n            ),\n            /*allow for curved edges between distant nodes*/\n            whenTrue: (\n              local!toNode.verticalOrder - local!fromNode.verticalOrder\n            ) <> 1,\n            then: a!map(\n              enabled: true,\n              type: \"curvedCW\",\n              roundness: (\n                local!toNode.verticalOrder - local!fromNode.verticalOrder\n              ) / (local!maxVerticalSort - 1) * 0.5 * a!match(\n                value: 0,\n                whenTrue: local!horizontalOrderSign <> 0,\n                then: local!horizontalOrderSign,\n                whenTrue: sign(local!fromNode.horizontalOrder - 50.0) <> 0,\n                then: sign(local!fromNode.horizontalOrder - 50.0),\n                default: 1\n              )\n            ),\n            default: a!map(enabled: false)\n          ),\n          /*font*/\n          cast(\n            252,\n            /*if there are multiple branches between two nodes update label alignment to handle crowdedness*/\n            if(\n              length(local!matchingEdgeIndices) > 1,\n              #\"urn:appian:function:v1:a:update\"(fv!item.font, \"align\", \"middle\"),\n              fv!item.font\n            )\n          )\n        }\n      )\n    )\n  ),\n  a!map(\n    nodes: rule!CMGT_UTIL_DistinctRecords(\n      records: rule!CMGT_UTIL_RejectBlank(local!fixNodesOrder),\n      fields: \"id\"\n    ),\n    edges: rule!CMGT_UTIL_DistinctRecords(\n      records: rule!CMGT_UTIL_RejectBlank(local!fixEdgesOrder),\n      fields: { \"from\", \"to\", \"arrows\", \"title\" }\n    )\n  )\n)"
    },
    "_a-0000eb60-4595-8000-9c6e-011c48011c48_1742745": {
      "name": "CMGT_WFL_QR_GetCaseTypeWorkflowTask",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask,\n  executeWhen: ri!executeWhen,\n  returnType: ri!returnType,\n  sort: ri!sort,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBlockId,\n      operator: \"in\",\n      value: ri!taskBlockId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.milestoneId,\n      operator: \"=\",\n      value: ri!referenceMilestoneId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeUuid,\n      operator: \"=\",\n      value: ri!caseTypeUuid\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive,\n      operator: \"in\",\n      value: {\n        true,\n        if(\n          a!defaultValue(ri!includeInactive, false),\n          false,\n          {}\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTaskId,\n      operator: \"=\",\n      value: ri!referenceTaskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskId,\n      operator: \"=\",\n      value: ri!caseTypeWorkflowTaskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskIntentionCode,\n      operator: \"in\",\n      value: a!defaultValue(ri!taskIntentionCodes,{cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_WORKFLOW})\n    ),\n  },\n  fields: {\n    ri!fields,\n    if(\n      ri!includeMilestones,\n      {\n        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone\n      },\n      {}\n    ),\n    if(\n      ri!includeCaseType,\n      {\n        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseType\n      },\n      {}\n    ),\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTask,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTask,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskResponseOptions,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet,\n    #\"urn:appian:record-relationship:v1:d6ebee27-6e86-47e3-a9b8-71fdd0348854/ef9cc417-d6ce-4fee-bd86-fa71ab64f8a1/eb49dd52-e1ed-4e4c-a3ab-903f4eadb20c/aa71274b-fe14-4420-b400-573007a0049d\",\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction,\n  },\n  relatedRecordData: {\n    ri!relatedRecordData,\n    #\"SYSTEM_SYSRULES_relatedRecordData\"(\n      relationship: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskResponseOptions,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.sortOrder,\n        ascending: true\n      )\n    )\n  },\n  pagingInfo: ri!pagingInfo,\n  triggerRefresh: ri!triggerRefresh,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000eb88-676f-8000-9c81-011c48011c48_1933781": {
      "name": "CMGT_CB_UTIL_HeaderSubHeaderField",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n  label: \"\",\n  contents: {\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            /* Alignment */\n            #\"SYSTEM_SYSRULES_sectionLayout_v1\"(),\n            #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n              label: ri!label,\n              labelSize: a!defaultValue(value: ri!labelSize, default: \"MEDIUM_PLUS\"),\n              labelHeadingTag: \"H2\",\n              labelColor: a!defaultValue(\n                value: ri!labelColor,\n                default: ri!brandingMap.StandardTextColor\n              ),\n              contents: {\n                #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                  labelPosition: \"COLLAPSED\",\n                  value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                    text: ri!subheaderLabel,\n                    color: a!defaultValue(\n                      value: ri!subheaderLabelColor,\n                      default: ri!brandingMap.SecondaryTextColor\n                    ),\n                    size: a!defaultValue(value: ri!subheaderLabelSize, default: \"MEDIUM\"),\n                  ),\n                  showWhen: rule!CMGT_UTIL_IsNotBlank(ri!subheaderLabel),\n                  marginAbove: \"NONE\",\n                  marginBelow: if(rule!CMGT_UTIL_IsNotBlank(ri!extraInformationContents),\"STANDARD\",\"NONE\"),\n                ),\n                a!defaultValue(ri!extraInformationContents,{})\n              },\n              marginAbove: \"NONE\",\n              marginBelow: \"NONE\"\n            ),\n          },\n          width: \"AUTO\"\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: ri!rightSideContents,\n          width: a!defaultValue(ri!rightSideContentWidth, \"NARROW\"),\n          showWhen: a!isNotNullOrEmpty(ri!rightSideContents)\n        )\n      },\n      alignVertical: \"MIDDLE\",\n      marginAbove: \"NONE\",\n      marginBelow: \"NONE\",\n      stackWhen: { \"NEVER\" }\n    )\n  },\n  showWhen: a!defaultValue(ri!showWhen, true),\n  divider: a!defaultValue(ri!divider, \"NONE\"),\n  dividerColor: ri!brandingMap.DividerColor,\n  marginAbove: a!defaultValue(ri!marginAbove, \"NONE\"),\n  marginBelow: a!defaultValue(ri!marginBelow, \"STANDARD\")\n)"
    },
    "_a-0000eea8-05c2-8000-9db5-011c48011c48_4800243": {
      "name": "CMGT_SMS_AI_QR_GetSmartSearchResultsOnCases",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    rule!CMGT_UTIL_IsNotBlank(input: ri!searchTerm),\n    contains(ri!selectedCategory, { 1 })\n  ),\n  a!localVariables(\n    local!data: a!refreshVariable(\n      value: #\"SYSTEM_SYSRULES_queryRecordType_v4\"(\n        recordType: recordType!CMGT_Case,\n        filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n          operator: \"AND\",\n          logicalExpressions: {\n            #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n              operator: \"OR\",\n              filters: {\n                /*Case*/\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.description,\n                  operator: \"search\",\n                  value: ri!searchTerm,\n                  applyWhen: a!isNotNullOrEmpty(ri!searchTerm)\n                ),\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.title,\n                  operator: \"search\",\n                  value: ri!searchTerm,\n                  applyWhen: a!isNotNullOrEmpty(ri!searchTerm)\n                ),\n                /*Comments*/\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.comments.commentText,\n                  operator: \"search\",\n                  value: ri!searchTerm,\n                  applyWhen: a!isNotNullOrEmpty(ri!searchTerm)\n                ),\n                /*Milestone*/\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.milestones.label,\n                  operator: \"search\",\n                  value: ri!searchTerm,\n                  applyWhen: a!isNotNullOrEmpty(ri!searchTerm)\n                ),\n                /*Tag*/\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.tagMap.tag.tagName,\n                  operator: \"search\",\n                  value: ri!searchTerm,\n                  applyWhen: a!isNotNullOrEmpty(ri!searchTerm)\n                )\n              }\n            ),\n            #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n              operator: \"AND\",\n              filters: {\n                /*Assignee*/\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.roles.username,\n                  operator: \"in\",\n                  value: ri!assignee,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(ri!assignee)\n                ),\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.roles.roleTypeId,\n                  operator: \"=\",\n                  value: cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(ri!assignee)\n                )\n              }\n            ),\n            #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n              operator: \"AND\",\n              filters: {\n                /* Group Assignee*/\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.roles.groupId,\n                  operator: \"in\",\n                  value: ri!assignedGroup,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(ri!assignedGroup)\n                ),\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.roles.roleTypeId,\n                  operator: \"=\",\n                  value: cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(ri!assignedGroup)\n                )\n              }\n            )\n          },\n          filters: {\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Case.caseTypeUuid,\n              operator: \"in\",\n              value: ri!caseType,\n              applyWhen: rule!CMGT_UTIL_IsNotBlank(ri!caseType)\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Case.statusId,\n              operator: \"in\",\n              value: ri!status,\n              applyWhen: rule!CMGT_UTIL_IsNotBlank(ri!status)\n            )\n          }\n        ),\n        fields: {\n          /*Case Fields*/\n          recordType!CMGT_Case.friendlyId,\n          recordType!CMGT_Case.title,\n          recordType!CMGT_Case.description,\n          recordType!CMGT_Case.dueOn,\n          /*Case Type & Category Fields*/\n          recordType!CMGT_Case.caseType.name,\n          recordType!CMGT_Case.caseType.fullLabel,\n          recordType!CMGT_Case.caseType.parentCaseType.name,\n          /*Comment*/\n          recordType!CMGT_Case.comments.commentText,\n          /*Status*/\n          recordType!CMGT_Case.status.statusLabel,\n          recordType!CMGT_Case.status.textColor,\n          recordType!CMGT_Case.status.softColor,\n          /*Milestone*/\n          recordType!CMGT_Case.milestones.label,\n          /*Priority*/\n          recordType!CMGT_Case.priority.priorityName,\n          recordType!CMGT_Case.priority.icon,\n          recordType!CMGT_Case.priority.iconColor,\n          /*Roles*/\n          recordType!CMGT_Case.roles.userAssignee,\n          #\"urn:appian:record-field:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/07bc37b4-41ec-48e4-b08d-29d37608fe5c/6f0c8dbc-95d2-4ba7-9fb5-f0916efa0f08/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\",\n          recordType!CMGT_Case.roles.groupAssignee,\n          recordType!CMGT_Case.roles.roleType.label,\n          /*Tag*/\n          recordType!CMGT_Case.tagMap.tag.tagName,\n          /*All search Fields*/\n          #\"urn:appian:record-search-results:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/allSearchFields/all\"\n        },\n        relatedRecordData: {\n          #\"SYSTEM_SYSRULES_relatedRecordData\"(\n            relationship: recordType!CMGT_Case.roles,\n            /*This will put all users before groups*/\n            sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n              field: recordType!CMGT_Role.groupId,\n              ascending: true\n            ),\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_Role.roleTypeId,\n                operator: \"in\",\n                value: {\n                  cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n                  cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n                }\n              )\n            }\n          )\n        },\n        pagingInfo: a!defaultValue(ri!pagingInfo, #\"SYSTEM_SYSRULES_pagingInfo\"(1, 10)),\n        fetchTotalCount: true\n      ),\n      refreshOnVarChange: ri!triggerRefresh\n    ),\n    local!data\n  ),\n  {}\n)"
    },
    "af326a29-a1c8-4399-a28d-996f85819d9e": {
      "name": "CMGT_UTIL_Filter",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!fieldValuePairs: a!defaultValue(\n    ri!fieldValuePairs,\n    apply(\n      rule!CMGT_UTIL_Filter_CreateFieldValuePair(\n        field: _,\n        value: ri!value,\n        allFields: a!flatten(ri!field)\n      ),\n      a!flatten(ri!field)\n    )\n  ),\n  local!matchingCriteria: a!defaultValue(\n    value: ri!matchingCriteria,\n    default: \"ALL\"\n  ),\n  local!matchType: a!defaultValue(value: ri!matchType, default: \"EXACT\"),\n  local!matchIndices: if(\n    a!isNullOrEmpty(a!flatten(ri!records)),\n    tointeger({}),\n    reduce(\n      rule!CMGT_UTIL_Filter_Reducer(\n        matchingCriteria: local!matchingCriteria,\n        previousIndices: _,\n        records: a!flatten(ri!records),\n        fieldValuePair: _,\n        matchType: local!matchType\n      ),\n      a!match(\n        value: local!matchingCriteria,\n        equals: \"ALL\",\n        then: enumerate(count(a!flatten(ri!records))) + 1,\n        equals: \"ANY\",\n        then: {},\n        default: fn!error(\n          \"Invalid matchingCriteria, must be one of: ALL, ANY\"\n        )\n      ),\n      local!fieldValuePairs\n    )\n  ),\n  local!rejectIndices: difference(\n    if(\n      a!isNullOrEmpty(ri!records),\n      tointeger({}),\n      enumerate(count(a!flatten(ri!records))) + 1\n    ),\n    local!matchIndices\n  ),\n  local!matches: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!matchIndices, {})\n  ),\n  local!rejects: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!rejectIndices, {})\n  ),\n  local!output: a!match(\n    value: a!defaultValue(ri!filterType, \"FILTER\"),\n    equals: \"FILTER\",\n    then: local!matches,\n    equals: \"REJECT\",\n    then: local!rejects,\n    equals: \"FIRST_MATCH\",\n    then: index(local!matches, 1, null),\n    equals: \"FIRST_REJECT\",\n    then: index(local!rejects, 1, null),\n    equals: \"MATCH_COUNT\",\n    then: count(local!matchIndices),\n    equals: \"REJECT_COUNT\",\n    then: count(local!rejectIndices),\n    equals: \"MATCH_INDICES\",\n    then: local!matchIndices,\n    equals: \"REJECT_INDICES\",\n    then: local!rejectIndices,\n    equals: \"FULL_RESULT\",\n    then: a!map(\n      matches: local!matches,\n      rejects: local!rejects,\n      firstMatch: index(local!matches, 1, null),\n      firstReject: index(local!rejects, 1, null),\n      matchCount: count(local!matchIndices),\n      rejectCount: count(local!rejectIndices),\n      matchIndices: local!matchIndices,\n      rejectIndices: local!rejectIndices\n    ),\n    default: fn!error(\n      \"Invalid filterType, must be one of: FILTER, REJECT, FIRST_MATCH, FIRST_REJECT, MATCH_COUNT, REJECT_COUNT, MATCH_INDICES, REJECT_INDICES, FULL_RESULT\"\n    )\n  ),\n  local!output\n)"
    },
    "_a-0000ed9c-71ef-8000-9d58-011c48011c48_3989092": {
      "name": "CMGT_AUTO_EVAL_AvailableFieldCustomizations_TaskRole",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  recordTypeUuid: \"6799d796-883e-49ff-8975-297d87e40756\",\n  recordType: recordType!CMGT_Role,\n  relationship: recordType!CMGT_Task.roles,\n  recordTaskField: recordType!CMGT_Role.taskId,\n  fieldMapsToAdd: {},\n  customFieldsToAdd: {\n    /*Task User Assignee*/\n    a!map(\n      /*Username column in CMGT_Role*/\n      uuid: \"7576a553-bb91-4848-962a-c7a23a9f3b2d\",\n      customFieldCode: \"TASK_ASSIGNEE\",\n      displayName: #\"urn:appian:translation-string:v1:56c94dff-cd8e-4860-b69e-68e32479691e\",\n      fieldType:\"RecordType\",\n      relationshipType: \"ONE_TO_MANY\",\n      field: recordType!CMGT_Role.username,\n      relationship: recordType!CMGT_Task.roles,\n      extraConfigurations: a!map(\n        evaluation: a!map(\n          filters: {\n            a!map(\n              field: recordType!CMGT_Role.roleTypeId,\n              operator: \"=\",\n              value: cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE\n            )\n          }\n        ),\n        configurations: {\n          a!map(\n            type: a!map(\n              label: #\"urn:appian:translation-string:v1:0698e0da-27c8-4e13-9005-c899baa073a1\",\n              code: \"USER\",\n              recordType: #\"urn:appian:record-type:v1:SYSTEM_RECORD_TYPE_USER\",\n              recordTypeUuid: \"SYSTEM_RECORD_TYPE_USER\"\n            )\n          )\n        }\n      ),\n      parentRecordTypeUuid: cons!CMGT_UUID_RECORD_TYPE_TASK\n    ),\n    /*Group Assignee*/\n    a!map(\n      uuid: \"980ec52a-b916-409f-9cdf-1752ce399f6d\",\n      displayName: #\"urn:appian:translation-string:v1:4c269aad-61d8-4701-bfbf-4d62b1ae5721\",\n      customFieldCode:\"TASK_GROUP_ASSIGNEE\",\n      fieldType: \"GROUP\",\n      relationshipType: \"ONE_TO_MANY\",\n      field: recordType!CMGT_Role.groupId,\n      relationship: recordType!CMGT_Task.roles,\n      extraConfigurations: a!map(\n        evaluation: a!map(\n          filters: a!map(\n            field: recordType!CMGT_Role.roleTypeId,\n            operator: \"=\",\n            value: cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n          )\n        )\n      ),\n      parentRecordTypeUuid: cons!CMGT_UUID_RECORD_TYPE_TASK\n    ),\n  }\n)"
    },
    "bd8f3e49-406c-4eab-a3a4-ce119dfbb5ce": {
      "name": "CMGT_UTIL_RichTextField",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  /*\n  This should never be above 4000 characters as it will go over the amount allowed in synced records\n  If using the RTE in other places for customization, the field length should be 4000 characters to allow for additional HTML to be added.\n  The RTE calculates the max length allowed on the front end for the end-user, but will not go over that amount on the back-end\n  */\n  local!maxSize: a!defaultValue(\n    value: ri!maxSize,\n    default: cons!CMGT_INT_MAX_CHAR_LIMIT_EXTRA_LARGE\n  ),\n  if(\n    cons!CMGT_BOL_AUTOMATION_TESTING_LABEL_SWITCH,\n    #\"SYSTEM_SYSRULES_paragraphField\"(\n      label: ri!label,\n      labelPosition: if(rule!CMGT_UTIL_IsBlank(ri!label),\"COLLAPSED\",ri!labelPosition),\n      instructions: ri!instructions,\n      helpTooltip: ri!helpToolTip,\n      placeholder: ri!placeholder,\n      value: rule!CMGT_UTIL_StripHtmlTags(value: ri!value, isFormatted: true),\n      saveInto: a!save(\n        ri!value,\n        \"<p>\" & substitute(save!value, char(10), \"<br>\") & \"</p>\"\n      ),\n      refreshAfter: ri!refreshAfter,\n      characterLimit: local!maxSize,\n      height: ri!height,\n      showWhen: ri!showWhen,\n      required: ri!required,\n      requiredMessage: ri!requiredMessage,\n      readOnly: ri!readOnly,\n      disabled: ri!disabled\n    ),\n    #\"SYSTEM_SYSRULES_styledTextEditorField\"(\n      label: ri!label,\n      labelPosition: if(rule!CMGT_UTIL_IsBlank(ri!label),\"COLLAPSED\",ri!labelPosition),\n      instructions: ri!instructions,\n      helpTooltip: ri!helpToolTip,\n      placeholder: ri!placeholder,\n      value: ri!value,\n      saveInto: {\n        ri!value,\n        ri!additionalSaves\n      },\n      sizeLimit: local!maxSize,\n      height: a!defaultValue(ri!height, \"SHORT_PLUS\"),\n      showWhen: ri!showWhen,\n      required: ri!required,\n      requiredMessage: ri!requiredMessage,\n      readOnly: ri!readOnly,\n      disabled: ri!disabled,\n      validations: ri!validations\n    )\n  )\n)"
    },
    "_a-0000ed08-c8b4-8000-9d25-011c48011c48_3458419": {
      "name": "CMGT_WFL_AutomationRules_EmptyState",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!emptyStateExamples:{\n    /*example 1*/\n    a!map(\n      trigger: #\"urn:appian:translation-string:v1:b547e04d-1d74-4a5e-9492-811049fe2dbc\",\n      conditions: \"\",\n      action: a!map(\n        actionVerb: #\"urn:appian:translation-string:v1:e8075941-5d17-4543-9e3f-fd67d32f6200\",\n        receipient: #\"urn:appian:translation-string:v1:1dc2d144-2f71-4b31-9289-d48b3c8df8a3\"\n      )\n    ),\n    /*example 2*/\n    a!map(\n      trigger: #\"urn:appian:translation-string:v1:8dcde6b8-7b84-488d-986b-deed83e23076\",\n      conditions: a!map(\n        field: #\"urn:appian:translation-string:v1:62c1d184-cd2b-4147-82cc-a8c82f4e295f\",\n        value: #\"urn:appian:translation-string:v1:8a86a948-961d-44e4-879a-e6bf41ccc61b\"\n      ),\n      action: a!map(\n        actionVerb: #\"urn:appian:translation-string:v1:7029902d-11a6-4b4d-9794-2cfadc65559f\",\n        receipient: #\"urn:appian:translation-string:v1:d830cf7a-1b83-422b-b460-0058978459f0\"\n      )\n    ),\n    /*example 3*/\n    a!map(\n      trigger: #\"urn:appian:translation-string:v1:d6e28633-2087-42b6-ab57-e0bc6868ef1b\",\n      conditions: a!map(\n        field: #\"urn:appian:translation-string:v1:33300dc0-dd38-432a-8062-852a73199679\",\n        value: #\"urn:appian:translation-string:v1:93ac72be-64ae-4ae1-98ce-994dfb89b745\"\n      ),\n      action: a!map(\n        actionVerb: #\"urn:appian:translation-string:v1:e8075941-5d17-4543-9e3f-fd67d32f6200\",\n        receipient: #\"urn:appian:translation-string:v1:83476d34-02ac-445d-9832-1f89abfff2bd\"\n      )\n    )\n  },\n  #\"SYSTEM_SYSRULES_columnsLayout\"(\n    columns: {\n      #\"SYSTEM_SYSRULES_columnLayout\"(),\n      #\"SYSTEM_SYSRULES_columnLayout\"(\n        contents: {\n          /*all cases empty state*/\n            #\"SYSTEM_SYSRULES_columnsLayout\"(\n              columns: {\n                #\"SYSTEM_SYSRULES_columnLayout\"(\n                  contents: {\n                    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                      labelPosition: \"COLLAPSED\",\n                      value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                        text: #\"urn:appian:translation-string:v1:e9918a3d-fc79-412f-9a36-d6c4efd977e5\",\n                        color: ri!brandingMap.StandardTextColor,\n                        size: \"MEDIUM_PLUS\"\n                      ),\n                      marginBelow: \"MORE\"\n                    ),\n                    #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n                      actions: {\n                        if(\n                          rule!CMGT_UTIL_IsBlank(ri!selectedCaseTypeUuid),\n                          #\"SYSTEM_SYSRULES_recordActionItem\"(\n                            action: #\"urn:appian:record-action:v1:d6ebee27-6e86-47e3-a9b8-71fdd0348854/acf39782-4d3c-4452-accb-4d575582e565\",\n\n                          ),\n                          #\"SYSTEM_SYSRULES_recordActionItem\"(\n                            action: #\"urn:appian:record-action:v1:82aa3b28-94c2-4d3c-a403-bb813bd76155/08419512-782a-4f65-8aa6-245e1bfcda1b\",\n                            identifier: ri!selectedCaseTypeUuid\n                          )\n                        )\n                      },\n                      style: \"TOOLBAR_PRIMARY\",\n                      display: \"LABEL\",\n                      openActionsIn: \"DIALOG\",\n                      align: \"START\"\n                    )\n                  }\n                ),\n                #\"SYSTEM_SYSRULES_columnLayout\"(\n                  contents: {\n                    #\"SYSTEM_SYSRULES_forEach\"(\n                      local!emptyStateExamples,\n                      #\"SYSTEM_SYSRULES_cardLayout\"(\n                        contents: {\n                          #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                            labelPosition: \"COLLAPSED\",\n                            value: {\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: #\"urn:appian:translation-string:v1:b767a631-0a07-423f-9bf1-fa6b6bd96ddc\"\n                              ),\n                              char(32),\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: fv!item.trigger,\n                                style: \"STRONG\"\n                              ),\n                              char(32),\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: {\n                                  #\"urn:appian:translation-string:v1:75521026-d916-4284-8fb1-204247072b4b\",\n                                  char(32),\n                                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                    text: fv!item.conditions.field,\n                                    style: \"STRONG\"\n                                  ),\n                                  char(32),\n                                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                    text: #\"urn:appian:translation-string:v1:52c17ef4-356c-4b23-86a4-cc5a6e7db076\"\n                                  ),\n                                  char(32),\n                                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                    text: fv!item.conditions.value,\n                                    style: \"STRONG\"\n                                  ),\n                                  char(32)\n                                },\n                                showWhen: rule!CMGT_UTIL_IsNotBlank(fv!item.conditions)\n                              ),\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: fv!item.action.actionVerb,\n                                style: \"STRONG\"\n                              ),\n                              char(32),\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: #\"urn:appian:translation-string:v1:b10266ed-ce12-41dd-80ee-94e0fcf812ea\"\n                              ),\n                              char(32),\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: fv!item.action.receipient,\n                                style: \"STRONG\"\n                              )\n                            }\n                          )\n                        },\n                        style: ri!brandingMap.StandardStampBackgroundColor,\n                        shape: ri!brandingMap.CardShape,\n                        marginBelow: \"STANDARD\",\n                        showBorder: false\n                      )\n                    )\n                  }\n                )\n              },\n              alignVertical: \"MIDDLE\"\n            )\n        },\n        width: \"WIDE_PLUS\"\n      ),\n      #\"SYSTEM_SYSRULES_columnLayout\"()\n    },\n    marginAbove: \"MORE\",\n    stackWhen: { \"PHONE\", \"TABLET_PORTRAIT\" }\n  )\n)"
    },
    "d84db515-cf49-4b95-9a9b-26737d3990ea": {
      "name": "CMGT_AUTO_EVAL_AvailableFieldCustomizations_Task",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  recordTypeUuid: cons!CMGT_UUID_RECORD_TYPE_TASK,\n  fieldMapsToAdd: {\n    /*Status*/\n    a!map(\n      uuid: \"3d96454c-776f-4b29-9413-d7fffa3ebaeb\",\n      fieldName: \"statusId\",\n      displayName:  #\"urn:appian:record-field-properties:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/3d96454c-776f-4b29-9413-d7fffa3ebaeb/displayName\",\n      field: recordType!CMGT_Task.statusId,\n      fieldType:  \"CHOICE_LIST\",\n      recordType: recordType!CMGT_CFG_Status,\n      typeIcon: \"caret-square-o-down\",\n      typeDisplayName: \"Choice List\",\n      parentRecordTypeUuid: cons!CMGT_UUID_RECORD_TYPE_TASK\n    ),\n  },\n  customFieldsToAdd: {}\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_24101": {
      "name": "CMGT_QR_GetEntityType",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_CFG_EntityType,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_EntityType.entityTypeId,\n      operator: \"in\",\n      value: ri!entityTypeId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_EntityType.isSystemOnly,\n      operator: \"=\",\n      value: false,\n      applyWhen: ri!ignoreSystemOnlyEntities = true\n    )\n  },\n  fields: ri!fields,\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000e98b-cfe0-8000-9ba5-011c48011c48_19509": {
      "name": "CMGT_QR_GetCase",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_Case,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Case.caseId,\n      operator: \"in\",\n      value: ri!caseId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Case.dueOn,\n      operator: \">\",\n      value: rule!CMGT_UTIL_ConvertDatetoDatetime(\n        date: ri!dueOnDate - 1,\n        useSystemTimeZone: a!defaultValue(ri!useSystemTimeZoneForDueOn,true)\n      )\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Case.dueOn,\n      operator: \"<=\",\n      value: rule!CMGT_UTIL_ConvertDatetoDatetime(\n        date: ri!dueOnDate,\n        useSystemTimeZone: a!defaultValue(ri!useSystemTimeZoneForDueOn,true)\n      )\n    )\n  },\n  logicalExpressions: ri!additionalLogicalExpression,\n  fields: {\n    ri!fields,\n    if(\n      ri!excludeRelatedRecords,\n      {},\n      {\n        recordType!CMGT_Case.status,\n        recordType!CMGT_Case.priority,\n        recordType!CMGT_Case.caseType\n      }\n    ),\n    if(\n      ri!includeAssignees,\n      {\n        recordType!CMGT_Case.roles,\n        recordType!CMGT_Case.roles\n      },\n      {}\n    ),\n    if(\n      ri!includePrimaryContact,\n      {\n        recordType!CMGT_Case.caseEntityMap,\n        #\"urn:appian:record-relationship:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/9455b8a8-142d-4976-8b8d-83403eedad6a/043457e2-ee0b-4c7a-8210-8671bbe73128/2a2b64c2-0530-4e0a-a173-d26a396e3cc9\"\n      },\n      {}\n    )\n  },\n  relatedRecordData: {\n    ri!relatedRecordData,\n    if(\n      ri!includePrimaryContact,\n      #\"SYSTEM_SYSRULES_relatedRecordData\"(\n        relationship: recordType!CMGT_Case.caseEntityMap,\n        limit: 1,\n        filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_CaseEntityMap.entity.entityTypeId,\n          operator: \"=\",\n          value: cons!CMGT_REFID_ENTITY_TYPE_CONTACT\n        )\n      ),\n      {}\n    ),\n    if(\n      ri!includeAssignees,\n      #\"SYSTEM_SYSRULES_relatedRecordData\"(\n        relationship: recordType!CMGT_Case.roles,\n        filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_Role.roleTypeId,\n          operator: \"in\",\n          value: {\n            cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n            cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n          }\n        )\n      ),\n      {}\n    )\n  },\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "5541d71f-0a49-44ff-b1f6-3cb54478f25a": {
      "name": "CMGT_Role_Delete",
      "type": "Process Model",
      "sail_code": "// Input: ?\n=pv!roles[recordType!CMGT_Role.caseId]\n\n// Output: ?\n=#\"urn:appian:function:v1:a:update\"( data: pv!roles, index: recordType!CMGT_Role.isActive, value: false)\n\n// Input: ?\npv!cases\n\n// Input: ?\n=recordType!CMGT_Case\n\n// Input: ?\npv!tasks\n\n// Input: ?\n=recordType!CMGT_Task\n\n// Output: ?\nrule!CMGT_Case_SetMetaData(\n  cases: #\"SYSTEM_SYSRULES_forEach\"(\n    items: rule!CMGT_UTIL_Distinct(\n      pv!roles[recordType!CMGT_Role.caseId]\n    ),\n    expression: recordType!CMGT_Case(\n      recordType!CMGT_Case.caseId: fv!item,\n      recordType!CMGT_Case.roles: rule!CMGT_UTIL_Filter(\n        records: pv!roles,\n        field: recordType!CMGT_Role.caseId,\n        value: fv!item\n      )\n    )\n  ),\n  initiator: a!defaultValue(pv!automationInitiator, pp!initiator),\n  eventType: cons!CMGT_TXT_EVENT_TYPE_CASE_MODIFY_CHILD_RECORD\n)\n\n// Output: ?\nrule!CMGT_Task_SetMetaData(\n  tasks: #\"SYSTEM_SYSRULES_forEach\"(\n    items: rule!CMGT_UTIL_Distinct(\n      pv!roles[recordType!CMGT_Role.taskId]\n    ),\n    expression: recordType!CMGT_Task(\n      recordType!CMGT_Task.taskId: fv!item,\n      recordType!CMGT_Task.roles: rule!CMGT_UTIL_Filter(\n        records: pv!roles,\n        field: recordType!CMGT_Role.taskId,\n        value: fv!item\n      )\n    )\n  ),\n  initiator: a!defaultValue(pv!automationInitiator, pp!initiator),\n  eventType: cons!CMGT_TXT_EVENT_TYPE_TASK_MODIFY_CHILD_RECORD\n)"
    },
    "_a-0000ea2f-ac11-8000-9bf4-011c48011c48_592097": {
      "name": "CMGT_Case_SetEvents",
      "type": "Expression Rule",
      "sail_code": "/*Only one not listed is tasks because they have separate sub processes that include audit capture*/\n#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!cases,\n  expression: #\"urn:appian:function:v1:a:update\"(\n    fv!item,\n    recordType!CMGT_Case.eventHistory,\n    a!flatten(\n      {\n        /*EVENTS THAT ARE PROCESS-SPECIFIC (based on \"eventType\" input)*/\n        a!match(\n          value: ri!eventType,\n          equals: \"CREATE\",\n          equals: \"UPDATE\",\n          then: rule!CMGT_CaseEventHistory_Constructor(\n            caseId: fv!item[recordType!CMGT_Case.caseId],\n            initiator: ri!initiator,\n            eventTypeId: if(\n              fv!value = \"CREATE\",\n              cons!CMGT_REFID_EVENT_TYPE_CASE_CREATE,\n              cons!CMGT_REFID_EVENT_TYPE_CASE_UPDATE\n            )\n          ),\n          equals: \"UPDATE_PROPERTY\",\n          then: rule!CMGT_Case_UpdateProperty_SetEvents(cases: fv!item, initiator: ri!initiator),\n          equals: \"MODIFY_WORKFLOW\",\n          then: rule!CMGT_CaseEventHistory_Constructor(\n            caseId: fv!item[recordType!CMGT_Case.caseId],\n            initiator: ri!initiator,\n            eventTypeId: cons!CMGT_REFID_EVENT_TYPE_MODIFY_WORKFLOW\n          ),\n          default: {}\n        ),\n        /*EVENTS THAT ARE NON-PROCESS-SPECIFIC (based on \"what children are populated\")*/\n        /* - Roles*/\n        rule!CMGT_Role_SetEvents(\n          roles: fv!item[recordType!CMGT_Case.roles],\n          initiator: ri!initiator,\n          context: \"CASE\"\n        ),\n        /* - Comments*/\n        rule!CMGT_Comment_SetEvents(\n          comments: fv!item[recordType!CMGT_Case.comments],\n          initiator: ri!initiator,\n          context: \"CASE\"\n        ),\n        /* - Documents*/\n        if(\n          rule!CMGT_UTIL_IsBlank(\n            fv!item[recordType!CMGT_Case.documents]\n          ),\n          {},\n          rule!CMGT_Document_SetEvents(\n            documents: fv!item[recordType!CMGT_Case.documents],\n            initiator: ri!initiator\n          )\n        ),\n        /* - Tags*/\n        if(\n          rule!CMGT_UTIL_IsBlank(\n            fv!item[recordType!CMGT_Case.tagMap]\n          ),\n          {},\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: fv!item[recordType!CMGT_Case.tagMap],\n            expression: rule!CMGT_CaseEventHistory_Constructor(\n              caseId: fv!item[recordType!CMGT_CaseTagMap.caseId],\n              initiator: ri!initiator,\n              eventTypeId: if(\n                fv!item[recordType!CMGT_CaseTagMap.isActive],\n                cons!CMGT_REFID_EVENT_TYPE_CASE_ADD_TAG,\n                cons!CMGT_REFID_EVENT_TYPE_CASE_REMOVE_TAG\n              ),\n              details: a!map(\n                tagId: fv!item[recordType!CMGT_CaseTagMap.tagId]\n              )\n            )\n          )\n        ),\n      /* - Related Cases*/\n        if(\n          rule!CMGT_UTIL_IsBlank(\n            fv!item[recordType!CMGT_Case.relatedCaseMap]\n          ),\n          {},\n          rule!CMGT_RelatedCaseMap_SetEvents(\n            relatedCaseMaps: fv!item[recordType!CMGT_Case.relatedCaseMap],\n            initiator: rule!CMGT_formatEventInitiator(\n              initiator: ri!initiator\n            )\n          )\n          ),\n          /* - Case Entity Map*/\n          if(\n            rule!CMGT_UTIL_IsBlank(\n              fv!item[recordType!CMGT_Case.caseEntityMap]\n            ),\n            {},\n            rule!CMGT_CaseEntityMap_SetEvents(\n              caseEntityMaps: fv!item[recordType!CMGT_Case.caseEntityMap],\n              initiator: rule!CMGT_formatEventInitiator(\n                initiator: ri!initiator\n              ),\n              context: \"CASE\"\n            )\n          )\n      }\n    )\n  )\n)"
    },
    "000be9f1-c02b-8000-fff7-7f0000014e7a": {
      "name": "CMGT_SUB_SetCaseFolderSecurity",
      "type": "Process Model",
      "sail_code": "// Output: ?\nrule!CMGT_SUB_SetCaseFolderSecurity_Logic(cases: pv!cases)\n\n// Input: ?\n=pv!changes[tp!instanceindex].admins\n\n// Input: ?\n=pv!changes[tp!instanceindex].editors\n\n// Input: ?\n=pv!changes[tp!instanceindex].folder\n\n// Input: ?\n=pv!changes[tp!instanceindex].viewers\n\n// Input: ?\n=pv!changes[tp!instanceindex].removes\n\n// Input: ?\n=/*Get folder details for the given case ids*/rule!CMGT_QR_GetCase( caseId: pv!caseIds, executeWhen: a!isNotNullOrEmpty(pv!caseIds), additionalFilters: #\"SYSTEM_SYSRULES_queryFilter\"( field: recordType!CMGT_Case.folderId, operator: \"not null\" ), excludeRelatedRecords: true, fields: recordType!CMGT_Case.folderId)\n\n// Input: ?\n= rule!CMGT_QR_GetRole( caseId: pv!caseIds, additionalFilters: #\"SYSTEM_SYSRULES_queryFilter\"( field: recordType!CMGT_Role.usernameUser, operator: \"not null\" ) )\n\n// Output: ?\n#\"SYSTEM_SYSRULES_forEach\"(\n  ac!cases,\n  #\"urn:appian:function:v1:a:update\"(\n    fv!item,\n    recordType!CMGT_Case.roles,\n    rule!CMGT_UTIL_Filter(\n      records: ac!roles,\n      field: recordType!CMGT_Role.caseId,\n      value: fv!item[recordType!CMGT_Case.caseId]\n    )\n  )\n)"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_583989": {
      "name": "CMGT_PLUGIN_ReadDocumentContent",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!documentContent: readdocumentcontent(ri!document),\n  if(\n    local!documentContent = \"null\",\n    \"\",\n    local!documentContent\n  )\n)"
    },
    "_a-0000ea95-307e-8000-9c1a-011c48011c48_940539": {
      "name": "CMGT_UTIL_DisplayUserAndGroupAssigneeList",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!distinctUsers: rule!CMGT_UTIL_Distinct(\n    reject(\n      a!isNullOrEmpty,\n      a!flatten(ri!assigneeList)\n    )\n  ),\n  local!formatUsers: fn!touniformstring(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!distinctUsers,\n      expression: if(\n        runtimetypeof(fv!item) = 'type!{http://www.appian.com/ae/types/2009}Group',\n        group(tointeger(fv!item), \"groupName\"),\n        fv!item\n      )\n    )\n  ),\n  local!formattedNamesBeforeOther: fn!touniformstring(\n    reject(\n      a!isNullOrEmpty,\n      index(\n        local!formatUsers,\n        enumerate(cons!CMGT_INT_BATCH_SIZE_EXTRA_SMALL - 1) + 1,\n        null\n      )\n    )\n  ),\n  local!formattedNamesForCaption: difference(\n    local!formatUsers,\n    local!formattedNamesBeforeOther\n  ),\n  local!distinctGroup: rule!CMGT_UTIL_Distinct(\n    reject(\n      a!isNullOrEmpty,\n      a!flatten(ri!groupList)\n    )\n  ),\n  local!formatGroup: fn!touniformstring(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!distinctGroup,\n      expression: if(\n        runtimetypeof(fv!item) = 'type!{http://www.appian.com/ae/types/2009}Group',\n        group(tointeger(fv!item), \"groupName\"),\n        fv!item\n      )\n    )\n  ),\n  local!formattedNamesBeforeOtherGroups: fn!touniformstring(\n    reject(\n      a!isNullOrEmpty,\n      index(\n        local!formatGroup,\n        enumerate(cons!CMGT_INT_BATCH_SIZE_EXTRA_SMALL - 1) + 1,\n        null\n      )\n    )\n  ),\n  local!formattedNamesForCaptionGroup: difference(\n    local!formatGroup,\n    local!formattedNamesBeforeOtherGroups\n  ),\n  local!separator: a!defaultValue(ri!separator, char(10)),\n  /*Hide options > cons!CMGT_INT_NUM_OF_OBJECTS_TO_SHOW_BEFORE_HIDE, */\n  /*use the cons!CMGT_INT_NUM_OF_OBJECTS_TO_SHOW_BEFORE_HIDE object to be the \"show more\"*/\n  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n    label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"List\"),\n    labelPosition: \"COLLAPSED\",\n    value: {\n      if(\n        a!defaultValue(\n          value: ri!showGroupAssigneesOnly,\n          default: false\n        ),\n        {},\n        {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: rule!CMGT_displayListOfItems(\n              values: local!formattedNamesBeforeOther,\n              emptyLabel: ri!emptyLabel,\n              separator: local!separator\n            ),\n            color: a!defaultValue(\n              if(\n                a!isNullOrEmpty(local!distinctUsers),\n                ri!brandingMap.SecondaryTextColor,\n                ri!textColor\n              ),\n              ri!brandingMap.StandardTextColor\n            ),\n            size: a!defaultValue(ri!textSize, \"STANDARD\"),\n            style: if(\n              a!isNullOrEmpty(local!distinctUsers),\n              \"EMPHASIS\",\n              ri!textStyle\n            )\n          ),\n          if(\n            a!isNullOrEmpty(local!formattedNamesForCaption),\n            null,\n            {\n              local!separator,\n              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                icon: \"plus\",\n                caption: joinarray(local!formattedNamesForCaption, \", \"),\n                color: ri!brandingMap.SecondaryTextColor,\n                size: \"SMALL\"\n              ),\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: #\"urn:appian:translation-string:v1:138e2717-f77d-4cb5-9d38-6e79f12039c7\"(\n                  #\"urn:appian:translation-variable:v1:706bfb1d-813b-4e07-adb1-b21bb5d5018b\": count(local!formattedNamesForCaption)\n                ),\n                color: a!defaultValue(\n                  ri!textColor,\n                  ri!brandingMap.StandardTextColor\n                ),\n                size: a!defaultValue(ri!textSize, \"STANDARD\"),\n                style: ri!textStyle\n              )\n            }\n          ),\n          char(10)\n        }\n      ),\n      #\"SYSTEM_SYSRULES_richTextIcon\"(\n        icon: \"group\",\n        color: ri!brandingMap.SecondaryTextColor,\n        size: a!defaultValue(ri!textSize, \"SMALL\")\n      ),\n      \" \",\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: rule!CMGT_displayListOfItems(\n          values: local!formattedNamesBeforeOtherGroups,\n          emptyLabel: ri!emptyLabel,\n          separator: local!separator\n        ),\n        color: if(\n          a!isNullOrEmpty(local!formatGroup),\n          ri!brandingMap.SecondaryTextColor,\n          ri!brandingMap.StandardTextColor\n        ),\n        size: a!defaultValue(ri!textSize, \"SMALL\"),\n        style: if(\n          a!isNullOrEmpty(local!formatGroup),\n          \"EMPHASIS\",\n          ri!textStyle\n        )\n      ),\n      if(\n        a!isNullOrEmpty(local!formattedNamesForCaptionGroup),\n        null,\n        {\n          local!separator,\n          #\"SYSTEM_SYSRULES_richTextIcon\"(\n            icon: \"plus\",\n            caption: joinarray(\n              local!formattedNamesForCaptionGroup,\n              \", \"\n            ),\n            color: a!defaultValue(\n              if(\n                a!isNullOrEmpty(local!distinctGroup),\n                ri!brandingMap.SecondaryTextColor,\n                ri!brandingMap.SecondaryTextColor\n              ),\n              ri!brandingMap.SecondaryTextColor\n            ),\n            size: \"SMALL\"\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: #\"urn:appian:translation-string:v1:138e2717-f77d-4cb5-9d38-6e79f12039c7\"(\n              #\"urn:appian:translation-variable:v1:706bfb1d-813b-4e07-adb1-b21bb5d5018b\": count(local!formattedNamesForCaptionGroup)\n            ),\n            color: ri!brandingMap.StandardTextColor,\n            size: a!defaultValue(ri!textSize, \"SMALL\"),\n            style: ri!textStyle\n          )\n        }\n      )\n    },\n    showWhen: or(\n      a!isNotNullOrEmpty(local!formatGroup),\n      a!isNotNullOrEmpty(ri!emptyLabel)\n    ),\n    align: \"LEFT\",\n    marginAbove: a!defaultValue(\n      value: ri!marginAbove,\n      default: \"STANDARD\"\n    )\n  )\n)"
    },
    "5871189e-5b69-4276-978a-e1c5e4263102": {
      "name": "CMGT_QR_GetEntity",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_Entity,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Entity.entityId,\n      operator: \"in\",\n      value: ri!entityId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Entity.isActive,\n      operator: \"=\",\n      value: true,\n      applyWhen: not(\n        a!defaultValue(ri!includeInactive, false)\n      )\n    )\n  },\n  logicalExpressions: ri!additionalLogicalExpression,\n  fields: {\n    ri!fields,\n    if(\n      ri!excludeRelatedRecords,\n      {},\n      {\n        recordType!CMGT_Entity.entityType,\n        recordType!CMGT_Entity.entityCategory,\n        recordType!CMGT_Entity.person\n      }\n    )\n  },\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  relatedRecordData: ri!relatedRecordData,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ed6e-4eb8-8000-9d48-011c48011c48_3785794": {
      "name": "CMGT_Automation_ConstructCreationOfAutomationTask",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!CMGT_UTIL_IsBlank(ri!caseTypeWorkflowTasks),\n  {},\n  a!localVariables(\n    local!newTaskInstanceUUIDs: #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!caseTypeWorkflowTasks,\n      expression: rule!CMGT_UTIL_GenerateUuid_NonPlugin()\n    ),\n    local!taskActionNewUUIDMapping: a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!caseTypeWorkflowTasks,\n        expression: a!flatten(\n          {\n            a!map(\n              taskActionUuid: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction.taskActionUuid],\n              newUuid: rule!CMGT_UTIL_GenerateUuid_NonPlugin()\n            )\n          }\n        )\n      )\n    ),\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!caseTypeWorkflowTasks,\n      expression: a!localVariables(\n        local!childConditionSets:rule!CMGT_WFL_QR_GetConditionSet(\n          additionalFilters: #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_CFG_ConditionSet.parentConditionSetUuid,\n            operator: \"=\",\n            value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet.conditionSetUuid]\n          ),\n          isActive: true,\n          fields: {recordType!CMGT_CFG_ConditionSet.condition}\n        ),\n        local!updatedConditionSet: if(\n          rule!CMGT_UTIL_IsNotBlank(\n            fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet]\n          ),\n          #\"urn:appian:function:v1:a:update\"(\n            data: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet],\n            index: recordType!CMGT_CFG_ConditionSet.childConditionSet,\n            value: local!childConditionSets\n          ),\n          null()\n        ),\n        local!conditionSetNewUUIDMapping: rule!CMGT_generateConditionSetUuidMap(\n          cfgConditionSet: local!updatedConditionSet\n        ),\n        recordType!CMGT_Task(\n          recordType!CMGT_Task.taskInstanceUuid: local!newTaskInstanceUUIDs[fv!index],\n          recordType!CMGT_Task.caseTypeWorkflowTaskUuid: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n          recordType!CMGT_Task.caseId: ri!case[recordType!CMGT_Case.caseId],\n          recordType!CMGT_Task.taskBehaviorTypeId: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorTypeId],\n          recordType!CMGT_Task.title: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label],\n          recordType!CMGT_Task.questionLabel: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.questionLabel],\n          recordType!CMGT_Task.description: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.description],\n          recordType!CMGT_Task.startsByDefault: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.startsByDefault],\n          recordType!CMGT_Task.sla: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sla],\n          recordType!CMGT_Task.sortOrder: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder],\n          recordType!CMGT_Task.taskIntentionCode: a!defaultValue(ri!taskIntentionCode, fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskIntentionCode]),\n          recordType!CMGT_Task.automationParentWorkflowTaskInstanceUuid: ri!parentWorkflowTaskUuid,\n          recordType!CMGT_Task.milestoneId: index(\n            rule!CMGT_UTIL_Filter(\n              records: ri!case[recordType!CMGT_Case.milestones],\n              field: recordType!CMGT_Milestone.referenceMilestoneUuid,\n              value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone.milestoneUuid]\n            ),\n            recordType!CMGT_Milestone.milestoneId,\n            null\n          ),\n          recordType!CMGT_Task.conditionSet: if(\n            a!isNotNullOrEmpty(\n              fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet]\n            ),\n            rule!CMGT_generateConditionSetFromCfgCondtionSet(\n              cfgConditionSet: local!updatedConditionSet,\n              conditionSetNewUUIDMapping: local!conditionSetNewUUIDMapping,\n              taskInstanceUUID: local!newTaskInstanceUUIDs[fv!index]\n            ),\n            null\n          ),\n          recordType!CMGT_Task.automationTaskAction: if(\n            a!isNotNullOrEmpty(\n              fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction]\n            ),\n            rule!CMGT_generateTaskActionFromCfgTaskAction(\n              cfgTaskAction: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction],\n              taskActionNewUUIDMapping: local!taskActionNewUUIDMapping,\n              taskInstanceUUID: local!newTaskInstanceUUIDs[fv!index]\n            ),\n            null\n          ),\n          recordType!CMGT_Task.automationTrigger: a!defaultValue(\n            value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTrigger],\n            default: null\n          ),\n          recordType!CMGT_Task.triggerContext: a!defaultValue(\n            value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.triggerContext],\n            default: null\n          ),\n          recordType!CMGT_Task.roles: if(\n            fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.isAutomated],\n            recordType!CMGT_Role(\n              recordType!CMGT_Role.username: cons!CMGT_TXT_PROCESS_AUTOMATION,\n              recordType!CMGT_Role.roleTypeId: cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE\n            ),\n            if(\n              a!isNullOrEmpty(\n                fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.defaultGroupAssignee]\n              ),\n              {},\n              recordType!CMGT_Role(\n                recordType!CMGT_Role.groupId: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.defaultGroupAssignee],\n                recordType!CMGT_Role.roleTypeId: cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n              )\n            )\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000eca3-381d-8000-9cf0-011c48011c48_3100753": {
      "name": "CMGT_WFL_GroupCaseTypeWorkflowTaskBranches",
      "type": "Expression Rule",
      "sail_code": "/*This rule groups the task branches as how they should be displayed in the dependents dropdown \nbased on response option, requiredness, requiredness valid, conditionset and returns the result in a map format*/\na!localVariables(\n  local!activeBranches: rule!CMGT_UTIL_Filter(\n    records: ri!caseTypeWorkflowTaskBranch,\n    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive,\n    value: false,\n    filterType: \"REJECT\"\n  ),\n  local!automationUUIDs: rule!CMGT_UTIL_Distinct(\n    rule!CMGT_UTIL_Filter(\n      records: ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorTypeId,\n      value: cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION\n    )[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n  ),\n  local!automationBranches: rule!CMGT_UTIL_Filter(\n    records: local!activeBranches,\n    fieldValuePairs: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n        value: local!automationUUIDs\n      )\n    }\n  ),\n  local!automationGroupMaps: rule!CMGT_WFL_GroupCaseTypeWorkflowTaskBranches_Automations(\n    caseTypeWorkflowTaskBranch: local!automationBranches,\n    caseType: ri!caseType\n  ),\n  local!activeTaskBranches: rule!CMGT_UTIL_Filter(\n    records: local!activeBranches,\n    fieldValuePairs: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n        value: local!automationUUIDs\n      )\n    },\n    filterType: \"REJECT\",\n    \n  ),\n  local!distinctBeforeTaskUUID: rule!CMGT_UTIL_Distinct(\n    local!activeTaskBranches[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid]\n  ),\n  /*Grouping task based on response option  */\n  local!distinctResponseOptions: a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!distinctBeforeTaskUUID,\n      expression: a!localVariables(\n        local!thisUUID: fv!item,\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: rule!CMGT_UTIL_Distinct(\n            rule!CMGT_UTIL_Filter(\n              records: local!activeBranches,\n              field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n              value: local!thisUUID\n            )[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.caseTypeTaskResponseOptionUuid]\n          ),\n          expression: rule!CMGT_WFL_ConstructCaseTypeWorkflowTaskBranchMap(\n            taskUUID: local!thisUUID,\n            taskResponseOptionUUID: fv!item\n          )\n        )\n      )\n    )\n  ),\n  /* Grouping local!distinctResponseOptions based on requiredness */\n  local!distinctionRequiredness: a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!distinctResponseOptions,\n      expression: a!localVariables(\n        local!thisItem: fv!item,\n        local!thisTaskBranches: rule!CMGT_UTIL_Filter(\n          records: local!activeBranches,\n          fieldValuePairs: {\n            a!map(\n              field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n              value: local!thisItem.taskUUID\n            ),\n            a!map(\n              field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.caseTypeTaskResponseOptionUuid,\n              value: local!thisItem.taskResponseOptionUUID\n            ),\n            a!map(\n              field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.conditionSetUuid,\n              value: local!thisItem.conditionSetUUID\n            )\n          }\n        ),\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: rule!CMGT_UTIL_Distinct(\n            local!thisTaskBranches[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isRequired]\n          ),\n          expression: rule!CMGT_WFL_ConstructCaseTypeWorkflowTaskBranchMap(\n            taskUUID: local!thisItem.taskUUID,\n            taskResponseOptionUUID: local!thisItem.taskResponseOptionUUID,\n            isRequired: fv!item,\n            conditionSetUUID: local!thisItem.conditionSetUUID,\n            afterCaseTypeWorkflowTaskBranches: rule!CMGT_UTIL_Filter(\n              records: local!thisTaskBranches,\n              field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isRequired,\n              value: fv!item\n            ),\n            isActive: true\n          )\n        )\n      )\n    )\n  ),\n  /* Grouping local!distinctionRequiredness based on requiredness valid */\n  local!distinctRequirednessValid: #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!distinctionRequiredness,\n    expression: a!localVariables(\n      local!thisMap: fv!item,\n      local!startsByDefault_afterTaskBranches: cast(\n        #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch\n        ),\n        rule!CMGT_UTIL_Filter(\n          records: local!thisMap.afterCaseTypeWorkflowTaskBranches,\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid,\n          value: index(\n            rule!CMGT_UTIL_Filter(\n              records: ri!caseType[recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask],\n              field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.startsByDefault,\n              value: true\n            ),\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n            {}\n          )\n        )\n      ),\n      local!loopBackTasks_afterTaskBranches: cast(\n        #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch\n        ),\n        rule!CMGT_UTIL_Filter(\n          records: local!thisMap.afterCaseTypeWorkflowTaskBranches,\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid,\n          value: rule!CMGT_WFL_CaseTypeWorkflowTasks_FindPreviousTasksInTree(\n            caseType: ri!caseType,\n            taskUuId: local!thisMap.taskUUID,\n            caseTypeWorkflowTaskBranches: local!activeBranches\n          )[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n        )\n      ),\n      {\n        /*isRequirednessValid = true         */\n        if(\n          rule!CMGT_UTIL_IsNotBlank(\n            difference(\n              cast(\n                #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch\n                ),\n                fv!item.afterCaseTypeWorkflowTaskBranches\n              ),\n              a!flatten(\n                {\n                  local!startsByDefault_afterTaskBranches,\n                  local!loopBackTasks_afterTaskBranches\n                }\n              )\n            )\n          ),\n          rule!CMGT_WFL_ConstructCaseTypeWorkflowTaskBranchMap(\n            taskUUID: local!thisMap.taskUUID,\n            taskResponseOptionUUID: local!thisMap.taskResponseOptionUUID,\n            isRequired: local!thisMap.isRequired,\n            isRequirednessValid: true,\n            conditionSetUUID: fv!item.conditionSetUUID,\n            afterCaseTypeWorkflowTaskBranches: difference(\n              cast(\n                #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n                  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch\n                ),\n                fv!item.afterCaseTypeWorkflowTaskBranches\n              ),\n              a!flatten(\n                {\n                  local!startsByDefault_afterTaskBranches,\n                  local!loopBackTasks_afterTaskBranches\n                }\n              )\n            ),\n            isActive: fv!item.isActive\n          ),\n          null\n        ),\n        /*isRequirednessValid = false         */\n        if(\n          rule!CMGT_UTIL_IsNotBlank(\n            union(\n              local!startsByDefault_afterTaskBranches,\n              local!loopBackTasks_afterTaskBranches\n            )\n          ),\n          rule!CMGT_WFL_ConstructCaseTypeWorkflowTaskBranchMap(\n            taskUUID: local!thisMap.taskUUID,\n            taskResponseOptionUUID: local!thisMap.taskResponseOptionUUID,\n            isRequired: local!thisMap.isRequired,\n            isRequirednessValid: false,\n            conditionSetUUID: fv!item.conditionSetUUID,\n            afterCaseTypeWorkflowTaskBranches: union(\n              local!startsByDefault_afterTaskBranches,\n              local!loopBackTasks_afterTaskBranches\n            ),\n            isActive: fv!item.isActive\n          ),\n          null\n        )\n      }\n    )\n  ),\n  cast(\n    #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n      'type!{http://www.appian.com/ae/types/2009}Map'\n    ),\n    rule!CMGT_UTIL_RejectBlank(\n      a!flatten(\n        merge(\n          local!distinctRequirednessValid,\n          local!automationGroupMaps\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e9a5-4cb8-8000-9bac-011c48011c48_69335": {
      "name": "CMGT_QR_GetStatus",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_CFG_Status,\n  returnType: ri!returnType,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_Status.type,\n      operator: \"=\",\n      value: ri!type\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_Status.isActive,\n      operator: \"=\",\n      value: ri!isActive\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_Status.statusId,\n      operator: \"<>\",\n      value: cons!CMGT_REFID_STATUS_TASK_QUEUED,\n      applyWhen: ri!excludeQueued = true\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_Status.statusId,\n      operator: \"in\",\n      value: ri!statusId\n    )\n  },\n  fields: ri!fields,\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: a!defaultValue(\n    ri!sort,\n    #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_CFG_Status.sortOrder,\n      ascending: true\n    )\n  ),\n  triggerRefresh: ri!triggerRefresh,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ea4b-5b86-8000-9bfd-011c48011c48_734971": {
      "name": "CMGT_WFL_WorkflowConfigurationInstruction_NavigationLink",
      "type": "Interface",
      "sail_code": "{\n  /*Navigate to Getting Started Instruction Page link*/\n  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n    label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(\n      testingLabel: \"Learn more about case workflow configuration\"\n    ),\n    labelPosition: \"COLLAPSED\",\n    value: {\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: {\n          #\"SYSTEM_SYSRULES_richTextIcon\"(\n            icon: if(\n              ri!showInstruction,\n              \"angle-down\",\n              \"angle-right\"\n            )\n          ),\n          \" \",\n          #\"urn:appian:translation-string:v1:22847ca0-0a53-4dec-842e-c7d5cba0a744\"\n        },\n        link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n          label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Learn more Link\"),\n          value: not(ri!showInstruction),\n          saveInto: ri!showInstruction\n        ),\n        linkStyle: \"STANDALONE\",\n        color: ri!brandingMap.SecondaryTextColor\n      )\n    },\n    showWhen: ri!showWhen,\n    align: a!defaultValue(ri!align, \"RIGHT\")\n  )\n}"
    },
    "_a-0000eb88-676f-8000-9c81-011c48011c48_1925601": {
      "name": "CMGT_CB_UTIL_LoadBrandingMap",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_MergeMaps(\n  map1: rule!CMGT_UTIL_LoadBrandingMap(),\n  map2: a!localVariables(\n    local!branding: getbrandingconfig(\n      cons!CMGT_WFL_DOC_DEFAULT_BRANDING_CONFIG,\n      true\n    ),\n    local!output: reduce(\n      #\"urn:appian:function:v1:a:update\"(_, _, _),\n      a!map(),\n      merge(\n        {\n          local!branding.defaultBranding.key,\n          local!branding.customBranding.key\n        },\n        {\n          local!branding.defaultBranding.value,\n          local!branding.customBranding.value\n        }\n      )\n    ),\n    local!output\n  )\n)"
    },
    "_a-0000ebe1-6999-8000-9cbe-011c48011c48_2275955": {
      "name": "CMGT_Role_CreateCase_CreateRoles_Wrapper",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_RejectBlank(\n  {\n    rule!CMGT_Role_CreateCase_CreateAssigneeAndAssignedGroup(\n      case: ri!case\n    ),\n    rule!CMGT_LA_Role_CreateCase_Submitter(\n      case: ri!case,\n      initiator: ri!initiator\n    ),\n    \n  }\n)"
    },
    "_a-0000ecbe-e702-8000-9cf8-011c48011c48_3236868": {
      "name": "CMGT_Automation_FormatCondition",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!fieldPathFromJson: if(\n    a!isNullOrEmpty(\n      ri!fieldPathJson\n    ),\n    \"\",\n    #\"SYSTEM_SYSRULES_fromJson_v1\"(\n      ri!fieldPathJson\n    ).\n  ),\n  local!fieldUuid: index(local!fieldPathFromJson, \"uuid\", \"\"),\n  local!fieldDetails: rule!CMGT_UTIL_Filter(\n    records: ri!fieldDetails,\n    fieldValuePairs: {\n      a!map(\n        field: \"uuid\",\n        value: touniformstring(local!fieldUuid)\n      ),\n      a!map(\n        field: \"displayName\",\n        value: touniformString(index(local!fieldPathFromJson, \"displayName\",null))\n      ),\n      if(\n        rule!CMGT_UTIL_IsNotBlank(index(local!fieldPathFromJson, \"customFieldCode\", null)),\n        a!map(\n          field: \"customFieldCode\",\n          value: touniformString(index(local!fieldPathFromJson, \"customFieldCode\", null))\n        ),\n        {}\n      )\n    },\n    filterType: \"FIRST_MATCH\"\n  ),\n  local!jsonValue: if(\n    /*if boolean operators, value can be null. hence check for nulls */\n    a!isNullOrEmpty(\n      ri!valueJson\n    ),\n    \"\",\n    #\"SYSTEM_SYSRULES_fromJson_v1\"(\n      ri!valueJson\n    ).value\n  ),\n  local!value: rule!CMGT_Automation_returnConditionValueForDisplay(\n    fieldDetails: local!fieldDetails,\n    jsonValue: local!jsonValue,\n    fieldPathFromJson: local!fieldPathFromJson,\n    operator: ri!operator\n  ),\n  {\n    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n      text: local!fieldDetails.label & \" \",\n      style: \"STRONG\",\n      size: a!defaultValue(ri!textSize, \"MEDIUM\"),\n      color: a!defaultValue(ri!textColor, \"STANDARD\")\n    ),\n    /*formats the \"Equal to\" and \"Not equal to\" operators to include \"is\" at the front, otherwise returns the stores operator*/\n    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n      text: a!match(\n        value: ri!operator,\n        whenTrue: or(\n          fv!value = #\"urn:appian:translation-string:v1:a4915261-2829-446b-87c7-760583581794\",\n          fv!value = #\"urn:appian:translation-string:v1:d5afe4a4-04fc-43db-b06b-48fc966579ba\"\n        ),\n        then: #\"urn:appian:translation-string:v1:bbb9aa09-db97-467f-a73e-f1dba4eee928\" & \" \" & lower(\n          ri!operator\n        ),\n        default: lower(\n          ri!operator\n        )\n      ),\n      size: a!defaultValue(ri!textSize, \"MEDIUM\"),\n      color: a!defaultValue(ri!textColor, \"STANDARD\")\n    ),\n    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n      text: \" \",\n      showWhen: or(\n        rule!CMGT_UTIL_IsNotBlank(local!value)\n      ),\n      size: a!defaultValue(ri!textSize, \"MEDIUM\"),\n      color: a!defaultValue(ri!textColor, \"STANDARD\")\n    ),\n    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n      text: local!value,\n      style: \"STRONG\",\n      size: a!defaultValue(ri!textSize, \"MEDIUM\"),\n      color: a!defaultValue(ri!textColor, \"STANDARD\")\n    )\n  }\n)"
    },
    "_a-0000ee67-6b40-8000-9d9d-011c48011c48_4632355": {
      "name": "CMGT_KB_QR_GetResources",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_KB_Resource,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_KB_Resource.caseTypeUuid,\n      operator: \"in\",\n      value: ri!caseTypeUuid\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_KB_Resource.resourceId,\n      operator: \"in\",\n      value: ri!resourceIds\n    )\n  },\n  logicalExpressions: ri!additionalLogicalExpression,\n  fields: {\n    ri!fields,\n    recordType!CMGT_KB_Resource.document,\n    recordType!CMGT_KB_Resource.resourceText,\n    recordType!CMGT_KB_Resource.resourceType,\n    recordType!CMGT_KB_Resource.createdByUser,\n    recordType!CMGT_KB_Resource.modifiedByUser\n  },\n  relatedRecordData: { ri!relatedRecordData },\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000e99c-1217-8000-9ba9-011c48011c48_63958": {
      "name": "CMGT_QR_GetTaskBehaviorType",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  executeWhen: ri!executeWhen,\n  recordType: recordType!CMGT_CFG_TaskBehaviorType,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_TaskBehaviorType.isSystemOnly,\n      operator: \"=\",\n      value: ri!isSystemOnly\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_TaskBehaviorType.taskBehaviorTypeId,\n      operator: \"in\",\n      value: ri!taskBehaviorTypeId\n    )\n  },\n  returnType: ri!returnType,\n  fields: ri!fields,\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  triggerRefresh: ri!triggerRefresh,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000eb57-0ad2-8000-9c6b-011c48011c48_1720975": {
      "name": "CMGT_NCF_updateNodeHorizontalOrderFromIndex",
      "type": "Expression Rule",
      "sail_code": "#\"urn:appian:function:v1:a:update\"(\n  data: ri!currentNode,\n  index: \"horizontalOrder\",\n  value: wherecontains(\n    ri!currentNode,\n    append(ri!sortedNodes, a!map())\n  )[1] * 100 / (length(ri!sortedNodes) + 1)\n)"
    },
    "_a-0000ecf6-527e-8000-9bbc-011c48011c48_59891": {
      "name": "CMGT_CFG_ENUM_ACT_ASSIGN_CASE",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  /*code that is used to help evaluation of what actions needs to be ran*/\n  actionCode: cons!CMGT_CFG_TXT_ACT_ASSIGN_CASE,\n  /*Display text of action type in configuration*/\n  name: #\"urn:appian:translation-string:v1:340cf3dc-0483-4dd7-b199-d47e56259f94\",\n  /*interface used to configure assignment logic*/\n  configurationRule:rule!CMGT_WFL_AutomationRule_Configure_AssignmentLogic,\n  runtimeConfigurationRule: rule!CMGT_AutomationRule_Configure_AssignmentLogic,\n  configurationDisplayRule: rule!CMGT_WFL_CaseType_Rules_FormatAssignAction,\n  runtimeDisplayRule: rule!CMGT_Case_Rules_FormatAssignAction,\n  /*process to be run to assigne a case*/\n  PmConstant: cons!CMGT_PM_ROLE_MANAGE,\n  /*evaluation rule that runs and outputs the necessary process parameters*/\n  pmParameterEvalRule: rule!CMGT_AUTO_EVAL_CaseAssignment_DetermineProcessParameters,\n  context: cons!CMGT_CFG_TXT_ACT_CONTEXT_CASE,\n  createdBy: \"system\"\n)"
    },
    "_a-0000edca-8907-8000-9d75-011c48011c48_4152418": {
      "name": "CMGT_formatStudioFieldHierarchy",
      "type": "Expression Rule",
      "sail_code": "/*need to always filter out the Case Type field when returning all fields from the control panel*/\nrule!CMGT_UTIL_Filter(\n  records: a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!controlPanelHierarchy,\n      /*adds the correct parentRecordType needed*/\n      expression: a!localVariables(\n        local!studioRecord: fv!item,\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: local!studioRecord.fields,\n          expression: a!localVariables(\n            local!field: fv!item,\n            #\"urn:appian:function:v1:a:update\"(\n              local!field,\n              { \"parentRecordTypeUuid\", \"dataKeyName\" },\n              {\n                rule!CMGT_UTIL_getRecordTypeUuid(\n                  recordType: local!studioRecord.recordType\n                ),\n                local!studioRecord.dataKeyName\n              }\n            )\n          )\n        )\n      )\n    )\n  ),\n  field: \"uuid\",\n  value: \"908c9e8c-078d-4e74-afc9-6e3f9a7c176a\",\n  filterType: \"REJECT\"\n)"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_568080": {
      "name": "CMGT_WFL_QR_GetTaskBlock",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_WFL_CFG_TaskBlock,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_TaskBlock.taskBlockId,\n      operator: \"in\",\n      value: ri!taskBlockId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_TaskBlock.isActive,\n      operator: \"=\",\n      value: true,\n      applyWhen: ri!includeInactive <> true\n    )\n  },\n  fields: ri!fields,\n  sort: {\n    a!defaultValue(\n      ri!sort,\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_WFL_CFG_TaskBlock.label,\n        ascending: true\n      )\n    )\n  },\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000eeba-7a31-8000-9dbb-011c48011c48_4846589": {
      "name": "CMGT_SMS_AI_SmartSearchResultsTab_Cases",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_cardLayout\"(\n  showBorder: false,\n  style: \"TRANSPARENT\",\n  padding: \"STANDARD\",\n  contents: {\n    /* Filters */\n    rule!CMGT_SMS_AI_SmartSearchCasesTabFilters(\n      selectedStatus: ri!selectedStatus,\n      selectedCaseTypes: ri!selectedCaseTypes,\n      selectedAssignees: ri!selectedAssignees,\n      selectedAssignedGroups: ri!selectedAssignedGroups\n    ),\n    /* Results */\n    #\"SYSTEM_SYSRULES_cardGroupLayout\"(\n      labelPosition: \"COLLAPSED\",\n      cards: {\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!searchResult.data,\n          expression: {\n            rule!CMGT_SMS_AI_SmartSearchCaseCard(\n              case: fv!item,\n              brandingMap: ri!brandingMap\n            )\n          }\n        )\n      },\n      cardWidth: \"WIDE\",\n      showWhen: rule!CMGT_UTIL_IsNotBlank(ri!searchResult.data)\n    ),\n    /* Custom Paging */\n    if(\n      ri!totalCount > cons!CMGT_INT_BATCH_SIZE_MEDIUM,\n      rule!CMGT_UTIL_CustomPaging(\n        pagingInfo: ri!pagingInfo,\n        totalCount: ri!totalCount,\n        brandingMap: ri!brandingMap\n      ),\n      {}\n    ),\n    /*Search Results - No Result found*/\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      marginAbove: \"MORE\",\n      marginBelow: \"MORE\",\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_stampField\"(\n              labelPosition: \"COLLAPSED\",\n              icon: \"search-minus\",\n              backgroundColor: ri!brandingMap.WhiteColor,\n              contentColor: ri!brandingMap.SecondaryTextColor,\n              size: \"MEDIUM\",\n              align: \"CENTER\",\n              marginBelow: \"STANDARD\",\n              shape: \"ROUNDED\"\n            ),\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              labelPosition: \"COLLAPSED\",\n              value: {\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: #\"urn:appian:translation-string:v1:6ad92534-fd9d-4c80-b325-728dd1392a18\",\n                  color: ri!brandingMap.StandardTextColor,\n                  size: \"MEDIUM\"\n                )\n              },\n              align: \"CENTER\"\n            )\n          },\n          width: if(\n            not(\n              #\"SYSTEM_SYSRULES_isPageWidth\"({ \"PHONE\", \"TABLET_PORTRAIT\" })\n            ),\n            \"MEDIUM_PLUS\",\n            \"WIDE_PLUS\"\n          )\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(contents: {})\n      },\n      showWhen: rule!CMGT_UTIL_IsBlank(ri!searchResult.data)\n    )\n  }\n)"
    },
    "_a-0000e9fd-9441-8000-9bdc-011c48011c48_312992": {
      "name": "CMGT_EntityEventHistory_Constructor",
      "type": "Expression Rule",
      "sail_code": "recordType!CMGT_EventHistory_Entity(\n  recordType!CMGT_EventHistory_Entity.entityId: ri!entityId,\n  recordType!CMGT_EventHistory_Entity.timestamp: a!defaultValue(value: ri!timestamp, default: now()),\n  recordType!CMGT_EventHistory_Entity.username: rule!CMGT_formatEventInitiator(initiator: ri!initiator),\n  recordType!CMGT_EventHistory_Entity.entityEventTypeId: ri!eventTypeId,\n  recordType!CMGT_EventHistory_Entity.details: if(\n    a!isNotNullOrEmpty(ri!details),\n    #\"SYSTEM_SYSRULES_toJson_v1\"(value: ri!details),\n    null\n  )\n)"
    },
    "_a-0000ece2-0128-8000-9bb8-011c48011c48_37290": {
      "name": "CMGT_UTIL_CalculateDueDateBasedOnSLA",
      "type": "Expression Rule",
      "sail_code": "if(\n  any(a!isNullOrEmpty, { ri!dateTime, ri!SLA }),\n  null(),\n  a!localVariables(\n    local!details: cast(\n      'type!{http://www.appian.com/ae/types/2009}Map',\n      if(\n        a!isNotNullOrEmpty(ri!SLA),\n        #\"SYSTEM_SYSRULES_fromJson_v1\"(ri!SLA),\n        null\n      )\n    ),\n    local!days: a!defaultValue(\n      value: index(local!details, \"days\", null()),\n      default: 0\n    ),\n    local!hours: a!defaultValue(\n      value: index(local!details, \"hours\", null()),\n      default: 0\n    ),\n    local!minutes: a!defaultValue(\n      value: index(local!details, \"minutes\", null()),\n      default: 0\n    ),\n    local!isBusinessDays: a!defaultValue(\n      value: index(local!details, \"isBusinessDays\", false()),\n      default: false()\n    ),\n    a!addDateTime(\n      startDateTime: ri!dateTime,\n      days: local!days,\n      hours: local!hours,\n      minutes: local!minutes,\n      useProcessCalendar: local!isBusinessDays\n    )\n  )\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_29477-cmgt": {
      "name": "CMGT_Comment_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!comments,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_Comment.modifiedBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_Comment.modifiedOn,\n        value: now()\n      ),\n      /*Set hasBeenEdited if changed and not previously set*/\n      a!map(\n        field: recordType!CMGT_Comment.hasBeenEdited,\n        value: if(\n          fv!item[recordType!CMGT_Comment.hasBeenEdited],\n          true,\n          a!isNullOrEmpty(\n            fv!item[recordType!CMGT_Comment.commentId]\n          ),\n          false,\n          fv!item[recordType!CMGT_Comment.commentText] <> rule!CMGT_QR_GetComment(\n            commentId: fv!item[recordType!CMGT_Comment.commentId],\n            fields: recordType!CMGT_Comment.commentText,\n            returnType: \"SINGLE_OBJECT\"\n          )[recordType!CMGT_Comment.commentText]\n        )\n      )\n    },\n    /*Only modify these fields if they are currently null (default value)*/\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_Comment.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_Comment.createdOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_Comment.isActive,\n        value: true\n      ),\n      a!map(\n        field: recordType!CMGT_Comment.isPrivate,\n        value: #\"urn:appian:function:v1:a:isusermemberofgroup?okey=a!isUserMemberOfGroup\"(\n          ri!initiator,\n          cons!CMGT_GRP_INTERNAL_USERS\n        )\n      ),\n      a!map(\n        field: recordType!CMGT_Comment.isBookmarked,\n        value: false\n      ),\n      /*Set caseId/taskId in case it's on the object and not the FK field*/\n      a!map(\n        field: recordType!CMGT_Comment.caseId,\n        value: fv!item[recordType!CMGT_Comment.case.caseId]\n      ),\n      a!map(\n        field: recordType!CMGT_Comment.taskId,\n        value: fv!item[recordType!CMGT_Comment.task.taskId]\n      )\n    },\n    /*Set metadata for all child relationships*/\n    childRelationships: {\n      a!map(\n        field: recordType!CMGT_Comment.userTags,\n        value: rule!CMGT_CommentUserTag_SetMetaData(\n          commentUserTags: fv!item[recordType!CMGT_Comment.userTags]\n        )\n      ),\n      a!map(\n        field: recordType!CMGT_Comment.commentDocumentMap,\n        value: rule!CMGT_CommentDocumentMap_SetMetaData(\n          commentDocumentMaps: fv!item[recordType!CMGT_Comment.commentDocumentMap]\n        )\n      )\n    }\n  )\n)"
    },
    "_a-0000ea2f-ac11-8000-9bf4-011c48011c48_598077": {
      "name": "CMGT_Email_BaseTemplate_ReplacementParamsMap",
      "type": "Expression Rule",
      "sail_code": "{\n  /* Header   */\n  {\n    find: \"headerBackgroundColor\",\n    replace: ri!brandingMap.DefaultBackgroundColor\n  },\n  {\n    find: \"logo\",\n    replace: ri!brandingMap.PublicLogoUrl\n  },\n  {\n    find: \"applicationNameColor\",\n    replace: ri!brandingMap.AccentColor\n  },\n  {\n    find: \"applicationName\",\n    replace: #\"urn:appian:translation-string:v1:311735dd-c418-42b1-9019-b3f175959489\"\n  },\n  /* Body   */\n  {\n    find: \"backgroundColor\",\n    replace: ri!brandingMap.DefaultBackgroundColor\n  },\n  {\n    find: \"contentBorderColor\",\n    replace: ri!brandingMap.DividerColor\n  },\n  {\n    find: \"instructionSize\",\n    replace: ri!instructionSize\n  },\n  {\n    find: \"instructionColor\",\n    replace: a!defaultValue(\n      value: ri!instructionColor,\n      default: ri!brandingMap.StandardTextColor\n    )\n  },\n  {\n    find: \"instruction\",\n    replace: ri!instruction\n  },\n  /* Button   */\n  {\n    find: \"buttonBackgroundColor\",\n    replace: ri!brandingMap.AccentColor\n  },\n  {\n    find: \"buttonLabelColor\",\n    replace: ri!brandingMap.WhiteColor\n  },\n  {\n    find: \"buttonLabel\",\n    replace: ri!buttonLabel\n  },\n  {\n    find: \"buttonLinkUrl\",\n    replace: ri!buttonLinkUrl\n  },\n  /*  Footer        */\n  {\n    find: \"footerTextColor\",\n    replace: ri!brandingMap.SecondaryTextColor\n  },\n  {\n    find: \"footerText\",\n    replace: ri!footerText\n  }\n}"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_34666": {
      "name": "CMGT_WFL_QR_GetTaskBlockTask",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_WFL_CFG_TaskBlockTask,\n  executeWhen: ri!executeWhen,\n  returnType: ri!returnType,\n  sort: ri!sort,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockId,\n      operator: \"in\",\n      value: ri!taskBlockId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlock.isActive,\n      operator: \"=\",\n      value: true\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_TaskBlockTask.referenceTaskId,\n      operator: \"=\",\n      value: ri!referenceTaskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskId,\n      operator: \"in\",\n      value: ri!taskBlockTaskId\n    )\n  },\n  fields: {\n    ri!fields,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.referenceTask,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.taskBehaviorType,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.beforeTaskBlockTaskBranches,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.beforeTaskBlockTaskBranches,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlock,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.createCaseTaskBlockTask,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.sendEmailTaskBlockTask,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.sendEmailTaskBlockTask,\n    #\"urn:appian:record-relationship:v1:671fbea8-6589-4ff6-8271-f692a237f4f4/924d5530-bf9b-4356-a967-499f27089d0d/6ea50f07-345d-4d73-b820-8b224ccbee99/516efecb-7202-4e04-a2fb-1da7c56053df\"\n  },\n  relatedRecordData: {\n    ri!relatedRecordData,\n    #\"SYSTEM_SYSRULES_relatedRecordData\"(\n      relationship:recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskResponseOptions,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field:recordType!CMGT_WFL_CFG_TaskBlockTaskResponseOption.sortOrder,\n        ascending: true\n      )\n    )\n  },\n  pagingInfo: ri!pagingInfo,\n  triggerRefresh: ri!triggerRefresh,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000eaf1-7a52-8000-9c42-011c48011c48_1227353": {
      "name": "CMGT_UTIL_StripHtmlTags",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!replacedText: substitute(\n    substitute(ri!value, \"<p>\", \"\"),\n    \"</p>\",\n    \"\"\n  ),\n  if(\n    ri!isFormatted,\n    /*The striphtml() will automatically substitue char(10) for <br>*/striphtml(local!replacedText),\n    striphtml(\n      substitute(local!replacedText, \"<br>\", \" \")\n    )\n  )\n)"
    },
    "_a-0000eb88-676f-8000-9c81-011c48011c48_1930673": {
      "name": "CMGT_CB_DisplayEmptyState",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_columnsLayout\"(\n  columns: {\n    #\"SYSTEM_SYSRULES_columnLayout\"(\n      width: \"EXTRA_NARROW\",\n      showWhen: if(ri!condensed, false, true)\n    ),\n    #\"SYSTEM_SYSRULES_columnLayout\"(\n      contents: {\n        if(\n          a!isNotNullOrEmpty(ri!docImage),\n          #\"SYSTEM_SYSRULES_imageField_v1\"(\n            images: #\"SYSTEM_SYSRULES_documentImage\"(document: ri!docImage),\n            size: \"TINY\",\n            align: \"CENTER\"\n          ),\n          {}\n        ),\n        #\"SYSTEM_SYSRULES_headingField\"(\n          text: ri!primaryText,\n          size: \"SMALL\",\n          headingTag: \"H5\",\n          color: ri!brandingMap.PrimaryTextColor,\n          fontWeight: ri!primaryFontWeight,\n          align:\"CENTER\",\n          marginAbove: \"NONE\",\n          marginBelow: \"EVEN_LESS\"\n        ),\n        #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          labelPosition: \"COLLAPSED\",\n          value: {\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: ri!secondaryText,\n              color: ri!brandingMap.SecondaryTextColor,\n              size: \"STANDARD\",\n              style: ri!secondaryTextStyle\n            )\n          },\n          align: \"CENTER\"\n        ),\n        a!defaultValue(ri!additionalContent, {})\n      }\n    ),\n    #\"SYSTEM_SYSRULES_columnLayout\"(\n      width: \"EXTRA_NARROW\",\n      showWhen: if(ri!condensed, false, true)\n    )\n\n  },\n  showWhen: ri!showWhen,\n  marginBelow: \"NONE\"\n)"
    },
    "_a-0000ecac-72b0-8000-9cf2-011c48011c48_3160373": {
      "name": "CMGT_UTIL_ReturnFieldEvaluationByType",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(a!map()),\n  a!match(\n    value: ri!type,\n    equals: \"BOOLEAN\",\n    then: a!map(\n      evalRule: rule!CMGT_Condition_EvaluationForBooleanFields\n    ),\n    whenTrue: contains(\n      { \"TEXT\", \"LONG_TEXT\", \"XL_TEXT\" },\n      fv!value\n    ),\n    then: a!map(\n      evalRule: rule!CMGT_Condition_EvaluationForTextFields\n    ),\n    equals: \"DATE\",\n    then: a!map(\n      evalRule: rule!CMGT_Condition_EvaluationforDateFields\n    ),\n    whenTrue: or(\n      fv!value = \"DECIMAL\",\n      fv!value = \"INTEGER\"\n    ),\n    then: a!map(\n      evalRule: rule!CMGT_Condition_EvaluationForIntegerAndDecimalFields\n    ),\n    equals: \"DATETIME\",\n    then: a!map(\n      evalRule: rule!CMGT_Condition_EvaluationForDateTimeFields\n    ),\n    whenTrue: or(fv!value=\"RecordType\", fv!value=\"USERNAME\"),\n    then: a!map(\n      evalRule: rule!CMGT_AUTO_EVAL_Condition_EvaluationforRecordTypeFields\n    ),\n    equals: \"GROUP\",\n    then: a!map(\n      evalRule: rule!CMGT_Condition_EvaluationForGroupFields\n    ),\n    default: a!map(\n      evalRule: rule!CMGT_Condition_EvaluationforChoiceListFields\n    )\n  )\n)"
    },
    "_a-0000eaba-1e20-8000-9c2a-011c48011c48_1034472": {
      "name": "CMGT_ENUM_BRAND_STANDARD_COLOR_SCHEMES",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  /*Note that this should really be COLOR_SCHEME_CHART*/\n  /*but due to backwards compatibility we cannot change it*/\n  /*Maps to: https://docs.appian.com/suite/help/latest/Chart_Color_Scheme.html*/\n  COLOR_SCHEME: a!map(\n    isArray: true,\n    colorSchemes: {\n      a!map(\n        key: \"CLASSIC\",\n        hexCodes: {\n          \"#619ed6\",\n          \"#6ba547\",\n          \"#f7d027\",\n          \"#e48f1b\",\n          \"#b77ea3\",\n          \"#e64345\",\n          \"#60ceed\",\n          \"#9cf168\",\n          \"#f7ea4a\",\n          \"#fbc543\",\n          \"#ffc9ed\",\n          \"#e6696e\"\n        }\n      ),\n      a!map(\n        key: \"MIDNIGHT\",\n        hexCodes: {\n          \"#97a1d9\",\n          \"#6978c9\",\n          \"#4a5596\",\n          \"#2c3365\",\n          \"#111539\"\n        }\n      ),\n      a!map(\n        key: \"OCEAN\",\n        hexCodes: {\n          \"#77c2fe\",\n          \"#249cff\",\n          \"#1578cf\",\n          \"#0a579e\",\n          \"#003870\"\n        }\n      ),\n      a!map(\n        key: \"MOSS\",\n        hexCodes: {\n          \"#62beb6\",\n          \"#0b9a8d\",\n          \"#077368\",\n          \"#034d44\",\n          \"#002b24\"\n        }\n      ),\n      a!map(\n        key: \"BERRY\",\n        hexCodes: {\n          \"#f88fb2\",\n          \"#ed5c8b\",\n          \"#d5255e\",\n          \"#a31246\",\n          \"#740030\"\n        }\n      ),\n      a!map(\n        key: \"PARACHUTE\",\n        hexCodes: {\n          \"#e65f8e\",\n          \"#a86bd1\",\n          \"#3aa5d1\",\n          \"#3bb58f\",\n          \"#3a63ad\"\n        }\n      ),\n      a!map(\n        key: \"RAINFOREST\",\n        hexCodes: {\n          \"#82c272\",\n          \"#00a88f\",\n          \"#0087ac\",\n          \"#005faa\",\n          \"#323b81\"\n        }\n      ),\n      a!map(\n        key: \"SUNSET\",\n        hexCodes: {\n          \"#ffca3e\",\n          \"#ff6f50\",\n          \"#d03454\",\n          \"#9c2162\",\n          \"#772f67\"\n        }\n      )\n    }\n  ),\n  /*Maps to: https://docs.appian.com/suite/help/latest/ux_header_content_layout.html#color-schemes*/\n  COLOR_SCHEME_PAGE_BACKGROUND: a!map(\n    isArray: false,\n    colorSchemes: {\n      a!map(key: \"WHITE\", hexCode: \"#ffffff\"),\n      a!map(key: \"TRANSPARENT\", hexCode: \"#ffffff\"),\n      a!map(\n        key: \"CHARCOAL_SCHEME\",\n        hexCode: \"#1b1e21\"\n      ),\n      a!map(key: \"NAVY_SCHEME\", hexCode: \"#19202a\"),\n      a!map(key: \"PLUM_SCHEME\", hexCode: \"#171522\")\n    }\n  ),\n  /*Maps to: https://docs.appian.com/suite/help/latest/Chart_Reference_Line_Component.html*/\n  COLOR_SCHEME_CHART_LINE: a!map(\n    isArray: false,\n    colorSchemes: {\n      a!map(key: \"ACCENT\", hexCode: \"#316598\"),\n      a!map(key: \"BLUEGRAY\", hexCode: \"#6e9dd1\"),\n      a!map(key: \"GREEN\", hexCode: \"#78a253\"),\n      a!map(key: \"GOLD\", hexCode: \"#f2cf50\"),\n      a!map(key: \"ORANGE\", hexCode: \"#d9923b\"),\n      a!map(key: \"PURPLE\", hexCode: \"#af81a1\"),\n      a!map(key: \"RED\", hexCode: \"#d5504c\"),\n      a!map(key: \"SKYBLUE\", hexCode: \"#7ccce9\"),\n      a!map(key: \"LIMEGREEN\", hexCode: \"#afed7a\"),\n      a!map(key: \"YELLOW\", hexCode: \"#f6e868\"),\n      a!map(key: \"AMBER\", hexCode: \"#f4c65c\"),\n      a!map(key: \"PINK\", hexCode: \"#f7cceb\"),\n      a!map(key: \"VIOLETRED\", hexCode: \"#d67071\")\n    }\n  )\n)"
    },
    "_a-0000e9dc-ab93-8000-9bc2-011c48011c48_189380": {
      "name": "CMGT_UTIL_DisplayListOfItems",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!distinctValues: rule!CMGT_UTIL_Distinct(\n    reject(a!isNullOrEmpty, a!flatten(ri!values))\n  ),\n  local!formatValues: #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!distinctValues,\n    expression: if(\n      runtimetypeof(fv!item) = 'type!{http://www.appian.com/ae/types/2009}Group',\n      group(tointeger(fv!item), \"groupName\"),\n      fv!item\n    )\n  ),\n  local!formattedNamesBeforeOther: index(\n    local!formatValues,\n    enumerate(cons!CMGT_INT_BATCH_SIZE_EXTRA_SMALL - 1) + 1,\n    null\n  ),\n  local!formattedNamesForCaption: difference(\n    local!formatValues,\n    local!formattedNamesBeforeOther\n  ),\n  local!count: a!defaultValue(\n    ri!totalCount,\n    count(local!distinctValues)\n  ),\n  local!separator: a!defaultValue(ri!separator, char(10)),\n  /*Hide options > cons!CMGT_INT_NUM_OF_OBJECTS_TO_SHOW_BEFORE_HIDE,\n          use the cons!CMGT_INT_NUM_OF_OBJECTS_TO_SHOW_BEFORE_HIDE object to be the \"show more\"\n  */\n  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n    label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"List\"),\n    labelPosition: \"COLLAPSED\",\n    value: if(\n      local!count < cons!CMGT_INT_BATCH_SIZE_EXTRA_SMALL,\n      {\n        if(\n          a!isNotNullOrEmpty(value: ri!icon),\n          {\n            #\"SYSTEM_SYSRULES_richTextIcon\"(\n              icon: ri!icon,\n              caption: ri!iconCaption,\n              color: a!defaultValue(\n                ri!iconColor,\n                ri!brandingMap.SecondaryTextColor\n              ),\n              size: \"SMALL\"\n            ),\n            char(32)\n          },\n          {}\n        ),\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: if(\n            a!isNullOrEmpty(local!formatValues),\n            ri!emptyLabel,\n            joinarray(local!formatValues, local!separator)\n          ),\n          color: a!defaultValue(\n            if(\n              a!isNullOrEmpty(local!formatValues),\n              ri!brandingMap.SecondaryTextColor,\n              ri!textColor\n            ),\n            ri!brandingMap.StandardTextColor\n          ),\n          size: a!defaultValue(ri!textSize, \"STANDARD\"),\n          style: if(\n            a!isNullOrEmpty(local!formatValues),\n            \"EMPHASIS\",\n            ri!textStyle\n          )\n        )\n      },\n      {\n        if(\n          a!isNotNullOrEmpty(value: ri!icon),\n          {\n            #\"SYSTEM_SYSRULES_richTextIcon\"(\n              icon: ri!icon,\n              caption: ri!iconCaption,\n              color: a!defaultValue(\n                ri!iconColor,\n                ri!brandingMap.SecondaryTextColor\n              ),\n              size: \"SMALL\"\n            ),\n            char(32)\n          },\n          {}\n        ),\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: {\n            joinarray(\n              local!formattedNamesBeforeOther,\n              local!separator\n            ),\n            local!separator\n          },\n          color: a!defaultValue(\n            if(\n              a!isNullOrEmpty(local!distinctValues),\n              ri!brandingMap.SecondaryTextColor,\n              ri!textColor\n            ),\n            ri!brandingMap.StandardTextColor\n          ),\n          size: a!defaultValue(ri!textSize, \"STANDARD\"),\n          style: if(\n            a!isNullOrEmpty(local!distinctValues),\n            \"EMPHASIS\",\n            ri!textStyle\n          )\n        ),\n        #\"SYSTEM_SYSRULES_richTextIcon\"(\n          icon: \"plus\",\n          caption: joinarray(local!formattedNamesForCaption, \", \"),\n          color: ri!brandingMap.SecondaryTextColor,\n          size: \"SMALL\"\n        ),\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: a!localVariables(\n            local!countForMoreAvailable: (\n              local!count - cons!CMGT_INT_BATCH_SIZE_EXTRA_SMALL\n            ) + 1,\n            #\"urn:appian:translation-string:v1:138e2717-f77d-4cb5-9d38-6e79f12039c7\"(#\"urn:appian:translation-variable:v1:706bfb1d-813b-4e07-adb1-b21bb5d5018b\": local!countForMoreAvailable)\n          ),\n          color: a!defaultValue(\n            if(\n              a!isNullOrEmpty(local!distinctValues),\n              ri!brandingMap.SecondaryTextColor,\n              ri!textColor\n            ),\n            ri!brandingMap.StandardTextColor\n          ),\n          size: a!defaultValue(ri!textSize, \"STANDARD\"),\n          style: if(\n            a!isNullOrEmpty(local!formatValues),\n            \"EMPHASIS\",\n            ri!textStyle\n          )\n        )\n      }\n    ),\n    showWhen: or(\n      a!isNotNullOrEmpty(local!distinctValues),\n      a!isNotNullOrEmpty(ri!emptyLabel)\n    ),\n    align: \"LEFT\",\n    marginAbove: a!defaultValue(\n      value: ri!marginAbove,\n      default: \"STANDARD\"\n    ),\n    marginBelow: a!defaultValue(\n      value: ri!marginBelow,\n      default: \"STANDARD\"\n    ),\n\n  )\n)"
    },
    "_a-0000edc1-4e36-8000-9d71-011c48011c48_4104838": {
      "name": "CMGT_ControlPanel_Tasking",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!brandingMap: rule!CMGT_CB_UTIL_LoadBrandingMap(),\n  local!tabs: {\n    a!map(\n      tabNumber: 1,\n      name: #\"urn:appian:translation-string:v1:406b7c4a-ff09-4f3e-b7a7-333b03e9e34e\",\n      icon: \"list-alt\"\n    ),\n    a!map(\n      tabNumber: 2,\n      name: #\"urn:appian:translation-string:v1:2a091aa5-a899-438f-a0e7-5d495f5c2092\",\n      icon: \"files-o\"\n    )\n  },\n  local!selectedTab: 1,\n  #\"SYSTEM_SYSRULES_paneLayout\"(\n    panes: #\"SYSTEM_SYSRULES_pane\"(\n      contents:\n      {\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: rule!CMGT_UTIL_TabLayout(\n            tabs: local!tabs,\n            activeTab: local!selectedTab,\n            brandingMap: local!brandingMap,\n            isMobileScreenSize: false,\n            activeTabColor: local!brandingMap.TabSelectedBorderColor,\n            size: \"STANDARD\",\n            activeTabBackgroundColor: local!brandingMap.TabSelectedBackgroundColor,\n\n          )\n        )\n      },\n      marginBelow: \"NONE\",\n      spacing: \"NONE\",\n      stackWhen: \"NEVER\",\n      showDividers: false\n    ),\n    a!match(\n      value: local!selectedTab,\n      equals: 1,\n      then: rule!CMGT_ControlPanel_Tasking_Task(brandingMap: local!brandingMap),\n      equals: 2,\n      then: rule!CMGT_ControlPanel_Tasking_TaskBlocks(brandingMap: local!brandingMap),\n      default: {}\n    )\n  },\n  backgroundColor: local!brandingMap.DefaultBackgroundColor\n)\n)\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_29424-cmgt": {
      "name": "CMGT_QR_GetComment",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_Comment,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Comment.caseId,\n      operator: \"=\",\n      value: ri!caseId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Comment.taskId,\n      operator: \"=\",\n      value: ri!taskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Comment.commentId,\n      operator: \"in\",\n      value: ri!commentId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Comment.parentCommentId,\n      operator: \"is null\",\n      applyWhen: ri!onlyParentComments = true\n    )\n  },\n  logicalExpressions: ri!additionalLogicalExpressions,\n  fields: {\n    ri!fields,\n    if(\n      ri!includeCase,\n      recordType!CMGT_Comment.case,\n      {}\n    ),\n    if(\n      ri!includeTask,\n      recordType!CMGT_Comment.task,\n      {}\n    ),\n    if(\n      ri!includeUserTagsAndDocumentMaps,\n      {\n        recordType!CMGT_Comment.userTags,\n        recordType!CMGT_Comment.userTags,\n        recordType!CMGT_Comment.commentDocumentMap,\n        recordType!CMGT_Comment.commentDocumentMap\n      },\n      {}\n    ),\n    if(\n      ri!includeChildComments,\n      {\n        recordType!CMGT_Comment.childComments,\n        if(\n          ri!includeUserTagsAndDocumentMaps,\n          {\n            recordType!CMGT_Comment.childComments,\n            #\"urn:appian:record-relationship:v1:e57250b0-f216-4a23-afd9-39e7d532d302-cmgt/3fbb8e70-35d5-460e-aee9-d05940b75a05/18e4567c-a0ea-4ba1-bcff-220a1ef13668-cmgt/e7ba3b0b-ab6f-4600-9551-ea4a0d70d530-cmgt\",\n            recordType!CMGT_Comment.childComments,\n            #\"urn:appian:record-relationship:v1:e57250b0-f216-4a23-afd9-39e7d532d302-cmgt/3fbb8e70-35d5-460e-aee9-d05940b75a05/4482fa71-8c71-40a5-98f2-773715556151/71840277-2340-479f-be2c-7d05e30ba12f\"\n          },\n          {}\n        )\n      },\n      {}\n    ),\n    recordType!CMGT_Comment.createdByUser\n  },\n  pagingInfo: ri!pagingInfo,\n  relatedRecordData: {\n    ri!relatedRecordData,\n    if(\n      ri!includeChildComments,\n      #\"SYSTEM_SYSRULES_relatedRecordData\"(\n        relationship: recordType!CMGT_Comment.childComments,\n        limit: 10,\n        sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!CMGT_Comment.createdOn,\n          ascending: true\n        )\n      ),\n      {}\n    )\n  },\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: {\n    recordType!CMGT_Comment.commentText,\n    #\"urn:appian:record-field:v1:e57250b0-f216-4a23-afd9-39e7d532d302-cmgt/18e4567c-a0ea-4ba1-bcff-220a1ef13668-cmgt/e7ba3b0b-ab6f-4600-9551-ea4a0d70d530-cmgt/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\",\n    if(\n      ri!includeChildComments,\n      {\n        recordType!CMGT_Comment.childComments.commentText,\n        #\"urn:appian:record-field:v1:e57250b0-f216-4a23-afd9-39e7d532d302-cmgt/3fbb8e70-35d5-460e-aee9-d05940b75a05/18e4567c-a0ea-4ba1-bcff-220a1ef13668-cmgt/e7ba3b0b-ab6f-4600-9551-ea4a0d70d530-cmgt/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\"\n      },\n      {}\n    )\n  },\n  sort: ri!sort\n)"
    },
    "_a-0000eeba-7a31-8000-9dbb-011c48011c48_4845374": {
      "name": "CMGT_SMS_AI_SmartSearchTasksTabFilters",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_sideBySideLayout\"(\n  items: {\n    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n      item: #\"SYSTEM_SYSRULES_multipleDropdownField_v1\"(\n        data: recordType!CMGT_CFG_TaskBehaviorType,\n        label: #\"urn:appian:translation-string:v1:1d58ff3b-5696-425d-aa68-e95d15a92988\",\n        placeholder: #\"urn:appian:translation-string:v1:1d58ff3b-5696-425d-aa68-e95d15a92988\",\n        value: ri!selectedTaskTypes,\n        choiceLabels: recordType!CMGT_CFG_TaskBehaviorType.label,\n        choiceValues: recordType!CMGT_CFG_TaskBehaviorType.taskBehaviorTypeId,\n        saveInto: ri!selectedTaskTypes\n      )\n    ),\n    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n      item: #\"SYSTEM_SYSRULES_multipleDropdownField_v1\"(\n        data: #\"SYSTEM_SYSRULES_recordData\"(\n          recordType: recordType!CMGT_CFG_Status,\n          filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_CFG_Status.type,\n                operator: \"=\",\n                value: \"TASK\"\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_CFG_Status.isActive,\n                operator: \"=\",\n                value: true\n              )\n            }\n          )\n        ),\n        label: #\"urn:appian:translation-string:v1:952ff189-5287-445d-991e-730bfc34ae2e\",\n        placeholder: #\"urn:appian:translation-string:v1:952ff189-5287-445d-991e-730bfc34ae2e\",\n        value: ri!selectedStatus,\n        choiceLabels: recordType!CMGT_CFG_Status.statusLabel,\n        choiceValues: recordType!CMGT_CFG_Status.statusId,\n        saveInto: ri!selectedStatus\n      )\n    ),\n    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n      item: #\"SYSTEM_SYSRULES_pickerFieldUsers\"(\n        label: #\"urn:appian:translation-string:v1:6b6a9910-093f-4a1e-9807-d5d8b06daecc\",\n        labelPosition: \"ABOVE\",\n        placeholder: #\"urn:appian:translation-string:v1:6b6a9910-093f-4a1e-9807-d5d8b06daecc\",\n        maxSelections: 5,\n        groupFilter: cons!CMGT_GRP_INTERNAL_USERS,\n        value: ri!selectedAssignees,\n        saveInto: a!save(\n          ri!selectedAssignees,\n          rule!CMGT_UTIL_Distinct(save!value)\n        )\n      ),\n\n    ),\n    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n      item: #\"SYSTEM_SYSRULES_pickerFieldGroups\"(\n        label: #\"urn:appian:translation-string:v1:e9f14855-a8fd-4654-9b29-5c0a16aba994\",\n        placeholder: #\"urn:appian:translation-string:v1:e9f14855-a8fd-4654-9b29-5c0a16aba994\",\n        labelPosition: \"ABOVE\",\n        maxSelections: 5,\n        groupFilter: cons!CMGT_GRP_BUSINESS_GROUPS,\n        value: ri!selectedAssignedGroups,\n        saveInto: a!save(\n          ri!selectedAssignedGroups,\n          rule!CMGT_UTIL_Distinct(save!value)\n        )\n      )\n    )\n  }\n)"
    },
    "_a-0000e9c0-fc38-8000-9bb5-011c48011c48_118180": {
      "name": "CMGT_CommentUserTag_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!commentUserTags,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {},\n    /*Only modify these fields if they are currently null (default value)*/\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_CommentUserTag.isActive,\n        value: true\n      )\n    }\n  )\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_33778": {
      "name": "CMGT_UTIL_SetRecordFields",
      "type": "Expression Rule",
      "sail_code": "/*\nFuture enhancement ideas:\n1 Parameter to skip update if the field isn't present in the object\n--- This would also apply to nested fields, as in, don't set a relationship field if the entire relationship object isn't there because it will instantiate it\n2 Parameter to overwrite based on more enhanced logic\n3 Allow list types for the `value`\n4 Allow reuse to apply setting metadata for nested relationships, but using their own set metadata rule\n--- e.g. CMGT_Entity_SetMetaData can be used in both the Case process and the individual Entity process\n*/\nif(\n  a!isNullOrEmpty(ri!record),\n  ri!record,\n  a!localVariables(\n    local!allUpdates: rule!CMGT_UTIL_RejectBlank(a!flatten(\n      {\n        ri!alwaysOverwrite,\n        ri!childRelationships,\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!neverOverwrite,\n          expression: #\"urn:appian:function:v1:a:update\"(\n            fv!item,\n            \"value\",\n            /*Specifically using this instead of a!defaultValue() to account for the `{null}` value*/\n            if(\n              rule!CMGT_UTIL_IsBlank(ri!record[fv!item.field]),\n              fv!item.value,\n              ri!record[fv!item.field]\n            )\n          )\n        )\n      }\n    )),\n    local!onlyChangedUpdates: a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!allUpdates,\n        expression: if(\n          or(\n            tostring(ri!record[fv!item.field]) = tostring(fv!item.value),\n            toboolean(fv!item.applyWhen) = false\n          ),\n          {},\n          fv!item\n        )\n      )\n    ),\n    if(\n      a!isNullOrEmpty(local!onlyChangedUpdates),\n      ri!record,\n      #\"urn:appian:function:v1:a:update\"(\n        data: ri!record,\n        index: local!onlyChangedUpdates.field,\n        value: local!onlyChangedUpdates.value\n      )\n    )\n  )\n)"
    },
    "_a-0000ec6b-da11-8000-9ce2-011c48011c48_2907948": {
      "name": "CMGT_CreateCase_CreatedBySection",
      "type": "Interface",
      "sail_code": "a!localVariables(\n    local!user: rule!CMGT_QR_GetUser(\n      returnType: \"SINGLE_OBJECT\",\n      username: loggedInUser()\n    ),\n    {\n      #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n        contents: {\n          #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            label: #\"urn:appian:translation-string:v1:e86d727f-ed3a-4e2e-9380-d61ce5a2d09a\",\n            labelPosition: \"ABOVE\",\n            value: {},\n            marginAbove: \"NONE\",\n            marginBelow: \"NONE\"\n          ),\n          rule!CMGT_UTIL_DisplayUserPhotoOrInitialsWithName(\n            userRecord: local!user,\n            brandingMap: ri!brandingMap,\n            user: loggedInUser(),\n            includeTime: false\n          )\n        },\n        marginAbove: \"NONE\",\n        marginBelow: \"MORE\"\n      )\n    }\n  )"
    },
    "_a-0000e98b-cfe0-8000-9ba5-011c48011c48_19651": {
      "name": "CMGT_QR_GetCaseType",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_CFG_CaseType,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_CaseType.uuid,\n      operator: \"in\",\n      value: ri!caseTypeUuid\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_CaseType.isCategory,\n      operator: \"=\",\n      value: ri!isCaseCategory\n    )\n  },\n  fields: {\n    ri!fields,\n    if(\n      ri!excludeRelatedRecords,\n      {},\n      recordType!CMGT_CFG_CaseType.parentCaseType\n    )\n  },\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  logicalExpressions: {\n    ri!additionalLogicalExpression,\n    rule!CMGT_CaseTypeActiveLogicalExpression(includeInactive: ri!includeInactive)\n  },\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ea2f-ac11-8000-9bf4-011c48011c48_608417": {
      "name": "CMGT_Milestone_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!milestones,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_Milestone.modifiedBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_Milestone.modifiedOn,\n        value: now()\n      )\n    },\n    /*Only modify these fields if they are currently null*/\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_Milestone.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_Milestone.createdOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_Milestone.isActive,\n        value: true\n      ),\n      a!map(\n        field: recordType!CMGT_Milestone.sortOrder,\n        value: fv!index\n      )\n    }\n  )\n)"
    },
    "_a-0000e9dc-ab93-8000-9bc2-011c48011c48_184972": {
      "name": "CMGT_Entity_RecordGrid",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_gridField_v2\"(\n  label: ri!label,\n  labelPosition: if(\n    rule!CMGT_UTIL_IsBlank(value: ri!labelPosition),\n    \"ABOVE\",\n    ri!labelPosition\n  ),\n  helpTooltip: ri!helpToolTip,\n  emptyGridMessage: #\"urn:appian:translation-string:v1:80c74347-3a46-4f46-b8f7-3ab7b9f07b03\",\n  data: #\"SYSTEM_SYSRULES_recordData\"(\n    recordType: recordType!CMGT_Entity,\n    filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n      operator: \"AND\",\n      logicalExpressions: ri!additionalFilters,\n      filters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_Entity.entityCategoryId,\n          operator: \"=\",\n          value: ri!entityCategoryId\n        )\n      },\n      ignoreFiltersWithEmptyValues: true\n    ),\n    fields: {\n      recordType!CMGT_Entity.title,\n      recordType!CMGT_Entity.entityId,\n      recordType!CMGT_Entity.isActive,\n      recordType!CMGT_Entity.identifyingAttribute1,\n      recordType!CMGT_Entity.entityCategory.icon,\n      recordType!CMGT_Entity.entityCategory.label,\n      recordType!CMGT_Entity.entityType.label,\n      recordType!CMGT_Entity.totalCaseCount,\n      recordType!CMGT_Entity.createdOn,\n      recordType!CMGT_Entity.createdByUser,\n      recordType!CMGT_Entity.createdBy,\n      recordType!CMGT_Entity.modifiedOn,\n      recordType!CMGT_Entity.modifiedByUser,\n      recordType!CMGT_Entity.modifiedBy\n    }\n  ),\n  columns: {\n    /*All Entities*/\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: if(\n        ri!context = \"RECORD_LIST\",\n        #\"urn:appian:translation-string:v1:b6952414-89c9-41ca-b623-3904e55c50b0\",\n        #\"urn:appian:translation-string:v1:b8e8db5e-80b7-4598-afe2-901a9aff8168\"\n      ),\n      sortField: recordType!CMGT_Entity.title,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: fv!row[recordType!CMGT_Entity.title],\n            link: #\"SYSTEM_SYSRULES_recordLink\"(\n              recordType: recordType!CMGT_Entity,\n              identifier: fv!row[recordType!CMGT_Entity.entityId],\n              openLinkIn: if(\n                contains({ \"CASE_CREATION\" }, ri!context),\n                \"NEW_TAB\",\n                \"SAME_TAB\"\n              )\n            ),\n            linkStyle: \"STANDALONE\",\n            color: ri!brandingMap.StandardTextColor,\n            style: \"STRONG\"\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: \" \" & #\"urn:appian:translation-string:v1:61203e58-0f38-464a-b414-c84844d9b15a\",\n            showWhen: fv!row[recordType!CMGT_Entity.isActive] = false,\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\",\n            style: \"EMPHASIS\"\n          ),\n          char(10),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: fv!row[recordType!CMGT_Entity.identifyingAttribute1],\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\"\n          )\n        }\n      ),\n      width: if(\n        contains({ \"RECORD_LIST\" }, ri!context),\n        \"MEDIUM_PLUS\",\n        \"AUTO\"\n      )\n    ),\n    /*Type*/\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:cfd938d0-1c74-423e-89ee-f71a530aaec0\",\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextIcon\"(\n            icon: fv!row[recordType!CMGT_Entity.entityCategory.icon],\n            caption: fv!row[recordType!CMGT_Entity.entityCategory.label],\n            color: ri!brandingMap.SecondaryTextColor\n          ),\n          char(32),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: if(\n              a!isNullOrEmpty(\n                fv!row[recordType!CMGT_Entity.entityType.label]\n              ),\n              \" \",\n              fv!row[recordType!CMGT_Entity.entityType.label]\n            )\n          )\n        }\n      )\n    ),\n    /*Related cases*/\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:fb7bc3fe-c4a0-4dd5-82fb-77c9c21f348a\",\n      sortField: recordType!CMGT_Entity.totalCaseCount,\n      value: fv!row[recordType!CMGT_Entity.totalCaseCount],\n      showWhen: contains({ \"RECORD_LIST\" }, ri!context),\n      align: \"END\"\n    ),\n    /*Create date*/\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:09205f3c-0c91-4e16-a1b5-c8085716bf98\",\n      sortField: recordType!CMGT_Entity.createdOn,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: rule!CMGT_UTIL_FormatDateTime(\n              dateTime: fv!row[recordType!CMGT_Entity.createdOn],\n              includeTime: false()\n            ),\n            color: ri!brandingMap.StandardTextColor\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              char(10),\n              rule!CMGT_UTIL_DisplayUser(\n                userRecord: fv!row[recordType!CMGT_Entity.createdByUser],\n                user: fv!row[recordType!CMGT_Entity.createdBy]\n              )\n            },\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\"\n          )\n        }\n      ),\n      showWhen: contains({ \"RECORD_LIST\" }, ri!context),\n      align: \"END\"\n    ),\n    /*Updated Date*/\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:11bd60d9-131f-4409-8bf0-7ef9c57dd366\",\n      sortField: recordType!CMGT_Entity.modifiedOn,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: rule!CMGT_UTIL_FormatDateTime(\n              dateTime: fv!row[recordType!CMGT_Entity.modifiedOn],\n              includeTime: false()\n            ),\n            color: ri!brandingMap.StandardTextColor\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              char(10),\n              rule!CMGT_UTIL_DisplayUser(\n                userRecord: fv!row[recordType!CMGT_Entity.modifiedByUser],\n                user: fv!row[recordType!CMGT_Entity.modifiedBy]\n              )\n            },\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\"\n          )\n        }\n      ),\n      showWhen: contains({ \"RECORD_LIST\" }, ri!context),\n      align: \"END\"\n    )\n  },\n  pageSize: a!defaultValue(\n    ri!pageSize,\n    cons!CMGT_INT_BATCH_SIZE_LARGE\n  ),\n  initialSorts: {\n    #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_Entity.title,\n      ascending: true\n    )\n  },\n  showWhen: ri!showWhen,\n  selectable: a!defaultValue(ri!isSelectable, false),\n  selectionValue: ri!selectionValue,\n  selectionSaveInto: ri!selectionSaves,\n  selectionRequired: a!defaultValue(ri!selectionRequired, false),\n  borderStyle: \"LIGHT\",\n  shadeAlternateRows: a!defaultValue(ri!shadeAlternateRows, true),\n  /*\n  Used in accessibility;\n  if the first column shown is a new field, it must be added here\n  */\n  rowHeader: 1,\n  refreshAfter: \"RECORD_ACTION\",\n  userFilters: ri!userFilters,\n  showSearchBox: ri!showSearchBox,\n  showRefreshButton: a!defaultValue(ri!showRefreshButton, true),\n  showExportButton: a!defaultValue(ri!showExportButton, true),\n  recordActions: {\n    if(\n      contains({ \"COMPACT_LIST\" }, ri!context),\n      #\"SYSTEM_SYSRULES_recordActionItem\"(\n        action: #\"urn:appian:record-action:v1:ad3b988c-faba-4c39-9bda-be1ad52b4019/2fed3bba-1935-43a0-830a-55428610423c\"\n      ),\n      null\n    )\n  }\n)"
    },
    "_a-0000eea8-05c2-8000-9db5-011c48011c48_4799958": {
      "name": "CMGT_SMS_AI_ShowRecentSearches",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!metric,\n  #\"SYSTEM_SYSRULES_cardGroupLayout\"(\n    cards: #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!searchHistory,\n      expression: #\"SYSTEM_SYSRULES_cardLayout\"(\n        contents: {\n          #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            labelPosition: \"COLLAPSED\",\n            value: {\n              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                icon: \"history\",\n                altText: #\"urn:appian:translation-string:v1:4834bcfd-42db-4484-8b5a-2380038f38f4\"\n              ),\n              \" \",\n              fv!item[recordType!CMGT_SMS_AI_SearchHistory.searchText]\n            },\n            marginBelow: \"NONE\",\n            tooltip: fv!item[recordType!CMGT_SMS_AI_SearchHistory.searchText],\n            preventWrapping:true\n          )\n        },\n        link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n          saveInto: {\n            a!save(ri!displaySpace, (ri!displaySpace + 1)),\n            a!save(\n              { ri!searchText, ri!searchTextTemp },\n              fv!item[recordType!CMGT_SMS_AI_SearchHistory.searchText]\n            ),\n            a!save(\n              {\n                ri!selectedCategory,\n                ri!selectedCategoryTemp\n              },\n              fv!item[recordType!CMGT_SMS_AI_SearchHistory.searchHistoryCategoryMap.categoryId]\n            ),\n            a!save(ri!triggerRefresh, now()),\n            #\"SYSTEM_SYSRULES_writeRecords_v2\"(\n              records: rule!CMGT_SMS_AI_SearchHistory_SetMetaData(\n                searchHistory: fv!item,\n                initiator: loggedInUser()\n              )\n            ),\n            a!save(\n              local!metric,\n              rule!CMGT_SMS_AI_MTR_UserClicksOnPreviousSmartSearch()\n            )\n          }\n        ),\n        style: ri!brandingMap.ConfigBackgroundColor,\n        shape: \"SEMI_ROUNDED\",\n        padding: \"EVEN_LESS\",\n        marginBelow: \"NONE\",\n        showBorder: false,\n\n      )\n    ),\n    spacing: \"DENSE\",\n    cardWidth: if(\n      length(ri!searchHistory) > 4,\n      \"EXTRA_NARROW\",\n      \"NARROW\"\n    ),\n    cardHeight: \"AUTO\",\n    marginBelow: \"LESS\",\n    fillContainer: if(length(ri!searchHistory) > 4, true, false),\n    showWhen: rule!CMGT_UTIL_IsNotBlank(ri!searchHistory)\n  )\n)"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_568087": {
      "name": "CMGT_WFL_QR_GetReferenceTask",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_WFL_CFG_ReferenceTask,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_ReferenceTask.referenceTaskId,\n      operator: \"in\",\n      value: ri!referenceTaskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_ReferenceTask.isActive,\n      operator: \"=\",\n      value: true,\n      applyWhen: ri!includeInactive <> true\n    )\n  },\n  fields: {\n    ri!fields,\n    recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType,\n    recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions,\n    recordType!CMGT_WFL_CFG_ReferenceTask.createCaseReferenceTask,\n    recordType!CMGT_WFL_CFG_ReferenceTask.sendEmailReferenceTask\n  },\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_36462": {
      "name": "CMGT_CaseEntityMap_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!caseEntityMaps,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_CaseEntityMap.modifiedOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_CaseEntityMap.modifiedBy,\n        value: ri!initiator\n      )\n    },\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_CaseEntityMap.isActive,\n        value: true\n      ),\n      a!map(\n        field: recordType!CMGT_CaseEntityMap.createdOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_CaseEntityMap.createdBy,\n        value: ri!initiator\n      ),\n      /*Prime the caseId with the assigned case, if it's not already populated*/\n      a!map(\n        field: recordType!CMGT_CaseEntityMap.caseId,\n        value: fv!item[recordType!CMGT_CaseEntityMap.case.caseId]\n      ),\n      /*Prime the entityId with the assigned entity, if it's not already populated*/\n      a!map(\n        field: recordType!CMGT_CaseEntityMap.entityId,\n        value: fv!item[recordType!CMGT_CaseEntityMap.entity.entityId]\n      )\n    }\n  )\n)"
    },
    "_a-0000eaba-1e20-8000-9c2a-011c48011c48_1043926": {
      "name": "CMGT_Document_SetEvents",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!documents,\n  expression: /*EVENTS THAT ARE PROCESS-SPECIFIC (based on \"eventType\" input)*/\n  if(\n    isnull(\n      fv!item[recordType!CMGT_Document.taskId]\n    ),\n    /*Case documents*/\n    rule!CMGT_CaseEventHistory_Constructor(\n      caseId: fv!item[recordType!CMGT_Document.caseId],\n      initiator: rule!CMGT_formatEventInitiator(\n        initiator: ri!initiator\n      ),\n      eventTypeId: if(\n        fv!item[recordType!CMGT_Document.isActive],\n        cons!CMGT_REFID_EVENT_TYPE_CASE_UPLOAD_DOCUMENT,\n        cons!CMGT_REFID_EVENT_TYPE_CASE_DELETE_DOCUMENT\n      ),\n      details: a!map(\n        value: concat(\n          document(\n            documentId: fv!item[recordType!CMGT_Document.appianDocId],\n            property: \"name\"\n          ),\n          \".\",\n          lower(\n            document(\n              documentId: fv!item[recordType!CMGT_Document.appianDocId],\n              property: \"extension\"\n            )\n          )\n        )\n      )\n    ),\n    /*Task documents*/\n    rule!CMGT_TaskEventHistory_Constructor(\n      taskId: fv!item[recordType!CMGT_Document.taskId],\n      initiator: rule!CMGT_formatEventInitiator(\n        initiator: ri!initiator\n      ),\n      eventTypeId: if(\n        fv!item[recordType!CMGT_Document.isActive],\n        cons!CMGT_REFID_EVENT_TYPE_TASK_UPLOAD_DOCUMENT,\n        cons!CMGT_REFID_EVENT_TYPE_TASK_DELETE_DOCUMENT\n      ),\n      details: a!map(\n        value: concat(\n          document(\n            documentId: fv!item[recordType!CMGT_Document.appianDocId],\n            property: \"name\"\n          ),\n          \".\",\n          lower(\n            document(\n              documentId: fv!item[recordType!CMGT_Document.appianDocId],\n              property: \"extension\"\n            )\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000ea42-2109-8000-9bfa-011c48011c48_675466": {
      "name": "CMGT_Email_EmailSettingMap_Assignees",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!CMGT_UTIL_IsNotBlank(ri!roles),\n  a!localVariables(\n    local!taskIds: rule!CMGT_UTIL_Distinct(\n      ri!roles[recordType!CMGT_Role.taskId]\n    ),\n    local!allTasks: rule!CMGT_QR_GetTask(\n      taskId: local!taskIds,\n      executeWhen: a!isNotNullOrEmpty(local!taskIds)\n    ),\n    /*If the task was just opened, we want to send an email to those assignees even if they already exist    */\n    local!newRoles: if(\n      a!defaultValue(ri!isTaskOpened, false),\n      /*\n    When task is opened, the email will be sent to the assigned group unless the user assignee is present.\n    */\n      a!flatten(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: local!taskIds,\n          expression: a!defaultValue(\n            value: rule!CMGT_UTIL_Filter(\n              records: ri!roles,\n              fieldValuePairs: {\n                a!map(\n                  field: recordType!CMGT_Role.roleTypeId,\n                  value: cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE\n                ),\n                a!map(\n                  field: recordType!CMGT_Role.taskId,\n                  value: fv!item\n                )\n              }\n            ),\n            default: rule!CMGT_UTIL_Filter(\n              records: ri!roles,\n              fieldValuePairs: {\n                a!map(\n                  field: recordType!CMGT_Role.roleTypeId,\n                  value: cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE,\n                  \n                ),\n                a!map(\n                  field: recordType!CMGT_Role.taskId,\n                  value: fv!item\n                )\n              }\n            )\n          )\n        )\n      ),\n      rule!CMGT_Email_NewRolesToNotify(\n        roles: ri!roles,\n        roleTypeIds: rule!CMGT_UTIL_Distinct(\n          ri!roles[recordType!CMGT_Role.roleTypeId]\n        )\n      )\n    ),\n    /* Assumption: Case List passed in is the full Case record */\n    local!allCases: rule!CMGT_QR_GetCase(\n      caseId: if(\n        a!isNotNullOrEmpty(value: local!allTasks),\n        local!allTasks[recordType!CMGT_Task.caseId],\n        ri!roles[recordType!CMGT_Role.caseId]\n      ),\n      executeWhen: or(\n        a!isNotNullOrEmpty(local!allTasks),\n        a!isNotNullOrEmpty(\n          ri!roles[recordType!CMGT_Role.caseId]\n        )\n      ),\n      fields: recordType!CMGT_Case.caseType\n    ),\n    local!brandingMap: rule!CMGT_UTIL_LoadBrandingMap(),\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!newRoles,\n      expression: a!localVariables(\n        local!task: rule!CMGT_UTIL_Filter(\n          records: local!allTasks,\n          field: recordType!CMGT_Task.taskId,\n          value: fv!item[recordType!CMGT_Role.taskId]\n        ),\n        local!case: a!defaultValue(\n          rule!CMGT_UTIL_Filter(\n            records: local!allCases,\n            field: recordType!CMGT_Case.caseId,\n            value: fv!item[recordType!CMGT_Role.caseId]\n          ),\n          rule!CMGT_UTIL_Filter(\n            records: local!allCases,\n            field: recordType!CMGT_Case.caseId,\n            value: local!task[recordType!CMGT_Task.caseId]\n          )\n        ),\n        local!isTask: rule!CMGT_UTIL_IsNotBlank(local!task),\n        local!otherRoles: rule!CMGT_UTIL_Filter(\n          records: ri!roles,\n          fieldValuePairs: {\n            a!map(\n              field: recordType!CMGT_Role.roleTypeId,\n              value: fv!item[recordType!CMGT_Role.roleTypeId]\n            ),\n            if(\n              local!isTask,\n              a!map(\n                field: recordType!CMGT_Role.taskId,\n                value: local!task[recordType!CMGT_Task.taskId]\n              ),\n              a!map(\n                field: recordType!CMGT_Role.caseId,\n                value: local!case[recordType!CMGT_Case.caseId]\n              )\n            )\n          }\n        ),\n        local!groupUsersCount: if(\n          fv!item[recordType!CMGT_Role.roleTypeId] = cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE,\n          a!groupMembers(\n            group: togroup(\n              fv!item[recordType!CMGT_Role.groupId]\n            ),\n            memberType: \"USER\",\n            pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(1, 0)\n          ).totalCount,\n          null\n        ),\n        local!newRoleTypeCount: if(\n          a!isNotNullOrEmpty(fv!item),\n          length(local!otherRoles),\n          {}\n        ),\n        local!rolesToDelete: if(\n          a!isNotNullOrEmpty(fv!item),\n          rule!CMGT_UTIL_Filter(\n            records: ri!rolesToDelete,\n            field: recordType!CMGT_Role.roleTypeId,\n            value: fv!item[recordType!CMGT_Role.roleTypeId]\n          ),\n          {}\n        ),\n        local!subjectAndRecipients: a!match(\n          value: fv!item[recordType!CMGT_Role.roleTypeId],\n          /* When a user is assigned with a case/task   */\n          equals: cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n          then: a!map(\n            subject: if(\n              local!isTask,\n              #\"urn:appian:translation-string:v1:2bf9ef92-dcca-46f0-b010-7f124cf09634\"(\n                #\"urn:appian:translation-variable:v1:722f3dc9-8d87-42ec-89b4-5d93b351e4a4\": local!case[recordType!CMGT_Case.friendlyId]\n              ),\n              #\"urn:appian:translation-string:v1:e8a8f6f2-4ef7-4bf7-8081-f50b992d09c6\"(\n                #\"urn:appian:translation-variable:v1:262ab45e-35fe-4153-8a03-52bad342dd31\": local!case[recordType!CMGT_Case.friendlyId]\n              )\n            ),\n            recipients: if(\n              isusernametaken(\n                fv!item[recordType!CMGT_Role.username]\n              ),\n              toemailrecipient(\n                fv!item[recordType!CMGT_Role.username]\n              ),\n              null\n            ),\n            instruction: if(\n              local!isTask,\n              #\"urn:appian:translation-string:v1:c2b035da-18b8-4188-bcaa-7f330e66a3cb\",\n              #\"urn:appian:translation-string:v1:7d9521c8-978b-4276-9e00-572b3ccb9b84\"\n            ),\n            fieldName: #\"urn:appian:translation-string:v1:7bcb0001-ac03-470f-a26b-be3786709f7e\",\n            oldValue: index(\n              local!rolesToDelete,\n              #\"urn:appian:record-field:v1:6799d796-883e-49ff-8975-297d87e40756/6f0c8dbc-95d2-4ba7-9fb5-f0916efa0f08/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\",\n              \"\"\n            ),\n            newValue: {\n              rule!CMGT_UTIL_DisplayUserFullName(\n                username: fv!item[recordType!CMGT_Role.username]\n              ),\n              if(\n                local!newRoleTypeCount > 1,\n                concat(\n                  \"+\",\n                  #\"urn:appian:translation-string:v1:138e2717-f77d-4cb5-9d38-6e79f12039c7\"(\n                    #\"urn:appian:translation-variable:v1:706bfb1d-813b-4e07-adb1-b21bb5d5018b\": local!newRoleTypeCount - 1\n                  )\n                ),\n                {}\n              )\n            }\n          ),\n          /* When a group is assigned with a case/task   */\n          equals: cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE,\n          then: a!map(\n            subject: if(\n              local!isTask,\n              #\"urn:appian:translation-string:v1:a4f90062-5f59-4230-abd7-a23edb69184a\"(\n                #\"urn:appian:translation-variable:v1:4d33305e-5a95-468f-b1af-b0d5001c1f80\": local!case[recordType!CMGT_Case.friendlyId]\n              ),\n              #\"urn:appian:translation-string:v1:44a08933-d187-4cf7-ab63-5621a7ff737a\"(\n                #\"urn:appian:translation-variable:v1:57948676-df93-4426-8e27-70b75f463a79\": local!case[recordType!CMGT_Case.friendlyId]\n              )\n            ),\n            recipients: if(\n              /* Checking if the group assigned with a case/task contains a user */\n              local!groupUsersCount > 0,\n              toemailrecipient(\n                togroup(\n                  fv!item[recordType!CMGT_Role.groupId]\n                )\n              ),\n              null\n            ),\n            instruction: if(\n              local!isTask,\n              #\"urn:appian:translation-string:v1:45dbbe9e-1593-473f-9786-cd5986eeb227\",\n              #\"urn:appian:translation-string:v1:045ec8ed-8424-46ab-b76e-038a66ce0ea8\"\n            ),\n            fieldName: #\"urn:appian:translation-string:v1:559ce3f6-e852-4bee-b5b2-ca315e1ebbef\",\n            oldValue: #\"SYSTEM_SYSRULES_forEach\"(\n              items: local!rolesToDelete[recordType!CMGT_Role.groupId],\n              expression: group(fv!item, \"groupName\")\n            ),\n            newValue: {\n              group(\n                fv!item[recordType!CMGT_Role.groupId],\n                \"groupName\"\n              ),\n              if(\n                local!newRoleTypeCount > 1,\n                concat(\n                  \"+\",\n                  #\"urn:appian:translation-string:v1:138e2717-f77d-4cb5-9d38-6e79f12039c7\"(\n                    #\"urn:appian:translation-variable:v1:706bfb1d-813b-4e07-adb1-b21bb5d5018b\": local!newRoleTypeCount - 1\n                  )\n                ),\n                {}\n              )\n            }\n          ),\n          /* When a user is added as a watcher to a case   */\n          equals: cons!CMGT_REFID_ROLE_TYPE_WATCHER,\n          then: a!map(\n            subject: #\"urn:appian:translation-string:v1:b8f7e21f-13f7-4577-9a78-eb1dc79ccd8a\"(\n              #\"urn:appian:translation-variable:v1:7c8cc9b2-d792-4678-9266-5ab462d6a393\": local!case[recordType!CMGT_Case.friendlyId]\n            ),\n            recipients: toemailrecipient(\n              fv!item[recordType!CMGT_Role.username]\n            ),\n            instruction: #\"urn:appian:translation-string:v1:1b43a1aa-b7d9-4c19-b9e9-bd31b6501e98\",\n            fieldName: #\"urn:appian:translation-string:v1:4aab3312-5d55-4912-8919-d1e6f10fff37\",\n            oldValue: \"\",\n            newValue: rule!CMGT_UTIL_DisplayUserFullName(\n              username: fv!item[recordType!CMGT_Role.username]\n            )\n          ),\n          /*Add new conditions below this to support other email types    */\n          default: {}\n        ),\n        a!map(\n          recipients: local!subjectAndRecipients.recipients,\n          subject: local!subjectAndRecipients.subject,\n          recipientEmailAddress: null,\n          replacementParams: if(\n            local!isTask,\n            rule!CMGT_Email_TaskDetails_ReplacementParamsMap(\n              task: local!task,\n              case: local!case,\n              brandingMap: local!brandingMap,\n              instruction: local!subjectAndRecipients.instruction,\n              fieldName: local!subjectAndRecipients.fieldName,\n              oldValue: local!subjectAndRecipients.oldValue,\n              newValue: local!subjectAndRecipients.newValue\n            ),\n            rule!CMGT_Email_CaseDetails_ReplacementParamsMap(\n              case: local!case,\n              brandingMap: local!brandingMap,\n              instruction: local!subjectAndRecipients.instruction,\n              fieldName: local!subjectAndRecipients.fieldName,\n              oldValue: local!subjectAndRecipients.oldValue,\n              newValue: local!subjectAndRecipients.newValue\n            )\n          )\n        )\n      )\n    )\n  ),\n  null\n)"
    },
    "_a-0000eb57-0ad2-8000-9c6b-011c48011c48_1719960": {
      "name": "CMGT_NCF_orderNodesBasedOnDistanceFromStart",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!edgesFromOrderedNodes: a!refreshVariable(\n    value: rule!CMGT_UTIL_Filter(\n      records: ri!allEdges,\n      field: \"from\",\n      value: ri!orderedNodes.id\n    ),\n    refreshAlways: true\n  ),\n  local!edgesToUnorderedNodes: a!refreshVariable(\n    value: rule!CMGT_UTIL_Filter(\n      filterType: \"REJECT\",\n      records:local!edgesFromOrderedNodes,\n      field: \"to\",\n      value: ri!orderedNodes.id\n    ),\n    refreshAlways: true\n  ),\n  local!dependentUnorderedNodes: a!refreshVariable(\n    value:  rule!CMGT_UTIL_Filter(\n      records: ri!allNodes,\n      field: \"id\",\n      value: local!edgesToUnorderedNodes.to\n    ),\n    refreshAlways: true\n  ),\n  local!nodesToOrder: a!refreshVariable(\n    value: rule!CMGT_UTIL_cast(\n      typeOf: {a!map()},\n      value: apply(\n        rule!CMGT_NCF_updateNodeOrderBasedOnPrecedents(\n          allEdges: ri!allEdges,\n          currentNode: _,\n          edgesToUnorderedNodes: local!edgesToUnorderedNodes,\n          orderedNodes: ri!orderedNodes\n        ),\n        local!dependentUnorderedNodes\n      )\n    ),\n    refreshAlways: true\n  ),\n  union(ri!orderedNodes, local!nodesToOrder)\n)"
    },
    "_a-0000edd3-c29a-8000-9d77-011c48011c48_4201604": {
      "name": "CMGT_UTIL_RecordBackedDropdownField",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!oneRowOfData: index(\n    #\"SYSTEM_SYSRULES_queryRecordType_v2\"(\n      recordType: ri!recordType,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(startIndex: 1, batchSize: 1)\n    ).data,\n    1,\n    null\n  ),\n  if(\n    a!isNullOrEmpty(local!oneRowOfData),\n    {},\n    a!localVariables(\n      local!pkField: a!keys(local!oneRowOfData)[1],\n      local!labelField: a!defaultValue(\n        ri!labelField,\n        index(\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: a!keys(local!oneRowOfData),\n            expression: if(\n              runtimetypeof(local!oneRowOfData[fv!item]) = 'type!{http://www.appian.com/ae/types/2009}Text',\n              fv!item,\n              {}\n            )\n          ),\n          1,\n          null\n        )\n      ),\n      local!sortOrderField: index(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: a!keys(local!oneRowOfData),\n          expression: if(\n            tostring(fv!item) = \"sortOrder\",\n            fv!item,\n            {}\n          )\n        ),\n        1,\n        null\n      ),\n      local!isActiveField: index(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: a!keys(local!oneRowOfData),\n          expression: if(\n            tostring(fv!item) = \"isActive\",\n            fv!item,\n            {}\n          )\n        ),\n        1,\n        null\n      ),\n      if(\n        ri!readOnly,\n        a!localVariables(\n          local!displayValue: if(\n            a!isNullOrEmpty(ri!value),\n            \"\",\n            #\"SYSTEM_SYSRULES_queryRecordByIdentifier\"(\n              recordType: ri!recordType,\n              identifier: ri!value\n            )[local!labelField]\n          ),\n          local!displayValue\n        ),\n        #\"SYSTEM_SYSRULES_dropdownField_v1\"(\n          label: ri!dropdownLabel,\n          labelPosition: a!defaultValue(ri!dropdownLabelPosition, \"ABOVE\"),\n          data: #\"SYSTEM_SYSRULES_recordData\"(\n            recordType: ri!recordType,\n            filters: {\n              #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"AND\",\n                filters: ri!additionalFilters,\n                logicalExpressions: {\n                #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"OR\",\n                filters: {\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: local!isActiveField,\n                    operator: \"=\",\n                    value: true,\n                    applyWhen: a!isNotNullOrEmpty(local!isActiveField)\n                  ),\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: local!pkField,\n                    operator: \"=\",\n                    value: ri!value,\n                    applyWhen: a!isNotNullOrEmpty(ri!value)\n                  )\n                }\n              )\n              }\n              )\n            }\n          ),\n          sort: if(\n            a!isNullOrEmpty(local!sortOrderField),\n            {},\n            #\"SYSTEM_SYSRULES_sortInfo\"(\n              field: local!sortOrderField,\n              ascending: true\n            )\n          ),\n          placeholder: ri!placeholder,\n          choiceLabels: local!labelField,\n          choiceValues: local!pkField,\n          value: ri!value,\n          saveInto: ri!saveInto,\n          required: a!defaultValue(ri!required, false),\n          requiredMessage: ri!requiredMessage,\n          disabled: a!defaultValue(ri!disabled, false),\n          showWhen: ri!showWhen,\n          accessibilityText: ri!accessibilityText,\n          validationGroup: ri!validationGroup\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000ed89-fd25-8000-9d52-011c48011c48_3937243": {
      "name": "CMGT_UTIL_IsListType",
      "type": "Expression Rule",
      "sail_code": "#\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n  runtimetypeof(\n    index(\n      ri!value,\n      1,\n      null\n    )\n  )\n) = runtimetypeof(\n  ri!value\n)"
    },
    "_a-0000e9c0-fc38-8000-9bb5-011c48011c48_128419": {
      "name": "CMGT_UTIL_TabLayout",
      "type": "Interface",
      "sail_code": "{\n  a!localVariables(\n    local!isMobileScreenSize: a!defaultValue(ri!isMobileScreenSize, false),\n    if(\n      local!isMobileScreenSize,\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_dropdownField_v1\"(\n                label: #\"urn:appian:translation-string:v1:2a5f4093-d5ab-4f98-9e91-6c882d53eddd\",\n                labelPosition: \"COLLAPSED\",\n                choiceLabels: #\"SYSTEM_SYSRULES_forEach\"(\n                  items: ri!tabs,\n                  expression: concat(\n                    fv!item.name,\n                    if(\n                      fv!item.showTabCount,\n                      concat(\" (\", fv!item.tabCount, \")\"),\n                      \"\"\n                    )\n                  )\n                ),\n                choiceValues: #\"SYSTEM_SYSRULES_forEach\"(items: ri!tabs, expression: fv!index),\n                value: ri!activeTab,\n                saveInto: {\n                  ri!activeTab,\n                  a!save(\n                    ri!metrics,\n                    index(\n                      ri!tabs,\n                      ri!activeTab,\n                      \"metricEvalRule\",\n                      null\n                    )\n                  )\n                }\n              )\n            }\n          )\n        },\n        showWhen: a!defaultValue(ri!showWhen, true)\n      ),\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!tabs,\n            expression: #\"SYSTEM_SYSRULES_columnLayout\"(\n              contents: {\n                #\"SYSTEM_SYSRULES_cardLayout\"(\n                  contents: {\n                    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                      items: {\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(width: \"AUTO\"),\n                        /* Display the icon */\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                            label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Tab\" & fv!index),\n                            labelPosition: \"COLLAPSED\",\n                            value: {\n                              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                                icon: fv!item.icon,\n                                color: ri!brandingMap.StandardTextColor,\n                                size: \"STANDARD\"\n                              )\n                            }\n                          ),\n                          width: \"MINIMIZE\",\n                          showWhen: a!isNotNullOrEmpty(fv!item.icon)\n                        ),\n                        /* Display the name */\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                            label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Tab\" & fv!index),\n                            labelPosition: \"COLLAPSED\",\n                            value: {\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: fv!item.name,\n                                linkStyle: \"STANDALONE\",\n                                color: ri!brandingMap.StandardTextColor,\n                                size: a!defaultValue(ri!size, \"STANDARD\"),\n                                style: if(fv!index = ri!activeTab, \"STRONG\", \"PLAIN\")\n                              )\n                            },\n                            align: \"CENTER\"\n                          ),\n                          width: \"MINIMIZE\"\n                        ),\n                        /*Display tab count*/\n                        if(\n                          fv!item.showTabCount,\n                          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                            item: #\"SYSTEM_SYSRULES_tagField\"(\n                              labelPosition: \"COLLAPSED\",\n                              tags: #\"SYSTEM_SYSRULES_tagItem\"(\n                                text: fv!item.tabCount,\n                                backgroundColor: ri!brandingMap.TagBackgroundColor,\n                                textColor: ri!brandingMap.TagTextColor\n                              ),\n                              size: \"SMALL\"\n                            ),\n                            width: \"MINIMIZE\"\n                          ),\n                          {}\n                        ),\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(width: \"AUTO\")\n                      },\n                      marginBelow: \"NONE\"\n                    )\n                  },\n                  link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                    label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Card Link\" & fv!index),\n                    value: fv!index,\n                    saveInto: {\n                      ri!activeTab,\n                      a!save(ri!metrics, fv!item.metricEvalRule)\n                    }\n                  ),\n                  style: if(\n                    fv!index = ri!activeTab,\n                    a!defaultValue(\n                      ri!activeTabBackgroundColor,\n                      \"TRANSPARENT\",\n\n                    ),\n                    \"TRANSPARENT\",\n\n                  ),\n                  padding: \"LESS\",\n                  height: \"AUTO\",\n                  marginBelow: \"NONE\",\n                  showBorder: false,\n                  accessibilityText: if(\n                    fv!index = ri!activeTab,\n                    #\"urn:appian:translation-string:v1:506805fb-4c0f-414b-90f2-023f86caf367\",\n                    \"\"\n                  )\n                ),\n                #\"SYSTEM_SYSRULES_horizontalLine\"(\n                  color: if(\n                    fv!index = ri!activeTab,\n                    a!defaultValue(\n                      ri!activeTabColor,\n                      ri!brandingMap.AccentColor\n                    ),\n                    ri!brandingMap.TertiaryBackgroundColor\n                  ),\n                  weight: \"MEDIUM\",\n                  marginBelow: \"LESS\"\n                )\n              },\n              width: \"NARROW\",\n              showWhen: fv!item.showTab\n            )\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_cardLayout\"(showBorder: false, style: \"TRANSPARENT\"),\n              #\"SYSTEM_SYSRULES_horizontalLine\"(\n                weight: \"MEDIUM\",\n                color: ri!brandingMap.TertiaryBackgroundColor,\n                marginBelow: \"LESS\"\n              )\n            },\n            width: \"AUTO\",\n            showWhen: a!defaultValue(ri!showAdditionalTabCard, true)\n          )\n        },\n        alignVertical: \"BOTTOM\",\n        marginBelow: \"NONE\",\n        marginAbove: \"STANDARD\",\n        spacing: \"NONE\",\n        showDividers: false,\n        showWhen: a!defaultValue(ri!showWhen, true)\n      )\n    )\n  )\n}"
    },
    "_a-0000ea2f-ac11-8000-9bf4-011c48011c48_619938": {
      "name": "CMGT_NetworkChartField_StandardFormatting",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  nodeOptionGroups: a!map(\n    task: a!map(\n      chosen: false,\n      shape: \"box\",\n      shapeProperties: a!map(\n        borderRadius: if(\n          search(\n            \"ROUND\",\n            tostring(ri!brandingMap.CardShape)\n          ),\n          6,\n          0\n        )\n      ),\n      font: a!map(\n        multi: \"html\",\n        align: \"left\",\n        size: 12,\n        vadjust: 2,\n        color: ri!brandingMap.BlackColor,\n        bold: a!map(size: 14, vadjust: - 4, mod: \"bold\")\n      ),\n      color: a!map(\n        border: ri!brandingMap.DividerColor,\n        background: ri!brandingMap.WhiteColor\n      ),\n      margin: 12,\n      widthConstraint: a!map(maximum: 250),\n      heightConstraint: a!map(valign: \"middle\"),\n      /*shadow: a!map(enabled: true, size: 0, x: 0, y: - 5)*/\n    ),\n    terminal: a!map(\n      chosen: false,\n      shape: \"box\",\n      shapeProperties: a!map(\n        borderRadius: if(\n          search(\n            \"ROUND\",\n            tostring(ri!brandingMap.CardShape)\n          ),\n          6,\n          0\n        )\n      ),\n      font: a!map(\n        multi: \"html\",\n        align: \"left\",\n        size: 12,\n        vadjust: 2,\n        color: ri!brandingMap.BlackColor,\n        bold: a!map(size: 14, vadjust: 0, mod: \"bold\")\n      ),\n      margin: 10,\n      color: a!map(\n        border: ri!brandingMap.DividerColor,\n        background: ri!brandingMap.WhiteColor\n      )\n    )\n  ),\n  defaultEdge: a!map(\n    color: ri!brandingMap.SecondaryTextColor,\n    width: 1,\n    dashes: true,\n    chosen: false\n  ),\n  defaultArrow: a!map(to: a!map(enabled: true, scaleFactor: .75)),\n  layout: a!map(\n    improvedLayout: true,\n    clusterThreshold: 1000000,\n    hierarchical: a!map(\n      enabled: true,\n      levelSeparation: 175,\n      nodeSpacing: 250,\n      treeSpacing: 400,\n      blockShifting: true,\n      edgeMinimization: true,\n      parentCentralization: true,\n      direction: \"UD\",\n      sortMethod: \"directed\",\n      shakeTowards: \"roots\"\n    )\n  ),\n  physics: a!map(\n    enabled: true,\n    solver: \"hierarchicalRepulsion\",\n    hierarchicalRepulsion: a!map(avoidOverlap: 1, nodeDistance: 80),\n    maxVelocity: .00001,\n    stabilization: a!map(\n      iterations: 1000000,\n      onlyDynamicEdges: true\n    )\n  )\n)"
    },
    "_a-0000eea8-05c2-8000-9db5-011c48011c48_4804560": {
      "name": "CMGT_SMS_AI_QR_GetCategory",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_SMS_AI_CFG_Category,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_SMS_AI_CFG_Category.isActive,\n      operator: \"=\",\n      value: true()\n    )\n  },\n  logicalExpressions: ri!additionalLogicalExpression,\n  fields: { ri!fields },\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort\n)"
    },
    "_a-0000e9fa-aa45-8000-9bda-011c48011c48_301090": {
      "name": "CMGT_UTIL_DisplayUser",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!user,\n  expression: a!localVariables(\n    local!currentUserRecord: if(\n      isusernametaken(fv!item),\n      rule!CMGT_UTIL_Filter(\n        records: ri!userRecord,\n        field: #\"urn:appian:record-field:v1:SYSTEM_RECORD_TYPE_USER/SYSTEM_RECORD_TYPE_USER_FIELD_username\",\n        value: fv!item\n      ),\n      null()\n    ),\n    cast(\n      'type!{http://www.appian.com/ae/types/2009}Text',\n      if(\n        rule!CMGT_UTIL_IsNotBlank(input: local!currentUserRecord),\n        if(\n          or(\n            local!currentUserRecord[#\"urn:appian:record-field:v1:SYSTEM_RECORD_TYPE_USER/SYSTEM_RECORD_TYPE_USER_FIELD_isServiceAccount\"] = true,\n            #\"urn:appian:function:v1:a:isusermemberofgroup?okey=a!isUserMemberOfGroup\"(\n              username: fv!item,\n              groups: cons!CMGT_GRP_SERVICE_ACCOUNTS\n            )\n          ),\n          cons!CMGT_TXT_AUTOMATED_SYSTEM,\n          local!currentUserRecord[#\"urn:appian:record-field:v1:SYSTEM_RECORD_TYPE_USER/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\"]\n        ),\n        if(\n          isnull(fv!item),\n          if(\n            ri!returnNullForEmpty,\n            null,\n            cons!CMGT_TXT_EMPTY_VALUE\n          ),\n          fv!item\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e9fd-9441-8000-9bdc-011c48011c48_317185": {
      "name": "CMGT_EventHistory_Entity_FormatDetails",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!details: cast(\n    'type!{http://www.appian.com/ae/types/2009}Map',\n    if(\n      a!isNotNullOrEmpty(\n        ri!data[recordType!CMGT_EventHistory_Entity.details]\n      ),\n      #\"SYSTEM_SYSRULES_fromJson_v1\"(\n        ri!data[recordType!CMGT_EventHistory_Entity.details]\n      ),\n      null\n    )\n  ),\n  a!match(\n    value: ri!data[recordType!CMGT_EventHistory_Entity.entityEventTypeId],\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_ENTITY_ADD_RELATED_ENTITY,\n        cons!CMGT_REFID_EVENT_TYPE_ENTITY_REMOVE_RELATED_ENTITY\n      },\n      fv!value\n    ),\n    then: concat(\n      rule!CMGT_QR_GetEntity(\n        entityId: local!details.relatedEntityId,\n        returnType: \"SINGLE_OBJECT\"\n      )[recordType!CMGT_Entity.title],\n      char(10),\n      #\"urn:appian:translation-string:v1:802ce84a-8b69-44d9-acb6-b3f80a4fc7b7\"(\n        #\"urn:appian:translation-variable:v1:00cdd306-d8cf-499b-8b48-5ca77d333e58\": displayvalue(\n          tointeger(local!details.relationshipTypeId),\n          ri!relationshipMapTypes[recordType!CMGT_CFG_RelationshipMapType.relationshipMapTypeId],\n          ri!relationshipMapTypes[recordType!CMGT_CFG_RelationshipMapType.relationship.label],\n          null\n        )\n      )\n    ),\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_ENTITY_ADD_RELATED_CASE,\n        cons!CMGT_REFID_EVENT_TYPE_ENTITY_REMOVE_RELATED_CASE\n      },\n      fv!value\n    ),\n    then: a!localVariables(\n      local!case: rule!CMGT_QR_GetCase(\n        returnType: \"SINGLE_OBJECT\",\n        caseId: local!details.caseId\n      ),\n      concat(\n        local!case[recordType!CMGT_Case.friendlyId],\n        \" | \",\n        local!case[recordType!CMGT_Case.title]\n      )\n    ),\n    default: local!details.value\n  )\n)"
    },
    "_a-0000ebe1-6999-8000-9cbe-011c48011c48_2275976": {
      "name": "CMGT_LA_Role_CreateCase_Submitter",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!submitter: rule!CMGT_UTIL_Filter(\n    records: ri!case[recordType!CMGT_Case.roles],\n    field: recordType!CMGT_Role.roleTypeId,\n    value: cons!CMGT_LA_REFID_ROLE_TYPE_SUBMITTER\n  ),\n  a!defaultValue(\n    value: local!submitter,\n    default: recordType!CMGT_Role(\n      recordType!CMGT_Role.username: ri!initiator,\n      recordType!CMGT_Role.roleTypeId: cons!CMGT_LA_REFID_ROLE_TYPE_SUBMITTER,\n      recordType!CMGT_Role.caseId: ri!case[recordType!CMGT_Case.caseId]\n    ),\n    \n  )\n)"
    },
    "_a-0000e9dc-ab93-8000-9bc2-011c48011c48_205218": {
      "name": "CMGT_Case_Sub_DetailsSmall",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!noTasks: if(\n    tointeger(\n      ri!case[recordType!CMGT_Case.totalNonAutomatedTasks]\n    ) > 0,\n    false,\n    true\n  ),\n  {\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Case Identitifer\"),\n      labelPosition: \"COLLAPSED\",\n      value: {\n        #\"SYSTEM_SYSRULES_richTextIcon\"(\n          icon: ri!case[recordType!CMGT_Case.priority.icon],\n          altText: #\"urn:appian:translation-string:v1:62c1d184-cd2b-4147-82cc-a8c82f4e295f\",\n          caption: ri!case[recordType!CMGT_Case.priority.priorityName],\n          color: rule!CMGT_UTIL_DisplayBranding(\n            brandingMap: ri!brandingMap,\n            key: ri!case[recordType!CMGT_Case.priority.iconColor]\n          )\n        ),\n        \" \",\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: ri!case[recordType!CMGT_Case.friendlyId],\n          color: ri!brandingMap.SecondaryTextColor\n        )\n      },\n      marginBelow: \"EVEN_LESS\"\n    ),\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Case Title\"),\n      labelPosition: \"COLLAPSED\",\n      value: {\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: ri!case[recordType!CMGT_Case.title],\n          link: #\"SYSTEM_SYSRULES_recordLink\"(\n            recordType: recordType!CMGT_Case,\n            identifier: ri!case[recordType!CMGT_Case.caseId],\n            showWhen: ri!showRecordLink\n          ),\n          linkStyle: \"STANDALONE\",\n          color: ri!brandingMap.StandardTextColor,\n          size: \"STANDARD\",\n          style: \"STRONG\"\n        )\n      },\n      preventWrapping: true,\n      marginBelow: \"STANDARD\"\n    ),\n    #\"SYSTEM_SYSRULES_tagField\"(\n      label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Case Staus\"),\n      labelPosition: \"COLLAPSED\",\n      tags: #\"SYSTEM_SYSRULES_tagItem_v1\"(\n        text: ri!case[recordType!CMGT_Case.status.statusLabel],\n        backgroundColor: rule!CMGT_UTIL_DisplayBranding(\n          brandingMap: ri!brandingMap,\n          key: ri!case[recordType!CMGT_Case.status.softColor]\n        ),\n        textColor: rule!CMGT_UTIL_DisplayBranding(\n          brandingMap: ri!brandingMap,\n          key: ri!case[recordType!CMGT_Case.status.textColor]\n        )\n      ),\n      size: \"SMALL\"\n    ),\n    /*Case Progress Bar*/\n    #\"SYSTEM_SYSRULES_progressBarField\"(\n      label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Task Progress\"),\n      labelPosition: \"COLLAPSED\",\n      percentage: if(\n        local!noTasks,\n        0,\n        round(\n          (\n            ri!case[recordType!CMGT_Case.resolvedNonAutomatedTasks] / ri!case[recordType!CMGT_Case.totalNonAutomatedTasks]\n          ) * 100,\n          0\n        )\n      ),\n      color: if(\n        local!noTasks,\n        ri!brandingMap.SelectedCardColor,\n        ri!brandingMap.AccentColor\n      ),\n      marginBelow: \"LESS\",\n      showPercentage: false\n    ),\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      label: \"Task Progress\",\n      labelPosition: \"COLLAPSED\",\n      value: {\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: #\"urn:appian:translation-string:v1:8a99825e-a1fa-4045-9d92-038d53ca38c4\",\n          size: \"SMALL\",\n          showWhen: local!noTasks\n        ),\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: ri!case[recordType!CMGT_Case.resolvedNonAutomatedTasks] & \"/\" & ri!case[recordType!CMGT_Case.totalNonAutomatedTasks],\n          size: \"SMALL\",\n          style: \"STRONG\",\n          showWhen: not(local!noTasks)\n        ),\n        char(32),\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: #\"urn:appian:translation-string:v1:0099b722-243f-4eeb-ac3f-09f2359228e5\",\n          size: \"SMALL\",\n          showWhen: not(local!noTasks)\n        )\n      },\n      align: \"RIGHT\"\n    ),\n    rule!CMGT_UTIL_DisplayDueDate(\n      dueOn: ri!case[recordType!CMGT_Case.dueOn],\n      showAsOverdueWhen: tointeger(\n        ri!case[recordType!CMGT_Case.statusId]\n      ) <> cons!CMGT_REFID_STATUS_CASE_CLOSED,\n      size: \"SMALL\",\n      align: \"LEFT\",\n      additionalText: #\"urn:appian:translation-string:v1:0fef6afa-51d1-49a6-8b45-055c403a05d3\",\n      defaultTextColor: ri!brandingMap.StandardTextColor,\n      brandingMap: ri!brandingMap\n    )\n  }\n)"
    },
    "_a-0000ecc8-2254-8000-9d00-011c48011c48_3281991": {
      "name": "CMGT_SITE_PAGE_CASES",
      "type": "Expression Rule",
      "sail_code": "#\"urn:appian:site-page:v1:df29c845-1565-45ce-8514-7af85f42ba63/d8f887ec-4aa6-4c57-9fb2-a9464fce89af\""
    },
    "_a-0000ecf6-527e-8000-9bbc-011c48011c48_56681": {
      "name": "CMGT_CFG_ENUM_ACTIONS",
      "type": "Expression Rule",
      "sail_code": "/*Contains the list of all actions for use in the Automation \nand their attributes. */\n{\nrule!CMGT_CFG_ENUM_ACT_ASSIGN_CASE(),\nrule!CMGT_CFG_ENUM_ACT_REASSIGN_CASE(),\nrule!CMGT_CFG_ENUM_ACT_ASSIGN_TASK(),\nrule!CMGT_CFG_ENUM_ACT_REASSIGN_TASK(),\nrule!CMGT_CFG_ENUM_ACT_WORKFLOW_ROUTING(),\nrule!CMGT_CFG_ENUM_ACT_SEND_EMAIL()\n  /* to add a new action, copy the above expression rule and replace the \n  values with the process model constant and attributes \n  of the newly configured action */\n  \n}"
    },
    "_a-0000e9ae-873e-8000-9baf-011c48011c48_88409": {
      "name": "CMGT_Task_RecordGrid",
      "type": "Interface",
      "sail_code": "/*\nThe grid will dynamically show columns based on the passed in context.\n\nCurrently the context include:\n\"EXPANDED_VIEW\",\n\"CASE_SUMMARY\",\n\"COMPLETED_TASK\",\n\"MY_TASK_VIEW\",\n\"ABBREVIATED_VIEW\",\n\"MY_SHARED_QUEUE\"\n\nSearch for the specific context to find what will be displayed or use the context as the passed in rule input\n*/\n#\"SYSTEM_SYSRULES_gridField_v3\"(\n  label: ri!label,\n  labelPosition: \"COLLAPSED\",\n  emptyGridMessage: if(\n    contains(\n      { \"ABBREVIATED_VIEW\", \"EXPANDED_VIEW\" },\n      ri!context\n    ),\n    #\"urn:appian:translation-string:v1:6315d6b5-8590-4305-abf2-a55a5213c025\",\n    #\"urn:appian:translation-string:v1:9541cbd3-719b-4809-bfdc-ee599f8cbab7\"\n  ),\n  rowHeader: if(ri!milestonesExist, 2, 1),\n  data: #\"SYSTEM_SYSRULES_recordData\"(\n    recordType: recordType!CMGT_Task,\n    filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n      operator: \"AND\",\n      logicalExpressions: ri!logicalExpression,\n      filters: {\n        ri!filters,\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_Task.isActive,\n          operator: \"=\",\n          value: true\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_Task.isCurrent,\n          operator: \"=\",\n          value: true\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_Task.taskIntentionCode,\n          operator: \"=\",\n          value: cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_WORKFLOW\n        )\n      },\n      ignoreFiltersWithEmptyValues: true\n    ),\n    fields: {\n      recordType!CMGT_Task.title,\n      recordType!CMGT_Task.taskInstanceUuid,\n      recordType!CMGT_Task.taskResponseOptionId,\n      recordType!CMGT_Task.selectedTaskResponseOption,\n      recordType!CMGT_Task.taskResponseOptions,\n      recordType!CMGT_Task.dueOn,\n      recordType!CMGT_Task.isCompleted,\n      recordType!CMGT_Task.taskBehaviorTypeId,\n      recordType!CMGT_Task.taskBehaviorType.isAutomated,\n      recordType!CMGT_Task.taskBehaviorType.label,\n      recordType!CMGT_Task.taskBehaviorType.icon,\n      recordType!CMGT_Task.statusId,\n      recordType!CMGT_Task.status,\n      recordType!CMGT_Task.status.icon,\n      recordType!CMGT_Task.status.accentColor,\n      recordType!CMGT_Task.status.statusLabel,\n      recordType!CMGT_Task.caseId,\n      recordType!CMGT_Task.case.friendlyId,\n      recordType!CMGT_Task.case.title,\n      recordType!CMGT_Task.roles.username,\n      recordType!CMGT_Task.roles,\n      recordType!CMGT_Task.roles.groupAssignee,\n      recordType!CMGT_Task.milestone.label,\n      recordType!CMGT_Task.milestone.milestoneColor,\n      recordType!CMGT_Task.modifiedOn,\n      recordType!CMGT_Task.modifiedBy,\n      recordType!CMGT_Task.modifiedByUser,\n      recordType!CMGT_Task.completedOn,\n      recordType!CMGT_Task.completedBy,\n      recordType!CMGT_Task.completedByUser,\n      recordType!CMGT_Task.instanceCount\n    }\n  ),\n  columns: {\n    /*milestone for abbreviated view*/\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      sortField: recordType!CMGT_Task.milestone.label,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        value: if(\n          a!isNullOrEmpty(\n            value: fv!row[recordType!CMGT_Task.milestone.label]\n          ),\n          \"\",\n          {\n            #\"SYSTEM_SYSRULES_richTextIcon\"(\n              icon: \"circle\",\n              caption: if(\n                ri!context = \"ABBREVIATED_VIEW\",\n                #\"urn:appian:translation-string:v1:802692c1-f167-44d0-8058-196440edbb6a\" & \" - \",\n                null\n              ) & fv!row[recordType!CMGT_Task.milestone.label],\n              color: fv!row[recordType!CMGT_Task.milestone.milestoneColor],\n              size: \"STANDARD\",\n              altText: if(\n                ri!context = \"ABBREVIATED_VIEW\",\n                null,\n                #\"urn:appian:translation-string:v1:802692c1-f167-44d0-8058-196440edbb6a\"\n              )\n            )\n          }\n        )\n      ),\n      showWhen: and(\n        contains({ \"ABBREVIATED_VIEW\" }, ri!context),\n        ri!milestonesExist\n      ),\n      align: \"CENTER\",\n      width: \"ICON\"\n    ),\n    /*Title*/\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:fe962919-107c-4fbe-b95f-53eef9152c9f\",\n      sortField: recordType!CMGT_Task.title,\n      value: a!localVariables(\n        /*Logic to calculate the number of dependents and display them */\n        local!afterTaskBranchIndices: if(\n          rule!CMGT_UTIL_IsNotBlank(ri!taskBranchMaps),\n          rule!CMGT_UTIL_Filter(\n            records: ri!taskBranchMaps.afterTaskBranches,\n            fieldValuePairs: {\n              a!map(\n                field: recordType!CMGT_TaskBranch.beforeTaskInstanceUuid,\n                value: fv!row[recordType!CMGT_Task.taskInstanceUuid]\n              ),\n              a!map(\n                field: recordType!CMGT_TaskBranch.isActive,\n                value: { true, null }\n              )\n            },\n            filterType: \"MATCH_INDICES\"\n          ),\n          {}\n        ),\n        local!afterTasks: if(\n          rule!CMGT_UTIL_IsNotBlank(local!afterTaskBranchIndices),\n          rule!CMGT_UTIL_Filter(\n            records: ri!tasks,\n            field: recordType!CMGT_Task.taskInstanceUuid,\n            value: index(\n              a!flatten(ri!taskBranchMaps.afterTaskBranches)[local!afterTaskBranchIndices],\n              recordType!CMGT_TaskBranch.afterTaskInstanceUuid,\n              null\n            )\n          ),\n          {}\n        ),\n        local!dependents: if(\n          a!isNotNullOrEmpty(local!afterTasks),\n          joinarray(\n            local!afterTasks[recordType!CMGT_Task.title],\n            \", \"\n          ),\n          {}\n        ),\n        local!countOfDependents: if(\n          a!isNotNullOrEmpty(local!dependents),\n          length(local!afterTasks),\n          0\n        ),\n        #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          value: {\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: {\n                fv!row[recordType!CMGT_Task.title]\n              },\n              link: #\"SYSTEM_SYSRULES_recordLink\"(\n                recordType: recordType!CMGT_Task,\n                identifier: fv!identifier\n              ),\n              linkStyle: \"STANDALONE\",\n              color: ri!brandingMap.StandardTextColor,\n              style: \"STRONG\"\n            ),\n            if(\n              tointeger(\n                fv!row[recordType!CMGT_Task.instanceCount]\n              ) > 1,\n              {\n                char(32),\n                #\"SYSTEM_SYSRULES_richTextIcon\"(\n                  icon: \"refresh\",\n                  size: \"SMALL\",\n                  caption: if(\n                    tointeger(\n                      fv!row[recordType!CMGT_Task.instanceCount]\n                    ) - 1 > 1,\n                    #\"urn:appian:translation-string:v1:64d9fea3-366e-42fa-98e7-d799c8a56c28\"(\n                      #\"urn:appian:translation-variable:v1:bf400cdc-071c-434e-9ccf-a0b2dd2c0277\": tointeger(\n                        fv!row[recordType!CMGT_Task.instanceCount]\n                      ) - 1\n                    ),\n                    #\"urn:appian:translation-string:v1:fa272fac-20b3-41b4-aff4-4e2395054003\"\n                  ),\n                  color: ri!brandingMap.SecondaryTextColor\n                ),\n                char(32),\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: tointeger(\n                    fv!row[recordType!CMGT_Task.instanceCount]\n                  ) - 1,\n                  size: \"SMALL\",\n                  color: ri!brandingMap.SecondaryTextColor\n                )\n              },\n              {}\n            ),\n            char(10),\n            /*Task behavior type*/\n            #\"SYSTEM_SYSRULES_richTextIcon\"(\n              icon: fv!row[recordType!CMGT_Task.taskBehaviorType.icon],\n              size: \"SMALL\",\n              color: if(\n                tointeger(\n                  fv!row[recordType!CMGT_Task.taskBehaviorType.taskBehaviorTypeId]\n                ) = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n                ri!brandingMap.AccentColor,\n                ri!brandingMap.SecondaryTextColor\n              )\n            ),\n            char(32),\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: {\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: fv!row[recordType!CMGT_Task.taskBehaviorType.label],\n                  color: if(\n                    tointeger(\n                      fv!row[recordType!CMGT_Task.taskBehaviorType.taskBehaviorTypeId]\n                    ) = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n                    ri!brandingMap.AccentColor,\n                    ri!brandingMap.SecondaryTextColor\n                  ),\n                  size: \"SMALL\"\n                )\n              },\n              showWhen: contains(\n                {\n                  \"EXPANDED_VIEW\",\n                  \"CASE_SUMMARY\",\n                  \"COMPLETED_TASK\",\n                  \"MY_TASK_VIEW\",\n                  \"MY_SHARED_QUEUE\",\n                  \"ABBREVIATED_VIEW\"\n                },\n                ri!context\n              )\n            ),\n            char(32),\n            #\"SYSTEM_SYSRULES_richTextIcon\"(\n              icon: \"arrow-right\",\n              color: ri!brandingMap.SecondaryTextColor,\n              altText: #\"urn:appian:translation-string:v1:6fa1bc00-eaf5-45d0-966b-16d2a592ccaf\",\n              size: \"SMALL\",\n              caption: local!dependents,\n              showWhen: and(\n                contains(\n                  { \"EXPANDED_VIEW\", \"ABBREVIATED_VIEW\" },\n                  ri!context\n                ),\n                local!countOfDependents > 0\n              )\n            ),\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: {\n                concat(\n                  \" \",\n                  #\"urn:appian:translation-string:v1:0b9b52cc-25f5-4444-90b3-6d70a4491713\",\n                  \" \",\n                  local!countOfDependents,\n                  \" \",\n                  if(\n                    local!countOfDependents = 1,\n                    #\"urn:appian:translation-string:v1:f840e77d-0aae-4eeb-b795-0394d8bff5b4\",\n                    #\"urn:appian:translation-string:v1:7178a955-6103-460e-8886-24c185dc3faf\"\n                  )\n                )\n              },\n              color: ri!brandingMap.SecondaryTextColor,\n              size: \"SMALL\",\n              showWhen: and(\n                contains(\n                  { \"EXPANDED_VIEW\", \"ABBREVIATED_VIEW\" },\n                  ri!context\n                ),\n                local!countOfDependents > 0\n              )\n            )\n          }\n        )\n      )\n    ),\n    /*Status*/\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:7e0ce8d9-9374-4a9e-925a-fc30eb5ba4b6\",\n      sortField: recordType!CMGT_Task.status.statusLabel,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        value: {\n          #\"SYSTEM_SYSRULES_richTextIcon\"(\n            icon: fv!row[recordType!CMGT_Task.status.icon],\n            caption: if(\n              and(\n                fv!row[recordType!CMGT_Task.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION,\n                fv!row[recordType!CMGT_Task.statusId] = cons!CMGT_REFID_STATUS_TASK_COMPLETED\n              ),\n              fv!row[recordType!CMGT_Task.selectedTaskResponseOption.label],\n              \"\"\n            ),\n            color: rule!CMGT_UTIL_DisplayBranding(\n              brandingMap: ri!brandingMap,\n              key: fv!row[recordType!CMGT_Task.status.accentColor]\n            )\n          ),\n          \" \",\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: fv!row[recordType!CMGT_Task.status.statusLabel]\n          )\n        },\n        preventWrapping: true()\n      ),\n      showWhen: contains(\n        {\n          \"EXPANDED_VIEW\",\n          \"MY_TASK_VIEW\",\n          \"MY_SHARED_QUEUE\",\n          \"CASE_SUMMARY\",\n          \"ABBREVIATED_VIEW\"\n        },\n        ri!context\n      )\n    ),\n    /*Milestone*/\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:c29825ed-83d5-4ac7-9f29-775ca7c372a9\",\n      sortField: recordType!CMGT_Task.milestone.label,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        value: if(\n          a!isNullOrEmpty(\n            value: fv!row[recordType!CMGT_Task.milestone.label]\n          ),\n          cons!CMGT_TXT_EMPTY_VALUE,\n          {\n            #\"SYSTEM_SYSRULES_richTextIcon\"(\n              icon: \"circle\",\n              color: fv!row[recordType!CMGT_Task.milestone.milestoneColor],\n              size: \"STANDARD\"\n            ),\n            \" \",\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: fv!row[recordType!CMGT_Task.milestone.label]\n            )\n          }\n        )\n      ),\n      showWhen: contains({ \"EXPANDED_VIEW\" }, ri!context)\n    ),\n    /*Case*/\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:b5c1a7f9-aa4e-4105-b1e3-6bf63eef7ce7\",\n      value: #\"SYSTEM_SYSRULES_tagField\"(\n        tags: #\"SYSTEM_SYSRULES_tagItem_v1\"(\n          text: fv!row[recordType!CMGT_Task.case.friendlyId] & \" | \" & fv!row[recordType!CMGT_Task.case.title],\n          backgroundColor: ri!brandingMap.TagBackgroundColor,\n          textColor: ri!brandingMap.TagTextColor,\n          link: #\"SYSTEM_SYSRULES_recordLink\"(\n            recordType: recordType!CMGT_Case,\n            identifier: fv!row[recordType!CMGT_Task.caseId]\n          )\n        )\n      ),\n      showWhen: contains(\n        { \"MY_TASK_VIEW\", \"MY_SHARED_QUEUE\" },\n        ri!context\n      )\n    ),\n    /*Assignee*/\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: if(\n        contains({ \"MY_SHARED_QUEUE\" }, ri!context),\n        #\"urn:appian:translation-string:v1:559ce3f6-e852-4bee-b5b2-ca315e1ebbef\",\n        #\"urn:appian:translation-string:v1:7bcb0001-ac03-470f-a26b-be3786709f7e\"\n      ),\n      value: rule!CMGT_UTIL_DisplayUserAndGroupAssigneeList(\n        separator: \", \",\n        emptyLabel: #\"urn:appian:translation-string:v1:83cc28fc-8558-4039-804c-602530960d97\",\n        textSize: if(\n          contains({ \"MY_SHARED_QUEUE\" }, ri!context),\n          \"STANDARD\",\n          \"SMALL\"\n        ),\n        brandingMap: ri!brandingMap,\n        assigneeList: rule!CMGT_UTIL_DisplayUser(\n          userRecord: fv!row[recordType!CMGT_Task.roles],\n          user: fv!row[recordType!CMGT_Task.roles.username],\n          returnNullForEmpty: true\n        ),\n        groupList: togroup(\n          fv!row[recordType!CMGT_Task.roles.groupAssignee]\n        ),\n        showGroupAssigneesOnly: contains({ \"MY_SHARED_QUEUE\" }, ri!context)\n      ),\n      showWhen: contains(\n        {\n          \"EXPANDED_VIEW\",\n          \"CASE_SUMMARY\",\n          \"ABBREVIATED_VIEW\",\n          \"MY_SHARED_QUEUE\"\n        },\n        ri!context\n      )\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:0fef6afa-51d1-49a6-8b45-055c403a05d3\",\n      sortField: recordType!CMGT_Task.dueOn,\n      value: rule!CMGT_UTIL_DisplayDueDate(\n        dueOn: fv!row[recordType!CMGT_Task.dueOn],\n        showAsOverdueWhen: not(\n          fv!row[recordType!CMGT_Task.isCompleted]\n        ),\n        brandingMap: ri!brandingMap\n      ),\n      showWhen: not(\n        contains({ \"COMPLETED_TASK\" }, ri!context)\n      ),\n      align: \"START\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:11bd60d9-131f-4409-8bf0-7ef9c57dd366\",\n      sortField: recordType!CMGT_Task.modifiedOn,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: rule!CMGT_UTIL_FormatDateTime(\n              dateTime: fv!row[recordType!CMGT_Task.modifiedOn],\n              includeTime: false\n            ),\n            color: ri!brandingMap.SecondaryTextColor\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              char(10),\n              rule!CMGT_UTIL_DisplayUser(\n                userRecord: fv!row[recordType!CMGT_Task.modifiedByUser],\n                user: fv!row[recordType!CMGT_Task.modifiedBy]\n              )\n            },\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\"\n          )\n        }\n      ),\n      showWhen: contains({ \"EXPANDED_VIEW\" }, ri!context),\n      align: \"END\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:ebabcba9-7115-48c4-ac16-2ce757f8eeef\",\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextIcon\"(\n            icon: fv!row[recordType!CMGT_Task.status.icon],\n            color: rule!CMGT_UTIL_DisplayBranding(\n              brandingMap: ri!brandingMap,\n              key: fv!row[recordType!CMGT_Task.status.accentColor]\n            )\n          ),\n          \" \",\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: fv!row[recordType!CMGT_Task.status.statusLabel],\n            showWhen: not(\n              and(\n                fv!row[recordType!CMGT_Task.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION,\n                fv!row[recordType!CMGT_Task.statusId] = cons!CMGT_REFID_STATUS_TASK_COMPLETED\n              )\n            ),\n            color: ri!brandingMap.StandardTextColor\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: displayvalue(\n              fv!row[recordType!CMGT_Task.taskResponseOptionId],\n              fv!row[recordType!CMGT_Task.taskResponseOptions.taskResponseOptionId],\n              fv!row[recordType!CMGT_Task.taskResponseOptions.label],\n              null\n            ),\n            showWhen: and(\n              fv!row[recordType!CMGT_Task.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION,\n              fv!row[recordType!CMGT_Task.statusId] = cons!CMGT_REFID_STATUS_TASK_COMPLETED\n            ),\n            color: ri!brandingMap.StandardTextColor\n          )\n        },\n        preventWrapping: true\n      ),\n      showWhen: contains({ \"COMPLETED_TASK\" }, ri!context)\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:0fef6afa-51d1-49a6-8b45-055c403a05d3\",\n      sortField: recordType!CMGT_Task.dueOn,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextIcon\"(\n            icon: \"calendar-o\",\n            color: ri!brandingMap.SecondaryTextColor\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              char(32),\n              if(\n                a!isNotNullOrEmpty(\n                  fv!row[recordType!CMGT_Task.dueOn]\n                ),\n                rule!CMGT_UTIL_FormatDateTime(\n                  dateTime: fv!row[recordType!CMGT_Task.dueOn],\n                  includeTime: true()\n                ),\n                cons!CMGT_TXT_EMPTY_VALUE\n              )\n            },\n            color: ri!brandingMap.StandardTextColor\n          )\n        }\n      ),\n      showWhen: contains({ \"COMPLETED_TASK\" }, ri!context),\n      align: \"START\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:c7a9d224-fffe-40ac-b179-e65e46fb420a\",\n      sortField: recordType!CMGT_Task.completedOn,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              rule!CMGT_UTIL_FormatDateTime(\n                dateTime: fv!row[recordType!CMGT_Task.completedOn],\n                includeTime: true()\n              )\n            },\n            color: ri!brandingMap.StandardTextColor\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              char(10),\n              rule!CMGT_UTIL_DisplayUser(\n                userRecord: fv!row[recordType!CMGT_Task.completedByUser],\n                user: fv!row[recordType!CMGT_Task.completedBy]\n              )\n            },\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\"\n          )\n        }\n      ),\n      showWhen: contains({ \"COMPLETED_TASK\" }, ri!context),\n      align: \"END\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      value: #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n        buttons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          icon: \"network-wired\",\n          tooltip: #\"urn:appian:translation-string:v1:0ad25875-aae9-47a9-b723-a6a8ec398a14\",\n          saveInto: a!save(\n            ri!selectedTaskId,\n            if(\n              ri!selectedTaskId = fv!identifier,\n              null,\n              fv!identifier\n            )\n          ),\n          size: \"SMALL\",\n          style: if(\n            ri!selectedTaskId = fv!identifier,\n            \"SOLID\",\n            \"LINK\"\n          ),\n          accessibilityText: if(\n            ri!selectedTaskId = fv!identifier,\n            #\"urn:appian:translation-string:v1:506805fb-4c0f-414b-90f2-023f86caf367\",\n            #\"urn:appian:translation-string:v1:db035ea0-e9e1-4b63-8c82-d4e470496d67\"\n          )\n        )\n      ),\n      showWhen: contains({ \"ABBREVIATED_VIEW\" }, ri!context),\n      align: \"CENTER\",\n      width: \"ICON\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      value: #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n        actions: {\n          #\"SYSTEM_SYSRULES_recordActionItem\"(\n            action: #\"urn:appian:record-action:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/9b915b1a-5e5f-4d3d-a2e4-16fc304ea6c1\",\n            identifier: fv!identifier\n          ),\n          #\"SYSTEM_SYSRULES_recordActionItem\"(\n            action: #\"urn:appian:record-action:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/9938f36f-4c12-42db-a5a9-1a39f1d67577\",\n            identifier: fv!identifier\n          ),\n          #\"SYSTEM_SYSRULES_recordActionItem\"(\n            action: #\"urn:appian:record-action:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/de7d4ece-19cc-474c-b0c4-855b09fb54d2\",\n            identifier: fv!identifier\n          ),\n          #\"SYSTEM_SYSRULES_recordActionItem\"(\n            action: #\"urn:appian:record-action:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/e7a6c53d-ad9d-4af4-b404-e0b2efb562a7\",\n            identifier: fv!identifier\n          ),\n          #\"SYSTEM_SYSRULES_recordActionItem\"(\n            action: #\"urn:appian:record-action:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/5dda9cee-1205-4428-9f12-d41ae975a6f5\",\n            identifier: fv!identifier\n          ),\n          #\"SYSTEM_SYSRULES_recordActionItem\"(\n            action: #\"urn:appian:record-action:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/41ccdca5-66f2-4a50-ac29-7832ddf38f44\",\n            identifier: fv!identifier\n          ),\n          #\"SYSTEM_SYSRULES_recordActionItem\"(\n            action: #\"urn:appian:record-action:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/a01acc5d-9da3-4aec-9205-4f4b0395c466\",\n            identifier: fv!identifier\n          )\n        },\n        style: \"MENU_ICON\",\n        securityOnDemand: not(\n          cons!CMGT_BOL_AUTOMATION_TESTING_LABEL_SWITCH\n        )\n      ),\n      align: \"CENTER\",\n      width: \"ICON\"\n    )\n  },\n  pageSize: a!defaultValue(\n    ri!pageSize,\n    cons!CMGT_INT_BATCH_SIZE_LARGE\n  ),\n  initialSorts: a!defaultValue(\n    value: ri!initialSorts,\n    default: {\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_Task.status.sortOrder,\n        ascending: true\n      ),\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_Task.completedOn,\n        ascending: true\n      ),\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_Task.dueOn,\n        ascending: true\n      )\n    }\n  ),\n  borderStyle: ri!borderStyle,\n  shadeAlternateRows: if(\n    contains({ \"EXPANDED_VIEW\" }, ri!context),\n    true,\n    false\n  ),\n  refreshOnVarChange: ri!triggerRefresh,\n  userFilters: if(\n    a!defaultValue(ri!showFilters, true),\n    {\n      if(\n        a!defaultValue(ri!showStatusFilter, true),\n        #\"urn:appian:user-filter:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/377a6a58-7b7d-4db8-9953-599083c0a77a\",\n        {}\n      ),\n      if(\n        a!defaultValue(ri!showAssigneeFilter, true),\n        {\n          /*only assigned group filter displayed for shared queue*/\n          if(\n            contains({ \"MY_SHARED_QUEUE\" }, ri!context),\n            {},\n            #\"urn:appian:user-filter:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/7916f828-8144-4846-acac-a401cf1a8cc4\"\n          ),\n          #\"urn:appian:user-filter:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/dec7db10-b62e-4eeb-9985-4504da31dfe1\"\n        },\n        {}\n      )\n    },\n    {}\n  ),\n  showSearchBox: a!defaultValue(ri!showSearchBox, false),\n  showRefreshButton: a!defaultValue(ri!showRefresh, true),\n  recordActions: #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!topGridRecordActions,\n    expression: if(\n      a!isNotNullOrEmpty(index(fv!item, \"action\", null)),\n      #\"SYSTEM_SYSRULES_recordActionItem\"(\n        action: fv!item.action,\n        identifier: fv!item.identifier\n      ),\n      null\n    )\n  )\n)"
    },
    "_a-0000e9ca-3659-8000-9bb8-011c48011c48_145917": {
      "name": "CMGT_UTIL_Distinct",
      "type": "Expression Rule",
      "sail_code": "cast(\n  runtimetypeof(ri!value),\n  union(\n    a!flatten(ri!value),\n    a!flatten(ri!value)\n  )\n)"
    },
    "_a-0000ece2-0128-8000-9bb8-011c48011c48_40321": {
      "name": "CMGT_UTIL_isEmptySLA",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    a!isNullOrEmpty(ri!slaMap.days),\n    a!isNullOrEmpty(ri!slaMap.hours),\n    a!isNullOrEmpty(ri!slaMap.minutes)\n  ),\n  true,\n  false\n)"
    },
    "_a-0000ed49-63d5-8000-9d3e-011c48011c48_3602456": {
      "name": "CMGT_WFL_QR_GetEmailTemplates",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_WFL_CFG_EmailTemplate,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateId,\n      operator: \"in\",\n      value: ri!emailTemplateId\n    )\n  },\n  fields: {\n    ri!fields,\n    recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateAttachments,\n    recordType!CMGT_WFL_CFG_EmailTemplate.sendEmailCaseTypeWorkflowTask,\n    recordType!CMGT_WFL_CFG_EmailTemplate.sendEmailReferenceTasks,\n    recordType!CMGT_WFL_CFG_EmailTemplate.sendEmailTaskBlockTasks\n  },\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000eb88-676f-8000-9c81-011c48011c48_1926347": {
      "name": "CMGT_ControlPanel_Workflow",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!brandingMap: rule!CMGT_CB_UTIL_LoadBrandingMap(),\n  local!triggerRefresh: a!refreshVariable(\n    value: now(),\n    refreshAfter: \"RECORD_ACTION\"\n  ),\n  local!selectedCaseType: rule!CMGT_QR_GetCaseType(\n    returnType: \"SINGLE_OBJECT\",\n    caseTypeUuid: ri!selectedCaseTypeUuid,\n    fields: {\n      recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask,\n      recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask\n    }\n  ),\n  local!referenceMilestones: rule!CMGT_WFL_QR_GetReferenceMilestone(caseTypeUuid: ri!selectedCaseTypeUuid, triggerRefresh:local!triggerRefresh ),\n  local!showInstruction: false,\n  local!caseTypeWorkflowTasks: rule!CMGT_WFL_QR_GetCaseTypeWorkflowTask(\n    taskIntentionCodes: cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_WORKFLOW,\n    caseTypeUuid: ri!selectedCaseTypeUuid,\n    triggerRefresh: local!triggerRefresh,\n    fields: {\n      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches,\n      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches,\n      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType,\n      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone,\n      recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction\n    },\n    sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder,\n      ascending: true\n    ),\n    relatedRecordData: {\n      #\"SYSTEM_SYSRULES_relatedRecordData\"(\n        relationship: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches,\n        filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive,\n          operator: \"=\",\n          value: true\n        )\n      )\n    }\n  ),\n  local!selectedTemplateTaskUuid,\n  local!taskBranchMaps: rule!CMGT_WFL_GroupCaseTypeWorkflowTaskBranches(\n    caseTypeWorkflowTaskBranch: a!flatten(\n      local!caseTypeWorkflowTasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches]\n    ),\n    caseType: #\"urn:appian:function:v1:a:update\"(\n      local!selectedCaseType,\n      recordType!CMGT_CFG_CaseType.caseTypeWorkflowTask,\n      local!caseTypeWorkflowTasks\n    )\n  ),\n  local!selectedMilestoneId,\n  local!filteredTasks: if(\n    a!isNullOrEmpty(local!selectedMilestoneId),\n    local!caseTypeWorkflowTasks,\n    rule!CMGT_UTIL_Filter(\n      records: local!caseTypeWorkflowTasks,\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.milestoneId,\n      value: local!selectedMilestoneId\n    )\n  ),\n  #\"SYSTEM_SYSRULES_paneLayout\"(\n    panes: {\n      #\"SYSTEM_SYSRULES_pane\"(\n        contents: #\"SYSTEM_SYSRULES_cardLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_columnsLayout\"(\n              columns: {\n                #\"SYSTEM_SYSRULES_columnLayout\"(\n                  contents: #\"SYSTEM_SYSRULES_cardLayout\"(\n                    shape: \"SEMI_ROUNDED\",\n                    showBorder: true,\n                    showShadow: false,\n                    contents: {\n                      rule!CMGT_UTIL_HeaderField(\n                        label: #\"urn:appian:translation-string:v1:6315d04d-61bc-4ec0-9f76-53680ba8c074\",\n                        labelSize: \"SMALL\",\n                        divider: \"NONE\",\n                        rightSideContents: {\n                          #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n                            actions: {\n                              #\"SYSTEM_SYSRULES_recordActionItem\"(\n                                action: #\"urn:appian:record-action:v1:82aa3b28-94c2-4d3c-a403-bb813bd76155/677bd317-1d19-4d57-9b74-eeb261266a2a\",\n                                identifier: ri!selectedCaseTypeUuid\n                              )\n                            },\n                            style: \"LINKS\",\n                            align: \"END\",\n                            accessibilityText: #\"urn:appian:translation-string:v1:8f97c2f4-8f44-48fb-b01f-cc99b62ac984\"\n                          )\n                        },\n                        brandingMap: local!brandingMap,\n                        labelColor: local!brandingMap.StandardTextColor,\n                        labelFontWeight: \"SEMI_BOLD\"\n                      ),\n                      rule!CMGT_CB_DisplayEmptyState(\n                        brandingMap: local!brandingMap,\n                        secondaryText: #\"urn:appian:translation-string:v1:bac1436c-9f90-49bc-8a11-52089d440f3c\",\n                        additionalContent: { #\"SYSTEM_SYSRULES_richTextDisplayField\"() },\n                        secondaryTextStyle: \"EMPHASIS\",\n                        showWhen: a!isNullOrEmpty(local!referenceMilestones)\n                      ),\n                      rule!CMGT_UTIL_CardGroupHandler(\n                        maxPerRow: 3,\n                        cardLayouts: #\"SYSTEM_SYSRULES_forEach\"(\n                          items: local!referenceMilestones,\n                          expression: #\"SYSTEM_SYSRULES_cardLayout\"(\n                            shape: \"ROUNDED\",\n                            decorativeBarColor: fv!item[recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor],\n                            decorativeBarPosition: \"TOP\",\n                            contents: {\n                              #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                labelPosition: \"COLLAPSED\",\n                                value: {\n                                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                    text: a!defaultValue(\n                                      fv!item[recordType!CMGT_WFL_CFG_ReferenceMilestone.label],\n                                      cons!CMGT_TXT_EMPTY_VALUE\n                                    ),\n                                    size: \"MEDIUM\"\n                                  )\n                                }\n                              ),\n                              #\"SYSTEM_SYSRULES_tagField\"(\n                                size: \"SMALL\",\n                                tags: #\"SYSTEM_SYSRULES_tagItem_v1\"(\n                                  text: a!localVariables(\n                                    local!count: count(\n                                    rule!CMGT_UTIL_Filter(\n                                      records: local!caseTypeWorkflowTasks,\n                                      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.milestoneId,\n                                      value: fv!item[recordType!CMGT_WFL_CFG_ReferenceMilestone.referenceMilestoneId]\n                                    )\n                                  ),\n                                  local!count & \" \" & if(local!count = 1, #\"urn:appian:translation-string:v1:af901900-c392-4676-a3ac-40d40aaa3415\", #\"urn:appian:translation-string:v1:be1fb267-0802-411b-b0cf-4c9e2528daa8\")\n                                  ),\n                                  backgroundColor: local!brandingMap.InfoBackgroundColor\n                                )\n                              )\n                            },\n                            link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                              value: if(\n                                fv!item[recordType!CMGT_WFL_CFG_ReferenceMilestone.referenceMilestoneId] = a!defaultValue(local!selectedMilestoneId, 0),\n                                null,\n                                fv!item[recordType!CMGT_WFL_CFG_ReferenceMilestone.referenceMilestoneId]\n                              ),\n                              saveInto: local!selectedMilestoneId\n                            ),\n                            style: if(\n                              fv!item[recordType!CMGT_WFL_CFG_ReferenceMilestone.referenceMilestoneId] = a!defaultValue(local!selectedMilestoneId, 0),\n                              local!brandingMap.SelectedCardColor,\n                              \"NONE\"\n                            ),\n                            showBorder: true\n                          )\n                        ),\n                        marginBelow: \"STANDARD\"\n                      ),\n                      rule!CMGT_UTIL_HeaderField(\n                        label: #\"urn:appian:translation-string:v1:2f4f2cde-9986-47cb-ac2a-1ecfeeddc693\",\n                        labelSize: \"SMALL\",\n                        divider: \"NONE\",\n                        rightSideContents: {\n                          #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n                            actions: {\n                              #\"SYSTEM_SYSRULES_recordActionItem\"(\n                                action: #\"urn:appian:record-action:v1:82aa3b28-94c2-4d3c-a403-bb813bd76155/9f9a333a-49a2-4203-a9fa-37fe9a4d2f53\",\n                                identifier: ri!selectedCaseTypeUuid\n                              )\n                            },\n                            style: \"LINKS\",\n                            align: \"END\",\n                            accessibilityText: #\"urn:appian:translation-string:v1:99eac342-1ce2-4ea7-81e0-3f722c550145\",\n                            showWhen: a!isNotNullOrEmpty(local!caseTypeWorkflowTasks)\n                          )\n                        },\n                        brandingMap: local!brandingMap,\n                        marginBelow: \"NONE\",\n                        marginAbove: \"LESS\",\n                        labelColor: local!brandingMap.StandardTextColor,\n                        labelFontWeight: \"SEMI_BOLD\"\n                      ),\n                      #\"SYSTEM_SYSRULES_cardLayout\"(\n                        contents: {\n                          rule!CMGT_WFL_WorkflowConfigurationInstruction_NavigationLink(\n                            showInstruction: local!showInstruction,\n                            brandingMap: local!brandingMap,\n                            align: \"LEFT\"\n                          ),\n                          rule!CMGT_WFL_WorkflowConfiguration_Instruction(\n                            brandingMap: local!brandingMap,\n                            showInstruction: local!showInstruction,\n                            highlightIndex: 3,\n                            cardStyle: local!brandingMap.DefaultBackgroundColor\n                          )\n                        },\n                        padding: \"NONE\",\n                        marginBelow: \"STANDARD\",\n                        showBorder: false\n                      ),\n                      #\"SYSTEM_SYSRULES_cardLayout\"(\n                        contents: rule!CMGT_CB_DisplayEmptyState(\n                          brandingMap: local!brandingMap,\n                          primaryText: #\"urn:appian:translation-string:v1:dc1ea44c-f762-494c-accb-5f661fef59d1\",\n                          secondaryText: #\"urn:appian:translation-string:v1:dea7a206-09d3-4368-ae4a-c82bb75a0289\",\n                          docImage: cons!CMGT_WFL_DOC_IMAGE_CMS_TASKS_PENDING,\n                          additionalContent: {\n                            #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n                              actions: {\n                                #\"SYSTEM_SYSRULES_recordActionItem\"(\n                                  action: #\"urn:appian:record-action:v1:82aa3b28-94c2-4d3c-a403-bb813bd76155/4adab4aa-a9ba-426e-8737-70ec4bedff18\",\n                                  identifier: ri!selectedCaseTypeUuid\n                                )\n                              },\n                              style: \"TOOLBAR\",\n                              display: \"LABEL\",\n                              align: \"CENTER\"\n                            ),\n                            #\"SYSTEM_SYSRULES_richTextDisplayField\"()\n                          }\n                        ),\n                        showWhen: a!isNullOrEmpty(local!caseTypeWorkflowTasks),\n                        style: local!brandingMap.DefaultBackgroundColor,\n                        showBorder: false\n                      ),\n                      #\"SYSTEM_SYSRULES_forEach\"(\n                        items: local!filteredTasks,\n                        expression: {\n                          a!localVariables(\n                            local!afterTaskBranchIndices: rule!CMGT_UTIL_Filter(\n                              records: a!flatten(\n                                local!taskBranchMaps.aftercaseTypeWorkflowTaskBranches\n                              ),\n                              fieldValuePairs: {\n                                a!map(\n                                  field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid,\n                                  value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n                                ),\n                                a!map(\n                                  field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive,\n                                  value: { true, null }\n                                )\n                              },\n                              filterType: \"MATCH_INDICES\"\n                            ),\n                            local!afterTasks: rule!CMGT_UTIL_Filter(\n                              records: local!caseTypeWorkflowTasks,\n                              field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n                              value: index(\n                                a!flatten(\n                                  local!taskBranchMaps.afterCaseTypeWorkflowTaskBranches\n                                )[local!afterTaskBranchIndices],\n                                recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid,\n                                null\n                              )\n                            ),\n                            local!dependents: joinarray(\n                              local!afterTasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label],\n                              \", \"\n                            ),\n                            local!countOfDependents: if(\n                              a!isNotNullOrEmpty(local!dependents),\n                              length(local!afterTasks),\n                              0\n                            ),\n                            #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n                              contents: {\n                                #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                                  items: {\n                                    /*Type Icon */\n                                    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                                      item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                        label: #\"urn:appian:translation-string:v1:9a44b9ef-62f9-423e-b40b-cdb2a2364795\"(\n                                          #\"urn:appian:translation-variable:v1:f61319e2-7ad0-4164-9526-364cf5cbe309\": fv!index\n                                        ),\n                                        labelPosition: \"COLLAPSED\",\n                                        value: #\"SYSTEM_SYSRULES_richTextIcon\"(\n                                          icon: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.icon],\n                                          color: if(\n                                            tointeger(fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType.taskBehaviorTypeId]) = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n                                            local!brandingMap.AccentColor,\n                                            local!brandingMap.SecondaryTextColor\n                                          )\n                                        )\n                                      ),\n                                      width: \"MINIMIZE\"\n                                    ),\n                                     /*Task Name */\n                                    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                                      item: rule!CMGT_WFL_FormatTaskDetails(\n                                        brandingMap: local!brandingMap,\n                                        nameLabel: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label],\n                                        showGroupAssignee: false,\n                                        showSlaDays: false,\n                                        showInSeperateLine: false,\n                                        countOfDependents: local!countOfDependents,\n                                        dependents: local!dependents,\n                                        showDependents: true,\n                                        showTaskBehaviorTypeIcon: false,\n                                        taskBehaviorType: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType]\n                                      ),\n                                      width: \"2X\"\n                                    ),\n                                     /*Milestone Display */\n                                    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                                      item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                        labelPosition: \"COLLAPSED\",\n                                        value: {\n                                          #\"SYSTEM_SYSRULES_richTextIcon\"(\n                                            icon: \"circle\",\n                                            altText: #\"urn:appian:translation-string:v1:802692c1-f167-44d0-8058-196440edbb6a\",\n                                            color: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone.milestoneColor],\n                                            size: \"STANDARD\"\n                                          ),\n                                          \" \",\n                                          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                            text: a!defaultValue(\n                                              fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone.label],\n                                              cons!CMGT_TXT_EMPTY_VALUE\n                                            ),\n                                            size: \"MEDIUM\"\n                                          )\n                                        }\n                                      ),\n                                      showWhen: and(\n                                        rule!CMGT_UTIL_IsNotBlank(\n                                          fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.milestoneId]\n                                        ),\n                                        fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorTypeId] <> cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION\n                                      )\n                                    ),\n                                     /*Focus Icon */\n                                    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                                      item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                        labelPosition: \"COLLAPSED\",\n                                        value: {\n                                          #\"SYSTEM_SYSRULES_richTextIcon\"(\n                                            icon: \"bezier-curve\",\n                                            altText: #\"urn:appian:translation-string:v1:5833cf49-f8fa-4848-81f6-18f419e09a05\",\n                                            color: local!brandingMap.AccentColor,\n                                            size: \"MEDIUM\",\n                                            link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                                              value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                                              saveInto: local!selectedTemplateTaskUuid\n                                            ),\n                                            linkStyle: \"STANDALONE\"\n                                          ),\n\n                                        }\n                                      ),\n                                      width: \"MINIMIZE\"\n                                    )\n                                  },\n                                  alignVertical: \"MIDDLE\"\n                                )\n                              },\n                              divider: \"BELOW\"\n                            )\n                          )\n                        }\n                      )\n                    },\n\n                  ),\n                  width: \"10X\"\n                ),\n                #\"SYSTEM_SYSRULES_columnLayout\"(\n                  contents: {\n                    if(\n                      rule!CMGT_UTIL_IsNotBlank(local!caseTypeWorkflowTasks),\n                      /*Show visualization if there are tasks*/\n                      {\n                        #\"SYSTEM_SYSRULES_cardLayout\"(\n                          contents: {\n                            rule!CMGT_WFL_CaseType_Visualization(\n                              brandingMap: local!brandingMap,\n                              selectedCaseTypeWorkflowTaskUuid: local!selectedTemplateTaskUuid,\n                              selectable: true(),\n                              tasks: local!caseTypeWorkflowTasks,\n                              conditionSets: local!caseTypeWorkflowTasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet],\n                              backgroundStyle: local!brandingMap.DefaultBackgroundColor\n                            )\n                          },\n                          style: local!brandingMap.DefaultBackgroundColor,\n                          shape: \"SEMI_ROUNDED\",\n                          padding: \"EVEN_LESS\",\n                          marginBelow: \"STANDARD\",\n                          showBorder: false\n                        )\n                      },\n                      /*Show prompt to edit workflow if there are no tasks*/\n                      {\n                        rule!CMGT_UTIL_HeaderField(\n                          label: #\"urn:appian:translation-string:v1:5d803e4f-7706-4b83-8460-9eae2a6a629a\",\n                          labelSize: \"SMALL\",\n                          divider: \"NONE\",\n                          rightSideContents: {},\n                          brandingMap: local!brandingMap,\n                          labelColor: local!brandingMap.StandardTextColor,\n                          labelFontWeight: \"SEMI_BOLD\"\n                        ),\n                        #\"SYSTEM_SYSRULES_cardLayout\"(\n                          contents: {\n                            #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n                              label: \"\",\n                              contents: {\n                                #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                  labelPosition: \"COLLAPSED\",\n                                  value: {\n                                    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                      text: #\"urn:appian:translation-string:v1:dc1ea44c-f762-494c-accb-5f661fef59d1\",\n                                      color: local!brandingMap.SecondaryTextColor,\n                                      size: \"MEDIUM\",\n                                      style: \"EMPHASIS\"\n                                    )\n                                  },\n                                  align: \"CENTER\",\n                                  marginBelow: \"STANDARD\"\n                                )\n                              },\n                              marginAbove: \"EVEN_MORE\"\n                            )\n                          },\n                          height: \"TALL_PLUS\",\n                          style: local!brandingMap.DefaultBackgroundColor,\n                          shape: local!brandingMap.CardShape,\n                          padding: \"MORE\",\n                          marginBelow: \"STANDARD\",\n                          showBorder: false,\n                          showShadow: local!brandingMap.CardShowShadow\n                        )\n                      }\n                    )\n                  },\n                  width: \"10X\"\n                )\n              },\n              showWhen: or(\n                a!isNotNullOrEmpty(local!referenceMilestones),\n                a!isNotNullOrEmpty(local!caseTypeWorkflowTasks)\n              ),\n              marginBelow: \"MORE\"\n            ),\n            rule!CMGT_UTIL_HeaderField(\n              label: #\"urn:appian:translation-string:v1:2f4f2cde-9986-47cb-ac2a-1ecfeeddc693\",\n              labelSize: \"SMALL\",\n              divider: \"NONE\",\n              brandingMap: local!brandingMap,\n              marginBelow: \"NONE\",\n              marginAbove: \"NONE\",\n              labelColor: local!brandingMap.StandardTextColor,\n              labelFontWeight: \"SEMI_BOLD\",\n              showWhen: and(\n                a!isNullOrEmpty(local!referenceMilestones),\n                a!isNullOrEmpty(local!caseTypeWorkflowTasks)\n              ),\n\n            ),\n            #\"SYSTEM_SYSRULES_cardLayout\"(\n              contents: {\n                rule!CMGT_CB_DisplayEmptyState(\n                  brandingMap: local!brandingMap,\n                  primaryText: #\"urn:appian:translation-string:v1:ebda86d1-a00a-497d-beb4-48b409adc7c6\",\n                  secondaryText: #\"urn:appian:translation-string:v1:2248ef33-70e9-4935-afe8-5a926f7bb6c4\",\n                  docImage: cons!CMGT_WFL_DOC_IMAGE_CMS_WORKFLOW_MISSING,\n                  additionalContent: {\n                    #\"SYSTEM_SYSRULES_richTextDisplayField\"(),\n                    #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n                      actions: {\n                        #\"SYSTEM_SYSRULES_recordActionItem\"(\n                          action: #\"urn:appian:record-action:v1:82aa3b28-94c2-4d3c-a403-bb813bd76155/f50d4987-0ffe-4d7a-8535-5def2ceb210a\",\n                          identifier: ri!selectedCaseTypeUuid\n                        )\n                      },\n                      style: \"TOOLBAR_PRIMARY\",\n                      display: \"LABEL\",\n                      align: \"CENTER\"\n                    )\n                  },\n                  primaryFontWeight: \"BOLD\"\n                )\n              },\n              showWhen: and(\n                a!isNullOrEmpty(local!referenceMilestones),\n                a!isNullOrEmpty(local!caseTypeWorkflowTasks)\n              ),\n              style: local!brandingMap.DefaultBackgroundColor,\n              padding: \"MORE\",\n              marginBelow: \"MORE\",\n              showBorder: false\n            )\n          },\n          style: local!brandingMap.WhiteColor,\n          padding: \"NONE\",\n          showBorder: false\n        )\n      )\n    }\n  )\n)"
    },
    "_a-0000e9d3-70bf-8000-9bbd-011c48011c48_180560": {
      "name": "CMGT_UTIL_returnTypeNumber",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer',\n  if(\n    isnull(ri!type),\n    typeof(ri!typeOf),\n    typeof(cast(ri!type, null))\n  )\n)"
    },
    "83c4efee-b53d-4a10-8bac-fef3810bcb3c": {
      "name": "CMGT_WFL_CaseTypeWorkflowTasks_FindPreviousTasksInTree_Reducer",
      "type": "Expression Rule",
      "sail_code": "with(\n  /*All tasks that are currently not in the tree are considered available  */\n  local!availableTasks: rule!CMGT_UTIL_Filter(\n    filterType: \"REJECT\",\n    records: ri!allTasks,\n    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n    value: ri!treeTasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n  ),\n  /*The existing beforeTaskBranches in the tree */\n  local!treeTaskBeforeBranches: rule!CMGT_UTIL_Filter(\n    records: ri!caseTypeWorkflowTaskBranches,\n    fieldValuePairs: {\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid,\n        value: ri!treeTasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isRequired,\n        value: true\n      ),\n      a!map(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive,\n        value: true\n      )\n    }\n  ),\n  /*Identifies the UUIDs of the beforeTask in the tree branches  */\n  local!previousTasksInTreeUuid: a!flatten(\n    local!treeTaskBeforeBranches[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid]\n  ),\n  /*Finds the before task from the available list of tasks  */\n  local!previousTasksInTree: rule!CMGT_UTIL_Filter(\n    records: local!availableTasks,\n    field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n    value: local!previousTasksInTreeUuid\n  ),\n  /*Add the identified tasks to the tree  */\n  if(\n    a!isNullOrEmpty(local!previousTasksInTree),\n    ri!treeTasks,\n    append(ri!treeTasks, local!previousTasksInTree)\n  )\n)"
    },
    "_a-0000eeb1-4048-8000-9db7-011c48011c48_4825275": {
      "name": "CMGT_SMS_AI_SmartSearchTaskCard",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_cardLayout\"(\n  padding: \"STANDARD\",\n  contents: {\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      alignVertical: \"TOP\",\n      spacing: \"DENSE\",\n      stackWhen: {\n        \"TABLET_PORTRAIT\",\n        \"PHONE\"\n      },\n      showDividers: false,\n      marginBelow: \"STANDARD\",\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_columnsLayout\"(\n              marginBelow: \"NONE\",\n              spacing: \"DENSE\",\n              alignVertical: \"MIDDLE\",\n              columns: {\n                #\"SYSTEM_SYSRULES_columnLayout\"(\n                  width: \"EXTRA_NARROW\",\n                  contents: {\n                    #\"SYSTEM_SYSRULES_stampField\"(\n                      labelPosition: \"COLLAPSED\",\n                      align: if(\n                        #\"SYSTEM_SYSRULES_isPageWidth\"(\n                          \"PHONE\"\n                        ),\n                        \"START\",\n                        \"END\"\n                      ),\n                      shape: \"SEMI_ROUNDED\",\n                      size: \"SMALL\",\n                      text: \"Task\",\n                      icon: \"tasks-alt\",\n                      /*These colors are hardcoded since its not available in branding map*/\n                      backgroundColor: \"#E7F8F8\",\n                      contentColor: \"#2C6770\",\n                      marginBelow: \"NONE\"\n                    ),\n\n                  }\n                ),\n                #\"SYSTEM_SYSRULES_columnLayout\"(\n                  contents: {\n                    #\"SYSTEM_SYSRULES_headingField\"(\n                      text: ri!task[recordType!CMGT_Task.title],\n                      size: \"SMALL\",\n                      fontWeight: \"SEMI_BOLD\",\n                      marginBelow: \"EVEN_LESS\"\n                    ),\n                    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                      alignVertical: \"MIDDLE\",\n                      spacing: \"DENSE\",\n                      items: {\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                            labelPosition: \"COLLAPSED\",\n                            value: {\n                              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                                icon: \"clipboard-o\",\n                                color: ri!brandingMap.SecondaryTextColor,\n                                caption: \"Case\"\n                              ),\n                              \" \",\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: {\n                                  ri!task[recordType!CMGT_Task.case.friendlyId],\n                                  \" \",\n                                  ri!task[recordType!CMGT_Task.case.title]\n                                },\n                                link: #\"SYSTEM_SYSRULES_recordLink\"(\n                                  recordType: recordType!CMGT_Case,\n                                  identifier: ri!task[recordType!CMGT_Task.case.caseId],\n                                  openLinkIn: \"NEW_TAB\"\n                                ),\n                                linkStyle: \"STANDALONE\"\n                              )\n                            }\n                          ),\n\n                        )\n                      }\n                    ),\n\n                  }\n                ),\n\n              }\n            )\n          }\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          width: \"NARROW\",\n          contents: {\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              align: if(\n                #\"SYSTEM_SYSRULES_isPageWidth\"(\n                  {\n                    \"TABLET_PORTRAIT\",\n                    \"PHONE\"\n                  }\n                ),\n                \"LEFT\",\n                \"RIGHT\"\n              ),\n              labelPosition: \"COLLAPSED\",\n              marginBelow: \"NONE\",\n              value: {\n                #\"SYSTEM_SYSRULES_richTextIcon\"(\n                  icon: ri!task[recordType!CMGT_Task.status.icon],\n                  color: rule!CMGT_UTIL_DisplayBranding(\n                    brandingMap: ri!brandingMap,\n                    key: ri!task[recordType!CMGT_Task.status.accentColor]\n                  )\n                ),\n                \" \",\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: ri!task[recordType!CMGT_Task.status.statusLabel]\n                )\n              }\n            )\n          }\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n      alignVertical: \"MIDDLE\",\n      stackWhen: {\n        \"TABLET_PORTRAIT\",\n        \"PHONE\"\n      },\n      items: {\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          width: \"MINIMIZE\",\n          item: rule!CMGT_UTIL_DisplayDueDate(\n            dueOn: ri!task[recordType!CMGT_Task.dueOn],\n            showAsOverdueWhen: not(\n              ri!task[recordType!CMGT_Task.isCompleted]\n            ),\n            brandingMap: ri!brandingMap\n          )\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          width: \"MINIMIZE\",\n          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            marginBelow: \"NONE\",\n            labelPosition: \"COLLAPSED\",\n            value: {\n              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                icon: ri!task[recordType!CMGT_Task.taskBehaviorType.icon],\n                color: if(\n                  tointeger(\n                    ri!task[recordType!CMGT_Task.taskBehaviorType.taskBehaviorTypeId]\n                  ) = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n                  ri!brandingMap.AccentColor,\n                  ri!brandingMap.SecondaryTextColor\n                ),\n                caption: #\"urn:appian:translation-string:v1:53195930-c926-4ceb-a1ac-35fcc0546286\"\n              ),\n              \" \",\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: ri!task[recordType!CMGT_Task.taskBehaviorType.label],\n                color: ri!brandingMap.StandardTextColor\n              )\n            }\n          ),\n\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n      alignVertical: \"MIDDLE\",\n      stackWhen: {\n        \"TABLET_PORTRAIT\",\n        \"PHONE\"\n      },\n      items: {\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          width: \"MINIMIZE\",\n          item: rule!CMGT_UTIL_DisplayListOfItems(\n            values: rule!CMGT_UTIL_Filter(\n              records: ri!task[recordType!CMGT_Task.roles],\n              field: recordType!CMGT_Role.roleType.roleTypeId,\n              value: cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE\n            )[#\"urn:appian:record-field:v1:6799d796-883e-49ff-8975-297d87e40756/6f0c8dbc-95d2-4ba7-9fb5-f0916efa0f08/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\"],\n            separator: \", \",\n            emptyLabel: #\"urn:appian:translation-string:v1:c25a86b2-435b-4f45-9f11-15b1f0b8415e\",\n            brandingMap: ri!brandingMap,\n            marginAbove: \"NONE\",\n            icon: \"user\",\n            iconColor: \"SECONDARY\",\n            marginBelow: \"EVEN_LESS\",\n            iconCaption: #\"urn:appian:translation-string:v1:4d270950-323f-42b7-ac89-630f33e2c96c\"\n          )\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: rule!CMGT_UTIL_DisplayListOfItems(\n            values: togroup(\n              rule!CMGT_UTIL_Filter(\n                records: ri!task[recordType!CMGT_Task.roles],\n                field: recordType!CMGT_Role.roleType.roleTypeId,\n                value: cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n              )[recordType!CMGT_Role.groupAssignee]\n            ),\n            separator: \", \",\n            emptyLabel: #\"urn:appian:translation-string:v1:c25a86b2-435b-4f45-9f11-15b1f0b8415e\",\n            brandingMap: ri!brandingMap,\n            marginAbove: \"NONE\",\n            icon: \"users\",\n            iconColor: \"SECONDARY\",\n            marginBelow: \"EVEN_LESS\",\n            iconCaption: #\"urn:appian:translation-string:v1:8d84d9ae-54ba-40f2-830b-c62a43069e5d\"\n          )\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_horizontalLine\"(),\n    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n      alignVertical: \"MIDDLE\",\n      spacing: \"DENSE\",\n      items: {\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          width: \"MINIMIZE\",\n          item: #\"SYSTEM_SYSRULES_imageField_v1\"(\n            marginBelow: \"NONE\",\n            labelPosition: \"COLLAPSED\",\n            images: #\"SYSTEM_SYSRULES_documentImage\"(\n              document: cons!CMGT_SMS_AI_DOC_IMG_SEARCH_RESULT_ICON\n            ),\n            size: \"ICON\"\n          )\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            marginBelow: \"NONE\",\n            labelPosition: \"COLLAPSED\",\n            value: {\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: #\"urn:appian:translation-string:v1:e8ab34ff-ee52-4e67-867a-e0d29b9e1440\",\n                color: ri!brandingMap.InfoTextColor\n              ),\n              char(\n                32\n              ),\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: touniformstring(\n                  ri!task[#\"urn:appian:record-search-results:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/allSearchFields/sourceField\"]\n                ),\n                style: \"STRONG\",\n                color: ri!brandingMap.InfoTextColor\n              ),\n              /*Matched On Field - Incorporation*/\n\n            }\n          )\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_cardLayout\"(\n      style: ri!brandingMap.TertiaryBackgroundColor,\n      showBorder: false,\n      shape: \"SEMI_ROUNDED\",\n      contents: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: rule!CMGT_UTIL_StripHtmlTags(\n              value: ri!task[#\"urn:appian:record-search-results:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/allSearchFields/sourceContent\"]\n            )\n          ),\n          /*Matched On Content - Incorporation*/\n\n        }\n      )\n    ),\n\n  },\n  height: \"AUTO\",\n  showBorder: false,\n  style: \"NONE\",\n  marginBelow: \"STANDARD\",\n  shape: \"SEMI_ROUNDED\",\n  showShadow: true,\n  link: #\"SYSTEM_SYSRULES_recordLink\"(\n    recordType: recordType!CMGT_Task,\n    identifier: ri!task[recordType!CMGT_Task.taskId],\n    openLinkIn: \"NEW_TAB\"\n  )\n)"
    },
    "_a-0000e99c-1217-8000-9ba9-011c48011c48_52143": {
      "name": "CMGT_UTIL_ValidateEmail",
      "type": "Expression Rule",
      "sail_code": "/*  Email Address Validation for Appian 7+  */\n/*  Allows the 'name' to contain letters, numbers, plus period and special characters: _ - + ' & %  */\n/*  Allows the 'domain' to contain only letters, numbers, period and dash.  */\n/*When the case is created from the portal and if that email is used for account creation, only then below validation should be displayed in portal else existing validation should be displayed\nPlease enter a valid email address. Email address may only contain letters, numbers, and the following special characters: @ . _ - */\na!localVariables(\n  local!validationMessage: #\"urn:appian:translation-string:v1:b90bb29b-f3c4-4405-a032-741e69f0ed63\",\n  if(\n    a!isNullOrEmpty(ri!textInput),\n    null,\n    a!localVariables(\n      local!localPart: index(split(trim(ri!textInput), \"@\"), 1, {}),\n      local!domainPart: index(split(trim(ri!textInput), \"@\"), 2, {}),\n      {\n        if(\n          or(\n            len(trim(ri!textInput)) > 255,\n            length(split(trim(ri!textInput), \" \")) > 1,\n            count(split(ri!textInput, \"@\")) <> 2\n          ),\n          local!validationMessage,\n          if(\n            or(\n              length(split(local!domainPart, \".\")) < 2,\n              contains(split(local!localPart, \".\"), \"\"),\n              contains(split(local!domainPart, \".\"), \"\"),\n            ),\n            local!validationMessage,\n            null\n          )\n        )\n      }\n    )\n  )\n)"
    },
    "_a-0000ec7e-4d3b-8000-9ce6-011c48011c48_2997534": {
      "name": "CMGT_Document_IconColorLogic",
      "type": "Expression Rule",
      "sail_code": "a!match(\n  value: lower(ri!documentExtension),\n  /* red4*/\n  equals: \"pdf\",\n  then: ri!brandingMap.NegativeTextColor,\n  equals: \"img\",\n  equals: \"png\",\n  equals: \"mov\",\n  equals: \"jpg\",\n  /* red3*/\n  then: ri!brandingMap.NegativeAccentColor,\n  equals: \"xlsx\",\n  equals: \"xls\",\n  equals: \"xlsm\",\n  /* green4*/\n  then: ri!brandingMap.PositiveTextColor,\n  equals: \"ppt\",\n  equals: \"pptx\",\n  /* orange3*/\n  then: ri!brandingMap.TaskStatusInProgressAccentColor,\n  equals: \"doc\",\n  equals: \"docx\",\n  equals: \"txt\",\n  equals: \"properties\",\n  /* blue3*/\n  then: ri!brandingMap.InfoAccentColor,\n  default: ri!brandingMap.SecondaryTextColor\n)"
    },
    "_a-0000ea0e-71db-8000-9be6-011c48011c48_460215": {
      "name": "CMGT_Workspace_InternalUser_Sub_CalendarDisplay",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!firstDate: rule!CMGT_UTIL_GetDateFromDateTime(\n    dateTimeValue: now(),\n    convertToSystemTimeZone: false\n  ),\n  /*\n  Logical expression to pull back:\n    - all OPEN cases/tasks\n    - WITH a populated dueOn\n    - ASSSIGNED to the logged in user via userAssignee\n  */\n  local!caseLogicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n    operator: \"AND\",\n    filters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_Case.dueOn,\n        operator: \"not null\"\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_Case.statusId,\n        operator: \"in\",\n        value: {\n          cons!CMGT_REFID_STATUS_CASE_IN_PROGRESS,\n          cons!CMGT_REFID_STATUS_CASE_OPEN\n        }\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_Case.roles.userAssignee,\n        operator: \"=\",\n        value: ri!loggedInUser\n      )\n    }\n  ),\n  local!taskLogicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n    operator: \"AND\",\n    filters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_Task.dueOn,\n        operator: \"not null\"\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_Task.statusId,\n        operator: \"in\",\n        value: {\n          cons!CMGT_REFID_STATUS_TASK_READY,\n          cons!CMGT_REFID_STATUS_TASK_IN_PROGRESS\n        }\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_Task.roles.userAssignee,\n        operator: \"=\",\n        value: ri!loggedInUser\n      )\n    }\n  ),\n  local!datesWithItemsDue: a!refreshVariable(\n    refreshAfter: \"RECORD_ACTION\",\n    value: a!flatten(\n      {\n        #\"SYSTEM_SYSRULES_queryRecordType_v1\"(\n          recordType: recordType!CMGT_Case,\n          filters: local!caseLogicalExpression,\n          fields: #\"SYSTEM_SYSRULES_aggregationFields\"(\n            groupings: #\"SYSTEM_SYSRULES_grouping\"(\n              field: recordType!CMGT_Case.dueOn,\n              alias: \"dueOn\",\n\n            )\n          ),\n          pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n            startIndex: 1,\n            batchSize: cons!CMGT_INT_BATCH_SIZE_MAX,\n            sort: #\"SYSTEM_SYSRULES_sortInfo\"(field: \"dueOn\", ascending: true)\n          )\n        ).data.dueOn,\n        #\"SYSTEM_SYSRULES_queryRecordType_v1\"(\n          recordType: recordType!CMGT_Task,\n          filters: local!taskLogicalExpression,\n          fields: #\"SYSTEM_SYSRULES_aggregationFields\"(\n            groupings: #\"SYSTEM_SYSRULES_grouping\"(\n              field: recordType!CMGT_Task.dueOn,\n              alias: \"dueOn\",\n\n            )\n          ),\n          pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n            startIndex: 1,\n            batchSize: cons!CMGT_INT_BATCH_SIZE_MAX,\n            sort: #\"SYSTEM_SYSRULES_sortInfo\"(field: \"dueOn\", ascending: true)\n          )\n        ).data.dueOn\n      }\n    )\n  ),\n  /*Logic to take the first upcoming due date to drill down and show*/\n  local!selectedDate,\n  local!casesToDisplay: a!refreshVariable(\n    refreshAfter: \"RECORD_ACTION\",\n    value: rule!CMGT_QR_GetCase(\n      executeWhen: a!isNotNullOrEmpty(local!selectedDate),\n      dueOnDate: local!selectedDate,\n      additionalLogicalExpression: local!caseLogicalExpression,\n      includeAssignees: true,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: cons!CMGT_INT_BATCH_SIZE_MAX\n      ),\n      useSystemTimeZoneForDueOn: false\n    )\n  ),\n  local!tasksToDisplay: a!refreshVariable(\n    refreshAfter: \"RECORD_ACTION\",\n    value: rule!CMGT_QR_GetTask(\n      executeWhen: a!isNotNullOrEmpty(local!selectedDate),\n      dueOnDate: local!selectedDate,\n      additionalLogicalExpression: local!taskLogicalExpression,\n      includeRoles: true,\n      includeCase: true,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: cons!CMGT_INT_BATCH_SIZE_MAX\n      ),\n      useSystemTimeZoneForDueOn: false\n    )\n  ),\n  {\n    /*Calendar*/\n    rule!CMGT_UTIL_HeaderField(\n      label: #\"urn:appian:translation-string:v1:a3aa5599-663e-4a07-9712-830d55c50633\",\n      divider: \"NONE\",\n      brandingMap: ri!brandingMap,\n      marginBelow: \"NONE\"\n    ),\n    #\"SYSTEM_SYSRULES_cardLayout\"(\n      contents: {\n        rule!CMGT_UTIL_CalendarField(\n          selectedDate: local!selectedDate,\n          selectableDates: local!datesWithItemsDue,\n          firstDate: local!firstDate,\n          label: #\"urn:appian:translation-string:v1:a71fc65e-ffa2-4584-b2a5-542458192350\"\n        ),\n        #\"SYSTEM_SYSRULES_cardLayout\"(\n          contents: {\n            if(\n              and(\n                a!isNotNullOrEmpty(local!selectedDate),\n                or(\n                  rule!CMGT_UTIL_IsNotBlank(local!casesToDisplay),\n                  rule!CMGT_UTIL_IsNotBlank(local!tasksToDisplay)\n                )\n              ),\n              {\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  items: local!casesToDisplay,\n                  expression: #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n                    contents: #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                      items: {\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                            value: {\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: fv!item[recordType!CMGT_Case.title],\n                                link: #\"SYSTEM_SYSRULES_recordLink\"(\n                                  recordType: recordType!CMGT_Case,\n                                  identifier: fv!item[recordType!CMGT_Case.caseId]\n                                ),\n                                linkStyle: \"STANDALONE\",\n                                color: ri!brandingMap.StandardTextColor\n                              ),\n                              char(10),\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: #\"urn:appian:translation-string:v1:883db971-2aac-436c-91c8-f849bee53c45\"(\n                                  #\"urn:appian:translation-variable:v1:07f329a5-c33a-4596-bef6-7f9f89de2e3d\": fv!item[recordType!CMGT_Case.friendlyId]\n                                ),\n                                color: ri!brandingMap.SecondaryTextColor,\n                                size: \"SMALL\"\n                              ),\n                              char(32),\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: #\"urn:appian:translation-string:v1:0fef6afa-51d1-49a6-8b45-055c403a05d3\" & \" \" & rule!CMGT_UTIL_FormatDateTime(\n                                  dateTime: fv!item[recordType!CMGT_Case.dueOn],\n                                  returnTime: true\n                                ),\n                                color: ri!brandingMap.SecondaryTextColor,\n                                size: \"SMALL\"\n                              )\n                            }\n                          )\n                        )\n                      },\n                      marginAbove: \"NONE\",\n                      marginBelow: \"LESS\"\n                    ),\n                    divider: if(fv!isLast, \"NONE\", \"BELOW\"),\n                    dividerColor: ri!brandingMap.DividerColor,\n                    marginAbove: \"NONE\",\n                    marginBelow: \"NONE\"\n                  )\n                ),\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  items: local!tasksToDisplay,\n                  expression: #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n                    contents: #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                      items: {\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                            value: {\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: fv!item[recordType!CMGT_Task.title],\n                                link: #\"SYSTEM_SYSRULES_recordLink\"(\n                                  recordType: recordType!CMGT_Task,\n                                  identifier: fv!item[recordType!CMGT_Task.taskId]\n                                ),\n                                linkStyle: \"STANDALONE\",\n                                color: ri!brandingMap.StandardTextColor\n                              ),\n                              char(10),\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: #\"urn:appian:translation-string:v1:2e63e3fb-09f9-47b2-b247-f020d1c98fdc\"(\n                                  #\"urn:appian:translation-variable:v1:32fff202-08fb-4328-b7bf-3d5787655301\": fv!item[recordType!CMGT_Task.case.friendlyId]\n                                ),\n                                color: ri!brandingMap.SecondaryTextColor,\n                                size: \"SMALL\"\n                              ),\n                              char(32),\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: #\"urn:appian:translation-string:v1:0fef6afa-51d1-49a6-8b45-055c403a05d3\" & \" \" & rule!CMGT_UTIL_FormatDateTime(\n                                  dateTime: fv!item[recordType!CMGT_Task.dueOn],\n                                  returnTime: true\n                                ),\n                                color: ri!brandingMap.SecondaryTextColor,\n                                size: \"SMALL\"\n                              )\n                            },\n                            marginAbove: \"NONE\"\n                          )\n                        )\n                      },\n                      marginAbove: \"NONE\",\n                      marginBelow: \"LESS\"\n                    ),\n                    divider: if(fv!isLast, \"NONE\", \"BELOW\"),\n                    dividerColor: ri!brandingMap.DividerColor,\n                    marginAbove: \"NONE\",\n                    marginBelow: \"NONE\"\n                  )\n                )\n              },\n              if(\n                contains(\n                  text(local!datesWithItemsDue, \"mmm yyyy\"),\n                  text(local!firstDate, \"mmm yyyy\")\n                ),\n                #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                  value: {\n                    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                      text: #\"urn:appian:translation-string:v1:fa4dfe6d-9f1a-4a18-a925-2b92454b2ecb\",\n                      color: ri!brandingMap.SecondaryTextColor\n                    )\n                  },\n                  marginBelow: \"STANDARD\"\n                ),\n                #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                  value: {\n                    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                      text: #\"urn:appian:translation-string:v1:f4e9196b-ce6d-4017-a6a3-eb4840375c1b\",\n                      color: ri!brandingMap.SecondaryTextColor\n                    )\n                  },\n                  marginBelow: \"STANDARD\"\n                )\n              )\n            )\n          },\n          style: \"TRANSPARENT\",\n          marginAbove: \"LESS\",\n          showBorder: false,\n          showShadow: ri!brandingMap.CardShowShadow,\n          decorativeBarPosition: \"TOP\"\n        )\n      },\n      style: ri!brandingMap.CardBackgroundColor,\n      shape: ri!brandingMap.CardShape,\n      padding: \"NONE\",\n      marginAbove: \"NONE\",\n      showBorder: ri!brandingMap.CardShowBorder,\n      showShadow: ri!brandingMap.CardShowShadow\n    )\n  }\n)"
    },
    "_a-0000eb2c-b6af-8000-9c5d-011c48011c48_1476001": {
      "name": "CMGT_UTIL_DisplayBranding",
      "type": "Expression Rule",
      "sail_code": "/*\nNote that because a forEach that loops over a single item is significantly less performant than just calling the thing,\nwe only want to use forEach here if multiple keys are passed, since this rule is used on every text on every interface\n(many calls per page load).\n\nRather than create a separate rule that just adds to rule sprawl, we just commented the common blocks of identical code.\nUpdates to either one should be reflected in the other.\n*/\na!localVariables(\n  /*Using this to avoid re-evaluation on page interaction*/\n  local!output: cast(\n    /*Always ensure the key is returned as the same list-type of the input, especially for null/empty keys*/\n    runtimetypeof(ri!key),\n    if(\n      a!isNullOrEmpty(ri!key),\n      {},\n      if(\n        count(a!flatten(ri!key)) = 1,\n        a!localVariables(\n          local!key: a!flatten(ri!key)[1],\n          /*START OF COMMON CODE*/\n          local!rawLabel:a!defaultValue(ri!brandingMap[local!key], local!key),\n          /*END OF COMMON CODE*/\n          local!rawLabel\n        ),\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!key,\n          expression: a!localVariables(\n            local!key: fv!item,\n            /*START OF COMMON CODE*/\n            local!rawLabel: a!defaultValue(ri!brandingMap[local!key], local!key),\n            \n            /*END OF COMMON CODE*/\n            local!rawLabel\n          )\n        )\n      )\n    )\n  ),\n  local!output\n)"
    },
    "_a-0000eb32-20f6-8000-9c60-011c48011c48_1532719": {
      "name": "CMGT_UTIL_sortList",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!records),\n  if(\n    a!isNullOrEmpty(ri!field),\n    ri!records,\n    with(\n      local!dataSortedByField: todatasubset(\n        ri!records,\n        #\"SYSTEM_SYSRULES_pagingInfo\"(\n          startIndex: 1,\n          batchSize: - 1,\n          sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n            field: ri!field,\n            ascending: a!defaultValue(ri!ascending, true)\n          )\n        )\n      ).data,\n      if(\n        a!isNullOrEmpty(ri!nullsFirst),\n        local!dataSortedByField,\n        with(\n          local!nullsAggregated: rule!CMGT_UTIL_Filter(\n            records: local!dataSortedByField,\n            field: ri!field,\n            value: null,\n            filterType: \"FULL_RESULT\"\n          ),\n          if(\n            ri!nullsFirst,\n            append(\n              local!nullsAggregated.matches,\n              local!nullsAggregated.rejects\n            ),\n            append(\n              local!nullsAggregated.rejects,\n              local!nullsAggregated.matches\n            )\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e99c-1217-8000-9ba9-011c48011c48_53154": {
      "name": "CMGT_Document_Sub_UploadDocument",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!showVisbilityFields: if(\n    rule!CMGT_LA_UTIL_IsLimitedAccessOrPortal(),\n    false,\n    #\"urn:appian:function:v1:a:isusermemberofgroup?okey=a!isUserMemberOfGroup\"(\n      loggedInUser(),\n      cons!CMGT_GRP_INTERNAL_USERS\n    )\n  ),\n  #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n    contents: {\n      #\"SYSTEM_SYSRULES_fileUploadField_v1\"(\n        label: ri!label,\n        labelPosition: ri!labelPosition,\n        target: cons!CMGT_FLD_TEMPORARY_DOCUMENTS,\n        /*value is always null since once a document is uploaded, it moves to the file upload field of the card field*/\n        value: {},\n        /*Note that this save logic is complicated, so buried in its own rule*/\n        saveInto: {\n          rule!CMGT_Document_RecordAction_CaseUpload_SaveLogic(\n            documents: ri!documents,\n            case: ri!case,\n            task: ri!task\n          )\n        },\n        buttonDisplay: \"LABEL_AND_ICON\",\n        buttonStyle: \"STANDARD\",\n        accessibilityText: #\"urn:appian:translation-string:v1:e98b5eac-30d7-47c5-a2a7-9533261bf298\"\n      ),\n      #\"SYSTEM_SYSRULES_cardLayout\"(\n        contents: #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!documents,\n          expression: {\n            #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n              items: {\n                #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                  item: #\"SYSTEM_SYSRULES_fileUploadField_v1\"(\n                    target: if(\n                      rule!CMGT_LA_UTIL_IsLimitedAccessOrPortal(),\n                      cons!CMGT_FLD_TEMPORARY_DOCUMENTS,\n                      rule!CMGT_Document_DetermineFolderForDocument(document: fv!item)\n                    ),\n                    maxSelections: 1,\n                    value: fv!item[recordType!CMGT_Document.appianDocId],\n                    saveInto: if(\n                      a!isNotNullOrEmpty(\n                        fv!item[recordType!CMGT_Document.documentId]\n                      ),\n                      a!save(\n                        fv!item[recordType!CMGT_Document.isActive],\n                        false\n                      ),\n                      a!save(\n                        ri!documents,\n                        remove(ri!documents, fv!index)\n                      )\n                    ),\n                    validations: {}\n                  )\n                ),\n                #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                  item: #\"SYSTEM_SYSRULES_radioButtonField_v1\"(\n                    choiceLabels: {\n                      #\"urn:appian:translation-string:v1:4a009516-21f5-456d-8e55-a2cb910c7043\",\n                      #\"urn:appian:translation-string:v1:56bad845-4e97-4a3b-bd64-1961f9e625d7\"\n                    },\n                    choiceValues: { false, true },\n                    label: #\"urn:appian:translation-string:v1:0c034ac7-0df2-40dd-bb7f-2d02ba7d615b\",\n                    helpTooltip: #\"urn:appian:translation-string:v1:da9b3f7a-10f9-4210-bb75-cc488b8a2f62\",\n                    value: fv!item[recordType!CMGT_Document.isPrivate],\n                    saveInto: fv!item[recordType!CMGT_Document.isPrivate],\n                    showWhen: local!showVisbilityFields,\n                    required: true,\n                    choiceLayout: \"COMPACT\",\n                    accessibilityText: extract(\n                      getcontentobjectdetailsbyid(\n                        fv!item[recordType!CMGT_Document.appianDocId]\n                      ),\n                      \"Name:\",\n                      \",\"\n                    )\n                  )\n                ),\n                #\"SYSTEM_SYSRULES_sideBySideItem\"(),\n\n              },\n              stackWhen: { \"PHONE\", \"TABLET_PORTRAIT\" },\n              marginBelow: \"STANDARD\",\n              marginAbove: \"STANDARD\"\n            )\n          }\n        ),\n        style: ri!brandingMap.TertiaryBackgroundColor,\n        marginBelow: \"NONE\",\n        showBorder: false(),\n        showWhen: if(\n          a!isNullOrEmpty(ri!documents),\n          false(),\n          and(\n            rule!CMGT_UTIL_IsNotBlank(\n              ri!documents[recordType!CMGT_Document.appianDocId]\n            ),\n            rule!CMGT_UTIL_IsBlank(\n              ri!documents[recordType!CMGT_Document.documentId]\n            )\n          )\n        )\n      )\n    },\n    validations: {\n      #\"SYSTEM_SYSRULES_validationMessage\"(\n        message: #\"urn:appian:translation-string:v1:fe3fcd09-5ed5-4f1e-9594-c09c19f59809\",\n        validateAfter: \"SUBMIT\",\n        showWhen: and(\n          a!defaultValue(ri!required, false),\n          rule!CMGT_UTIL_IsBlank(\n            a!flatten(ri!documents)[recordType!CMGT_Document.appianDocId]\n          )\n        )\n      )\n    }\n  )\n)"
    },
    "_a-0000ecf6-527e-8000-9bbc-011c48011c48_59897": {
      "name": "CMGT_CFG_ENUM_ACT_ASSIGN_TASK",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  /*code that is used to help evaluation of what actions needs to be ran*/\n  actionCode: cons!CMGT_CFG_TXT_ACT_ASSIGN_TASK,\n  /*Display text of action type in configuration*/\n  name: #\"urn:appian:translation-string:v1:5f11c5ad-d08d-4d59-86d6-c7464038329c\",\n  /*interface used to configure assignment logic*/\n  configurationRule:rule!CMGT_WFL_AutomationRule_Configure_AssignmentLogic,\n  runtimeConfigurationRule: rule!CMGT_AutomationRule_Configure_AssignmentLogic,\n  configurationDisplayRule: rule!CMGT_WFL_CaseType_Rules_FormatAssignAction,\n  runtimeDisplayRule: rule!CMGT_Case_Rules_FormatAssignAction,\n  /*process to be run to assigne a case*/\n  PmConstant: cons!CMGT_PM_ROLE_MANAGE,\n  /*evaluation rule that runs and outputs the necessary process parameters*/\n  pmParameterEvalRule: rule!CMGT_AUTO_EVAL_TaskAssignment_DetermineProcessParameters,\n  context: cons!CMGT_CFG_TXT_ACT_CONTEXT_TASK,\n  createdBy: \"system\"\n)"
    }
  }
}
{
  "_metadata": {
    "bundle_id": "AS_GCM_QNM_T_Questionnaire_-_4"
  },
  "objects": {
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76433": {
      "name": "AS_CO_UT_indexPath",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!fieldsAndIndices: rule!AS_CO_UT_zINTERNAL_indexPath_nestedFieldArrayHandler(field: ri!field),\n\n  reduce(\n    index(_, _, ri!indexDefault),\n    ri!cdt,\n    local!fieldsAndIndices\n  )\n)"
    },
    "_a-0000e4b1-2fbc-8000-9bc6-011c48011c48_851102-gcm": {
      "name": "AS_GCM_QNM_CRD_questionnaireTemplateProperties",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_cardLayout\"(\n  contents: {\n    rule!AS_GCM_CO_customisedLabelForRequiredInput(\n      /*Appending char(32) to the label in order to avoid duplicate label issue in SDX*/\n      label: \"\"&char(32)\n    ),\n    rule!AS_CO_INP_textField(\n      label: \"\",\n      labelPosition: \"COLLAPSED\",\n      validationGroup: cons!AS_GCM_QNM_TXT_VALIDATION_GROUP_PUBLISH_OR_PREVIEW_QUESTIONNAIRE,\n      required: true,\n      accessibilityText: \"Required Field\",\n      value: ri!questionnaireTemplate[recordType!AS GCM QNM T Questionnaire.name],\n      saveInto: {\n        ri!questionnaireTemplate[recordType!AS GCM QNM T Questionnaire.name],\n\n      },\n      showCharacterCount: true,\n      characterLimit: cons!AS_CO_ENUM_PARAGRAPH_LENGTH_SHORT,\n      placeholder: if(\n        cons!AS_GCM_TOGGLE_AUTOMATION_TESTING_ENABLED,\n        \"\",\n        \"\"\n      ),\n      validations: {\n        if(\n          rule!AS_CO_UT_isBlank(\n            rule!AS_GCM_QNM_QR_getQuestionnaire_Template(\n              returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT,\n              name: ri!questionnaireTemplate[recordType!AS GCM QNM T Questionnaire.name],\n              questionnaireTemplateIdsToExclude: ri!questionnaireTemplate[recordType!AS GCM QNM T Questionnaire.questionnaireTemplateId]\n            )\n          ),\n          \"\",\n          \"\"\n        )\n      }\n    ),\n    rule!AS_GCM_DPL_CO_INP_paragraphField(\n      label: \"\",\n      labelPosition: \"ABOVE\",\n      value: ri!questionnaireTemplate[recordType!AS GCM QNM T Questionnaire.description],\n      saveInto: ri!questionnaireTemplate[recordType!AS GCM QNM T Questionnaire.description],\n      showCharacterCount: true,\n      placeholder: if(\n        cons!AS_GCM_TOGGLE_AUTOMATION_TESTING_ENABLED,\n        \"\",\n        \"\"\n      ),\n      characterLimit: cons!AS_CO_ENUM_PARAGRAPH_LENGTH_MEDIUM,\n      height: \"SHORT\"\n    )\n  },\n  style: cons!AS_GCM_HEX_CODE_BLUE_0,\n  shape: \"SEMI_ROUNDED\",\n  padding: \"STANDARD\",\n  showBorder: false\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_84411": {
      "name": "AS_CO_I18N_UT_getAndDisplayLabelSingle",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  a!localVariables(\n  \n    local!bundleKeyParse: rule!AS_CO_I18N_UT_parseBundleKey(\n      bundleKey: ri!bundleKey\n    ),\n    \n    local!i18nData: rule!AS_CO_I18N_UT_loadBundleFromFolder(\n      bundleFolder: ri!bundleFolder,\n      bundleNames: local!bundleKeyParse.bundleName,\n      localeAgnostic: ri!localeAgnostic\n    ),\n    \n    rule!AS_CO_I18N_UT_displayLabel(\n      i18nData: local!i18nData,\n      bundleKey: ri!bundleKey,\n      arguments: ri!arguments\n    )\n  )\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13161518": {
      "name": "AS_GCM_QNM_conditionalConfigMap",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!refData: rule!AS_GCM_QR_getRefData(\n    doCastToCdt: false,\n    refDataId: {\n      cons!AS_GCM_REF_ID_CONDITION_OPERATOR_EQUALS,\n      cons!AS_GCM_REF_ID_CONDITION_OPERATOR_NOT_EQUALS\n    },\n    sortInfo: #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!AS GCM R Data.refDataId,\n      ascending: true\n    )\n  ),\n  {\n    a!map(\n      questionTypeCode: cons!AS_GCM_QNM_ENUM_QUESTION_TYPE_CODE_SINGLE_RADIO_BUTTON_TEXT,\n      operatorMap: a!map(\n        choiceLabels: {\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!refData,\n            expression: rule!AS_GAM_CO_I18N_UT_displayLabel(\n              bundle: ri!bundle,\n              bundleKey: fv!item[recordType!AS GCM R Data.refKey]\n            )\n          )\n        },\n        choiceValues: {\n          cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_SELECTION_INCLUDES,\n          cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_SELECTION_EXCLUDES\n        }\n      ),\n      responseInterface: rule!AS_GCM_QNM_CPS_comparisonValueSelectionForMultiSelect\n    ),\n    a!map(\n      questionTypeCode: cons!AS_GCM_QNM_ENUM_QUESTION_TYPE_CODE_DROPDOWN_TEXT,\n      operatorMap: a!map(\n        choiceLabels: {\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!refData,\n            expression: rule!AS_GAM_CO_I18N_UT_displayLabel(\n              bundle: ri!bundle,\n              bundleKey: fv!item[recordType!AS GCM R Data.refKey]\n            )\n          )\n        },\n        choiceValues: {\n          cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_SELECTION_INCLUDES,\n          cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_SELECTION_EXCLUDES\n        }\n      ),\n      responseInterface: rule!AS_GCM_QNM_CPS_comparisonValueSelectionForMultiSelect\n    )\n  }\n)"
    },
    "_a-0000e460-9d93-8000-9bc1-011c48011c48_595671-gcm": {
      "name": "AS_GCM_QNM_UT_validate",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!fieldTypes: a!refreshVariable(\n    value: rule!AS_GCM_QNM_UT_fieldTypes(\n      questionTypeCode: ri!question.questionTypeCode\n    ),\n    refreshAlways: true\n  ),\n  if(\n    contains(\n      local!fieldTypes.fieldKey,\n      ri!fieldKey\n    ),\n    a!localVariables(\n      local!validate: a!refreshVariable(\n        value: local!fieldTypes.validate[wherecontains(\n          ri!fieldKey, local!fieldTypes.fieldKey\n        )[1]],\n        refreshAlways: true\n      ),\n      local!validate(\n        question: ri!question,\n        fieldKey: ri!fieldKey\n      )\n    ),\n    error(\n      concat(\n        \"Question (ID:\",\n        ri!question.questionId,\n        \") does not have a field with fieldKey \",\n        ri!fieldKey,\n        \".\"\n      )\n    )\n  )\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13150876": {
      "name": "AS_GCM_QNM_constructTemplateQuestionForRetainingPKs",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!finalisedQuestion: if(\n    rule!AS_CO_UT_isBlank(ri!templateQuestionFromDB),\n    ri!previousTemplateQuestion,\n    ri!templateQuestionFromDB\n  ),\n  recordType!AS GCM QNM T Question(\n    recordType!AS GCM QNM T Question.questionCategoryTemplateId: local!finalisedQuestion[recordType!AS GCM QNM T Question.questionCategoryTemplateId],\n    recordType!AS GCM QNM T Question.questionTemplateId: local!finalisedQuestion[recordType!AS GCM QNM T Question.questionTemplateId],\n    recordType!AS GCM QNM T Question.questionnaireTemplateId: local!finalisedQuestion[recordType!AS GCM QNM T Question.questionnaireTemplateId],\n    /* Order number should not be from the DB and it should be populated during edit   */\n    recordType!AS GCM QNM T Question.orderNumber: ri!previousTemplateQuestion[recordType!AS GCM QNM T Question.orderNumber],\n    recordType!AS GCM QNM T Question.isDisplayedPrecedentSets: recordType!AS GCM QNM T Question Precedent Set(\n      recordType!AS GCM QNM T Question Precedent Set.questionPrecedentSetTemplateId: local!finalisedQuestion[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets.questionPrecedentSetTemplateId],\n      recordType!AS GCM QNM T Question Precedent Set.qstnTemplateIdIsDisplayed: local!finalisedQuestion[recordType!AS GCM QNM T Question.questionTemplateId]\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_74227": {
      "name": "AS_CO_UT_formatDateTime",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  if(\n    rule!AS_CO_UT_isBlank(ri!dateTime), \n    \"-\",\n    if(\n      rule!AS_CO_I18N_UT_isUserLocaleEnglishUs(),\n      text(ri!dateTime, \"mmm d, yyyy h:mm a\"),\n      text(ri!dateTime, \"d mmm yyyy hh:mm\")\n    )\n  )\n)"
    },
    "_a-0000e471-623a-8000-9bc3-011c48011c48_722364-gcm": {
      "name": "AS_GCM_QNM_UT_buildQuestionCategories_RuntimeFromTemplate",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!questionCategories_Template,\n  expression: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_QuestionCategory'(\n    questionCategoryId: if(ri!isPreview, fv!index, null),\n    questionCategoryName: fv!item[recordType!AS GCM QNM T Question Category.questionCategoryName],\n    questionCategoryDescription: fv!item[recordType!AS GCM QNM T Question Category.qstionCategoryDescription],\n    displayOrder: fv!item[recordType!AS GCM QNM T Question Category.displayOrder]\n  )\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81720": {
      "name": "AS_CO_I18N_UT_loadBundleFromFolder",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  a!localVariables(\n    \n    local!locale: if(\n      ri!localeAgnostic,\n      null,\n      rule!AS_CO_I18N_UT_getUserLocale(user: loggedInUser())\n    ),\n    \n    if(\n      rule!AS_CO_UT_isBlank(ri!bundleFolder),\n      \n      null,\n      \n      a!localVariables(\n        /*Wrapping this in a local variable to ensure caching -- it will only re-execute if inputs change*/\n        local!bundleData: loadbundlepropertiesfile(\n          ri!bundleFolder,\n          local!locale,\n          a!flatten(ri!bundleNames)\n        ),\n        \n        local!bundleData\n      )\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73980": {
      "name": "AS_CO_UT_replaceNull",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!nullableValue),\n  ri!replacementValue,\n  ri!nullableValue\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_37453-gcm": {
      "name": "AS_GCM_QNM_CPS_displayQuestionGroup",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: index(\n    rule!AS_CO_UT_sortCdtBySecondaryArray(\n      cdt: ri!questionsInGroup,\n      field: \"questionId\",\n      array: ri!calculatedQuestionGroupMetadata.questionId\n    ),\n    \"questionId\",\n    null\n  ),\n  expression: a!localVariables(\n    local!questionIndex: wherecontains(fv!item, ri!questionsInGroup.questionId),\n    rule!AS_GCM_QNM_CPS_displayQuestion(\n      readOnly: ri!readOnly,\n      bundle: ri!bundle,\n      questionMetadata: ri!calculatedQuestionGroupMetadata[fv!index],\n      question: ri!questionsInGroup[local!questionIndex],\n\n    )\n  )\n)"
    },
    "_a-0000e4b1-2fbc-8000-9bc6-011c48011c48_870515-gcm": {
      "name": "AS_GCM_QNM_TST_T_Questionnaire",
      "type": "Expression Rule",
      "sail_code": "recordType!AS GCM QNM T Questionnaire(\n  recordType!AS GCM QNM T Questionnaire.questionnaireTemplateId: - 1,\n  recordType!AS GCM QNM T Questionnaire.name: \"Test questionnaire\",\n  recordType!AS GCM QNM T Questionnaire.description: \"This is a test questionnaire for use in interface default inputs.  Because it is not persisted to the database and exists only in a rule, it may not behave as expected with record actions or other database related operations.\",\n  recordType!AS GCM QNM T Questionnaire.questionCategories: {\n    recordType!AS GCM QNM T Question Category(\n      recordType!AS GCM QNM T Question Category.questionCategoryTemplateId: - 1,\n      recordType!AS GCM QNM T Question Category.displayOrder: 1,\n      recordType!AS GCM QNM T Question Category.questionCategoryName: \"Category 1\",\n      recordType!AS GCM QNM T Question Category.isActive: true()\n    ),\n    recordType!AS GCM QNM T Question Category(\n      recordType!AS GCM QNM T Question Category.questionCategoryTemplateId: - 2,\n      recordType!AS GCM QNM T Question Category.displayOrder: 2,\n      recordType!AS GCM QNM T Question Category.questionCategoryName: \"Category 2\",\n      recordType!AS GCM QNM T Question Category.isActive: true()\n    ),\n    recordType!AS GCM QNM T Question Category(\n      recordType!AS GCM QNM T Question Category.questionCategoryTemplateId: - 3,\n      recordType!AS GCM QNM T Question Category.displayOrder: 3,\n      recordType!AS GCM QNM T Question Category.questionCategoryName: \"Category 3\",\n      recordType!AS GCM QNM T Question Category.isActive: true()\n    ),\n    recordType!AS GCM QNM T Question Category(\n      recordType!AS GCM QNM T Question Category.questionCategoryTemplateId: - 4,\n      recordType!AS GCM QNM T Question Category.displayOrder: 4,\n      recordType!AS GCM QNM T Question Category.questionCategoryName: \"Category 4\",\n      recordType!AS GCM QNM T Question Category.isActive: true()\n    ),\n    recordType!AS GCM QNM T Question Category(\n      recordType!AS GCM QNM T Question Category.questionCategoryTemplateId: - 5,\n      recordType!AS GCM QNM T Question Category.displayOrder: 5,\n      recordType!AS GCM QNM T Question Category.questionCategoryName: \"Category 5\",\n      recordType!AS GCM QNM T Question Category.isActive: true()\n    )\n  },\n  recordType!AS GCM QNM T Questionnaire.questions: {\n    recordType!AS GCM QNM T Question(\n      recordType!AS GCM QNM T Question.questionTemplateId: - 1,\n      recordType!AS GCM QNM T Question.label: \"Minimum 2\",\n      recordType!AS GCM QNM T Question.groupNumber: 2,\n      recordType!AS GCM QNM T Question.orderNumber: 1,\n      recordType!AS GCM QNM T Question.responseRequirements: recordType!AS GCM QNM T Response Requirement(\n        recordType!AS GCM QNM T Response Requirement.requirementTypeCode: cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_MIN_RESPONSES,\n        recordType!AS GCM QNM T Response Requirement.requirementValue: 2\n      ),\n      recordType!AS GCM QNM T Question.questionCategoryTemplateId: - 1,\n      recordType!AS GCM QNM T Question.isActive: true(),\n      recordType!AS GCM QNM T Question.questionTypeCode: cons!AS_GCM_QNM_ENUM_QUESTION_TYPE_CODE_SINGLE_RADIO_BUTTON_TEXT,\n    ),\n    recordType!AS GCM QNM T Question(\n      recordType!AS GCM QNM T Question.questionTemplateId: - 1,\n      recordType!AS GCM QNM T Question.label: \"Question\",\n      recordType!AS GCM QNM T Question.groupNumber: 1,\n      recordType!AS GCM QNM T Question.orderNumber: 1,\n      /*isExternalUserFacing: true,*/\n      recordType!AS GCM QNM T Question.questionCategoryTemplateId: - 1,\n      recordType!AS GCM QNM T Question.isActive: true(),\n      recordType!AS GCM QNM T Question.questionTypeCode: cons!AS_GCM_QNM_ENUM_QUESTION_TYPE_CODE_SINGLE_RADIO_BUTTON_TEXT,\n    ),\n    recordType!AS GCM QNM T Question(\n      recordType!AS GCM QNM T Question.questionTemplateId: - 3,\n      recordType!AS GCM QNM T Question.label: \"Max 1\",\n      recordType!AS GCM QNM T Question.groupNumber: 1,\n      recordType!AS GCM QNM T Question.orderNumber: 1,\n      recordType!AS GCM QNM T Question.responseRequirements: {\n        recordType!AS GCM QNM T Response Requirement(\n          recordType!AS GCM QNM T Response Requirement.requirementTypeCode: cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_MAX_RESPONSES,\n          recordType!AS GCM QNM T Response Requirement.requirementValue: \"1\"\n        )\n      },\n      /*isExternalUserFacing: true,*/\n      recordType!AS GCM QNM T Question.questionCategoryTemplateId: - 1,\n      recordType!AS GCM QNM T Question.isActive: true,\n      recordType!AS GCM QNM T Question.questionTypeCode: cons!AS_GCM_QNM_ENUM_QUESTION_TYPE_CODE_DROPDOWN_TEXT\n    ),\n    recordType!AS GCM QNM T Question(\n      recordType!AS GCM QNM T Question.questionTemplateId: - 4,\n      recordType!AS GCM QNM T Question.label: \"Radio Button Parent Question\",\n      recordType!AS GCM QNM T Question.groupNumber: 1,\n      recordType!AS GCM QNM T Question.orderNumber: 1,\n      recordType!AS GCM QNM T Question.responseOptions: {\n        recordType!AS GCM QNM T Response(\n          recordType!AS GCM QNM T Response.label: \"Yes\",\n          recordType!AS GCM QNM T Response.value: \"Yes\"\n        ),\n        recordType!AS GCM QNM T Response(\n          recordType!AS GCM QNM T Response.label: \"No\",\n          recordType!AS GCM QNM T Response.value: \"No\"\n        )\n      },\n      recordType!AS GCM QNM T Question.questionCategoryTemplateId: - 3,\n      recordType!AS GCM QNM T Question.isActive: true,\n      recordType!AS GCM QNM T Question.questionTypeCode: cons!AS_GCM_QNM_ENUM_QUESTION_TYPE_CODE_SINGLE_RADIO_BUTTON_TEXT,\n    ),\n    recordType!AS GCM QNM T Question(\n      recordType!AS GCM QNM T Question.questionTemplateId: - 5,\n      recordType!AS GCM QNM T Question.label: \"Radio Button Child Question\",\n      recordType!AS GCM QNM T Question.groupNumber: 1,\n      recordType!AS GCM QNM T Question.orderNumber: 2,\n      recordType!AS GCM QNM T Question.responseOptions: {\n        recordType!AS GCM QNM T Response(\n          recordType!AS GCM QNM T Response.label: \"Yes\",\n          recordType!AS GCM QNM T Response.value: \"Yes\"\n        ),\n        recordType!AS GCM QNM T Response(\n          recordType!AS GCM QNM T Response.label: \"No\",\n          recordType!AS GCM QNM T Response.value: \"No\"\n        )\n      },\n      recordType!AS GCM QNM T Question.isDisplayedPrecedentSets: recordType!AS GCM QNM T Question Precedent Set(\n        recordType!AS GCM QNM T Question Precedent Set.operator: cons!AS_GCM_QNM_ENUM_PRECEDENT_OPERATOR_AND,\n        recordType!AS GCM QNM T Question Precedent Set.questionPrecedents: recordType!AS GCM QNM T Question Precedent(\n          recordType!AS GCM QNM T Question Precedent.questionTemplateId_precedent: - 4,\n          recordType!AS GCM QNM T Question Precedent.responseRequirement: recordType!AS GCM QNM T Response Requirement(\n            recordType!AS GCM QNM T Response Requirement.requirementTypeCode: cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_SELECTION_INCLUDES,\n            recordType!AS GCM QNM T Response Requirement.requirementValue: \"Yes\"\n          )\n        )\n      ),\n      recordType!AS GCM QNM T Question.questionCategoryTemplateId: - 3,\n      recordType!AS GCM QNM T Question.questionTypeCode: cons!AS_GCM_QNM_ENUM_QUESTION_TYPE_CODE_SINGLE_RADIO_BUTTON_TEXT,\n      recordType!AS GCM QNM T Question.isActive: true\n    ),\n    recordType!AS GCM QNM T Question(\n      recordType!AS GCM QNM T Question.questionTemplateId: - 6,\n      recordType!AS GCM QNM T Question.label: \"Grandchild Question\",\n      recordType!AS GCM QNM T Question.groupNumber: 1,\n      recordType!AS GCM QNM T Question.orderNumber: 3,\n      recordType!AS GCM QNM T Question.isDisplayedPrecedentSets: recordType!AS GCM QNM T Question Precedent Set(\n        recordType!AS GCM QNM T Question Precedent Set.operator: cons!AS_GCM_QNM_ENUM_PRECEDENT_OPERATOR_AND,\n        recordType!AS GCM QNM T Question Precedent Set.questionPrecedents: recordType!AS GCM QNM T Question Precedent(\n          recordType!AS GCM QNM T Question Precedent.questionTemplateId_precedent: - 5,\n          recordType!AS GCM QNM T Question Precedent.responseRequirement: recordType!AS GCM QNM T Response Requirement(\n            recordType!AS GCM QNM T Response Requirement.requirementTypeCode: cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_SELECTION_INCLUDES,\n            recordType!AS GCM QNM T Response Requirement.requirementValue: \"Yes\"\n          )\n        )\n      ),\n      recordType!AS GCM QNM T Question.questionCategoryTemplateId: - 3,\n      recordType!AS GCM QNM T Question.isActive: true,\n      recordType!AS GCM QNM T Question.questionTypeCode: cons!AS_GCM_QNM_ENUM_QUESTION_TYPE_CODE_DROPDOWN_TEXT\n    ),\n    recordType!AS GCM QNM T Question(\n      recordType!AS GCM QNM T Question.questionTemplateId: - 7,\n      recordType!AS GCM QNM T Question.label: \"Grandchild Question\",\n      recordType!AS GCM QNM T Question.groupNumber: 1,\n      recordType!AS GCM QNM T Question.orderNumber: 4,\n      recordType!AS GCM QNM T Question.isDisplayedPrecedentSets: recordType!AS GCM QNM T Question Precedent Set(\n        recordType!AS GCM QNM T Question Precedent Set.operator: cons!AS_GCM_QNM_ENUM_PRECEDENT_OPERATOR_AND,\n        recordType!AS GCM QNM T Question Precedent Set.questionPrecedents: recordType!AS GCM QNM T Question Precedent(\n          recordType!AS GCM QNM T Question Precedent.questionTemplateId_precedent: - 5,\n          recordType!AS GCM QNM T Question Precedent.responseRequirement: recordType!AS GCM QNM T Response Requirement(\n            recordType!AS GCM QNM T Response Requirement.requirementTypeCode: cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_SELECTION_INCLUDES,\n            recordType!AS GCM QNM T Response Requirement.requirementValue: \"Yes\"\n          )\n        )\n      ),\n      recordType!AS GCM QNM T Question.questionCategoryTemplateId: - 3,\n      recordType!AS GCM QNM T Question.isActive: true,\n      recordType!AS GCM QNM T Question.questionTypeCode: cons!AS_GCM_QNM_ENUM_QUESTION_TYPE_CODE_DROPDOWN_TEXT\n    ),\n    recordType!AS GCM QNM T Question(\n      recordType!AS GCM QNM T Question.questionTemplateId: - 8,\n      recordType!AS GCM QNM T Question.label: \"Radio Question\",\n      recordType!AS GCM QNM T Question.groupNumber: 1,\n      recordType!AS GCM QNM T Question.orderNumber: 1,\n      recordType!AS GCM QNM T Question.questionCategoryTemplateId: - 4,\n      recordType!AS GCM QNM T Question.isActive: true,\n      recordType!AS GCM QNM T Question.questionTypeCode: cons!AS_GCM_QNM_ENUM_QUESTION_TYPE_CODE_SINGLE_RADIO_BUTTON_TEXT,\n    ),\n    recordType!AS GCM QNM T Question(\n      recordType!AS GCM QNM T Question.questionTemplateId: - 9,\n      recordType!AS GCM QNM T Question.label: \"Radio Question\",\n      recordType!AS GCM QNM T Question.groupNumber: 2,\n      recordType!AS GCM QNM T Question.orderNumber: 1,\n      recordType!AS GCM QNM T Question.questionCategoryTemplateId: - 4,\n      recordType!AS GCM QNM T Question.isActive: true,\n      recordType!AS GCM QNM T Question.questionTypeCode: cons!AS_GCM_QNM_ENUM_QUESTION_TYPE_CODE_SINGLE_RADIO_BUTTON_TEXT,\n    ),\n    recordType!AS GCM QNM T Question(\n      recordType!AS GCM QNM T Question.questionTemplateId: - 10,\n      recordType!AS GCM QNM T Question.label: \"Drop Down Question\",\n      recordType!AS GCM QNM T Question.groupNumber: 3,\n      recordType!AS GCM QNM T Question.orderNumber: 1,\n      recordType!AS GCM QNM T Question.questionCategoryTemplateId: - 4,\n      recordType!AS GCM QNM T Question.isActive: true,\n      recordType!AS GCM QNM T Question.questionTypeCode: cons!AS_GCM_QNM_ENUM_QUESTION_TYPE_CODE_DROPDOWN_TEXT\n    ),\n    recordType!AS GCM QNM T Question(\n      recordType!AS GCM QNM T Question.questionTemplateId: - 11,\n      recordType!AS GCM QNM T Question.label: \"Min Length 50\",\n      recordType!AS GCM QNM T Question.groupNumber: 3,\n      recordType!AS GCM QNM T Question.orderNumber: 1,\n      recordType!AS GCM QNM T Question.responseRequirements: {\n        recordType!AS GCM QNM T Response Requirement(\n          recordType!AS GCM QNM T Response Requirement.requirementTypeCode: cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_MIN_CHAR_LENGTH,\n          recordType!AS GCM QNM T Response Requirement.requirementValue: \"50\"\n        )\n      },\n      recordType!AS GCM QNM T Question.questionCategoryTemplateId: - 2,\n      recordType!AS GCM QNM T Question.isActive: true,\n      recordType!AS GCM QNM T Question.questionTypeCode:cons!AS_GCM_QNM_ENUM_QUESTION_TYPE_CODE_SINGLE_RADIO_BUTTON_TEXT,\n    ),\n    recordType!AS GCM QNM T Question(\n      recordType!AS GCM QNM T Question.questionTemplateId: - 12,\n      recordType!AS GCM QNM T Question.label: \"Max Length 50\",\n      recordType!AS GCM QNM T Question.groupNumber: 2,\n      recordType!AS GCM QNM T Question.orderNumber: 1,\n      recordType!AS GCM QNM T Question.responseRequirements: {\n        recordType!AS GCM QNM T Response Requirement(\n          recordType!AS GCM QNM T Response Requirement.requirementTypeCode: cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_MAX_CHAR_LENGTH,\n          recordType!AS GCM QNM T Response Requirement.requirementValue: \"50\"\n        )\n      },\n      recordType!AS GCM QNM T Question.questionCategoryTemplateId: - 5,\n      recordType!AS GCM QNM T Question.isActive: true,\n      recordType!AS GCM QNM T Question.questionTypeCode: cons!AS_GCM_QNM_ENUM_QUESTION_TYPE_CODE_SINGLE_RADIO_BUTTON_TEXT,\n    )\n  },\n  recordType!AS GCM QNM T Questionnaire.isActive: true,\n  recordType!AS GCM QNM T Questionnaire.createdBy: \"appian.administrator\",\n  recordType!AS GCM QNM T Questionnaire.createdDatetime: now(),\n  recordType!AS GCM QNM T Questionnaire.modifiedBy: \"appian.administrator\",\n  recordType!AS GCM QNM T Questionnaire.modifiedDatetime: now()\n)"
    },
    "_a-0000e460-9d93-8000-9bc1-011c48011c48_599918-gcm": {
      "name": "AS_GCM_QNM_VD_evaluateResponseRequirementsForField",
      "type": "Expression Rule",
      "sail_code": "cast(\n  rule!AS_CO_TYPE_TextList(),\n  if(\n    isnull(\n      ri!question.responseRequirements\n    ),\n    {},\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: index(\n        ri!question.responseRequirements,\n        wherecontains(\n          ri!fieldKey,\n          ri!question.responseRequirements.fieldKey\n        ),\n        {}\n      ),\n      expression: rule!AS_GCM_QNM_VD_evaluateResponseRequirement(\n        question: ri!question,\n        questionMetadata: ri!questionMetadata,\n        responseRequirement: fv!item,\n        returnValidationMessage: ri!returnValidationMessage\n      )\n    )\n  )\n)"
    },
    "_a-0000e3ff-a5bc-8000-9ba8-011c48011c48_39082": {
      "name": "AS_CO_UT_booleanDefaultTrue",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  if(\n    isnull(ri!boolean),\n    true,\n    ri!boolean\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_174191": {
      "name": "AS_CO_UT_getTypeNamespace",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  extract(ri!type, \"{\", \"}\")\n)"
    },
    "_a-0000e471-623a-8000-9bc3-011c48011c48_666404-gcm": {
      "name": "AS_GCM_QNM_UT_calculateQuestionRequiredAndValidMetadata",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!questionMetadata: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_QuestionMetadata'(\n    questionId: ri!question.questionId,\n    showWhen: ri!questionMetadata.showWhen,\n    required: if(\n      ri!questionMetadata.showWhen,\n      rule!AS_GCM_QNM_UT_required(\n        question: ri!question,\n        applicableQuestions: ri!applicableQuestions,\n        applicableQuestionsMetadata: ri!applicableQuestionsMetadata,\n        fieldKey: null\n      ),\n      false\n    ),\n    fieldMetadata: #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!questionMetadata.fieldMetadata,\n      expression: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_FieldMetadata'(\n        fieldKey: fv!item.fieldKey,\n        showWhen: fv!item.showWhen,\n        required: if(\n          fv!item.showWhen,\n          rule!AS_GCM_QNM_UT_required(\n            question: ri!question,\n            applicableQuestions: ri!applicableQuestions,\n            applicableQuestionsMetadata: ri!applicableQuestionsMetadata,\n            fieldKey: fv!item.fieldKey\n          ),\n          false\n        ),\n        valid: if(\n          fv!item.showWhen,\n          rule!AS_GCM_QNM_UT_validate(\n            question: ri!question,\n            fieldKey: fv!item.fieldKey\n          ),\n          null\n        )\n      )\n    )\n  ),\n  if(\n    ri!questionMetadata.showWhen,\n    rule!AS_CO_UT_updateCdtFields(\n      cdt: local!questionMetadata,\n      fields: \"valid\",\n      newValues: and(\n        local!questionMetadata.fieldMetadata.valid\n      )\n    ),\n    local!questionMetadata\n  )\n)"
    },
    "_a-0000e8cc-c513-8000-9c0f-011c48011c48_3405575": {
      "name": "AS_GCM_DPL_CO_dropdownField",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!displayValue: displayvalue(\n    ri!value,\n    ri!choiceValues,\n    ri!choiceLabels,\n    null\n  ),\n  if(\n    ri!readOnly,\n    rule!AS_CO_DSP_standardReadOnlyField(\n      label: ri!label,\n      instructions: ri!instructions,\n      value: if(\n        isnull(ri!readOnlyValue),\n        local!displayValue,\n        ri!readOnlyValue\n      ),\n      labelPosition: ri!labelPosition,\n      helpTooltip: ri!helpTooltip,\n      showWhen: ri!showWhen,\n      accessibilityText: ri!accessibilityText\n    ),\n    #\"SYSTEM_SYSRULES_dropdownField_v1\"(\n      label: ri!label,\n      labelPosition: rule!AS_CO_UT_getLabelPosition(\n        label: ri!label,\n        labelPosition: ri!labelPosition,\n        readOnly: ri!readOnly\n      ),\n      data: ri!data,\n      sort: ri!sort,\n      instructions: ri!instructions,\n      helpTooltip: ri!helpTooltip,\n      placeholder: if(\n        ri!noPlaceholder,\n        null,\n        rule!AS_CO_UT_formatFieldEntryPlaceHolder(\n          wrapInMarkers: false(),\n          placeholder: rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!placeholder,\n            replacementValue: rule!AS_CO_UT_displayCommonObjectBundleLabel(\n              bundleKey: \"AS.CO.CommonObjects.lbl_co_2\"\n            )\n          )\n        )\n      ),\n      choiceLabels: ri!choiceLabels,\n      choiceValues: ri!choiceValues,\n      value: if(\n        and(\n          a!isNullOrEmpty(local!displayValue),\n          a!isNullOrEmpty(ri!data)\n        ),\n        null,\n        ri!value\n      ),\n      saveInto: ri!saveInto,\n      showWhen: if(isnull(ri!showWhen), true, ri!showWhen),\n      required: if(ri!readOnly, false, ri!required),\n      requiredMessage: rule!AS_CO_UT_displayRequiredMessage(\n        label: ri!label,\n        requiredMessage: ri!requiredMessage\n      ),\n      disabled: ri!disabled,\n      validations: ri!validations,\n      validationGroup: ri!validationGroup,\n      accessibilityText: ri!accessibilityText,\n      searchDisplay: ri!searchDisplay,\n      marginAbove: ri!marginAbove\n    )\n  )\n)"
    },
    "_a-0000e447-91f4-8000-9bc0-011c48011c48_571333-gcm": {
      "name": "AS_GCM_QNM_UT_fulfilled",
      "type": "Expression Rule",
      "sail_code": "or(\n  /* Null field type indicates that it is set in the backend, and the user is not responsible for filling out this field */\n  rule!AS_CO_UT_isBlank(\n    rule!AS_CO_UT_filterCdtByField(\n      cdt: rule!AS_GCM_QNM_UT_fieldTypes(\n        questionTypeCode: ri!question.questionTypeCode\n      ),\n      field: \"fieldKey\",\n      value: ri!fieldKey\n    )[1].fieldType\n  ),\n  and(\n    length(\n      rule!AS_GCM_QNM_UT_filterToResponsesForQuestionByFieldKey(\n        question: ri!question,\n        fieldKey: ri!fieldKey\n      )\n    ) <> 0,\n    rule!AS_GCM_QNM_VD_evaluateResponseRequirementsForField(\n      question: ri!question,\n      questionMetadata: ri!questionMetadata,\n      fieldKey: ri!fieldKey,\n      returnValidationMessage: false\n    )\n  )\n)"
    },
    "_a-0000ec75-2131-8000-9da0-011c48011c48_13309369": {
      "name": "AS_GCM_QNM_GRD_conditionsForQuestionVisibility",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!sectionalTempQuestions: rule!AS_GCM_filterRecords(\n    records: ri!allTempQuestions,\n    field: recordType!AS GCM QNM T Question.groupNumber,\n    value: ri!sectionNumber\n  ),\n  local!questionsAddedBeforeThisQuestion: rule!AS_CO_UT_indexWhere(\n    value: enumerate(\n      ri!currentTemplateQuestionOrderNumber - 1\n    ) + 1,\n    initialArray: index(\n      local!sectionalTempQuestions,\n      recordType!AS GCM QNM T Question.orderNumber,\n      null\n    ),\n    finalArray: local!sectionalTempQuestions\n  ),\n  {\n    #\"SYSTEM_SYSRULES_gridLayout\"(\n      label: \"Conditional Logic\",\n      labelPosition: \"COLLAPSED\",\n      headerCells: {\n        #\"SYSTEM_SYSRULES_gridLayoutHeaderCell\"(\n          label: \"Question\"\n        ),\n        #\"SYSTEM_SYSRULES_gridLayoutHeaderCell\"(\n          label: \"\"\n        ),\n        #\"SYSTEM_SYSRULES_gridLayoutHeaderCell\"(\n          label: \"\"\n        ),\n        #\"SYSTEM_SYSRULES_gridLayoutHeaderCell\"(label: \"\")\n      },\n      columnConfigs: {\n        #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"DISTRIBUTE\", weight: 3),\n        #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"DISTRIBUTE\", weight: 2),\n        #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"DISTRIBUTE\", weight: 3),\n        #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"ICON\"),\n\n      },\n      rows: #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!conditionalGridData,\n        expression: a!localVariables(\n          local!selectedQuestionType: index(\n            rule!AS_CO_UT_indexWhere(\n              value: index(fv!item, \"questionTemplateId\", \"\"),\n              initialArray: local!questionsAddedBeforeThisQuestion[recordType!AS GCM QNM T Question.questionTemplateId],\n              finalArray: local!questionsAddedBeforeThisQuestion\n            ),\n            recordType!AS GCM QNM T Question.questionTypeCode,\n            null\n          ),\n          local!currentConfiguration: index(\n            rule!AS_CO_UT_indexWhere(\n              value: local!selectedQuestionType,\n              initialArray: ri!conditionalConfigMap.questionTypecode,\n              finalArray: ri!conditionalConfigMap\n            ),\n            1,\n            {}\n          ),\n          local!operatorMap: index(\n            local!currentConfiguration,\n            \"operatorMap\",\n            {}\n          ),\n          /* Save the date value in the json format */\n          #\"SYSTEM_SYSRULES_gridRowLayout\"(\n            id: fv!index,\n            contents: {\n              rule!AS_GCM_DPL_CO_dropdownField(\n                label: \"Question\",\n                required: true,\n                choiceLabels: local!questionsAddedBeforeThisQuestion[recordType!AS GCM QNM T Question.label],\n                choiceValues: local!questionsAddedBeforeThisQuestion[recordType!AS GCM QNM T Question.questionTemplateId],\n                placeholder: \"\",\n                value: fv!item.questionTemplateId,\n                saveInto: {\n                  fv!item.questionTemplateId,\n                  if(\n                    rule!AS_CO_UT_isBlank(fv!item.questionTemplateId),\n                    a!save(\n                      {\n                        fv!item.requirementTypeCode,\n                        fv!item.value\n                      },\n                      null\n                    ),\n                    null\n                  )\n                },\n                validationGroup: cons!AS_GCM_QNM_TXT_VALIDATION_GROUP_ADD_QUESTION\n              ),\n              rule!AS_GCM_DPL_CO_dropdownField(\n                label: \"\",\n                required: true,\n                choiceLabels: index(local!operatorMap, \"choiceLabels\", {}),\n                choiceValues: index(local!operatorMap, \"choiceValues\", {}),\n                placeholder: \"\",\n                value: fv!item.requirementTypeCode,\n                saveInto: {\n                  fv!item.requirementTypeCode,\n                  if(\n                    rule!AS_CO_UT_isBlank(fv!item.requirementTypeCode),\n                    a!save(fv!item.value, null),\n                    {}\n                  )\n                },\n                validationGroup: cons!AS_GCM_QNM_TXT_VALIDATION_GROUP_ADD_QUESTION,\n                disabled: a!isNullOrEmpty(fv!Item.questionTemplateId)\n              ),\n              if(\n                a!isNullOrEmpty(local!currentConfiguration),\n                #\"SYSTEM_SYSRULES_textField\"(\n                  disabled: true,\n                  labelPosition: \"COLLAPSED\",\n                  placeholder: \"\"\n                ),\n                local!currentConfiguration.responseInterface(\n                  bundle: ri!bundle,\n                  selectedTemplateQuestion: rule!AS_CO_UT_indexWhere(\n                    value: fv!item.questionTemplateId,\n                    initialArray: local!questionsAddedBeforeThisQuestion[recordType!AS GCM QNM T Question.questionTemplateId],\n                    finalArray: local!questionsAddedBeforeThisQuestion\n                  ),\n                  value: fv!Item.value,\n                  saveInto: fv!item.value\n                )\n              ),\n              #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n                buttons: {\n                  #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                    label: if(\n                      cons!AS_GCM_TOGGLE_AUTOMATION_TESTING_ENABLED,\n                      \"Remove\",\n                      {}\n                    ),\n                    disabled: length({ ri!conditionalGridData }) = 1,\n                    style: \"LINK\",\n                    value: fv!index,\n                    saveInto: {\n                      a!save(\n                        ri!conditionalGridData,\n                        remove(ri!conditionalGridData, save!value)\n                      )\n                    },\n                    size: \"SMALL\",\n                    icon: \"close\",\n                    tooltip: \"Remove\" & \" \" & index(\n                      rule!AS_CO_UT_indexWhere(\n                        value: fv!item.questionTemplateId,\n                        initialArray: local!questionsAddedBeforeThisQuestion[recordType!AS GCM QNM T Question.questionTemplateId],\n                        finalArray: local!questionsAddedBeforeThisQuestion\n                      ),\n                      recordType!AS GCM QNM T Question.label,\n                      null\n                    ),\n                    width: \"MINIMIZE\",\n                    color: if(\n                      length({ ri!conditionalGridData }) = 1,\n                      \"SECONDARY\",\n                      \"NEGATIVE\"\n                    )\n                  )\n                }\n              )\n            }\n          )\n        )\n      ),\n      addRowLink: #\"SYSTEM_SYSRULES_dynamicLink\"(\n        label: \"Add Condition\",\n        showWhen: count(ri!conditionalGridData) < cons!AS_GCM_QNM_INT_LIMIT_FOR_PRECEDENT_QUESTION_CONDITIONS_IN_QUESTIONNAIRE,\n        saveInto: a!save(\n          ri!conditionalGridData,\n          append(\n            ri!conditionalGridData,\n            a!map(precedentId: null)\n          )\n        )\n      )\n    )\n  }\n)"
    },
    "_a-0000e61a-f20f-8000-9ba5-011c48011c48_53662": {
      "name": "AS_GAM_CO_I18N_UT_displayLabel",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Text',\n  a!localVariables(\n    local!result: a!refreshVariable(\n      value: if(\n        rule!AS_CO_UT_isBlank(ri!bundleKey),\n        null,\n        if(\n          rule!AS_CO_UT_isBlank(ri!arguments),\n          rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!bundle[ri!bundleKey],\n            replacementValue: ri!bundleKey\n          ),\n          rule!AS_GAM_CO_I18N_UT_replaceArguments(\n            bundleKey: ri!bundle[ri!bundleKey],\n            arguments: ri!arguments\n          )\n        )\n      ),\n      refreshAlways: true\n    ),\n    local!result\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75708": {
      "name": "AS_CO_UT_sortCdtBySecondaryArray",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  reduce(\n    rule!AS_CO_UT_zINTERNAL_sortCdtBySecondaryArray_handler(\n      previous: _,\n      cdt: ri!cdt,\n      field: ri!field,\n      value: _\n    ),\n    rule!AS_CO_UT_initializeBlankLocalVariable(\n      typeOf: ri!cdt\n    ),\n    ri!array\n  )\n)"
    },
    "_a-0000e460-9d93-8000-9bc1-011c48011c48_597237-gcm": {
      "name": "AS_GCM_QNM_REF_responseRequirements",
      "type": "Expression Rule",
      "sail_code": "/* Unlike other ref data backed by expression rules, response requirement ref data is not internationalized here at its definition.\nThis rule is often used in scenarios where display is not relevant,\nso we account for i18n specifically where display is necessary for efficiency */\n{\n  {\n    requirementTypeCode: cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_SELECTION_EXCLUDES,\n    label: \"ref_NotEquals\",\n    description: \"txt_SelectionExcludesDescription\",\n    evaluationRule: rule!AS_GCM_QNM_VD_evaluateResponseRequirement_SELECTION_EXCLUDES,\n    isActive: true\n  },\n  {\n    requirementTypeCode: cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_SELECTION_INCLUDES,\n    label: \"ref_Equals\",\n    description: \"txt_SelectionIncludesDescription\",\n    evaluationRule: rule!AS_GCM_QNM_VD_evaluateResponseRequirement_SELECTION_INCLUDES,\n    isActive: true\n  },\n  {\n    requirementTypeCode: cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_MAX_RESPONSES,\n    label: \"lbl_MaxResponses\",\n    description: \"txt_MaxResponsesDescription\",\n    evaluationRule: rule!AS_GCM_QNM_VD_evaluateResponseRequirement_MAX_RESPONSES,\n    isActive: true\n  },\n  {\n    requirementTypeCode: cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_MIN_RESPONSES,\n    label: \"lbl_MinResponses\",\n    description: \"txt_MinResponsesDescription\",\n    evaluationRule: rule!AS_GCM_QNM_VD_evaluateResponseRequirement_MIN_RESPONSES,\n    isActive: true\n  },\n  {\n    requirementTypeCode: cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_MIN_CHAR_LENGTH,\n    label: \"lbl_MinCharLength\",\n    description: \"txt_MinCharLengthDescription\",\n    evaluationRule: rule!AS_GCM_QNM_VD_evaluateResponseRequirement_MIN_CHAR_LENGTH,\n    isActive: true\n  },\n  {\n    requirementTypeCode: cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_MAX_CHAR_LENGTH,\n    label: \"lbl_MaxCharLength\",\n    description: \"txt_MaxCharLengthDescription\",\n    evaluationRule: rule!AS_GCM_QNM_VD_evaluateResponseRequirement_MAX_CHAR_LENGTH,\n    isActive: true\n  },\n  {\n    requirementTypeCode: cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_DOCUMENT_TYPE,\n    label: \"lbl_DocumentType\",\n    description: \"txt_DocumentTypeDescription\",\n    evaluationRule: rule!AS_GCM_QNM_VD_evaluateResponseRequirement_DOCUMENT_TYPE,\n    isActive: true\n  }\n}"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_31049-gcm": {
      "name": "AS_GCM_QNM_UT_showWhen",
      "type": "Expression Rule",
      "sail_code": "rule!AS_GCM_QNM_UT_evaluateQuestionPrecedentSet(\n  questionPrecedentSet: if(\n    isnull(\n      ri!question.isDisplayedPrecedentSets\n    ),\n    null,\n    index(\n      index(\n        ri!question.isDisplayedPrecedentSets,\n        wherecontains(\n          ri!fieldKey,\n          ri!question.isDisplayedPrecedentSets.fieldKey\n        ),\n        null\n      ),\n      /* There must be at most one top level precedent set per field key */\n      1,\n      null\n    )\n  ),\n  applicableQuestions: ri!applicableQuestions,\n  applicableQuestionsMetadata: ri!applicableQuestionsMetadata\n)"
    },
    "_a-0000e643-f7f1-8000-9bca-011c48011c48_1276613": {
      "name": "AS_GCM_QNM_CPS_Template_Questionnaire_CreateUpdateClone",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!bundle: rule!AS_GCM_CO_UT_loadBundleFromFolder({}),\n  local!questionnaire: a!match(\n    value: ri!questionnaire,\n    whenTrue: ri!isEditQuestionnaire,\n    then: fv!value,\n    whenTrue: ri!isCloneQuestionnaire,\n    then: rule!AS_GCM_QNM_Template_Questionnaire_Clone(\n      originalQuestionnaire: fv!value,\n      bundle: local!bundle\n    ),\n    default: recordType!AS GCM QNM T Questionnaire(\n      recordType!AS GCM QNM T Questionnaire.questionCategories: recordType!AS GCM QNM T Question Category(\n        recordType!AS GCM QNM T Question Category.questionCategoryTemplateId: - 1,\n        recordType!AS GCM QNM T Question Category.displayOrder: 1,\n        recordType!AS GCM QNM T Question Category.isActive: true\n      )\n    )\n  ),\n  local!allTempQuestions: a!refreshVariable(\n    value: local!questionnaire[recordType!AS GCM QNM T Questionnaire.questions],\n    refreshOnReferencedVarChange: false\n  ),\n  /*This local variable should not be changed in the entire form*/\n  local!allTempQuestionsFromDB: a!refreshVariable(\n    value: local!questionnaire[recordType!AS GCM QNM T Questionnaire.questions],\n    refreshOnReferencedVarChange: false\n  ),\n  local!allSections: a!refreshVariable(\n    value: local!questionnaire[recordType!AS GCM QNM T Questionnaire.questionCategories],\n    refreshOnReferencedVarChange: false\n  ),\n  /*this local constructs the template question on load and when user clicks on add/edit question/section link*/\n  local!templateQuestionBeingEdited: if(\n    or(\n      ri!isEditQuestionnaire,\n      ri!isCloneQuestionnaire\n    ),\n    null,\n    recordType!AS GCM QNM T Question(\n      recordType!AS GCM QNM T Question.questionTemplateId: - 1,\n      recordType!AS GCM QNM T Question.questionCategoryTemplateId: - 1,\n      recordType!AS GCM QNM T Question.orderNumber: 1,\n      recordType!AS GCM QNM T Question.groupNumber: 1,\n      recordType!AS GCM QNM T Question.questionVisibility: cons!AS_GCM_QNM_ENUM_TEMPLATE_QUESTION_VISIBILITY_ALWAYS_VISIBLE\n    )\n  ),\n  /*this local stores the previous question value when user clicks on edit*/\n  local!oldTempQuestion: local!templateQuestionBeingEdited,\n  local!conditionalConfigMap: rule!AS_GCM_QNM_conditionalConfigMap(bundle: local!bundle),\n  local!isPreviewQNR: false,\n  local!activeSectionMap: if(\n    or(\n      ri!isEditQuestionnaire,\n      ri!isCloneQuestionnaire\n    ),\n    a!map(\n      section: 1,\n      isAddQuestion: false,\n      isEditQuestion: false\n    ),\n    a!map(\n      section: 1,\n      isAddQuestion: true,\n      isEditQuestion: false\n    )\n  ),\n  local!disableOtherLinkButtons: or(\n    local!activeSectionMap.isAddQuestion,\n    local!activeSectionMap.isEditQuestion\n  ),\n  if(\n    local!isPreviewQNR,\n    rule!AS_GCM_QNM_FM_previewQuestionnaireTemplate(\n      previewQuestionnaire: local!questionnaire,\n      bundle: local!bundle,\n      isPreviewQNR: local!isPreviewQNR,\n      allTemplateQuestions: local!allTempQuestions,\n      allSections: local!allSections,\n      questionnaire: ri!questionnaire\n    ),\n    #\"SYSTEM_SYSRULES_formLayout_v1\"(\n      contents: {\n        #\"SYSTEM_SYSRULES_columnsLayout\"(\n          columns: {\n            #\"SYSTEM_SYSRULES_columnLayout\"(\n              contents: {\n                #\"SYSTEM_SYSRULES_headingField\"(\n                  text: rule!AS_GAM_CO_I18N_UT_displayLabel(\n                    bundle: local!bundle,\n                    bundleKey: if(\n                      ri!isEditQuestionnaire,\n                      \"lbl_EditQuestionnaire\",\n                      if(\n                        ri!isCloneQuestionnaire,\n                        \"lbl_CloneQuestionnaire\",\n                        \"lbl_CreateQuestionnaire\"\n                      )\n                    )\n                  ),\n                  size: \"MEDIUM_PLUS\",\n                  fontWeight: \"SEMI_BOLD\",\n                  marginBelow: \"EVEN_LESS\",\n                  headingTag: \"H1\",\n                  color: \"STANDARD\"\n                ),\n                #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                  labelPosition: \"COLLAPSED\",\n                  value: \"Required fields are marked with an asterisk (*)\",\n                  marginBelow: \"STANDARD\"\n                )\n              }\n            )\n          },\n          marginBelow: \"NONE\"\n        ),\n        #\"SYSTEM_SYSRULES_horizontalLine\"(),\n        #\"SYSTEM_SYSRULES_columnsLayout\"(\n          columns: {\n            #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}),\n            #\"SYSTEM_SYSRULES_columnLayout\"(\n              contents: {\n                rule!AS_GCM_QNM_CRD_questionnaireTemplateProperties(\n                  bundle: local!bundle,\n                  questionnaireTemplate: local!questionnaire\n                ),\n                rule!AS_GCM_QNM_CPS_questionnaireTemplateContents(\n                  bundle: local!bundle,\n                  allTemplateQuestions: local!allTempQuestions,\n                  oldTemplateQuestion: local!oldTempQuestion,\n                  templateQuestionBeingEdited: local!templateQuestionBeingEdited,\n                  conditionalConfigMap: local!conditionalConfigMap,\n                  activeSectionMap: local!activeSectionMap,\n                  disableOtherLinkButtons: local!disableOtherLinkButtons,\n                  allSections: local!allSections,\n                  allTemplateQuestionsFromDB: local!allTempQuestionsFromDB\n                )\n              },\n              width: \"WIDE_PLUS\"\n            ),\n            #\"SYSTEM_SYSRULES_columnLayout\"(contents: {})\n          },\n          alignVertical: \"MIDDLE\",\n          marginAbove: \"STANDARD\"\n        )\n      },\n      skipAutoFocus: true,\n      buttons: #\"SYSTEM_SYSRULES_ButtonLayout\"(\n        primaryButtons: {\n          /*Preview*/\n          #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n            label: \"Preview\",\n            saveInto: {\n              a!save(\n                local!questionnaire[recordType!AS GCM QNM T Questionnaire.questions],\n                local!allTempQuestions\n              ),\n              a!save(\n                local!questionnaire[recordType!AS GCM QNM T Questionnaire.questionCategories],\n                local!allSections\n              ),\n              a!save(local!isPreviewQNR, true)\n            },\n            submit: false,\n            size: \"SMALL\",\n            style: \"OUTLINE\",\n            color: \"ACCENT\",\n            disabled: rule!AS_CO_UT_isBlank(local!allTempQuestions),\n            showWhen: local!isPreviewQNR = false,\n            validate: true,\n            validationGroup: cons!AS_GCM_QNM_TXT_VALIDATION_GROUP_PUBLISH_OR_PREVIEW_QUESTIONNAIRE\n          ),\n          /*Publish*/\n          #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n            label: \"Publish\",\n            saveInto: {\n              a!save(\n                ri!userAction,\n                cons!AS_CO_ENUM_USER_ACTION_SUBMIT\n              ),\n              a!save(\n                local!questionnaire[recordType!AS GCM QNM T Questionnaire.questions],\n                local!allTempQuestions\n              ),\n              a!save(\n                local!questionnaire[recordType!AS GCM QNM T Questionnaire.questionCategories],\n                local!allSections\n              ),\n              a!save(ri!questionnaire, local!questionnaire),\n              /*Below AS_GCM_MTR_SAVE_addCategoryToQuestionnaire metric rule is added to account for first section which is added by default*/\n              if(\n                ri!isEditQuestionnaire,\n                {},\n                rule!AS_GCM_MTR_SAVE_addCategoryToQuestionnaire()\n              ),\n              rule!AS_GCM_MTR_SAVE_createQuestionnaire()\n            },\n            submit: true,\n            size: \"SMALL\",\n            style: \"SOLID\",\n            color: \"ACCENT\",\n            disabled: rule!AS_CO_UT_isBlank(local!allTempQuestions),\n            validate: true,\n            validationGroup: cons!AS_GCM_QNM_TXT_VALIDATION_GROUP_PUBLISH_OR_PREVIEW_QUESTIONNAIRE\n          )\n        },\n        secondaryButtons: /*Cancel*/\n        #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          label: \"Cancel\",\n          saveInto: a!save(\n            ri!userAction,\n            cons!AS_CO_ENUM_USER_ACTION_CANCEL\n          ),\n          submit: true(),\n          size: \"SMALL\",\n          style: \"OUTLINE\",\n          color: \"SECONDARY\",\n          showWhen: local!isPreviewQNR = false,\n          validate: false\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e9e2-fe39-8000-9c72-011c48011c48_5802508": {
      "name": "AS_CO_UT_isRecordTypeData",
      "type": "Expression Rule",
      "sail_code": "/*Returns true if the given data is of type recordType, else returns false*/\nif(\n  find(\n    \"urn:com:appian:recordtype\",\n    toxml(ri!data)\n  ) <> 0,\n  true(),\n  false()\n)"
    },
    "_a-0000e471-623a-8000-9bc3-011c48011c48_662569-gcm": {
      "name": "AS_GCM_QNM_TST_questionnaire",
      "type": "Expression Rule",
      "sail_code": "'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_Questionnaire'(\n  questionCategories: {\n    'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_QuestionCategory'(\n      questionCategoryId: 1,\n      displayOrder: 1,\n      questionCategoryName: \"Category 1\"\n    ),\n    'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_QuestionCategory'(\n      questionCategoryId: 2,\n      displayOrder: 2,\n      questionCategoryName: \"Category 2\"\n    ),\n    'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_QuestionCategory'(\n      questionCategoryId: 3,\n      displayOrder: 3,\n      questionCategoryName: \"Category 3\"\n    ),\n    'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_QuestionCategory'(\n      questionCategoryId: 4,\n      displayOrder: 4,\n      questionCategoryName: \"Category 4\"\n    ),\n    'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_QuestionCategory'(\n      questionCategoryId: 5,\n      displayOrder: 5,\n      questionCategoryName: \"Category 5\"\n    )\n  },\n  questions: {\n    'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_Question'(\n      questionId: 4,\n      label: \"Radio Button Parent Question\",\n      groupNumber: 1,\n      orderNumber: 1,\n      responseOptions: {\n        'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_Response'(\n          label: \"Yes\",\n          value: \"Yes\"\n        ),\n        'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_Response'(\n          label: \"No\",\n          value: \"No\"\n        )\n      },\n      questionCategoryId: 3,\n      questionTypeCode: \"RADIO_BUTTON_TEXT\"\n    ),\n    'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_Question'(\n      questionId: 5,\n      label: \"Radio Button Child Question\",\n      groupNumber: 1,\n      orderNumber: 2,\n      responseOptions: {\n        'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_Response'(\n          label: \"Yes\",\n          value: \"Yes\"\n        ),\n        'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_Response'(\n          label: \"No\",\n          value: \"No\"\n        )\n      },\n      isDisplayedPrecedentSets: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_QuestionPrecedentSet'(\n        operator: cons!AS_GCM_QNM_ENUM_PRECEDENT_OPERATOR_AND,\n        questionPrecedents: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_QuestionPrecedent'(\n          questionId_precedent: 4,\n          responseRequirement: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_ResponseRequirement'(\n            requirementTypeCode: cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_SELECTION_INCLUDES,\n            requirementValue: \"Yes\"\n          )\n        )\n      ),\n      questionCategoryId: 3,\n      questionTypeCode: \"RADIO_BUTTON_TEXT\"\n    ),\n    'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_Question'(\n      questionId: 13,\n      label: \"Text Dropdown\",\n      groupNumber: 1,\n      orderNumber: 1,\n      questionCategoryId: 5,\n      questionTypeCode: \"DROPDOWN_TEXT\",\n      responseOptions: {\n        'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_Response'(\n          label: \"Option 1\",\n          value: \"OPTION_1\"\n        ),\n        'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_Response'(\n          label: \"Option 2\",\n          value: \"OPTION_2\"\n        ),\n        'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_Response'(\n          label: \"Option 3\",\n          value: \"OPTION_3\"\n        )\n      }\n    ),\n    'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_Question'(\n      questionId: 14,\n      label: \"Text Dropdown Min Response 2\",\n      groupNumber: 1,\n      orderNumber: 1,\n      questionCategoryId: 5,\n      questionTypeCode: \"DROPDOWN_TEXT\",\n      responseRequirements: {\n        'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_ResponseRequirement'(\n          requirementTypeCode: cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_MIN_RESPONSES,\n          requirementValue: \"2\"\n        )\n      },\n      responseOptions: {\n        'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_Response'(\n          label: \"Option 1\",\n          value: \"OPTION_1\"\n        ),\n        'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_Response'(\n          label: \"Option 2\",\n          value: \"OPTION_2\"\n        ),\n        'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_Response'(\n          label: \"Option 3\",\n          value: \"OPTION_3\"\n        )\n      }\n    ),\n    'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_Question'(\n      questionId: 15,\n      label: \"Text Dropdown Max Response 1\",\n      groupNumber: 1,\n      orderNumber: 1,\n      questionCategoryId: 5,\n      questionTypeCode: \"DROPDOWN_TEXT\",\n      responseRequirements: {\n        'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_ResponseRequirement'(\n          requirementTypeCode: cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_MAX_RESPONSES,\n          requirementValue: \"1\"\n        )\n      },\n      responseOptions: {\n        'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_Response'(\n          label: \"Option 1\",\n          value: \"OPTION_1\"\n        ),\n        'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_Response'(\n          label: \"Option 2\",\n          value: \"OPTION_2\"\n        ),\n        'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_Response'(\n          label: \"Option 3\",\n          value: \"OPTION_3\"\n        )\n      }\n    )\n  },\n  questionnaireStatusCode: \"QUESTIONNAIRE_STATUS_IN_PROGRESS\",\n  createdBy: \"appian.administrator\",\n  createdDatetime: now(),\n  modifiedBy: \"appian.administrator\",\n  modifiedDatetime: now()\n)"
    },
    "_a-0000e643-f7f1-8000-9bca-011c48011c48_1262242": {
      "name": "AS_GCM_QNM_CPS_displayQuestionsSection",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!categoriesMetaDataMaps: #\"SYSTEM_SYSRULES_forEach\"(\n    items: rule!AS_CO_UT_sortCdtDistinct(\n      cdt: ri!questionnaire.questionCategories,\n      field: \"displayOrder\",\n      ascending: true()\n    ),\n    expression: a!localVariables(\n      local!questionInGroupIndices: wherecontains(\n        fv!item.questionCategoryId,\n        rule!AS_CO_UT_indexPath(\n          cdt: ri!questionnaire,\n          field: \"questions.questionCategoryId\",\n          indexDefault: null\n        )\n      ),\n      local!questionMetadataInGroupIndices: wherecontains(\n        rule!AS_CO_UT_indexPath(\n          cdt: ri!questionnaire,\n          field: \"questions.questionId\",\n          indexDefault: null\n        )[local!questionInGroupIndices],\n        ri!calculatedQuestionMetadata.questionId\n      ),\n      local!requiredQuestionCount: length(\n        where(\n          ri!calculatedQuestionMetadata[local!questionMetadataInGroupIndices].required\n        )\n      ),\n      local!fulfilledQuestionCount: length(\n        where(\n          ri!calculatedQuestionMetadata[local!questionMetadataInGroupIndices].fulfilled\n        )\n      ),\n      a!map(\n        questionCategoryId: fv!item.questionCategoryId,\n        questionCategoryName: fv!item.questionCategoryName,\n        questionInGroupIndices: local!questionInGroupIndices,\n        questionMetadataInGroupIndices: local!questionMetadataInGroupIndices,\n        isSectionCompleted: local!requiredQuestionCount = local!fulfilledQuestionCount\n      )\n    )\n  ),\n  {\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      labelPosition: \"COLLAPSED\",\n      value: {\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: {\n            rule!AS_GAM_CO_I18N_UT_displayLabel(\n              bundle: ri!bundle,\n              bundleKey: \"txt_OutOfSectionsCompleted\",\n              arguments: {\n                length(\n                  where(\n                    local!categoriesMetaDataMaps.isSectionCompleted\n                  )\n                ),\n                length(local!categoriesMetaDataMaps)\n              }\n            )\n          },\n          color: cons!AS_GCM_HEX_CODE_GRAY_3\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!categoriesMetaDataMaps,\n      expression: a!localVariables(\n        local!isCollapsed: false,\n        {\n          #\"SYSTEM_SYSRULES_cardLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                items: {\n                  #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                    item: #\"SYSTEM_SYSRULES_headingField\"(\n                      text: fv!item.questionCategoryName,\n                      size: \"SMALL\",\n                      headingTag: \"H2\",\n                      color: \"STANDARD\",\n                      fontWeight: \"BOLD\",\n                      marginBelow: \"NONE\"\n                    )\n                  ),\n                  #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                    item: if(\n                      fv!item.isSectionCompleted,\n                      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                        labelPosition: \"COLLAPSED\",\n                        value: {\n                          #\"SYSTEM_SYSRULES_richTextIcon\"(\n                            icon: \"check-circle\",\n                            color: cons!AS_GCM_HEX_CODE_QUESTION_OR_SECTION_COMPLETE_GREEN\n                          ),\n                          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                            text: {\n                              char(32),\n                              \"Section Complete\"\n                            },\n                            color: cons!AS_GCM_HEX_CODE_QUESTION_OR_SECTION_COMPLETE_GREEN,\n                            style: \"STRONG\"\n                          )\n                        }\n                      ),\n                      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                        labelPosition: \"COLLAPSED\",\n                        value: {\n                          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                            text: \"Section Incomplete\",\n                            color: cons!AS_GCM_HEX_CODE_GRAY_3,\n                            style: \"PLAIN\"\n                          )\n                        }\n                      )\n                    ),\n                    width: \"MINIMIZE\"\n                  ),\n                  #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                    item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                      labelPosition: \"COLLAPSED\",\n                      value: {\n                        #\"SYSTEM_SYSRULES_richTextIcon\"(\n                          icon: \"angle-right\",\n                          altText: rule!AS_GAM_CO_I18N_UT_displayLabel(\n                            bundle: ri!bundle,\n                            bundleKey: \"acs_ExpandSection\",\n                            arguments: fv!item.questionCategoryName\n                          ),\n                          link: #\"SYSTEM_SYSRULES_dynamicLink\"(value: false, saveInto: local!isCollapsed),\n                          linkStyle: \"STANDALONE\",\n                          color: \"ACCENT\"\n                        )\n                      }\n                    ),\n                    width: \"MINIMIZE\"\n                  )\n                },\n                alignVertical: \"MIDDLE\"\n              )\n            },\n            height: \"AUTO\",\n            showWhen: local!isCollapsed,\n            style: cons!AS_GCM_HEX_CODE_GRAY_0,\n            shape: \"SEMI_ROUNDED\",\n            padding: \"STANDARD\",\n            marginBelow: \"LESS\",\n            showBorder: false\n          ),\n          #\"SYSTEM_SYSRULES_cardLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                items: {\n                  #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                    item: #\"SYSTEM_SYSRULES_headingField\"(\n                      text: fv!item.questionCategoryName,\n                      size: \"SMALL\",\n                      headingTag: \"H2\",\n                      color: \"STANDARD\",\n                      fontWeight: \"BOLD\",\n                      marginBelow: \"NONE\"\n                    )\n                  ),\n                  #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                    item: if(\n                      fv!item.isSectionCompleted,\n                      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                        labelPosition: \"COLLAPSED\",\n                        value: {\n                          #\"SYSTEM_SYSRULES_richTextIcon\"(\n                            icon: \"check-circle\",\n                            color: cons!AS_GCM_HEX_CODE_QUESTION_OR_SECTION_COMPLETE_GREEN\n                          ),\n                          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                            text: {\n                              char(32),\n                              \"Section Complete\"\n                            },\n                            color: cons!AS_GCM_HEX_CODE_QUESTION_OR_SECTION_COMPLETE_GREEN,\n                            style: \"STRONG\"\n                          )\n                        }\n                      ),\n                      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                        labelPosition: \"COLLAPSED\",\n                        value: {\n                          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                            text: \"Section Incomplete\",\n                            color: cons!AS_GCM_HEX_CODE_GRAY_3,\n                            style: \"PLAIN\"\n                          )\n                        }\n                      )\n                    ),\n                    width: \"MINIMIZE\"\n                  ),\n                  #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                    item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                      labelPosition: \"COLLAPSED\",\n                      value: {\n                        #\"SYSTEM_SYSRULES_richTextIcon\"(\n                          icon: \"angle-down\",\n                          altText: rule!AS_GAM_CO_I18N_UT_displayLabel(\n                            bundle: ri!bundle,\n                            bundleKey: \"acs_CollapseSection\",\n                            arguments: fv!item.questionCategoryName\n                          ),\n                          link: #\"SYSTEM_SYSRULES_dynamicLink\"(value: true, saveInto: local!isCollapsed),\n                          linkStyle: \"STANDALONE\",\n                          color: \"ACCENT\"\n                        )\n                      }\n                    ),\n                    width: \"MINIMIZE\"\n                  )\n                },\n                alignVertical: \"MIDDLE\",\n                marginBelow: \"STANDARD\"\n              ),\n              rule!AS_GCM_QNM_CPS_displayQuestionGroup(\n                calculatedQuestionGroupMetadata: ri!calculatedQuestionMetadata[fv!item.questionMetadataInGroupIndices],\n                readOnly: ri!readOnly,\n                bundle: ri!bundle,\n                questionsInGroup: ri!questionnaire.questions[fv!item.questionInGroupIndices]\n              )\n            },\n            height: \"AUTO\",\n            showWhen: local!isCollapsed <> true,\n            style: cons!AS_GCM_HEX_CODE_GRAY_0,\n            shape: \"SEMI_ROUNDED\",\n            padding: \"STANDARD\",\n            marginBelow: \"LESS\",\n            showBorder: false\n          )\n        }\n      )\n    )\n  }\n)"
    },
    "_a-0000e3d1-f4dc-8000-9ba4-011c48011c48_143475": {
      "name": "AS_CO_UT_initializeBlankLocalVariable",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_cast(\n  type: ri!type,\n  typeOf: ri!typeOf,\n  value: null\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73536": {
      "name": "AS_CO_UT_isBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  length(a!flatten(ri!value)) = 0\n)"
    },
    "_a-0000e3ff-79a3-8000-7714-45ef9045ef90_8682-adt": {
      "name": "AS_ADT_BL_auditConfig_SAMPLE_Parent",
      "type": "Expression Rule",
      "sail_code": "/*\nAudit config for 'type!{urn:com:appian:types:AS:ADT}AS_ADT_SAMPLE_Parent'\n*/\n{\n  idField: \"parentId\",\n  foreignIdField:\"foreignId\",\n  simpleFields: {\n    \"text\",\n    \"date\",\n    \"referenceChild.childId\",\n    \"complexChildSingle.text\",\n    \"complexChildSingle.date\",\n    \"complexChildSingle.referenceChild.childId\",\n    \"isActive\"\n  },\n  complexFields: {\n    {\n      fieldName: \"complexChildMultiple\",\n      auditFieldName: \"complexChildMultipleChanges\",\n      idField: \"childId\",\n      simpleFields: {\n        \"text\",\n        \"date\",\n        \"referenceChild.childId\"\n      },\n      complexFields: {}\n    }\n  }\n}"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_40039-gcm": {
      "name": "AS_GCM_QNM_UT_buildQuestions_TemplateFromReference",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!questionsReference,\n  expression: recordType!AS GCM QNM T Question(\n    recordType!AS GCM QNM T Question.questionReferenceId:  fv!item[recordType!AS GCM QNM R Question.questionReferenceId],\n    recordType!AS GCM QNM T Question.questionTypeCode:  fv!item[recordType!AS GCM QNM R Question.questionTypeCode],\n    recordType!AS GCM QNM T Question.label:  fv!item[recordType!AS GCM QNM R Question.defaultLabel],\n    /*instructions: fv!item['recordType!{f0bfb0f8-c45d-425c-8450-802bf04a87cf}AS GCM QNM R Question.fields.{5d1dbd00-ef1f-4e93-aefa-0b824b1d236e}defaultInstructions'],*/\n    recordType!AS GCM QNM T Question.responseOptions:  rule!AS_GCM_QNM_UT_buildResponses_TemplateFromReference(\n      responses_Reference: fv!item[recordType!AS GCM QNM R Question.defaultResponseOptions]\n    ),\n    recordType!AS GCM QNM T Question.responseRequirements:  rule!AS_GCM_QNM_UT_buildResponseRequirements_TemplateFromReference(\n      responseRequirements_Reference: fv!item[recordType!AS GCM QNM R Question.defaultResponseRequirements]\n    ),\n    recordType!AS GCM QNM T Question.isActive:  true\n  )\n)"
    },
    "_a-0000e4b1-2fbc-8000-9bc6-011c48011c48_941315-gcm": {
      "name": "AS_GCM_QNM_ADT_UT_startAuditProcess_Parameters_Questionnaire_Template",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!auditParams: rule!AS_ADT_UT_startAuditProcess_Parameters(\n    newObjects: rule!AS_CO_UT_cast(\n      type: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_T_Questionnaire?list',\n      value: ri!questionnaireTemplate\n    ),\n    originalObjects: rule!AS_CO_UT_cast(\n      type: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_T_Questionnaire?list',\n      value: ri!originalquestionnaireTemplate\n    ),\n    objectType: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_T_Questionnaire',\n    auditDse: cons!AS_GCM_QNM_ENT_A_T_QUESTIONNAIRE,\n    auditConfig: rule!AS_GCM_QNM_ADT_BL_Template_Questionnaire_auditConfig(),\n    username: ri!username\n  ).auditParams,\n  local!questionniareAudit: rule!AS_GAM_ADT_UT_buildAuditEntityData(\n    auditParams: local!auditParams,\n    initiator: ri!username\n  ),\n  if(\n    rule!AS_CO_UT_isBlank(local!questionniareAudit),\n    a!map(\n      newObjects: local!auditParams.newObjects,\n      audit: {}\n    ),\n    a!map(\n      newObjects: local!auditParams.newObjects,\n      audit: {\n        entity: cons!AS_GCM_QNM_ENT_A_T_QUESTIONNAIRE,\n        data: local!questionniareAudit\n      }\n    )\n  )\n)"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9760853": {
      "name": "AS_GCM_setRecordFields",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!record),\n  ri!record,\n  a!localVariables(\n    local!allUpdates: rule!AS_CO_UT_rejectNullValuesFromArray(\n      a!flatten(\n        {\n          ri!alwaysOverwrite,\n          ri!childRelationships,\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!neverOverwrite,\n            expression: #\"urn:appian:function:v1:a:update\"(\n              fv!item,\n              \"value\",\n              /*Specifically using this instead of a!defaultValue() to account for the `{null}` value*/\n              rule!AS_CO_UT_replaceNull(\n                nullableValue: ri!record[fv!item.field],\n                replacementValue: fv!item.value\n              )\n            )\n          )\n        }\n      )\n    ),\n    local!onlyChangedUpdates: a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!allUpdates,\n        expression: if(\n          or(\n            tostring(ri!record[fv!item.field]) = tostring(fv!item.value),\n            toboolean(fv!item.applyWhen) = false\n          ),\n          {},\n          fv!item\n        )\n      )\n    ),\n    if(\n      a!isNullOrEmpty(local!onlyChangedUpdates),\n      ri!record,\n      #\"urn:appian:function:v1:a:update\"(\n        data: ri!record,\n        index: local!onlyChangedUpdates.field,\n        value: local!onlyChangedUpdates.value\n      )\n    )\n  )\n)"
    },
    "_a-0000eb28-f476-8000-9d09-011c48011c48_9642015": {
      "name": "AS_GCM_DPL_CO_INP_paragraphField",
      "type": "Interface",
      "sail_code": "if(\n  ri!readOnly,\n  rule!AS_CO_DSP_standardReadOnlyField(\n    label: ri!label,\n    instructions: ri!instructions,\n    value: ri!value,\n    labelPosition: ri!labelPosition,\n    helpTooltip: ri!helpTooltip,\n    showWhen: ri!showWhen,\n    accessibilityText: ri!accessibilityText,\n    align: null,\n    showHyphenIfValueNull: ri!showHyphenIfValueNull\n  ),\n  #\"SYSTEM_SYSRULES_paragraphField\"(\n    label: ri!label,\n    labelPosition: rule!AS_CO_UT_getLabelPosition(\n      label: ri!label,\n      labelPosition: ri!labelPosition,\n      readOnly: false\n    ),\n    height: ri!height,\n    instructions: ri!instructions,\n    helpTooltip: ri!helpTooltip,\n    placeholder: ri!placeholder,\n    value: ri!value,\n    /* We are using nested saveIntos to automatically perform a trim on any value */\n    /* before executing the actual saves */\n    /* Saves can be nested in this format to allow for better reusability */\n    saveInto: a!save(ri!saveInto, trim(save!value)),\n    showWhen: ri!showWhen,\n    required: if(ri!readOnly, false, ri!required),\n    requiredMessage: rule!AS_CO_UT_displayRequiredMessage(\n      label: ri!label,\n      requiredMessage: ri!requiredMessage\n    ),\n    readOnly: ri!readOnly,\n    disabled: ri!disabled,\n    validations: if(ri!readOnly, {}, ri!validations),\n    validationGroup: ri!validationGroup,\n    accessibilitytext: ri!accessibilityText,\n    characterLimit: ri!characterLimit,\n    showCharacterCount: a!defaultValue(\n      value: ri!showCharacterCount,\n      default: false()\n    )\n  )\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13142950": {
      "name": "AS_GCM_QNM_CPS_templateQuestionConditionalVisibility",
      "type": "Interface",
      "sail_code": "{\n  #\"SYSTEM_SYSRULES_columnsLayout\"(\n    columns: {\n      #\"SYSTEM_SYSRULES_columnLayout\"(\n        contents: {\n          rule!AS_GCM_CO_customisedLabelForRequiredInput(\n            label: \"Visibility\"\n          ),\n          rule!AS_CO_CP_radioButtonField(\n            label: \"Visibility\",\n            required: true,\n            disabled: or(\n              tointeger(\n                ri!templateQuestion[recordType!AS GCM QNM T Question.orderNumber]\n              ) = 1,\n              a!isNullOrEmpty(\n                ri!templateQuestion[recordType!AS GCM QNM T Question.questionReferenceId]\n              )\n            ),\n            choiceLabels: {\n              \"Always Visible\",\n              \"Visible on Conditions\"\n            },\n            choiceValues: {\n              cons!AS_GCM_QNM_ENUM_TEMPLATE_QUESTION_VISIBILITY_ALWAYS_VISIBLE,\n              cons!AS_GCM_QNM_ENUM_TEMPLATE_QUESTION_VISIBILITY_VISIBLE_ON_CONDITIONS\n            },\n            value: ri!templateQuestion[recordType!AS GCM QNM T Question.questionVisibility],\n            saveInto: {\n              ri!templateQuestion[recordType!AS GCM QNM T Question.questionVisibility],\n              a!save(\n                ri!conditionalGridData,\n                a!map(precedentId: null)\n              ),\n              a!save(\n                ri!templateQuestion[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets],\n                null\n              ),\n              if(\n                ri!templateQuestion[recordType!AS GCM QNM T Question.questionVisibility] = cons!AS_GCM_QNM_ENUM_TEMPLATE_QUESTION_VISIBILITY_VISIBLE_ON_CONDITIONS,\n                {\n                  a!save(\n                    ri!templateQuestion[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets.operator],\n                    cons!AS_GCM_QNM_ENUM_PRECEDENT_OPERATOR_AND\n                  ),\n                  /* Retaining the old Prec Set Id if the user deselcts a ref question and again select it */\n                  a!save(\n                    ri!templateQuestion[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets.questionPrecedentSetTemplateId],\n                    if(\n                      a!isNullOrEmpty(\n                        ri!oldTemplateQuestionFromDB[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets]\n                      ),\n                      null,\n                      ri!oldTemplateQuestionFromDB[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets.questionPrecedentSetTemplateId]\n                    )\n                  )\n                },\n                null\n              )\n            },\n            validationGroup: cons!AS_GCM_QNM_TXT_VALIDATION_GROUP_ADD_QUESTION,\n            labelPosition: \"COLLAPSED\",\n            choiceLayout: \"COMPACT\"\n          )\n        }\n      )\n    }\n  ),\n  if(\n    tointeger(\n      ri!templateQuestion[recordType!AS GCM QNM T Question.orderNumber]\n    ) = 1,\n    {},\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            rule!AS_GCM_CO_customisedLabelForRequiredInput(\n              label: \"Configure Conditional Logic\"\n            ),\n            rule!AS_CO_CP_radioButtonField(\n              label: \"Configure Conditional Logic\",\n              required: true,\n              choiceLabels: {\n                \"OR (Matches any conditions)\",\n                \"AND (Matches all conditions)\"\n              },\n              choiceValues: {\n                cons!AS_GCM_QNM_ENUM_PRECEDENT_OPERATOR_OR,\n                cons!AS_GCM_QNM_ENUM_PRECEDENT_OPERATOR_AND,\n\n              },\n              value: ri!templateQuestion[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets.operator],\n              accessibilityText: \"Required Field\",\n              saveInto: {\n                ri!templateQuestion[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets.operator],\n                a!save(\n                  ri!templateQuestion,\n                  rule!AS_GCM_setRecordFields(\n                    record: ri!templateQuestion,\n                    alwaysOverwrite: {\n                      a!map(\n                        field: recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n                        value: {\n                          recordType!AS GCM QNM T Question Precedent Set(\n                            recordType!AS GCM QNM T Question Precedent Set.questionPrecedentSetTemplateId: ri!templateQuestion[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets.questionPrecedentSetTemplateId],\n                            recordType!AS GCM QNM T Question Precedent Set.questionPrecedents: rule!AS_GCM_QNM_Template_QuestionPrecedents_construct(\n                              conditionalVisibilityGridData: ri!conditionalGridData,\n                              thisQuestionPrecedents: ri!templateQuestion[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets]\n                            ),\n                            recordType!AS GCM QNM T Question Precedent Set.operator: ri!templateQuestion[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets.operator]\n                          )\n                        }\n                      )\n                    }\n                  )\n                )\n              },\n              validationGroup: cons!AS_GCM_QNM_TXT_VALIDATION_GROUP_ADD_QUESTION,\n              labelPosition: \"COLLAPSED\",\n              choiceLayout: \"COMPACT\"\n            )\n          }\n        )\n      },\n      showWhen: ri!templateQuestion[recordType!AS GCM QNM T Question.questionVisibility] = cons!AS_GCM_QNM_ENUM_TEMPLATE_QUESTION_VISIBILITY_VISIBLE_ON_CONDITIONS\n    )\n  )\n}"
    },
    "0002e64e-0144-8000-189f-7f0000014e7a": {
      "name": "AS GCM QNM Template Questionnaire Create",
      "type": "Process Model",
      "sail_code": "// Input: ?\n=isEditQuestionnaire\n\n// Input: ?\n=questionnaire\n\n// Input: ?\n= index(pv!auditParameters, \"audit\", {})\n\n// Output: ?\nif(\n  pv!isEditQuestionnaire,\n  remove(\n    rule!AS_GCM_QNM_QR_getQuestionnaire_Template(\n      questionnaireTemplateId: pv!questionnaire[recordType!AS GCM QNM T Questionnaire.questionnaireTemplateId],\n      executeWhen: true,\n      returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT\n    ),\n    {\n      recordType!AS GCM QNM T Questionnaire.createdBy,\n      recordType!AS GCM QNM T Questionnaire.createdDatetime,\n      recordType!AS GCM QNM T Questionnaire.modifiedBy,\n      recordType!AS GCM QNM T Questionnaire.modifiedDatetime,\n      recordType!AS GCM QNM T Questionnaire.questions.createdBy,\n      recordType!AS GCM QNM T Questionnaire.questions.createdDatetime,\n      recordType!AS GCM QNM T Questionnaire.questions.modifiedBy,\n      recordType!AS GCM QNM T Questionnaire.questions.modifiedDatetime\n    }\n  ),\n  null\n)\n\n// Input: ?\n= remove( rule!AS_GCM_QNM_QR_getQuestionnaire_Template( questionnaireTemplateId: pv!questionnaire[recordType!AS GCM QNM T Questionnaire.questionnaireTemplateId], executeWhen: true, returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT ), { recordType!AS GCM QNM T Questionnaire.createdBy, recordType!AS GCM QNM T Questionnaire.createdDatetime, recordType!AS GCM QNM T Questionnaire.modifiedBy, recordType!AS GCM QNM T Questionnaire.modifiedDatetime, recordType!AS GCM QNM T Questionnaire.questions.createdBy, recordType!AS GCM QNM T Questionnaire.questions.createdDatetime, recordType!AS GCM QNM T Questionnaire.questions.modifiedBy, recordType!AS GCM QNM T Questionnaire.questions.modifiedDatetime })\n\n// Output: ?\nrule!AS_GCM_QNM_ADT_UT_startAuditProcess_Parameters_Questionnaire_Template(\n  questionnaireTemplate: ac!questionnaireCDT,\n  originalquestionnaireTemplate: pv!originalQuestionnaireCDT,\n  username: pp!initiator\n)"
    },
    "_a-0000ec46-fcf4-8000-9d91-011c48011c48_12816472": {
      "name": "AS_GCM_QNM_setMetaDataForTemplateQuestionCategoryRecord",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!questionCategory,\n  expression: rule!AS_GCM_setRecordFields(\n    record: fv!item,\n    neverOverwrite: {\n      a!map(\n        field: recordType!AS GCM QNM T Question Category.isActive,\n        value: true\n      )\n    }\n  )\n)"
    },
    "_a-0000e6a4-3c85-8000-9ba5-011c48011c48_45984": {
      "name": "AS_CO_UT_indexWhere",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(value: ri!initialArray),\n  {},\n  if(\n    ri!isRemove,\n    remove(\n      ri!finalArray,\n      wherecontains(\n        cast(typeof({ \"\" }), ri!value),\n        cast(typeof({ \"\" }), ri!initialArray)\n      )\n    ),\n    index(\n      ri!finalArray,\n      wherecontains(\n        cast(typeof({ \"\" }), ri!value),\n        cast(typeof({ \"\" }), ri!initialArray)\n      ),\n      {}\n    )\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_31643-gcm": {
      "name": "AS_GCM_QNM_UT_questionMetadata",
      "type": "Expression Rule",
      "sail_code": "if(\n  isnull(ri!questionTypeCode),\n  rule!AS_CO_UT_initializeBlankLocalVariable(\n    type: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_R_QuestionType'\n  ),\n  a!localVariables(\n    local!metadata: a!refreshVariable(\n      value: index(\n        rule!AS_GCM_QNM_REF_questionTypes(),\n        wherecontains(\n          ri!questionTypeCode,\n          rule!AS_GCM_QNM_REF_questionTypes().questionTypeCode\n        ),\n        null\n      ),\n      refreshAlways: true\n    ),\n    if(\n      isnull(local!metadata),\n      error(\n        concat(\n          \"Question Type Code \",\n          ri!questionTypeCode,\n          \" does not have metadata defined.\"\n        )\n      ),\n      local!metadata[1]\n    )\n  )\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13177701": {
      "name": "AS_GCM_QNM_populateQuestionsAndSectionsToBeDeleted",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!sectionIdsFromDb: ri!questionnaireFromDb[recordType!AS GCM QNM T Questionnaire.questionCategories.questionCategoryTemplateId],\n  local!sectionIdsFromForm: ri!questionnaireFromForm[recordType!AS GCM QNM T Questionnaire.questionCategories.questionCategoryTemplateId],\n  local!questionIdsFromDb: ri!questionnaireFromDb[recordType!AS GCM QNM T Questionnaire.questions.questionTemplateId],\n  local!questionIdsFromForm: ri!questionnaireFromForm[recordType!AS GCM QNM T Questionnaire.questions.questionTemplateId],\n  /*section data*/\n  local!sectionIdsToBeDeleted: rule!AS_CO_UT_rejectNullValuesFromArray(\n    array: difference(\n      tointeger(local!sectionIdsFromDb),\n      tointeger(local!sectionIdsFromForm)\n    )\n  ),\n  /*question data*/\n  local!questionIdsToBeDeleted: rule!AS_CO_UT_rejectNullValuesFromArray(\n    array: difference(\n      tointeger(local!questionIdsFromDb),\n      tointeger(local!questionIdsFromForm)\n    )\n  ),\n  /*question precedent set data*/\n  local!questionPrecedentSetIdsFromDb: tointeger(\n    index(\n      ri!questionnaireFromDb,\n      recordType!AS GCM QNM T Questionnaire.questions.isDisplayedPrecedentSets.questionPrecedentSetTemplateId,\n      null\n    )\n  ),\n  local!questionPrecedentSetIdsFromForm: tointeger(\n    index(\n      ri!questionnaireFromForm,\n      recordType!AS GCM QNM T Questionnaire.questions.isDisplayedPrecedentSets.questionPrecedentSetTemplateId,\n      {}\n    )\n  ),\n  local!questionPrecedentSetIdsToBeDeleted: rule!AS_CO_UT_rejectNullValuesFromArray(\n    array: difference(\n      local!questionPrecedentSetIdsFromDb,\n      local!questionPrecedentSetIdsFromForm\n    )\n  ),\n  /*question precedent data*/\n  /*question precedent data*/\n  local!questionPrecedentIdsFromDb: tointeger(\n    ri!questionnaireFromDb[recordType!AS GCM QNM T Questionnaire.questions.isDisplayedPrecedentSets.questionPrecedents.questionPrecedentTemplateId],\n    \n  ),\n  local!questionPrecedentIdsFromForm: tointeger(\n    ri!questionnaireFromForm[recordType!AS GCM QNM T Questionnaire.questions.isDisplayedPrecedentSets.questionPrecedents.questionPrecedentTemplateId]\n  ),\n  local!questionPrecedentIdsToBeDeleted: rule!AS_CO_UT_rejectNullValuesFromArray(\n    array: difference(\n      local!questionPrecedentIdsFromDb,\n      local!questionPrecedentIdsFromForm\n    )\n  ),\n  a!map(\n    sectionIdsToBeDeleted: local!sectionIdsToBeDeleted,\n    questionIdsToBeDeleted: local!questionIdsToBeDeleted,\n    questionPrecedentSetIdsToBeDeleted: a!flatten(\n      local!questionPrecedentSetIdsToBeDeleted\n    ),\n    questionPrecedentIdsToBeDeleted: a!flatten(local!questionPrecedentIdsToBeDeleted)\n  )\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81818": {
      "name": "AS_CO_I18N_UT_displayLabel",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Text',\n  with(\n    local!bundleKeyParse: rule!AS_CO_I18N_UT_parseBundleKey(bundleKey: ri!bundleKey),\n    local!label: if(\n      rule!AS_CO_UT_isBlank(local!bundleKeyParse.bundleName),\n      ri!i18nData[local!bundleKeyParse.labelKey],\n      ri!i18nData[local!bundleKeyParse.bundleName][local!bundleKeyParse.labelKey]\n    ),\n    local!updatedLabel: rule!AS_CO_UT_replaceNull(\n      nullableValue: local!label,\n      replacementValue: ri!bundleKey\n    ),\n    local!updatedLabelForArguments: if(\n      rule!AS_CO_UT_isBlank(ri!arguments),\n      local!updatedLabel,\n      reduce(\n        rule!AS_CO_I18N_UT_replaceArgument(input: _, index: _, arguments: ri!arguments),\n        local!updatedLabel,\n        enumerate(count(ri!arguments)) + 1\n      )\n    ),\n    local!updatedLabelForArguments\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_31411-gcm": {
      "name": "AS_GCM_QNM_UT_required",
      "type": "Expression Rule",
      "sail_code": "rule!AS_GCM_QNM_UT_evaluateQuestionPrecedentSet(\n  /* There must be at most one top level precedent set per field key */\n  questionPrecedentSet: if(\n    isnull(\n      ri!question.isRequiredPrecedentSets\n    ),\n    null,\n    index(\n      index(\n        ri!question.isRequiredPrecedentSets,\n        wherecontains(\n          ri!fieldKey,\n          ri!question.isRequiredPrecedentSets.fieldKey\n        ),\n        {}\n      ),\n      1,\n      null\n    )\n  ),\n  applicableQuestions: ri!applicableQuestions,\n  applicableQuestionsMetadata: ri!applicableQuestionsMetadata\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_165180-adt": {
      "name": "AS_ADT_UT_calculateAudit_SingleObject",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    rule!AS_CO_UT_compareStrong(\n      value1: ri!originalObject,\n      value2: ri!newObject\n    ),\n    ri!externalAction <> cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_INITIATED\n  ),\n  {},\n  a!localVariables(\n    local!auditConfig: rule!AS_CO_UT_dynamicDictionary(\n      fieldValuePairs: {\n        {\n          field: ri!auditConfig.idField,\n          value: rule!AS_CO_UT_replaceNull(\n            nullableValue: index(\n              ri!originalObject,\n              ri!auditConfig.idField,\n              null\n            ),\n            replacementValue: index(\n              ri!newObject,\n              ri!auditConfig.idField,\n              null\n            )\n          )\n        },\n        if(\n          rule!AS_CO_UT_isNotBlank(ri!auditConfig.foreignIdField),\n          {\n            field: if(\n              length(\n                split(ri!auditConfig.foreignIdField, \".\")\n              ) = 2,\n              split(ri!auditConfig.foreignIdField, \".\")[2],\n              split(ri!auditConfig.foreignIdField, \".\")[1]\n            ),\n            value: rule!AS_CO_UT_replaceNull(\n              nullableValue: rule!AS_CO_UT_indexPath(\n                cdt: ri!originalObject,\n                field: ri!auditConfig.foreignIdField\n              ),\n              replacementValue: rule!AS_CO_UT_indexPath(\n                cdt: ri!newObject,\n                field: ri!auditConfig.foreignIdField\n              )\n            )\n          },\n          {}\n        ),\n        { field: \"username\", value: ri!username },\n        { field: \"timestamp\", value: now() },\n        { field: \"auditType\", value: ri!auditType },\n        {\n          field: \"auditActionCode\",\n          value: rule!AS_ADT_UT_determineAuditActionCode(\n            originalObject: ri!originalObject,\n            newObject: ri!newObject,\n            auditConfig: ri!auditConfig,\n            externalAction: ri!externalAction\n          )\n        },\n        {\n          field: \"simpleFieldChanges\",\n          value: rule!AS_ADT_UT_buildSimpleFieldChanges(\n            simpleFields: ri!auditConfig.simpleFields,\n            originalObject: ri!originalObject,\n            newObject: ri!newObject\n          )\n        },\n        if(\n          rule!AS_CO_UT_isBlank(ri!auditConfig.complexFields),\n          {},\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!auditConfig.complexFields,\n            expression: {\n              field: fv!item.auditFieldName,\n              value: rule!AS_ADT_UT_calculateAudit_MultipleObjects(\n                originalObjects: index(ri!originalObject, fv!item.fieldName, {}),\n                newObjects: index(ri!newObject, fv!item.fieldName, {}),\n                auditConfig: fv!item,\n                username: ri!username,\n                externalAction: ri!externalAction\n              )\n            }\n          )\n        )\n      }\n    ),\n    if(\n      /*To make the action code \"UNCHANGED\" if the object is unmodified(excluding the metadata)*/\n      and(\n        rule!AS_CO_UT_not(\n          contains(\n            a!flatten(\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: {\n                  \"simpleFieldChanges\",\n                  index(\n                    ri!auditConfig.complexFields,\n                    \"auditFieldName\",\n                    null\n                  )\n                },\n                expression: or(\n                  rule!AS_CO_UT_isBlank(index(local!auditConfig, fv!item, null)),\n                  if(\n                    contains(\n                      touniformstring(\n                        index(\n                          ri!auditConfig.complexFields,\n                          \"auditFieldName\",\n                          null\n                        )\n                      ),\n                      tostring(fv!item)\n                    ),\n                    not(\n                      contains(\n                        #\"SYSTEM_SYSRULES_forEach\"(\n                          items: rule!AS_CO_UT_indexPath(cdt: local!auditConfig, field: fv!item),\n                          expression: tostring(fv!item.auditActionCode) = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n                        ),\n                        false\n                      )\n                    ),\n                    false\n                  )\n                )\n              )\n            ),\n            false\n          )\n        ),\n        or(\n          tostring(\n            index(\n              local!auditConfig,\n              \"auditActionCode\",\n              null\n            )\n          ) = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n          ri!externalAction = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MANUAL_UPDATE,\n          ri!externalAction = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MANUAL_SYNC\n        )\n      ),\n      rule!AS_CO_UT_updateCdtFields(\n        cdt: local!auditConfig,\n        fields: \"auditActionCode\",\n        newValues: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n      ),\n      local!auditConfig\n    )\n  )\n)"
    },
    "_a-0000ec06-6336-8000-9d71-011c48011c48_12268070": {
      "name": "AS_GAM_UT_sortAnyData",
      "type": "Expression Rule",
      "sail_code": "cast(\n  runtimetypeof(ri!data),\n  if(\n    rule!AS_CO_UT_isBlank(ri!field),\n    /* For Simple Data Types   */\n    rule!AS_CO_UT_sortArray(array: ri!data, ascending: ri!ascending),\n    a!localVariables(\n      local!dataSortedByField: todatasubset(\n        ri!data,\n        #\"SYSTEM_SYSRULES_pagingInfo\"(\n          startIndex: 1,\n          batchSize: - 1,\n          sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n            field: ri!field,\n            ascending: a!defaultValue(value: ri!ascending, default: true)\n          )\n        )\n      ).data,\n      if(\n        rule!AS_CO_UT_isBlank(ri!nullsFirst),\n        local!dataSortedByField,\n        a!localVariables(\n          local!cdtsWithNullFieldValue: rule!AS_GAM_filterCdtOrRecordDataByField(\n            cdtOrRecord: local!dataSortedByField,\n            field: ri!field,\n            value: null\n          ),\n          local!cdtsWithNonNullFieldValue: rule!AS_GAM_rejectCdtOrRecordDataByField(\n            cdtOrRecord: local!dataSortedByField,\n            field: ri!field,\n            value: null\n          ),\n          if(\n            ri!nullsFirst,\n            append(\n              local!cdtsWithNullFieldValue,\n              local!cdtsWithNonNullFieldValue\n            ),\n            append(\n              local!cdtsWithNonNullFieldValue,\n              local!cdtsWithNullFieldValue\n            )\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13169774": {
      "name": "AS_GCM_QNM_populateResponsesToBeDeleted",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!initialResponseOptions),\n  null,\n  a!localVariables(\n    local!responseIdstobeDeleted: if(\n      rule!AS_CO_UT_isBlank(ri!writtenResponseOptions),\n      ri!initialResponseOptions[recordType!AS GCM QNM T Response.responseTemplateId],\n      difference(\n        tointeger(\n          ri!initialResponseOptions[recordType!AS GCM QNM T Response.responseTemplateId]\n        ),\n        tointeger(\n          ri!writtenResponseOptions[recordType!AS GCM QNM T Response.responseTemplateId]\n        )\n      )\n    ),\n    rule!AS_CO_UT_indexWhere(\n      value: local!responseIdstobeDeleted,\n      initialArray: ri!initialResponseOptions[recordType!AS GCM QNM T Response.responseTemplateId],\n      finalArray: ri!initialResponseOptions\n    )\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_44252-gcm": {
      "name": "AS_GCM_QNM_UT_buildResponses_RuntimeFromTemplate",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!responses_Template,\n  expression: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_Response'(\n    fieldKey: fv!item[recordType!AS GCM QNM T Response.fieldKey],\n    label: fv!item[recordType!AS GCM QNM T Response.label],\n    value: fv!item[recordType!AS GCM QNM T Response.value]\n  )\n)"
    },
    "_a-0000e615-fd0f-8000-9bc1-011c48011c48_1164426": {
      "name": "AS_GCM_QR_getRefData",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryRecord(\n  recordType: recordType!AS GCM R Data,\n  returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n  fields: ri!fields,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM R Data.isActive,\n      operator: \"=\",\n      value: true,\n      applyWhen: not(\n        rule!AS_CO_UT_booleanDefaultFalse(boolean: ri!returnAllData)\n      )\n    )\n  },\n  logicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n    operator: \"OR\",\n    filters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM R Data.refType,\n        operator: \"in\",\n        value: ri!refTypes\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM R Data.refDataId,\n        operator: \"in\",\n        value: ri!refDataId\n      )\n    },\n    ignoreFiltersWithEmptyValues: true()\n  ),\n  sort: a!defaultValue(\n    value: ri!sortInfo,\n    default: {\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!AS GCM R Data.sortOrder,\n        ascending: true\n      ),\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!AS GCM R Data.refLabel,\n        ascending: true\n      )\n    }\n  ),\n  castToCdtType: if(\n    rule!AS_CO_UT_booleanDefaultTrue(boolean: ri!doCastToCdt),\n    'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Data',\n    null\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_243040": {
      "name": "AS_CO_UT_compareStrong",
      "type": "Expression Rule",
      "sail_code": "/*Do a strict comarison against types*/\ncast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  and(\n    rule!AS_CO_UT_typeCompare(\n      value1: ri!value1,\n      value2: ri!value2\n    ),\n    ri!value1 = ri!value2\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_44246-gcm": {
      "name": "AS_GCM_QNM_UT_buildQuestions_RuntimeFromTemplate",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!questions_Template,\n  expression: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_Question'(\n    questionId: if(\n      ri!isPreview,\n      fv!index,\n      null\n    ),\n    questionReferenceId: fv!item[recordType!AS GCM QNM T Question.questionReferenceId],\n    questionTemplateId: fv!item[recordType!AS GCM QNM T Question.questionTemplateId],\n    label: fv!item[recordType!AS GCM QNM T Question.label],\n    /*instructions: fv!item.instructions,*/\n    /*pageNumber: fv!item.pageNumber,*/\n    groupNumber: fv!item[recordType!AS GCM QNM T Question.groupNumber],\n    orderNumber: fv!item[recordType!AS GCM QNM T Question.orderNumber],\n    responseOptions: rule!AS_GCM_QNM_UT_buildResponses_RuntimeFromTemplate(\n      responses_Template: fv!item[recordType!AS GCM QNM T Question.responseOptions]\n    ),\n    responseRequirements: rule!AS_GCM_QNM_UT_buildResponseRequirements_RuntimeFromTemplate(\n      responseRequirements_Template: fv!item[recordType!AS GCM QNM T Question.responseRequirements]\n    ),\n    responses: rule!AS_GCM_QNM_UT_buildResponses_RuntimeFromTemplate(\n      responses_Template: fv!item[recordType!AS GCM QNM T Question.defaultResponses]\n    ),\n    /*isExternalUserFacing: fv!item.isExternalUserFacing,*/\n    isDisplayedPrecedentSets: rule!AS_GCM_QNM_UT_buildQuestionPrecedentSets_RuntimeFromTemplate(\n      questions_Template: ri!questions_Template,\n      questionPrecedentSets_Template: fv!item[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets]\n    ),\n    isRequiredPrecedentSets: rule!AS_GCM_QNM_UT_buildQuestionPrecedentSets_RuntimeFromTemplate(\n      questions_Template: ri!questions_Template,\n      questionPrecedentSets_Template: fv!item[recordType!AS GCM QNM T Question.isRequiredPrecedentSets]\n    ),\n    questionCategoryId: wherecontains(\n      fv!item[recordType!AS GCM QNM T Question.questionCategoryTemplateId],\n      ri!questionCategories_Template[recordType!AS GCM QNM T Question Category.questionCategoryTemplateId]\n    ),\n    questionTypeCode: fv!item[recordType!AS GCM QNM T Question.questionTypeCode]\n  )\n)"
    },
    "_a-0000ec7e-5afd-8000-9da3-011c48011c48_13395219": {
      "name": "AS_GCM_QNM_updateTemplateQuestionsOnReorderQuestion",
      "type": "Expression Rule",
      "sail_code": "{\n  a!save(\n    ri!allTemplateQuestions[wherecontains(\n      ri!currentTemplateQuestionId, ri!allTemplateQuestions[recordType!AS GCM QNM T Question.questionTemplateId]\n    )],\n    rule!AS_GCM_setRecordFields(\n      record: ri!templateQuestion,\n      alwaysOverwrite: {\n        a!map(\n          field: recordType!AS GCM QNM T Question.orderNumber,\n          value: ri!adjacentTemplateQuestion[recordType!AS GCM QNM T Question.orderNumber]\n        ),\n        a!map(\n          field: recordType!AS GCM QNM T Question.questionVisibility,\n          value: if(\n            ri!isMoveUp,\n            if(\n              contains(\n                tointeger(\n                  index(\n                    ri!templateQuestion,\n                    recordType!AS GCM QNM T Question.isDisplayedPrecedentSets.questionPrecedents.questionTemplateId_precedent,\n                    null\n                  )\n                ),\n                ri!adjacentTemplateQuestion[recordType!AS GCM QNM T Question.questionTemplateId]\n              ),\n              cons!AS_GCM_QNM_ENUM_TEMPLATE_QUESTION_VISIBILITY_ALWAYS_VISIBLE,\n              ri!templateQuestion[recordType!AS GCM QNM T Question.questionVisibility]\n            ),\n            ri!templateQuestion[recordType!AS GCM QNM T Question.questionVisibility]\n          )\n        ),\n        a!map(\n          field: recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n          value: if(\n            ri!isMoveUp,\n            if(\n              contains(\n                tointeger(\n                  index(\n                    ri!templateQuestion,\n                    recordType!AS GCM QNM T Question.isDisplayedPrecedentSets.questionPrecedents.questionTemplateId_precedent,\n                    null\n                  )\n                ),\n                ri!adjacentTemplateQuestion[recordType!AS GCM QNM T Question.questionTemplateId]\n              ),\n              {},\n              ri!templateQuestion[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets]\n            ),\n            ri!templateQuestion[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets]\n          )\n        )\n      }\n    )\n  ),\n  a!save(\n    ri!allTemplateQuestions[wherecontains(\n      ri!adjacentTemplateQuestionId, ri!allTemplateQuestions[recordType!AS GCM QNM T Question.questionTemplateId]\n    )],\n    rule!AS_GCM_setRecordFields(\n      record: ri!adjacentTemplateQuestion,\n      alwaysOverwrite: {\n        a!map(\n          field: recordType!AS GCM QNM T Question.orderNumber,\n          value: ri!templateQuestion[recordType!AS GCM QNM T Question.orderNumber]\n        ),\n        a!map(\n          field: recordType!AS GCM QNM T Question.questionVisibility,\n          value: if(\n            ri!isMoveUp = false,\n            if(\n              contains(\n                tointeger(\n                  index(\n                    ri!adjacentTemplateQuestion,\n                    recordType!AS GCM QNM T Question.isDisplayedPrecedentSets.questionPrecedents.questionTemplateId_precedent,\n                    null\n                  )\n                ),\n                ri!templateQuestion[recordType!AS GCM QNM T Question.questionTemplateId]\n              ),\n              cons!AS_GCM_QNM_ENUM_TEMPLATE_QUESTION_VISIBILITY_ALWAYS_VISIBLE,\n              ri!adjacentTemplateQuestion[recordType!AS GCM QNM T Question.questionVisibility]\n            ),\n            ri!adjacentTemplateQuestion[recordType!AS GCM QNM T Question.questionVisibility]\n          )\n        ),\n        a!map(\n          field: recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n          value: if(\n            ri!isMoveUp = false,\n            if(\n              contains(\n                tointeger(\n                  index(\n                    ri!adjacentTemplateQuestion,\n                    recordType!AS GCM QNM T Question.isDisplayedPrecedentSets.questionPrecedents.questionTemplateId_precedent,\n                    null\n                  )\n                ),\n                ri!templateQuestion[recordType!AS GCM QNM T Question.questionTemplateId]\n              ),\n              {},\n              ri!adjacentTemplateQuestion[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets]\n            ),\n            ri!adjacentTemplateQuestion[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets]\n          )\n        )\n      }\n    )\n  )\n}"
    },
    "_a-0000ec46-fcf4-8000-9d91-011c48011c48_12812729": {
      "name": "AS_GCM_QNM_setMetaDataForTemplateQuestionsRecord",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!questions,\n  expression: rule!AS_GCM_setRecordFields(\n    record: fv!item,\n    neverOverwrite: {\n      a!map(\n        field: recordType!AS GCM QNM T Question.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!AS GCM QNM T Question.createdDatetime,\n        value: now()\n      ),\n      a!map(\n        field: recordType!AS GCM QNM T Question.isActive,\n        value: true\n      )\n    },\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!AS GCM QNM T Question.modifiedBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!AS GCM QNM T Question.modifiedDatetime,\n        value: now()\n      )\n    }\n  )\n)"
    },
    "_a-0000e460-9d93-8000-9bc1-011c48011c48_596441-gcm": {
      "name": "AS_GCM_QNM_VD_evaluateResponseRequirement",
      "type": "Expression Rule",
      "sail_code": "if(\n  isnull(ri!responseRequirement),\n  \"\",\n  a!localVariables(\n    local!evaluationRule: a!refreshVariable(\n      value: rule!AS_GCM_QNM_UT_responseRequirementMetadata(\n        responseRequirement: ri!responseRequirement\n      ).evaluationRule,\n      refreshAlways: true\n    ),\n    local!displayedResponses: a!refreshVariable(\n      value: if(\n        index(\n          index(\n            index(ri!questionMetadata, \"fieldMetadata\", \"\"),\n            \"showWhen\",\n            \"\"\n          ),\n          wherecontains(\n            ri!responseRequirement.fieldKey,\n            index(\n              index(ri!questionMetadata, \"fieldMetadata\", \"\"),\n              \"fieldKey\",\n              \"\"\n            ),\n            \n          )[1],\n          false\n        ),\n        rule!AS_GCM_QNM_UT_filterToResponsesForQuestionByFieldKey(\n          question: ri!question,\n          fieldKey: ri!responseRequirement.fieldKey\n        ),\n        {}\n      ),\n      refreshAlways: true\n    ),\n    local!evaluationRule(\n      responses: local!displayedResponses,\n      responseRequirement: ri!responseRequirement,\n      returnValidationMessage: ri!returnValidationMessage\n    )\n  )\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13148383": {
      "name": "AS_GCM_QNM_QR_getReferenceQuestionsAndRelatedRecords",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!question: rule!AS_GCM_QNM_QR_getQuestion_Reference(\n    returnType: ri!returnType,\n    questionReferenceId: ri!questionReferenceId,\n    questionReferenceIdToExclude: ri!questionReferenceIdsToExclude,\n    questionLabels: ri!questionLabels,\n    pagingInfo: ri!pagingInfo,\n    executeWhen: ri!executeWhen,\n    triggerRefresh: ri!triggerRefresh,\n    questionTypes: ri!questionTypes,\n    includeRelatedRecords: true,\n    globalSearchText: ri!globalSearchText\n  ),\n  local!questionData: if(\n    exact(\n      ri!returnType,\n      cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET\n    ),\n    index(local!question, \"data\", null()),\n    local!question\n  ),\n  local!responseOptions: rule!AS_GCM_QNM_QR_getQuestionResponse_Reference(\n    returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n    questionReferenceId: index(\n      local!questionData,\n      recordType!AS GCM QNM R Question.questionReferenceId,\n      {}\n    ),\n    executeWhen: a!isNotNullOrEmpty(\n      index(\n        local!questionData,\n        recordType!AS GCM QNM R Question.questionReferenceId,\n        {}\n      )\n    ),\n    triggerRefresh: ri!triggerRefresh\n  ),\n  local!totalQuestion: a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!questionData,\n      expression: a!localVariables(\n        local!currentQn: fv!item,\n        rule!AS_GCM_setRecordFields(\n          record: local!currentQn,\n          alwaysOverwrite: {\n            a!map(\n              field: recordType!AS GCM QNM R Question.defaultResponseOptions,\n              value: rule!AS_GCM_filterRecords(\n                records: local!responseOptions,\n                field: recordType!AS GCM QNM R Response.qstnRfrncIdRspnsOptions,\n                value: local!currentQn[recordType!AS GCM QNM R Question.questionReferenceId]\n              )\n            )\n          }\n        )\n      )\n    )\n  ),\n  if(\n    exact(\n      ri!returnType,\n      cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET\n    ),\n    #\"SYSTEM_SYSRULES_dataSubset\"(\n      startIndex: local!question.startIndex,\n      batchSize: local!question.batchSize,\n      sort: local!question.sort,\n      totalCount: local!question.totalCount,\n      data: local!totalQuestion,\n      identifiers: local!question.identifiers,\n      \n    ),\n    local!totalQuestion\n  )\n)"
    },
    "_a-0000e460-9d93-8000-9bc1-011c48011c48_597588-gcm": {
      "name": "AS_GCM_QNM_UT_buildResponseRequirements_TemplateFromReference",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!responseRequirements_Reference,\n  expression: recordType!AS GCM QNM T Response Requirement(\n    recordType!AS GCM QNM T Response Requirement.fieldKey: fv!item[recordType!AS GCM QNM R Response Requirement.fieldKey],\n    recordType!AS GCM QNM T Response Requirement.requirementTypeCode: fv!item[recordType!AS GCM QNM R Response Requirement.requirementTypeCode],\n    recordType!AS GCM QNM T Response Requirement.requirementValue: fv!item[recordType!AS GCM QNM R Response Requirement.requirementValue]\n  )\n)"
    },
    "_a-0000e61a-f20f-8000-9ba5-011c48011c48_53654": {
      "name": "AS_GCM_CO_UT_loadBundleFromFolder",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!lang: \"en_US\",\n/* below is deprecated for now, uncomment to support multi-language display */\n  /*if(*/\n    /*isnull(ri!langISOCode),*/\n    /*userlocale(loggedInUser()),*/\n    /*ri!langISOCode*/\n  /*),*/\n  local!bundleName: rule!AS_GCM_determineValueBySolutionFlavor(\n    options: cons!AS_GCM_TXT_VALID_SOLUTION_FLAVORS\n  ),\n  /*local!bundleName*/\n  local!output: loadbundlepropertiesfile(\n    cons!AS_GCM_FLD_PROPERTIES_FILES,\n    local!lang,\n    local!bundleName\n  )[local!bundleName],\n  local!output\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_74506": {
      "name": "AS_CO_CP_radioButtonField",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!displayValue: displayvalue(\n    ri!value,\n    ri!choiceValues,\n    ri!choiceLabels,\n    null\n  ),\n  if(\n    ri!readOnly,\n    rule!AS_CO_DSP_standardReadOnlyField(\n      label: ri!label,\n      instructions: ri!instructions,\n      value: if(\n        isnull(ri!readOnlyValue),\n        local!displayValue,\n        ri!readOnlyValue\n      ),\n      labelPosition: ri!labelPosition,\n      helpTooltip: ri!helpTooltip,\n      showWhen: ri!showWhen,\n      accessibilityText: ri!accessibilityText,\n    ),\n    #\"SYSTEM_SYSRULES_radioButtonField_v1\"(\n      label: ri!label,\n      labelPosition: rule!AS_CO_UT_getLabelPosition(\n        label: ri!label,\n        labelPosition: ri!labelPosition,\n        readOnly: ri!readOnly\n      ),\n      instructions: ri!instructions,\n      helpTooltip: ri!helpTooltip,\n      choiceLabels: ri!choiceLabels,\n      choiceValues: ri!choiceValues,\n      value: if(\n        isnull(local!displayValue),\n        null,\n        ri!value\n      ),\n      saveInto: ri!saveInto,\n      showWhen: if(isnull(ri!showWhen), true, ri!showWhen),\n      required: if(ri!readOnly, false, ri!required),\n      /* Updated requiredMessage parameter to show default validation text*/\n      requiredMessage: rule!AS_CO_UT_displayRequiredMessage(\n        label: ri!label,\n        requiredMessage: ri!requiredMessage\n      ),\n      disabled: ri!disabled,\n      choiceLayout: ri!choiceLayout,\n      validations: ri!validations,\n      validationGroup: ri!validationGroup,\n      accessibilityText: ri!accessibilityText,\n      choiceStyle: ri!choiceStyle\n    )\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_162005-adt": {
      "name": "AS_ADT_UT_buildSimpleFieldChangesDictionary",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!oldValue: rule!AS_CO_UT_toString(\n    value: rule!AS_CO_UT_indexPath(\n      cdt: ri!originalObject,\n      field: ri!simpleFieldName\n    )\n  ),\n  local!newValue: rule!AS_CO_UT_toString(\n    value: rule!AS_CO_UT_indexPath(\n      cdt: ri!newObject,\n      field: ri!simpleFieldName\n    )\n  ),\n  if(\n    rule!AS_CO_UT_compare(\n      value1: local!oldValue,\n      value2: local!newValue\n    ),\n    {},\n    rule!AS_CO_UT_dynamicDictionary(\n      fieldValuePairs: {\n        {\n          field: \"fieldName\",\n          value: ri!simpleFieldName\n        },\n        { field: \"oldValue\", value: local!oldValue },\n        { field: \"newValue\", value: local!newValue }\n      }\n    )\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_157603": {
      "name": "AS_CO_UT_cast",
      "type": "Expression Rule",
      "sail_code": "with(  \n  local!typeNumber: rule!AS_CO_UT_returnTypeNumber(\n    type: ri!type,\n    typeOf: ri!typeOf\n  ),\n\n  /* If the object is empty, use null or {} depending on if it is array type or not */\n  local!objectToCast: if(\n    rule!AS_CO_UT_isNotBlank(ri!value),\n    ri!value,\n    rule!AS_CO_UT_checkIfSingleType(\n      type: ri!type,\n      typeOf: ri!typeOf\n    ),\n    null,\n    {}\n  ),\n\n  cast(\n    local!typeNumber,\n    local!objectToCast\n  )\n  \n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75714": {
      "name": "AS_CO_UT_zINTERNAL_sortCdtBySecondaryArray_handler",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!previous),\n  append(\n    ri!previous,\n    rule!AS_CO_UT_filterCdtByField(\n      cdt: ri!cdt,\n      field: ri!field,\n      value: ri!value\n    )\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_31064-gcm": {
      "name": "AS_GCM_QNM_UT_evaluateQuestionPrecedentSet",
      "type": "Expression Rule",
      "sail_code": "/* A null question precedent set is always considered fulfilled */\nor(\n  isnull(ri!questionPrecedentSet),\n  and(\n    /* A non-null precedent set with no precedents or precedent sets can intentionally never be fulfilled */\n    or(\n      length(\n        {\n          ri!questionPrecedentSet.questionPrecedentSets\n        }\n      ) <> 0,\n      length(\n        {\n          ri!questionPrecedentSet.questionPrecedents\n        }\n      ) <> 0\n    ),\n    with(\n      /* Below local variables should only reevaluate on changes to the applicable questions as defined in rules calling this rule */\n      local!questionPrecedentSetsResults: apply(\n        rule!AS_GCM_QNM_UT_evaluateQuestionPrecedentSet(\n          questionPrecedentSet: _,\n          applicableQuestions: ri!applicableQuestions,\n          applicableQuestionsMetadata: ri!applicableQuestionsMetadata\n        ),\n        ri!questionPrecedentSet.questionPrecedentSets\n      ),\n      local!questionPrecedentsResults: apply(\n        rule!AS_GCM_QNM_UT_evaluateQuestionPrecedent(\n          questionPrecedent: _,\n          question_precedent: _,\n          question_precedentMetadata: _\n        ),\n        merge(\n          /* Merge only supports list arguments, so we need to substitute an empty list when null */\n          if(\n            isnull(\n              ri!questionPrecedentSet.questionPrecedents\n            ),\n            {},\n            ri!questionPrecedentSet.questionPrecedents\n          ),\n          index(\n            ri!applicableQuestions,\n            apply(\n              wherecontains(_, ri!applicableQuestions.questionId),\n              index(\n                ri!questionPrecedentSet.questionPrecedents,\n                \"questionId_precedent\",\n                {}\n              )\n            ),\n            null\n          ),\n          index(\n            ri!applicableQuestionsMetadata,\n            apply(\n              wherecontains(\n                _,\n                ri!applicableQuestionsMetadata.questionId\n              ),\n              index(\n                ri!questionPrecedentSet.questionPrecedents,\n                \"questionId_precedent\",\n                {}\n              )\n            ),\n            null\n          )\n        )\n      ),\n      local!allResults: {\n        local!questionPrecedentSetsResults,\n        local!questionPrecedentsResults\n      },\n      local!evaluation: displayvalue(\n        ri!questionPrecedentSet.operator,\n        {\n          cons!AS_GCM_QNM_ENUM_PRECEDENT_OPERATOR_AND,\n          cons!AS_GCM_QNM_ENUM_PRECEDENT_OPERATOR_OR,\n          cons!AS_GCM_QNM_ENUM_PRECEDENT_OPERATOR_NOT,\n          \n        },\n        {\n          and(local!allResults),\n          or(local!allResults),\n          not(or(local!allResults))\n        },\n        null\n      ),\n      if(\n        isnull(local!evaluation),\n        error(\n          concat(\n            {\n              \"Question Precedent Set (ID: \",\n              ri!questionPrecedentSet.questionPrecedentSetId,\n              \") does not have a valid operator (operator: \",\n              ri!questionPrecedentSet.operator,\n              \").  See this rule for a list of valid operators.\"\n            }\n          )\n        ),\n        local!evaluation\n      )\n    )\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_31790": {
      "name": "AS_CO_I18N_UT_isUserLocaleEnglishUs",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  rule!AS_CO_I18N_UT_getUserLocale(user: loggedInUser()) = cons!AS_CO_I18N_TXT_ENGLISH_US_LOCALE\n)"
    },
    "_a-0000e3d1-f4dc-8000-9ba4-011c48011c48_134344": {
      "name": "AS_CO_CPS_cancelSaveButtons",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  /*The button layout, which can dynamically be inside a section or not*/\n  /*Note that when using this pattern of storing an interface as a local variable, it must be set to refreshAlways = true*/\n  local!buttonLayout: a!refreshVariable(\n    value: #\"SYSTEM_SYSRULES_ButtonLayout\"(\n      primaryButtons: {\n        #\"SYSTEM_SYSRULES_ButtonWidget\"(\n          accessibilityText: ri!confirmAccessibilityText,\n          label: ri!confirmLabel,\n          size: ri!confirmSize,\n          saveInto: if(\n            rule!AS_CO_UT_isBlank(\n              ri!confirmSaveInto\n            ),\n            {},\n            ri!confirmSaveInto\n          ),\n          style: rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!confirmStyle,\n            replacementValue: \"PRIMARY\"\n          ),\n          validate: true,\n          validationGroup: ri!confirmValidationGroup,\n          submit: ri!confirmSubmit,\n          disabled: ri!confirmDisabled,\n          confirmHeader: ri!confirmHeader,\n          confirmMessage: ri!confirmMessage\n        )\n      },\n      secondaryButtons: {\n        #\"SYSTEM_SYSRULES_ButtonWidget\"(\n          accessibilityText: ri!cancelAccessibilityText,\n          label: ri!cancelLabel,\n          size: ri!cancelSize,\n          saveInto: if(\n            rule!AS_CO_UT_isBlank(\n              ri!cancelSaveInto\n            ),\n            {},\n            ri!cancelSaveInto\n          ),\n          style: rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!cancelStyle,\n            replacementValue: \"NORMAL\"\n          ),\n          validate: false,\n          submit: ri!cancelSubmit,\n          disabled: ri!cancelDisabled,\n          confirmHeader: ri!cancelHeader,\n          confirmMessage: ri!cancelMessage,\n          showWhen: ri!cancelShowWhen\n        )\n      },\n      showWhen: ri!showWhen\n    ),\n    refreshAlways: true\n  ),\n  /*Components to show*/\n  if(\n    ri!includeDivider,\n    #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n      divider: \"ABOVE\",\n      contents: {\n        local!buttonLayout\n      }\n    ),\n    local!buttonLayout\n  )\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_87660": {
      "name": "AS_CO_UT_sortArray",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!array),\n  if(\n    rule!AS_CO_UT_isBlank(ri!array),\n    ri!array,\n    todatasubset(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!array,\n        expression: {item: fv!item}\n      ),\n      #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: -1,\n        sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: \"item\",\n          ascending: rule!AS_CO_UT_replaceNull(nullableValue: ri!ascending, replacementValue: true)\n        )\n      )\n    ).data.item\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_42922": {
      "name": "AS_CO_UT_sortArrayDistinct",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_sortArray(\n  array: rule!AS_CO_UT_distinct(\n    value: ri!array\n  ),\n  ascending: ri!ascending\n)"
    },
    "_a-0000e460-9d93-8000-9bc1-011c48011c48_597333-gcm": {
      "name": "AS_GCM_QNM_UT_responseRequirementMetadata",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(\n    ri!responseRequirement.requirementTypeCode\n  ),\n  error(\n    concat(\n      \"Response requirement (ID: \",\n      ri!responseRequirement.responseRequirementId,\n      \") does not have a response requirement type code defined.\"\n    )\n  ),\n  a!localVariables(\n    local!metadata: a!refreshVariable(\n      value: rule!AS_CO_UT_filterCdtByField(\n        cdt: rule!AS_GCM_QNM_REF_responseRequirements(),\n        field: \"requirementTypeCode\",\n        value: ri!responseRequirement.requirementTypeCode\n      ),\n      refreshAlways: true\n    ),\n    if(\n      rule!AS_CO_UT_isBlank(local!metadata),\n      error(\n        concat(\n          \"Response requirement (ID: \",\n          ri!responseRequirement.responseRequirementId,\n          \") Code: \",\n          ri!responseRequirement.requirementTypeCode,\n          \") does not have metadata defined.\"\n        )\n      ),\n      local!metadata[1]\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_74104": {
      "name": "AS_CO_VD_textValidation",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Text',\n  a!localVariables(\n    local!length: len(ri!value),\n    local!minLength: rule!AS_CO_UT_replaceNull(\n      nullableValue: ri!minLength,\n      replacementValue: 0\n    ),\n    if(\n      /* Does not meet exact length requirement */\n      and(\n        rule!AS_CO_UT_isNotBlank(ri!minLength),\n        rule!AS_CO_UT_isNotBlank(ri!maxLength),\n        ri!minLength = ri!maxLength,\n        local!length <> ri!minLength\n      ),\n      rule!AS_CO_UT_replaceNull(\n        nullableValue: rule!AS_CO_UT_replaceNull(\n          nullableValue: ri!maxLengthMessage,\n          replacementValue: ri!minLengthMessage\n        ),\n        replacementValue: rule!AS_CO_UT_displayCommonObjectBundleLabel(\n          bundleKey: if(\n            ri!minLength = 1,\n            \"AS.CO.CommonObjects.vld_EnterExactlySingle\",\n            \"AS.CO.CommonObjects.vld_EnterExactlyMultiple\"\n          ),\n          arguments: ri!minLength\n        )\n      ),\n      /*Too short*/\n      if(\n        local!length < ri!minLength,\n        rule!AS_CO_UT_replaceNull(\n          nullableValue: ri!minLengthMessage,\n          replacementValue: rule!AS_CO_UT_displayCommonObjectBundleLabel(\n            bundleKey: \"AS.CO.CommonObjects.vld_EnterAtLeast\",\n            arguments: local!minLength\n          )\n        ),\n        /*Too long*/\n        if(\n          and(\n            rule!AS_CO_UT_isNotBlank(ri!maxLength),\n            local!length > ri!maxLength\n          ),\n          rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!maxLengthMessage,\n            replacementValue: rule!AS_CO_UT_displayCommonObjectBundleLabel(\n              bundleKey: if(\n                ri!maxLength = 1,\n                \"AS.CO.CommonObjects.vld_EnterNoMoreThanSingle\",\n                \"AS.CO.CommonObjects.vld_EnterNoMoreThanMultiple\"\n              ),\n              arguments: ri!maxLength\n            )\n          ),\n          /*Valid*/\n          \"\"\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000ec75-2131-8000-9da0-011c48011c48_13305530": {
      "name": "AS_GCM_QNM_Template_QuestionPrecedents_construct",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!conditionalVisibilityGridData,\n  expression: recordType!AS GCM QNM T Question Precedent(\n    /* Clearing the primary key when the question changes  */\n    recordType!AS GCM QNM T Question Precedent.questionPrecedentTemplateId: index(\n      rule!AS_GCM_filterRecords(\n        records: ri!thisQuestionPrecedents,\n        fieldValuePairs: {\n          a!map(\n            field: recordType!AS GCM QNM T Question Precedent.questionPrecedentTemplateId,\n            value: fv!item.precedentId\n          ),\n          a!map(\n            field: recordType!AS GCM QNM T Question Precedent.questionTemplateId_precedent,\n            value: fv!item.questionTemplateId\n          )\n        }\n      ),\n      recordType!AS GCM QNM T Question Precedent.questionPrecedentTemplateId,\n      null\n    ),\n    /*fv!item.precedentId,*/\n    recordType!AS GCM QNM T Question Precedent.questionTemplateId_precedent: fv!item.questionTemplateId,\n    recordType!AS GCM QNM T Question Precedent.responseRequirement: recordType!AS GCM QNM T Response Requirement(\n      recordType!AS GCM QNM T Response Requirement.responseRequirementTemplateId: fv!item.responseRequirementId,\n      recordType!AS GCM QNM T Response Requirement.requirementTypeCode: fv!item.requirementTypeCode,\n      recordType!AS GCM QNM T Response Requirement.requirementValue: fv!item.value\n    )\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_279147": {
      "name": "AS_CO_UT_castToDictionary",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  if(\n    rule!AS_CO_UT_isBlank(ri!value),\n    null,\n    ri!value\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_33160": {
      "name": "AS_CO_UT_displayCommonObjectBundleLabel",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  rule!AS_CO_I18N_UT_getAndDisplayLabelSingle(\n    bundleFolder: cons!AS_CO_I18N_FLD_INTERNATIONALIZATION_FILES,\n    bundleKey: ri!bundleKey,\n    arguments: ri!arguments,\n    localeAgnostic: false\n  )\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13155014": {
      "name": "AS_GCM_QNM_updateTemplateQuestionsOnQuestionDeletion",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!orderNumberOfCurrentQuestion: ri!templateQuestion[recordType!AS GCM QNM T Question.orderNumber],\n  local!groupNumberOfCurrentQuestion: ri!templateQuestion[recordType!AS GCM QNM T Question.groupNumber],\n  {\n    /*updating the child question precedentSet and questionVisibility to null and always visible */\n    /*also updating order number of the next questions to n-1*/\n    a!save(\n      ri!allTemplateQuestions,\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!allTemplateQuestions,\n        expression: if(\n          and(\n            fv!item[recordType!AS GCM QNM T Question.orderNumber] > local!orderNumberOfCurrentQuestion,\n            fv!item[recordType!AS GCM QNM T Question.groupNumber] = local!groupNumberOfCurrentQuestion\n          ),\n          if(\n            contains(\n              tointeger(ri!dependentQuestionIndexes),\n              fv!index\n            ),\n            rule!AS_GCM_setRecordFields(\n              record: fv!item,\n              alwaysOverwrite: {\n                a!map(\n                  field: recordType!AS GCM QNM T Question.questionVisibility,\n                  value: cons!AS_GCM_QNM_ENUM_TEMPLATE_QUESTION_VISIBILITY_ALWAYS_VISIBLE\n                ),\n                a!map(\n                  field: recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n                  value: {}\n                ),\n                a!map(\n                  field: recordType!AS GCM QNM T Question.orderNumber,\n                  value: fv!item[recordType!AS GCM QNM T Question.orderNumber] - 1\n                )\n              }\n            ),\n            rule!AS_GCM_setRecordFields(\n              record: fv!item,\n              alwaysOverwrite: {\n                a!map(\n                  field: recordType!AS GCM QNM T Question.orderNumber,\n                  value: fv!item[recordType!AS GCM QNM T Question.orderNumber] - 1\n                )\n              }\n            )\n          ),\n          fv!item\n        )\n      )\n    ),\n    /*removing the current question from allTemplateQuestions*/\n    a!save(\n      ri!allTemplateQuestions,\n      remove(\n        ri!allTemplateQuestions,\n        wherecontains(\n          ri!templateQuestion[recordType!AS GCM QNM T Question.questionTemplateId],\n          ri!allTemplateQuestions[recordType!AS GCM QNM T Question.questionTemplateId]\n        )\n      )\n    )\n  }\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_101148": {
      "name": "AS_CO_UT_returnNullDictionary",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  null\n)"
    },
    "_a-0000e4b1-2fbc-8000-9bc6-011c48011c48_857274-gcm": {
      "name": "AS_GCM_QNM_CRD_addOrEditQuestionInQuestionnaire",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n    startIndex: 1,\n    batchSize: cons!AS_CO_ENUM_PAGE_SIZE_SMALL\n  ),\n  local!searchText,\n  local!refQuestions: rule!AS_GCM_QNM_QR_getReferenceQuestionsAndRelatedRecords(\n    returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    pagingInfo: local!pagingInfo,\n    executeWhen: true,\n    globalSearchText: local!searchText\n  ),\n  local!oldTemplateQuestionFromDB: rule!AS_GCM_QNM_constructTemplateQuestionForRetainingPKs(\n    templateQuestionFromDB: index(\n      ri!allTemplateQuestionsFromDB,\n      rule!AS_CO_UT_whereContains(\n        values: tointeger(\n          index(\n            ri!templateQuestion,\n            recordType!AS GCM QNM T Question.questionTemplateId,\n            null\n          ),\n\n        ),\n        array: tointeger(\n          index(\n            ri!allTemplateQuestionsFromDB,\n            recordType!AS GCM QNM T Question.questionTemplateId,\n            null\n          )\n        )\n      ),\n      null\n    ),\n    previousTemplateQuestion: ri!oldTemplateQuestion\n  ),\n  /* The below local variable is populated only when the min section is opened for Editing or Adding. Section map gets updated whenever add or edit modal is opened */\n  if(\n    rule!AS_CO_UT_isBlank(ri!templateQuestion),\n    {},\n    #\"SYSTEM_SYSRULES_cardLayout\"(\n      contents: {\n        #\"SYSTEM_SYSRULES_columnsLayout\"(\n          columns: {\n            #\"SYSTEM_SYSRULES_columnLayout\"(\n              contents: rule!AS_GCM_DPL_CO_CP_searchField(\n                value: local!searchText,\n                buttonSaveInto: {\n                  a!save(\n                    local!pagingInfo,\n                    #\"SYSTEM_SYSRULES_pagingInfo\"(\n                      startIndex: 1,\n                      batchSize: cons!AS_CO_ENUM_PAGE_SIZE_SMALL,\n                      sort: local!pagingInfo.sort\n                    )\n                  )\n                },\n                placeholder: \"\",\n                showLabel: true,\n                label: \"Choose Question\",\n                buttonAccessibilityText: \"Search\"\n              )\n            ),\n            #\"SYSTEM_SYSRULES_columnLayout\"()\n          },\n          marginBelow: \"STANDARD\"\n        ),\n        #\"SYSTEM_SYSRULES_richTextDisplayField\"(marginBelow: \"NONE\"),\n        rule!AS_GCM_QNM_GRD_selectReferenceQuestionForTemplateQuestion(\n          bundle: ri!bundle,\n          templateQuestion: ri!templateQuestion,\n          oldTemplateQuestionFromDB: local!oldTemplateQuestionFromDB,\n          pagingInfo: local!pagingInfo,\n          allRefQuestionsDataSubset: local!refQuestions,\n          sectionNumber: ri!sectionNumber,\n          conditionalGridData: ri!conditionalGridData,\n\n        ),\n        #\"SYSTEM_SYSRULES_richTextDisplayField\"(marginBelow: \"NONE\"),\n        rule!AS_GCM_QNM_CPS_templateQuestionConditionalVisibility(\n          templateQuestion: ri!templateQuestion,\n          bundle: ri!bundle,\n          conditionalGridData: ri!conditionalGridData,\n          oldTemplateQuestionFromDB: local!oldTemplateQuestionFromDB\n        ),\n        if(\n          ri!templateQuestion[recordType!AS GCM QNM T Question.questionVisibility] = cons!AS_GCM_QNM_ENUM_TEMPLATE_QUESTION_VISIBILITY_VISIBLE_ON_CONDITIONS,\n          rule!AS_GCM_QNM_GRD_conditionsForQuestionVisibility(\n            bundle: ri!bundle,\n            allTempQuestions: ri!allTemplateQuestions,\n            conditionalConfigMap: ri!conditionalConfigMap,\n            conditionalGridData: ri!conditionalGridData,\n            sectionNumber: ri!sectionNumber,\n            currentTemplateQuestionOrderNumber: ri!templateQuestion[recordType!AS GCM QNM T Question.orderNumber]\n          ),\n          {}\n        ),\n        /*validation message to Click on \"Add\" button to add the selected question to Preview or Publish this questionnaire.*/\n        #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n          validations: #\"SYSTEM_SYSRULES_validationMessage\"(\n            message: \"Click on \"Add\" to add the selected question to Preview or Publish this questionnaire.\",\n            validateAfter: \"SUBMIT\",\n            showWhen: and(\n              rule!AS_CO_UT_isNotBlank(\n                ri!templateQuestion[recordType!AS GCM QNM T Question.questionReferenceId]\n              ),\n              ri!sectionMap.isAddQuestion\n            )\n          ),\n          validationGroup: cons!AS_GCM_QNM_TXT_VALIDATION_GROUP_PUBLISH_OR_PREVIEW_QUESTIONNAIRE\n        ),\n        #\"SYSTEM_SYSRULES_horizontalLine\"(),\n        rule!AS_GCM_QNM_BTN_Template_Question_addOrEdit(\n          bundle: ri!bundle,\n          templateQuestion: ri!templateQuestion,\n          oldTemplateQuestion: ri!oldTemplateQuestion,\n          allTemplateQuestions: ri!allTemplateQuestions,\n          sectionMap: ri!sectionMap,\n          templateQuestionBeingEdited: ri!templateQuestionBeingEdited,\n          conditionalGridData: ri!conditionalGridData,\n          searchText: local!searchText,\n          pagingInfo: local!pagingInfo\n        )\n      },\n      height: \"AUTO\",\n      style: \"NONE\",\n      shape: \"SEMI_ROUNDED\",\n      padding: \"STANDARD\",\n      marginBelow: \"STANDARD\",\n      showBorder: false,\n      showShadow: true,\n      decorativeBarPosition: \"START\",\n      decorativeBarColor: \"ACCENT\",\n      accessibilityText: \"Selected\"\n    )\n  )\n)"
    },
    "_a-0000ec75-2131-8000-9da0-011c48011c48_13308878": {
      "name": "AS_GCM_QNM_updatePrecedentsAfterInitialWrite",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!precedentsFromDB),\n  null,\n  a!localVariables(\n    local!precIdsFromDB: ri!precedentsFromDB[recordType!AS GCM QNM T Question Precedent.questionPrecedentTemplateId],\n    local!finalisedPrecIds: remove(\n      local!precIdsFromDB,\n      rule!AS_CO_UT_whereContains(\n        array: local!precIdsFromDB,\n        values: tointeger(\n          ri!deletedPksMap.questionPrecedentIdsToBeDeleted\n        )\n      )\n    ),\n    a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!precedentsFromDB,\n        expression: a!localVariables(\n          if(\n            and(\n              a!isNotNullOrEmpty(\n                tointeger(\n                  fv!item[recordType!AS GCM QNM T Question Precedent.questionPrecedentTemplateId]\n                )\n              ),\n              contains(\n                tointeger(\n                  ri!deletedPksMap.questionPrecedentIdsToBeDeleted\n                ),\n                tointeger(\n                  fv!item[recordType!AS GCM QNM T Question Precedent.questionPrecedentTemplateId]\n                )\n              )\n            ),\n            rule!AS_GCM_setRecordFields(\n              record: fv!item,\n              alwaysOverwrite: {\n                a!map(\n                  field: recordType!AS GCM QNM T Question Precedent.isActive,\n                  value: false\n                )\n              }\n            ),\n            a!localVariables(\n              local!findIndexInForm: rule!AS_CO_UT_whereContains(\n                values: fv!item[recordType!AS GCM QNM T Question Precedent.questionPrecedentTemplateId],\n                array: local!finalisedPrecIds\n              ),\n              local!currentConditionFromForm: index(\n                ri!precedentsFromForm,\n                local!findIndexInForm,\n                null\n              ),\n              local!dependentQuestionId: if(\n                a!isNullOrEmpty(local!currentConditionFromForm),\n                null,\n                index(\n                  local!currentConditionFromForm,\n                  recordType!AS GCM QNM T Question Precedent.questionTemplateId_precedent,\n                  null\n                ),\n                \n              ),\n              rule!AS_GCM_setRecordFields(\n                record: fv!item,\n                alwaysOverwrite: {\n                  a!map(\n                    field: recordType!AS GCM QNM T Question Precedent.questionTemplateId_precedent,\n                    value: displayvalue(\n                      local!dependentQuestionId,\n                      ri!questionsFromForm,\n                      ri!finalisedWrittenQuestionIds,\n                      null\n                    )\n                  )\n                }\n              )\n            )\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e415-3035-8000-9bb2-011c48011c48_292117": {
      "name": "AS_CO_UT_castToDictionaryList",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary?list',\n  if(\n    rule!AS_CO_UT_isBlank(ri!value),\n    {},\n    ri!value\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_39379-gcm": {
      "name": "AS_GCM_QNM_QR_getQuestionnaire_Template",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!relatedRecordData: {\n    #\"SYSTEM_SYSRULES_relatedRecordData\"(\n      relationship: recordType!AS GCM QNM T Questionnaire.questionCategories,\n      filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Question Category.isActive,\n        operator: \"in\",\n        value: rule!AS_CO_UT_replaceNull(\n          nullableValue: ri!isActive,\n          replacementValue: { true }\n        )\n      ),\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!AS GCM QNM T Question Category.displayOrder,\n        ascending: true()\n      )\n    ),\n    #\"SYSTEM_SYSRULES_relatedRecordData\"(\n      relationship: recordType!AS GCM QNM T Questionnaire.questions,\n      filters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM T Question.isActive,\n          operator: \"in\",\n          value: rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!isActive,\n            replacementValue: { true }\n          )\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM T Question.questionTemplateId,\n          operator: \"not in\",\n          value: ri!questionTemplateIdsToExclude,\n          applyWhen: a!isNotNullOrEmpty(ri!questionTemplateIdsToExclude)\n        )\n      },\n      sort: {\n        #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!AS GCM QNM T Question.groupNumber,\n          ascending: true\n        ),\n        #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!AS GCM QNM T Question.orderNumber,\n          ascending: true\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_relatedRecordData\"(\n      relationship: recordType!AS GCM QNM T Questionnaire.questions,\n      \n    ),\n    #\"SYSTEM_SYSRULES_relatedRecordData\"(\n      relationship: recordType!AS GCM QNM T Questionnaire.questions,\n      \n    ),\n    #\"SYSTEM_SYSRULES_relatedRecordData\"(\n      relationship: recordType!AS GCM QNM T Questionnaire.questions,\n      filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Question Precedent Set.isActive,\n        operator: \"in\",\n        value: rule!AS_CO_UT_replaceNull(\n          nullableValue: ri!isActive,\n          replacementValue: { true }\n        )\n      )\n    ),\n    #\"SYSTEM_SYSRULES_relatedRecordData\"(\n      relationship: #\"urn:appian:record-relationship:v1:9f80ae61-036a-46c1-8975-aebefe443c6e/60d96863-683c-425f-8d9b-7dd94d1cd5ba/35500f1d-7bad-40e6-8728-6bd75b0d3f03/8dca9ba9-cfbd-46c6-92b8-6a7d21aad4c4\",\n      filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Question Precedent.isActive,\n        operator: \"in\",\n        value: rule!AS_CO_UT_replaceNull(\n          nullableValue: ri!isActive,\n          replacementValue: { true }\n        )\n      )\n    ),\n    #\"SYSTEM_SYSRULES_relatedRecordData\"(\n      relationship: #\"urn:appian:record-relationship:v1:9f80ae61-036a-46c1-8975-aebefe443c6e/60d96863-683c-425f-8d9b-7dd94d1cd5ba/35500f1d-7bad-40e6-8728-6bd75b0d3f03/8dca9ba9-cfbd-46c6-92b8-6a7d21aad4c4/b37fc648-4c9c-4add-b535-2cbb861e4e19\",\n      \n    ),\n    ri!relatedRecordData\n  },\n  if(\n    and(\n      ri!getAllRelatedRecord,\n      a!isNullOrEmpty(ri!additionalFilters),\n      a!isNullOrEmpty(ri!logicalExpression),\n      rule!AS_GAM_UT_ArrayLength(ri!questionnaireTemplateId) = 1,\n      ri!executeWhen\n    ),\n    rule!AS_GCM_UT_queryRecordByIdentifier(\n      recordType: recordType!AS GCM QNM T Questionnaire,\n      identifier: ri!questionnaireTemplateId,\n      relatedRecordData: local!relatedRecordData\n    ),\n    rule!AS_CO_UT_queryRecord(\n      recordType: recordType!AS GCM QNM T Questionnaire,\n      returnType: a!defaultValue(\n        value: ri!returnType,\n        default: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n      ),\n      fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n        {\n          ri!fields,\n          if(\n            ri!includeRelatedRecords,\n            index(\n              local!relatedRecordData,\n              \"relationship\",\n              null\n            ),\n            {}\n          )\n        }\n      ),\n      filters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM T Questionnaire.questionnaireTemplateId,\n          operator: \"in\",\n          value: ri!questionnaireTemplateId\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM T Questionnaire.questionnaireTemplateId,\n          operator: \"not in\",\n          value: ri!questionnaireTemplateIdsToExclude\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM T Questionnaire.name,\n          operator: \"=\",\n          value: ri!name\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM T Questionnaire.isActive,\n          operator: \"in\",\n          value: rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!isActive,\n            replacementValue: { true }\n          )\n        ),\n        ri!additionalFilters\n      },\n      logicalExpression: ri!logicalExpression,\n      triggerRefresh: ri!triggerRefresh,\n      executeWhen: ri!executeWhen,\n      pagingInfo: ri!pagingInfo,\n      relatedRecordData: local!relatedRecordData\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76367": {
      "name": "AS_CO_UT_rejectNullValuesFromArray",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!array),\n  reject(\n    rule!AS_CO_UT_isBlank(_),\n    a!flatten(ri!array)\n  )\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13137207": {
      "name": "AS_GCM_QNM_getDependentTemplateQuestionsAndConfirmationMessage",
      "type": "Expression Rule",
      "sail_code": "a!match(\n  value: ri!action,\n  equals: cons!AS_GCM_QNM_TXT_EDIT_QUESTION_IN_QUESTIONNAIRE,\n  then: a!localVariables(\n    local!dependentQuestionIndexes: if(\n      rule!AS_CO_UT_isBlank(\n        tointeger(\n          ri!oldTemplateQuestion[recordType!AS GCM QNM T Question.questionReferenceId]\n        )\n      ),\n      null,\n      if(\n        tointeger(\n          ri!templateQuestion[recordType!AS GCM QNM T Question.questionReferenceId]\n        ) = tointeger(\n          ri!oldTemplateQuestion[recordType!AS GCM QNM T Question.questionReferenceId]\n        ),\n        null,\n        rule!AS_CO_UT_rejectNullValuesFromArray(\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!allTemplateQuestions[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets],\n            expression: a!localVariables(\n              local!currentQuestionIndex: wherecontains(\n                tointeger(\n                  index(\n                    ri!templateQuestion,\n                    recordType!AS GCM QNM T Question.questionTemplateId,\n                    null\n                  )\n                ),\n                tointeger(\n                  index(\n                    fv!item,\n                    recordType!AS GCM QNM T Question Precedent.questionTemplateId_precedent,\n                    null\n                  )\n                )\n              ),\n              if(\n                a!isNullOrEmpty(local!currentQuestionIndex),\n                null,\n                fv!index\n              )\n            )\n          )\n        )\n      )\n    ),\n    local!dependentQuestionNames: if(\n      rule!AS_CO_UT_isBlank(local!dependentQuestionIndexes),\n      null,\n      index(\n        ri!allTemplateQuestions,\n        local!dependentQuestionIndexes,\n        null\n      )[recordType!AS GCM QNM T Question.label]      \n    ),\n    local!bannerMessage: if(\n      rule!AS_CO_UT_isBlank(local!dependentQuestionNames),\n      null,\n      joinarray(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: local!dependentQuestionNames,\n          expression: \"\"\"\" & fv!item & \"\"\"\"\n        ),\n        \", \"\n      )\n    ),\n    a!map(\n      dependentQuestionIndexes: local!dependentQuestionIndexes,\n      header: if(\n        rule!AS_CO_UT_isBlank(local!dependentQuestionIndexes),\n        null,\n        rule!AS_GAM_CO_I18N_UT_displayLabel(\n          bundle: ri!bundle,\n          bundleKey: \"lbl_AreYouSureToThisQuestion\",\n          arguments: lower(\n            \"Edit\"\n          )\n        )\n      ),\n      message: if(\n        rule!AS_CO_UT_isBlank(local!dependentQuestionIndexes),\n        null,\n        if(\n          rule!AS_CO_UT_isBlank(local!dependentQuestionNames),\n          \"\",\n          \"This will remove conditional visibility in the below question(s):\" & \" \" & local!bannerMessage\n        )\n      )\n    )\n  ),\n  equals: cons!AS_GCM_QNM_TXT_DELETE_SECTION_IN_QUESTIONNAIRE,\n  then: a!map(\n    header: \"Are you sure to delete this section?\",\n    message: \"All the added questions and the associated conditional visibility will be removed.\"\n  ),\n  equals: cons!AS_GCM_QNM_TXT_DELETE_QUESTION_IN_QUESTIONNAIRE,\n  then: a!localVariables(\n    local!dependentQuestionIndexes: rule!AS_CO_UT_rejectNullValuesFromArray(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: index(\n          ri!allTemplateQuestions,\n          recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n          null\n        ),\n        expression: a!localVariables(\n          local!currentQuestionIndex: wherecontains(\n            tointeger(\n              index(\n                ri!templateQuestion,\n                recordType!AS GCM QNM T Question.questionTemplateId,\n                null\n              )\n            ),\n            tointeger(\n              index(\n                fv!item,\n                recordType!AS GCM QNM T Question Precedent.questionTemplateId_precedent,\n                null\n              )\n            )\n          ),\n          if(\n            a!isNullOrEmpty(local!currentQuestionIndex),\n            null,\n            fv!index\n          )\n        )\n      )\n    ),\n    local!dependentQuestionNames: if(\n      rule!AS_CO_UT_isBlank(local!dependentQuestionIndexes),\n      null,\n      index(\n        ri!allTemplateQuestions,\n        local!dependentQuestionIndexes,\n        null\n      )[recordType!AS GCM QNM T Question.label],\n      \n    ),\n    local!bannerMessage: if(\n      rule!AS_CO_UT_isBlank(local!dependentQuestionNames),\n      null,\n      joinarray(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: local!dependentQuestionNames,\n          expression: \"\"\"\" & fv!item & \"\"\"\"\n        ),\n        \", \"\n      )\n    ),\n    a!map(\n      dependentQuestionIndexes: local!dependentQuestionIndexes,\n      header: if(\n        rule!AS_CO_UT_isBlank(local!dependentQuestionIndexes),\n        null,\n        rule!AS_GAM_CO_I18N_UT_displayLabel(\n          bundle: ri!bundle,\n          bundleKey: \"lbl_AreYouSureToThisQuestion\",\n          arguments: lower(\n            \"\"\n          )\n        )\n      ),\n      message: if(\n        rule!AS_CO_UT_isBlank(local!dependentQuestionIndexes),\n        null,\n        if(\n          rule!AS_CO_UT_isBlank(local!dependentQuestionNames),\n          \"\",\n          \"This will remove conditional visibility in the below question(s):\" & \" \" & local!bannerMessage\n        )\n      )\n    )\n  ),\n  equals: cons!AS_GCM_QNM_TXT_DELETE_SECTION_IN_QUESTIONNAIRE,\n  then: a!map(\n    header: \"Are you sure to delete this section?\",\n    message: \"All the added questions and the associated conditional visibility will be removed.\"\n  ),\n  equals: cons!AS_GCM_QNM_TXT_MOVE_UP_QUESTION_IN_QUESTIONNAIRE,\n  then: a!localVariables(\n    local!currentTemplateQuestionId: tointeger(\n      index(\n        ri!templateQuestion,\n        recordType!AS GCM QNM T Question.questionTemplateId,\n        null\n      )\n    ),\n    local!aboveTemplateQuestion: index(\n      ri!currentSectionQuestions,\n      wherecontains(\n        tointeger(local!currentTemplateQuestionId),\n        tointeger(\n          index(\n            ri!currentSectionQuestions,\n            recordType!AS GCM QNM T Question.questionTemplateId,\n            null\n          )\n        )\n      ) - 1,\n      null\n    )[1],\n    local!aboveTemplateQuestionId: local!aboveTemplateQuestion[recordType!AS GCM QNM T Question.questionTemplateId],\n    local!hasDependentQuestion: contains(\n      tointeger(\n        index(\n          ri!templateQuestion,\n          recordType!AS GCM QNM T Question.isDisplayedPrecedentSets.questionPrecedents.questionTemplateId_precedent,\n          null\n        )\n      ),\n      tointeger(\n        local!aboveTemplateQuestion[recordType!AS GCM QNM T Question.questionTemplateId]\n      )\n    ),\n    a!map(\n      currentTemplateQuestionId: local!currentTemplateQuestionId,\n      aboveTemplateQuestion: local!aboveTemplateQuestion,\n      aboveTemplateQuestionId: local!aboveTemplateQuestionId,\n      header: if(\n        local!hasDependentQuestion,\n        \"Are you sure to move this question?\",\n        null\n      ),\n      message: if(\n        local!hasDependentQuestion,\n        \"This will remove conditional visibility in the below question(s):\" & \" \" & \"\"\"\" & ri!templateQuestion[recordType!AS GCM QNM T Question.label] & \"\"\"\",\n        null\n      )\n    )\n  ),\n  equals: cons!AS_GCM_QNM_TXT_MOVE_DOWN_QUESTION_IN_QUESTIONNAIRE,\n  then: a!localVariables(\n    local!currentTemplateQuestionId: tointeger(\n      index(\n        ri!templateQuestion,\n        recordType!AS GCM QNM T Question.questionTemplateId,\n        null\n      )\n    ),\n    local!belowTemplateQuestion: index(\n      ri!currentSectionQuestions,\n      wherecontains(\n        tointeger(local!currentTemplateQuestionId),\n        tointeger(\n          index(\n            ri!currentSectionQuestions,\n            recordType!AS GCM QNM T Question.questionTemplateId,\n            null\n          )\n        )\n      ) + 1,\n      null\n    )[1],\n    local!belowTemplateQuestionId: local!belowTemplateQuestion[recordType!AS GCM QNM T Question.questionTemplateId],\n    local!hasDependentQuestion: contains(\n      tointeger(\n        index(\n          local!belowTemplateQuestion,\n          recordType!AS GCM QNM T Question.isDisplayedPrecedentSets.questionPrecedents.questionTemplateId_precedent,\n          null\n        )\n      ),\n      tointeger(\n        ri!templateQuestion[recordType!AS GCM QNM T Question.questionTemplateId]\n      )\n    ),\n    a!map(\n      currentTemplateQuestionId: local!currentTemplateQuestionId,\n      belowTemplateQuestion: local!belowTemplateQuestion,\n      belowTemplateQuestionId: local!belowTemplateQuestionId,\n      header: if(\n        local!hasDependentQuestion,\n        \"Are you sure to move this question?\",\n        null\n      ),\n      message: if(\n        local!hasDependentQuestion,\n        \"This will remove conditional visibility in the below question(s):\" & \" \" & \"\"\"\" & local!belowTemplateQuestion[recordType!AS GCM QNM T Question.label] & \"\"\"\",\n        null\n      )\n    )\n  ),\n  default: {}\n)"
    },
    "0002e4ce-c67e-8000-1182-7f0000014e7a-gcm": {
      "name": "AS GCM QNM Write Questionnaire",
      "type": "Process Model",
      "sail_code": "// Input: ?\n=pv!finalisedQuestionnaire\n\n// Input: ?\n=recordType!AS GCM QNM T Questionnaire\n\n// Input: ?\n= if( pv!isEditQuestionnaire, rule!AS_GCM_QNM_QR_getQuestionnaire_Template( questionnaireTemplateId: pv!questionnaireFromForm[recordType!AS GCM QNM T Questionnaire.questionnaireTemplateId], executeWhen: true ), null)\n\n// Output: ?\nif(\n  pv!isEditQuestionnaire,\n  rule!AS_GCM_QNM_populateQuestionsAndSectionsToBeDeleted(\n    questionnaireFromDb: ac!oldQuestionnaire,\n    questionnaireFromForm: pv!questionnaireFromForm\n  ),\n  null\n)\n\n// Input: ?\nrule!AS_GCM_QNM_setMetaDataForTemplateQuestionnaireRecord(\n  questionnaires: rule!AS_GCM_QNM_refreshNegativeFksInQuestionnaire(questionnaire: pv!questionnaireFromForm),\n  initiator: pp!initiator\n)\n\n// Input: ?\n=recordType!AS GCM QNM T Questionnaire\n\n// Output: ?\nAC!RecordsUpdated\n\n// Input: ?\n=pv!oldQuestionnaire[recordType!AS GCM QNM T Questionnaire.questions]\n\n// Input: ?\n=pv!questionnaireFromForm[recordType!AS GCM QNM T Questionnaire.questions]\n\n// Input: ?\n= rule!AS_GCM_QNM_QR_getQuestionnaire_Template( executeWhen: true, questionnaireTemplateId: pv!writtenQuestionnaire[recordType!AS GCM QNM T Questionnaire.questionnaireTemplateId])\n\n// Output: ?\nrule!AS_GCM_QNM_updateQuestionnaireRecordAfterWrite(\n  questionnaireFromForm: pv!questionnaireFromForm,\n  writtenQuestionnaire: ac!writtenQuestionnaire,\n  deletedPksMap: pv!deletedQuestionnairePKMap\n)\n\n// Input: ?\n=cons!AS_GCM_QNM_PM_SET_DEFAULT_QUESTIONNAIRE_TEMPLATE\n\n// Input: ?\n={ questionnaireTemplateId: pv!writtenQuestionnaire[recordType!AS GCM QNM T Questionnaire.questionnaireTemplateId], questionnaireTemplate: #\"urn:appian:function:v1:a:update\"( pv!writtenQuestionnaire, recordType!AS GCM QNM T Questionnaire.isDefault, true() ), originalquestionnaireTemplate: pv!writtenQuestionnaire, userAction: cons!AS_CO_ENUM_USER_ACTION_SUBMIT}"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_271202": {
      "name": "AS_CO_UT_rejectCdtByField",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    rule!AS_CO_UT_isBlank(ri!cdt),\n    ri!cdt,\n    remove(\n      a!flatten(ri!cdt),\n      rule!AS_CO_UT_returnCdtIndicesByField(\n        cdt: ri!cdt,\n        field: ri!field,\n        value: ri!value\n      )\n    )\n  )\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13143013": {
      "name": "AS_GCM_QNM_BTN_Template_Question_addOrEdit",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!isCreate: a!refreshVariable(\n    value: rule!AS_CO_UT_isBlank(\n      value: ri!templateQuestion[recordType!AS GCM QNM T Question.questionTemplateId]\n    ),\n    refreshOnReferencedVarChange: false\n  ),\n  local!questionOrderNumber: a!refreshVariable(\n    value: ri!templateQuestion[recordType!AS GCM QNM T Question.orderNumber],\n    refreshOnReferencedVarChange: a!isNotNullOrEmpty(\n      ri!templateQuestion[recordType!AS GCM QNM T Question.orderNumber]\n    )\n  ),\n  local!metrics,\n  local!confirmationMessage: a!refreshVariable(\n    value: rule!AS_GCM_QNM_getDependentTemplateQuestionsAndConfirmationMessage(\n      bundle: ri!bundle,\n      oldTemplateQuestion: ri!oldTemplateQuestion,\n      allTemplateQuestions: ri!allTemplateQuestions,\n      templateQuestion: ri!templateQuestion,\n      action: cons!AS_GCM_QNM_TXT_EDIT_QUESTION_IN_QUESTIONNAIRE\n    ),\n    refreshOnVarChange: ri!templateQuestion\n  ),\n  local!questionTemplateId:ri!templateQuestion[recordType!AS GCM QNM T Question.questionTemplateId],\n  rule!AS_CO_CPS_cancelSaveButtons(\n    confirmLabel: rule!AS_GAM_CO_I18N_UT_displayLabel(\n      bundle: ri!bundle,\n      bundleKey: if(\n        ri!sectionMap.isEditQuestion,\n        \"btn_Update\",\n        \"btn_Add\"\n      )\n    ),\n    cancelLabel: \"Cancel\",\n    confirmSaveInto: {\n      if(\n        local!isCreate,\n        a!save(\n          local!metrics,\n          rule!AS_GCM_MTR_SAVE_addQuestionToQuestionnaire()\n        ),\n        {}\n      ),\n      a!save(\n        ri!templateQuestion,\n        rule!AS_GCM_setRecordFields(\n          record: ri!templateQuestion,\n          alwaysOverwrite: {\n            a!map(\n              field: recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n              value: if(\n                ri!templateQuestion[recordType!AS GCM QNM T Question.questionVisibility] = cons!AS_GCM_QNM_ENUM_TEMPLATE_QUESTION_VISIBILITY_ALWAYS_VISIBLE,\n                null,\n                recordType!AS GCM QNM T Question Precedent Set(\n                  recordType!AS GCM QNM T Question Precedent Set.questionPrecedentSetTemplateId: ri!templateQuestion[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets.questionPrecedentSetTemplateId],\n                  recordType!AS GCM QNM T Question Precedent Set.operator: ri!templateQuestion[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets.operator],\n                  recordType!AS GCM QNM T Question Precedent Set.questionPrecedents: rule!AS_GCM_QNM_Template_QuestionPrecedents_construct(\n                    conditionalVisibilityGridData: ri!conditionalGridData,\n                    thisQuestionPrecedents: ri!templateQuestion[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets]\n                  )\n                )\n              )\n            ),\n            a!map(\n              field: recordType!AS GCM QNM T Question.questionTemplateId,\n              value: null,\n              applyWhen: and(\n                local!questionTemplateId > 0,\n                ri!templateQuestion[recordType!AS GCM QNM T Question.questionReferenceId] <> tointeger(\n                  ri!oldTemplateQuestion[recordType!AS GCM QNM T Question.questionReferenceId]\n                )\n              )\n            )\n          }\n        )\n      ),\n      if(\n        ri!sectionMap.isEditQuestion,\n        a!save(\n          ri!allTemplateQuestions[wherecontains(\n            tointeger(local!questionTemplateId), tointeger(\n              ri!allTemplateQuestions[recordType!AS GCM QNM T Question.questionTemplateId]\n            )\n          )],\n          ri!templateQuestion\n        ),\n        a!save(\n          ri!allTemplateQuestions,\n          append(\n            ri!allTemplateQuestions,\n            ri!templateQuestion\n          )\n        )\n      ),\n      a!save(\n        {\n          ri!templateQuestion,\n          ri!templateQuestionBeingEdited,\n          ri!oldTemplateQuestion,\n          ri!conditionalGridData,\n          ri!searchText\n        },\n        null\n      ),\n      a!save(\n        ri!sectionMap,\n        #\"urn:appian:function:v1:a:update\"(\n          ri!sectionMap,\n          { \"isAddQuestion\", \"isEditQuestion\" },\n          { false, false }\n        )\n      ),\n      a!save(\n        ri!pagingInfo,\n        #\"SYSTEM_SYSRULES_pagingInfo\"(\n          startIndex: 1,\n          batchSize: cons!AS_CO_ENUM_PAGE_SIZE_SMALL\n        )\n      ),\n      if(\n        rule!AS_CO_UT_isBlank(\n          index(\n            local!confirmationMessage,\n            \"dependentQuestionIndexes\",\n            null\n          )\n        ),\n        {},\n        a!save(\n          ri!allTemplateQuestions,\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!allTemplateQuestions,\n            expression: if(\n              contains(\n                tointeger(\n                  index(\n                    local!confirmationMessage,\n                    \"dependentQuestionIndexes\",\n                    null\n                  )\n                ),\n                fv!index\n              ),\n              rule!AS_GCM_setRecordFields(\n                record: fv!item,\n                alwaysOverwrite: {\n                  a!map(\n                    field: recordType!AS GCM QNM T Question.questionVisibility,\n                    value: cons!AS_GCM_QNM_ENUM_TEMPLATE_QUESTION_VISIBILITY_ALWAYS_VISIBLE\n                  ),\n                  a!map(\n                    field: recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n                    value: null\n                  )\n                }\n              ),\n              fv!item\n            )\n          )\n        )\n      )\n\n    },\n    cancelSaveInto: {\n      a!save(\n        ri!sectionMap,\n        #\"urn:appian:function:v1:a:update\"(\n          ri!sectionMap,\n          { \"isAddQuestion\", \"isEditQuestion\" },\n          { false, false }\n        )\n      ),\n      a!save(\n        {\n          ri!templateQuestion,\n          ri!templateQuestionBeingEdited,\n          ri!oldTemplateQuestion,\n          ri!conditionalGridData,\n          ri!searchText\n        },\n        null\n      ),\n      a!save(\n        ri!pagingInfo,\n        #\"SYSTEM_SYSRULES_pagingInfo\"(\n          startIndex: 1,\n          batchSize: cons!AS_CO_ENUM_PAGE_SIZE_SMALL\n        )\n      )\n    },\n    confirmSubmit: false,\n    cancelSubmit: false,\n    confirmDisabled: a!isNullOrEmpty(\n      ri!templateQuestion[recordType!AS GCM QNM T Question.questionReferenceId]\n    ),\n    cancelDisabled: if(\n      ri!sectionMap.isEditQuestion,\n      false,\n      and(\n        tointeger(local!questionOrderNumber) = 1,\n        ri!sectionMap.isAddQuestion\n      )\n    ),\n    confirmHeader: index(\n      local!confirmationMessage,\n      \"header\",\n      null\n    ),\n    confirmMessage: index(\n      local!confirmationMessage,\n      \"message\",\n      null\n    ),\n    cancelStyle: \"SECONDARY\",\n    confirmSize: \"SMALL\",\n    cancelSize: \"SMALL\",\n    confirmValidationGroup: cons!AS_GCM_QNM_TXT_VALIDATION_GROUP_ADD_QUESTION\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_112825": {
      "name": "AS_CO_UT_toString",
      "type": "Expression Rule",
      "sail_code": "if(\n/* to prevent modulus from breaking */\n  isnull(ri!value),\n  ri!value,\n  if(\n    todecimal(ri!value) = tostring(ri!value),\n    if(\n      mod(ri!value, 1) = 0,\n      text(\n        todecimal(ri!value), \"##\"\n      ),\n      text(\n        todecimal(ri!value), \"##.##\"\n      )\n    ),\n    ri!value\n  )\n)"
    },
    "_a-0000e447-91f4-8000-9bc0-011c48011c48_584965-adt": {
      "name": "AS_ADT_UT_startAuditProcess_Parameters",
      "type": "Expression Rule",
      "sail_code": "{\n  auditParams: 'type!{urn:com:appian:types:AS:ADT}AS_ADT_P_AuditProcessParameters'(\n    newObjects: rule!AS_CO_UT_cast(\n      value: ri!newObjects,\n      type: rule!AS_CO_UT_returnArrayTypeNumber(type: ri!objectType),\n      \n    ),\n    originalObjects: rule!AS_CO_UT_cast(\n      value: ri!originalObjects,\n      type: rule!AS_CO_UT_returnArrayTypeNumber(type: ri!objectType),\n      \n    ),\n    objectTypeNumber: rule!AS_CO_UT_returnTypeNumber(type: ri!objectType),\n    namespace: rule!AS_CO_UT_getTypeNamespace(type: ri!objectType),\n    objectDse: ri!objectDse,\n    auditDse: ri!auditDse,\n    username: rule!AS_CO_UT_replaceNull(\n      nullableValue: ri!username,\n      replacementValue: loggedInUser()\n    ),\n    externalAction: ri!externalAction,\n    auditConfig: ri!auditConfig,\n    auditType: ri!auditType,\n    manipulationAudit: ri!manipulationAudit,\n    complexFieldName: ri!complexFieldName\n  )\n}"
    },
    "_a-0000e69a-ff03-8000-9bd0-011c48011c48_1642337": {
      "name": "AS_GCM_MTR_SAVE_removeCategoryFromQuestionnaire",
      "type": "Expression Rule",
      "sail_code": "{}"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13179551": {
      "name": "AS_GCM_QNM_refreshNegativeFksInQuestionnaire",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!sections: ri!questionnaire[recordType!AS GCM QNM T Questionnaire.questionCategories],\n  local!questions: ri!questionnaire[recordType!AS GCM QNM T Questionnaire.questions],\n  local!finalisedSections: a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!sections,\n      expression: rule!AS_GCM_setRecordFields(\n        record: fv!item,\n        alwaysOverwrite: {\n          a!map(\n            field: recordType!AS GCM QNM T Question Category.isActive,\n            value: true\n          ),\n          a!map(\n            field: recordType!AS GCM QNM T Question Category.questionCategoryTemplateId,\n            value: if(\n              fv!item[recordType!AS GCM QNM T Question Category.questionCategoryTemplateId] < 0,\n              null,\n              fv!item[recordType!AS GCM QNM T Question Category.questionCategoryTemplateId]\n            )\n          )\n        }\n      )\n    )\n  ),\n  local!finalisedQuestions: a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!questions,\n      expression: a!localVariables(\n        local!currentQuestion: fv!item,\n        local!isAlwaysVisible: local!currentQuestion[recordType!AS GCM QNM T Question.questionVisibility] = cons!AS_GCM_QNM_ENUM_TEMPLATE_QUESTION_VISIBILITY_ALWAYS_VISIBLE,\n        local!conditionalVisibilities: if(\n          local!isAlwaysVisible,\n          null,\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!currentQuestion[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets],\n            expression: rule!AS_GCM_setRecordFields(\n              record: fv!item,\n              alwaysOverwrite: {\n                /*a!map(*/\n                  /*field: 'recordType!{e2cf072a-7e15-42a5-8c16-db069819e29d}AS GCM QNM T Question Precedent.fields.{b8329f6d-507e-42e4-9f0e-106440f1ff83}questionTemplateId_precedent',*/\n                  /*value: null*/\n                /*),*/\n                a!map(\n                  field: recordType!AS GCM QNM T Question Precedent.isActive,\n                  value: true\n                )\n              }\n            )\n          )\n        ),\n        local!currentPrecedentSet: if(\n          local!isAlwaysVisible,\n          null,\n          rule!AS_GCM_setRecordFields(\n            record: local!currentQuestion[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets],\n            alwaysOverwrite: {\n              a!map(\n                field: recordType!AS GCM QNM T Question Precedent Set.questionPrecedents,\n                value: local!conditionalVisibilities\n              ),\n              a!map(\n                field: recordType!AS GCM QNM T Question Precedent Set.isActive,\n                value: true\n              )\n            }\n          )\n        ),\n        rule!AS_GCM_setRecordFields(\n          record: local!currentQuestion,\n          alwaysOverwrite: {\n            a!map(\n              field: recordType!AS GCM QNM T Question.questionTemplateId,\n              value: if(\n                local!currentQuestion[recordType!AS GCM QNM T Question.questionTemplateId] < 0,\n                null,\n                local!currentQuestion[recordType!AS GCM QNM T Question.questionTemplateId]\n              )\n            ),\n            a!map(\n              field: recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n              value: local!currentPrecedentSet\n            )\n          }\n        )\n      )\n    )\n  ),\n  rule!AS_GCM_setRecordFields(\n    record: ri!questionnaire,\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!AS GCM QNM T Questionnaire.questionCategories,\n        value: local!finalisedSections\n      ),\n      a!map(\n        field: recordType!AS GCM QNM T Questionnaire.questions,\n        value: local!finalisedQuestions\n      )\n    }\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_44330-gcm": {
      "name": "AS_GCM_QNM_UT_buildQuestionPrecedentSets_RuntimeFromTemplate",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!questionPrecedentSets_Template,\n  expression: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_QuestionPrecedentSet'(\n    operator: fv!item[recordType!AS GCM QNM T Question Precedent Set.operator],\n    fieldKey: fv!item[recordType!AS GCM QNM T Question Precedent Set.fieldKey],\n    questionPrecedentSets: rule!AS_GCM_QNM_UT_buildQuestionPrecedentSets_RuntimeFromTemplate(\n      questions_Template: ri!questions_Template,\n      questionPrecedentSets_Template: fv!item[recordType!AS GCM QNM T Question Precedent Set.questionPrecedentSets]\n    ),\n    questionPrecedents: #\"SYSTEM_SYSRULES_forEach\"(\n      items: fv!item[recordType!AS GCM QNM T Question Precedent Set.questionPrecedents],\n      expression: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_QuestionPrecedent'(\n        questionId_precedent: wherecontains(\n          fv!item[recordType!AS GCM QNM T Question Precedent.questionTemplateId_precedent],\n          ri!questions_Template[recordType!AS GCM QNM T Question.questionTemplateId]\n        ),\n        responseRequirement: rule!AS_GCM_QNM_UT_buildResponseRequirements_RuntimeFromTemplate(\n          responseRequirements_Template: fv!item[recordType!AS GCM QNM T Question Precedent.responseRequirement]\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_983591": {
      "name": "AS_GAM_ADT_UT_constructDynamicDictionaryForManipulatedAudit",
      "type": "Expression Rule",
      "sail_code": "/*If the audit data is not nested and is manipulated and passed from outsite, we can directly construct the audit entry for each ri!auditParams.manipulationAudit*/\n#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!auditParams.manipulationAudit,\n  expression: rule!AS_CO_UT_dynamicDictionary(\n    fieldValuePairs: {\n      if(\n        rule!AS_CO_UT_isBlank(\n          index(\n            ri!auditParams.auditConfig,\n            \"idField\",\n            null\n          )\n        ),\n        {},\n        {\n          field: ri!auditParams.auditConfig.idField,\n          value: index(\n            index(\n              ri!auditParams.newObjects,\n              tostring(ri!auditParams.auditConfig.idField),\n              null\n            ),\n            1,\n            null\n          )\n        }\n      ),\n      { field: \"username\", value: ri!initiator },\n      { field: \"timestamp\", value: now() },\n      {\n        field: \"auditActionCode\",\n        value: /*If the action code varies for each manipulation audit, actionCode within auditParams.manipulationAudit will be used. Else, externalAction will be used*/\n        rule!AS_CO_UT_replaceNull(\n          nullableValue: fv!item.actionCode,\n          replacementValue: ri!auditParams.externalAction\n        )\n      },\n      if(\n        rule!AS_CO_UT_isNotBlank(\n          ri!auditParams.auditConfig.foreignIdField\n        ),\n        {\n          field: ri!auditParams.auditConfig.foreignIdField,\n          value: index(\n            index(\n              ri!auditParams.newObjects,\n              tostring(\n                ri!auditParams.auditConfig.foreignIdField\n              ),\n              null\n            ),\n            1,\n            null\n          )\n        },\n        {}\n      ),\n      /*The field changes will be passed as label value pairs in \"fieldChanges\" column of auditParams.manipulationAudit\"*/\n      {\n        field: \"simpleFieldChanges\",\n        value: rule!AS_CO_UT_castToDictionaryList(value: fv!item.fieldChanges)\n      }\n    }\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_74131": {
      "name": "AS_CO_DSP_standardReadOnlyField",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_textField\"(\n  label: ri!label,\n  labelPosition: rule!AS_CO_UT_getLabelPosition(\n    label: ri!label,\n    labelPosition: ri!labelPosition,\n    readOnly: true\n  ),\n  instructions: ri!instructions,\n  helpTooltip: ri!helpTooltip,\n  value: rule!AS_CO_UT_replaceNull(\n    nullableValue: ri!value,\n    replacementValue: if(\n      rule!AS_CO_UT_booleanDefaultTrue(\n        ri!showHyphenIfValueNull\n      ),\n      \"-\",\n      \"\"\n    )\n  ),\n  showWhen: ri!showWhen,\n  readOnly: true,\n  align: ri!align,\n  accessibilityText: ri!accessibilityText\n)"
    },
    "_a-0000ec50-376f-8000-9d94-011c48011c48_12937069": {
      "name": "AS_GCM_UT_queryRecordByIdentifier",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS ON HOW TO USE\n\nPlease DO NOT auto-format this rule\n\n*/\na!localVariables(\n  /*Determine the castResultToType*/\n  local!castResultToType: a!defaultValue(ri!castToCdtType, ri!recordType),\n  /*Execute the query*/\n  local!queryResult: a!refreshVariable(\n    value: if(\n      ri!executeWhen = false,\n      null(ri!recordType),\n      #\"SYSTEM_SYSRULES_queryRecordByIdentifier\"(\n        recordType: ri!recordType,\n        identifier: ri!identifier,\n        fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n          {\n            ri!fields,\n            index(\n              ri!relatedRecordData,\n              \"relationship\",\n              null\n            )\n          }\n        ),\n        relatedRecordData: ri!relatedRecordData\n      )\n    ),\n    refreshOnVarChange: ri!triggerRefresh,\n    refreshInterval: ri!refreshInterval,\n    refreshAfter: { \"RECORD_ACTION\" }\n  ),\n  rule!AS_CO_UT_cast(\n    type: local!castResultToType,\n    value: local!queryResult\n  )\n)/*\n\nDOCUMENTATION\n\nThis rule is designed to minimize the overhead with querying data and then casting the result\n\n\nRequired Inputs:\n\n1. recordType\n- This is a recordtype! input of the data type to be queried against\n\n2. identifier\n- The primary key of the record type which needs to be queried\n\nOptional Inputs:\n\n3. executeWhen\n- The query will not execute if this is false, the query will execute if this is true or null\n-- This is meant to operate in a similar manner to the showWhen parameter of components\n- Use this to skip execution of a query without needing to wrap if() statements around the rule\n-- Examples of this would be to skip querying if your filter value is a null ID\n- If the query does not execute, this will return a null value whose type is based on the returnType input\n\n4. triggerRefresh\n- By default, the query will always re-execute whenever any inputs change\n- However, by updating the value of triggerRefresh, you can also trigger a re-execution even if none of the other inputs change (e.g. after a record action)\n\n5. castToCdtType\n- Any cdt type to the cast the result set. \n\n6. fields\n- The record fields that need to be queried\n\n7. relatedRecordData\n- the relatedRecordData in which the filters and limit can be specified for each relationship\n\n*/"
    },
    "_a-0000e460-9d93-8000-9bc1-011c48011c48_597567-gcm": {
      "name": "AS_GCM_QNM_UT_buildResponseRequirements_RuntimeFromTemplate",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!responseRequirements_Template,\n  expression: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_ResponseRequirement'(\n    fieldKey: fv!item[recordType!AS GCM QNM T Response Requirement.fieldKey],\n    requirementTypeCode: fv!item[recordType!AS GCM QNM T Response Requirement.requirementTypeCode],\n    requirementValue: fv!item[recordType!AS GCM QNM T Response Requirement.requirementValue]\n  )\n)"
    },
    "_a-0000e6c8-d132-8000-9bbe-011c48011c48_469266": {
      "name": "AS_CO_UT_queryRecord",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS ON HOW TO USE\n\nPlease DO NOT auto-format this rule\n\n*/\n\n\n/*Error handling*/\nif(\n  rule!AS_CO_UT_isBlank(ri!returnType),\n  fn!error(concat(\"Null `returnType` passed to AS_CO_UT_queryRecord for recordType `\", ri!recordType, \"`.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  not(contains(rule!AS_CO_CONS_QE_RETURN_TYPES(), ri!returnType)),\n  fn!error(concat(\"Unknown `returnType` passed to AS_CO_UT_queryRecord for recordType `\", ri!recordType, \"`.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  rule!AS_CO_UT_isBlank(ri!recordType),\n  fn!error(concat(\"Null `recordType` passed to AS_CO_UT_queryRecord.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    rule!AS_CO_UT_isBlank(ri!pagingInfo)\n  ),\n  fn!error(concat(\"`pagingInfo` is required (cannot be null) for `returnType` DATA_SUBSET\")),\n  and(\n    ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    rule!AS_CO_UT_isNotBlank(ri!pagingInfo)\n  ),\n  fn!error(concat(\"`pagingInfo` must be null when the `returnType` is not DATA_SUBSET, instead use `sort` to pass custom-sorting and `startIndex` & `batchSize` will be automatically calculated for you\")),\n  and(\n    not(isnull(ri!pagingInfo)),\n    rule!AS_CO_UT_isNotBlank(ri!sort)\n  ),\n  fn!error(concat(\"`sort` parameter must be null when `pagingInfo` is provided.  Use the sort field of the provided `pagingInfo` instead.\")),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isBlank(ri!aggregationFields)\n  ),\n  fn!error(\"You must provide an input for `aggregationFields` when `returnType` is AGGREGATION\"),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isNotBlank(ri!fields)\n  ),\n  fn!error(\"You cannot provide an input for `fields` when `returnType` is AGGREGATION.  Use `aggregationFields` instead.\"),\n  and(\n    ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isNotBlank(ri!aggregationFields)\n  ),\n  fn!error(\"You cannot provide an input for `aggregationFields` when `returnType` is not AGGREGATION.  Use `fields` instead.\"),\n  and(\n    rule!AS_CO_UT_isNotBlank(ri!castToCdtType),\n    not(contains(\n      {cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY, cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT, cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET},\n      ri!returnType\n    )),\n  ),\n  fn!error(\"'castToCdtType' is only supported for SINGLE_OBJECT, OBJECT_ARRAY, and DATA_SUBSET return types\"),\n\n  a!localVariables(\n\n    /*Determine the castResultToType*/\n    local!castResultToType: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   'type!{http://www.appian.com/ae/types/2009}Map',\n        /*SINGLE_OBJECT*/ a!defaultValue(ri!castToCdtType, ri!recordType),\n        /*OBJECT_ARRAY*/  rule!AS_CO_UT_returnArrayTypeNumber(type: a!defaultValue(ri!castToCdtType, ri!recordType)),\n        /*AGGREGATION*/   'type!{http://www.appian.com/ae/types/2009}Map?list',\n        /*TOTAL_COUNT*/   'type!{http://www.appian.com/ae/types/2009}Integer',\n      }\n    ),\n\n    /*Determine the batchSize*/\n    local!batchSize: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   ri!pagingInfo.batchSize,\n        /*SINGLE_OBJECT*/ 1,\n        /*OBJECT_ARRAY*/  a!defaultValue(ri!pagingInfo.batchSize, cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE),\n        /*AGGREGATION*/   cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE,\n        /*TOTAL_COUNT*/   1,\n      }\n    ),\n\n    /*Determine the pagingInfo*/\n    local!pagingInfo: if(\n      ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n      /*Use specific pagingInfo for DATA_SUBSET*/\n      ri!pagingInfo,\n      /*Otherwise calculate pagingInfo for all other returnTypes*/\n      #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: local!batchSize,\n        sort: ri!sort\n      )\n    ),\n\n    /*Determine the fetchTotalCount*/\n    local!fetchTotalCount: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   true,\n        /*SINGLE_OBJECT*/ false,\n        /*OBJECT_ARRAY*/  false,\n        /*AGGREGATION*/   false,\n        /*TOTAL_COUNT*/   true,\n      }\n    ),\n\n    /*Execute the query*/\n    local!queryResult: a!refreshVariable(\n      value: if(\n        ri!executeWhen = false,\n        null(\n          if(\n            ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n            rule!AS_CO_TYPE_Dictionary(),\n            ri!recordType\n          )\n        ),\n        #\"SYSTEM_SYSRULES_queryRecordType_v1\"(\n          recordType: ri!recordType,\n          fields: a!defaultValue(\n            ri!fields,\n            ri!aggregationFields\n          ),\n          filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            logicalExpressions: {\n              #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"AND\",\n                ignoreFiltersWithEmptyValues: true,\n                filters: a!defaultValue(ri!filters, {})\n              ),\n              a!defaultValue(ri!logicalExpression, {})\n            }\n          ),\n          pagingInfo: local!pagingInfo,\n          fetchTotalCount: local!fetchTotalCount,\n          relatedRecordData: ri!relatedRecordData\n        )\n      ),\n      refreshOnVarChange: ri!triggerRefresh,\n      refreshAfter: {\"RECORD_ACTION\"}\n    ),\n\n    /*Parse the queryResult*/\n    local!queryResultParse: choose(\n      rule!AS_CO_UT_chooseWherecontainsHelper(\n        value: ri!returnType,\n        inArray: rule!AS_CO_CONS_QE_RETURN_TYPES()\n      ),\n      /*Default, required value based on how AS_CO_UT_chooseWherecontainsHelper operates*/ \"\",\n      /*DATA_SUBSET*/   if(\n        rule!AS_CO_UT_isNotBlank(ri!castToCdtType),\n        /*Note that for a data subset, the parent is a map, but we allow casting the child 'data' field as well*/\n        rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n          cdt: local!queryResult,\n          fieldValuePairs: {\n            field: \"data\",\n            value: cast(\n              rule!AS_CO_UT_returnArrayTypeNumber(type: ri!castToCdtType),\n              local!queryResult.data\n            )\n          }\n        ),\n        local!queryResult\n      ),\n      /*SINGLE_OBJECT*/ local!queryResult.data,\n      /*OBJECT_ARRAY*/  local!queryResult.data,\n      /*AGGREGATION*/   local!queryResult.data,\n      /*TOTAL_COUNT*/   local!queryResult.totalCount,\n    ),\n\n    rule!AS_CO_UT_cast(\n      type: local!castResultToType,\n      value: local!queryResultParse\n    )\n  )\n)\n\n/*\n\nDOCUMENTATION\n\nThis rule is designed to minimize the overhead with querying data and then casting the result\n\n\nRequired Inputs:\n\n1. recordType\n- This is a recordtype! input of the data type to be queried against\n\n2. returnType\n- This depends on the purpose for the query, and should be one of the returnTypes in rule!AS_CO_CONS_QE_RETURN_TYPES\n-- DATA_SUBSET - This will return a DataSubset; pagingInfo is required\n-- SINGLE_OBJECT - This will return a single record whose type is the recordType; pagingInfo must be null\n-- ARRAY_OBJECT - This will return an array of records whose type is an array of the recordType; pagingInfo must be null\n-- AGGREGATION - This will return an array of Dictionaries; pagingInfo must be null\n---- NOTE: If you need Aggregation with paging controls, such as for a grid, use returnType DATA_SUBSET\n-- TOTAL_COUNT - This will return an Integer of the total count; pagingInfo must be null\n\n\nOptional Inputs:\n\n3. executeWhen\n- The query will not execute if this is false, the query will execute if this is true or null\n-- This is meant to operate in a similar manner to the showWhen parameter of components\n- Use this to skip execution of a query without needing to wrap if() statements around the rule\n-- Examples of this would be to skip querying if your filter value is a null ID\n- If the query does not execute, this will return a null value whose type is based on the returnType input\n\n4. triggerRefresh\n- By default, the query will always re-execute whenever any inputs change\n- However, by updating the value of triggerRefresh, you can also trigger a re-execution even if none of the other inputs change (e.g. after a record action)\n\n5. filters\n- Array of filters to apply to the query, built with a!queryFilter()\n- These filters will be applied with an AND operator\n- These filters will apply in addition to the logicalExpression input, combining both with an AND operator\n\n6. logicalExpression\n- A logical expression to apply to the query, built with a!queryLogicalExpression()\n- This logical expression will apply in addition to the filters input, combining both with an AND operator\n\n7. aggregationFields\n- Aggregation to apply to the query, built with a!aggregationField()\n\n8. fields\n- List of recordFields and relatedRecordFields to return.  When querying a record, any relatedRecordFields are not returned\nby default, and must be specifically requested.\n\n9. pagingInfo\n- Paging info to apply to the query, built with a!pagingInfo() or derived from fv!pagingInfo in grids\n- This is required if passing returnType DATA_SUBSET, otherwise it must be null\n- For returnTypes that are not DATA_SUBSET, the batch size will be automatically calculated depending on the returnType\n-- For example, passing SINGLE_OBJECT will automatically apply a batch size of 1, whereas ARRAY_OBJECT and AGGREGATION will automatically apply a batch size of the defined query batch size maximum\n\n10. sort\n- Array of sort to apply to the query, built with a!sortInfo()\n- This is meant to be used with returnType ARRAY_OBJECT and AGGREGATION, since pagingInfo is not required for these, but a specified sort may be used\n- Cannot be used in conjunction with pagingInfo.sort\n\n11. castToCdtType\n- Any cdt type to the cast the result set. \n- This is meant to be used with only returnType OBJECT_ARRAY and SINGLE_OBJECT.\n\n*/"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_272151": {
      "name": "AS_CO_UT_whereContains",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer?list',\n  with(\n    local!array: a!flatten(ri!array),\n  \n    if(\n    \n      /*Have to handle separately for document types due to how it casts to string*/\n      rule!AS_CO_UT_typeCompare(\n        value1: local!array,\n        value2: {todocument(null)}\n      ),\n      wherecontains(\n        todocument(ri!values),\n        local!array\n      ),\n    \n      /*Have to handle separately for group types due to how it casts to string*/\n      rule!AS_CO_UT_typeCompare(\n        value1: local!array,\n        value2: {togroup(null)}\n      ),\n      wherecontains(\n        togroup(ri!values),\n        local!array\n      ),\n    \n      /*Casting to string accounts for any primitive type (integer, boolean, ect.)*/\n      wherecontains(\n        if(\n          rule!AS_CO_UT_isBlank(ri!values),\n          touniformstring(ri!values),\n          touniformstring(a!flatten(ri!values))\n        ),\n        touniformstring(local!array)\n      )\n    )\n  )\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13170714": {
      "name": "AS_GCM_QNM_populateResponseRequirementsToBeDeleted",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!initialResponseRequirements),\n  null,\n  a!localVariables(\n    local!responseIdstobeDeleted: if(\n      rule!AS_CO_UT_isBlank(ri!writtenResponseRequirements),\n      ri!initialResponseRequirements[recordType!AS GCM QNM T Response Requirement.responseRequirementTemplateId],\n      difference(\n        tointeger(\n          ri!initialResponseRequirements[recordType!AS GCM QNM T Response Requirement.responseRequirementTemplateId]\n        ),\n        tointeger(\n          ri!writtenResponseRequirements[recordType!AS GCM QNM T Response Requirement.responseRequirementTemplateId]\n        )\n      )\n    ),\n    rule!AS_CO_UT_indexWhere(\n      value: local!responseIdstobeDeleted,\n      initialArray: ri!initialResponseRequirements[recordType!AS GCM QNM T Response Requirement.responseRequirementTemplateId],\n      finalArray: ri!initialResponseRequirements\n    )\n  )\n)"
    },
    "_a-0000e4b1-2fbc-8000-9bc6-011c48011c48_941303-gcm": {
      "name": "AS_GCM_QNM_ADT_BL_Template_Questionnaire_auditConfig",
      "type": "Expression Rule",
      "sail_code": "/*AS_GCM_QNM_T_Questionnaire*/\n{\n  idField: \"questionnaireTemplateId\",\n  simpleFields: {\n    \"name\",\n    \"description\",\n    \"customerDomicile\",\n    \"customerTypeCode\",\n    \"isDefault\"\n  },\n  complexFields: {\n    /*AS_GCM_QNM_T_Question*/\n    {\n      fieldName: \"questions\",\n      auditFieldName: \"questionChanges\",\n      idField: \"questionTemplateId\",\n      simpleFields: {\n        \"questionReferenceId\",\n        \"label\",\n        \"instructions\",\n        \"pageNumber\",\n        /* Not capturing the audit for groupNumber as there is no ability to re-order the sections currently */\n        /*\"groupNumber\",*/\n        \"orderNumber\",\n        \"questionCategoryTemplateId\",\n        \"questionVisibility\",\n        \"isExternalUserFacing\"\n      },\n      complexFields: {\n        /*Response Options*/\n        {\n          fieldName: \"responseOptions\",\n          auditFieldName: \"responseOptionsChanges\",\n          idField: \"responseTemplateId\",\n          simpleFields: { \"fieldKey\", \"label\", \"value\" },\n          complexFields: {},\n          recordIdField: \"questionTemplateId\"\n        },\n        /*Default Responses*/\n        {\n          fieldName: \"defaultResponses\",\n          auditFieldName: \"defaultResponsesChanges\",\n          idField: \"responseTemplateId\",\n          simpleFields: { \"fieldKey\", \"label\", \"value\" },\n          complexFields: {},\n          recordIdField: \"questionTemplateId\"\n        },\n        /*Response Requirements*/\n        {\n          fieldName: \"responseRequirements\",\n          auditFieldName: \"responseRequirementsChanges\",\n          idField: \"responseRequirementTemplateId\",\n          simpleFields: {\n            \"fieldKey\",\n            \"requirementTypeCode\",\n            \"requirementValue\"\n          },\n          complexFields: {},\n          recordIdField: \"questionTemplateId\"\n        },\n        /*Displayed Precedent Sets*/\n        {\n          fieldName: \"isDisplayedPrecedentSets\",\n          auditFieldName: \"isDisplayedPrecedentSetsChanges\",\n          idField: \"questionPrecedentSetTemplateId\",\n          simpleFields: { \"fieldKey\", \"operator\" },\n          complexFields: {\n            /*Question Precedent Sets*/\n            {\n              fieldName: \"questionPrecedentSets\",\n              auditFieldName: \"questionPrecedentSetChanges\",\n              idField: \"questionPrecedentSetTemplateId\",\n              simpleFields: { \"fieldKey\", \"operator\" },\n              complexFields: {}\n            },\n            /*Question Precedents*/\n            {\n              fieldName: \"questionPrecedents\",\n              auditFieldName: \"questionPrecedentChanges\",\n              idField: \"questionPrecedentTemplateId\",\n              simpleFields: { \"questionTemplateId_precedent\" },\n              complexFields: {\n                {\n                  fieldName: \"responseRequirement\",\n                  auditFieldName: \"responseRequirementChanges\",\n                  idField: \"responseRequirementTemplateId\",\n                  simpleFields: {\n                    \"fieldKey\",\n                    \"requirementTypeCode\",\n                    \"requirementValue\"\n                  },\n                  complexFields: {}\n                }\n              }\n            }\n          },\n          recordIdField: \"questionTemplateId\"\n        },\n        /*Required Precedent Sets*/\n        {\n          fieldName: \"isRequiredPrecedentSets\",\n          auditFieldName: \"isRequiredPrecedentSetsChanges\",\n          idField: \"questionPrecedentSetTemplateId\",\n          simpleFields: { \"fieldKey\", \"operator\" },\n          complexFields: {\n            /*Question Precedent Sets*/\n            {\n              fieldName: \"questionPrecedentSets\",\n              auditFieldName: \"questionPrecedentSetChanges\",\n              idField: \"questionPrecedentSetTemplateId\",\n              simpleFields: { \"fieldKey\", \"operator\", \"isActive\" },\n              complexFields: {},\n              recordIdField: \"questionTemplateId\"\n            },\n            /*Question Precedents*/\n            {\n              fieldName: \"questionPrecedents\",\n              auditFieldName: \"questionPrecedentChanges\",\n              idField: \"questionPrecedentTemplateId\",\n              simpleFields: { \"questionTemplateId_precedent\" },\n              complexFields: {\n                {\n                  fieldName: \"responseRequirement\",\n                  auditFieldName: \"responseRequirementChanges\",\n                  idField: \"responseRequirementTemplateId\",\n                  simpleFields: {\n                    \"fieldKey\",\n                    \"requirementTypeCode\",\n                    \"requirementValue\"\n                  },\n                  complexFields: {},\n                  recordIdField: \"questionTemplateId\"\n                }\n              },\n              recordIdField: \"questionTemplateId\"\n            }\n          },\n          recordIdField: \"questionTemplateId\"\n        }\n      },\n      recordIdField: \"questionnaireTemplateId\"\n    },\n    /*AS_GCM_QNM_T_QuestionCategory*/\n    {\n      fieldName: \"questionCategories\",\n      auditFieldName: \"questionCategoryChanges\",\n      idField: \"questionCategoryTemplateId\",\n      simpleFields: {\n        \"questionCategoryName\",\n        /* Not capturing the audit for displayOrder as there is no ability to re-order the sections currently */\n        /*\"displayOrder\"*/\n        \n      },\n      complexFields: {},\n      recordIdField: \"questionnaireTemplateId\"\n    }\n  },\n  recordIdField: \"questionnaireTemplateId\"\n}"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73758": {
      "name": "AS_CO_UT_distinct",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!value),\n  union({ri!value}, {ri!value})\n)"
    },
    "_a-0000e438-fdf5-8000-9ba8-011c48011c48_19869": {
      "name": "AS_CO_I18N_UT_parseBundleKey",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  with(\n    local!split: split(\n      ri!bundleKey,\n      \".\"\n    ),\n    local!bundleName: joinarray(\n      remove(\n        local!split,\n        count(\n          local!split\n        )\n      ),\n      \".\"\n    ),\n    local!labelKey: local!split[count(\n      local!split\n    )],\n    {\n      bundleName: local!bundleName,\n      labelKey: local!labelKey\n    }\n  )\n)"
    },
    "_a-0000e471-623a-8000-9bc3-011c48011c48_722358-gcm": {
      "name": "AS_GCM_QNM_UT_buildQuestionnaire_RuntimeFromTemplate",
      "type": "Expression Rule",
      "sail_code": "'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_Questionnaire'(\n  questionnaireTemplateId: ri!questionnaire_Template[recordType!AS GCM QNM T Questionnaire.questionnaireTemplateId],\n  questionCategories: rule!AS_GCM_QNM_UT_buildQuestionCategories_RuntimeFromTemplate(\n    questionCategories_Template: ri!questionnaire_Template[recordType!AS GCM QNM T Questionnaire.questionCategories],\n    isPreview: ri!isPreview\n  ),\n  questions: rule!AS_GCM_QNM_UT_buildQuestions_RuntimeFromTemplate(\n    questions_Template: ri!questionnaire_Template[recordType!AS GCM QNM T Questionnaire.questions],\n    isPreview: ri!isPreview,\n    questionCategories_Template: ri!questionnaire_Template[recordType!AS GCM QNM T Questionnaire.questionCategories]\n  ),\n  questionnaireStatusCode: cons!AS_GCM_QNM_REF_CODE_QUESTIONNAIRE_STATUS_NOT_STARTED\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_50637": {
      "name": "AS_CO_UT_sortCdtDistinct",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  rule!AS_CO_UT_sortCdt(\n    cdt: rule!AS_CO_UT_distinct(\n      value: ri!cdt\n    ),\n    field: ri!field,\n    ascending: ri!ascending\n  )\n)"
    },
    "_a-0000e460-9d93-8000-9bc1-011c48011c48_595621-gcm": {
      "name": "AS_GCM_QNM_UT_fieldTypes",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!metadata: a!refreshVariable(\n    value: rule!AS_GCM_QNM_UT_questionMetadata(\n      questionTypeCode: ri!questionTypeCode\n    ),\n    refreshAlways: true\n  ),\n  local!metadata.fieldTypes\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_981349": {
      "name": "AS_GAM_ADT_UT_buildFieldLevelAuditEntityData",
      "type": "Expression Rule",
      "sail_code": "rule!AS_ADT_UT_calculateAudit(\n    originalObjects: ri!auditParams.originalObjects,\n    newObjects: ri!auditParams.newObjects,\n    objectTypeNumber: ri!auditParams.objectTypeNumber,\n    namespace: ri!auditParams.namespace,\n    username: ri!auditParams.username,\n    auditConfig: ri!auditParams.auditConfig,\n    externalAction:ri!auditParams.externalAction\n  )"
    },
    "_a-0000e4b1-2fbc-8000-9bc6-011c48011c48_888479-gcm": {
      "name": "AS_GCM_QNM_FM_previewQuestionnaireTemplate",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!previewQuestionnaire: rule!AS_GCM_QNM_UT_buildQuestionnaire_RuntimeFromTemplate(\n    questionnaire_Template: ri!previewQuestionnaire,\n    isPreview: true\n  ),\n  local!calculatedQuestionMetadata: rule!AS_GCM_QNM_UT_calculateQuestionMetadata(\n    allQuestions: local!previewQuestionnaire.questions\n  ),\n  #\"SYSTEM_SYSRULES_headerContentLayout\"(\n    header: #\"SYSTEM_SYSRULES_cardLayout\"(\n      contents: #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n        label: ri!previewQuestionnaire[recordType!AS GCM QNM T Questionnaire.name],\n        labelSize: \"MEDIUM_PLUS\",\n        labelColor: \"STANDARD\",\n        contents: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          labelPosition: \"COLLAPSED\",\n          value: {\n            ri!previewQuestionnaire[recordType!AS GCM QNM T Questionnaire.description]\n          },\n          showWhen: rule!AS_CO_UT_isNotBlank(\n            ri!previewQuestionnaire[recordType!AS GCM QNM T Questionnaire.description]\n          )\n        ),\n        marginBelow: \"NONE\"\n      ),\n      style: \"NONE\",\n      padding: \"STANDARD\",\n      showBorder: false,\n      showShadow: true\n    ),\n    isHeaderFixed: false,\n    contents: {\n      rule!AS_GCM_QNM_CPS_displayQuestionsSection(\n        readOnly: false,\n        bundle: ri!bundle,\n        calculatedQuestionMetadata: local!calculatedQuestionMetadata,\n        questionnaire: local!previewQuestionnaire\n      ),\n      #\"SYSTEM_SYSRULES_horizontalLine\"(marginAbove: \"EVEN_LESS\"),\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n              buttons: /*BACK TO EDIT*/\n              #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                label: \"Back To Edit\",\n                saveInto: a!save(ri!isPreviewQNR, false),\n                submit: false(),\n                size: \"SMALL\",\n                style: \"OUTLINE\",\n                color: \"SECONDARY\",\n                validate: false\n              ),\n              align: \"START\"\n            )\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n              buttons: /*PUBLISH*/\n              #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                label: \"Publish\",\n                saveInto: {\n                  a!save(\n                    ri!previewQuestionnaire[recordType!AS GCM QNM T Questionnaire.questions],\n                    ri!allTemplateQuestions\n                  ),\n                  a!save(\n                    ri!previewQuestionnaire[recordType!AS GCM QNM T Questionnaire.questionCategories],\n                    ri!allSections\n                  ),\n                  a!save(\n                    ri!questionnaire,\n                    ri!previewQuestionnaire\n                  ),\n                  a!save(\n                    ri!userAction,\n                    cons!AS_CO_ENUM_USER_ACTION_SUBMIT\n                  ),\n                  rule!AS_GCM_MTR_SAVE_createQuestionnaire()\n                },\n                submit: true,\n                size: \"SMALL\",\n                style: \"SOLID\",\n                color: \"ACCENT\",\n                disabled: rule!AS_CO_UT_isBlank(ri!allTemplateQuestions),\n                validate: true,\n                validationGroup: cons!AS_GCM_QNM_TXT_VALIDATION_GROUP_PUBLISH_OR_PREVIEW_QUESTIONNAIRE\n              ),\n              align: \"END\"\n            )\n          )\n        }\n      )\n    }\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_74260": {
      "name": "AS_CO_UT_formatFieldEntryPlaceHolder",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!placeholderTrim: trim(ri!placeholder),\n  if(\n    rule!AS_CO_UT_isBlank(local!placeholderTrim),\n    \"\",\n    if(\n      ri!wrapInMarkers,\n      concat(\"--- \", local!placeholderTrim, \" ---\"),\n      if(\n        ri!appendEllipsis,\n        concat(local!placeholderTrim, \"...\"),\n        local!placeholderTrim\n      )\n    )\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_260165": {
      "name": "AS_CO_UT_updateCdtFields",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    and(\n      rule!AS_CO_UT_isBlank(ri!cdt),\n      rule!AS_CO_UT_checkIfArrayType(\n        typeOf: ri!cdt\n      )\n    ),\n    ri!cdt,\n    reduce(\n      rule!AS_CO_UT_zINTERNAL_updateCdtFieldsByPath_handler(\n        cdt: _,\n        indices: ri!indices,\n        field: _,\n        newValue: _\n      ),\n      ri!cdt,\n      merge(\n        a!flatten(ri!fields),\n        a!flatten(ri!newValues)\n      )\n    )\n  )\n)"
    },
    "_a-0000e447-91f4-8000-9bc0-011c48011c48_579800-gcm": {
      "name": "AS_GCM_QNM_CPS_displayQuestion_ReadOnly",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!maxResponses: rule!AS_CO_UT_filterCdtByField(\n    cdt: ri!question.responseRequirements,\n    field: \"requirementTypeCode\",\n    value: cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_MAX_RESPONSES\n  ).requirementValue,\n  local!minResponses: rule!AS_CO_UT_filterCdtByField(\n    cdt: ri!question.responseRequirements,\n    field: \"requirementTypeCode\",\n    value: cons!AS_GCM_QNM_ENUM_RESPONSE_REQUIREMENT_TYPE_CODE_MIN_RESPONSES\n  ).requirementValue,\n  local!helpTooltip: rule!AS_CO_UT_rejectNullValuesFromArray(\n    {\n      if(\n        rule!AS_CO_UT_isBlank(local!maxResponses),\n        null,\n        rule!AS_GAM_CO_I18N_UT_displayLabel(\n          bundle: ri!bundle,\n          bundleKey: \"hlp_MaxResponseOptionToSelect\",\n          arguments: local!maxResponses\n        )\n      ),\n      if(\n        rule!AS_CO_UT_isBlank(local!minResponses),\n        null,\n        rule!AS_GAM_CO_I18N_UT_displayLabel(\n          bundle: ri!bundle,\n          bundleKey: \"hlp_MinResponseOptionToSelect\",\n          arguments: local!minResponses\n        )\n      )\n    }\n  ),\n  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n    label: ri!question.label,\n    labelPosition: \"ABOVE\",\n    helpTooltip: local!helpTooltip,\n    value: joinarray(\n      rule!AS_CO_UT_indexPath(\n        cdt: ri!question,\n        field: \"responses.value\",\n        indexDefault: null\n      ),\n      char(10)\n    )\n  )\n)"
    },
    "_a-0000e471-623a-8000-9bc3-011c48011c48_661629-gcm": {
      "name": "AS_GCM_QNM_CPS_displayQuestion_Editable",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!responseRule: rule!AS_GCM_QNM_UT_questionMetadata(\n    questionTypeCode: ri!question.questionTypeCode\n  ).respond,\n  {\n    local!responseRule(\n      bundle: ri!bundle,\n      question: ri!question,\n      questionMetadata: ri!questionMetadata\n    )\n  }\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75800": {
      "name": "AS_CO_UT_filterCdtByField",
      "type": "Expression Rule",
      "sail_code": "/*Take the input of a cdt, field, and value and returns the matching cdt data\n\nex. cdt of users, filter by field isActive and value of true to find your active users\n*/\ncast(\n  typeof(ri!cdt),\n  index(\n    a!flatten(ri!cdt),\n    rule!AS_CO_UT_returnCdtIndicesByField(\n      cdt: ri!cdt,\n      field: ri!field,\n      value: ri!value\n    ),\n    {}\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75636": {
      "name": "AS_CO_UT_not",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  not(rule!AS_CO_UT_booleanDefaultFalse(ri!input))\n)\n\n/*True returns False*/\n/*False returns True*/\n/*Null returns True*/"
    },
    "_a-0000e5bc-4a9a-8000-9bbc-011c48011c48_936427": {
      "name": "AS_GAM_ADT_UT_constructActionOnlyAuditData",
      "type": "Expression Rule",
      "sail_code": "/* This rule is used to construct the action only audit data (Simple / Complex field changes will be null)*/\nrule!AS_CO_UT_dynamicDictionary(\n  fieldValuePairs: {\n    {\n      field: ri!auditParams.auditConfig.idField,\n      value: index(\n        ri!auditParams.newObjects,\n        ri!auditParams.auditConfig.idField,\n        null\n      )\n    },\n    { field: \"username\", value: ri!initiator },\n    { field: \"timestamp\", value: now() },\n    {\n      field: \"auditActionCode\",\n      value: ri!auditParams.externalAction\n    },\n    if(\n      rule!AS_CO_UT_isNotBlank(\n        ri!auditParams.auditConfig.foreignIdField\n      ),\n      {\n        field: ri!auditParams.auditConfig.foreignIdField,\n        value: index(\n          ri!auditParams.newObjects,\n          ri!auditParams.auditConfig.foreignIdField,\n          null\n        )\n      },\n      {}\n    )\n  }\n)"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9761091": {
      "name": "AS_GCM_filterRecords",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!fieldValuePairs: a!defaultValue(\n    ri!fieldValuePairs,\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: a!flatten(ri!field),\n      expression: a!map(\n        field: fv!item,\n        value: if(\n          fv!itemCount = 1,\n          ri!value,\n          index(a!flatten(ri!value), fv!index, null)\n        )\n      )\n    )\n  ),\n  local!matchIndices: if(\n    a!isNullOrEmpty(a!flatten(ri!records)),\n    tointeger({}),\n    reduce(\n      rule!AS_GCM_filterRecords_Reducer(\n        previousIndices: _,\n        records: a!flatten(ri!records),\n        fieldValuePair: _\n      ),\n      enumerate(count(a!flatten(ri!records))) + 1,\n      local!fieldValuePairs\n    )\n  ),\n  local!rejectIndices: difference(\n    if(\n      a!isNullOrEmpty(ri!records),\n      tointeger({}),\n      enumerate(count(a!flatten(ri!records))) + 1\n    ),\n    local!matchIndices\n  ),\n  local!matches: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!matchIndices, {})\n  ),\n  local!rejects: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!rejectIndices, {})\n  ),\n  local!output: a!match(\n    value: a!defaultValue(ri!filterType, \"FILTER\"),\n    equals: \"FILTER\",\n    then: local!matches,\n    equals: \"REJECT\",\n    then: local!rejects,\n    equals: \"FIRST_MATCH\",\n    then: index(local!matches, 1, null),\n    equals: \"FIRST_REJECT\",\n    then: index(local!rejects, 1, null),\n    equals: \"MATCH_COUNT\",\n    then: count(local!matchIndices),\n    equals: \"REJECT_COUNT\",\n    then: count(local!rejectIndices),\n    equals: \"MATCH_INDICES\",\n    then: local!matchIndices,\n    equals: \"REJECT_INDICES\",\n    then: local!rejectIndices,\n    equals: \"FULL_RESULT\",\n    then: a!map(\n      matches: local!matches,\n      rejects: local!rejects,\n      firstMatch: index(local!matches, 1, null),\n      firstReject: index(local!rejects, 1, null),\n      matchCount: count(local!matchIndices),\n      rejectCount: count(local!rejectIndices),\n      matchIndices: local!matchIndices,\n      rejectIndices: local!rejectIndices\n    ),\n    default: fn!error(\n      \"Invalid filterType, must be one of: FILTER, REJECT, FIRST_MATCH, FIRST_REJECT, MATCH_COUNT, REJECT_COUNT, MATCH_INDICES, REJECT_INDICES, FULL_RESULT\"\n    )\n  ),\n  local!output\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13138549": {
      "name": "AS_GCM_accessibilityTextForSectionDeletion",
      "type": "Expression Rule",
      "sail_code": "/*If delete icon is enabled, tooltip will be displayed and the screen reader will read the tooltip*/\n/*When enabled tooltip reads as:*/\n/*With section name: Delete <sectionName>*/\n/*Without section name: Delete*/\n/*Note: When the delete icon is disabled, tooltip is not given. hence need to handle in a11y text*/\n/*Constructing a11y text as follows when delete button is enabled*/\n/*With section name: no change as tooltip has the neccessary info*/\n/*without section name: Section <sectionIndex>*/\n/*Constructing a11y text as follows when delete button is disabled*/\n/*With section name: Delete section <sectionName>*/\n/*without section name: Delete Section <sectionIndex>*/\nif(\n  rule!AS_CO_UT_isBlank(ri!currentSectionName),\n  /*Delete Section n*/\n  if(\n    or(\n      ri!countOfAllSections = 1,\n      ri!disableOtherLinkButtons\n    ),\n    /*delete button disabled*/\n    {\n      rule!AS_GAM_CO_I18N_UT_displayLabel(\n        bundle: ri!bundle,\n        bundleKey: \"btn_Delete\",\n        arguments: null\n      ) & \" \" & \"\" & \" \" & ri!currentSectionIndex\n    },\n    /*delete button enabled*/\n    /*tooltip reads as just 'Delete'. adding sectionIndex as accessibility so that it reads as 'Delete section <sectionIndex>'*/\n    {\n      \"\" & \" \" & ri!currentSectionIndex,\n      \n    }\n  ),\n  /*Delete Section <name>*/\n  if(\n    or(\n      ri!countOfAllSections = 1,\n      ri!disableOtherLinkButtons\n    ),\n    /*delete button disabled*/\n    {\n      rule!AS_GAM_CO_I18N_UT_displayLabel(\n        bundle: ri!bundle,\n        bundleKey: \"btn_Delete\",\n        arguments: null\n      ) & \" \" & ri!currentSectionName\n    },\n    /*delete button enabled*/\n    /*tooltip reads as 'Delete <sectionName>'. so no more changes needed.*/\n    \"\"\n  )\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13128041": {
      "name": "AS_GCM_CO_customisedLabelForRequiredInput",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!accessibilityText: rule!AS_CO_I18N_UT_getAndDisplayLabelSingle(\n    bundleFolder: cons!AS_GCM_FLD_PROPERTIES_FILES,\n    bundleKey: \"AS.GCA.ClauseAutomation.acs_RequiredField\"\n  ),\n  #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n    items: {\n      #\"SYSTEM_SYSRULES_sideBySideItem\"(\n        item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          label: ri!label,\n          labelPosition: \"ABOVE\",\n          marginBelow: \"NONE\",\n          marginAbove: \"LESS\",\n          accessibilityText: ri!accessibilityText\n        ),\n        width: \"MINIMIZE\"\n      ),\n      #\"SYSTEM_SYSRULES_sideBySideItem\"(\n        showWhen: a!isNotNullOrEmpty(ri!helpTooltip),\n        item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          labelPosition: \"COLLAPSED\",\n          value: {\n            #\"SYSTEM_SYSRULES_richTextIcon\"(\n              icon: \"question-circle\",\n              /*size: \"SMALL\",*/\n              caption: ri!helpTooltip,\n              /*altText: ri!helpTooltip,*/\n              color: \"ACCENT\"\n            )\n          },\n          marginBelow: \"NONE\",\n          marginAbove: \"LESS\"\n        ),\n        width: \"MINIMIZE\"\n      ),\n      #\"SYSTEM_SYSRULES_sideBySideItem\"(\n        item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          labelPosition: \"COLLAPSED\",\n          value: {\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: { char(8727) },\n              size: \"MEDIUM\",\n              style: \"STRONG\",\n              color: \"ACCENT\"\n            )\n          },\n          accessibilityText: local!accessibilityText\n        ),\n        width: \"MINIMIZE\"\n      )\n    },\n    spacing: \"DENSE\",\n    alignVertical: \"TOP\",\n    marginBelow: \"NONE\"\n  )\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_983535": {
      "name": "AS_GAM_ADT_UT_constructFieldChangesDictionaryForManipulatedAudit",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Indexing 1 to convert list of dictionary to list*/\n  local!complexFieldConfig: index(\n    rule!AS_CO_UT_filterCdtByField(\n      cdt: ri!auditParams.auditConfig.complexFields,\n      field: \"auditFieldName\",\n      value: tostring(ri!auditParams.complexFieldName)\n    ),\n    1,\n    null\n  ),\n  local!foreignIdField: tostring(\n    a!flatten(\n      index(\n        local!complexFieldConfig,\n        \"foreignIdField\",\n        null\n      )\n    )\n  ),\n  local!auditConfig: rule!AS_CO_UT_dynamicDictionary(\n    fieldValuePairs: {\n      /*Field value pairs for parent object audit*/\n      { field: \"username\", value: ri!initiator },\n      { field: \"timestamp\", value: now() },\n      {\n        field: \"auditActionCode\",\n        value: ri!auditParams.externalAction\n      },\n      /*Indexing the \"idField\" of the parent object using \"foreignIdField\"*/\n      if(\n        rule!AS_CO_UT_isBlank(local!foreignIdField),\n        {},\n        {\n          field: ri!auditParams.auditConfig.idField,\n          value: tointeger(\n            rule!AS_CO_UT_replaceNull(\n              nullableValue: index(\n                rule!AS_CO_UT_indexPath(\n                  cdt: ri!auditParams.newObjects,\n                  field: ri!auditParams.auditConfig.idField\n                ),\n                1,\n                null\n              ),\n              replacementValue: index(\n                rule!AS_CO_UT_indexPath(\n                  cdt: ri!auditParams.newObjects,\n                  field: local!foreignIdField\n                ),\n                1,\n                null\n              )\n            )\n          )\n        }\n      ),\n      {\n        field: tostring(ri!auditParams.complexFieldName),\n        value: if(\n          rule!AS_CO_UT_isBlank(ri!auditParams.manipulationAudit),\n          /*If the audit calculation for the nested CDT involves generic field changes (i.e the manipulation audit is null), we can directly use the field change rule to calculate the audit*/\n          rule!AS_ADT_UT_calculateAudit(\n            originalObjects: rule!AS_CO_UT_castToDictionaryList(value: ri!auditParams.originalObjects),\n            newObjects: rule!AS_CO_UT_castToDictionaryList(value: ri!auditParams.newObjects),\n            objectTypeNumber: ri!auditParams.objectTypeNumber,\n            auditConfig: rule!AS_CO_UT_castToDictionary(value: local!complexFieldConfig),\n            namespace: ri!auditParams.namespace,\n            username: ri!initiator,\n            externalAction: null\n          ),\n          /*If the audit data is nested and is manipulated and passed from outsite, we can directly construct the audit entry for each ri!auditParams.manipulationAudit*/\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!auditParams.manipulationAudit,\n            expression: rule!AS_CO_UT_dynamicDictionary(\n              fieldValuePairs: {\n                if(\n                  rule!AS_CO_UT_isNotBlank(local!complexFieldConfig.idField),\n                  {\n                    field: local!complexFieldConfig.idField,\n                    value: index(\n                      ri!auditParams.newObjects,\n                      tostring(local!complexFieldConfig.idField),\n                      null\n                    )\n                  },\n                  {}\n                ),\n                { field: \"username\", value: ri!initiator },\n                { field: \"timestamp\", value: now() },\n                {\n                  field: \"auditActionCode\",\n                  value: /*If the action code varies for each manipulation audit, actionCode within auditParams.manipulationAudit will be used. Else, externalAction will be used*/\n                  rule!AS_CO_UT_replaceNull(\n                    nullableValue: fv!item.actionCode,\n                    replacementValue: ri!auditParams.externalAction\n                  )\n                },\n                if(\n                  rule!AS_CO_UT_isNotBlank(\n                    local!complexFieldConfig.foreignIdField\n                  ),\n                  {\n                    field: local!complexFieldConfig.foreignIdField,\n                    value: index(\n                      rule!AS_CO_UT_indexPath(\n                        cdt: ri!auditParams.newObjects,\n                        field: local!complexFieldConfig.foreignIdField\n                      ),\n                      1,\n                      null\n                    )\n                  },\n                  {}\n                ),\n                /*The field changes will be passed as label value pairs in \"fieldChanges\" column of auditParams.manipulationAudit\"*/\n                {\n                  field: \"simpleFieldChanges\",\n                  value: rule!AS_CO_UT_castToDictionaryList(value: fv!item.fieldChanges)\n                }\n              }\n            )\n          )\n        )\n      }\n    }\n  ),\n  if(\n    /*To make the action code \"UNCHANGED\" if the object is unmodified(excluding the metadata)*/\n    rule!AS_CO_UT_not(\n      contains(\n        a!flatten(\n          {\n            rule!AS_CO_UT_isBlank(\n              index(\n                rule!AS_CO_UT_indexPath(\n                  cdt: local!auditConfig,\n                  field: tostring(ri!auditParams.complexFieldName)\n                ),\n                \"simpleFieldChanges\",\n                null\n              )\n            ),\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: {\n                index(\n                  index(\n                    local!complexFieldConfig,\n                    \"complexFields\",\n                    null\n                  ),\n                  \"auditFieldName\",\n                  null\n                )\n              },\n              expression: rule!AS_CO_UT_isBlank(\n                rule!AS_CO_UT_rejectCdtByField(\n                  cdt: index(\n                    rule!AS_CO_UT_indexPath(\n                      cdt: local!auditConfig,\n                      field: tostring(ri!auditParams.complexFieldName)\n                    ),\n                    fv!item,\n                    null\n                  ),\n                  field: \"auditActionCode\",\n                  value: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n                )\n              )\n            )\n          }\n        ),\n        false\n      )\n    ),\n    rule!AS_CO_UT_updateCdtFields(\n      cdt: local!auditConfig,\n      fields: \"auditActionCode\",\n      newValues: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n    ),\n    local!auditConfig\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_157503": {
      "name": "AS_CO_UT_returnTypeNumber",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer',\n  if(\n    isnull(ri!type),\n    typeof(ri!typeOf),\n    typeof(cast(ri!type, null))\n  )\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13153709": {
      "name": "AS_GCM_QNM_previewQuestionsInQuestionnaireSection",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!templateQuestions,\n  expression: if(\n    and(\n      contains(ri!templateQuestionBeingEdited, fv!item),\n      ri!sectionMap.isEditQuestion\n    ),\n    {\n      rule!AS_GCM_QNM_CRD_addOrEditQuestionInQuestionnaire(\n        bundle: ri!bundle,\n        templateQuestion: ri!templateQuestion,\n        oldTemplateQuestion: ri!oldTemplateQuestion,\n        allTemplateQuestions: ri!allTemplateQuestions,\n        sectionNumber: ri!sectionNumber,\n        conditionalConfigMap: ri!conditionalConfigMap,\n        sectionMap: ri!sectionMap,\n        templateQuestionBeingEdited: ri!templateQuestionBeingEdited,\n        conditionalGridData: ri!conditionalGridData,\n        allTemplateQuestionsFromDB: ri!allTemplateQuestionsFromDB\n      )\n    },\n    rule!AS_GCM_QNM_CPS_previewQuestion(\n      templateQuestion: fv!item,\n      bundle: ri!bundle,\n      sectionMap: ri!sectionMap,\n      templateQuestionBeingEdited: ri!templateQuestionBeingEdited,\n      oldTemplateQuestion: ri!oldTemplateQuestion,\n      isPreviewQNR: false,\n      disableOtherLinkButtons: ri!disableOtherLinkButtons,\n      isLastQuestion: fv!isLast,\n      allTemplateQuestions: ri!allTemplateQuestions,\n      isFirstQuestion: fv!isFirst,\n      currentSectionQuestions: ri!currentSectionQuestions,\n      conditionalGridData: ri!conditionalGridData,\n      question: fv!item\n    )\n  )\n)"
    },
    "_a-0000e4b1-2fbc-8000-9bc6-011c48011c48_881889-gcm": {
      "name": "AS_GCM_QNM_GRD_selectReferenceQuestionForTemplateQuestion",
      "type": "Interface",
      "sail_code": "/*Reference - AS_RM_QNM_GRD_selectionOfRefQuestion*/\n#\"SYSTEM_SYSRULES_gridField_v2\"(\n  label: \"\",\n  labelPosition: \"COLLAPSED\",\n  emptyGridMessage: \"No Questions Available\",\n  data: ri!allRefQuestionsDataSubset,\n  columns: {\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: \"Question\",\n      sortField: recordType!AS GCM QNM R Question.defaultLabel,\n      value: fv!row[recordType!AS GCM QNM R Question.defaultLabel],\n      width: \"WIDE\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: \"\",\n      sortField: recordType!AS GCM QNM R Question.questionTypeCode,\n      value: rule!AS_GCM_QNM_UT_questionTypeLabel(\n        questionTypeCode: fv!row[recordType!AS GCM QNM R Question.questionTypeCode]\n      ),\n      width: \"NARROW_PLUS\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: \"\",\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: joinarray(\n            rule!AS_GAM_UT_sortAnyData(\n              data: fv!row,\n              field: recordType!AS GCM QNM R Question.defaultResponseOptions.label,\n              ascending: true\n            )[recordType!AS GCM QNM R Question.defaultResponseOptions.label],\n            char(10)\n          )\n        )\n      )\n    )\n  },\n  pagingSaveInto: a!save(ri!pagingInfo, fv!pagingInfo),\n  selectable: true,\n  selectionStyle: \"ROW_HIGHLIGHT\",\n  selectionValue: ri!templateQuestion[recordType!AS GCM QNM T Question.questionReferenceId],\n  selectionSaveInto: {\n    a!save(\n      ri!templateQuestion,\n      rule!AS_GCM_setRecordFields(\n        record: rule!AS_GCM_QNM_UT_buildQuestions_TemplateFromReference(questionsReference: fv!selectedRows),\n        alwaysOverwrite: {\n          a!map(\n            field: recordType!AS GCM QNM T Question.questionCategoryTemplateId,\n            value: ri!oldTemplateQuestionFromDB[recordType!AS GCM QNM T Question.questionCategoryTemplateId]\n          ),\n          a!map(\n            field: recordType!AS GCM QNM T Question.questionTemplateId,\n            value: ri!oldTemplateQuestionFromDB[recordType!AS GCM QNM T Question.questionTemplateId]\n          ),\n          a!map(\n            field: recordType!AS GCM QNM T Question.questionnaireTemplateId,\n            value: ri!oldTemplateQuestionFromDB[recordType!AS GCM QNM T Question.questionnaireTemplateId]\n          ),\n          a!map(\n            field: recordType!AS GCM QNM T Question.orderNumber,\n            value: ri!oldTemplateQuestionFromDB[recordType!AS GCM QNM T Question.orderNumber]\n          ),\n          a!map(\n            field: recordType!AS GCM QNM T Question.groupNumber,\n            value: ri!SectionNumber\n          ),\n          a!map(\n            field: recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n            value: recordType!AS GCM QNM T Question Precedent Set(\n              recordType!AS GCM QNM T Question Precedent Set.questionPrecedentSetTemplateId: ri!oldTemplateQuestionFromDB[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets.questionPrecedentSetTemplateId],\n              recordType!AS GCM QNM T Question Precedent Set.qstnTemplateIdIsDisplayed: ri!oldTemplateQuestionFromDB[recordType!AS GCM QNM T Question.questionTemplateId],\n              recordType!AS GCM QNM T Question Precedent Set.operator: ri!templateQuestion[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets.operator],\n              recordType!AS GCM QNM T Question Precedent Set.questionPrecedents: rule!AS_GCM_QNM_Template_QuestionPrecedents_construct(\n                conditionalVisibilityGridData: ri!conditionalGridData,\n                thisQuestionPrecedents: ri!templateQuestion[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets]\n              )\n            )\n          ),\n          a!map(\n            field: recordType!AS GCM QNM T Question.questionVisibility,\n            value: if(\n              a!isNullOrEmpty(\n                ri!templateQuestion[recordType!AS GCM QNM T Question.questionVisibility]\n              ),\n              cons!AS_GCM_QNM_ENUM_TEMPLATE_QUESTION_VISIBILITY_ALWAYS_VISIBLE,\n              ri!templateQuestion[recordType!AS GCM QNM T Question.questionVisibility]\n            )\n          )\n        }\n      )\n    )\n  },\n  selectionRequired: true,\n  maxSelections: 1,\n  refreshAfter: \"RECORD_ACTION\",\n  rowHeader: 1\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13153853": {
      "name": "AS_GCM_QNM_CPS_previewQuestion",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!metrics,\n  local!responseRule: rule!AS_GCM_QNM_UT_questionMetadata(\n    questionTypeCode: if(\n      ri!isPreviewQNR,\n      ri!question.questionTypeCode,\n      ri!templateQuestion[recordType!AS GCM QNM T Question.questionTypeCode]\n    )\n  ).respond,\n  local!deleteConfirmationMessage: a!refreshVariable(\n    value: rule!AS_GCM_QNM_getDependentTemplateQuestionsAndConfirmationMessage(\n      bundle: ri!bundle,\n      allTemplateQuestions: ri!allTemplateQuestions,\n      templateQuestion: ri!templateQuestion,\n      action: cons!AS_GCM_QNM_TXT_DELETE_QUESTION_IN_QUESTIONNAIRE\n    ),\n    refreshOnVarChange: ri!templateQuestion\n  ),\n  local!moveUpConfirmationMessage: a!refreshVariable(\n    value: rule!AS_GCM_QNM_getDependentTemplateQuestionsAndConfirmationMessage(\n      bundle: ri!bundle,\n      allTemplateQuestions: ri!allTemplateQuestions,\n      templateQuestion: ri!templateQuestion,\n      currentSectionQuestions: ri!currentSectionQuestions,\n      action: cons!AS_GCM_QNM_TXT_MOVE_UP_QUESTION_IN_QUESTIONNAIRE\n    ),\n    refreshOnVarChange: ri!templateQuestion\n  ),\n  local!moveDownConfirmationMessage: a!refreshVariable(\n    value: rule!AS_GCM_QNM_getDependentTemplateQuestionsAndConfirmationMessage(\n      bundle: ri!bundle,\n      allTemplateQuestions: ri!allTemplateQuestions,\n      templateQuestion: ri!templateQuestion,\n      currentSectionQuestions: ri!currentSectionQuestions,\n      action: cons!AS_GCM_QNM_TXT_MOVE_DOWN_QUESTION_IN_QUESTIONNAIRE\n    ),\n    refreshOnVarChange: ri!templateQuestion\n  ),\n  local!questionExistsInRule: tointeger(\n    ri!templateQuestion[recordType!AS GCM QNM T Question.associatedRuleConditionCount]\n  ) > 0,\n  #\"SYSTEM_SYSRULES_cardLayout\"(\n    contents: {\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: local!responseRule(\n              templateQuestion: ri!templateQuestion,\n              isPreviewQuestion: if(ri!isPreviewQNR, false, true),\n              value: ri!value,\n              saveInto: ri!saveInto,\n              bundle: ri!bundle,\n              question: ri!question,\n              questionMetadata: ri!questionMetadata,\n              disableSaves: true\n            )\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(width: \"NARROW\")\n        }\n      ),\n      #\"SYSTEM_SYSRULES_horizontalLine\"(\n        marginAbove: \"LESS\",\n        showWhen: ri!isPreviewQNR = false,\n        marginBelow: \"EVEN_LESS\"\n      ),\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        showWhen: ri!isPreviewQNR = false,\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                items: {\n                  /*EDIT ACTION*/\n                  #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                    item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                      labelPosition: \"COLLAPSED\",\n                      value: {\n                        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                          text: {\n                            #\"SYSTEM_SYSRULES_richTextIcon\"(\n                              icon: \"edit\",\n                              altText: if(\n                                ri!disableOtherLinkButtons,\n                                concat(\n                                  \"Link Unavailable\",\n                                  char(32),\n                                  \"Edit\",\n                                  ri!templateQuestion[recordType!AS GCM QNM T Question.label]\n                                ),\n                                if(\n                                  local!questionExistsInRule,\n                                  \"Delete the associated rule(s) to update this question.\",\n                                  {\n                                    ri!templateQuestion[recordType!AS GCM QNM T Question.label]\n                                  }\n                                )\n                              )\n                            ),\n                            \" \" & \"Edit\"\n                          },\n                          link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                            saveInto: {\n                              a!save(\n                                ri!sectionMap,\n                                #\"urn:appian:function:v1:a:update\"(\n                                  ri!sectionMap,\n                                  { \"section\", \"isEditQuestion\" },\n                                  {\n                                    ri!templateQuestion[recordType!AS GCM QNM T Question.questionCategoryTemplateId],\n                                    true\n                                  }\n                                )\n                              ),\n                              a!save(\n                                {\n                                  ri!templateQuestionBeingEdited,\n                                  ri!oldTemplateQuestion\n                                },\n                                ri!templateQuestion\n                              ),\n                              a!save(\n                                ri!conditionalGridData,\n                                rule!AS_GCM_QNM_constructConditionalVisibilityGridData(\n                                  tempQuestionPrecedents: ri!templateQuestionBeingEdited[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets]\n                                )\n                              )\n                            },\n                            showWhen: and(\n                              ri!disableOtherLinkButtons = false,\n                              not(local!questionExistsInRule)\n                            )\n                          ),\n                          linkStyle: \"STANDALONE\",\n                          style: \"PLAIN\",\n                          color: if(\n                            and(\n                              ri!disableOtherLinkButtons = false,\n                              not(local!questionExistsInRule)\n                            ),\n                            \"ACCENT\",\n                            rule!AS_GCM_getColorBasedOnColorName(colorName: \"GRAY_4\")\n                          )\n                        )\n                      }\n                    ),\n                    width: \"MINIMIZE\"\n                  ),\n                  /*CONDITIONAL VISIBILITY TAG*/\n                  #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                    item: #\"SYSTEM_SYSRULES_tagField\"(\n                      labelPosition: \"COLLAPSED\",\n                      tags: #\"SYSTEM_SYSRULES_tagItem\"(\n                        text: \"Conditional Visibility\",\n                        backgroundColor: rule!AS_GCM_getColorBasedOnColorName(colorName: \"PURPLE_1\"),\n                        textColor: rule!AS_GCM_getColorBasedOnColorName(colorName: \"PURPLE_4\")\n                      )\n                    ),\n                    width: \"MINIMIZE\",\n                    showWhen: ri!templateQuestion[recordType!AS GCM QNM T Question.questionVisibility] = cons!AS_GCM_QNM_ENUM_TEMPLATE_QUESTION_VISIBILITY_VISIBLE_ON_CONDITIONS\n                  )\n                },\n                alignVertical: \"MIDDLE\",\n                spacing: \"SPARSE\"\n              )\n            },\n            width: \"WIDE_PLUS\"\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}, width: \"WIDE\"),\n          /*move up*/\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n                buttons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                  label: if(\n                    and(\n                      cons!AS_GCM_TOGGLE_AUTOMATION_TESTING_ENABLED,\n                      not(\n                        or(\n                          ri!isFirstQuestion,\n                          ri!disableOtherLinkButtons\n                        )\n                      )\n                    ),\n                    \"Move up\",\n                    {}\n                  ),\n                  loadingIndicator: true(),\n                  icon: \"arrow-up\",\n                  size: \"SMALL\",\n                  style: \"LINK\",\n                  submit: false,\n                  disabled: or(\n                    ri!isFirstQuestion,\n                    ri!disableOtherLinkButtons\n                  ),\n                  color: if(\n                    or(\n                      ri!isFirstQuestion,\n                      ri!disableOtherLinkButtons\n                    ),\n                    rule!AS_GCM_getColorBasedOnColorName(colorName: \"GRAY_4\"),\n                    \"ACCENT\"\n                  ),\n                  tooltip: concat(\n                    \"Move up\",\n                    char(32),\n                    ri!templateQuestion[recordType!AS GCM QNM T Question.label]\n                  ),\n                  confirmHeader: local!moveUpConfirmationMessage.header,\n                  confirmMessage: local!moveUpConfirmationMessage.message,\n                  confirmButtonLabel: \"Move\",\n                  cancelButtonLabel: \"Cancel\",\n                  saveInto: rule!AS_GCM_QNM_updateTemplateQuestionsOnReorderQuestion(\n                    isMoveUp: true,\n                    templateQuestion: ri!templateQuestion,\n                    allTemplateQuestions: ri!allTemplateQuestions,\n                    currentTemplateQuestionId: local!moveUpConfirmationMessage.currentTemplateQuestionId,\n                    adjacentTemplateQuestion: local!moveUpConfirmationMessage.aboveTemplateQuestion,\n                    adjacentTemplateQuestionId: local!moveUpConfirmationMessage.aboveTemplateQuestionId\n                  )\n                )\n              )\n            },\n            width: \"EXTRA_NARROW\"\n          ),\n          /*move down*/\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n                buttons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                  label: if(\n                    and(\n                      cons!AS_GCM_TOGGLE_AUTOMATION_TESTING_ENABLED,\n                      not(\n                        or(\n                          ri!isLastQuestion,\n                          ri!disableOtherLinkButtons\n                        )\n                      )\n                    ),\n                    \"Move down\",\n                    {}\n                  ),\n                  loadingIndicator: true(),\n                  icon: \"arrow-down\",\n                  size: \"SMALL\",\n                  style: \"LINK\",\n                  submit: false,\n                  disabled: or(\n                    ri!isLastQuestion,\n                    ri!disableOtherLinkButtons\n                  ),\n                  color: if(\n                    or(\n                      ri!isLastQuestion,\n                      ri!disableOtherLinkButtons\n                    ),\n                    rule!AS_GCM_getColorBasedOnColorName(colorName: \"GRAY_4\"),\n                    \"ACCENT\"\n                  ),\n                  tooltip: concat(\n                    \"Move down\",\n                    char(32),\n                    ri!templateQuestion[recordType!AS GCM QNM T Question.label]\n                  ),\n                  confirmHeader: local!moveDownConfirmationMessage.header,\n                  confirmMessage: local!moveDownConfirmationMessage.message,\n                  confirmButtonLabel: \"Move\",\n                  cancelButtonLabel: \"Cancel\",\n                  saveInto: rule!AS_GCM_QNM_updateTemplateQuestionsOnReorderQuestion(\n                    isMoveUp: false,\n                    templateQuestion: ri!templateQuestion,\n                    allTemplateQuestions: ri!allTemplateQuestions,\n                    currentTemplateQuestionId: local!moveDownConfirmationMessage.currentTemplateQuestionId,\n                    adjacentTemplateQuestion: local!moveDownConfirmationMessage.belowTemplateQuestion,\n                    adjacentTemplateQuestionId: local!moveDownConfirmationMessage.belowTemplateQuestionId\n                  )\n                )\n              )\n            },\n            width: \"EXTRA_NARROW\"\n          ),\n          /*delete*/\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n                buttons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                  label: if(\n                    and(\n                      cons!AS_GCM_TOGGLE_AUTOMATION_TESTING_ENABLED,\n                      not(\n                        or(\n                          count(ri!currentSectionQuestions) = 1,\n                          ri!disableOtherLinkButtons\n                        )\n                      ),\n                      not(local!questionExistsInRule)\n                    ),\n                    rule!AS_GAM_CO_I18N_UT_displayLabel(\n                      bundle: ri!bundle,\n                      bundleKey: \"btn_Delete\",\n                      arguments: null\n                    ),\n                    {}\n                  ),\n                  loadingIndicator: true(),\n                  icon: \"trash\",\n                  size: \"SMALL\",\n                  style: \"LINK\",\n                  color: \"NEGATIVE\",\n                  disabled: or(\n                    local!questionExistsInRule,\n                    count(ri!currentSectionQuestions) = 1,\n                    ri!disableOtherLinkButtons\n                  ),\n                  confirmButtonLabel: \"\",\n                  cancelButtonLabel: \"Cancel\",\n                  tooltip: if(\n                    local!questionExistsInRule,\n                    \"Delete the associated rule(s) to update this question.\",\n                    concat(\n                      rule!AS_GAM_CO_I18N_UT_displayLabel(\n                        bundle: ri!bundle,\n                        bundleKey: \"btn_Delete\",\n                        arguments: null\n                      ),\n                      char(32),\n                      ri!templateQuestion[recordType!AS GCM QNM T Question.label]\n                    )\n                  ),\n                  confirmHeader: index(\n                    local!deleteConfirmationMessage,\n                    \"header\",\n                    null\n                  ),\n                  confirmMessage: index(\n                    local!deleteConfirmationMessage,\n                    \"message\",\n                    null\n                  ),\n                  saveInto: {\n                    rule!AS_GCM_QNM_updateTemplateQuestionsOnQuestionDeletion(\n                      templateQuestion: ri!templateQuestion,\n                      allTemplateQuestions: ri!allTemplateQuestions,\n                      dependentQuestionIndexes: local!deleteConfirmationMessage.dependentQuestionIndexes\n                    ),\n                    a!save(\n                      local!metrics,\n                      rule!AS_GCM_MTR_SAVE_removeQuestionFromQuestionnaire()\n                    )\n                  },\n                  submit: false\n                )\n              )\n            },\n            width: \"EXTRA_NARROW\"\n          )\n        },\n        alignVertical: \"MIDDLE\"\n      )\n    },\n    height: \"AUTO\",\n    style: \"NONE\",\n    shape: \"SEMI_ROUNDED\",\n    padding: \"STANDARD\",\n    marginAbove: \"LESS\",\n    marginBelow: \"STANDARD\",\n    showBorder: false,\n    showShadow: true,\n    showWhen: if(\n      ri!isPreviewQNR,\n      ri!questionMetadata.showWhen,\n      true\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75720": {
      "name": "AS_CO_UT_sortCdt",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    rule!AS_CO_UT_isBlank(\n      ri!field\n    ),\n    ri!cdt,\n    with(\n      local!dataSortedByField: todatasubset(\n        ri!cdt,\n        #\"SYSTEM_SYSRULES_pagingInfo\"(\n          startIndex: 1,\n          batchSize: - 1,\n          sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n            field: ri!field,\n            ascending: rule!AS_CO_UT_replaceNull(\n              nullableValue: ri!ascending,\n              replacementValue: true\n            )\n          )\n        )\n      ).data,\n      if(\n        rule!AS_CO_UT_isBlank(\n          ri!nullsFirst\n        ),\n        local!dataSortedByField,\n        with(\n          local!cdtsWithNullFieldValue: rule!AS_CO_UT_filterCdtByField(\n            cdt: local!dataSortedByField,\n            field: ri!field,\n            value: null\n          ),\n          local!cdtsWithNonNullFieldValue: rule!AS_CO_UT_rejectCdtByField(\n            cdt: local!dataSortedByField,\n            field: ri!field,\n            value: null\n          ),\n          if(\n            ri!nullsFirst,\n            append(\n              local!cdtsWithNullFieldValue,\n              local!cdtsWithNonNullFieldValue\n            ),\n            append(\n              local!cdtsWithNonNullFieldValue,\n              local!cdtsWithNullFieldValue\n            )\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_31190-gcm": {
      "name": "AS_GCM_QNM_UT_evaluateQuestionPrecedent",
      "type": "Expression Rule",
      "sail_code": "and(\n  apply(\n    rule!AS_GCM_QNM_VD_evaluateResponseRequirement(\n      question: ri!question_precedent,\n      questionMetadata: ri!question_precedentMetadata,\n      responseRequirement: _,\n      /* Just need a boolean result, no need to call the i18n plugin */\n      returnValidationMessage: false\n    ),\n    ri!questionPrecedent.responseRequirement\n  )\n)"
    },
    "_a-0000e615-fd0f-8000-9bc1-011c48011c48_1195553": {
      "name": "AS_GCM_QNM_CPS_questionnaireTemplateContents",
      "type": "Interface",
      "sail_code": "{\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!allSections,\n    expression: a!localVariables(\n      local!sectionQuestions: rule!AS_GAM_UT_sortAnyData(\n        data: rule!AS_GCM_filterRecords(\n          records: ri!allTemplateQuestions,\n          field: recordType!AS GCM QNM T Question.groupNumber,\n          value: fv!item[recordType!AS GCM QNM T Question Category.displayOrder]\n        ),\n        field: recordType!AS GCM QNM T Question.orderNumber,\n        ascending: true\n      ),\n      /*this local defines in which section add/edit question screen should display*/\n      local!templateQuestionsInCurrentSection: a!refreshVariable(\n        value: rule!AS_GCM_filterRecords(\n          records: { ri!templateQuestionBeingEdited },\n          field: recordType!AS GCM QNM T Question.groupNumber,\n          value: fv!item[recordType!AS GCM QNM T Question Category.displayOrder]\n        ),\n        /*We should not refresh this as it iterates based on section name*/\n        refreshOnReferencedVarChange: false,\n        refreshOnVarChange: ri!activeSectionMap\n      ),\n      /* During Edit it will be saved in the edi saves */\n      local!conditionalGridData,\n      /*passing both local!sectionQuestions and ri!allTemplateQuestions in the below rules*/\n      /*reason:local!sectionQuestions is only for viewing purpose and ri!allTemplateQuestions is used for saves */\n      {\n        #\"SYSTEM_SYSRULES_cardLayout\"(\n          contents: {\n            /*Section header w/ delete action*/\n            rule!AS_GCM_QNM_CPS_questionnaireSectionProperties(\n              bundle: ri!bundle,\n              currentSection: fv!item,\n              allSections: ri!allSections,\n              allTemplateQuestions: ri!allTemplateQuestions,\n              sectionMap: ri!activeSectionMap,\n              disableOtherLinkButtons: ri!disableOtherLinkButtons,\n              currentSectionIndex: fv!index\n            ),\n            /*Preview w/ Edit/Move Up/Move Down/Delete actions*/\n            rule!AS_GCM_QNM_previewQuestionsInQuestionnaireSection(\n              templateQuestions: local!sectionQuestions,\n              bundle: ri!bundle,\n              sectionMap: ri!activeSectionMap,\n              templateQuestionBeingEdited: ri!templateQuestionBeingEdited,\n              oldTemplateQuestion: ri!oldTemplateQuestion,\n              sectionNumber: fv!index,\n              conditionalConfigMap: ri!conditionalConfigMap,\n              allTemplateQuestions: ri!allTemplateQuestions,\n              templateQuestion: local!templateQuestionsInCurrentSection,\n              disableOtherLinkButtons: ri!disableOtherLinkButtons,\n              currentSectionQuestions: local!sectionQuestions,\n              conditionalGridData: local!conditionalGridData,\n              allTemplateQuestionsFromDB: ri!allTemplateQuestionsFromDB\n            ),\n            if(\n              ri!activeSectionMap.isAddQuestion,\n              /*Add Question*/\n              rule!AS_GCM_QNM_CRD_addOrEditQuestionInQuestionnaire(\n                bundle: ri!bundle,\n                templateQuestion: local!templateQuestionsInCurrentSection,\n                oldTemplateQuestion: ri!oldTemplateQuestion,\n                allTemplateQuestions: ri!allTemplateQuestions,\n                sectionNumber: fv!index,\n                conditionalConfigMap: ri!conditionalConfigMap,\n                sectionMap: ri!activeSectionMap,\n                templateQuestionBeingEdited: ri!templateQuestionBeingEdited,\n                conditionalGridData: local!conditionalGridData,\n                allTemplateQuestionsFromDB: ri!allTemplateQuestionsFromDB\n              ),\n              {}\n            ),\n            /*Add Question Link*/\n            rule!AS_GCM_QNM_CPS_addTemplateQuestionLink(\n              bundle: ri!bundle,\n              templateQuestionBeingEdited: ri!templateQuestionBeingEdited,\n              sectionMap: ri!activeSectionMap,\n              currentSection: fv!item,\n              currentSectionQuestions: local!sectionQuestions,\n              allTemplateQuestions: ri!allTemplateQuestions,\n              disableOtherLinkButtons: ri!disableOtherLinkButtons,\n              templateQuestionInCurrenSection: local!templateQuestionsInCurrentSection\n            )\n          },\n          height: \"AUTO\",\n          style: cons!AS_GCM_HEX_CODE_BLUE_0,\n          shape: \"SEMI_ROUNDED\",\n          padding: \"STANDARD\",\n          marginAbove: \"STANDARD\",\n          marginBelow: \"MORE\",\n          showBorder: false\n        )\n      }\n    )\n  ),\n  /*Add Section Link*/\n  rule!AS_GCM_QNM_CPS_addSectionLink(\n    bundle: ri!bundle,\n    sections: ri!allSections,\n    questions: ri!allTemplateQuestions,\n    templateQuestionBeingEdited: ri!templateQuestionBeingEdited,\n    sectionMap: ri!activeSectionMap,\n    sectionNumber: max(\n      index(\n        ri!allSections,\n        recordType!AS GCM QNM T Question Category.displayOrder,\n        {}\n      )\n    ) + 1,\n    disableOtherLinkButtons: ri!disableOtherLinkButtons\n  )\n}"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_39392-gcm": {
      "name": "AS_GCM_QNM_QR_getQuestion_Reference",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!useQueryRecordByIdentifier: and(\n    rule!AS_GAM_UT_ArrayLength(ri!questionReferenceId) = 1,\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT,\n    all(\n      rule!AS_CO_UT_isBlank,\n      {\n        ri!additionalFilters,\n        ri!logicalExpression,\n        ri!aggregationFields,\n        ri!globalSearchText,\n        ri!questionReferenceIdToExclude,\n        ri!questionLabels,\n        ri!questionTypes,\n        ri!pagingInfo\n      }\n    )\n  ),\n  local!relatedRecordLimit: if(\n    local!useQueryRecordByIdentifier,\n    100,\n    10\n  ),\n  local!relatedRecordData: {\n    if(\n      ri!includeRelatedRecords,\n      {\n        #\"SYSTEM_SYSRULES_relatedRecordData\"(\n          relationship: recordType!AS GCM QNM R Question.defaultResponseOptions,\n          limit: local!relatedRecordLimit,\n          filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!AS GCM QNM R Response.isActive,\n            operator: \"=\",\n            value: true\n          )\n        ),\n        #\"SYSTEM_SYSRULES_relatedRecordData\"(\n          relationship: recordType!AS GCM QNM R Question.defaultResponseRequirements,\n          limit: local!relatedRecordLimit\n        )\n      },\n      {}\n    ),\n    ri!relatedRecordData\n  },\n  if(\n    local!useQueryRecordByIdentifier,\n    rule!AS_GCM_UT_queryRecordByIdentifier(\n      recordType: recordType!AS GCM QNM R Question,\n      identifier: ri!questionReferenceId,\n      executeWhen: ri!executeWhen,\n      triggerRefresh: ri!triggerRefresh,\n      fields: ri!fields,\n      relatedRecordData: local!relatedRecordData\n    ),\n    rule!AS_CO_UT_queryRecord(\n      recordType: recordType!AS GCM QNM R Question,\n      returnType: a!defaultValue(\n        value: ri!returnType,\n        default: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n      ),\n      fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n        {\n          ri!fields,\n          index(\n            local!relatedRecordData,\n            \"relationship\",\n            null\n          )\n        }\n      ),\n      filters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM R Question.questionReferenceId,\n          operator: \"in\",\n          value: ri!questionReferenceId\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM R Question.questionReferenceId,\n          operator: \"not in\",\n          value: ri!questionReferenceIdToExclude\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM R Question.defaultLabel,\n          operator: \"in\",\n          value: ri!questionLabels,\n          applyWhen: rule!AS_CO_UT_isNotBlank(ri!questionLabels)\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM R Question.questionTypeCode,\n          operator: \"in\",\n          value: ri!questionTypes,\n          applyWhen: rule!AS_CO_UT_isNotBlank(ri!questionTypes)\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM R Question.isActive,\n          operator: \"=\",\n          value: true\n        ),\n        ri!additionalFilters\n      },\n      aggregationFields: ri!aggregationFields,\n      logicalExpression: {\n        ri!logicalExpression,\n        #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n          operator: \"AND\",\n          logicalExpressions: #\"SYSTEM_SYSRULES_forEach\"(\n            items: split(trim(ri!globalSearchText), \" \"),\n            expression: a!localVariables(\n              local!searchTerm: fv!item,\n              #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"OR\",\n                ignoreFiltersWithEmptyValues: true,\n                filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!AS GCM QNM R Question.defaultLabel,\n                  operator: \"includes\",\n                  value: local!searchTerm\n                )\n              )\n            )\n          )\n        )\n      },\n      pagingInfo: ri!pagingInfo,\n      triggerRefresh: ri!triggerRefresh,\n      executeWhen: or(\n        ri!executeWhen,\n        or(\n          any(\n            rule!AS_CO_UT_isNotBlank(_),\n            {\n              ri!additionalFilters,\n              ri!logicalExpression,\n              ri!aggregationFields\n            }\n          ),\n          rule!AS_CO_UT_isNotBlank(ri!questionReferenceId)\n        )\n      ),\n      relatedRecordData: local!relatedRecordData\n    )\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_40209-gcm": {
      "name": "AS_GCM_QNM_UT_buildResponses_TemplateFromReference",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!responses_Reference,\n  expression: recordType!AS GCM QNM T Response(\n    recordType!AS GCM QNM T Response.fieldKey: fv!item[recordType!AS GCM QNM R Response.fieldKey],\n    recordType!AS GCM QNM T Response.label: fv!item[recordType!AS GCM QNM R Response.label],\n    recordType!AS GCM QNM T Response.value: fv!item[recordType!AS GCM QNM R Response.value]\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_36913-gcm": {
      "name": "AS_GCM_QNM_REF_questionTypes",
      "type": "Expression Rule",
      "sail_code": "/* This rule is often used in scenarios where display is not relevant,\nso we account for i18n specifically where display is necessary for efficiency */\na!localVariables(\n  local!bundle: a!refreshVariable(\n    value: rule!AS_GCM_CO_UT_loadBundleFromFolder(langISOCode: null()),\n    refreshAlways: true\n  ),\n  /* Single Radio Button field*/\n  {\n    'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_R_QuestionType'(\n      questionTypeCode: cons!AS_GCM_QNM_ENUM_QUESTION_TYPE_CODE_SINGLE_RADIO_BUTTON_TEXT,\n      questionTypeLabel: \"\",\n      questionTypeDescription: \"\",\n      respond: rule!AS_GCM_QNM_CPS_displayQuestion_SINGLE_RADIO_BUTTON_TEXT,\n      readOnlyDisplay: rule!AS_GCM_QNM_UI_displayReadOnlyResponse_SINGLE_RADIO_BUTTON_TEXT,\n      fieldTypes: {\n        'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_R_FieldType'(\n          fieldKey: null,\n          fieldType: cons!AS_GCM_QNM_ENUM_FIELD_TYPE_RADIO_BUTTON,\n          validate: rule!AS_GCM_QNM_VD_validate_NO_VALIDATION,\n          fieldResponseType: cons!AS_GCM_QNM_ENUM_FIELD_RESPONSE_TYPE_USER_DEFINED_SELECTION\n        )\n      },\n      isActive: true\n    ),\n    /* Single dropdown field -- plain text value */\n    'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_R_QuestionType'(\n      questionTypeCode: cons!AS_GCM_QNM_ENUM_QUESTION_TYPE_CODE_DROPDOWN_TEXT,\n      questionTypeLabel: \"\",\n      questionTypeDescription: \"\",\n      respond: rule!AS_GCM_QNM_CPS_displayQuestion_DROPDOWN_TEXT,\n      readOnlyDisplay: rule!AS_GCM_QNM_UI_displayReadOnlyResponse_DROPDOWN_TEXT,\n      fieldTypes: {\n        'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_R_FieldType'(\n          fieldKey: null,\n          fieldType: cons!AS_GCM_QNM_ENUM_FIELD_TYPE_DROPDOWN,\n          validate: rule!AS_GCM_QNM_VD_validate_NO_VALIDATION,\n          fieldResponseType: cons!AS_GCM_QNM_ENUM_FIELD_RESPONSE_TYPE_USER_DEFINED_SELECTION\n        )\n      },\n      isActive: true\n    )/*DOCUPLOADTYPE removed*/\n    /*PARATYPE removed*/\n    /* New question types go here */\n    \n  }\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13158428": {
      "name": "AS_GCM_QNM_CPS_addTemplateQuestionLink",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_richTextDisplayField\"(\n  value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n    text: {\n      #\"SYSTEM_SYSRULES_richTextIcon\"(\n        icon: \"plus\",\n        color: if(\n          ri!disableOtherLinkButtons,\n          rule!AS_GCM_getColorBasedOnColorName(colorName: \"GRAY_4\"),\n          \"ACCENT\"\n        )\n      ),\n      \" \" & \"\"\n    },\n    link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n      label: \"\",\n      saveInto: {\n        a!save(\n          ri!sectionMap,\n          #\"urn:appian:function:v1:a:update\"(\n            ri!sectionMap,\n            { \"section\", \"isAddQuestion\" },\n            {\n              ri!currentSection[recordType!AS GCM QNM T Question Category.displayOrder],\n              true\n            }\n          )\n        ),\n        a!save(\n          ri!templateQuestionBeingEdited,\n          recordType!AS GCM QNM T Question(\n            recordType!AS GCM QNM T Question.questionTemplateId: min(\n              ri!allTemplateQuestions[recordType!AS GCM QNM T Question.questionTemplateId],\n              0\n            ) - 1,\n            recordType!AS GCM QNM T Question.questionCategoryTemplateId: ri!currentSection[recordType!AS GCM QNM T Question Category.questionCategoryTemplateId],\n            recordType!AS GCM QNM T Question.orderNumber: max(\n              ri!currentSectionQuestions[recordType!AS GCM QNM T Question.orderNumber]\n            ) + 1,\n            recordType!AS GCM QNM T Question.groupNumber: ri!currentSection[recordType!AS GCM QNM T Question Category.displayOrder],\n\n\n            recordType!AS GCM QNM T Question.questionVisibility: cons!AS_GCM_QNM_ENUM_TEMPLATE_QUESTION_VISIBILITY_ALWAYS_VISIBLE\n\n          )\n        ),\n        a!save(\n          ri!templateQuestionInCurrenSection,\n          rule!AS_GCM_filterRecords(\n            records: ri!templateQuestionBeingEdited,\n            field: recordType!AS GCM QNM T Question.groupNumber,\n            value: ri!currentSection[recordType!AS GCM QNM T Question Category.displayOrder]\n          )\n        )\n      },\n      showWhen: ri!disableOtherLinkButtons = false\n    ),\n    linkStyle: \"STANDALONE\"\n  ),\n  accessibilityText: if(\n    ri!disableOtherLinkButtons,\n    \"Function not available\",\n    \"Content will be added behind your current position\"\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76004": {
      "name": "AS_CO_I18N_UT_getUserLocale",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  userlocale(ri!user)\n)"
    },
    "_a-0000e841-a36f-8000-9bfa-011c48011c48_2675388": {
      "name": "AS_GCM_DPL_CO_CP_searchField",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!buttonLabel: rule!AS_CO_I18N_UT_getAndDisplayLabelSingle(\n    bundleFolder: cons!AS_CO_I18N_FLD_INTERNATIONALIZATION_FILES,\n    bundleKey: \"AS.CO.CommonObjects.lbl_Search\"\n  ),\n  local!value:ri!value,\n  #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n    items: {\n      #\"SYSTEM_SYSRULES_sideBySideItem\"(\n        item: rule!AS_CO_INP_textField(\n          label: if(ri!showLabel = true, ri!label, \"\"),\n          instructions: ri!instructions,\n          value: local!value,\n          saveInto: { local!value,if(a!isNullOrEmpty(local!value),a!save(ri!value,null),{}) },\n          labelPosition: if(ri!showLabel = true, \"ABOVE\", \"COLLAPSED\"),\n          placeholder: ri!placeholder,\n          accessibilityText: ri!searchAccessibilityText\n        ),\n        width: ri!searchBoxWidth\n      ),\n      #\"SYSTEM_SYSRULES_sideBySideItem\"(\n        item: #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n          buttons: {\n            #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n              label: if(\n                cons!AS_GCM_TOGGLE_AUTOMATION_TESTING_ENABLED,\n                local!buttonLabel,\n                \"\"\n              ),\n              icon: \"search\",\n              saveInto: {a!save(ri!value,local!value),ri!buttonSaveInto},\n              size: \"SMALL\",\n              color: \"SECONDARY\",\n              accessibilityText: ri!buttonAccessibilityText\n            )\n          },\n          marginBelow: \"NONE\"\n        ),\n        width: \"MINIMIZE\"\n      )\n    },\n    alignVertical: if(\n      rule!AS_CO_UT_isBlank(ri!label),\n      \"TOP\",\n      \"BOTTOM\"\n    ),\n    showWhen: ri!showWhen,\n    spacing: \"DENSE\",\n    marginBelow: \"NONE\"\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_237233-adt": {
      "name": "AS_ADT_UT_buildSimpleFieldChanges",
      "type": "Expression Rule",
      "sail_code": "a!flatten(\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!simpleFields,\n    expression: rule!AS_ADT_UT_buildSimpleFieldChangesDictionary(\n      simpleFieldName: fv!item,\n      originalObject: ri!originalObject,\n      newObject: ri!newObject\n    )\n  )\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13150031": {
      "name": "AS_GCM_QNM_QR_getQuestionResponse_Reference",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryRecord(\n  recordType: recordType!AS GCM QNM R Response,\n  returnType: a!defaultValue(\n    value: ri!returnType,\n    default: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n  ),\n  fields: ri!fields,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM QNM R Response.responseReferenceId,\n      operator: \"in\",\n      value: ri!responseReferenceId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM QNM R Response.qstnRfrncIdRspnsOptions,\n      operator: \"in\",\n      value: ri!questionReferenceId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM QNM R Response.value,\n      operator: \"not null\"\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM QNM R Response.isActive,\n      operator: \"=\",\n      value: true\n    )\n  },\n  executeWhen: ri!executeWhen,\n  triggerRefresh: ri!triggerRefresh,\n  pagingInfo: ri!pagingInfo,\n  sort: if(\n    rule!AS_CO_UT_isBlank(ri!sort),\n    #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!AS GCM QNM R Response.responseReferenceId,\n      ascending: true\n    ),\n    ri!sort\n  )\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_91550": {
      "name": "AS_CO_I18N_UT_replaceArgument",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  if(\n    isnull(ri!input),\n    ri!input,\n    substitute(\n      ri!input,\n      /*The standard argument format is `[%x]` where `x` is the argument position*/\n      concat(\"[%\", ri!index, \"]\"),\n      fn!index(ri!arguments, ri!index, \"\")\n    )\n  )\n)"
    },
    "_a-0000e69a-ff03-8000-9bd0-011c48011c48_1642466": {
      "name": "AS_GCM_MTR_SAVE_removeQuestionFromQuestionnaire",
      "type": "Expression Rule",
      "sail_code": "{}"
    },
    "_a-0000e460-9d93-8000-9bc1-011c48011c48_609085-gcm": {
      "name": "AS_GCM_QNM_UT_questionTypeLabel",
      "type": "Expression Rule",
      "sail_code": "rule!AS_GCM_QNM_UT_questionMetadata(\n  questionTypeCode: ri!questionTypeCode\n).questionTypeLabel"
    },
    "0002e4d4-c334-8000-1229-7f0000014e7a-gcm": {
      "name": "AS GCM QNM Delete Template Responses",
      "type": "Process Model",
      "sail_code": "// Input: ?\n=pv!deletedTemplateResponseRequirements\n\n// Input: ?\n=pv!deletedTemplateResponses\n\n// Output: ?\nrule!AS_GCM_QNM_populateResponsesToBeDeleted(\n  writtenResponseOptions: pv!templateQuestions[recordType!AS GCM QNM T Question.responseOptions],\n  initialResponseOptions: pv!initialTemplateQuestions[recordType!AS GCM QNM T Question.responseOptions]\n)\n\n// Output: ?\nrule!AS_GCM_QNM_populateResponseRequirementsToBeDeleted(\n  writtenResponseRequirements: pv!templateQuestions[recordType!AS GCM QNM T Question.responseRequirements],\n  initialResponseRequirements: pv!initialTemplateQuestions[recordType!AS GCM QNM T Question.responseRequirements]\n)"
    },
    "_a-0000eaf1-8805-8000-9cec-011c48011c48_9106170": {
      "name": "AS_GAM_rejectCdtOrRecordDataByField",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdtOrRecord),\n  if(\n    or(\n      rule!AS_CO_UT_isBlank(ri!cdtOrRecord),\n      ri!rejectWhen = false()\n    ),\n    ri!cdtOrRecord,\n    remove(\n      a!flatten(ri!cdtOrRecord),\n      rule!AS_GAM_returnCdtOrRecordIndicesByField(\n        cdtOrRecord: ri!cdtOrRecord,\n        field: ri!field,\n        value: ri!value\n      )\n    )\n  )\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13126475": {
      "name": "AS_GCM_QNM_CPS_questionnaireSectionProperties",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!metrics,\n  local!confirmationMessage: rule!AS_GCM_QNM_getDependentTemplateQuestionsAndConfirmationMessage(\n    bundle: ri!bundle,\n    action: cons!AS_GCM_QNM_TXT_DELETE_SECTION_IN_QUESTIONNAIRE\n  ),\n  local!sectionExistsInRule: tointeger(\n    ri!currentSection[recordType!AS GCM QNM T Question Category.numOfQuestionsAssociatedWithRuleConditions]\n  ) > 0,\n  #\"SYSTEM_SYSRULES_columnsLayout\"(\n    columns: {\n      #\"SYSTEM_SYSRULES_columnLayout\"(\n        contents: {\n          rule!AS_GCM_CO_customisedLabelForRequiredInput(\n            /*Appending char(32) to the label in order to avoid duplicate label issue in SDX*/\n            label: \"Section Name\" & char(32),\n            helpTooltip: \"Name of the section/category\",\n            accessibilityText: ri!currentSectionIndex\n          ),\n          rule!AS_CO_INP_textField(\n            showCharacterCount: true,\n            label: \"Section Name\",\n            placeholder: if(\n              cons!AS_GCM_TOGGLE_AUTOMATION_TESTING_ENABLED,\n              \"Section \" & ri!currentSectionIndex,\n              \"\"\n            ),\n            readOnly: local!sectionExistsInRule,\n            labelPosition: \"COLLAPSED\",\n            value: ri!currentSection[recordType!AS GCM QNM T Question Category.questionCategoryName],\n            saveInto: ri!currentSection[recordType!AS GCM QNM T Question Category.questionCategoryName],\n            characterLimit: cons!AS_CO_ENUM_TEXT_LENGTH_LONG,\n            required: true,\n            validationGroup: cons!AS_GCM_QNM_TXT_VALIDATION_GROUP_PUBLISH_OR_PREVIEW_QUESTIONNAIRE,\n            accessibilityText: ri!currentSection[recordType!AS GCM QNM T Question Category.questionCategoryName]\n          )\n        }\n      ),\n      #\"SYSTEM_SYSRULES_columnLayout\"(\n        contents: {\n          #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n            buttons: {\n              /*delete*/\n              #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                label: if(\n                  cons!AS_GCM_TOGGLE_AUTOMATION_TESTING_ENABLED,\n                  rule!AS_GCM_accessibilityTextForSectionDeletion(\n                    bundle: ri!bundle,\n                    currentSectionName: ri!currentSection[recordType!AS GCM QNM T Question Category.questionCategoryName],\n                    currentSectionIndex: ri!currentSectionIndex,\n                    countOfAllSections: count(ri!allSections),\n                    disableOtherLinkButtons: ri!disableOtherLinkButtons\n                  ),\n                  {}\n                ),\n                icon: \"trash\",\n                size: \"SMALL\",\n                style: \"LINK\",\n                color: \"NEGATIVE\",\n                disabled: or(\n                  local!sectionExistsInRule,\n                  count(ri!allSections) = 1,\n                  ri!disableOtherLinkButtons\n                ),\n                confirmHeader: local!confirmationMessage.header,\n                confirmMessage: local!confirmationMessage.message,\n                confirmButtonLabel: \"\",\n                cancelButtonLabel: \"Cancel\",\n                tooltip: if(\n                  local!sectionExistsInRule,\n                  \"Delete the associated rule(s) to update this section.\",\n                  rule!AS_GAM_CO_I18N_UT_displayLabel(\n                    bundle: ri!bundle,\n                    bundleKey: \"btn_Delete\",\n                    arguments: null\n                  ) & \" \" & ri!currentSection[recordType!AS GCM QNM T Question Category.questionCategoryName]\n                ),\n                accessibilityText: rule!AS_GCM_accessibilityTextForSectionDeletion(\n                  bundle: ri!bundle,\n                  currentSectionName: ri!currentSection[recordType!AS GCM QNM T Question Category.questionCategoryName],\n                  currentSectionIndex: ri!currentSectionIndex,\n                  countOfAllSections: count(ri!allSections),\n                  disableOtherLinkButtons: ri!disableOtherLinkButtons\n                ),\n                saveInto: {\n                  rule!AS_GCM_QNM_updateTemplateQuestionnaireOnSectionDeletion(\n                    allTemplateQuestions: ri!allTemplateQuestions,\n                    currentSection: ri!currentSection,\n                    allSections: ri!allSections\n                  ),\n                  a!save(\n                    {\n                      ri!sectionMap.isAddQuestion,\n                      ri!sectionMap.isEditQuestion\n                    },\n                    false\n                  ),\n                  a!save(\n                    local!metrics,\n                    rule!AS_GCM_MTR_SAVE_removeCategoryFromQuestionnaire()\n                  )\n                },\n                submit: false\n              )\n            },\n            align: \"END\"\n          )\n        },\n        width: \"EXTRA_NARROW\"\n      )\n    },\n    alignVertical: \"TOP\"\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_269170": {
      "name": "AS_CO_UT_updateCdtFieldsByFieldValuePairs",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    and(\n      rule!AS_CO_UT_isBlank(ri!cdt),\n      rule!AS_CO_UT_checkIfArrayType(\n        typeOf: ri!cdt\n      )\n    ),\n    ri!cdt,\n    reduce(\n      rule!AS_CO_UT_zINTERNAL_updateCdtFieldsByPathComplex_handler(\n        cdt: _,\n        fieldValuePair: _\n      ),\n      ri!cdt,\n      a!flatten(ri!fieldValuePairs)\n    )\n  )\n)"
    },
    "_a-0000ec90-d194-8000-9dac-011c48011c48_13575960": {
      "name": "AS_GCM_QNM_QR_getQuestionnaire_Template_BatchQueryQuestions",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    a!isNullOrEmpty(ri!questionnaire),\n    a!isNullOrEmpty(ri!questionnaireTemplateId)\n  ),\n  recordType!AS GCM QNM T Questionnaire(),\n  a!localVariables(\n    local!questionnaire: a!defaultValue(\n      value: ri!questionnaire,\n      /*Querying the Questionnaire data when ri!questionnaireTemplateId is passed in the initial usage of this rule*/\n      default: rule!AS_GCM_QNM_QR_getQuestionnaire_Template(\n        questionnaireTemplateId: ri!questionnaireTemplateId,\n        returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT,\n        executeWhen: true\n      )\n    ),\n    if(\n      /*Checking if all questions are retrieved*/\n      or(\n        a!isNullOrEmpty(local!questionnaire),\n        count(\n          local!questionnaire[recordType!AS GCM QNM T Questionnaire.questions]\n        ) = tointeger(\n          local!questionnaire[recordType!AS GCM QNM T Questionnaire.activeQuestionsCount]\n        )\n      ),\n      local!questionnaire,\n      {\n        /*Applying recursion to query the remaining questions that are not queried initially*/\n        rule!AS_GCM_QNM_QR_getQuestionnaire_Template_BatchQueryQuestions(\n          /*Querying the subsequent set of questions and appending with the existing set of questions*/\n          questionnaire: rule!AS_GCM_setRecordFields(\n            record: local!questionnaire,\n            alwaysOverwrite: a!map(\n              field: recordType!AS GCM QNM T Questionnaire.questions,\n              value: append(\n                local!questionnaire[recordType!AS GCM QNM T Questionnaire.questions],\n                rule!AS_GCM_QNM_QR_getQuestionnaire_Template(\n                  questionnaireTemplateId: local!questionnaire[recordType!AS GCM QNM T Questionnaire.questionnaireTemplateId],\n                  questionTemplateIdsToExclude: local!questionnaire[recordType!AS GCM QNM T Questionnaire.questions.questionTemplateId]\n                )[recordType!AS GCM QNM T Questionnaire.questions]\n              )\n            )\n          )\n        )\n      }\n    )\n  )\n)"
    },
    "_a-0000e460-9d93-8000-9bc1-011c48011c48_633811-gcm": {
      "name": "AS_GCM_QNM_UT_calculateQuestionMetadata",
      "type": "Expression Rule",
      "sail_code": "a!flatten(\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: rule!AS_CO_UT_distinct(\n      rule!AS_CO_UT_indexPath(\n        cdt: ri!allQuestions,\n        field: \"questionCategoryId\"\n      )\n    ),\n    expression: a!localVariables(\n      local!questionsOnPage: rule!AS_CO_UT_filterCdtByField(\n        cdt: ri!allQuestions,\n        field: \"questionCategoryId\",\n        value: fv!item\n      ),\n      rule!AS_GCM_QNM_UT_calculateQuestionMetadata_Page(questionsOnPage: local!questionsOnPage)\n    )\n  )\n)"
    },
    "_a-0000ec75-2131-8000-9da0-011c48011c48_13302614": {
      "name": "AS_GCM_QNM_constructConditionalVisibilityGridData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!tempQuestionPrecedents,\n  expression: a!map(\n    precedentId: fv!item[recordType!AS GCM QNM T Question Precedent.questionPrecedentTemplateId],\n    questionTemplateId: fv!item[recordType!AS GCM QNM T Question Precedent.questionTemplateId_precedent],\n    requirementTypeCode: fv!item[recordType!AS GCM QNM T Question Precedent.responseRequirement.requirementTypeCode][1],\n    responseRequirementId: fv!item[recordType!AS GCM QNM T Question Precedent.responseRequirement.responseRequirementTemplateId][1],\n    value: fv!item[recordType!AS GCM QNM T Question Precedent.responseRequirement.requirementValue][1]\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_165782-adt": {
      "name": "AS_ADT_UT_calculateAudit_MultipleObjects",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Get the distinct IDs*/\n  local!distinctIds: rule!AS_CO_UT_distinct(\n    tointeger(\n      {\n        index(\n          ri!originalObjects,\n          ri!auditConfig.idField,\n          {}\n        ),\n        index(\n          ri!newObjects,\n          ri!auditConfig.idField,\n          {}\n        )\n      }\n    )\n  ),\n  if(\n    rule!AS_CO_UT_isBlank(local!distinctIds),\n    {},\n    /*This flatten converts to a list of dictionary, which prevents odd behavior in the parent*/\n    a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!distinctIds,\n        expression: a!flatten(\n          rule!AS_ADT_UT_calculateAudit_SingleObject(\n            originalObject: index(\n              rule!AS_CO_UT_filterCdtByField(\n                cdt: ri!originalObjects,\n                field: ri!auditConfig.idField,\n                value: fv!item\n              ),\n              1,\n              {}\n            ),\n            newObject: index(\n              rule!AS_CO_UT_filterCdtByField(\n                cdt: ri!newObjects,\n                field: ri!auditConfig.idField,\n                value: fv!item\n              ),\n              1,\n              {}\n            ),\n            auditConfig: ri!auditConfig,\n            username: ri!username,\n            externalAction: ri!externalAction,\n            auditType: ri!auditType\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e471-623a-8000-9bc3-011c48011c48_666372-gcm": {
      "name": "AS_GCM_QNM_UT_calculateFieldShowWhenMetadata",
      "type": "Expression Rule",
      "sail_code": "'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_QuestionMetadata'(\n  questionId: ri!question.questionId,\n  showWhen: ri!questionMetadata.showWhen,\n  fieldMetadata: append(\n    ri!questionMetadata.fieldMetadata,\n    'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_FieldMetadata'(\n      fieldKey: ri!fieldKey,\n      showWhen: if(\n        ri!questionMetadata.showWhen,\n        rule!AS_GCM_QNM_UT_showWhen(\n          question: ri!question,\n          applicableQuestions: ri!applicableQuestions,\n          applicableQuestionsMetadata: ri!applicableQuestionsMetadata,\n          fieldKey: ri!fieldKey\n        ),\n        false\n      )\n    )\n  )\n)"
    },
    "_a-0000eae2-5167-8000-9ce4-011c48011c48_8879314": {
      "name": "AS_GAM_returnCdtOrRecordIndicesByField",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_whereContains(\n  values: ri!value,\n  array: if(\n    /*Checking if the data is of type record*/\n    rule!AS_CO_UT_isRecordTypeData(data: ri!cdtOrRecord),\n    index(\n      a!flatten(ri!cdtOrRecord),\n      ri!field,\n      null\n    ),\n    /*Using indexPath to index the data since its not record type data   */\n    rule!AS_CO_UT_indexPath(\n      cdt: a!flatten(ri!cdtOrRecord),\n      field: ri!field,\n      indexDefault: null\n    )\n  )\n)"
    },
    "_a-0000e471-623a-8000-9bc3-011c48011c48_666366-gcm": {
      "name": "AS_GCM_QNM_UT_calculateQuestionShowWhenMetadata",
      "type": "Expression Rule",
      "sail_code": "append(\n  ri!applicableQuestionsMetadata,\n  a!localVariables(\n    local!fields: a!refreshVariable(\n      value: index(\n        rule!AS_GCM_QNM_UT_fieldTypes(\n          questionTypeCode: ri!question.questionTypeCode\n        ),\n        \"fieldKey\",\n        \"\"\n      ),\n      refreshAlways: true\n    ),\n    local!questionMetadata: a!refreshVariable(\n      value: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_QuestionMetadata'(\n        questionId: ri!question.questionId,\n        showWhen: rule!AS_GCM_QNM_UT_showWhen(\n          question: ri!question,\n          applicableQuestions: ri!applicableQuestions,\n          applicableQuestionsMetadata: ri!applicableQuestionsMetadata,\n          fieldKey: null\n        )\n      ),\n      refreshAlways: true\n    ),\n    reduce(\n      rule!AS_GCM_QNM_UT_calculateFieldShowWhenMetadata(\n        questionMetadata: _,\n        fieldKey: _,\n        question: ri!question,\n        applicableQuestions: ri!applicableQuestions,\n        applicableQuestionsMetadata: ri!applicableQuestionsMetadata\n      ),\n      local!questionMetadata,\n      local!fields\n    )\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_282990": {
      "name": "AS_CO_TYPE_TextList",
      "type": "Expression Rule",
      "sail_code": "'type!{http://www.appian.com/ae/types/2009}Text?list'"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_28901-gcm": {
      "name": "AS_GCM_QNM_CPS_displayQuestion",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_cardLayout\"(\n  contents: {\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: if(\n            ri!readOnly,\n            rule!AS_GCM_QNM_CPS_displayQuestion_ReadOnly(question: ri!question, bundle: ri!bundle),\n            rule!AS_GCM_QNM_CPS_displayQuestion_Editable(\n              question: ri!question,\n              bundle: ri!bundle,\n              /* Provides the ability to define requirement unconditionally */\n              questionMetadata: ri!questionMetadata\n            )\n          )\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              labelPosition: \"COLLAPSED\",\n              value: {\n                if(\n                  ri!questionMetadata.fulfilled,\n                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                    text: {\n                      #\"SYSTEM_SYSRULES_richTextIcon\"(icon: \"check-circle\"),\n                      char(32),\n                      \"Answered\"\n                    },\n                    color: cons!AS_GCM_HEX_CODE_QUESTION_OR_SECTION_COMPLETE_GREEN,\n                    size: \"SMALL\",\n                    style: \"STRONG\"\n                  ),\n                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                    text: \"Unanswered\",\n                    color: cons!AS_GCM_HEX_CODE_GRAY_3,\n                    size: \"SMALL\",\n                    style: \"PLAIN\"\n                  )\n                )\n              },\n              align: \"RIGHT\"\n            )\n          },\n          width: \"NARROW\"\n        )\n      }\n    )\n  },\n  height: \"AUTO\",\n  style: \"NONE\",\n  shape: \"SEMI_ROUNDED\",\n  padding: \"MORE\",\n  marginBelow: \"LESS\",\n  showBorder: false,\n  showWhen: ri!questionMetadata.showWhen\n)"
    },
    "_a-0000ec50-376f-8000-9d94-011c48011c48_12909959": {
      "name": "AS_GCM_getColorBasedOnColorName",
      "type": "Expression Rule",
      "sail_code": "a!match(\n  value: ri!colorName,\n  /* White Colors */\n  equals: \"WHITE\",\n  then: cons!AS_GCM_HEX_CODE_WHITE,\n  equals: \"WHITE_2\",\n  then: cons!AS_GCM_HEX_CODE_WHITE_2,\n  /* Gray Colors */\n  equals: \"GRAY_0\",\n  then: cons!AS_GCM_HEX_CODE_GRAY_0,\n  equals: \"GRAY_1\",\n  then: \"#EDEDF2\",\n  equals: \"GRAY_2\",\n  then: \"#DCDCE5\",\n  equals: \"GRAY_3\",\n  then: cons!AS_GCM_HEX_CODE_GRAY_3,\n  equals: \"GRAY_4\",\n  then: \"#2E2E35\",\n  /* Orange Colors */\n  equals: \"ORANGE_1\",\n  then: \"#FFEED3\",\n  equals: \"ORANGE_2\",\n  then: \"#FFDCA3\",\n  equals: \"ORANGE_3\",\n  then: \"#FAA92F\",\n  equals: \"ORANGE_4\",\n  then: \"#995C00\",\n  /* Blue Colors */\n  equals: \"BLUE_0\",\n  then: cons!AS_GCM_HEX_CODE_BLUE_0,\n  equals: \"BLUE_1\",\n  then: cons!AS_GCM_HEX_CODE_BLUE_1,\n  equals: \"BLUE_2\",\n  then: \"#AFBFF8\",\n  equals: \"BLUE_3\",\n  then: \"#2322F0\",\n  equals: \"BLUE_4\",\n  then: cons!AS_GCM_HEX_CODE_BLUE_4,\n  equals: \"BLUE_5\",\n  then: \"#E9EDFC\",\n  equals: \"BLUE_6\",\n  then: \"#08088D\",\n  equals: \"BLUE_7\",\n  then: \"#DCDEF5\",\n  /* Green Colors  */\n  equals: \"GREEN_1\",\n  then: \"#E3FBDF\",\n  equals: \"GREEN_4\",\n  then: \"#117C00\",\n  /* Teal Colors */\n  equals: \"TEAL_1\",\n  then: \"#E2FAF9\",\n  equals: \"TEAL_3\",\n  then: \"#56ADC0\",\n  equals: \"TEAL_4\",\n  then: \"#2C6770\",\n  /* Purple Colors */\n  equals: \"PURPLE_1\",\n  then: \"#F2E9FF\",\n  equals: \"PURPLE_3\",\n  then: \"#B561FF\",\n  equals: \"PURPLE_4\",\n  then: \"#790DA1\",\n  /* Red Colors */\n  equals: \"RED_4\",\n  then: \"#9F0019\",\n  /* Yellow Colors */\n  equals: \"YELLOW_0\",\n  then: \"#FFFCEB\",\n  equals: \"YELLOW_1\",\n  then: \"#FFF6C9\",\n  equals: \"YELLOW_4\",\n  then: \"#856C00\",\n  /* Appian Colors */\n  equals: \"APPIAN_BACKGROUND\",\n  then: cons!AS_GCM_HEX_CODE_APPIAN_BACKGROUND,\n  equals: \"ACCENT\",\n  then: \"#2322f0\",\n  default: ri!colorName\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_31196-gcm": {
      "name": "AS_GCM_QNM_UT_filterToResponsesForQuestionByFieldKey",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_Response?list',\n  if(\n    isnull(\n      ri!question.responses\n    ),\n    {},\n    index(\n      ri!question.responses,\n      wherecontains(\n        ri!fieldKey,\n        ri!question.responses.fieldKey\n      )\n    )\n  )\n)"
    },
    "_a-0000e471-623a-8000-9bc3-011c48011c48_663773-gcm": {
      "name": "AS_GCM_QNM_UT_calculateQuestionMetadata_Group",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!orderedQuestionsInGroup: rule!AS_CO_UT_sortCdtBySecondaryArray(\n    cdt: ri!questionsInGroup,\n    field: \"orderNumber\",\n    array: rule!AS_CO_UT_sortArray(\n      array: ri!questionsInGroup.orderNumber,\n      ascending: true\n    )\n  ),\n  local!showWhenMetadata: reduce(\n    rule!AS_GCM_QNM_UT_calculateQuestionShowWhenMetadata(\n      applicableQuestionsMetadata: _,\n      question: _,\n      applicableQuestions: local!orderedQuestionsInGroup\n    ),\n    {},\n    local!orderedQuestionsInGroup\n  ),\n  local!requiredAndValidatedMetadata: #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!orderedQuestionsInGroup,\n    expression: rule!AS_GCM_QNM_UT_calculateQuestionRequiredAndValidMetadata(\n      question: fv!item,\n      questionMetadata: local!showWhenMetadata[fv!index],\n      applicableQuestions: ri!questionsInGroup,\n      applicableQuestionsMetadata: local!showWhenMetadata\n    )\n  ),\n  local!fulfilledMetadata: #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!orderedQuestionsInGroup,\n    expression: rule!AS_GCM_QNM_UT_calculateQuestionFulfilledMetadata(\n      question: fv!item,\n      questionMetadata: local!requiredAndValidatedMetadata[fv!index]\n    )\n  ),\n  local!fulfilledMetadata\n)"
    },
    "_a-0000e4b1-2fbc-8000-9bc6-011c48011c48_894812-gcm": {
      "name": "AS_GCM_QNM_Template_Questionnaire_Clone",
      "type": "Expression Rule",
      "sail_code": "recordType!AS GCM QNM T Questionnaire(\n  /*Questionnaire Simple Fields*/\n  recordType!AS GCM QNM T Questionnaire.name: rule!AS_GAM_CO_I18N_UT_displayLabel(\n    bundle: ri!bundle,\n    bundleKey: \"lbl_ClonedTemplateNameFormatting\",\n    arguments: {\n      ri!originalQuestionnaire[recordType!AS GCM QNM T Questionnaire.name],\n      rule!AS_CO_UT_formatDateTime(dateTime: now())\n    }\n  ),\n  recordType!AS GCM QNM T Questionnaire.description: ri!originalQuestionnaire[recordType!AS GCM QNM T Questionnaire.description],\n  /*Sections*/\n  recordType!AS GCM QNM T Questionnaire.questionCategories: #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!originalQuestionnaire[recordType!AS GCM QNM T Questionnaire.questionCategories],\n    expression: recordType!AS GCM QNM T Question Category(\n      recordType!AS GCM QNM T Question Category.questionnaireTemplateId: null,\n      recordType!AS GCM QNM T Question Category.questionCategoryTemplateId: fv!item[recordType!AS GCM QNM T Question Category.questionCategoryTemplateId] * - 1,\n      recordType!AS GCM QNM T Question Category.questionCategoryName: fv!item[recordType!AS GCM QNM T Question Category.questionCategoryName],\n      recordType!AS GCM QNM T Question Category.displayOrder: fv!item[recordType!AS GCM QNM T Question Category.displayOrder],\n      recordType!AS GCM QNM T Question Category.isActive: fv!item[recordType!AS GCM QNM T Question Category.isActive]\n    )\n  ),\n  /*Questions*/\n  recordType!AS GCM QNM T Questionnaire.questions: #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!originalQuestionnaire[recordType!AS GCM QNM T Questionnaire.questions],\n    expression: recordType!AS GCM QNM T Question(\n      /*Questions simple fields*/\n      recordType!AS GCM QNM T Question.questionnaireTemplateId: null,\n      recordType!AS GCM QNM T Question.questionCategoryTemplateId: fv!item[recordType!AS GCM QNM T Question.questionCategoryTemplateId] * - 1,\n      recordType!AS GCM QNM T Question.questionTemplateId: fv!item[recordType!AS GCM QNM T Question.questionTemplateId] * - 1,\n      recordType!AS GCM QNM T Question.questionReferenceId: fv!item[recordType!AS GCM QNM T Question.questionReferenceId],\n      recordType!AS GCM QNM T Question.questionTypeCode: fv!item[recordType!AS GCM QNM T Question.questionTypeCode],\n      recordType!AS GCM QNM T Question.label: fv!item[recordType!AS GCM QNM T Question.label],\n      recordType!AS GCM QNM T Question.groupNumber: fv!item[recordType!AS GCM QNM T Question.groupNumber],\n      recordType!AS GCM QNM T Question.orderNumber: fv!item[recordType!AS GCM QNM T Question.orderNumber],\n      recordType!AS GCM QNM T Question.questionVisibility: fv!item[recordType!AS GCM QNM T Question.questionVisibility],\n      recordType!AS GCM QNM T Question.isActive: fv!item[recordType!AS GCM QNM T Question.isActive],\n      /*Response Requirement*/\n      recordType!AS GCM QNM T Question.responseRequirements: if(\n        a!isNotNullOrEmpty(\n          fv!item[recordType!AS GCM QNM T Question.responseRequirements]\n        ),\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: fv!item[recordType!AS GCM QNM T Question.responseRequirements],\n          expression: recordType!AS GCM QNM T Response Requirement(\n            recordType!AS GCM QNM T Response Requirement.requirementTypeCode: fv!item[recordType!AS GCM QNM T Response Requirement.requirementTypeCode],\n            recordType!AS GCM QNM T Response Requirement.requirementValue: fv!item[recordType!AS GCM QNM T Response Requirement.requirementValue]\n          )\n        ),\n        {}\n      ),\n      /*Response Options*/\n      recordType!AS GCM QNM T Question.responseOptions: if(\n        a!isNotNullOrEmpty(\n          fv!item[recordType!AS GCM QNM T Question.responseOptions]\n        ),\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: fv!item[recordType!AS GCM QNM T Question.responseOptions],\n          expression: recordType!AS GCM QNM T Response(\n            recordType!AS GCM QNM T Response.label: fv!item[recordType!AS GCM QNM T Response.label],\n            recordType!AS GCM QNM T Response.value: fv!item[recordType!AS GCM QNM T Response.value]\n          )\n        ),\n        {}\n      ),\n      /*Display Precedent Set*/\n      recordType!AS GCM QNM T Question.isDisplayedPrecedentSets: if(\n        a!isNotNullOrEmpty(\n          fv!item[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets]\n        ),\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: fv!item[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets],\n          expression: recordType!AS GCM QNM T Question Precedent Set(\n            recordType!AS GCM QNM T Question Precedent Set.operator: fv!item[recordType!AS GCM QNM T Question Precedent Set.operator],\n            /*Conditional Visibilility Question*/\n            recordType!AS GCM QNM T Question Precedent Set.questionPrecedents: #\"SYSTEM_SYSRULES_forEach\"(\n              items: fv!item[recordType!AS GCM QNM T Question Precedent Set.questionPrecedents],\n              expression: recordType!AS GCM QNM T Question Precedent(\n                recordType!AS GCM QNM T Question Precedent.questionTemplateId_precedent: fv!item[recordType!AS GCM QNM T Question Precedent.questionTemplateId_precedent] * - 1,\n                /*Response Requirements*/\n                recordType!AS GCM QNM T Question Precedent.responseRequirement: #\"SYSTEM_SYSRULES_forEach\"(\n                  items: fv!item[recordType!AS GCM QNM T Question Precedent.responseRequirement],\n                  expression: recordType!AS GCM QNM T Response Requirement(\n                    recordType!AS GCM QNM T Response Requirement.requirementTypeCode: fv!item[recordType!AS GCM QNM T Response Requirement.requirementTypeCode],\n                    recordType!AS GCM QNM T Response Requirement.requirementValue: fv!item[recordType!AS GCM QNM T Response Requirement.requirementValue]\n                  )\n                )\n              )\n            )\n          )\n        ),\n        {}\n      )\n    )\n  )\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13130944": {
      "name": "AS_GCM_QNM_updateTemplateQuestionnaireOnSectionDeletion",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!currentSectionNumber: ri!currentSection[recordType!AS GCM QNM T Question Category.displayOrder],\n  {\n    /*removing the deleted section's questions from allTempQuestions*/\n    a!save(\n      ri!allTemplateQuestions,\n      remove(\n        ri!allTemplateQuestions,\n        wherecontains(\n          ri!currentSection[recordType!AS GCM QNM T Question Category.questionCategoryTemplateId],\n          ri!allTemplateQuestions[recordType!AS GCM QNM T Question.questionCategoryTemplateId]\n        )\n      )\n    ),\n    /*updating n+1 section's displayOrder as n-1; n being the current section*/\n    a!save(\n      ri!allSections,\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!allSections,\n        expression: if(\n          fv!item[recordType!AS GCM QNM T Question Category.displayOrder] > local!currentSectionNumber,\n          rule!AS_GCM_setRecordFields(\n            record: fv!item,\n            alwaysOverwrite: {\n              a!map(\n                field: recordType!AS GCM QNM T Question Category.displayOrder,\n                value: fv!item[recordType!AS GCM QNM T Question Category.displayOrder] - 1\n              )\n            }\n          ),\n          fv!item\n        )\n      )\n    ),\n    /*updating n+1 section's question's groupNumber as n-1; n being the current section*/\n    a!save(\n      ri!allTemplateQuestions,\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!allTemplateQuestions,\n        expression: if(\n          fv!item[recordType!AS GCM QNM T Question.groupNumber] > local!currentSectionNumber,\n          rule!AS_GCM_setRecordFields(\n            record: fv!item,\n            alwaysOverwrite: {\n              a!map(\n                field: recordType!AS GCM QNM T Question.groupNumber,\n                value: fv!item[recordType!AS GCM QNM T Question.groupNumber] - 1\n              )\n            }\n          ),\n          fv!item\n        )\n      )\n    ),\n    /*removing the deleted section from questionnaire*/\n    a!save(\n      ri!allSections,\n      remove(\n        ri!allSections,\n        wherecontains(\n          ri!currentSection[recordType!AS GCM QNM T Question Category.questionCategoryTemplateId],\n          ri!allSections[recordType!AS GCM QNM T Question Category.questionCategoryTemplateId]\n        )\n      )\n    )\n  }\n)"
    },
    "_a-0000e471-623a-8000-9bc3-011c48011c48_667577-gcm": {
      "name": "AS_GCM_QNM_UT_calculateQuestionFulfilledMetadata",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!questionMetadata: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_QuestionMetadata'(\n    questionId: ri!question.questionId,\n    showWhen: ri!questionMetadata.showWhen,\n    required: ri!questionMetadata.required,\n    valid: ri!questionMetadata.valid,\n    fieldMetadata: #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!questionMetadata.fieldMetadata,\n      expression: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_FieldMetadata'(\n        fieldKey: fv!item.fieldKey,\n        showWhen: fv!item.showWhen,\n        required: fv!item.required,\n        valid: fv!item.valid,\n        fulfilled: if(\n          fv!item.required,\n          if(\n            fv!item.valid,\n            rule!AS_GCM_QNM_UT_fulfilled(\n              question: ri!question,\n              questionMetadata: ri!questionMetadata,\n              fieldKey: fv!item.fieldKey\n            ),\n            false\n          ),\n          null\n        )\n      )\n    )\n  ),\n  if(\n    ri!questionMetadata.required,\n    rule!AS_CO_UT_updateCdtFields(\n      cdt: local!questionMetadata,\n      fields: \"fulfilled\",\n      newValues: and(\n        local!questionMetadata.fieldMetadata.fulfilled\n      )\n    ),\n    local!questionMetadata\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_162769": {
      "name": "AS_CO_UT_typeCompare",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  typeof(ri!value1) = typeof(ri!value2)\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_161361-adt": {
      "name": "AS_ADT_UT_calculateAudit",
      "type": "Expression Rule",
      "sail_code": "rule!AS_ADT_UT_calculateAudit_MultipleObjects(\n  originalObjects: ri!originalObjects,\n  newObjects: ri!newObjects,\n  auditConfig: ri!auditConfig,\n  username: ri!username,\n  externalAction: ri!externalAction,\n  auditType: ri!auditType\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73624": {
      "name": "AS_CO_UT_compare",
      "type": "Expression Rule",
      "sail_code": "/*Do a \"fuzzy\" comparison where all we care about is the data*/\n/*This will match a list of variant/dictionary/cdt if their fields have the same values*/\ncast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  tostring(ri!value1) = tostring(ri!value2)\n)"
    },
    "_a-0000e69a-ff03-8000-9bd0-011c48011c48_1641693": {
      "name": "AS_GCM_MTR_SAVE_createQuestionnaire",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(local!temp, a!save(local!temp, {}))"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13138629": {
      "name": "AS_GCM_QNM_CPS_addSectionLink",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_sideBySideLayout\"(\n  items: {\n    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n      item: #\"SYSTEM_SYSRULES_horizontalLine\"(marginBelow: \"NONE\")\n    ),\n    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n      item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                icon: \"plus-circle\",\n                altText: if(\n                  cons!AS_GCM_TOGGLE_AUTOMATION_TESTING_ENABLED,\n                  \"Add New Section\",\n                  {}\n                )\n              ),\n              \" \",\n              \"Add New Section\"\n            },\n            link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n              saveinto: {\n                a!save(\n                  ri!sectionMap,\n                  #\"urn:appian:function:v1:a:update\"(\n                    ri!sectionMap,\n                    { \"section\", \"isAddQuestion\" },\n                    { ri!sectionNumber, true }\n                  )\n                ),\n                a!save(\n                  ri!sections,\n                  append(\n                    ri!sections,\n                    recordType!AS GCM QNM T Question Category(\n                      recordType!AS GCM QNM T Question Category.questionCategoryTemplateId: min(\n                        ri!sections[recordType!AS GCM QNM T Question Category.questionCategoryTemplateId],\n                        0\n                      ) - 1,\n                      recordType!AS GCM QNM T Question Category.displayOrder: ri!sectionNumber,\n                      recordType!AS GCM QNM T Question Category.isActive: true\n                    )\n                  )\n                ),\n                a!save(\n                  ri!templateQuestionBeingEdited,\n                  recordType!AS GCM QNM T Question(\n                    recordType!AS GCM QNM T Question.questionTemplateId: min(\n                      ri!questions[recordType!AS GCM QNM T Question.questionTemplateId],\n                      0\n                    ) - 1,\n                    recordType!AS GCM QNM T Question.questionCategoryTemplateId: min(\n                      ri!sections[recordType!AS GCM QNM T Question Category.questionCategoryTemplateId]\n                    ),\n                    recordType!AS GCM QNM T Question.orderNumber: 1,\n                    recordType!AS GCM QNM T Question.groupNumber: ri!sectionNumber,\n                    recordType!AS GCM QNM T Question.questionVisibility: cons!AS_GCM_QNM_ENUM_TEMPLATE_QUESTION_VISIBILITY_ALWAYS_VISIBLE\n                  )\n                ),\n                rule!AS_GCM_MTR_SAVE_addCategoryToQuestionnaire()\n              },\n              showWhen: ri!disableOtherLinkButtons = false\n            ),\n            linkStyle: \"STANDALONE\",\n            color: if(\n              ri!disableOtherLinkButtons,\n              rule!AS_GCM_getColorBasedOnColorName(colorName: \"GRAY_4\"),\n              \"ACCENT\"\n            ),\n            style: \"STRONG\"\n          )\n        },\n        align: \"CENTER\",\n        accessibilityText: if(\n          ri!disableOtherLinkButtons,\n          \"Function not available\",\n          \"Content will be added behind your current position\"\n        )\n      ),\n      width: \"MINIMIZE\"\n    ),\n    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n      item: #\"SYSTEM_SYSRULES_horizontalLine\"(marginBelow: \"NONE\")\n    )\n  },\n  alignVertical: \"MIDDLE\",\n  marginBelow: \"MORE\"\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_161958-adt": {
      "name": "AS_ADT_UT_determineAuditActionCode",
      "type": "Expression Rule",
      "sail_code": "choose(\n  where(\n    {\n      rule!AS_CO_UT_isNotBlank(ri!externalAction),\n      rule!AS_CO_UT_isBlank(index(ri!originalObject, ri!auditConfig.idField, null)),\n      rule!AS_CO_UT_isBlank(index(ri!newObject, ri!auditConfig.idField, null)),\n      toboolean(index(ri!originalObject, \"isActive\", 1)) = toboolean(index(ri!newObject, \"isActive\", 1)),\n      toboolean(index(ri!originalObject, \"isActive\", false)),\n      toboolean(index(ri!newObject, \"isActive\", true))\n    }\n  )[1],\n  ri!externalAction,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_ADD,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DELETE,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DEACTIVATE,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_REACTIVATE\n)"
    },
    "_a-0000e3ff-a5bc-8000-9ba8-011c48011c48_39610": {
      "name": "AS_CO_UT_returnArrayTypeNumber",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer',\n  typeof(\n    a!flatten(\n      rule!AS_CO_UT_cast(\n        type: ri!type,\n        typeOf: ri!typeOf,\n        value: null\n      )\n    )\n  )\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13180304": {
      "name": "AS_GCM_QNM_updateQuestionnaireRecordAfterWrite",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!questionnaireFromForm: #\"urn:appian:function:v1:a:update\"(\n    ri!questionnaireFromForm,\n    recordType!AS GCM QNM T Questionnaire.questions,\n    todatasubset(\n      ri!questionnaireFromForm[recordType!AS GCM QNM T Questionnaire.questions],\n      #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: -1,\n        sort: {\n          #\"SYSTEM_SYSRULES_sortInfo\"(\n            field: recordType!AS GCM QNM T Question.groupNumber,\n            ascending: true\n          ),\n          #\"SYSTEM_SYSRULES_sortInfo\"(\n            field: recordType!AS GCM QNM T Question.orderNumber,\n            ascending: true\n          )\n        }\n      )\n    ).data\n  ),\n  local!questionsFromForm: local!questionnaireFromForm[recordType!AS GCM QNM T Questionnaire.questions.questionTemplateId],\n  local!writtenQuestions: ri!writtenQuestionnaire[recordType!AS GCM QNM T Questionnaire.questions.questionTemplateId],\n  local!finalisedWrittenQuestionIds: remove(\n    local!writtenQuestions,\n    rule!AS_CO_UT_whereContains(\n      array: local!writtenQuestions,\n      values: tointeger(\n        ri!deletedPksMap.questionIdsToBeDeleted\n      )\n    )\n  ),\n  local!sectionssFromForm: local!questionnaireFromForm[recordType!AS GCM QNM T Questionnaire.questionCategories.questionCategoryTemplateId],\n  local!writtenSections: ri!writtenQuestionnaire[recordType!AS GCM QNM T Questionnaire.questionCategories.questionCategoryTemplateId],\n  local!finalisedWrittenSectionIds: remove(\n    local!writtenSections,\n    rule!AS_CO_UT_whereContains(\n      array: local!writtenSections,\n      values: tointeger(ri!deletedPksMap.sectionIdsToBeDeleted)\n    )\n  ),\n  local!finalisedConditions: #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!finalisedWrittenQuestionIds,\n    expression: a!localVariables(\n      local!currentQuestionFromDB: index(\n        rule!AS_CO_UT_indexWhere(\n          value: fv!item,\n          initialArray: ri!writtenQuestionnaire[recordType!AS GCM QNM T Questionnaire.questions.questionTemplateId],\n          finalArray: ri!writtenQuestionnaire[recordType!AS GCM QNM T Questionnaire.questions]\n        ),\n        1,\n        null\n      ),\n      local!currentQuestionFromForm: index(\n        local!questionnaireFromForm[recordType!AS GCM QNM T Questionnaire.questions],\n        fv!index,\n        null\n      ),\n      local!conditionsFromDB: if(\n        a!isNullOrEmpty(\n          local!currentQuestionFromDB[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets]\n        ),\n        null,\n        index(\n          local!currentQuestionFromDB,\n          recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n          null\n        )\n      ),\n      local!conditionsFromForm: if(\n        a!isNullOrEmpty(\n          local!currentQuestionFromForm[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets]\n        ),\n        null,\n        index(\n          local!currentQuestionFromForm,\n          recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n          null\n        )\n      ),\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!conditionsFromDB,\n        expression: rule!AS_GCM_QNM_updatePrecedentsAfterInitialWrite(\n          deletedPksMap: ri!deletedPksMap,\n          precedentsFromForm: local!conditionsFromForm,\n          precedentsFromDB: local!conditionsFromDB,\n          questionsFromForm: local!questionsFromForm,\n          finalisedWrittenQuestionIds: local!finalisedWrittenQuestionIds\n        )\n      )\n    )\n  ),\n  local!finalisedPrecedentSets: #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!finalisedWrittenQuestionIds,\n    expression: a!localVariables(\n      local!currentPrecSetFromDB: index(\n        rule!AS_CO_UT_indexWhere(\n          value: fv!item,\n          initialArray: ri!writtenQuestionnaire[recordType!AS GCM QNM T Questionnaire.questions.questionTemplateId],\n          finalArray: ri!writtenQuestionnaire[recordType!AS GCM QNM T Questionnaire.questions]\n        ),\n        1,\n        null\n      ),\n      a!map(\n        questionId: fv!item,\n        precSet: if(\n          a!isNullOrEmpty(local!currentPrecSetFromDB),\n          null,\n          if(\n            and(\n              a!isNotNullOrEmpty(\n                index(\n                  local!currentPrecSetFromDB,\n                  recordType!AS GCM QNM T Question Precedent Set.questionPrecedentSetTemplateId,\n                  null\n                )\n              ),\n              contains(\n                tointeger(\n                  ri!deletedPksMap.questionPrecedentSetIdsToBeDeleted\n                ),\n                tointeger(\n                  index(\n                    local!currentPrecSetFromDB,\n                    recordType!AS GCM QNM T Question Precedent Set.questionPrecedentSetTemplateId,\n                    null\n                  )\n                )\n              )\n            ),\n            rule!AS_GCM_setRecordFields(\n              record: local!currentPrecSetFromDB,\n              alwaysOverwrite: {\n                a!map(\n                  field: recordType!AS GCM QNM T Question Precedent Set.isActive,\n                  value: false\n                ),\n                a!map(\n                  field: recordType!AS GCM QNM T Question Precedent Set.questionPrecedents,\n                  value: index(\n                    local!finalisedConditions,\n                    fv!Index,\n                    null\n                  )\n                )\n              }\n            ),\n            rule!AS_GCM_setRecordFields(\n              record: local!currentPrecSetFromDB,\n              alwaysOverwrite: {\n                a!map(\n                  field: recordType!AS GCM QNM T Question Precedent Set.questionPrecedents,\n                  value: index(\n                    local!finalisedConditions,\n                    fv!Index,\n                    null\n                  )\n                )\n              }\n            )\n          )\n        )\n      )\n    )\n  ),\n  rule!AS_GCM_setRecordFields(\n    record: ri!writtenQuestionnaire,\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!AS GCM QNM T Questionnaire.questions,\n        value: #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!writtenQuestionnaire[recordType!AS GCM QNM T Questionnaire.questions],\n          expression: a!localVariables(\n            local!currentQuestionTempId: fv!item[recordType!AS GCM QNM T Question.questionTemplateId],\n            /* If the question is present in deleted map it is removed in Edit hence we need to deactivate it         */\n            if(\n              contains(\n                tointeger(\n                  ri!deletedPksMap.questionIdsToBeDeleted\n                ),\n                local!currentQuestionTempId\n              ),\n              rule!AS_GCM_setRecordFields(\n                record: fv!item,\n                alwaysOverwrite: {\n                  a!map(\n                    field: recordType!AS GCM QNM T Question.isActive,\n                    value: false\n                  )\n                }\n              ),\n              rule!AS_GCM_setRecordFields(\n                record: fv!item,\n                alwaysOverwrite: {\n                  a!map(\n                    field: recordType!AS GCM QNM T Question.isActive,\n                    value: true\n                  ),\n                  a!map(\n                    field: recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n                    value: rule!AS_CO_UT_indexWhere(\n                      value: fv!item[recordType!AS GCM QNM T Question.questionTemplateId],\n                      initialArray: local!finalisedPrecedentSets.questionId,\n                      finalArray: local!finalisedPrecedentSets.precSet\n                    )\n                  ),\n                  a!map(\n                    field: recordType!AS GCM QNM T Question.questionCategoryTemplateId,\n                    value: displayvalue(\n                      fv!item[recordType!AS GCM QNM T Question.questionCategoryTemplateId],\n                      local!sectionssFromForm,\n                      local!finalisedWrittenSectionIds,\n                      null\n                    )\n                  )\n                }\n              )\n            )\n          )\n        ),\n        \n      ),\n      a!map(\n        field: recordType!AS GCM QNM T Questionnaire.questionCategories,\n        value: #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!writtenQuestionnaire[recordType!AS GCM QNM T Questionnaire.questionCategories],\n          expression: a!localVariables(\n            local!currentSectionId: fv!item[recordType!AS GCM QNM T Question Category.questionCategoryTemplateId],\n            /* If the qn is present in deleted map it is removed in Edit we need to deactivate it         */\n            if(\n              contains(\n                tointeger(ri!deletedPksMap.sectionIdsToBeDeleted),\n                local!currentSectionId\n              ),\n              rule!AS_GCM_setRecordFields(\n                record: fv!item,\n                alwaysOverwrite: {\n                  a!map(\n                    field: recordType!AS GCM QNM T Question Category.isActive,\n                    value: false\n                  )\n                }\n              ),\n              fv!item\n            )\n          )\n        )\n      )\n    }\n  )\n)"
    },
    "_a-0000e471-623a-8000-9bc3-011c48011c48_663767-gcm": {
      "name": "AS_GCM_QNM_UT_calculateQuestionMetadata_Page",
      "type": "Expression Rule",
      "sail_code": "a!flatten(\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: rule!AS_CO_UT_sortArrayDistinct(\n      array: ri!questionsOnPage.groupNumber,\n      ascending: true\n    ),\n    expression: a!localVariables(\n      local!questionsInGroup: rule!AS_CO_UT_filterCdtByField(\n        cdt: ri!questionsOnPage,\n        field: \"groupNumber\",\n        value: fv!item\n      ),\n      rule!AS_GCM_QNM_UT_calculateQuestionMetadata_Group(\n        questionsInGroup: local!questionsInGroup\n      )\n    )\n  )\n)"
    },
    "_a-0000ec46-fcf4-8000-9d91-011c48011c48_12823624": {
      "name": "AS_GCM_QNM_setMetaDataForTemplateQuestionnaireRecord",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!questionnaires,\n  expression: rule!AS_GCM_setRecordFields(\n    record: fv!item,\n    neverOverwrite: {\n      a!map(\n        field: recordType!AS GCM QNM T Questionnaire.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!AS GCM QNM T Questionnaire.createdDatetime,\n        value: now()\n      ),\n      a!map(\n        field: recordType!AS GCM QNM T Questionnaire.isActive,\n        value: true\n      )\n    },\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!AS GCM QNM T Questionnaire.modifiedBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!AS GCM QNM T Questionnaire.modifiedDatetime,\n        value: now()\n      )\n    },\n    childRelationships: {\n      a!map(\n        field: recordType!AS GCM QNM T Questionnaire.questionCategories,\n        value: rule!AS_GCM_QNM_setMetaDataForTemplateQuestionCategoryRecord(\n          questionCategory: fv!item[recordType!AS GCM QNM T Questionnaire.questionCategories],\n          \n        )\n      ),\n      a!map(\n        field: recordType!AS GCM QNM T Questionnaire.questions,\n        value: rule!AS_GCM_QNM_setMetaDataForTemplateQuestionsRecord(\n          questions: fv!item[recordType!AS GCM QNM T Questionnaire.questions],\n          initiator: ri!initiator\n        )\n      )\n    }\n  )\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_1021202": {
      "name": "AS_GAM_UT_ArrayLength",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!array),\n  0,\n  length(ri!array)\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75782": {
      "name": "AS_CO_UT_isNotBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  not(rule!AS_CO_UT_isBlank(ri!input))\n)"
    },
    "_a-0000e69a-ff03-8000-9bd0-011c48011c48_1642442": {
      "name": "AS_GCM_MTR_SAVE_addQuestionToQuestionnaire",
      "type": "Expression Rule",
      "sail_code": "{}"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_958752": {
      "name": "AS_GAM_ADT_UT_buildAuditEntityData",
      "type": "Expression Rule",
      "sail_code": "if(\n  /*Action only audit*/\n  ri!auditParams.auditType = cons!AS_GAM_ADT_TXT_AUDIT_TYPE_ACTION_ONLY,\n  rule!AS_GAM_ADT_UT_constructActionOnlyAuditData(\n    initiator: ri!initiator,\n    auditParams: ri!auditParams\n  ),\n  /*Manipulation Audit*/\n  if(\n    ri!auditParams.auditType = cons!AS_GAM_ADT_TXT_AUDIT_TYPE_MANIPULATION,\n    rule!AS_GAM_ADT_UT_constructManipulatedAuditData(\n      initiator: ri!initiator,\n      auditParams: ri!auditParams\n    ),\n    /*Generic field level audit*/\n    rule!AS_GAM_ADT_UT_buildFieldLevelAuditEntityData(auditParams: ri!auditParams)\n  )\n)"
    },
    "_a-0000e3ff-a5bc-8000-9ba8-011c48011c48_39070": {
      "name": "AS_CO_UT_booleanDefaultFalse",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  if(\n    isnull(ri!boolean),\n    false,\n    ri!boolean\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73568": {
      "name": "AS_CO_UT_getLabelPosition",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  rule!AS_CO_UT_replaceNull(\n    nullableValue: ri!labelPosition,\n    replacementValue: if(\n      rule!AS_CO_UT_isBlank(ri!label),\n      \"COLLAPSED\",\n      if(ri!readOnly, \"ADJACENT\", \"ABOVE\")\n    )\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_269546": {
      "name": "AS_CO_UT_returnCdtIndicesByField",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Integer?list',\n  rule!AS_CO_UT_whereContains(\n    values: ri!value,\n    array: rule!AS_CO_UT_indexPath(\n      cdt: a!flatten(ri!cdt),\n      field: ri!field,\n      indexDefault: null\n    )\n  )\n)"
    },
    "_a-0000e5bc-4a9a-8000-9bbc-011c48011c48_936866": {
      "name": "AS_GAM_ADT_UT_constructManipulatedAuditData",
      "type": "Expression Rule",
      "sail_code": "/* This rule is used to construct the manipulated audit data*/\n/*The manipulated audit data can be multiple. We are constructing the audit data for each manipulationAudit in auditParams*/\nif(\n  rule!AS_CO_UT_isNotBlank(ri!auditParams.complexFieldName),\n  /*When the audit is captured as nested even when the concerned object cdts are not nested \n    Eg: AS_GSS_Evaluation and AS_GSS_EvaluationDocume nt are not nested but AS_GSS_A_R_Evaluation and AS_GSS_A_R_EvaluationDocument are nested*/\n  rule!AS_GAM_ADT_UT_constructFieldChangesDictionaryForManipulatedAudit(\n    initiator: ri!initiator,\n    auditParams: ri!auditParams\n  ),\n  /*If the audit data is not nested and is manipulated and passed from outsite, we can directly construct the audit entry for each ri!auditParams.manipulationAudit*/\n  rule!AS_GAM_ADT_UT_constructDynamicDictionaryForManipulatedAudit(\n    initiator: ri!initiator,\n    auditParams: ri!auditParams\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73562": {
      "name": "AS_CO_INP_textField",
      "type": "Interface",
      "sail_code": "if(\n  ri!readOnly,\n  rule!AS_CO_DSP_standardReadOnlyField(\n    label: ri!label,\n    instructions: ri!instructions,\n    value: ri!value,\n    labelPosition: ri!labelPosition,\n    helpTooltip: ri!helpTooltip,\n    showWhen: ri!showWhen,\n    accessibilityText: ri!accessibilityText,\n    align: ri!align\n  ),\n  #\"SYSTEM_SYSRULES_textField\"(\n    label: ri!label,\n    labelPosition: rule!AS_CO_UT_getLabelPosition(\n      label: ri!label,\n      labelPosition: ri!labelPosition,\n      readOnly: false\n    ),\n    instructions: ri!instructions,\n    helpTooltip: ri!helpTooltip,\n    placeholder: ri!placeholder,\n    value: ri!value,\n    /* We are using nested saveIntos to automatically perform a trim on any value */\n    /* before executing the actual saves */\n    /* Saves can be nested in this format to allow for better reusability */\n    saveInto: a!save(ri!saveInto, trim(save!value)),\n    showWhen: ri!showWhen,\n    required: if(ri!readOnly, false, ri!required),\n    /* Updated requiredMessage parameter to show default validation text*/\n    requiredMessage: rule!AS_CO_UT_displayRequiredMessage(\n      label: ri!label,\n      requiredMessage: ri!requiredMessage\n    ),\n    readOnly: ri!readOnly,\n    disabled: ri!disabled,\n    masked: ri!masked,\n    validations: if(\n      ri!readOnly,\n      {},\n      a!flatten(\n        {\n          ri!validations,\n          rule!AS_CO_VD_textValidation(value: ri!value, maxLength: ri!maxLength)\n        }\n      )\n    ),\n    validationGroup: ri!validationGroup,\n    align: ri!align,\n    accessibilitytext: ri!accessibilityText,\n    refreshAfter: ri!refreshAfter,\n    characterLimit: ri!characterLimit,\n    showCharacterCount: ri!showCharacterCount,\n    inputPurpose: ri!inputPurpose\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73856": {
      "name": "AS_CO_UT_dynamicDictionary",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n    cdt: rule!AS_CO_UT_returnNullDictionary(),\n    fieldValuePairs: ri!fieldValuePairs\n  )\n)"
    },
    "_a-0000eb44-a528-8000-9d15-011c48011c48_9978504": {
      "name": "AS_CO_UT_displayRequiredMessage",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNotNullOrEmpty(\n    ri!label\n  ),\n  a!defaultValue(\n    value: ri!requiredMessage,\n    default: rule!AS_CO_UT_displayCommonObjectBundleLabel(\n      bundleKey: \"AS.CO.CommonObjects.vld_RequiredMessage\",\n      arguments: stripwith(ri!label, \"*\")\n    )\n  ),\n  ri!requiredMessage\n)"
    },
    "_a-0000e69a-ff03-8000-9bd0-011c48011c48_1642287": {
      "name": "AS_GCM_MTR_SAVE_addCategoryToQuestionnaire",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(local!temp, a!save(local!temp, {}))"
    },
    "_a-0000e9e2-fe39-8000-9c72-011c48011c48_5802259": {
      "name": "AS_GAM_filterCdtOrRecordDataByField",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdtOrRecord),\n  index(\n    a!flatten(ri!cdtOrRecord),\n    rule!AS_GAM_returnCdtOrRecordIndicesByField(\n      cdtOrRecord: ri!cdtOrRecord,\n      field: ri!field,\n      value: ri!value\n    ),\n    {}\n  )\n)"
    }
  }
}
{
  "_metadata": {
    "bundle_id": "AS_GCM_Send_Clause_Import_Or_Sync_Email"
  },
  "objects": {
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75782": {
      "name": "AS_CO_UT_isNotBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  not(rule!AS_CO_UT_isBlank(ri!input))\n)"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9761091": {
      "name": "AS_GCM_filterRecords",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!fieldValuePairs: a!defaultValue(\n    ri!fieldValuePairs,\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: a!flatten(ri!field),\n      expression: a!map(\n        field: fv!item,\n        value: if(\n          fv!itemCount = 1,\n          ri!value,\n          index(a!flatten(ri!value), fv!index, null)\n        )\n      )\n    )\n  ),\n  local!matchIndices: if(\n    a!isNullOrEmpty(a!flatten(ri!records)),\n    tointeger({}),\n    reduce(\n      rule!AS_GCM_filterRecords_Reducer(\n        previousIndices: _,\n        records: a!flatten(ri!records),\n        fieldValuePair: _\n      ),\n      enumerate(count(a!flatten(ri!records))) + 1,\n      local!fieldValuePairs\n    )\n  ),\n  local!rejectIndices: difference(\n    if(\n      a!isNullOrEmpty(ri!records),\n      tointeger({}),\n      enumerate(count(a!flatten(ri!records))) + 1\n    ),\n    local!matchIndices\n  ),\n  local!matches: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!matchIndices, {})\n  ),\n  local!rejects: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!rejectIndices, {})\n  ),\n  local!output: a!match(\n    value: a!defaultValue(ri!filterType, \"FILTER\"),\n    equals: \"FILTER\",\n    then: local!matches,\n    equals: \"REJECT\",\n    then: local!rejects,\n    equals: \"FIRST_MATCH\",\n    then: index(local!matches, 1, null),\n    equals: \"FIRST_REJECT\",\n    then: index(local!rejects, 1, null),\n    equals: \"MATCH_COUNT\",\n    then: count(local!matchIndices),\n    equals: \"REJECT_COUNT\",\n    then: count(local!rejectIndices),\n    equals: \"MATCH_INDICES\",\n    then: local!matchIndices,\n    equals: \"REJECT_INDICES\",\n    then: local!rejectIndices,\n    equals: \"FULL_RESULT\",\n    then: a!map(\n      matches: local!matches,\n      rejects: local!rejects,\n      firstMatch: index(local!matches, 1, null),\n      firstReject: index(local!rejects, 1, null),\n      matchCount: count(local!matchIndices),\n      rejectCount: count(local!rejectIndices),\n      matchIndices: local!matchIndices,\n      rejectIndices: local!rejectIndices\n    ),\n    default: fn!error(\n      \"Invalid filterType, must be one of: FILTER, REJECT, FIRST_MATCH, FIRST_REJECT, MATCH_COUNT, REJECT_COUNT, MATCH_INDICES, REJECT_INDICES, FULL_RESULT\"\n    )\n  ),\n  local!output\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73536": {
      "name": "AS_CO_UT_isBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  length(a!flatten(ri!value)) = 0\n)"
    },
    "_a-0000e69a-ff03-8000-9bd0-011c48011c48_1584548": {
      "name": "AS_GCM_QR_getAquisitionHelperDetails",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryRecord(\n  recordType: recordType!AS GCM P Acquisition Update Helper,\n  returnType: a!defaultValue(\n    value: ri!returnType,\n    default: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n  ),\n  executeWhen: a!isNotNullOrEmpty(ri!processId),\n  filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n    field: recordType!AS GCM P Acquisition Update Helper.processId,\n    operator: \"=\",\n    value: ri!processId\n  ),\n  fields: ri!fields,\n  pagingInfo: ri!pagingInfo\n)"
    },
    "_a-0000e61a-f20f-8000-9ba5-011c48011c48_53662": {
      "name": "AS_GAM_CO_I18N_UT_displayLabel",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Text',\n  a!localVariables(\n    local!result: a!refreshVariable(\n      value: if(\n        rule!AS_CO_UT_isBlank(ri!bundleKey),\n        null,\n        if(\n          rule!AS_CO_UT_isBlank(ri!arguments),\n          rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!bundle[ri!bundleKey],\n            replacementValue: ri!bundleKey\n          ),\n          rule!AS_GAM_CO_I18N_UT_replaceArguments(\n            bundleKey: ri!bundle[ri!bundleKey],\n            arguments: ri!arguments\n          )\n        )\n      ),\n      refreshAlways: true\n    ),\n    local!result\n  )\n)"
    },
    "_a-0000e61a-f20f-8000-9ba5-011c48011c48_53654": {
      "name": "AS_GCM_CO_UT_loadBundleFromFolder",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!lang: \"en_US\",\n/* below is deprecated for now, uncomment to support multi-language display */\n  /*if(*/\n    /*isnull(ri!langISOCode),*/\n    /*userlocale(loggedInUser()),*/\n    /*ri!langISOCode*/\n  /*),*/\n  local!bundleName: rule!AS_GCM_determineValueBySolutionFlavor(\n    options: cons!AS_GCM_TXT_VALID_SOLUTION_FLAVORS\n  ),\n  /*local!bundleName*/\n  local!output: loadbundlepropertiesfile(\n    cons!AS_GCM_FLD_PROPERTIES_FILES,\n    local!lang,\n    local!bundleName\n  )[local!bundleName],\n  local!output\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73758": {
      "name": "AS_CO_UT_distinct",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!value),\n  union({ri!value}, {ri!value})\n)"
    },
    "_a-0000e6c8-d132-8000-9bbe-011c48011c48_469266": {
      "name": "AS_CO_UT_queryRecord",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS ON HOW TO USE\n\nPlease DO NOT auto-format this rule\n\n*/\n\n\n/*Error handling*/\nif(\n  rule!AS_CO_UT_isBlank(ri!returnType),\n  fn!error(concat(\"Null `returnType` passed to AS_CO_UT_queryRecord for recordType `\", ri!recordType, \"`.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  not(contains(rule!AS_CO_CONS_QE_RETURN_TYPES(), ri!returnType)),\n  fn!error(concat(\"Unknown `returnType` passed to AS_CO_UT_queryRecord for recordType `\", ri!recordType, \"`.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  rule!AS_CO_UT_isBlank(ri!recordType),\n  fn!error(concat(\"Null `recordType` passed to AS_CO_UT_queryRecord.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    rule!AS_CO_UT_isBlank(ri!pagingInfo)\n  ),\n  fn!error(concat(\"`pagingInfo` is required (cannot be null) for `returnType` DATA_SUBSET\")),\n  and(\n    ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    rule!AS_CO_UT_isNotBlank(ri!pagingInfo)\n  ),\n  fn!error(concat(\"`pagingInfo` must be null when the `returnType` is not DATA_SUBSET, instead use `sort` to pass custom-sorting and `startIndex` & `batchSize` will be automatically calculated for you\")),\n  and(\n    not(isnull(ri!pagingInfo)),\n    rule!AS_CO_UT_isNotBlank(ri!sort)\n  ),\n  fn!error(concat(\"`sort` parameter must be null when `pagingInfo` is provided.  Use the sort field of the provided `pagingInfo` instead.\")),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isBlank(ri!aggregationFields)\n  ),\n  fn!error(\"You must provide an input for `aggregationFields` when `returnType` is AGGREGATION\"),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isNotBlank(ri!fields)\n  ),\n  fn!error(\"You cannot provide an input for `fields` when `returnType` is AGGREGATION.  Use `aggregationFields` instead.\"),\n  and(\n    ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isNotBlank(ri!aggregationFields)\n  ),\n  fn!error(\"You cannot provide an input for `aggregationFields` when `returnType` is not AGGREGATION.  Use `fields` instead.\"),\n  and(\n    rule!AS_CO_UT_isNotBlank(ri!castToCdtType),\n    not(contains(\n      {cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY, cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT, cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET},\n      ri!returnType\n    )),\n  ),\n  fn!error(\"'castToCdtType' is only supported for SINGLE_OBJECT, OBJECT_ARRAY, and DATA_SUBSET return types\"),\n\n  a!localVariables(\n\n    /*Determine the castResultToType*/\n    local!castResultToType: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   'type!{http://www.appian.com/ae/types/2009}Map',\n        /*SINGLE_OBJECT*/ a!defaultValue(ri!castToCdtType, ri!recordType),\n        /*OBJECT_ARRAY*/  rule!AS_CO_UT_returnArrayTypeNumber(type: a!defaultValue(ri!castToCdtType, ri!recordType)),\n        /*AGGREGATION*/   'type!{http://www.appian.com/ae/types/2009}Map?list',\n        /*TOTAL_COUNT*/   'type!{http://www.appian.com/ae/types/2009}Integer',\n      }\n    ),\n\n    /*Determine the batchSize*/\n    local!batchSize: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   ri!pagingInfo.batchSize,\n        /*SINGLE_OBJECT*/ 1,\n        /*OBJECT_ARRAY*/  a!defaultValue(ri!pagingInfo.batchSize, cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE),\n        /*AGGREGATION*/   cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE,\n        /*TOTAL_COUNT*/   1,\n      }\n    ),\n\n    /*Determine the pagingInfo*/\n    local!pagingInfo: if(\n      ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n      /*Use specific pagingInfo for DATA_SUBSET*/\n      ri!pagingInfo,\n      /*Otherwise calculate pagingInfo for all other returnTypes*/\n      #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: local!batchSize,\n        sort: ri!sort\n      )\n    ),\n\n    /*Determine the fetchTotalCount*/\n    local!fetchTotalCount: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   true,\n        /*SINGLE_OBJECT*/ false,\n        /*OBJECT_ARRAY*/  false,\n        /*AGGREGATION*/   false,\n        /*TOTAL_COUNT*/   true,\n      }\n    ),\n\n    /*Execute the query*/\n    local!queryResult: a!refreshVariable(\n      value: if(\n        ri!executeWhen = false,\n        null(\n          if(\n            ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n            rule!AS_CO_TYPE_Dictionary(),\n            ri!recordType\n          )\n        ),\n        #\"SYSTEM_SYSRULES_queryRecordType_v1\"(\n          recordType: ri!recordType,\n          fields: a!defaultValue(\n            ri!fields,\n            ri!aggregationFields\n          ),\n          filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            logicalExpressions: {\n              #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"AND\",\n                ignoreFiltersWithEmptyValues: true,\n                filters: a!defaultValue(ri!filters, {})\n              ),\n              a!defaultValue(ri!logicalExpression, {})\n            }\n          ),\n          pagingInfo: local!pagingInfo,\n          fetchTotalCount: local!fetchTotalCount,\n          relatedRecordData: ri!relatedRecordData\n        )\n      ),\n      refreshOnVarChange: ri!triggerRefresh,\n      refreshAfter: {\"RECORD_ACTION\"}\n    ),\n\n    /*Parse the queryResult*/\n    local!queryResultParse: choose(\n      rule!AS_CO_UT_chooseWherecontainsHelper(\n        value: ri!returnType,\n        inArray: rule!AS_CO_CONS_QE_RETURN_TYPES()\n      ),\n      /*Default, required value based on how AS_CO_UT_chooseWherecontainsHelper operates*/ \"\",\n      /*DATA_SUBSET*/   if(\n        rule!AS_CO_UT_isNotBlank(ri!castToCdtType),\n        /*Note that for a data subset, the parent is a map, but we allow casting the child 'data' field as well*/\n        rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n          cdt: local!queryResult,\n          fieldValuePairs: {\n            field: \"data\",\n            value: cast(\n              rule!AS_CO_UT_returnArrayTypeNumber(type: ri!castToCdtType),\n              local!queryResult.data\n            )\n          }\n        ),\n        local!queryResult\n      ),\n      /*SINGLE_OBJECT*/ local!queryResult.data,\n      /*OBJECT_ARRAY*/  local!queryResult.data,\n      /*AGGREGATION*/   local!queryResult.data,\n      /*TOTAL_COUNT*/   local!queryResult.totalCount,\n    ),\n\n    rule!AS_CO_UT_cast(\n      type: local!castResultToType,\n      value: local!queryResultParse\n    )\n  )\n)\n\n/*\n\nDOCUMENTATION\n\nThis rule is designed to minimize the overhead with querying data and then casting the result\n\n\nRequired Inputs:\n\n1. recordType\n- This is a recordtype! input of the data type to be queried against\n\n2. returnType\n- This depends on the purpose for the query, and should be one of the returnTypes in rule!AS_CO_CONS_QE_RETURN_TYPES\n-- DATA_SUBSET - This will return a DataSubset; pagingInfo is required\n-- SINGLE_OBJECT - This will return a single record whose type is the recordType; pagingInfo must be null\n-- ARRAY_OBJECT - This will return an array of records whose type is an array of the recordType; pagingInfo must be null\n-- AGGREGATION - This will return an array of Dictionaries; pagingInfo must be null\n---- NOTE: If you need Aggregation with paging controls, such as for a grid, use returnType DATA_SUBSET\n-- TOTAL_COUNT - This will return an Integer of the total count; pagingInfo must be null\n\n\nOptional Inputs:\n\n3. executeWhen\n- The query will not execute if this is false, the query will execute if this is true or null\n-- This is meant to operate in a similar manner to the showWhen parameter of components\n- Use this to skip execution of a query without needing to wrap if() statements around the rule\n-- Examples of this would be to skip querying if your filter value is a null ID\n- If the query does not execute, this will return a null value whose type is based on the returnType input\n\n4. triggerRefresh\n- By default, the query will always re-execute whenever any inputs change\n- However, by updating the value of triggerRefresh, you can also trigger a re-execution even if none of the other inputs change (e.g. after a record action)\n\n5. filters\n- Array of filters to apply to the query, built with a!queryFilter()\n- These filters will be applied with an AND operator\n- These filters will apply in addition to the logicalExpression input, combining both with an AND operator\n\n6. logicalExpression\n- A logical expression to apply to the query, built with a!queryLogicalExpression()\n- This logical expression will apply in addition to the filters input, combining both with an AND operator\n\n7. aggregationFields\n- Aggregation to apply to the query, built with a!aggregationField()\n\n8. fields\n- List of recordFields and relatedRecordFields to return.  When querying a record, any relatedRecordFields are not returned\nby default, and must be specifically requested.\n\n9. pagingInfo\n- Paging info to apply to the query, built with a!pagingInfo() or derived from fv!pagingInfo in grids\n- This is required if passing returnType DATA_SUBSET, otherwise it must be null\n- For returnTypes that are not DATA_SUBSET, the batch size will be automatically calculated depending on the returnType\n-- For example, passing SINGLE_OBJECT will automatically apply a batch size of 1, whereas ARRAY_OBJECT and AGGREGATION will automatically apply a batch size of the defined query batch size maximum\n\n10. sort\n- Array of sort to apply to the query, built with a!sortInfo()\n- This is meant to be used with returnType ARRAY_OBJECT and AGGREGATION, since pagingInfo is not required for these, but a specified sort may be used\n- Cannot be used in conjunction with pagingInfo.sort\n\n11. castToCdtType\n- Any cdt type to the cast the result set. \n- This is meant to be used with only returnType OBJECT_ARRAY and SINGLE_OBJECT.\n\n*/"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1475624": {
      "name": "AS_GCM_errorMessageForClauseSyncFailure",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!bundle: rule!AS_GCM_CO_UT_loadBundleFromFolder(langISOCode: null),\n  if(\n    ri!acquisitionUpdateHelper[recordType!AS GCM P Acquisition Update Helper.farMatrixError],\n    /*One or more integrations failed*/\n    \"\",\n    /*Partially Success- One or more data not returned*/\n    if(\n      and(\n        or(\n          toboolean(\n            ri!acquisitionUpdateHelper[recordType!AS GCM P Acquisition Update Helper.noDataReturned]\n          ) = true,\n          toboolean(\n            ri!acquisitionUpdateHelper[recordType!AS GCM P Acquisition Update Helper.noClauseTextReturned]\n          ) = true,\n          toboolean(\n            ri!acquisitionUpdateHelper[recordType!AS GCM P Acquisition Update Helper.noPrescriptionTextReturned]\n          ) = true\n        ),\n        and(\n          ri!acquisitionUpdateHelper[recordType!AS GCM P Acquisition Update Helper.invalidClauseNumber] <> true,\n          ri!acquisitionUpdateHelper[recordType!AS GCM P Acquisition Update Helper.invalidPrescriptionNumber] <> true\n        )\n      ),\n      {\n        rule!AS_GAM_CO_I18N_UT_displayLabel(\n          bundle: local!bundle,\n          bundleKey: \"txt_SyncedNoDataReturned\",\n          arguments: #\"SYSTEM_SYSRULES_forEach\"(\n            items: rule!AS_CO_UT_rejectNullValuesFromArray(\n              {\n                if(\n                  ri!acquisitionUpdateHelper[recordType!AS GCM P Acquisition Update Helper.noDataReturned] = true,\n                  \"\",\n                  null\n                ),\n                if(\n                  ri!acquisitionUpdateHelper[recordType!AS GCM P Acquisition Update Helper.noClauseTextReturned],\n                  \"\",\n                  \"\"\n                ),\n                if(\n                  ri!acquisitionUpdateHelper[recordType!AS GCM P Acquisition Update Helper.noPrescriptionTextReturned],\n                  \"\",\n                  \"\"\n                )\n              }\n            ),\n            expression: {\n              fv!item & if(\n                fv!isLast,\n                \"\",\n                \", \"\n              )\n            }\n          )\n        ),\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: rule!AS_CO_UT_rejectNullValuesFromArray(\n            {\n              if(\n                ri!acquisitionUpdateHelper[recordType!AS GCM P Acquisition Update Helper.clauseDataUpdated],\n                \"\",\n                null\n              ),\n              if(\n                ri!acquisitionUpdateHelper[recordType!AS GCM P Acquisition Update Helper.clauseTextUpdated],\n                \"\",\n                \"\"\n              ),\n              if(\n                ri!acquisitionUpdateHelper[recordType!AS GCM P Acquisition Update Helper.prescriptionTextUpdated],\n                \"\",\n                \"\"\n              )\n            }\n          ),\n          expression: { fv!index & \".\" & fv!item & char(10) }\n        )\n      },\n      /*Sync unsuccessful or partially successful - Clause / presc number invalid*/\n      if(\n        and(\n          toboolean(\n            ri!acquisitionUpdateHelper[recordType!AS GCM P Acquisition Update Helper.invalidClauseNumber]\n          ) = true,\n          toboolean(\n            ri!acquisitionUpdateHelper[recordType!AS GCM P Acquisition Update Helper.invalidPrescriptionNumber]\n          ) = true\n        ),\n        {\n          rule!AS_GAM_CO_I18N_UT_displayLabel(\n            bundle: local!bundle,\n            bundleKey: \"txt_SyncUnsuccessful\",\n            arguments: \"\"\n          )\n        },\n        if(\n          and(\n            toboolean(\n              ri!acquisitionUpdateHelper[recordType!AS GCM P Acquisition Update Helper.invalidClauseNumber]\n            ) = true,\n            toboolean(\n              ri!acquisitionUpdateHelper[recordType!AS GCM P Acquisition Update Helper.invalidPrescriptionNumber]\n            ) <> true\n          ),\n          {\n            rule!AS_GAM_CO_I18N_UT_displayLabel(\n              bundle: local!bundle,\n              bundleKey: \"txt_SyncUnsuccessful\",\n              arguments: \"\"\n            ),\n            if(\n              toboolean(\n                ri!acquisitionUpdateHelper[recordType!AS GCM P Acquisition Update Helper.prescriptionTextUpdated]\n              ) = true,\n              \". \" & rule!AS_GAM_CO_I18N_UT_displayLabel(\n                bundle: local!bundle,\n                bundleKey: \"txt_DataUpdated\",\n                arguments: \"\"\n              ),\n              \". \" & rule!AS_GAM_CO_I18N_UT_displayLabel(\n                bundle: local!bundle,\n                bundleKey: \"txt_UpToDate\",\n                arguments: \"\"\n              )\n            )\n          },\n          if(\n            and(\n              toboolean(\n                ri!acquisitionUpdateHelper[recordType!AS GCM P Acquisition Update Helper.invalidPrescriptionNumber]\n              ) = true,\n              toboolean(\n                ri!acquisitionUpdateHelper[recordType!AS GCM P Acquisition Update Helper.invalidClauseNumber]\n              ) <> true\n            ),\n            {\n              rule!AS_GAM_CO_I18N_UT_displayLabel(\n                bundle: local!bundle,\n                bundleKey: \"txt_SyncPartiallySuccessful\",\n                arguments: \"\"\n              ),\n              if(\n                toboolean(\n                  ri!acquisitionUpdateHelper[recordType!AS GCM P Acquisition Update Helper.clauseTextUpdated]\n                ) = true,\n                \". \" & rule!AS_GAM_CO_I18N_UT_displayLabel(\n                  bundle: local!bundle,\n                  bundleKey: \"txt_DataUpdated\",\n                  arguments: \"\"\n                ),\n                null\n              )\n            },\n            \"\"\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76367": {
      "name": "AS_CO_UT_rejectNullValuesFromArray",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!array),\n  reject(\n    rule!AS_CO_UT_isBlank(_),\n    a!flatten(ri!array)\n  )\n)"
    },
    "0002e680-0460-8000-1c8b-7f0000014e7a": {
      "name": "AS GCM Send Clause Import Or Sync Email",
      "type": "Process Model",
      "sail_code": "// Input: ?\n=getProcessEmail(pp!id)\n\n// Input: ?\n= rule!AS_GCM_BL_emailSubjectForClauseSyncOrZipImport( isZipImport: pv!isZipImport, sourceId: pv!sourceId)\n\n// Input: ?\n= rule!AS_GCM_emailBodyForClauseSyncOrZipImport( processId: pv!processId, farMatrixError: pv!farMatrixError, farMatrixSuccess: pv!farMatrixSuccess, isZipImport: pv!isZipImport, sourceId: pv!sourceId)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1475078": {
      "name": "AS_GCM_emailBodyForClauseSyncOrZipImport",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!bundle: rule!AS_GCM_CO_UT_loadBundleFromFolder(langISOCode: null()),\n  local!acquisitionHelperData: if(\n    ri!farMatrixSuccess = false,\n    recordType!AS GCM P Acquisition Update Helper(\n      recordType!AS GCM P Acquisition Update Helper.farMatrixSuccess: false(),\n      recordType!AS GCM P Acquisition Update Helper.farMatrixError: ri!farMatrixError\n    ),\n    rule!AS_GCM_QR_getAquisitionHelperDetails(\n      fields: {\n        recordType!AS GCM P Acquisition Update Helper.clauseDataUpdated,\n        recordType!AS GCM P Acquisition Update Helper.isNewClause,\n        recordType!AS GCM P Acquisition Update Helper.syncFailure,\n        recordType!AS GCM P Acquisition Update Helper.farMatrixError,\n        recordType!AS GCM P Acquisition Update Helper.refClause.clauseNumber,\n        recordType!AS GCM P Acquisition Update Helper.noDataReturned,\n        recordType!AS GCM P Acquisition Update Helper.noClauseTextReturned,\n        recordType!AS GCM P Acquisition Update Helper.noPrescriptionTextReturned,\n        recordType!AS GCM P Acquisition Update Helper.invalidClauseNumber,\n        recordType!AS GCM P Acquisition Update Helper.invalidPrescriptionNumber,\n        recordType!AS GCM P Acquisition Update Helper.clauseTextUpdated,\n        recordType!AS GCM P Acquisition Update Helper.prescriptionTextUpdated\n      },\n      processId: ri!processId\n    )\n  ),\n  local!updatedClauses: if(\n    ri!farMatrixSuccess = false,\n    0,\n    count(\n      rule!AS_CO_UT_distinct(\n        value: {\n          rule!AS_GCM_filterRecords(\n            records: local!acquisitionHelperData,\n            field: recordType!AS GCM P Acquisition Update Helper.clauseDataUpdated,\n            value: true\n          ),\n          rule!AS_GCM_filterRecords(\n            records: local!acquisitionHelperData,\n            field: recordType!AS GCM P Acquisition Update Helper.clauseTextUpdated,\n            value: true\n          ),\n          rule!AS_GCM_filterRecords(\n            records: local!acquisitionHelperData,\n            field: recordType!AS GCM P Acquisition Update Helper.prescriptionTextUpdated,\n            value: true\n          )\n        }\n      )\n    )\n  ),\n  local!newClauses: if(\n    ri!farMatrixSuccess = false,\n    0,\n    rule!AS_GCM_filterRecords(\n      records: local!acquisitionHelperData,\n      field: recordType!AS GCM P Acquisition Update Helper.isNewClause,\n      value: true,\n      filterType: \"MATCH_COUNT\"\n    )\n  ),\n  local!failedSyncClauses: if(\n    ri!farMatrixSuccess = false,\n    0,\n    rule!AS_GCM_filterRecords(\n      records: local!acquisitionHelperData,\n      field: recordType!AS GCM P Acquisition Update Helper.syncFailure,\n      value: true,\n      filterType: \"MATCH_COUNT\"\n    )\n  ),\n  \"<!DOCTYPE html>\n<html>\n<head>\n<title>Page Title</title>\n<style>\ntable {\nwidth:100%;\n}\ntable, th, td {\nborder: 1px solid black;\nborder-collapse: collapse;\n}\nth, td {\npadding: 15px;\ntext-align: left;\n}\ntr:nth-child(even) {\nbackground-color: #eee;\n}\ntr:nth-child(odd) {\nbackground-color: #fff;\n}\nth {\nbackground-color: black;\ncolor: white;\n}\n</style>\n</head>\n<body>\n\n<h4> \" & if(\n  ri!isZipImport <> true(),\n  a!match(\n    value: ri!sourceId,\n    equals: cons!AS_GCM_REF_ID_SOURCE_DFARS,\n    then:\"The following are the results of the DFARS weekly sync of clauses from acquisition.gov\",\n    default: \"The following are the results of the FAR weekly sync of clauses from acquisition.gov\"\n  ),\n  a!match(\n    value: ri!sourceId,\n    equals: cons!AS_GCM_REF_ID_SOURCE_DFARS,\n    then:\"The following are the results of the DFARS clause zip import\",\n    default: \"The following are the results of the FAR clause zip import\"\n  ),\n  ) & \"</h4>\n<p> \" & \"\" & local!updatedClauses & \" </p>\n<p>\" & \"\" & local!newClauses & \" </p>\n<p>\" & \"\" & local!failedSyncClauses & \"</p><p><b>\" & if(\n    and(\n      local!failedSyncClauses = 0,\n      local!newClauses = 0,\n      local!updatedClauses = 0,\n      rule!AS_CO_UT_isBlank(\n        index(\n          local!acquisitionHelperData,\n          recordType!AS GCM P Acquisition Update Helper.farMatrixError,\n          null()\n        )\n      )\n    ),\n    \"\",\n    if(\n      and(\n        local!failedSyncClauses = 0,\n        local!newClauses = 0,\n        local!updatedClauses = 0,\n        rule!AS_CO_UT_isNotBlank(\n          local!acquisitionHelperData[recordType!AS GCM P Acquisition Update Helper.farMatrixError]\n        )\n      ),\n      substitute(\n        split(\n          local!acquisitionHelperData[recordType!AS GCM P Acquisition Update Helper.farMatrixError],\n          if(\n            ri!isZipImport = true(),\n            \"message:\",\n            \"message=\"\n          )\n        )[2],\n        \"]\",\n        \"\"\n      ),\n      \"\"\n    )\n  ) & \"</p></b>\" & if(\n    ri!farMatrixSuccess = false,\n    \"\",\n    if(\n      rule!AS_CO_UT_isBlank(\n        rule!AS_GCM_filterRecords(\n          records: local!acquisitionHelperData,\n          field: recordType!AS GCM P Acquisition Update Helper.syncFailure,\n          value: true\n        )\n      ),\n      \"\",\n      \"<h4>\" & \"\" & \" </h4>\" & /*Table for Clause issues */\n      \"<table>\n<tr>\n<th> \" & \"\" & \"</th>\n<th>\" & \"\" & \"</th> \n</tr> \n\" & tostring(\n        joinarray(\n          split(\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: {\n                rule!AS_GCM_filterRecords(\n                  records: local!acquisitionHelperData,\n                  field: recordType!AS GCM P Acquisition Update Helper.syncFailure,\n                  value: true\n                ),\n                rule!AS_GCM_filterRecords(\n                  records: local!acquisitionHelperData,\n                  field: recordType!AS GCM P Acquisition Update Helper.clauseDataUpdated,\n                  value: false\n                )\n              },\n              expression: \"<tr><td>\" & fv!item[recordType!AS GCM P Acquisition Update Helper.refClause.clauseNumber] & \"</td><td>\" & rule!AS_GCM_errorMessageForClauseSyncFailure(acquisitionUpdateHelper: fv!item) & \"</td></tr>\"\n            ),\n            \";\"\n          ),\n          \"\"\n        )\n      ) & \"</table>\"\n    )\n  ) & \" </body>\n</html>\"\n)"
    },
    "_a-0000e86e-0144-8000-9c00-011c48011c48_2789370": {
      "name": "AS_GCM_BL_emailSubjectForClauseSyncOrZipImport",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!bundle: rule!AS_GCM_CO_UT_loadBundleFromFolder(langISOCode: null()),\n  if(\n    ri!isZipImport <> true(),\n    a!match(\n      value: ri!sourceId,\n      equals: cons!AS_GCM_REF_ID_SOURCE_DFARS,\n      then: \"DFARS Clauses Weekly Sync with Acquisition.gov\",\n      default: \"FAR Clauses Weekly Sync with Acquisition.gov\"\n    ),\n    a!match(\n      value: ri!sourceId,\n      equals: cons!AS_GCM_REF_ID_SOURCE_DFARS,\n      then: \"DFARS Clauses Zip Import\",\n      default: \"FAR Clauses Zip Import\"\n    )\n  )\n)"
    }
  }
}
{
  "_metadata": {
    "bundle_id": "CMGT_EXT_DynamicRecord_-_urnappiantranslation-stringv173b09516-a65f-49f2-9efd-4e"
  },
  "objects": {
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_16329": {
      "name": "CMGT_EXT_AdjustDateTimeForDayLightSaving",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!isDayLightSavingStartDate: and(\n    isindaylightsavingtime(ri!dateTime, \"EST5EDT\") = false(),\n    isindaylightsavingtime(ri!dateTime + 1, \"EST5EDT\")\n  ),\n  if(\n    and(\n      local!isDayLightSavingStartDate,\n      totime(ri!dateTime) >= time(2, 0, 0, 0),\n      totime(ri!dateTime) < time(3, 0, 0, 0)\n    ),\n    a!addDateTime(startDateTime: ri!dateTime, hours: 1),\n    ri!dateTime\n  )\n)"
    },
    "9248008e-2c2c-4eea-bb28-4a3c89838403": {
      "name": "CMGT_UTIL_RemoveRecordRelationshipsWithSingleKey_Reducer",
      "type": "Expression Rule",
      "sail_code": "if(\n  runtimetypeof(ri!key) <> 'type!{http://www.appian.com/ae/types/2009}RecordRelationship',\n  ri!record,\n  a!match(\n    value: index(ri!record, ri!key, null),\n    whenTrue: count(fv!value) = 1,\n    then: with(\n      local!indexedValue: index(\n        ri!record,\n        ri!key,\n        1,\n        index(ri!record, ri!key, null)\n      ),\n      local!subKeys: a!keys(local!indexedValue),\n      if(\n        length(local!subKeys) = 1,\n        remove(ri!record, ri!key),\n        #\"urn:appian:function:v1:a:update\"(\n          ri!record,\n          ri!key,\n          reduce(\n            rule!CMGT_UTIL_RemoveRecordRelationshipsWithSingleKey_Reducer(record: _, key: _),\n            local!indexedValue,\n            local!subKeys\n          )\n        )\n      )\n    ),\n    default: ri!record\n  )\n)"
    },
    "_a-0000eaa7-a5c0-8000-9c22-011c48011c48_973190": {
      "name": "CMGT_UTIL_MergeWriteRecordIdsToProcessVariable",
      "type": "Expression Rule",
      "sail_code": "/*\nThe main rule to merge the ID-output of a WriteRecords SS node back to the input process variable.\n\nSTANDARD USAGE:\n- Use this in tandem with rule CMGT_UTIL_DropNonWritableRelationshipsFromRecord (see that description)\n- In the output of a WriteRecords SS, do:\n  A - New Custom Output\n  B - rule!CMGT_UTIL_MergeWriteRecordIdsToProcessVariable(\n        processData: pv![the pv your wrote],\n        recordsUpdated: ac!RecordsUpdated,\n        fksToParent: {list of record fields that are FKs to the primary PK you wrote}\n      )\n  C - Save this back to the pv you wrote\n\nMAPPING FKS:\n- Using this rule in the current state, child-FKs can only be set \nwhere they map back to the primary record type, using input \"fksToParent\".\n  -> For example, if you are writing \"Case\", \n    - you could set \"Case.Comment.caseId\"\n    - you could set \"Case.Comment.Replies.caseId\"\n    - but not \"Case.Comment.Replies.commentId\" (since the FK \"commentId\" is not the PK of \"Case\")\n- To set other foreign keys, you would have to run manual update rules using the result of this.\nNote:\n- \"fksToParent\" is optimized for 1:M relationships.\n  - Setting an fkToParent for a 1:1 will create an instance of that child record if it is null.\n\nIMPORTANT GENERAL NOTES: \n- The result of THIS rule will have data that IS considered changed, \nso a designer should be cautious about re-writing this later in process \nas it could cause race condition and performance side affects.\n\n- Also, the result of this WILL NOT have custom-fields calculated, \nsince they can be changed as a result of the write, but this rule is not re-querying.\nIf you need these, then re-query.\n\n- This should generally only be used for downstream flows that don't write it directly again, \nsuch as document processing, emails, etc.\n*/\nif(\n  or(\n    runtimetypeof(ri!recordsUpdated) = runtimetypeof(a!flatten(ri!recordsUpdated)),\n    runtimetypeof(ri!recordsUpdated) = 'type!{http://www.appian.com/ae/types/2009}Variant?list'\n  ),\n  if(\n    count(a!flatten(ri!recordsUpdated)) = 0,\n    ri!processData,\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: enumerate(count(a!flatten(ri!recordsUpdated))),\n      expression: rule!CMGT_UTIL_MergeWriteRecordIdsToProcessVariable(\n        processData: a!flatten(ri!processData)[fv!index],\n        recordsUpdated: cast(\n          runtimetypeof(a!flatten(ri!processData)),\n          ri!recordsUpdated\n        )[fv!index],\n        fksToParent: ri!fksToParent\n      )\n    )\n  ),\n  a!localVariables(\n    local!keys: #\"SYSTEM_SYSRULES_forEach\"(\n      items: a!keys(ri!recordsUpdated),\n      expression: a!map(\n        key: fv!item,\n        isPrimaryKey: runtimetypeof(fv!item) = 'type!{http://www.appian.com/ae/types/2009}RecordField'\n      )\n    ),\n    local!keysOrganized: rule!CMGT_UTIL_Filter(\n      records: local!keys,\n      field: \"isPrimaryKey\",\n      value: true,\n      filterType: \"FULL_RESULT\"\n    ),\n    local!primaryKeyField: local!keysOrganized.firstMatch.key,\n    local!updates: rule!CMGT_UTIL_SetRecordFields(\n      record: ri!processData,\n      neverOverwrite: {\n        a!map(\n          field: local!primaryKeyField,\n          value: ri!recordsUpdated[local!primaryKeyField]\n        ),\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!fksToParent,\n          expression: a!map(\n            field: fv!item,\n            value: ri!recordsUpdated[local!primaryKeyField],\n            /*Children get complicated, and an update should only run if a child is actually attached*/\n            applyWhen: a!match(\n              value: runtimetypeof(ri!processData[fv!item]),\n              equals: runtimetypeof(a!flatten(ri!processData[fv!item])),\n              then: count(ri!processData[fv!item]) > 0,\n              equals: tointeger(\n                'type!{http://www.appian.com/ae/types/2009}Variant?list'\n              ),\n              then: or(\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  items: ri!processData[fv!item],\n                  expression: a!isNotNullOrEmpty(fv!item)\n                )\n              ),\n              default: a!isNotNullOrEmpty(ri!processData[fv!item])\n            )\n          )\n        )\n      },\n      childRelationships: #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!keysOrganized.rejects,\n        expression: a!map(\n          field: fv!item.key,\n          value: if(\n            rule!CMGT_UTIL_IsBlank(ri!processData[fv!item.key]),\n            ri!recordsUpdated[fv!item.key],\n            rule!CMGT_UTIL_MergeWriteRecordIdsToProcessVariable(\n              processData: ri!processData[fv!item.key],\n              recordsUpdated: ri!recordsUpdated[fv!item.key],\n              fksToParent: {}\n            )\n          )\n        )\n      )\n    ),\n    /*reduce over updates to remove any relationships that were incorrectly created with just an fk*/\n    if(\n      a!isNullOrEmpty(ri!fksToParent),\n      local!updates,\n      reduce(\n        rule!CMGT_UTIL_RemoveRecordRelationshipsWithSingleKey_Reducer(record: _, key: _),\n        local!updates,\n        a!keys(local!updates)\n      )\n    )\n  )\n)"
    },
    "_a-0000ec3d-b406-8000-9bb2-011c48011c48_361628": {
      "name": "CMGT_EXT_UpdateDemoIdsConstantByDataset",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!demoIdMaps: if(\n    rule!CMGT_UTIL_IsNotBlank(input: ri!demoIdMaps),\n    ri!demoIdMaps,\n    cast(\n      typeof({ a!map() }),\n      #\"SYSTEM_SYSRULES_fromJson_v1\"(cons!CMGT_EXT_JSON_GENERATED_DEMO_IDS)\n    )\n  ),\n  local!fullResult: rule!CMGT_UTIL_Filter(\n    records: local!demoIdMaps,\n    field: \"datasetUuids\",\n    value: ri!datasetUuids,\n    filterType: \"FULL_RESULT\"\n  ),\n  local!currentIdMap: index(\n    local!fullResult.matches,\n    1,\n    cast(\n      'type!{http://www.appian.com/ae/types/2009}Map',\n      null()\n    )\n  ),\n  local!updatedIdMap: a!map(\n    datasetUuids: ri!datasetUuids,\n    referenceTaskIds: tointeger(\n      a!defaultValue(\n        ri!referenceTaskIds,\n        local!currentIdMap.referenceTaskIds\n      )\n    ),\n    taskBlockIds: tointeger(\n      a!defaultValue(\n        ri!taskBlockIds,\n        local!currentIdMap.taskBlockIds\n      )\n    ),\n    tagIds: tointeger(\n      a!defaultValue(ri!tagIds, local!currentIdMap.tagIds)\n    ),\n    reportIds: tointeger(\n      a!defaultValue(\n        ri!reportIds,\n        local!currentIdMap.reportIds\n      )\n    ),\n    pageIds: tointeger(\n      a!defaultValue(ri!pageIds, local!currentIdMap.pageIds)\n    ),\n    collaborationIds: tointeger(\n      a!defaultValue(\n        ri!collaborationIds,\n        local!currentIdMap.collaborationIds\n      )\n    ),\n    homePageIds: tointeger(\n      a!defaultValue(\n        ri!homePageIds,\n        local!currentIdMap.homePageIds\n      )\n    ),\n    automationTaskIds: tointeger(\n      a!defaultValue(\n        ri!automationTaskIds,\n        local!currentIdMap.automationTaskIds\n      )\n    ),\n    automationTaskConditionSetIds: tointeger(\n      a!defaultValue(\n        ri!automationTaskConditionSetIds,\n        local!currentIdMap.automationTaskConditionSetIds\n      )\n    ),\n    automationTaskActionIds: tointeger(\n      a!defaultValue(\n        ri!automationTaskActionIds,\n        local!currentIdMap.automationTaskActionIds\n      )\n    ),\n    emailTemplateIds: tointeger(\n      a!defaultValue(\n        ri!emailTemplateIds,\n        local!currentIdMap.emailTemplateIds\n      )\n    )\n  ),\n  local!updatedValues: rule!CMGT_UTIL_Filter(\n    records: local!demoIdMaps,\n    field: \"datasetUuids\",\n    value: ri!datasetUuids,\n    filterType: \"REJECT\"\n  ),\n  if(\n    rule!CMGT_UTIL_IsNotBlank(local!currentIdMap),\n    if(\n      ri!removeDataset,\n      local!updatedValues,\n      #\"urn:appian:function:v1:a:update\"(\n        local!demoIdMaps,\n        local!fullResult.matchIndices,\n        local!updatedIdMap\n      ),\n      \n    ),\n    append(local!demoIdMaps, local!updatedIdMap)\n  )\n)"
    },
    "_a-0000ec3d-b406-8000-9bb2-011c48011c48_415813": {
      "name": "CMGT_EXT_UTIL_Distinct",
      "type": "Expression Rule",
      "sail_code": "cast(\n  runtimetypeof(ri!value),\n  union(\n    a!flatten(ri!value),\n    a!flatten(ri!value)\n  )\n)"
    },
    "_a-0000ec18-c90d-8000-9baa-011c48011c48_26650": {
      "name": "CMGT_EXT_UpdateProcessExecutionHistory",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!processData: rule!CMGT_EXT_GetProcessExecutionStatus(\n    processId: a!defaultValue(\n      ri!processExecutionAudit[recordType!CMGT_EXT_ProcessExecutionAudit.processId],\n      ri!processId\n    ),\n    contextProcessModels: ri!contextProcessModels,\n    isMainProcessComplete: ri!isMainProcessComplete,\n    actionCode: ri!processExecutionAudit[recordType!CMGT_EXT_ProcessExecutionAudit.actionCode],\n    datasetUuids: ri!datasetUuids\n  ),\n  local!processExecutionAudit: rule!CMGT_EXT_QR_GetProcessExecutionAudit(\n    returnType: \"SINGLE_OBJECT\",\n    processId: a!defaultValue(\n      ri!processExecutionAudit[recordType!CMGT_EXT_ProcessExecutionAudit.processId],\n      ri!processId\n    ),\n    executeWhen: a!isNotNullOrEmpty(\n      a!defaultValue(\n        ri!processExecutionAudit[recordType!CMGT_EXT_ProcessExecutionAudit.processId],\n        ri!processId\n      )\n    )\n  ),\n  if(\n    rule!CMGT_UTIL_IsBlank(local!processExecutionAudit),\n    recordType!CMGT_EXT_ProcessExecutionAudit(\n      recordType!CMGT_EXT_ProcessExecutionAudit.processId: ri!processId,\n      recordType!CMGT_EXT_ProcessExecutionAudit.startedBy: ri!initiator,\n      recordType!CMGT_EXT_ProcessExecutionAudit.startedOn: now(),\n      recordType!CMGT_EXT_ProcessExecutionAudit.statusCode: ri!statusCode,\n      recordType!CMGT_EXT_ProcessExecutionAudit.actionCode: ri!actionCode,\n      recordType!CMGT_EXT_ProcessExecutionAudit.dataset: ri!datasetUuids\n    ),\n    #\"urn:appian:function:v1:a:update\"(\n      local!processExecutionAudit,\n      {\n        recordType!CMGT_EXT_ProcessExecutionAudit.errorMessage,\n        recordType!CMGT_EXT_ProcessExecutionAudit.statusCode,\n        recordType!CMGT_EXT_ProcessExecutionAudit.completedOn,\n        recordType!CMGT_EXT_ProcessExecutionAudit.completionPercentage\n      },\n      {\n        local!processData.errorMessage,\n        local!processData.statusCode,\n        index(local!processData, \"completedOn\", null),\n        local!processData.completionPercentage\n      }\n    )\n  )\n)"
    },
    "_a-0000ec0c-7718-8000-9ba6-011c48011c48_12727": {
      "name": "CMGT_EXT_Populate_CaseType_WorkflowTasks",
      "type": "Expression Rule",
      "sail_code": "/*Assumption is that JUST non-category case types are passed in*/\n/*\nreferenceTaskUuid -> 1. Defines the UUID of the reference task that has to be mapped to the template\n                     2. Will not be stored in the table.\n                     3. Will be used for Mapping purpose.\ntaskBlockUuid -> 1. Defines the UUID of the task block that has to be mapped to the template.\n                 2. Will not be stored in the table.\n                 3. Will be used for Mapping purpose.\nmilestoneUuid -> Map the milestone UUID that has to be mapped to the template.\ncaseTypeWorkflowTaskUuid -> Map the random UUID of the workflow task. This will be stored in the table and will be unique identifier of the workflow template task\nstartByDefault -> If the task has no required precendents then the value will be true else false\nbeforeTasks -> beforeTasks -> Add the following map details to add precendent tasks.\n               a!map(\n                     beforeTaskUuid : The UUID of the precent task [Map the caseTypeWorkflowTaskUuid]\n                     taskResponseOption:a!map(\n                      referenceTaskUuid: Map the UUID of the reference task of the response option]\n                      taskResponseOptionId:Map the index of the task response option for the particular reference task [For Eg\n                        If the question is Is Payment is Done? and Response Options are Paid and Not Paid and if have to map\n                        task response option Not paid then the value has to be 2]\n                       ),\n                     isRequired: This will be true if the before task has to be completed for this task to get started\n                    )*/\n/*-----------------------------------------------------------------------------------------------------*/\na!localVariables(\n  local!taskBlocks: rule!CMGT_WFL_QR_GetTaskBlock(\n    returnType: \"OBJECT_ARRAY\",\n    fields: recordType!CMGT_WFL_CFG_TaskBlock.taskBlockTasks,\n    sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_WFL_CFG_TaskBlock.taskBlockId,\n      ascending: true\n    )\n  ),\n  local!referenceTasks: rule!CMGT_WFL_QR_GetReferenceTask(\n    returnType: \"OBJECT_ARRAY\",\n    sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_WFL_CFG_ReferenceTask.referenceTaskId,\n      ascending: true\n    )\n  ),\n  local!caseTypeWorkflowTemplateTaskRule: index(\n    rule!CMGT_EXT_UTIL_ReturnDatsetDetailsByDatasetName(datasetUuids: ri!datasetUuids),\n    \"caseTypeWorkflowRule\",\n    null\n  ),\n  local!caseTypeWorkflowTemplateTask: a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(local!caseTypeWorkflowTemplateTaskRule, fv!item())\n  ),\n  /*This depends on exact name matches from CMGT_EXT_DATA_CaseType*/\n  rule!CMGT_UTIL_RejectBlank(\n    array: a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!nonCategoryCaseTypes,\n        expression: a!localVariables(\n          local!caseType: fv!item,\n          local!currentCaseTypeWorkflowTemplateTask: a!flatten(\n            rule!CMGT_UTIL_Filter(\n              records: local!caseTypeWorkflowTemplateTask,\n              field: \"caseType\",\n              value: fv!item[recordType!CMGT_CFG_CaseType.name]\n            ).caseTypeWorkflowTemplateTaskMap\n          ),\n          local!generatedCaseTypeWorkflowTemplateTasks: #\"SYSTEM_SYSRULES_forEach\"(\n            local!currentCaseTypeWorkflowTemplateTask,\n            rule!CMGT_EXT_GenerateCaseTypeWorkflowTasksLogic(\n              caseTypeWorkflowTemplateTaskMap: fv!item,\n              taskBlocks: local!taskBlocks,\n              taskBlockMap: ri!taskBlockMap,\n              referenceTaskMap: ri!referenceTaskMap,\n              referenceTasks: local!referenceTasks,\n              caseType: local!caseType,\n              index: fv!index\n            )\n          ),\n          /* we want to update the branch details separately as we will not have the responseOptionUuid when generating tasks*/\n          #\"SYSTEM_SYSRULES_forEach\"(\n            local!generatedCaseTypeWorkflowTemplateTasks,\n            rule!CMGT_EXT_GenerateCaseTypeWorkflowTaskBranchesLogic(\n              generatedCaseTypeWorkflowTemplateTask: fv!item,\n              generatedCaseTypeWorkflowTemplateTasks: local!generatedCaseTypeWorkflowTemplateTasks,\n              caseType: local!caseType,\n              referenceTaskMap: ri!referenceTaskMap,\n              referenceTasks: local!referenceTasks,\n              caseTypeWorkflowTemplateTaskMap: rule!CMGT_UTIL_Filter(\n                records: local!currentCaseTypeWorkflowTemplateTask,\n                field: \"caseTypeWorkflowTaskUuid\",\n                value: fv!item[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid]\n              )\n            )\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000eaab-5303-8000-9c24-011c48011c48_994738": {
      "name": "CMGT_formatEventInitiator",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!user: rule!CMGT_QR_GetUser(\n    username: ri!initiator,\n    returnType: \"SINGLE_OBJECT\"\n  ),\n  if(\n    rule!CMGT_UTIL_IsBlank(local!user),\n    ri!initiator,\n    if(\n      or(\n        local!user[#\"urn:appian:record-field:v1:SYSTEM_RECORD_TYPE_USER/SYSTEM_RECORD_TYPE_USER_FIELD_isServiceAccount\"] = true,\n        #\"urn:appian:function:v1:a:isusermemberofgroup?okey=a!isUserMemberOfGroup\"(\n          username: ri!initiator,\n          groups: cons!CMGT_GRP_SERVICE_ACCOUNTS\n        )\n      ),\n      cons!CMGT_TXT_AUTOMATED_SYSTEM,\n      ri!initiator\n    )\n  )\n)"
    },
    "_a-0000ec46-ed50-8000-9bb4-011c48011c48_683170": {
      "name": "CMGT_EXT_UTIL_SortArray",
      "type": "Expression Rule",
      "sail_code": "cast(\n  runtimetypeof(ri!array),\n  if(\n    a!isNullOrEmpty(ri!array),\n    ri!array,\n    todatasubset(\n      apply(\n        a!map(item: _),\n        a!flatten(ri!array),\n      ),\n      #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: - 1,\n        sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: \"item\",\n          ascending: a!defaultValue(value: ri!ascending, default: true)\n        )\n      )\n    ).data.item\n  )\n)"
    },
    "000aec1f-d52e-8000-fb5d-7f0000014e7a": {
      "name": "CMGT_EXT_Deployment",
      "type": "Process Model",
      "sail_code": "// Input: ?\n=pv!deploymentUuid\n\n// Output: ?\nac!Result.body.status\n\n// Output: ?\n/*The below match is to explicitly error the node on deployment failure*/\na!match(\n  value: null,\n  whenTrue: rule!CMGT_UTIL_IsNotBlank(input: ac!Error),\n  then: error(\n    joinarray(\n      {\n        ac!Error.title,\n        ac!Error.message,\n        ac!Error.detail\n      },\n      \",\"\n    )\n  ),\n  whenTrue: rule!CMGT_UTIL_IsBlank(value: pv!deploymentUuid),\n  then: error(\"Deployment UUID is null\"),\n  whenTrue: ac!Result.body.status = cons!CMGT_EXT_PROCESS_STATUS_FAILED,\n  then: error(\n    \"Deployment failed with a status code:\" & ac!Result.body.status\n  ),\n  default: \"\"\n)\n\n// Input: ?\n=pv!importZip\n\n// Input: ?\n=pv!icfFile\n\n// Input: ?\n=pv!sqlScripts\n\n// Output: ?\nac!Result.body.status\n\n// Output: ?\nac!Result.body.uuid\n\n// Output: ?\n/*The below match is to explicitly error the node on deployment failure*/\na!match(\n  value: null,\n  whenTrue: rule!CMGT_UTIL_IsNotBlank(input: ac!Error),\n  then: error(\n    joinarray(\n      {\n        ac!Error.title,\n        ac!Error.message,\n        ac!Error.detail\n      },\n      \",\"\n    )\n  ),\n  whenTrue: rule!CMGT_UTIL_IsBlank(value: ac!Result.body.uuid),\n  then: error(\"Deployment UUID is null\"),\n  whenTrue: ac!Result.body.status = cons!CMGT_EXT_PROCESS_STATUS_FAILED,\n  then: error(\n    \"Deployment failed with a status code:\" & ac!Result.body.status\n  ),\n  default: \"\"\n)"
    },
    "_a-0000edbd-1f9f-8000-9d6d-011c48011c48_4081813": {
      "name": "CMGT_setPrefixDefault",
      "type": "Expression Rule",
      "sail_code": "left(\n  initials(\n    proper(\n      ri!caseType[recordType!CMGT_CFG_CaseType.name]\n    )\n  ),\n  3\n)"
    },
    "_a-0000ec18-c90d-8000-9baa-011c48011c48_22631": {
      "name": "CMGT_EXT_filterExistingUsers",
      "type": "Expression Rule",
      "sail_code": "reject(fn!isusernametaken, ri!usernames)"
    },
    "_a-0000ec06-54a3-8000-9cca-011c48011c48_2514427": {
      "name": "CMGT_EXT_UTIL_RandomBoolean",
      "type": "Expression Rule",
      "sail_code": "rand() < .5"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_25890": {
      "name": "CMGT_UTIL_IsBlank",
      "type": "Expression Rule",
      "sail_code": "length(a!flatten(ri!value)) = 0"
    },
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_16642": {
      "name": "CMGT_EXT_DATA_Tags",
      "type": "Expression Rule",
      "sail_code": "/*Add the new tags name in the below list*/\n{\n  \"Urgent\",\n  \"Escalated\",\n  \"Pending\",\n  \"Important\",\n  \"Deadline\",\n  \"Follow-up\",\n  \"Documentation\",\n  \"Communication\",\n  \"Legal\",\n  \"Financial\",\n}"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_568080": {
      "name": "CMGT_WFL_QR_GetTaskBlock",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_WFL_CFG_TaskBlock,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_TaskBlock.taskBlockId,\n      operator: \"in\",\n      value: ri!taskBlockId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_TaskBlock.isActive,\n      operator: \"=\",\n      value: true,\n      applyWhen: ri!includeInactive <> true\n    )\n  },\n  fields: ri!fields,\n  sort: {\n    a!defaultValue(\n      ri!sort,\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_WFL_CFG_TaskBlock.label,\n        ascending: true\n      )\n    )\n  },\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ecd4-69fa-8000-9bca-011c48011c48_1069228": {
      "name": "CMGT_EXT_GenerateCaseTypeWorkflowTaskBranchesLogic",
      "type": "Expression Rule",
      "sail_code": "#\"urn:appian:function:v1:a:update\"(\n  ri!generatedCaseTypeWorkflowTemplateTask,\n  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches,\n  if(\n    rule!CMGT_UTIL_IsNotBlank(\n      ri!caseTypeWorkflowTemplateTaskMap.beforeTasks\n    ),\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: a!flatten(\n        ri!caseTypeWorkflowTemplateTaskMap.beforeTasks\n      ),\n      expression: a!localVariables(\n        /*Get the reference task details for the current before task to map response option PK*/\n        local!beforeTaskReferenceTask: rule!CMGT_UTIL_Filter(\n          records: ri!generatedCaseTypeWorkflowTemplateTasks,\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTaskId,\n          value: rule!CMGT_UTIL_Filter(\n            records: ri!referenceTasks,\n            field: recordType!CMGT_WFL_CFG_ReferenceTask.referenceTaskId,\n            value: index(\n              rule!CMGT_UTIL_Filter(\n                records: ri!referenceTaskMap,\n                field: \"uuid\",\n                value: fv!item.taskResponseOption.referenceTaskUuid\n              ),\n              \"referenceTaskId\",\n              null\n            )\n          )[recordType!CMGT_WFL_CFG_ReferenceTask.referenceTaskId]\n        ),\n        {\n          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch(\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid: fv!item.beforeTaskUuid,\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid: ri!caseTypeWorkflowTemplateTaskMap.caseTypeWorkflowTaskUuid,\n            /*In ri!caseTypeWorkflowTemplateTaskMap map the index of the response option will be passed\n              so we are indexing the PK*/\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.caseTypeTaskResponseOptionUuid: if(\n              a!isNotNullOrEmpty(local!beforeTaskReferenceTask),\n              index(\n                a!flatten(\n                  local!beforeTaskReferenceTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskResponseOptions.caseTypeWorkflowTaskResponseOptionUuid]\n                ),\n                fv!item.taskResponseOption.taskResponseOptionId,\n                null\n              ),\n              {}\n            ),\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.conditionSetUuid: fv!item.conditionSetUuid,\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isRequired: a!defaultValue(fv!item.isRequired, true),\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive: true,\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.createdOn: ri!caseType[recordType!CMGT_CFG_CaseType.createdOn],\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.createdBy: ri!caseType[recordType!CMGT_CFG_CaseType.createdBy],\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.modifedBy: ri!caseType[recordType!CMGT_CFG_CaseType.modifiedBy],\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.modifiedOn: ri!caseType[recordType!CMGT_CFG_CaseType.modifiedOn]\n            \n          )\n        }\n      )\n    ),\n    {}\n  )\n)"
    },
    "0002ec0d-42a5-8000-fa16-7f0000014e7a": {
      "name": "CMGT_EXT_Write_ConfigurationData",
      "type": "Process Model",
      "sail_code": "// Input: ?\n=#\"SYSTEM_SYSRULES_toJson_v1\"(pv!generatedDemoIds)\n\n// Input: ?\n=#\"SYSTEM_SYSRULES_toJson_v1\"(pv!generatedDemoIds)\n\n// Input: ?\n=#\"SYSTEM_SYSRULES_toJson_v1\"(pv!generatedDemoIds)\n\n// Input: ?\n= a!flatten(\n  pv!updatedTaskBlockTasks[recordType!CMGT_WFL_CFG_TaskBlockTask.beforeTaskBlockTaskBranches]\n)\n\n// Input: ?\n=recordType!CMGT_WFL_CFG_TaskBlockTaskBranch\n\n// Output: ?\nrule!CMGT_UTIL_RejectBlank(\n  a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: a!flatten(\n        pv!taskBlocks[recordType!CMGT_WFL_CFG_TaskBlock.taskBlockTasks]\n      ),\n      expression: rule!CMGT_EXT_GenerateTaskBlocksBranchesLogic(\n        referenceTasks: pv!referenceTasks,\n        referenceTaskMap: pv!referenceTaskMap,\n        generatedTaskBlockTemplateTask: fv!item,\n        generatedTaskBlockTemplateTasks: a!flatten(\n          pv!taskBlocks[recordType!CMGT_WFL_CFG_TaskBlock.taskBlockTasks]\n        ),\n        taskBlocksMap: rule!CMGT_UTIL_Filter(\n          records: a!flatten(\n            a!localVariables(\n              local!taskBlockRule: index(\n                rule!CMGT_EXT_UTIL_ReturnDatsetDetailsByDatasetName(datasetUuids: pv!datasetUuids),\n                \"taskBlockRule\",\n                null\n              ),\n              local!taskBlock: a!flatten(\n                #\"SYSTEM_SYSRULES_forEach\"(local!taskBlockRule, fv!item())\n              ),\n              local!taskBlock.taskBlockTasks\n            )\n          ),\n          field: \"taskBlockTaskUuid\",\n          value: fv!item[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskUuid]\n        )\n      )\n    )\n  )\n)\n\n// Input: ?\n={rule!CMGT_WFL_TaskBlock_WriteRecordsProperties(\n  taskBlocks: rule!CMGT_EXT_GenerateTaskBlocksLogic(\n    referenceTasks:pv!referenceTasks,\n    referenceTaskMap:pv!referenceTaskMap,\n    datasetUuids: pv!datasetUuids\n  ),\n  isInput: true\n)}\n\n// Input: ?\n={recordType!CMGT_WFL_CFG_TaskBlock}\n\n// Output: ?\nAC!RecordsUpdated\n\n// Output: ?\na!localVariables(\n  local!taskBlockRule: index(\n    rule!CMGT_EXT_UTIL_ReturnDatsetDetailsByDatasetName(datasetUuids: pv!datasetUuids),\n    \"taskBlockRule\",\n    null\n  ),\n  local!taskBlocks: a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(local!taskBlockRule, fv!item())\n  ),\n  #\"urn:appian:function:v1:a:update\"(\n    local!taskBlocks,\n    \"taskBlockId\",\n    ac!RecordsUpdated[recordType!CMGT_WFL_CFG_TaskBlock.taskBlockId]\n  )\n)\n\n// Output: ?\nrule!CMGT_EXT_UpdateDemoIdsConstantByDataset(\n  datasetUuids: pv!datasetUuids,\n  taskBlockIds: ac!RecordsUpdated[recordType!CMGT_WFL_CFG_TaskBlock.taskBlockId]\n)\n\n// Input: ?\n={ {\n  rule!CMGT_WFL_ReferenceTask_WriteRecordsProperties(\n    referenceTasks: rule!CMGT_EXT_GenerateReferenceTasksLogic(datasetUuids: pv!datasetUuids),\n    isInput: true\n  )\n}}\n\n// Input: ?\n={recordType!CMGT_WFL_CFG_ReferenceTask}\n\n// Output: ?\nAC!RecordsUpdated\n\n// Output: ?\na!localVariables(\n  local!referenceTaskDataRule: index(\n    rule!CMGT_EXT_UTIL_ReturnDatsetDetailsByDatasetName(datasetUuids: pv!datasetUuids),\n    \"referenceTaskRule\",\n    null\n  ),\n  local!referenceTaskData: a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(local!referenceTaskDataRule, fv!item())\n  ),\n  #\"urn:appian:function:v1:a:update\"(\n    local!referenceTaskData,\n    \"referenceTaskId\",\n    ac!RecordsUpdated[recordType!CMGT_WFL_CFG_ReferenceTask.referenceTaskId]\n  )\n)\n\n// Output: ?\nrule!CMGT_EXT_UpdateDemoIdsConstantByDataset(\n  datasetUuids: pv!datasetUuids,\n  referenceTaskIds: ac!RecordsUpdated[recordType!CMGT_WFL_CFG_ReferenceTask.referenceTaskId]\n)\n\n// Input: ?\n= rule!CMGT_QR_GetCaseType( returnType: \"OBJECT_ARRAY\", fields: recordType!CMGT_CFG_CaseType.referenceMilestone, isCaseCategory: false, caseTypeUuid: { cons!CMGT_EXT_TXT_GENERATED_CASE_TYPE_UUIDS[1], cons!CMGT_EXT_TXT_GENERATED_CASE_TYPE_UUIDS[2], cons!CMGT_EXT_TXT_GENERATED_CASE_TYPE_UUIDS[3], cons!CMGT_EXT_TXT_GENERATED_CASE_TYPE_UUIDS[4] })\n\n// Output: ?\nrule!CMGT_EXT_Populate_CaseType_WorkflowTasks(\n  nonCategoryCaseTypes:ac!nonCategoryCaseTypes,\n  taskBlockMap:pv!taskBlockMap,\n  referenceTaskMap:pv!referenceTaskMap,\n  datasetUuids: pv!datasetUuids\n)\n\n// Input: ?\n={rule!CMGT_EXT_CaseType_SetMetadata(\n  caseTypes:rule!CMGT_EXT_DATA_CaseType(datasetUuids:pv!datasetUuids)\n)}\n\n// Input: ?\n={recordType!CMGT_CFG_CaseTypeMetadata}\n\n// Input: ?\n=a!localVariables( local!automationRule: index( rule!CMGT_EXT_UTIL_ReturnDatsetDetailsByDatasetName(datasetUuids: pv!datasetUuids), \"automationRule\", null ), local!automations: a!flatten( #\"SYSTEM_SYSRULES_forEach\"(local!automationRule, fv!item()) ), local!automations)\n\n// Output: ?\nrule!CMGT_EXT_GenerateCaseAutomationRulesLogic(\n  caseTypeWorkflowTemplateTaskMap: ac!automations\n)\n\n// Input: ?\n=#\"SYSTEM_SYSRULES_toJson_v1\"(pv!generatedDemoIds)\n\n// Input: ?\n={pv!automationRules}\n\n// Input: ?\n={recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask}\n\n// Output: ?\nAC!RecordsUpdated\n\n// Output: ?\nrule!CMGT_EXT_UpdateDemoIdsConstantByDataset(\n  datasetUuids: pv!datasetUuids,\n  automationTaskIds: ac!RecordsUpdated[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskId],\n  automationTaskConditionSetIds: rule!CMGT_UTIL_RejectBlank(\n    a!flatten(\n      {\n        ac!RecordsUpdated[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet.conditionSetId],\n        ac!RecordsUpdated[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet.childConditionSet.conditionSetId]\n      }\n    )\n  ),\n  automationTaskActionIds: ac!RecordsUpdated[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction.taskActionId],\n\n)\n\n// Input: ?\n=#\"SYSTEM_SYSRULES_toJson_v1\"(pv!generatedDemoIds)\n\n// Input: ?\n={pv!emailTemplates}\n\n// Input: ?\n={recordType!CMGT_WFL_CFG_EmailTemplate}\n\n// Output: ?\nAC!RecordsUpdated\n\n// Output: ?\nrule!CMGT_EXT_UpdateDemoIdsConstantByDataset(\n  datasetUuids: pv!datasetUuids,\n  emailTemplateIds: ac!RecordsUpdated[recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateId]\n)\n\n// Input: ?\n={pv!caseTypeWorkflowTasks}\n\n// Input: ?\n={recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask}\n\n// Output: ?\nAC!RecordsUpdated\n\n// Input: ?\n= a!localVariables( local!emailTemplateRule: index( rule!CMGT_EXT_UTIL_ReturnDatsetDetailsByDatasetName(datasetUuids: pv!datasetUuids), \"emailTemplateRule\", null ), local!emailTemplates: a!flatten( #\"SYSTEM_SYSRULES_forEach\"(local!emailTemplateRule, fv!item()) ), local!emailTemplates)\n\n// Output: ?\nrule!CMGT_EXT_GenerateEmailTemplateLogic(emailTemplateMap: ac!emailTemplates)\n\n// Input: ?\n={ {\n  a!flatten(\n    pv!caseTypeWorkflowTasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches]\n  )\n}}\n\n// Input: ?\n={recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch}"
    },
    "_a-0000e9ae-873e-8000-9baf-011c48011c48_97439": {
      "name": "CMGT_QR_GetUser",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: #\"urn:appian:record-type:v1:SYSTEM_RECORD_TYPE_USER\",\n  returnType: ri!returnType,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: #\"urn:appian:record-field:v1:SYSTEM_RECORD_TYPE_USER/SYSTEM_RECORD_TYPE_USER_FIELD_username\",\n      operator: \"in\",\n      value: ri!username\n    )\n  },\n  fields: ri!fields,\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  triggerRefresh: ri!triggerRefresh,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ece2-0128-8000-9bb8-011c48011c48_37290": {
      "name": "CMGT_UTIL_CalculateDueDateBasedOnSLA",
      "type": "Expression Rule",
      "sail_code": "if(\n  any(a!isNullOrEmpty, { ri!dateTime, ri!SLA }),\n  null(),\n  a!localVariables(\n    local!details: cast(\n      'type!{http://www.appian.com/ae/types/2009}Map',\n      if(\n        a!isNotNullOrEmpty(ri!SLA),\n        #\"SYSTEM_SYSRULES_fromJson_v1\"(ri!SLA),\n        null\n      )\n    ),\n    local!days: a!defaultValue(\n      value: index(local!details, \"days\", null()),\n      default: 0\n    ),\n    local!hours: a!defaultValue(\n      value: index(local!details, \"hours\", null()),\n      default: 0\n    ),\n    local!minutes: a!defaultValue(\n      value: index(local!details, \"minutes\", null()),\n      default: 0\n    ),\n    local!isBusinessDays: a!defaultValue(\n      value: index(local!details, \"isBusinessDays\", false()),\n      default: false()\n    ),\n    a!addDateTime(\n      startDateTime: ri!dateTime,\n      days: local!days,\n      hours: local!hours,\n      minutes: local!minutes,\n      useProcessCalendar: local!isBusinessDays\n    )\n  )\n)"
    },
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_16434": {
      "name": "CMGT_EXT_QR_GetProcessExecutionAudit",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_EXT_ProcessExecutionAudit,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  logicalExpressions: ri!additionalLogicalExpressions,\n  executeWhen: a!defaultValue(ri!executeWhen, true),\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_EXT_ProcessExecutionAudit.processId,\n      operator: \"=\",\n      value: ri!processId\n    )\n  },\n  fields: ri!fields,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  relatedRecordData: ri!relatedRecordData,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_16665": {
      "name": "CMGT_EXT_GetDocumentsFromFolder",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNotNullOrEmpty(ri!rootFolder),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: getdocumentsfromfolder(\n      ri!rootFolder,\n      a!defaultValue(\n        value: ri!recursiveSearch,\n        default: false()\n      )\n    ),\n    expression: a!map(\n      name: document(fv!item, \"name\"),\n      document: fv!item\n    )\n  ),\n  {}\n)"
    },
    "_a-0000eacc-8ea8-8000-9c30-011c48011c48_1101766": {
      "name": "CMGT_WFL_TaskBlock_WriteRecordsProperties",
      "type": "Expression Rule",
      "sail_code": "if(\n  ri!isInput,\n  rule!CMGT_UTIL_DropNonWritableRelationshipsFromRecord(\n    records: ri!taskBlocks,\n    relationships: {\n      recordType!CMGT_WFL_CFG_TaskBlock.taskBlockTasks,\n      recordType!CMGT_WFL_CFG_TaskBlock.taskBlockTasks\n    }\n  ),\n  rule!CMGT_UTIL_MergeWriteRecordIdsToProcessVariable(\n    processData: ri!taskBlocks,\n    recordsUpdated: ri!recordsUpdated,\n    fksToParent: {\n      recordType!CMGT_WFL_CFG_TaskBlock.taskBlockTasks.taskBlockId\n    }\n  )\n)"
    },
    "_a-0000e9d3-70bf-8000-9bbd-011c48011c48_180568": {
      "name": "CMGT_UTIL_IsNotBlank",
      "type": "Expression Rule",
      "sail_code": "not(rule!CMGT_UTIL_IsBlank(ri!input))"
    },
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_16798": {
      "name": "CMGT_EXT_GetProcessExecutionStatus",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNotNullOrEmpty(ri!processId),\n  a!localVariables(\n    /*Get all process data for the given process id*/\n    local!processData: rule!CMGT_EXT_QPA_GetAuditProcessReportData(\n      processId: ri!processId,\n      contextProcessModels: ri!contextProcessModels\n    ),\n    /*Reject the completed process and the main process*/\n    local!errorSubProcess: rule!CMGT_UTIL_Filter(\n      records: local!processData,\n      fieldValuePairs: {\n        a!map(field: \"status\", value: 1),\n        a!map(field: \"processId\", value: ri!processId)\n      },\n      matchingCriteria: \"ANY\",\n      filterType: \"REJECT\"\n    ),\n    /*Check if the if all process are completed except the main process*/\n    local!areSubProcessesComplete: a!isNullOrEmpty(value: local!errorSubProcess),\n    /*CheckS if the main process is complete*/\n    local!isMainProcessComplete: a!defaultValue(ri!isMainProcessComplete, false),\n    if(\n      and(\n        local!areSubProcessesComplete,\n        local!isMainProcessComplete\n      ),\n      a!map(\n        statusCode: cons!CMGT_EXT_PROCESS_STATUS_COMPLETED,\n        errorMessage: null,\n        completedOn: now(),\n        completionPercentage: 100\n      ),\n      a!localVariables(\n        /*If there are no errors in subprocess then the issue is on main process\n      so add the main process */\n        local!errorProcess: if(\n          a!isNotNullOrEmpty(local!errorSubProcess),\n          local!errorSubProcess,\n          rule!CMGT_UTIL_Filter(\n            records: local!processData,\n            fieldValuePairs: {\n              a!map(field: \"processId\", value: ri!processId)\n            }\n          )\n        ),\n        /*This is to elimiate MNI process like create case*/\n        local!errorProcessModelIds: union(\n          index(\n            local!errorProcess,\n            \"processModelId\",\n            null\n          ),\n          index(\n            local!errorProcess,\n            \"processModelId\",\n            null\n          )\n        ),\n        local!errorMessage: \"Failure occurred while \" & a!match(\n          value: cast(1, local!errorProcessModelIds),\n         /*error message when CMGT_EXT_GetProcessExecutionStatus errors during the LOAD action*/\n          whenTrue: tointeger(\n            cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS[1]\n          ) = fv!value,\n          then: \"generating tasks or case types.\",\n          /*error message when CMGT_EXT_Case_Create or CMGT_EXT_Case_Maker errors during the LOAD action*/\n          whenTrue: contains(\n            tointeger(\n              index(\n                cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS,\n                { 2, 8 },\n                null\n              )\n            ),\n            fv!value\n          ),\n          then: \"generating cases.\",\n          /*error message when CMGT_EXT_Task_Create, CMGT_EXT_Task_Update, CMGT_EXT_SUB_OpenNextTasks errors during the LOAD action*/\n          whenTrue: contains(\n            tointeger(\n              index(\n                cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS,\n                { 3, 6, 7 },\n                null\n              )\n            ),\n            fv!value\n          ),\n          then: \"generating tasks for cases.\",\n          /*error message when CMGT_EXT_RelatedCaseMap_Create errors during the LOAD action*/\n          whenTrue: tointeger(\n            cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS[4]\n          ) = fv!value,\n          then: \"generating related cases.\",\n          /*error message when the overall parent process CMGT_EXT_Load_DemoData errors during the LOAD action*/\n          whenTrue: tointeger(\n            cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS[5]\n          ) = fv!value,\n          then: \"generating demo data.\",\n          /*error message when CMGT_EXT_Load_GenerateDemoUsers errors during the LOAD action*/\n          whenTrue: tointeger(\n            cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS[9]\n          ) = fv!value,\n          then: \"generating demo users.\",\n          /*error message when CMGT_EXT_Deployment errors*/\n          whenTrue: tointeger(\n            cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS[10]\n          ) = fv!value,\n          then: if(\n            /*if the context PM passed thorugh contains the CMGT_EXT_Clear_DemoData PM then show the CLEAR action message, \n            otherwise show the LOAD action message*/\n            contains(\n              ri!contextProcessModels,\n              cons!CMGT_EXT_PM_CLEAR_ERROR_TRACKING_PROCESS[3]\n            ),\n            \"deleting studio tables.\",\n            \"generating studio objects.\"\n          ),\n          /*error message when CMGT_EXT_Clear_DemoData errors*/\n          whenTrue: tointeger(\n            cons!CMGT_EXT_PM_CLEAR_ERROR_TRACKING_PROCESS[3]\n          ) = fv!value,\n          then: \"clearing demo data.\",\n          /*error message when CMGT_EXT_Reset_DemoData errors during the RESET action*/\n          whenTrue: tointeger(cons!CMGT_EXT_PM_RESET_DEMO_DATA) = fv!value,\n          then: \"executing reset.\",\n          default: null,\n\n        ) & \" Please contact your administrator for resolution.\",\n        a!map(\n          statusCode: cons!CMGT_EXT_PROCESS_STATUS_FAILED,\n          errorMessage: local!errorMessage,\n          completionPercentage: a!match(\n            value: ri!actionCode,\n            equals: cons!CMGT_EXT_PROCESS_ACTION_LOAD,\n            then: rule!CMGT_EXT_GetLoadProcessCompletionPercentage(\n              completedProcess: rule!CMGT_UTIL_Filter(\n                records: local!processData,\n                fieldValuePairs: { a!map(field: \"status\", value: 1) },\n                \n              ),\n              datasetUuids: ri!datasetUuids\n            ),\n            equals: cons!CMGT_EXT_PROCESS_ACTION_CLEAR,\n            then: rule!CMGT_EXT_GetClearProcessCompletionPercentage(\n              completedProcess: rule!CMGT_UTIL_Filter(\n                records: local!processData,\n                fieldValuePairs: { a!map(field: \"status\", value: 1) },\n                \n              ),\n              datasetUuids: ri!datasetUuids\n            ),\n            equals: cons!CMGT_EXT_PROCESS_ACTION_RESET,\n            then: rule!CMGT_EXT_GetResetProcessCompletionPercentage(\n              completedProcess: rule!CMGT_UTIL_Filter(\n                records: local!processData,\n                fieldValuePairs: { a!map(field: \"status\", value: 1) },\n                \n              ),\n              datasetUuids: ri!datasetUuids\n            ),\n            equals: cons!CMGT_EXT_PROCESS_ACTION_RETRY_LOAD,\n            then: rule!CMGT_EXT_GetResetProcessCompletionPercentage(\n              completedProcess: rule!CMGT_UTIL_Filter(\n                records: local!processData,\n                fieldValuePairs: { a!map(field: \"status\", value: 1) },\n\n              ),\n              datasetUuids: ri!datasetUuids\n            ),\n            default: 0\n          )\n        )\n      )\n    )\n  ),\n  null\n)"
    },
    "_a-0000e98b-cfe0-8000-9ba5-011c48011c48_20014": {
      "name": "CMGT_Case_GenerateFriendlyIdentifier_Logic",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!dateHex: dec2hex(text(today(), \"mmddyy\")),\n  local!asciiCodes: append(\n    /* ASCII codes for A-Z (65 - 90) */\n    enumerate(26) + 65,\n    /* ASCII codes for 0-9 (48 - 57) */\n    enumerate(10) + 48\n  ),\n  /* Generating 6 random alphanumeric characters */\n  local!randomAlphaNumericChars: concat(\n    char(\n      index(\n        local!asciiCodes,\n        1 + round(rand(6) * (count(local!asciiCodes) - 1), 0),\n        null\n      )\n    )\n  ),\n  joinarray(\n    {\n      a!defaultValue(\n        value: ri!case[recordType!CMGT_Case.caseType.caseTypeMetadata.prefix],\n        default: rule!CMGT_setPrefixDefault(\n          caseType: ri!case[recordType!CMGT_Case.caseType]\n        )\n      ),\n      \"-\",\n      local!randomAlphaNumericChars,\n      local!dateHex\n    }\n  )\n)"
    },
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_12959": {
      "name": "CMGT_EXT_CaseType_SetMetadata",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: a!flatten(ri!caseTypes[recordType!CMGT_CFG_CaseType.subCaseTypes]),\n  expression: a!localVariables(\n    local!user: rule!CMGT_EXT_UTIL_RandomXMembersFromGroup(\n      group: cons!CMGT_GRP_INTERNAL_USERS,\n      memberType: \"USER\",\n      includeServiceAccounts: false\n    ),\n    local!caseType: fv!item,\n    rule!CMGT_UTIL_SetRecordFields(\n      record: recordType!CMGT_CFG_CaseTypeMetadata(),\n      alwaysOverwrite: {\n        a!map(\n          field: recordType!CMGT_CFG_CaseTypeMetadata.createdBy,\n          value: local!user\n        ),\n        a!map(\n          field: recordType!CMGT_CFG_CaseTypeMetadata.modifiedBy,\n          value: local!user\n        ),\n        a!map(\n          field: recordType!CMGT_CFG_CaseTypeMetadata.createdOn,\n          value: rule!CMGT_EXT_UTIL_RandomDateTime(\n            fromDate: a!subtractDateTime(startDateTime: now(), months: 3),\n            toDate: a!subtractDateTime(startDateTime: now(), months: 1)\n          )\n        ),\n        a!map(\n          field: recordType!CMGT_CFG_CaseTypeMetadata.modifiedOn,\n          value: rule!CMGT_EXT_UTIL_RandomDateTime(\n            fromDate: a!subtractDateTime(startDateTime: now(), months: 1),\n            toDate: now()\n          )\n        ),\n        a!map(\n          field: recordType!CMGT_CFG_CaseTypeMetadata.priorityId,\n          value: rule!CMGT_EXT_UTIL_RandomInt(between: { 1, 5 }),\n        ),\n        a!map(\n          field: recordType!CMGT_CFG_CaseTypeMetadata.sla,\n          value: rule!CMGT_EXT_ConstructRandomSlaAsJson(),\n        ),\n        a!map(\n          field: recordType!CMGT_CFG_CaseTypeMetadata.prefix,\n          value: local!caseType[recordType!CMGT_CFG_CaseType.caseTypeMetadata.prefix]\n        ),\n        a!map(\n          field: recordType!CMGT_CFG_CaseTypeMetadata.caseTypeUuid,\n          value: local!caseType[recordType!CMGT_CFG_CaseType.uuid]\n        ),\n      },\n      childRelationships: {\n        a!map(\n          field: recordType!CMGT_CFG_CaseTypeMetadata.referenceMilestones,\n          value: #\"SYSTEM_SYSRULES_forEach\"(\n            items: fv!item[recordType!CMGT_CFG_CaseType.referenceMilestone],\n            expression: rule!CMGT_UTIL_SetRecordFields(\n              record: fv!item,\n              alwaysOverwrite: {\n                a!map(\n                  field: recordType!CMGT_WFL_CFG_ReferenceMilestone.caseTypeUuid,\n                  value: local!caseType[recordType!CMGT_CFG_CaseType.uuid]\n                ),\n                a!map(\n                  field: recordType!CMGT_WFL_CFG_ReferenceMilestone.isActive,\n                  value: true\n                ),\n                a!map(\n                  field: recordType!CMGT_WFL_CFG_ReferenceMilestone.sortOrder,\n                  value: fv!index\n                ),\n                a!map(\n                  field: recordType!CMGT_WFL_CFG_ReferenceMilestone.createdBy,\n                  value: local!user\n                ),\n                a!map(\n                  field: recordType!CMGT_WFL_CFG_ReferenceMilestone.modifiedBy,\n                  value: local!user\n                ),\n                a!map(\n                  field: recordType!CMGT_WFL_CFG_ReferenceMilestone.createdOn,\n                  value: rule!CMGT_EXT_UTIL_RandomDateTime(\n                    fromDate: a!subtractDateTime(startDateTime: now(), months: 3),\n                    toDate: a!subtractDateTime(startDateTime: now(), months: 1)\n                  )\n                ),\n                a!map(\n                  field: recordType!CMGT_WFL_CFG_ReferenceMilestone.modifiedOn,\n                  value: rule!CMGT_EXT_UTIL_RandomDateTime(\n                    fromDate: a!subtractDateTime(startDateTime: now(), months: 1),\n                    toDate: now()\n                  )\n                )\n              }\n            )\n          )\n        )\n      }\n    )\n  )\n)"
    },
    "_a-0000ec06-54a3-8000-9cca-011c48011c48_2514276": {
      "name": "CMGT_EXT_UTIL_RandomInt",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!between),\n  null,\n  length(ri!between) < 2,\n  null,\n  a!localVariables(\n    local!lowerBound: if(\n      a!isNullOrEmpty(ri!between[1]),\n      1,\n      ri!between[1]\n    ),\n    local!numOfDigits: a!defaultValue(value: ri!numOfDigits, default: 0),\n    local!result: round(\n      rand() * (ri!between[2] - local!lowerBound),\n      local!numOfDigits\n    ) + local!lowerBound,\n    if(\n      local!numOfDigits = 0,\n      tointeger(local!result),\n      local!result\n    )\n  )\n)"
    },
    "000aec12-9365-8000-fa45-7f0000014e7a": {
      "name": "CMGT_EXT_DemoData_Load",
      "type": "Process Model",
      "sail_code": "// Input: ?\nrule!CMGT_EXT_UpdateProcessExecutionHistory(\n  processId: pp!id,\n  contextProcessModels: {\n    cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS\n  },\n  isMainProcessComplete: true,\n  processExecutionAudit:pv!processExecutionAudit\n)\n\n// Input: ?\n=recordType!CMGT_EXT_ProcessExecutionAudit\n\n// Output: ?\nac!RecordsUpdated[recordType!CMGT_EXT_ProcessExecutionAudit.statusCode]\n\n// Input: ?\n=#\"SYSTEM_SYSRULES_toJson_v1\"(pv!generatedDemoIds)\n\n// Input: ?\n=pv!deploymentMap.icfFile\n\n// Input: ?\n=pv!deploymentMap.packageZip\n\n// Input: ?\n=pv!parentProcessId\n\n// Input: ?\n=pv!deploymentMap.scripts\n\n// Input: ?\n={rule!CMGT_EXT_Tag_GenerateTags()}\n\n// Input: ?\n={recordType!CMGT_Tag}\n\n// Output: ?\nrule!CMGT_EXT_UpdateDemoIdsConstantByDataset(\n  datasetUuids: pv!datasetUuids,\n  tagIds: ac!RecordsUpdated[recordType!CMGT_Tag.tagId]\n)\n\n// Input: ?\n={if(\n  a!isNotNullOrEmpty(pv!processExecutionAudit),\n  pv!processExecutionAudit,\n  rule!CMGT_EXT_UpdateProcessExecutionHistory(\n    processId: pp!id,\n    initiator: pp!initiator,\n    datasetUuids: pv!datasetUuids,\n    statusCode: cons!CMGT_EXT_PROCESS_STATUS_INPROGRESS,\n    actionCode: cons!CMGT_EXT_PROCESS_ACTION_LOAD\n  )\n)}\n\n// Input: ?\n={recordType!CMGT_EXT_ProcessExecutionAudit}\n\n// Output: ?\nAC!RecordsUpdated\n\n// Output: ?\nac!RecordsUpdated[recordType!CMGT_EXT_ProcessExecutionAudit.statusCode]\n\n// Input: ?\n=pv!parentProcessId\n\n// Input: ?\n=generatedDemoIds\n\n// Input: ?\n=datasetUuids\n\n// Input: ?\n=parentProcessId\n\n// Input: ?\n=datasetUuids\n\n// Input: ?\n= a!localVariables(\n  local!caseRule: index(\n    rule!CMGT_EXT_UTIL_ReturnDatsetDetailsByDatasetName(datasetUuids: pv!datasetUuids),\n    \"caseRule\",\n    null\n  ),\n  local!cases: a!flatten(#\"SYSTEM_SYSRULES_forEach\"(local!caseRule, fv!item())),\n  if(\n    rule!CMGT_UTIL_IsNotBlank(local!cases),\n    local!cases,\n    null\n  )\n)\n\n// Input: ?\n=documentMaps\n\n// Input: ?\n=a!localVariables(\n  local!caseRule: index(\n    rule!CMGT_EXT_UTIL_ReturnDatsetDetailsByDatasetName(datasetUuids: pv!datasetUuids),\n    \"caseRule\",\n    null\n  ),\n  local!cases: a!flatten(#\"SYSTEM_SYSRULES_forEach\"(local!caseRule, fv!item())),\n  if(\n    rule!CMGT_UTIL_IsNotBlank(local!cases),\n    length(local!cases),\n    0\n  )\n)\n\n// Input: ?\n=pv!parentProcessId\n\n// Input: ?\n=datasetUuids\n\n// Input: ?\n=rule!CMGT_EXT_RelatedCaseMap_GenerateRelatedCaseMapDetails(datasetUuids: pv!datasetUuids)\n\n// Input: ?\n=pv!parentProcessId\n\n// Input: ?\n={ {\n  rule!CMGT_EXT_UpdateProcessExecutionHistory(\n    processId: pp!id,\n    processExecutionAudit: pv!processExecutionAudit,\n    contextProcessModels: a!flatten(\n      {\n        cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS,\n        if(\n          pv!processExecutionAudit[recordType!CMGT_EXT_ProcessExecutionAudit.actionCode] = cons!CMGT_EXT_PROCESS_ACTION_RETRY_LOAD,\n          cons!CMGT_EXT_PM_CLEAR_ERROR_TRACKING_PROCESS,\n          {}\n        )\n      }\n    ),\n    isMainProcessComplete: false\n  )\n}}\n\n// Input: ?\n={recordType!CMGT_EXT_ProcessExecutionAudit}\n\n// Output: ?\nac!RecordsUpdated[recordType!CMGT_EXT_ProcessExecutionAudit.statusCode]\n\n// Input: ?\n= if(\n  or(\n    pv!processExecutionAudit[recordType!CMGT_EXT_ProcessExecutionAudit.actionCode] = cons!CMGT_EXT_PROCESS_ACTION_LOAD,\n    rule!CMGT_UTIL_IsBlank(pv!processExecutionAudit)\n  ),\n  pp!id,\n  pv!parentProcessId\n)\n\n// Output: ?\na!map(\n  packageZip: cons!CMGT_EXT_INITIALLOAD_CONTROLPANELGENERATEDOBJECTS,\n  /* The order should not be changed */\n  scripts: { cons!CMGT_EXT_DOC_DUMMY_SCRIPTS },\n  icfFile: cons!CMGT_EXT_DOC_ICF_FORCE_UPDATE\n)\n\n// Output: ?\nif(\n  pv!processExecutionAudit[recordType!CMGT_EXT_ProcessExecutionAudit.actionCode] = cons!CMGT_EXT_PROCESS_ACTION_LOAD,\n  pp!id,\n  pv!parentProcessId\n)"
    },
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_16620": {
      "name": "CMGT_EXT_RelatedCaseMap_GenerateRelatedCaseMapDetails",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Get cases and map the related cases from the DATA rule instead of random logic*/\n  local!casesDataRule: index(\n    rule!CMGT_EXT_UTIL_ReturnDatsetDetailsByDatasetName(datasetUuids: ri!datasetUuids),\n    \"caseRule\",\n    null\n  ),\n  local!casesData: a!flatten(#\"SYSTEM_SYSRULES_forEach\"(local!casesDataRule, fv!item())),\n  local!cases: if(\n    rule!CMGT_UTIL_IsBlank(local!casesData),\n    null,\n    local!casesData\n  ),\n  local!updatedCases: rule!CMGT_QR_GetCase(\n    fields: {\n      recordType!CMGT_Case.caseId,\n      recordType!CMGT_Case.title\n    },\n    additionalFilters: #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Case.title,\n      operator: \"in\",\n      value: local!cases.title\n    ),\n    excludeRelatedRecords: true(),\n    \n  ),\n  local!caseDataRelatedCases: #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!cases,\n    expression: a!map(\n      caseDataCaseId: index(\n        rule!CMGT_UTIL_Filter(\n          records: local!updatedCases,\n          field: recordType!CMGT_Case.title,\n          value: fv!item.title\n        ),\n        recordType!CMGT_Case.caseId,\n        null\n      ),\n      relatedCaseIds: index(\n        rule!CMGT_UTIL_Filter(\n          records: local!updatedCases,\n          field: recordType!CMGT_Case.title,\n          value: fv!item.relatedCases\n        ),\n        recordType!CMGT_Case.caseId,\n        null\n      )\n    )\n  ),\n  local!relationshipMapTypes: rule!CMGT_QR_GetRelationshipMapType(\n    type: \"CASE_TO_CASE\",\n    fields: {\n      recordType!CMGT_CFG_RelationshipMapType.relationshipMapTypeId,\n      \n    }\n  ),\n  local!user: rule!CMGT_EXT_UTIL_RandomXMembersFromGroup(\n    group: cons!CMGT_GRP_INTERNAL_USERS,\n    includeServiceAccounts: false()\n  ),\n  local!timestamp: now(),\n  a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!caseDataRelatedCases,\n      expression: a!localVariables(\n        local!relationshipMapType: rule!CMGT_EXT_UTIL_RandomXObjectsFromArray(array: local!relationshipMapTypes),\n        {\n          recordType!CMGT_RelatedCaseMap(\n            recordType!CMGT_RelatedCaseMap.caseId: fv!item.caseDataCaseId,\n            recordType!CMGT_RelatedCaseMap.relatedCaseId: fv!item.relatedCaseIds,\n            recordType!CMGT_RelatedCaseMap.relationshipMapTypeId: local!relationshipMapType[recordType!CMGT_CFG_RelationshipMapType.relationshipMapTypeId],\n            recordType!CMGT_RelatedCaseMap.isActive: true(),\n            recordType!CMGT_RelatedCaseMap.createdBy: local!user,\n            recordType!CMGT_RelatedCaseMap.createdOn: local!timestamp,\n            recordType!CMGT_RelatedCaseMap.modifiedBy: local!user,\n            recordType!CMGT_RelatedCaseMap.modifiedOn: local!timestamp\n          )\n        }\n      )\n    )\n  )\n)"
    },
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_16774": {
      "name": "CMGT_EXT_QPA_GetAuditProcessReportData",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!defaultValue(value: ri!executeWhen, default: true()),\n  a!localVariables(\n    local!statuses: {\n      \"ACTIVE\",\n      \"COMPLETED\",\n      \"PAUSED\",\n      \"CANCELLED\",\n      \"PAUSED_BY_EXCEPTION\"\n    },\n    local!fieldMap: {\n      a!map(column: \"c0\", field: \"processName\"),\n      a!map(column: \"c1\", field: \"status\"),\n      a!map(column: \"c2\", field: \"startTime\"),\n      a!map(column: \"c3\", field: \"parentProcessId\"),\n      a!map(column: \"c4\", field: \"processId\"),\n      a!map(column: \"c6\", field: \"processModelId\"),\n      a!map(column: \"c7\", field: \"caseId\"),\n      a!map(column: \"c8\", field: \"processStatusCode\")\n    },\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: a!queryProcessAnalytics(\n        report: cons!CMGT_EXT_DOC_AUDIT_PROCESS_REPORT,\n        contextProcessModels: ri!contextProcessModels,\n        query: #\"SYSTEM_SYSRULES_query\"(\n          pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n            startIndex: 1,\n            batchSize: 50,\n            sort: #\"SYSTEM_SYSRULES_sortInfo\"(field: \"c2\", ascending: false)\n          ),\n          logicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            logicalExpressions: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n              operator: \"OR\",\n              filters: {\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: \"c3\",\n                  operator: \"=\",\n                  value: ri!processId,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!processId)\n                ),\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: \"c4\",\n                  operator: \"=\",\n                  value: ri!processId,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!processId)\n                )\n              }\n            ),\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: \"c1\",\n                operator: \"in\",\n                value: wherecontains(ri!status, local!statuses) - 1,\n                applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!status)\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: \"c8\",\n                operator: \"=\",\n                value: ri!processStatusCode,\n                applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!processStatusCode)\n              )\n            }\n          )\n        )\n      ).data,\n      expression: reduce(\n        #\"urn:appian:function:v1:a:update\",\n        a!map(),\n        merge(\n          local!fieldMap.field,\n          apply(\n            index(fv!item, _, null()),\n            local!fieldMap.column\n          )\n        )\n      )\n    )\n  ),\n  {}\n)"
    },
    "_a-0000ec34-7771-8000-9bb0-011c48011c48_174185": {
      "name": "CMGT_EXT_Actions_ConfirmationScreen",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!data: rule!CMGT_EXT_DATA_ConfirmationScreenLabels(\n    dataSetUuids: ri!datasetUuids,\n    actionCode: ri!actionCode\n  ),\n  local!metric,\n  #\"SYSTEM_SYSRULES_formLayout_v2\"(\n    titleBar: local!data.title,\n    showTitleBarDivider: true,\n    contents: {\n      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(text: local!data.instruction),\n        marginBelow: \"LESS\"\n      ),\n      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: #\"SYSTEM_SYSRULES_richTextBulletedList\"(\n          items: #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!data.contents,\n            expression: #\"SYSTEM_SYSRULES_richTextListItem\"(\n              text: {\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: joinarray({ fv!item.count, fv!item.label }, \" \"),\n                  style: \"STRONG\"\n                ),\n                char(32),\n                fv!item.data\n              }\n            )\n          )\n        ),\n        marginBelow: \"LESS\"\n      )\n    },\n    buttons: #\"SYSTEM_SYSRULES_ButtonLayout\"(\n      primaryButtons: {\n        #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          label: local!data.buttonLabel,\n          saveInto: {\n            if(\n              a!isNotNullOrEmpty(local!data.metricRule),\n            a!save(\n              local!metric,\n              local!data.metricRule()\n            ),\n            null\n            )\n          },\n          submit: true,\n          style: \"SOLID\"\n        )\n      },\n      secondaryButtons: {\n        #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          label: #\"urn:appian:translation-string:v1:36945a77-aa0c-4c0f-aff5-96eb2556aa52\",\n          value: true,\n          saveInto: {\n            a!save(ri!datasetUuids, null())\n          },\n          submit: true\n        )\n      }\n    )\n  )\n)"
    },
    "_a-0000ec06-54a3-8000-9cca-011c48011c48_2514336": {
      "name": "CMGT_EXT_UTIL_AdjustDateTimeForDayLightSaving",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!isDayLightSavingStartDate: and(\n    isindaylightsavingtime(ri!dateTime, \"EST5EDT\") = false(),\n    isindaylightsavingtime(ri!dateTime + 1, \"EST5EDT\")\n  ),\n  if(\n    and(\n      local!isDayLightSavingStartDate,\n      totime(ri!dateTime) >= time(2, 0, 0, 0),\n      totime(ri!dateTime) < time(3, 0, 0, 0)\n    ),\n    a!addDateTime(startDateTime: ri!dateTime, hours: 1),\n    ri!dateTime\n  )\n)"
    },
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_21367": {
      "name": "CMGT_EXT_returnOnlyTheActiveUsers",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!usernames),\n  null,\n  index(\n    ri!usernames,\n    where(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!usernames,\n        expression: user(fv!item, \"status\")\n      )\n    ),\n    null()\n  )\n)"
    },
    "_a-0000ec3d-b406-8000-9bb2-011c48011c48_330692": {
      "name": "CMGT_EXT_GetClearProcessCompletionPercentage",
      "type": "Expression Rule",
      "sail_code": "/*Percentage contribution by each process\nClearing of Tables - 25%\nDrop studio tables  - 50%\nFolder Deletion - 25%\n*/\na!localVariables(\n  /*Check if any cases exists with the ID's stored in demo CMGT_EXT_JSON_GENERATED_DEMO_IDS*/\n  local!caseDeletionCompletionPercentage: a!refreshVariable(\n    value: if(\n      rule!CMGT_UTIL_IsBlank(\n        rule!CMGT_QR_GetCase(\n          additionalFilters: #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_Case.caseTypeUuid,\n            operator: \"in\",\n            value: index(\n              index(\n                rule!CMGT_UTIL_Filter(\n                  records: #\"SYSTEM_SYSRULES_fromJson_v1\"(cons!CMGT_EXT_JSON_GENERATED_DEMO_IDS),\n                  field: \"datasetUuids\",\n                  value: ri!datasetUuids\n                ),\n                \"caseTypeIds\",\n                {}\n              ),\n              1,\n              {}\n            )\n          )\n        )[recordType!CMGT_Case.caseId]\n      ),\n      25,\n      0\n    ),\n    refreshOnVarChange: ri!triggerRefresh\n  ),\n  /*Check the completion of process CMGT_EXT_Deployment*/\n  local!studioObjectsPMCompletionPercentage: if(\n    rule!CMGT_UTIL_IsNotBlank(\n      rule!CMGT_UTIL_Filter(\n        records: ri!completedProcess,\n        fieldValuePairs: {\n          a!map(\n            field: \"processModelId\",\n            value: tointeger(\n              cons!CMGT_EXT_PM_CLEAR_ERROR_TRACKING_PROCESS[1]\n            )\n          )\n        }\n      )\n    ),\n    50,\n    0\n  ),\n  /*Check the completion of process CMGT_EXT_DeleteCaseFolders*/\n  local!folderDeletionPMCompletionPercentage: if(\n    rule!CMGT_UTIL_IsNotBlank(\n      rule!CMGT_UTIL_Filter(\n        records: ri!completedProcess,\n        fieldValuePairs: {\n          a!map(\n            field: \"processModelId\",\n            value: tointeger(\n              cons!CMGT_EXT_PM_CLEAR_ERROR_TRACKING_PROCESS[2]\n            )\n          )\n        }\n      )\n    ),\n    25,\n    0\n  ),\n  local!completionPercentage: sum(\n    local!caseDeletionCompletionPercentage,\n    local!studioObjectsPMCompletionPercentage,\n    local!folderDeletionPMCompletionPercentage,\n    \n  ),\n  local!completionPercentage\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_33778": {
      "name": "CMGT_UTIL_SetRecordFields",
      "type": "Expression Rule",
      "sail_code": "/*\nFuture enhancement ideas:\n1 Parameter to skip update if the field isn't present in the object\n--- This would also apply to nested fields, as in, don't set a relationship field if the entire relationship object isn't there because it will instantiate it\n2 Parameter to overwrite based on more enhanced logic\n3 Allow list types for the `value`\n4 Allow reuse to apply setting metadata for nested relationships, but using their own set metadata rule\n--- e.g. CMGT_Entity_SetMetaData can be used in both the Case process and the individual Entity process\n*/\nif(\n  a!isNullOrEmpty(ri!record),\n  ri!record,\n  a!localVariables(\n    local!allUpdates: rule!CMGT_UTIL_RejectBlank(a!flatten(\n      {\n        ri!alwaysOverwrite,\n        ri!childRelationships,\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!neverOverwrite,\n          expression: #\"urn:appian:function:v1:a:update\"(\n            fv!item,\n            \"value\",\n            /*Specifically using this instead of a!defaultValue() to account for the `{null}` value*/\n            if(\n              rule!CMGT_UTIL_IsBlank(ri!record[fv!item.field]),\n              fv!item.value,\n              ri!record[fv!item.field]\n            )\n          )\n        )\n      }\n    )),\n    local!onlyChangedUpdates: a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!allUpdates,\n        expression: if(\n          or(\n            tostring(ri!record[fv!item.field]) = tostring(fv!item.value),\n            toboolean(fv!item.applyWhen) = false\n          ),\n          {},\n          fv!item\n        )\n      )\n    ),\n    if(\n      a!isNullOrEmpty(local!onlyChangedUpdates),\n      ri!record,\n      #\"urn:appian:function:v1:a:update\"(\n        data: ri!record,\n        index: local!onlyChangedUpdates.field,\n        value: local!onlyChangedUpdates.value\n      )\n    )\n  )\n)"
    },
    "_a-0000e98b-cfe0-8000-9ba5-011c48011c48_19651": {
      "name": "CMGT_QR_GetCaseType",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_CFG_CaseType,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_CaseType.uuid,\n      operator: \"in\",\n      value: ri!caseTypeUuid\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_CaseType.isCategory,\n      operator: \"=\",\n      value: ri!isCaseCategory\n    )\n  },\n  fields: {\n    ri!fields,\n    if(\n      ri!excludeRelatedRecords,\n      {},\n      recordType!CMGT_CFG_CaseType.parentCaseType\n    )\n  },\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  logicalExpressions: {\n    ri!additionalLogicalExpression,\n    rule!CMGT_CaseTypeActiveLogicalExpression(includeInactive: ri!includeInactive)\n  },\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ec06-54a3-8000-9cca-011c48011c48_2514351": {
      "name": "CMGT_EXT_UTIL_RandomXMembersFromGroup",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!memberType: a!defaultValue(value: ri!memberType, default: \"USER\"),\n  local!includeServiceAccounts: a!defaultValue(\n    value: ri!includeServiceAccounts,\n    default: false()\n  ),\n  local!includeAllMembers: a!defaultValue(\n    value: ri!includeAllMembers,\n    default: false()\n  ),\n  /* Getting all service accounts */\n  local!serviceAccounts: if(\n    and(\n      local!includeServiceAccounts,\n      local!memberType = \"USER\"\n    ),\n    a!groupMembers(group: cons!CMGT_GRP_SERVICE_ACCOUNTS).data,\n    {}\n  ),\n  local!allGroupMembers: a!groupMembers(\n    group: ri!group,\n    direct: false,\n    memberType: local!memberType,\n    pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(startIndex: 1, batchSize: 10000)\n  ).data,\n  rule!CMGT_EXT_UTIL_RandomXObjectsFromArray(\n    array: if(\n      or(\n        local!includeAllMembers,\n        local!memberType = \"GROUP\"\n      ),\n      difference(\n        touser(local!allGroupMembers),\n        ri!excludeUsers\n      ),\n      /* By default returns only demo specific users from the given group */\n      difference(\n        intersection(\n          touser(local!allGroupMembers),\n          touser(\n            {\n              cons!CMGT_EXT_MALE_USERNAMES,\n              cons!CMGT_EXT_FEMALE_USERNAMES,\n              local!serviceAccounts\n            }\n          )\n        ),\n        ri!excludeUsers\n      )\n    ),\n    noOfObjects: ri!noOfMembers\n  )\n)"
    },
    "_a-0000ec18-c90d-8000-9baa-011c48011c48_25491": {
      "name": "CMGT_EXT_GetLoadProcessCompletionPercentage",
      "type": "Expression Rule",
      "sail_code": "/*Percentage contribution by each process\nCreate Users - 10%\nStudio Objects Deployment - 10%\nConfiguration process - 20%\nCase Creation - 50%\nRelated Cases process - 10%\n*/\na!localVariables(\n  /*Check the completion of process CMGT_EXT_GenerateDemoUsers*/\n  local!userCreationPMCompletionPercentage: if(\n    rule!CMGT_UTIL_IsNotBlank(\n      rule!CMGT_UTIL_Filter(\n        records: ri!completedProcess,\n        fieldValuePairs: {\n          a!map(\n            field: \"processModelId\",\n            value: tointeger(\n              cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS[9]\n            )\n          )\n        }\n      )\n    ),\n    10,\n    0\n  ),\n  /*Check the completion of process CMGT_EXT_Deployment*/\n  local!studioObjectsPMCompletionPercentage: if(\n    rule!CMGT_UTIL_IsNotBlank(\n      rule!CMGT_UTIL_Filter(\n        records: ri!completedProcess,\n        fieldValuePairs: {\n          a!map(\n            field: \"processModelId\",\n            value: tointeger(\n              cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS[10]\n            )\n          )\n        }\n      )\n    ),\n    10,\n    0\n  ),\n  /*Check the completion of process CMGT_EXT_Write_Configuration_Data*/\n  local!configurationPMCompletionPercentage: if(\n    rule!CMGT_UTIL_IsNotBlank(\n      rule!CMGT_UTIL_Filter(\n        records: ri!completedProcess,\n        fieldValuePairs: {\n          a!map(\n            field: \"processModelId\",\n            value: tointeger(\n              cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS[1]\n            )\n          )\n        }\n      )\n    ),\n    20,\n    0\n  ),\n  /*Check the completion of process CMGT_EXT_Create_Case and CMGT_EXT_Task_Update.\n  It is sufficient to check the statsues of these 2 process where other PMs are called as the sync subprocess\n  in the above PMs*/\n  local!caseCreationProcess: rule!CMGT_UTIL_Filter(\n    records: ri!completedProcess,\n    fieldValuePairs: {\n      a!map(\n        field: \"processModelId\",\n        value: tointeger(\n          cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS[2]\n        )\n      ),\n      a!map(\n        field: \"processModelId\",\n        value: tointeger(\n          cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS[6]\n        )\n      )\n    },\n    matchingCriteria: \"ANY\"\n  ),\n  local!createdCasesIds: rule!CMGT_UTIL_RejectBlank(\n    array: #\"SYSTEM_SYSRULES_forEach\"(\n      items: rule!CMGT_UTIL_Distinct(\n        value: index(\n          local!caseCreationProcess,\n          \"caseId\",\n          null\n        )\n      ),\n      expression: if(\n        length(\n          rule!CMGT_UTIL_Filter(\n            records: local!caseCreationProcess,\n            field: \"caseId\",\n            value: fv!item\n          )\n        ) = 2,\n        /*Since we have only 2 process related to case creation*/\n        fv!item,\n        null\n      )\n    )\n  ),\n  /*Here we are taking the percentage of no of cases completed for 100% then we\n  are converting the value to 50%*/\n  local!caseCreationPMCompletionPercentage: (\n    (\n      (\n        length(local!createdCasesIds) / length(\n          a!match(\n            value: ri!datasetUuids,\n            equals: cons!CMGT_EXT_TXT_GENERATED_CASE_CATEGORY_UUIDS[2],\n            then: rule!CMGT_EXT_DATA_FraudulentTransactions_Case(),\n            equals:cons!CMGT_EXT_TXT_GENERATED_CASE_CATEGORY_UUIDS[1],\n            then: rule!CMGT_EXT_DATA_ResidentialPermit_Case(),\n            default: a!flatten(\n              {\n                rule!CMGT_EXT_DATA_FraudulentTransactions_Case(),\n                rule!CMGT_EXT_DATA_ResidentialPermit_Case()\n              }\n            )\n          )\n        )\n      ) * 100\n    ) * 50\n  ) / 100,\n  /*Check the completion of process CMGT_EXT_RelatedCaseMap_Create */\n  local!relatedCasesPMCompletionPercentage: if(\n    rule!CMGT_UTIL_IsNotBlank(\n      rule!CMGT_UTIL_Filter(\n        records: ri!completedProcess,\n        fieldValuePairs: {\n          a!map(\n            field: \"processModelId\",\n            value: tointeger(\n              cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS[4]\n            )\n          )\n        }\n      )\n    ),\n    10,\n    0\n  ),\n  local!completionPercentage: sum(\n    local!userCreationPMCompletionPercentage,\n    local!studioObjectsPMCompletionPercentage,\n    local!configurationPMCompletionPercentage,\n    local!caseCreationPMCompletionPercentage,\n    local!relatedCasesPMCompletionPercentage\n  ),\n  local!completionPercentage\n)"
    },
    "_a-0000ee30-0c37-8000-9d90-011c48011c48_4466676": {
      "name": "CMGT_EXT_GenerateCaseAutomationRulesLogic",
      "type": "Expression Rule",
      "sail_code": "a!flatten(\n  #\"SYSTEM_SYSRULES_forEach\"(\n    ri!caseTypeWorkflowTemplateTaskMap,\n    a!localVariables(\n      local!caseType: rule!CMGT_QR_GetCaseType(\n        returnType: \"OBJECT_ARRAY\",\n        caseTypeUuid: fv!item.caseTypeUuid\n      ),\n      local!automationRules: fv!item.caseTypeAutomationRules,\n      #\"SYSTEM_SYSRULES_forEach\"(\n        local!automationRules,\n        a!localVariables(\n          local!currentAutomationRule: fv!item,\n          recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask(\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeUuid: local!caseType[recordType!CMGT_CFG_CaseType.uuid],\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.createdBy: local!caseType[recordType!CMGT_CFG_CaseType.createdBy],\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.createdOn: local!caseType[recordType!CMGT_CFG_CaseType.createdOn],\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.modifedBy: local!caseType[recordType!CMGT_CFG_CaseType.modifiedBy],\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.modifiedOn: local!caseType[recordType!CMGT_CFG_CaseType.modifiedOn],\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder: fv!index,\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskIntentionCode: cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_TRIGGER,\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isDeleted: false,\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid: local!currentAutomationRule.caseTypeWorkflowTaskUuid,\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive: true,\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.triggerId: local!currentAutomationRule.triggerId,\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction: {\n              recordType!CMGT_WFL_CFG_TaskActions(\n                recordType!CMGT_WFL_CFG_TaskActions.caseTypeWorkflowTaskUuid: local!currentAutomationRule.caseTypeWorkflowTaskUuid,\n                recordType!CMGT_WFL_CFG_TaskActions.taskActionUuid: local!currentAutomationRule.taskActionUuid,\n                recordType!CMGT_WFL_CFG_TaskActions.actionCode: local!currentAutomationRule.actionCode,\n                recordType!CMGT_WFL_CFG_TaskActions.isActive: true,\n                recordType!CMGT_WFL_CFG_TaskActions.createdBy: local!caseType[recordType!CMGT_CFG_CaseType.createdBy],\n                recordType!CMGT_WFL_CFG_TaskActions.createdOn: local!caseType[recordType!CMGT_CFG_CaseType.createdOn],\n                recordType!CMGT_WFL_CFG_TaskActions.modifedBy: local!caseType[recordType!CMGT_CFG_CaseType.modifiedBy],\n                recordType!CMGT_WFL_CFG_TaskActions.modifiedOn: local!caseType[recordType!CMGT_CFG_CaseType.modifiedOn],\n                recordType!CMGT_WFL_CFG_TaskActions.associatedAssignmentRule: {\n                  recordType!CMGT_CFG_AssignmentRules(\n                    recordType!CMGT_CFG_AssignmentRules.taskActionUuid: local!currentAutomationRule.taskActionUuid,\n                    recordType!CMGT_CFG_AssignmentRules.routingType: local!currentAutomationRule.routingType,\n                    recordType!CMGT_CFG_AssignmentRules.assignmentVersion: 1,\n                    recordType!CMGT_CFG_AssignmentRules.assigneeType: local!currentAutomationRule.assigneeType,\n                    recordType!CMGT_CFG_AssignmentRules.isActive: true,\n                    recordType!CMGT_CFG_AssignmentRules.createdBy: local!caseType[recordType!CMGT_CFG_CaseType.createdBy],\n                    recordType!CMGT_CFG_AssignmentRules.createdOn: local!caseType[recordType!CMGT_CFG_CaseType.createdOn],\n                    recordType!CMGT_CFG_AssignmentRules.modifedBy: local!caseType[recordType!CMGT_CFG_CaseType.modifiedBy],\n                    recordType!CMGT_CFG_AssignmentRules.modifiedOn: local!caseType[recordType!CMGT_CFG_CaseType.modifiedOn],\n                    recordType!CMGT_CFG_AssignmentRules.assignmentJson: local!currentAutomationRule.assignmentJson,\n                    \n                  )\n                }\n              )\n            },\n            recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet: {\n              if(\n                rule!CMGT_UTIL_IsBlank(\n                  local!currentAutomationRule.conditionSets\n                ),\n                recordType!CMGT_CFG_ConditionSet(),\n                /*parent condition set*/\n                recordType!CMGT_CFG_ConditionSet(\n                  recordType!CMGT_CFG_ConditionSet.conditionSetUuid: local!currentAutomationRule.conditionSets.parentConditionSetUuid,\n                  recordType!CMGT_CFG_ConditionSet.caseTypeWorkflowTaskUuid: local!currentAutomationRule.caseTypeWorkflowTaskUuid,\n                  recordType!CMGT_CFG_ConditionSet.operatorCode: \"OR\",\n                  recordType!CMGT_CFG_ConditionSet.isActive: true,\n                  recordType!CMGT_CFG_ConditionSet.isValid: true,\n                  recordType!CMGT_CFG_ConditionSet.createdBy: local!caseType[recordType!CMGT_CFG_CaseType.createdBy],\n                  recordType!CMGT_CFG_ConditionSet.createdOn: local!caseType[recordType!CMGT_CFG_CaseType.createdOn],\n                  recordType!CMGT_CFG_ConditionSet.modifiedBy: local!caseType[recordType!CMGT_CFG_CaseType.modifiedBy],\n                  recordType!CMGT_CFG_ConditionSet.modifiedOn: local!caseType[recordType!CMGT_CFG_CaseType.modifiedOn],\n                  recordType!CMGT_CFG_ConditionSet.childConditionSet: {\n                    /*child condition set*/\n                    recordType!CMGT_CFG_ConditionSet(\n                      recordType!CMGT_CFG_ConditionSet.conditionSetUuid: local!currentAutomationRule.conditionSets.conditionSetUuid,\n                      recordType!CMGT_CFG_ConditionSet.parentConditionSetUuid: local!currentAutomationRule.conditionSets.parentConditionSetUuid,\n                      recordType!CMGT_CFG_ConditionSet.operatorCode: \"AND\",\n                      recordType!CMGT_CFG_ConditionSet.isActive: true,\n                      recordType!CMGT_CFG_ConditionSet.isValid: true,\n                      recordType!CMGT_CFG_ConditionSet.createdBy: local!caseType[recordType!CMGT_CFG_CaseType.createdBy],\n                      recordType!CMGT_CFG_ConditionSet.createdOn: local!caseType[recordType!CMGT_CFG_CaseType.createdOn],\n                      recordType!CMGT_CFG_ConditionSet.modifiedBy: local!caseType[recordType!CMGT_CFG_CaseType.modifiedBy],\n                      recordType!CMGT_CFG_ConditionSet.modifiedOn: local!caseType[recordType!CMGT_CFG_CaseType.modifiedOn],\n                      recordType!CMGT_CFG_ConditionSet.condition: {\n                        #\"SYSTEM_SYSRULES_forEach\"(\n                          local!currentAutomationRule.conditionSets.conditions,\n                          recordType!CMGT_CFG_Condition(\n                            recordType!CMGT_CFG_Condition.conditionSetUuid: local!currentAutomationRule.conditionSets.conditionSetUuid,\n                            recordType!CMGT_CFG_Condition.evaluationType: \"FIELD_VALUE\",\n                            recordType!CMGT_CFG_Condition.fieldPathJson: fv!item.fieldPathJson,\n                            recordType!CMGT_CFG_Condition.operator: fv!item.operator,\n                            recordType!CMGT_CFG_Condition.valueJson: fv!item.valueJson,\n                            recordType!CMGT_CFG_Condition.valueType: fv!item.valueType,\n                            recordType!CMGT_CFG_Condition.isActive: true,\n                            recordType!CMGT_CFG_Condition.isValid: true,\n                            recordType!CMGT_CFG_Condition.createdBy: local!caseType[recordType!CMGT_CFG_CaseType.createdBy],\n                            recordType!CMGT_CFG_Condition.createdOn: local!caseType[recordType!CMGT_CFG_CaseType.createdOn],\n                            recordType!CMGT_CFG_Condition.modifiedBy: local!caseType[recordType!CMGT_CFG_CaseType.modifiedBy],\n                            recordType!CMGT_CFG_Condition.modifiedOn: local!caseType[recordType!CMGT_CFG_CaseType.modifiedOn]\n                          )\n                        )\n                      }\n                    )\n                  }\n                )\n              )\n            }\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e98b-cfe0-8000-9ba5-011c48011c48_22352": {
      "name": "CMGT_UTIL_QueryRecord",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Chosen return type*/\n  local!returnType: a!defaultValue(ri!returnType, \"OBJECT_ARRAY\"),\n  /*Determine the query parameters to use by the return type*/\n  local!queryParams: a!match(\n    value: local!returnType,\n    equals: \"OBJECT_ARRAY\",\n    then: a!map(\n      castToType: if(\n        a!isNullOrEmpty(ri!groupByFields),\n        #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(ri!recordType),\n        'type!{http://www.appian.com/ae/types/2009}Map?list'\n      ),\n      fetchTotalCount: false,\n      isArray: true,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: a!defaultValue(\n          ri!pagingInfo.batchSize,\n          cons!CMGT_INT_BATCH_SIZE_MAX\n        ),\n        sort: { ri!pagingInfo.sort, ri!sort }\n      )\n    ),\n    equals: \"SINGLE_OBJECT\",\n    then: a!map(\n      castToType: if(\n        a!isNullOrEmpty(ri!groupByFields),\n        ri!recordType,\n        'type!{http://www.appian.com/ae/types/2009}Map'\n      ),\n      fetchTotalCount: false,\n      isArray: false,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: 1,\n        sort: { ri!pagingInfo.sort, ri!sort }\n      )\n    ),\n    equals: \"DATA_SUBSET\",\n    then: a!map(\n      castToType: 'type!{http://www.appian.com/ae/types/2009}DataSubset',\n      fetchTotalCount: true,\n      isArray: false,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: a!defaultValue(ri!pagingInfo.startIndex, 1),\n        batchSize: a!defaultValue(\n          ri!pagingInfo.batchSize,\n          cons!CMGT_INT_BATCH_SIZE_MAX\n        ),\n        sort: { ri!pagingInfo.sort, ri!sort }\n      )\n    ),\n    equals: \"TOTAL_COUNT\",\n    then: a!map(\n      castToType: 'type!{http://www.appian.com/ae/types/2009}Integer',\n      fetchTotalCount: true,\n      isArray: false,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(startIndex: 1, batchSize: 0)\n    ),\n    default: fn!error(\n      \"Invalid returnType, must be one of: OBJECT_ARRAY, SINGLE_OBJECT, DATA_SUBSET, TOTAL_COUNT\"\n    )\n  ),\n  if(\n    /*Early exit for skip execution*/\n    ri!executeWhen = false,\n    cast(\n      local!queryParams.castToType,\n      if(local!queryParams.isArray, {}, null)\n    ),\n    a!localVariables(\n      /*Run the query*/\n      local!queryResult: a!refreshVariable(\n        value: #\"SYSTEM_SYSRULES_queryRecordType_v2\"(\n          recordType: ri!recordType,\n          fields: if(\n            a!isNullOrEmpty(ri!groupByFields),\n            reject(\n              a!isNullOrEmpty,\n              a!flatten(\n                {\n                  ri!fields,\n                  index(ri!relatedRecordData, \"relationship\", {})\n                }\n              )\n            ),\n            #\"SYSTEM_SYSRULES_aggregationFields\"(\n              groupings: #\"SYSTEM_SYSRULES_forEach\"(\n                items: ri!groupByFields,\n                expression: #\"SYSTEM_SYSRULES_grouping\"(field: fv!item, alias: tostring(fv!item))\n              ),\n              measures: #\"SYSTEM_SYSRULES_measure\"(\n                field: ri!groupByFields[1],\n                function: \"COUNT\",\n                alias: \"count\"\n              )\n            )\n          ),\n          filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            ignoreFiltersWithEmptyValues: true,\n            logicalExpressions: {\n              ri!logicalExpressions,\n              if(\n                and(\n                  a!isNotNullOrEmpty(ri!searchFields),\n                  a!isNotNullOrEmpty(ri!searchTerm)\n                ),\n                #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                  operator: \"AND\",\n                  logicalExpressions: #\"SYSTEM_SYSRULES_forEach\"(\n                    items: split(trim(ri!searchTerm), \" \"),\n                    expression: a!localVariables(\n                      local!splitSearchTerm: fv!item,\n                      #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                        operator: \"OR\",\n                        filters: #\"SYSTEM_SYSRULES_forEach\"(\n                          items: ri!searchFields,\n                          expression: #\"SYSTEM_SYSRULES_queryFilter\"(\n                            field: fv!item,\n                            operator: \"includes\",\n                            value: local!splitSearchTerm\n                          )\n                        )\n                      )\n                    )\n                  )\n                ),\n                {}\n              )\n            },\n            filters: ri!filters\n          ),\n          pagingInfo: if(\n            a!isNullOrEmpty(ri!groupByFields),\n            local!queryParams.pagingInfo,\n            #\"urn:appian:function:v1:a:update\"(\n              local!queryParams.pagingInfo,\n              \"sort\",\n              null\n            )\n          ),\n          fetchTotalCount: local!queryParams.fetchTotalCount,\n          relatedRecordData: if(\n            a!isNullOrEmpty(ri!groupByFields),\n            ri!relatedRecordData,\n            {}\n          )\n        ),\n        refreshOnVarChange: ri!triggerRefresh,\n        refreshAfter: { \"RECORD_ACTION\" }\n      ),\n      /*Format the output*/\n      local!output: a!match(\n        value: local!returnType,\n        equals: \"OBJECT_ARRAY\",\n        then: cast(\n          local!queryParams.castToType,\n          local!queryResult.data\n        ),\n        equals: \"SINGLE_OBJECT\",\n        then: cast(\n          local!queryParams.castToType,\n          local!queryResult.data\n        ),\n        equals: \"DATA_SUBSET\",\n        then: cast(\n          local!queryParams.castToType,\n          local!queryResult\n        ),\n        equals: \"TOTAL_COUNT\",\n        then: local!queryResult.totalCount,\n        default: null\n      ),\n      local!output\n    )\n  )\n)"
    },
    "0002ec56-5a5c-8000-ff87-7f0000014e7a": {
      "name": "CMGT_EXT_DemoData_Load_DocumentMap",
      "type": "Process Model",
      "sail_code": "// Input: ?\n=pv!referenceDocumentMaps[tp!instanceindex].referenceDocument\n\n// Input: ?\n=cons!CMGT_EXT_FLD_TEMP_DOCUMENTS\n\n// Output: ?\n#\"urn:appian:function:v1:a:update\"(\n  pv!referenceDocumentMaps[tp!instanceindex],\n  \"document\",\n  ac!newDocument\n)\n\n// Output: ?\nrule!CMGT_EXT_initiateDocumentMaps(datasetUuids: pv!datasetUuids)"
    },
    "_a-0000ec06-54a3-8000-9cca-011c48011c48_2510021": {
      "name": "CMGT_EXT_DATA_CaseType",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!workflowMilestoneColorScheme: rule!CMGT_UTIL_LoadBrandingMap().WorkflowMilestoneColorScheme,\n  local!milestoneColors: split(local!workflowMilestoneColorScheme, \",\"),\n  local!residentialPermitCaseTypes: recordType!CMGT_CFG_CaseType(\n    recordType!CMGT_CFG_CaseType.name: \"Residential Permit (DEMO)\",\n    recordType!CMGT_CFG_CaseType.uuid: cons!CMGT_EXT_TXT_GENERATED_CASE_CATEGORY_UUIDS[1],\n    recordType!CMGT_CFG_CaseType.description: \"This case type focuses on managing and processing permit applications and approvals specifically related to residential properties, such as home construction, renovations, or additions.\",\n    recordType!CMGT_CFG_CaseType.icon: \"home\",\n    recordType!CMGT_CFG_CaseType.isCategory: true,\n    recordType!CMGT_CFG_CaseType.subCaseTypes: {\n      recordType!CMGT_CFG_CaseType(\n        recordType!CMGT_CFG_CaseType.name: \"Solar Permit (DEMO)\",\n        recordType!CMGT_CFG_CaseType.uuid: cons!CMGT_EXT_TXT_GENERATED_CASE_TYPE_UUIDS[1],\n        recordType!CMGT_CFG_CaseType.description: \"This case type focuses on managing and processing permit applications and approvals specifically related to solar energy installations, such as solar panel systems.\",\n        recordType!CMGT_CFG_CaseType.caseTypeMetadata:{\n         recordType!CMGT_CFG_CaseTypeMetadata( recordType!CMGT_CFG_CaseTypeMetadata.prefix: \"SOP\"),\n        },\n        recordType!CMGT_CFG_CaseType.icon: \"solar-panel\",\n        recordType!CMGT_CFG_CaseType.isCategory: false,\n        recordType!CMGT_CFG_CaseType.referenceMilestone: {\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Intake Review\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[1],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"ae683d8a-d40b-4ffb-af52-2e1625eaf1df\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"SME Review\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[2],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"696a4671-dad2-4670-be66-139e7c9096a0\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Payment\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[3],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"f774123a-2419-4a11-82ec-845ebeed018f\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Permit Issuance\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[4],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"16d93461-e7c7-454c-89fa-751825db4c10\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Inspections\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[5],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"fd4aa234-a3b7-4d4f-8c8f-f67699088ead\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Closure\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[6],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"5e11c3ef-5933-446a-8a9b-a6755e549f79\"\n          )\n        }\n      ),\n      recordType!CMGT_CFG_CaseType(\n        recordType!CMGT_CFG_CaseType.name: \"Addition Permit (DEMO)\",\n        recordType!CMGT_CFG_CaseType.uuid: cons!CMGT_EXT_TXT_GENERATED_CASE_TYPE_UUIDS[2],\n        recordType!CMGT_CFG_CaseType.description: \"This case type focuses on making significant changes to an existing structure, such as adding rooms or remodeling kitchens,bathrooms or parking\",\n        recordType!CMGT_CFG_CaseType.caseTypeMetadata:{\n          recordType!CMGT_CFG_CaseTypeMetadata( recordType!CMGT_CFG_CaseTypeMetadata.prefix: \"ADN\"),\n        },\n        recordType!CMGT_CFG_CaseType.icon: \"tools\",\n        recordType!CMGT_CFG_CaseType.isCategory: false,\n        recordType!CMGT_CFG_CaseType.referenceMilestone: {\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Intake Review\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[1],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"1c802cdc-82f4-4e19-8de2-7e5ad1d03709\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"SME Review\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[2],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"8057798f-3829-4d45-8161-893b44416640\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Payment\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[3],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"ed1c1d99-696f-495a-8fa2-b2c0327e1b74\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Permit Issuance\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[4],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"fc38dd97-fd07-422d-9aeb-74bb6bcc4810\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Inspections\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[5],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"6190fc30-c37a-4d7e-852d-474ff9133a4e\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Closure\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[6],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"5fe83e17-88ce-4ab2-b227-cfc15b6e0e05\"\n          )\n        }\n      )\n    }\n  ),\n  local!fraudulentTransactionsCaseType: recordType!CMGT_CFG_CaseType(\n    recordType!CMGT_CFG_CaseType.name: \"Fraudulent Transactions (DEMO)\",\n    recordType!CMGT_CFG_CaseType.uuid: cons!CMGT_EXT_TXT_GENERATED_CASE_CATEGORY_UUIDS[2],\n    recordType!CMGT_CFG_CaseType.description: \"This case type focusses on any unauthorised or illegal activity involving the use of payment systems typically for the purpose of obtaining money, goods, or services without proper consent or authorisation from the account holder.\",\n    recordType!CMGT_CFG_CaseType.icon: \"credit-card\",\n    recordType!CMGT_CFG_CaseType.isCategory: true,\n    recordType!CMGT_CFG_CaseType.subCaseTypes: {\n      recordType!CMGT_CFG_CaseType(\n        recordType!CMGT_CFG_CaseType.name: \"Credit Card Disputes (DEMO)\",\n        recordType!CMGT_CFG_CaseType.uuid: cons!CMGT_EXT_TXT_GENERATED_CASE_TYPE_UUIDS[3],\n        recordType!CMGT_CFG_CaseType.description: \"Credit card disputes are initiated by cardholders when they identify unauthorized charges, billing errors, or dissatisfaction with goods or services.\",\n        recordType!CMGT_CFG_CaseType.caseTypeMetadata:{\n          recordType!CMGT_CFG_CaseTypeMetadata( recordType!CMGT_CFG_CaseTypeMetadata.prefix: \"CCD\"),\n        },\n        recordType!CMGT_CFG_CaseType.icon: \"credit-card-solid\",\n        recordType!CMGT_CFG_CaseType.isCategory: false,\n        recordType!CMGT_CFG_CaseType.referenceMilestone: {\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Intake Review\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[1],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"6937ea73-3b8a-494b-b4ef-18a45c1862a9\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Issuer Processing\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[2],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"a47edc1d-4fa6-42cf-a982-6f48ce021468\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Issuer Decision\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[3],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"5fa6419f-5c32-42b7-8070-3dd91cab4c04\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Arbitrator Processing\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[4],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"18ccc205-a25d-43e5-ab56-6db782383cf9\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Arbitrator Decision\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[5],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"017dab9b-a60b-4377-a011-3b85fc36fe01\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Closure\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[6],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"2aeb984b-b036-4297-9a5b-2b1e7cf7591b\"\n          )\n        }\n      ),\n      recordType!CMGT_CFG_CaseType(\n        recordType!CMGT_CFG_CaseType.name: \"Automated Clearing House (DEMO)\",\n        recordType!CMGT_CFG_CaseType.uuid: cons!CMGT_EXT_TXT_GENERATED_CASE_TYPE_UUIDS[4],\n        recordType!CMGT_CFG_CaseType.description: \"Automated Clearing House refers to the disputes that can arise with ACH transactions. ACH transactions are electronic payments made through the ACH network, used for direct deposits, bill payments, and other financial transfers.\",\n        recordType!CMGT_CFG_CaseType.caseTypeMetadata:{\n          recordType!CMGT_CFG_CaseTypeMetadata( recordType!CMGT_CFG_CaseTypeMetadata.prefix: \"ACH\"),\n        },\n        recordType!CMGT_CFG_CaseType.icon: \"money\",\n        recordType!CMGT_CFG_CaseType.isCategory: false,\n        recordType!CMGT_CFG_CaseType.referenceMilestone: {\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Intake Review\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[1],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"eea5c551-839c-43ea-960c-50e537dbf430\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"ACH Processing\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[2],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"a481b76a-2775-431f-bbdf-021fae8c8307\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"ACH Decision\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[3],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"0aa4d105-062f-425a-b337-f0934a90b13a\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Closure\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[6],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"c5500af9-49cc-4b38-8ef8-159a014f5aac\"\n          )\n        }\n      )\n    }\n  ),\n  a!match(\n    value: ri!datasetUuids,\n    equals: cons!CMGT_EXT_TXT_GENERATED_CASE_CATEGORY_UUIDS[1],\n    then: local!residentialPermitCaseTypes,\n    equals:cons!CMGT_EXT_TXT_GENERATED_CASE_CATEGORY_UUIDS[2],\n    then: local!fraudulentTransactionsCaseType,\n    default: {\n      local!fraudulentTransactionsCaseType,\n      local!residentialPermitCaseTypes\n    }\n  )\n)"
    },
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_17202": {
      "name": "CMGT_EXT_Case_CreatedOnTimeStamps",
      "type": "Expression Rule",
      "sail_code": "{\n  /*4 Cases will be generated in last 1 months so that we can get current months in due date*/\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: enumerate(4),\n    expression: rule!CMGT_EXT_AdjustDateTimeForDayLightSaving(\n      dateTime: rule!CMGT_EXT_UTIL_RandomDateTime(\n        fromDate: a!subtractDateTime(startDateTime: now(),days: 30),\n        toDate:a!subtractDateTime(startDateTime: now(), days: 20)\n      )\n    )\n  )\n  \n}"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_24901": {
      "name": "CMGT_QR_GetRelationshipMapType",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_CFG_RelationshipMapType,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_RelationshipMapType.relationshipMapTypeId,\n      operator: \"in\",\n      value: ri!relatedRelationshipTypeId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_RelationshipMapType.parentEntityCategoryId,\n      operator: \"=\",\n      value: ri!parentEntityTypeId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_RelationshipMapType.type,\n      operator: \"=\",\n      value: ri!type\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_RelationshipMapType.isActive,\n      operator: \"=\",\n      value: ri!isActive\n    )\n  },\n  fields: {\n    ri!fields,\n    if(\n      ri!excludeRelatedRecords,\n      {},\n      {\n        recordType!CMGT_CFG_RelationshipMapType.relatedRelationshipMapType,\n        recordType!CMGT_CFG_RelationshipMapType.relatedRelationshipMapType\n      }\n    ),\n    recordType!CMGT_CFG_RelationshipMapType.relationship\n  },\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  relatedRecordData: ri!relatedRecordData,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ea1d-36f5-8000-9bef-011c48011c48_538451": {
      "name": "CMGT_UTIL_GenerateUuid_NonPlugin",
      "type": "Expression Rule",
      "sail_code": "/*Reference:\nhttps://community.appian.com/w/the-appian-playbook/846/generating-uuids-guids*/\nfn!lower(\n  concat(\n    {\n      dec2hex(tointeger(rand(4) * 256), 2),\n      /*8 hex digits*/\n      \"-\",\n      dec2hex(tointeger(rand(2) * 256), 2),\n      /*4 hex digits*/\n      \"-4\",\n      /*version 4 = completely random*/\n      dec2hex(rand(3) * 256, 1),\n      /*3 hex digits*/\n      \"-\",\n      bin2hex(\"10\" & dec2bin(rand(1) * 4, 2), 1),\n      /*1 hex digit = Variant: 1st 2 bits=10=[ISO/IEC] + 2 rand bits*/\n      dec2hex(rand(3) * 256, 1),\n      /*3 hex digits*/\n      \"-\",\n      dec2hex(tointeger(rand(6) * 256), 2),\n      /*12 hex digits*/\n      \n    }\n  )\n)"
    },
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_21360": {
      "name": "CMGT_EXT_ReturnUserGroupMap",
      "type": "Expression Rule",
      "sail_code": "/*For all the business groups add either case manager users or case worker users.So the cases and tasks will be\nassigned to only those maximum data user of that group*/\na!localVariables(\n  local!caseManagers: rule!CMGT_EXT_returnOnlyTheActiveUsers(\n    usernames: cons!CMGT_EXT_CASE_MANAGERS_DATA_USERS\n  ),\n  local!caseWorkers: rule!CMGT_EXT_returnOnlyTheActiveUsers(\n    usernames: cons!CMGT_EXT_CASE_WORKERS_DATA_USERS\n  ),\n  {\n    a!map(\n      group: cons!CMGT_GRP_CASE_MANAGERS,\n      activeUsers: local!caseManagers\n    ),\n    a!map(\n      group: cons!CMGT_GRP_CASE_WORKERS,\n      activeUsers: local!caseWorkers\n    ),\n    a!map(\n      group: cons!CMGT_EXT_GRP_ANALYSTS,\n      activeUsers: local!caseWorkers\n    ),\n    a!map(\n      group: cons!CMGT_EXT_GRP_PLANNING_BOARD,\n      activeUsers: local!caseManagers\n    ),\n    a!map(\n      group: cons!CMGT_EXT_GRP_ENVIRONMENTAL_REVIEWERS,\n      activeUsers: local!caseWorkers\n    ),\n    a!map(\n      group: cons!CMGT_EXT_GRP_ELECTRICAL_REVIEWERS,\n      activeUsers: local!caseWorkers\n    ),\n    a!map(\n      group: cons!CMGT_EXT_GRP_BUILDING_REVIEWERS,\n      activeUsers: local!caseWorkers\n    ),\n    a!map(\n      group: cons!CMGT_EXT_GRP_FINANCE_AND_BILLING,\n      activeUsers: local!caseManagers\n    ),\n    a!map(\n      group: cons!CMGT_EXT_GRP_INSPECTORS,\n      activeUsers: local!caseManagers\n    ),\n    a!map(\n      group: cons!CMGT_EXT_GRP_LEGAL_ADVISORS,\n      activeUsers: local!caseWorkers\n    ),\n    a!map(\n      group: cons!CMGT_EXT_GRP_ACH_OPERATORS,\n      activeUsers: local!caseWorkers\n    ),\n    a!map(\n      group:cons!CMGT_EXT_GRP_DISPUTE_OPERATORS,\n      activeUsers:local!caseWorkers\n    ),\n    a!map(\n      group:cons!CMGT_EXT_GRP_CUSTOMER_SERVICE,\n      activeUsers:local!caseWorkers\n    ),\n    a!map(\n      group:cons!CMGT_EXT_GRP_CUSTOMER_RESOLUTION,\n      activeUsers:local!caseManagers\n    ),\n    a!map(\n      group:cons!CMGT_EXT_GRP_COMPLIANCE_AND_RISK,\n      activeUsers:local!caseManagers\n    ),\n    a!map(\n      group:cons!CMGT_EXT_GRP_PERMIT_SERVICE_DEPARTMENT,\n      activeUsers:local!caseManagers\n    )\n  }\n)"
    },
    "_a-0000ec50-281e-8000-9bb6-011c48011c48_945123": {
      "name": "CMGT_EXT_initiateDocumentMaps",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!folderDocumentMaps: rule!CMGT_EXT_GetDocumentsFromFolder(\n    rootFolder: cons!CMGT_EXT_FLD_REFERENCE_DOCUMENTS,\n    recursiveSearch: false()\n  ),\n  local!documentsRule: index(\n    rule!CMGT_EXT_UTIL_ReturnDatsetDetailsByDatasetName(datasetUuids: ri!datasetUuids),\n    \"documentRule\",\n    null\n  ),\n  local!documents: a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(local!documentsRule, fv!item())\n  ),\n  local!documentMaps: if(\n    rule!CMGT_UTIL_IsBlank(local!documentsRule),\n    null,\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!documents,\n      expression: #\"urn:appian:function:v1:a:update\"(\n        fv!item,\n        \"referenceDocument\",\n        displayvalue(\n          fv!item.referenceName,\n          local!folderDocumentMaps.name,\n          local!folderDocumentMaps.document,\n          todocument(null)\n        )\n      )\n    )\n  ),\n  /*Reject items that do not have corresponding documents  */\n  rule!CMGT_UTIL_Filter(\n    records: local!documentMaps,\n    field: \"referenceDocument\",\n    value: todocument(null),\n    filterType: \"REJECT\"\n  )\n)"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_568087": {
      "name": "CMGT_WFL_QR_GetReferenceTask",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_WFL_CFG_ReferenceTask,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_ReferenceTask.referenceTaskId,\n      operator: \"in\",\n      value: ri!referenceTaskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_ReferenceTask.isActive,\n      operator: \"=\",\n      value: true,\n      applyWhen: ri!includeInactive <> true\n    )\n  },\n  fields: {\n    ri!fields,\n    recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType,\n    recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions,\n    recordType!CMGT_WFL_CFG_ReferenceTask.createCaseReferenceTask,\n    recordType!CMGT_WFL_CFG_ReferenceTask.sendEmailReferenceTask\n  },\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "0009ec12-eae5-8000-fa5d-7f0000014e7a": {
      "name": "CMGT_EXT_Case_Maker",
      "type": "Process Model",
      "sail_code": "// Output: ?\na!defaultValue(\n  pv!index,\n  0\n) + 1\n\n// Input: ?\n= { case: rule!CMGT_EXT_Case_GenerateCaseDetails( caseData: index(pv!caseDetails, pv!index, null()), documentMaps: pv!documentMaps, timestamp: index( rule!CMGT_EXT_Case_CreatedOnTimeStamps(), pv!index, null ) ), parentProcessId: pv!parentProcessId, datasetUuids: pv!datasetUuids}"
    },
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_16227": {
      "name": "CMGT_EXT_DATA_ResidentialPermit_Case",
      "type": "Expression Rule",
      "sail_code": "/*Execute all the testcases before saving*/\n/*The below is the structure definition of the map used in this rule*/\n/*a!map(\ntitle:Defines title of the case,\ndescription:Defines description of the case\nmapping the other values here so that the case looks same everytime it is created\n */\n{\n  /*Residential Permits*/\n  /* Solar Permit*/\n  a!map(\n    title: \"Commercial Solar Farm Approval\",\n    description: \"A company proposes a large-scale solar farm to power its operations and contribute excess energy to the grid. The case involves securing permits for land use, environmental impact assessments, and addressing concerns related to visual impact and wildlife preservation.\",\n    caseType: \"Solar Permit (DEMO)\",\n    status: cons!CMGT_REFID_STATUS_CASE_OPEN,\n    relatedCases: { \"Solar Expansion in Residential Areas\" }\n  ),\n  a!map(\n    title: \"Solar Expansion in Residential Areas\",\n    description: \"A residential community seeks permits to expand their solar panel installations. The case involves addressing zoning regulations, ensuring aesthetic compatibility, and addressing concerns from neighbors regarding the impact on property values.\",\n    caseType: \"Solar Permit (DEMO)\",\n    status: cons!CMGT_REFID_STATUS_CASE_IN_PROGRESS,\n    relatedCases: { \"Commercial Solar Farm Approval\" }\n  ),\n  /* Addition Permit */\n  a!map(\n    title: \"Urban Oasis Residence\",\n    description: \"A homeowner is applying for a residential permit to make enhancements to their property in an urban setting. The proposed changes involve landscaping, interior renovations, and the addition of a home office space. The project aims to create a comfortable and functional urban oasis without incorporating solar panels or a pool.\",\n    caseType: \"Addition Permit (DEMO)\",\n    status: cons!CMGT_REFID_STATUS_CASE_OPEN,\n    relatedCases: { \"Downtown Retreat Renovation\",  }\n  ),\n  a!map(\n    title: \"Downtown Retreat Renovation\",\n    description: \"A property owner is seeking approval for a residential permit to upgrade their downtown residence. The planned improvements include landscaping modifications, interior redesign, and the establishment of a dedicated home workspace. The objective is to transform the space into a tranquil and efficient downtown retreat, with no plans for solar panels or a swimming pool.\",\n    caseType: \"Addition Permit (DEMO)\",\n    status: cons!CMGT_REFID_STATUS_CASE_IN_PROGRESS,\n    relatedCases: { \"Urban Oasis Residence\",  }\n  ),\n  \n}"
    },
    "_a-0000ec34-7771-8000-9bb0-011c48011c48_156263": {
      "name": "CMGT_EXT_DATA_ConfirmationScreenLabels",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!dataSetDetails: rule!CMGT_EXT_UTIL_ReturnDatsetDetailsByDatasetName(datasetUuids: ri!dataSetUuids),\n  local!dataSetCaseType: rule!CMGT_EXT_DATA_CaseType(datasetUuids: ri!dataSetUuids),\n  local!properties: a!match(\n    value: ri!actionCode,\n    equals: cons!CMGT_EXT_PROCESS_ACTION_LOAD,\n    then: a!map(\n      title: #\"urn:appian:translation-string:v1:73b09516-a65f-49f2-9efd-4ec42db6f373\",\n      instruction: #\"urn:appian:translation-string:v1:b389d6bb-9813-4cca-82b3-677f1af010c1\",\n      buttonLabel: #\"urn:appian:translation-string:v1:776f1146-ae37-452d-80ba-42eda43720ac\",\n      metricRule: rule!CMGT_EXT_MTR_LoadDemoDataPack\n    ),\n    equals: cons!CMGT_EXT_PROCESS_ACTION_RESET,\n    then: a!map(\n      title: #\"urn:appian:translation-string:v1:cb0b5bcd-93bf-4735-a02a-dc64eec76730\",\n      instruction: #\"urn:appian:translation-string:v1:1364afe7-e828-4e61-8567-c447c623c491\",\n      buttonLabel: #\"urn:appian:translation-string:v1:63f45a36-821c-4b24-8d62-dfe736a958e7\",\n      metricRule: rule!CMGT_EXT_MTR_ResetDemoDataPack\n    ),\n    equals: cons!CMGT_EXT_PROCESS_ACTION_CLEAR,\n    then: a!map(\n      title: #\"urn:appian:translation-string:v1:5ece108b-56bb-446c-adf4-1c7c15eb5328\",\n      instruction: #\"urn:appian:translation-string:v1:beaf71f4-f9a7-445a-86b1-92c3abce9871\",\n      buttonLabel: #\"urn:appian:translation-string:v1:eb02e621-9200-494e-97b7-6388215b3f26\",\n      metricRule: rule!CMGT_EXT_MTR_ClearDemoDataPack\n    ),\n    equals: cons!CMGT_EXT_PROCESS_ACTION_RETRY_LOAD,\n    then: a!map(\n      title: #\"urn:appian:translation-string:v1:32649a0f-bf79-40d3-893f-3655e24acbab\",\n      instruction: #\"urn:appian:translation-string:v1:dc5de49f-228a-41fc-8fa8-4eb3f016454f\",\n      buttonLabel:#\"urn:appian:translation-string:v1:00b95cd7-9b99-4869-98ce-b40f9e655eb6\",\n      metricRule: rule!CMGT_EXT_MTR_ResetDemoDataPack\n    ),\n    default: {}\n  ),\n  local!categoryCount: count(\n    local!dataSetCaseType[recordType!CMGT_CFG_CaseType.name]\n  ),\n  local!caseTypeCount: count(\n    a!flatten(local!dataSetCaseType[recordType!CMGT_CFG_CaseType.subCaseTypes.name])\n  ),\n  local!configuredCasesCount: if(\n    rule!CMGT_UTIL_IsBlank(local!dataSetDetails.caseRule),\n    0,\n   count(a!flatten(#\"SYSTEM_SYSRULES_forEach\"(local!dataSetDetails, fv!item.caseRule())))\n  ),\n  local!taskCount: if(\n    rule!CMGT_UTIL_IsBlank(local!dataSetDetails.referenceTaskRule),\n    0,\n    count(a!flatten(#\"SYSTEM_SYSRULES_forEach\"(local!dataSetDetails, fv!item.referenceTaskRule())))\n  ),\n  local!taskBlockCount: if(\n    rule!CMGT_UTIL_IsBlank(local!dataSetDetails.taskBlockRule),\n    0,\n    count(a!flatten(#\"SYSTEM_SYSRULES_forEach\"(local!dataSetDetails, fv!item.taskBlockRule())))\n  ),\n  local!automationRuleCount: if(\n    rule!CMGT_UTIL_IsBlank(local!dataSetDetails.automationRule),\n    0,\n    count(a!flatten(#\"SYSTEM_SYSRULES_forEach\"(local!dataSetDetails, fv!item.automationRule()).caseTypeAutomationRules))\n  ),\n  local!doTestUsersExist: rule!CMGT_UTIL_IsBlank(\n    value: rule!CMGT_EXT_filterExistingUsers(\n      usernames: cons!CMGT_EXT_MAXIMUM_DATA_USERS\n    )\n  ),\n  local!userAccountCount: count(cons!CMGT_EXT_MAXIMUM_DATA_USERS),\n  local!contentDataMaps: \n    {\n      /*categories*/\n      a!map(\n        count: local!categoryCount,\n        label: if(\n          local!categoryCount = 1,\n          #\"urn:appian:translation-string:v1:f7aa6b62-4fa1-46db-9f42-f317fc763bc3\",\n          #\"urn:appian:translation-string:v1:296a8cce-fa50-4cc3-afc8-4c3bbbed90f2\"\n        ),\n        data:  joinarray(\n          local!dataSetCaseType[recordType!CMGT_CFG_CaseType.name],\n          \", \"\n        )\n      ),\n      /*caseTypes*/\n      a!map(\n        count: local!caseTypeCount,\n        label: if(\n          local!caseTypeCount = 1,\n          #\"urn:appian:translation-string:v1:fee97b26-e6f3-46bd-a889-a587eb93467d\",\n          #\"urn:appian:translation-string:v1:de07b6bb-ac90-416d-ad60-1092f6a3aa24\"\n        ),\n        data: joinarray(\n          local!dataSetCaseType[recordType!CMGT_CFG_CaseType.subCaseTypes.name],\n          \", \"\n        )\n      ),\n      /*automation rules*/\n      a!map(\n        count: local!automationRuleCount,\n        label: if(\n          local!automationRuleCount = 1,\n          #\"urn:appian:translation-string:v1:7d94a90c-cf4a-413c-9b5d-20a5179df122\",\n          #\"urn:appian:translation-string:v1:27bffe9c-2aae-4668-9e15-d6dd289a5caa\"\n        ),\n        data: \" \"\n      ),\n      /*configuredCases*/\n      a!map(\n        count: local!configuredCasesCount,\n        label: if(\n          local!configuredCasesCount = 1,\n          #\"urn:appian:translation-string:v1:6875dd61-3b5e-4bbc-9692-c94ac9a69bfc\",\n          #\"urn:appian:translation-string:v1:292eba95-18f5-4f56-83c1-a4270e499fde\"\n        ),\n        data: \"\"\n      ),\n      /*tasks*/\n      a!map(\n        count: local!taskCount,\n        label: if(\n          local!taskCount = 1,\n          #\"urn:appian:translation-string:v1:a92c5f1d-a9b1-43c8-8c7e-6de6e1405f5f\",\n          #\"urn:appian:translation-string:v1:c12047f3-89b3-4495-8949-33d3fcfd160c\"\n        ),\n        data: \"\"\n      ),\n      /*taskBlocks*/\n      a!map(\n        count: local!taskBlockCount,\n        label: if(\n          local!taskBlockCount = 1,\n          #\"urn:appian:translation-string:v1:4e9dff56-f40f-4287-b51a-9afb08f28d33\",\n          #\"urn:appian:translation-string:v1:f0a9fd0f-69b4-43af-9328-429b65e775ef\"\n        ),\n        data: \"\"\n      ),\n      if(\n        not(local!doTestUsersExist),\n        /*testUsers*/\n        a!map(\n          count: local!userAccountCount,\n          label: if(\n            local!userAccountCount = 1,\n            #\"urn:appian:translation-string:v1:162197f7-564f-4a45-b042-1d4581b3aec8\",\n            #\"urn:appian:translation-string:v1:bae8080b-8467-4c99-a60a-8408662b2326\"\n          ),\n          data: #\"urn:appian:translation-string:v1:a53c57cf-41d1-4483-9fb5-8589fa49787a\",\n          \n        ),\n        {}\n      )\n    },\n  #\"urn:appian:function:v1:a:update\"(\n    local!properties,\n    \"contents\",\n    local!contentDataMaps\n  )\n)"
    },
    "_a-0000ec34-7771-8000-9bb0-011c48011c48_101679": {
      "name": "CMGT_EXT_ENUM_DATASET",
      "type": "Expression Rule",
      "sail_code": "/*\nThe data rules for each type are mapped and retrieved with the dataset name where necessary.Here we are having the rule names without () and will be adding '()' in the rules where these rules are used\n    datasetName --> The constant containing the name of the dataset\n    caseRule-->The name of the rule containing the cases data for the dataset type\n    studioFieldsRule -->The name of the rule containing the studio fields data for the dataset type\n    referenceTaskRule --> The name of the rule containing the reference tasks data for the dataset type\n    taskBlockRule --> The name of the rule containing the task block rule for the dataset type\n    caseTypeWorkflowRule --> The name of the rule containing the case type workflow rule for the dataset type\n    documentRule --> The name of the rule containing the document rule for the dataset type\n    commentRule --> The name of the rule containing the comment rule for the dataset type\n    taskUpdateRule -->The name of the rule containing the task status update rule for the dataset type\n    deployments --> The respective dataset deployments needs to be passed in the below structure\n        a!map(\n            onInitialLoad: a!map(\n                              packageZip --> The package to be deployed only on initial deployment ,\n                              scripts--> The scriptsto be deployed only on initial deployment\n                              icfFile--> The ICF file to be deployed only on initial deployment\n                              ),\n            onEachLoad: a!map(\n                              packageZip --> The package to be deployed on each load except the initial load ,\n                              scripts--> The scripts to be deployed on each load except the initial load \n                              icfFile--> The ICF file to be deployed on each load except the initial load \n                              ),\n    )              \n-----------------------------------------------------------------------------------------------------------------------*/\n{\n  a!map(\n    datasetName: cons!CMGT_EXT_DATASET_RESIDENTIAL_PERMIT,\n    datasetUuid: cons!CMGT_EXT_TXT_GENERATED_CASE_CATEGORY_UUIDS[1],\n    caseRule: rule!CMGT_EXT_DATA_ResidentialPermit_Case,\n    studioFieldsRule: rule!CMGT_EXT_DATA_ResidentialPermit_CaseStudioFields,\n    referenceTaskRule: rule!CMGT_EXT_DATA_ResidentialPermit_ReferenceTasks,\n    taskBlockRule: rule!CMGT_EXT_DATA_ResidentialPermit_TaskBlocks,\n    caseTypeWorkflowRule: rule!CMGT_EXT_DATA_ResidentialPermit_WorkflowTasks,\n    documentRule: rule!CMGT_EXT_DATA_ResidentialPermit_Documents,\n    commentRule: rule!CMGT_EXT_DATA_ResidentialPermit_Comments,\n    taskUpdateRule: rule!CMGT_EXT_DATA_ResidentialPermit_Task_StatusUpdate,\n    automationRule: rule!CMGT_EXT_DATA_ResidentialPermit_AutomationRules,\n    emailTemplateRule: rule!CMGT_EXT_DATA_ResidentialPermit_EmailTemplates\n  ),\n  a!map(\n    datasetName: cons!CMGT_EXT_DATASET_FRAUDULENT_TRANSACTIONS,\n    datasetUuid: cons!CMGT_EXT_TXT_GENERATED_CASE_CATEGORY_UUIDS[2],\n    caseRule: rule!CMGT_EXT_DATA_FraudulentTransactions_Case,\n    studioFieldsRule: rule!CMGT_EXT_DATA_FraudulentTransactions_CaseStudioFields,\n    referenceTaskRule: rule!CMGT_EXT_DATA_FraudulentTransactions_ReferenceTasks,\n    taskBlockRule: rule!CMGT_EXT_DATA_FraudulentTransactions_TaskBlocks,\n    caseTypeWorkFlowRule: rule!CMGT_EXT_DATA_FraudulentTransactions_WorkflowTasks,\n    documentRule: rule!CMGT_EXT_DATA_FraudulentTransactions_Documents,\n    commentRule: rule!CMGT_EXT_DATA_FraudulentTransactions_Comments,\n    taskUpdateRule: rule!CMGT_EXT_DATA_FraudulentTransactions_Task_StatusUpdate,\n    automationRule: rule!CMGT_EXT_DATA_FraudulentTransactions_AutomationRules,\n    emailTemplateRule: rule!CMGT_EXT_DATA_FraudulentTransactions_EmailTemplates\n  )\n}"
    },
    "_a-0000ec3d-b406-8000-9bb2-011c48011c48_330684": {
      "name": "CMGT_EXT_GetResetProcessCompletionPercentage",
      "type": "Expression Rule",
      "sail_code": "/*Percentage contribution by each process\nDrop studio tables - 10%\nFolder Deletion -10%\nCreate Users - 10%\nStudio Objects Deployment - 10%\nConfiguration process - 20%\nCase Creation - 30%\nRelated Cases process - 10%\n\n*/\na!localVariables(\n  /*Check the completion of process CMGT_EXT_GenerateDemoUsers*/\n  local!userCreationPMCompletionPercentage: if(\n    rule!CMGT_UTIL_IsNotBlank(\n      rule!CMGT_UTIL_Filter(\n        records: ri!completedProcess,\n        fieldValuePairs: {\n          a!map(\n            field: \"processModelId\",\n            value: tointeger(\n              cons!CMGT_EXT_PM_RESET_ERROR_TRACKING_PROCESS[9]\n            )\n          )\n        }\n      )\n    ),\n    10,\n    0\n  ),\n  /*number of studio objects PM complete*/\n  local!numOfStudioObjectPMComplete: length(\n    a!defaultValue(\n      rule!CMGT_UTIL_Filter(\n        records: ri!completedProcess,\n        fieldValuePairs: {\n          a!map(\n            field: \"processModelId\",\n            value: tointeger(\n              cons!CMGT_EXT_PM_RESET_ERROR_TRACKING_PROCESS[10]\n            )\n          )\n        }\n      ),\n      {}\n    )\n  ),\n  /*Check the completion of process CMGT_EXT_Deployment*/\n  local!studioObjectsPMCompletionPercentage: a!match(\n    value: local!numOfStudioObjectPMComplete,\n    equals: 1,\n    then: 10,\n    equals: 2,\n    then: 20,\n    default: 0\n  ),\n  /*Check the completion of process CMGT_EXT_DeleteCaseFolders*/\n  local!folderDeletionPMCompletionPercentage: if(\n    rule!CMGT_UTIL_IsNotBlank(\n      rule!CMGT_UTIL_Filter(\n        records: ri!completedProcess,\n        fieldValuePairs: {\n          a!map(\n            field: \"processModelId\",\n            value: tointeger(\n              cons!CMGT_EXT_PM_RESET_ERROR_TRACKING_PROCESS[11]\n            )\n          )\n        }\n      )\n    ),\n    10,\n    0\n  ),\n  /*Check the completion of process CMGT_EXT_Write_Configuration_Data*/\n  local!configurationPMCompletionPercentage: if(\n    rule!CMGT_UTIL_IsNotBlank(\n      rule!CMGT_UTIL_Filter(\n        records: ri!completedProcess,\n        fieldValuePairs: {\n          a!map(\n            field: \"processModelId\",\n            value: tointeger(\n              cons!CMGT_EXT_PM_RESET_ERROR_TRACKING_PROCESS[1]\n            )\n          )\n        }\n      )\n    ),\n    20,\n    0\n  ),\n  /*Check the completion of process CMGT_EXT_Create_Case and CMGT_EXT_Task_Update.\n  It is sufficient to check the statsues of these 2 process where other PMs are called as the sync subprocess\n  in the above PMs*/\n  local!caseCreationProcess: rule!CMGT_UTIL_Filter(\n    records: ri!completedProcess,\n    fieldValuePairs: {\n      a!map(\n        field: \"processModelId\",\n        value: tointeger(\n          cons!CMGT_EXT_PM_RESET_ERROR_TRACKING_PROCESS[2]\n        )\n      ),\n      a!map(\n        field: \"processModelId\",\n        value: tointeger(\n          cons!CMGT_EXT_PM_RESET_ERROR_TRACKING_PROCESS[6]\n        )\n      )\n    },\n    matchingCriteria: \"ANY\"\n  ),\n  local!createdCasesIds: rule!CMGT_UTIL_RejectBlank(\n    array: #\"SYSTEM_SYSRULES_forEach\"(\n      items: rule!CMGT_UTIL_Distinct(\n        value: index(\n          local!caseCreationProcess,\n          \"caseId\",\n          null\n        )\n      ),\n      expression: if(\n        length(\n          rule!CMGT_UTIL_Filter(\n            records: local!caseCreationProcess,\n            field: \"caseId\",\n            value: fv!item\n          )\n        ) = 2,\n        /*Since we have only 2 process related to case creation*/\n        fv!item,\n        null\n      )\n    )\n  ),\n  /*Here we are taking the percentage of no of cases completed for 100% then we\n  are converting the value to 30%*/\n  local!caseCreationPMCompletionPercentage: (\n    (\n      (\n        length(local!createdCasesIds) / length(\n          a!match(\n            value: ri!datasetUuids,\n            equals: cons!CMGT_EXT_TXT_GENERATED_CASE_CATEGORY_UUIDS[2],\n            then: rule!CMGT_EXT_DATA_FraudulentTransactions_Case(),\n            equals:cons!CMGT_EXT_TXT_GENERATED_CASE_CATEGORY_UUIDS[1],\n            then: rule!CMGT_EXT_DATA_ResidentialPermit_Case(),\n            default: a!flatten(\n              {\n                rule!CMGT_EXT_DATA_FraudulentTransactions_Case(),\n                rule!CMGT_EXT_DATA_ResidentialPermit_Case()\n              }\n            )\n          )\n        )\n      ) * 100\n    ) * 30\n  ) / 100,\n  /*Check the completion of process CMGT_EXT_RelatedCaseMap_Create */\n  local!relatedCasesPMCompletionPercentage: if(\n    rule!CMGT_UTIL_IsNotBlank(\n      rule!CMGT_UTIL_Filter(\n        records: ri!completedProcess,\n        fieldValuePairs: {\n          a!map(\n            field: \"processModelId\",\n            value: tointeger(\n              cons!CMGT_EXT_PM_RESET_ERROR_TRACKING_PROCESS[4]\n            )\n          )\n        }\n      )\n    ),\n    10,\n    0\n  ),\n  local!completionPercentage: sum(\n    local!userCreationPMCompletionPercentage,\n    local!studioObjectsPMCompletionPercentage,\n    local!folderDeletionPMCompletionPercentage,\n    local!configurationPMCompletionPercentage,\n    local!caseCreationPMCompletionPercentage,\n    local!relatedCasesPMCompletionPercentage\n  ),\n  local!completionPercentage\n)"
    },
    "_a-0000eab0-e049-8000-9c27-011c48011c48_1011527": {
      "name": "CMGT_UTIL_DropNonWritableRelationshipsFromRecord",
      "type": "Expression Rule",
      "sail_code": "/*\nThe main rule to \"cleanse\" the input of a WriteRecords SS node to remove non-writable relationships.\n\nSTANDARD USAGE:\n- Use this in tandem with rule CMGT_UTIL_MergeWriteRecordIdsToProcessVariable (see that description)\n- In the input of a WriteRecords SS (NOT in a previous script task), do:\n  A - Expressionable input to \"Records\" intput\n  B - rule!CMGT_UTIL_DropNonWritableRelationshipsFromRecord(\n        records: pv![the pv to write],\n        relationships: {list of record relationships that are not allowed to be written}\n      )\n\nIMPORTANT GENERAL NOTES: \n- The reason to run this in the input of the WriteRecords SS instead of a previous script task\nis that, when used with CMGT_UTIL_MergeWriteRecordIdsToProcessVariable, you can maintain the relationships\nthat you had to drop before writing.\n  -> For example, if you are writing \"Case\" but it has a child-relationship \"Address\" that cannot be written,\n    - this will drop \"Address\" before attempting to write\n    - if the output is configured properly it will reattach \"Address\" in the output\n    - the overall result is that you basically ran the node as if \"Address\" was ignored, \n      so that you can use it later in the process flow\n*/\n#\"SYSTEM_SYSRULES_forEach\"(\n  items: a!flatten(ri!records),\n  expression: reduce(\n    rule!CMGT_UTIL_DropNonWritableRelationshipsFromRecord_Reducer(\n      record: _,\n      relationship: _\n    ),\n    fv!item,\n    ri!relationships\n  )\n)"
    },
    "_a-0000ee30-0c37-8000-9d90-011c48011c48_4471692": {
      "name": "CMGT_EXT_GenerateEmailTemplateLogic",
      "type": "Expression Rule",
      "sail_code": "a!flatten(\n  #\"SYSTEM_SYSRULES_forEach\"(\n    ri!emailTemplateMap,\n    a!localVariables(\n      local!createdOnModifiedOnDateTime: rule!CMGT_EXT_UTIL_RandomDateTime(\n        fromDate: a!subtractDateTime(startDateTime: now(), months: 3),\n        toDate: a!subtractDateTime(startDateTime: now(), months: 1)\n      ),\n      local!createdByModifiedByUser: rule!CMGT_EXT_UTIL_RandomXMembersFromGroup(\n        group: cons!CMGT_GRP_INTERNAL_USERS,\n        includeServiceAccounts: false()\n      ),\n      recordType!CMGT_WFL_CFG_EmailTemplate(\n        recordType!CMGT_WFL_CFG_EmailTemplate.templateName: fv!item.templateName,\n        recordType!CMGT_WFL_CFG_EmailTemplate.subject: fv!item.subject,\n        recordType!CMGT_WFL_CFG_EmailTemplate.body: fv!item.body,\n        recordType!CMGT_WFL_CFG_EmailTemplate.emailTemplateUuid: fv!item.emailTemplateUuid,\n        recordType!CMGT_WFL_CFG_EmailTemplate.createdBy: local!createdByModifiedByUser,\n        recordType!CMGT_WFL_CFG_EmailTemplate.createdOn: local!createdOnModifiedOnDateTime,\n        recordType!CMGT_WFL_CFG_EmailTemplate.modifiedBy: local!createdByModifiedByUser,\n        recordType!CMGT_WFL_CFG_EmailTemplate.modifiedOn: local!createdOnModifiedOnDateTime,\n        recordType!CMGT_WFL_CFG_EmailTemplate.isActive: true\n      )\n    )\n  )\n)"
    },
    "_a-0000e9fa-aa45-8000-9bda-011c48011c48_293777": {
      "name": "CMGT_CaseEventHistory_Constructor",
      "type": "Expression Rule",
      "sail_code": "recordType!CMGT_EventHistory_Case(\n  recordType!CMGT_EventHistory_Case.caseId: ri!caseId,\n  recordType!CMGT_EventHistory_Case.timestamp: a!defaultValue(value: ri!timestamp, default: now()),\n  recordType!CMGT_EventHistory_Case.username: rule!CMGT_formatEventInitiator(initiator: ri!initiator),\n  recordType!CMGT_EventHistory_Case.caseEventTypeId: ri!eventTypeId,\n  recordType!CMGT_EventHistory_Case.details: if(\n    a!isNotNullOrEmpty(ri!details),\n    #\"SYSTEM_SYSRULES_toJson_v1\"(\n      value: ri!details,\n      removeNullOrEmptyFields: false\n    ),\n    null\n  )\n)"
    },
    "_a-0000ec06-54a3-8000-9cca-011c48011c48_2514176": {
      "name": "CMGT_EXT_GenerateReferenceTasksLogic",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!referenceTaskDataRule:index(rule!CMGT_EXT_UTIL_ReturnDatsetDetailsByDatasetName(\n    datasetUuids:ri!datasetUuids\n  ),\"referenceTaskRule\",null),\n  local!referenceTaskData: a!flatten(#\"SYSTEM_SYSRULES_forEach\"(local!referenceTaskDataRule, fv!item())),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items:local!referenceTaskData ,\n    expression: a!localVariables(\n      local!createdOnModifiedOnDateTime: rule!CMGT_EXT_UTIL_RandomDateTime(\n        fromDate: a!subtractDateTime(startDateTime: now(), months: 3),\n        toDate: a!subtractDateTime(startDateTime: now(), months: 1)\n      ),\n      local!createdByModifiedByUser: rule!CMGT_EXT_UTIL_RandomXMembersFromGroup(\n        group: cons!CMGT_GRP_INTERNAL_USERS,\n        includeServiceAccounts: false()\n      ),\n      recordType!CMGT_WFL_CFG_ReferenceTask(\n        recordType!CMGT_WFL_CFG_ReferenceTask.nameLabel: fv!item.name,\n        recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId: fv!item.taskBehaviourTypeId,\n        recordType!CMGT_WFL_CFG_ReferenceTask.defaultGroupAssignee: if(\n          and(\n            rule!CMGT_EXT_UTIL_RandomBoolean(),\n            toboolean(fv!item.isAutomated) <> true,\n            a!isNullOrEmpty(fv!item.defaultGroupAssignee)\n          ),\n          rule!CMGT_EXT_UTIL_RandomXMembersFromGroup(\n            group: cons!CMGT_GRP_BUSINESS_GROUPS,\n            memberType: \"GROUP\"\n          ),\n          fv!item.defaultGroupAssignee\n        ),\n        recordType!CMGT_WFL_CFG_ReferenceTask.questionLabel: fv!item.question,\n        recordType!CMGT_WFL_CFG_ReferenceTask.description: fv!item.description,\n        recordType!CMGT_WFL_CFG_ReferenceTask.defaultSla: if(\n          fv!item.isAutomated,\n          null,\n          rule!CMGT_EXT_ConstructRandomSlaAsJson()\n        ),\n        recordType!CMGT_WFL_CFG_ReferenceTask.createdBy: local!createdByModifiedByUser,\n        recordType!CMGT_WFL_CFG_ReferenceTask.createdOn: local!createdOnModifiedOnDateTime,\n        recordType!CMGT_WFL_CFG_ReferenceTask.modifiedBy: local!createdByModifiedByUser,\n        recordType!CMGT_WFL_CFG_ReferenceTask.modifiedOn: local!createdOnModifiedOnDateTime,\n        recordType!CMGT_WFL_CFG_ReferenceTask.isActive: true(),\n        recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions: #\"SYSTEM_SYSRULES_forEach\"(\n          items: index(fv!item, \"responseOptions\", null()),\n          expression: recordType!CMGT_WFL_CFG_TaskResponseOption(\n            recordType!CMGT_WFL_CFG_TaskResponseOption.label: fv!item,\n            recordType!CMGT_WFL_CFG_TaskResponseOption.sortOrder: fv!index,\n            recordType!CMGT_WFL_CFG_TaskResponseOption.isActive: true()\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_26020": {
      "name": "CMGT_QR_GetTag",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_Tag,\n  returnType: ri!returnType,\n  executeWhen: ri!executeWhen,\n  triggerRefresh: ri!triggerRefresh,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Tag.tagId,\n      operator: \"in\",\n      value: ri!tagId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Tag.tagName,\n      operator: \"=\",\n      value: ri!tagName\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Tag.caseTagMap.caseId,\n      operator: \"=\",\n      value: ri!caseId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Tag.isActive,\n      operator: \"=\",\n      value: ri!isActive\n    )\n  },\n  fields: ri!fields,\n  pagingInfo: ri!pagingInfo,\n  sort: a!defaultValue(\n    value: ri!sort,\n    default: #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_Tag.tagName,\n      ascending: true\n    )\n  ),\n  relatedRecordData: ri!relatedRecordData,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "0006ec12-a85e-8000-fa57-7f0000014e7a": {
      "name": "CMGT_EXT_RelatedCaseMap_Create",
      "type": "Process Model",
      "sail_code": "// Input: ?\n#\"SYSTEM_SYSRULES_forEach\"(\n  items: pv!relatedCaseMaps,\n  expression: rule!CMGT_CaseEventHistory_Constructor(\n    caseId: fv!item[recordType!CMGT_RelatedCaseMap.caseId],\n    initiator: fv!item[recordType!CMGT_RelatedCaseMap.modifiedBy],\n    timestamp: fv!item[recordType!CMGT_RelatedCaseMap.modifiedOn],\n    eventTypeId: cons!CMGT_REFID_EVENT_TYPE_CASE_ADD_RELATED_CASE,\n    relatedRecordId: fv!item[recordType!CMGT_RelatedCaseMap.relatedCaseId],\n    details: a!map(\n      relatedCaseId: fv!item[recordType!CMGT_RelatedCaseMap.relatedCaseId],\n      relationshipMapTypeId: fv!item[recordType!CMGT_RelatedCaseMap.relationshipMapTypeId]\n    )\n  )\n)\n\n// Input: ?\n=recordType!CMGT_EventHistory_Case\n\n// Input: ?\n=pv!relatedCaseMaps\n\n// Input: ?\n=recordType!CMGT_RelatedCaseMap"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_568215": {
      "name": "CMGT_WFL_QR_GetReferenceMilestone",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_WFL_CFG_ReferenceMilestone,\n  returnType: ri!returnType,\n  executeWhen: ri!executeWhen,\n  triggerRefresh: ri!triggerRefresh,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_ReferenceMilestone.caseTypeUuid,\n      operator: \"=\",\n      value: ri!caseTypeUuid\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_ReferenceMilestone.referenceMilestoneId,\n      operator: \"in\",\n      value: ri!referenceMilestoneId\n    )\n  },\n  fields: {\n    ri!fields,\n    recordType!CMGT_WFL_CFG_ReferenceMilestone.caseType\n  },\n  relatedRecordData: { ri!relatedRecordData },\n  pagingInfo: ri!pagingInfo,\n  sort: a!defaultValue(\n    ri!sort,\n    #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_WFL_CFG_ReferenceMilestone.sortOrder,\n      ascending: true\n    )\n  ),\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ec0c-7718-8000-9ba6-011c48011c48_12378": {
      "name": "CMGT_EXT_GenerateTaskBlocksLogic",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!taskBlocksRule: index(\n    rule!CMGT_EXT_UTIL_ReturnDatsetDetailsByDatasetName(datasetUuids: ri!datasetUuids),\n    \"taskBlockRule\",\n    null\n  ),\n  local!taskBlocks:a!flatten(#\"SYSTEM_SYSRULES_forEach\"(local!taskBlocksRule, fv!item())),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!taskBlocks,\n    expression: a!localVariables(\n      local!createdOnModifiedOnDateTime: rule!CMGT_EXT_UTIL_RandomDateTime(\n        fromDate: a!subtractDateTime(startDateTime: now(), months: 3),\n        toDate: a!subtractDateTime(startDateTime: now(), months: 1)\n      ),\n      local!createdByModifiedByUser: rule!CMGT_EXT_UTIL_RandomXMembersFromGroup(\n        group: cons!CMGT_GRP_INTERNAL_USERS,\n        includeServiceAccounts: false()\n      ),\n      recordType!CMGT_WFL_CFG_TaskBlock(\n        recordType!CMGT_WFL_CFG_TaskBlock.label: fv!item.taskBlockName,\n        recordType!CMGT_WFL_CFG_TaskBlock.isActive: true(),\n        recordType!CMGT_WFL_CFG_TaskBlock.createdBy: local!createdByModifiedByUser,\n        recordType!CMGT_WFL_CFG_TaskBlock.createdOn: local!createdOnModifiedOnDateTime,\n        recordType!CMGT_WFL_CFG_TaskBlock.modifiedBy: local!createdByModifiedByUser,\n        recordType!CMGT_WFL_CFG_TaskBlock.modifiedOn: local!createdOnModifiedOnDateTime,\n        recordType!CMGT_WFL_CFG_TaskBlock.taskBlockTasks: #\"SYSTEM_SYSRULES_forEach\"(\n          items: index(fv!item, \"taskBlockTasks\", null()),\n          expression: a!localVariables(\n            local!currentReferenceTask: rule!CMGT_UTIL_Filter(\n              records: ri!referenceTasks,\n              field: recordType!CMGT_WFL_CFG_ReferenceTask.referenceTaskId,\n              value: index(\n                rule!CMGT_UTIL_Filter(\n                  records: ri!referenceTaskMap,\n                  field: \"uuid\",\n                  value: fv!item.referenceTaskUuid\n                ),\n                \"referenceTaskId\",\n                null\n              )\n            ),\n            recordType!CMGT_WFL_CFG_TaskBlockTask(\n              recordType!CMGT_WFL_CFG_TaskBlockTask.referenceTaskId: local!currentReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.referenceTaskId],\n              recordType!CMGT_WFL_CFG_TaskBlockTask.taskName: local!currentReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.nameLabel],\n              recordType!CMGT_WFL_CFG_TaskBlockTask.description: local!currentReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.description],\n              recordType!CMGT_WFL_CFG_TaskBlockTask.questionLabel: local!currentReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.questionLabel],\n              recordType!CMGT_WFL_CFG_TaskBlockTask.taskBehaviorTypeId: local!currentReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId],\n              recordType!CMGT_WFL_CFG_TaskBlockTask.defaultGroupAssignee: if(\n                a!isNotNullOrEmpty(\n                  local!currentReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.defaultGroupAssignee]\n                ),\n                local!currentReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.defaultGroupAssignee],\n                if(\n                  and(\n                    rule!CMGT_EXT_UTIL_RandomBoolean(),\n                    toboolean(\n                      local!currentReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType.isAutomated]\n                    ) <> true\n                  ),\n                  rule!CMGT_EXT_UTIL_RandomXMembersFromGroup(\n                    group: cons!CMGT_GRP_BUSINESS_GROUPS,\n                    memberType: \"GROUP\"\n                  ),\n                  null\n                )\n              ),\n              recordType!CMGT_WFL_CFG_TaskBlockTask.sla: if(\n                toboolean(\n                  local!currentReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorType.isAutomated]\n                ),\n                null,\n                rule!CMGT_EXT_ConstructRandomSlaAsJson()\n              ),\n              recordType!CMGT_WFL_CFG_TaskBlockTask.startsByDefault: a!defaultValue(fv!item.startByDefault, false),\n              recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskUuid: fv!item.taskBlockTaskUuid,\n              recordType!CMGT_WFL_CFG_TaskBlockTask.isActive: true(),\n              recordType!CMGT_WFL_CFG_TaskBlockTask.sortOrder: fv!index,\n              recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskResponseOptions: #\"SYSTEM_SYSRULES_forEach\"(\n                items: a!flatten(\n                  local!currentReferenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions]\n                ),\n                expression: recordType!CMGT_WFL_CFG_TaskBlockTaskResponseOption(\n                  recordType!CMGT_WFL_CFG_TaskBlockTaskResponseOption.label: fv!item[recordType!CMGT_WFL_CFG_TaskResponseOption.label],\n                  recordType!CMGT_WFL_CFG_TaskBlockTaskResponseOption.sortOrder: fv!index,\n                  recordType!CMGT_WFL_CFG_TaskBlockTaskResponseOption.isActive: true(),\n                  recordType!CMGT_WFL_CFG_TaskBlockTaskResponseOption.taskBlockTaskResponseUuid: rule!CMGT_UTIL_GenerateUuid_NonPlugin()\n                )\n              )\n            )\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000ec06-54a3-8000-9cca-011c48011c48_2514373": {
      "name": "CMGT_EXT_UTIL_RandomXObjectsFromArray",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!array),\n  null,\n  a!match(\n    value: a!defaultValue(value: ri!noOfObjects, default: 1),\n    equals: 1,\n    then: index(\n      rule!CMGT_EXT_UTIL_ShuffleArray(array: ri!array),\n      1,\n      {}\n    ),\n    whenTrue: and(fv!value > 1, fv!value < length(ri!array)),\n    then: index(\n      rule!CMGT_EXT_UTIL_ShuffleArray(array: ri!array),\n      enumerate(fv!value) + 1,\n      {}\n    ),\n    /* Returning all the objects when the noOfObjects is greater than the array length    */\n    whenTrue: fv!value >= length(ri!array),\n    then: rule!CMGT_EXT_UTIL_ShuffleArray(array: ri!array),\n    default: {}\n  )\n)"
    },
    "_a-0000e9ca-3659-8000-9bb8-011c48011c48_145917": {
      "name": "CMGT_UTIL_Distinct",
      "type": "Expression Rule",
      "sail_code": "cast(\n  runtimetypeof(ri!value),\n  union(\n    a!flatten(ri!value),\n    a!flatten(ri!value)\n  )\n)"
    },
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_18973": {
      "name": "CMGT_EXT_WFL_Case_GenerateCaseCreationMilestones_Logic",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!referenceMilestones: rule!CMGT_WFL_QR_GetReferenceMilestone(caseTypeUuid: ri!caseTypeUuid),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!referenceMilestones,\n    expression: recordType!CMGT_Milestone(\n      recordType!CMGT_Milestone.referenceMilestoneUuid: fv!item[recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid],\n      recordType!CMGT_Milestone.label: fv!item[recordType!CMGT_WFL_CFG_ReferenceMilestone.label],\n      recordType!CMGT_Milestone.milestoneColor: fv!item[recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor],\n      recordType!CMGT_Milestone.sortOrder: fv!item[recordType!CMGT_WFL_CFG_ReferenceMilestone.sortOrder],\n      recordType!CMGT_Milestone.isActive: true(),\n      recordType!CMGT_Milestone.createdBy: ri!createdBy,\n      recordType!CMGT_Milestone.createdOn: ri!timestamp,\n      recordType!CMGT_Milestone.modifiedBy: ri!modifiedBy,\n      recordType!CMGT_Milestone.modifiedOn: ri!timestamp\n    )\n  )\n)"
    },
    "_a-0000ec3d-b406-8000-9bb2-011c48011c48_217959": {
      "name": "CMGT_EXT_DATA_FraudulentTransactions_Case",
      "type": "Expression Rule",
      "sail_code": "/*Execute all the testcases before saving*/\n/*The below is the structure definition of the map used in this rule*/\n/*a!map(\ntitle:<Defines title of the case>,\ndescription:<Defines description of the case>,\ncaseType:<Defines the casetype of the case and the value can be either \"Credit Card Disputes\" or \"Automated Clearing House\">,\nstatus:<The value can be either cons!CMGT_REFID_STATUS_CASE_OPEN or cons!CMGT_REFID_STATUS_CASE_IN_PROGRESS>\nrelatedCases:<Related Case title>\n\nmapping the other values here so that the case looks same everytime it is created\n */\n{\n  /*Fraudulent Transactions*/\n  /*Credit Card Disputes*/\n  a!map(\n    title: \"Incorrect Amount Charged\",\n    description: \"Customer reported an incorrect charge on their credit card statement for a restaurant bill. Submitted bill and transaction details. Investigation confirmed error. Account adjusted.\",\n    caseType: \"Credit Card Disputes (DEMO)\",\n    status: cons!CMGT_REFID_STATUS_CASE_OPEN,\n    relatedCases: { \"Duplicate Transaction\" }\n  ),\n  a!map(\n    title: \"Duplicate Transaction\",\n    description: \"Customer reported a duplicate charge for a single purchase on their credit card. Provided receipt and statement. Investigation confirmed error with the store. Account credited.\",\n    caseType: \"Credit Card Disputes (DEMO)\",\n    status: cons!CMGT_REFID_STATUS_CASE_IN_PROGRESS,\n    relatedCases: { \"Incorrect Amount Charged\" }\n  ),\n  /* Automated Clearing House*/\n  a!map(\n    title: \"ACH Payment Not Received\",\n    description: \"Customer reported a missing ACH payment that was not credited to the recipient's account. Provided payment details and confirmation. Investigation traced and confirmed payment failure. Issue resolved.\",\n    caseType: \"Automated Clearing House (DEMO)\",\n    status: cons!CMGT_REFID_STATUS_CASE_OPEN,\n    relatedCases: { \"ACH Transaction Error\" }\n  ),\n  a!map(\n    title: \"ACH Transaction Error\",\n    description: \"Customer reported an error in an ACH transaction. Provided transaction details and error description. Investigation confirmed the error. Transaction corrected and funds adjusted.\",\n    caseType: \"Automated Clearing House (DEMO)\",\n    status: cons!CMGT_REFID_STATUS_CASE_IN_PROGRESS,\n    relatedCases: { \"ACH Payment Not Received\" }\n  ),\n  \n}"
    },
    "_a-0000e9f4-1323-8000-9bd3-011c48011c48_267840": {
      "name": "CMGT_UTIL_LoadBrandingMap",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!branding: getbrandingconfig(\n    cons!CMGT_DOC_DEFAULT_BRANDING_CONFIG,\n    true\n  ),\n  local!output: reduce(\n    #\"urn:appian:function:v1:a:update\"(_, _, _),\n    a!map(),\n    merge(\n      {\n        local!branding.defaultBranding.key,\n        local!branding.customBranding.key\n      },\n      {\n        local!branding.defaultBranding.value,\n        local!branding.customBranding.value\n      }\n    )\n  ),\n  local!output\n)"
    },
    "_a-0000e9d3-70bf-8000-9bbd-011c48011c48_180481": {
      "name": "CMGT_UTIL_RejectBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n  runtimetypeof(a!flatten(ri!array)),\n  reject(a!isNullOrEmpty(_), a!flatten(ri!array))\n)"
    },
    "_a-0000ec06-54a3-8000-9cca-011c48011c48_2514381": {
      "name": "CMGT_EXT_UTIL_ShuffleArray",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!arrayLength: count(ri!array),\n  local!shuffledIndicies: tointeger(\n    rule!CMGT_UTIL_Distinct(\n      value: floor(\n        rand(local!arrayLength * 10) * local!arrayLength\n      ) + 1\n    )\n  ),\n  index(ri!array, local!shuffledIndicies, {})\n)"
    },
    "000cec1b-8330-8000-faf5-7f0000014e7a": {
      "name": "CMGT_EXT_GenerateDemoUsers",
      "type": "Process Model",
      "sail_code": "// Input: ?\n=pv!originalPhotos\n\n// Input: ?\n=pv!x180pixel\n\n// Input: ?\n=pv!x90pixel\n\n// Input: ?\n=pv!x60pixel\n\n// Input: ?\n=pv!userGroupMap[tp!instanceindex].activeUsers\n\n// Input: ?\n=pv!userGroupMap[tp!instanceindex].group\n\n// Input: ?\n= append( cons!CMGT_EXT_MALE_USERNAMES, cons!CMGT_EXT_FEMALE_USERNAMES)\n\n// Output: ?\nrule!CMGT_EXT_filterExistingUsers(\n  usernames: ac!allUsernames\n)\n\n// Output: ?\nappend(\n  cons!CMGT_EXT_DOC_MALE_ORIGINAL,\n  cons!CMGT_EXT_DOC_FEMALE_ORIGINAL\n)\n\n// Output: ?\nappend(\n  cons!CMGT_EXT_DOC_MALE_60PX,\n  cons!CMGT_EXT_DOC_FEMALE_60PX\n)\n\n// Output: ?\nappend(\n  cons!CMGT_EXT_DOC_MALE_90PX,\n  cons!CMGT_EXT_DOC_FEMALE_90PX\n)\n\n// Output: ?\nappend(\n  cons!CMGT_EXT_DOC_MALE_180PX,\n  cons!CMGT_EXT_DOC_FEMALE_180PX\n)\n\n// Output: ?\nrule!CMGT_EXT_ReturnUserGroupMap()\n\n// Input: ?\n=pv!usernames[tp!instanceindex]\n\n// Input: ?\n=proper( split(pv!usernames[tp!instanceindex], \".\"))[1]\n\n// Input: ?\n=proper( split(pv!usernames[tp!instanceindex], \".\"))[2]\n\n// Input: ?\n=if( contains( cons!CMGT_EXT_MAXIMUM_DATA_USERS, pv!usernames[tp!instanceindex] ), user(pp!initiator, \"email\"), pv!usernames[tp!instanceindex] & cons!CMGT_EXT_TXT_DEFAULT_EMAIL_DOMIAN)"
    },
    "_a-0000ecd4-69fa-8000-9bca-011c48011c48_1074726": {
      "name": "CMGT_EXT_GenerateTaskBlocksBranchesLogic",
      "type": "Expression Rule",
      "sail_code": "#\"urn:appian:function:v1:a:update\"(\n  ri!generatedTaskBlockTemplateTask,\n  recordType!CMGT_WFL_CFG_TaskBlockTask.beforeTaskBlockTaskBranches,\n  if(\n    rule!CMGT_UTIL_IsNotBlank(ri!taskBlocksMap.beforeTasks),\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: a!flatten(ri!taskBlocksMap.beforeTasks),\n      expression: a!localVariables(\n        /*Get the reference task details for the current before task to map response option PK*/\n        local!beforeTaskReferenceTask: rule!CMGT_UTIL_Filter(\n          records: ri!generatedTaskBlockTemplateTasks,\n          field: recordType!CMGT_WFL_CFG_TaskBlockTask.referenceTaskId,\n          value: rule!CMGT_UTIL_Filter(\n            records: ri!referenceTasks,\n            field: recordType!CMGT_WFL_CFG_ReferenceTask.referenceTaskId,\n            value: index(\n              rule!CMGT_UTIL_Filter(\n                records: ri!referenceTaskMap,\n                field: \"uuid\",\n                value: fv!item.taskResponseOption.referenceTaskUuid\n              ),\n              \"referenceTaskId\",\n              null\n            )\n          )[recordType!CMGT_WFL_CFG_ReferenceTask.referenceTaskId]\n        ),\n        {\n          recordType!CMGT_WFL_CFG_TaskBlockTaskBranch(\n            recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.beforeTaskBlockTaskUuid: fv!item.beforeTaskUuid,\n            recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.afterTaskBlockTaskUuid: ri!taskBlocksMap.taskBlockTaskUuid,\n            /*In ri!taskBlocksMap map the index of the response option will be passed\n              so we are indexing the PK*/\n            recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.taskBlockTaskResponseOptionUuid: if(\n              a!isNotNullOrEmpty(local!beforeTaskReferenceTask),\n              index(\n                a!flatten(\n                  local!beforeTaskReferenceTask[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskResponseOptions.taskBlockTaskResponseUuid]\n                ),\n                fv!item.taskResponseOption.taskResponseOptionId,\n                null\n              ),\n              {}\n            ),\n            recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.isRequired: a!defaultValue(fv!item.isRequired, true),\n            recordType!CMGT_WFL_CFG_TaskBlockTaskBranch.isActive: true\n          )\n        }\n      )\n    ),\n    {}\n  )\n)"
    },
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_12849": {
      "name": "CMGT_EXT_GenerateCaseTypeWorkflowTasksLogic",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Get the task block details for the mapped taskBlock in case workflow template task*/\n  local!taskBlock: if(\n    rule!CMGT_UTIL_IsBlank(\n      ri!caseTypeWorkflowTemplateTaskMap.taskBlockUuid\n    ),\n    null,\n    rule!CMGT_UTIL_Filter(\n      records: ri!taskBlocks,\n      field: recordType!CMGT_WFL_CFG_TaskBlock.taskBlockId,\n      value: index(\n        rule!CMGT_UTIL_Filter(\n          records: ri!taskBlockMap,\n          field: \"taskBlockUuid\",\n          value: ri!caseTypeWorkflowTemplateTaskMap.taskBlockUuid\n        ),\n        \"taskBlockId\",\n        null\n      )\n    )\n  ),\n  /*Get the reference task details for the mapped reference task in case workflow template task*/\n  local!referenceTask: rule!CMGT_UTIL_Filter(\n    records: ri!referenceTasks,\n    field: recordType!CMGT_WFL_CFG_ReferenceTask.referenceTaskId,\n    value: index(\n      rule!CMGT_UTIL_Filter(\n        records: ri!referenceTaskMap,\n        field: \"uuid\",\n        value: ri!caseTypeWorkflowTemplateTaskMap.referenceTaskUuid\n      ),\n      \"referenceTaskId\",\n      null\n    )\n  ),\n  recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask(\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.label: a!defaultValue(\n      ri!caseTypeWorkflowTemplateTaskMap.label,\n      local!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.nameLabel]\n    ),\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.description: local!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.description],\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.questionLabel: local!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.questionLabel],\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorTypeId: a!defaultValue(\n      ri!caseTypeWorkflowTemplateTaskMap.taskBehaviorType,\n      local!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskBehaviorTypeId]\n    ),\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeUuid: ri!caseType[recordType!CMGT_CFG_CaseType.uuid],\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.createdBy: ri!caseType[recordType!CMGT_CFG_CaseType.createdBy],\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.createdOn: ri!caseType[recordType!CMGT_CFG_CaseType.createdOn],\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.modifedBy: ri!caseType[recordType!CMGT_CFG_CaseType.modifiedBy],\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.modifiedOn: ri!caseType[recordType!CMGT_CFG_CaseType.modifiedOn],\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sortOrder: ri!index,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskIntentionCode: cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_WORKFLOW,\n    /*Map the milestone PK based on the mapped milestone UUID*/\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.milestoneId: index(\n      rule!CMGT_UTIL_Filter(\n        records: ri!caseType[recordType!CMGT_CFG_CaseType.referenceMilestone],\n        field: recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid,\n        value: ri!caseTypeWorkflowTemplateTaskMap.milestoneUuid\n      ),\n      recordType!CMGT_WFL_CFG_ReferenceMilestone.referenceMilestoneId,\n      null\n    ),\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTaskId: local!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.referenceTaskId],\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBlockId: local!taskBlock[recordType!CMGT_WFL_CFG_TaskBlock.taskBlockId],\n    /*If the passed caseTypeWorkflowTemplateTaskMap default group assignee is null then it will\n    take the group assignee from the reference task*/\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.defaultGroupAssignee: if(\n      a!isNotNullOrEmpty(\n        index(\n          ri!caseTypeWorkflowTemplateTaskMap,\n          \"defaultGroupAssignee\",\n          null\n        )\n      ),\n      index(\n        ri!caseTypeWorkflowTemplateTaskMap,\n        \"defaultGroupAssignee\",\n        null\n      ),\n      local!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.defaultGroupAssignee],\n      \n    ),\n    /*Assign SLA days from the reference task*/\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sla: ri!caseTypeWorkflowTemplateTaskMap.sla,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isDeleted: false,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.startsByDefault: ri!caseTypeWorkflowTemplateTaskMap.startByDefault,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid: ri!caseTypeWorkflowTemplateTaskMap.caseTypeWorkflowTaskUuid,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive: true,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskResponseOptions: #\"SYSTEM_SYSRULES_forEach\"(\n      items: a!flatten(\n        local!referenceTask[recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions]\n      ),\n      expression: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption(\n        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.label: fv!item[recordType!CMGT_WFL_CFG_TaskResponseOption.label],\n        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.sortOrder: fv!index,\n        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.isActive: true(),\n        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.caseTypeWorkflowTaskResponseOptionUuid: rule!CMGT_UTIL_GenerateUuid_NonPlugin()\n      )\n    ),\n    /*task action*/\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction: {\n      if(\n        rule!CMGT_UTIL_IsBlank(\n          ri!caseTypeWorkflowTemplateTaskMap.taskActionUuid\n        ),\n        recordType!CMGT_WFL_CFG_TaskActions(),\n        recordType!CMGT_WFL_CFG_TaskActions(\n          recordType!CMGT_WFL_CFG_TaskActions.caseTypeWorkflowTaskUuid: ri!caseTypeWorkflowTemplateTaskMap.caseTypeWorkflowTaskUuid,\n          recordType!CMGT_WFL_CFG_TaskActions.taskActionUuid: ri!caseTypeWorkflowTemplateTaskMap.taskActionUuid,\n          recordType!CMGT_WFL_CFG_TaskActions.actionCode: ri!caseTypeWorkflowTemplateTaskMap.actioncode,\n          recordType!CMGT_WFL_CFG_TaskActions.isActive: true,\n          recordType!CMGT_WFL_CFG_TaskActions.createdBy: ri!caseType[recordType!CMGT_CFG_CaseType.createdBy],\n          recordType!CMGT_WFL_CFG_TaskActions.createdOn: ri!caseType[recordType!CMGT_CFG_CaseType.createdOn],\n          recordType!CMGT_WFL_CFG_TaskActions.modifedBy: ri!caseType[recordType!CMGT_CFG_CaseType.modifiedBy],\n          recordType!CMGT_WFL_CFG_TaskActions.modifiedOn: ri!caseType[recordType!CMGT_CFG_CaseType.modifiedOn]\n        )\n      )\n    },\n    /*sendEmailTask*/\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.sendEmailCaseTypeWorkflowTask: if(\n      rule!CMGT_UTIL_IsBlank(\n        ri!caseTypeWorkflowTemplateTaskMap.emailTemplateUuid,\n      ),\n      recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask(),\n      recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask(\n        recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.taskActionUuid: ri!caseTypeWorkflowTemplateTaskMap.taskActionUuid,\n        recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.emailTemplateUuid: ri!caseTypeWorkflowTemplateTaskMap.emailTemplateUuid,\n        recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.recipientRoleJson: ri!caseTypeWorkflowTemplateTaskMap.recipientRoleJson,\n        recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.isActive: true,\n        recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.createdBy: ri!caseType[recordType!CMGT_CFG_CaseType.createdBy],\n        recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.createdOn: ri!caseType[recordType!CMGT_CFG_CaseType.createdOn],\n        recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.modifiedBy: ri!caseType[recordType!CMGT_CFG_CaseType.modifiedBy],\n        recordType!CMGT_WFL_CFG_SendEmailCaseTypeWorkflowTask.modifiedOn: ri!caseType[recordType!CMGT_CFG_CaseType.modifiedOn]\n      )\n    ),\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet: {\n      if(\n        rule!CMGT_UTIL_IsBlank(\n          ri!caseTypeWorkflowTemplateTaskMap.conditionSets\n        ),\n        recordType!CMGT_CFG_ConditionSet(),\n        /*parent condition set*/\n        recordType!CMGT_CFG_ConditionSet(\n          recordType!CMGT_CFG_ConditionSet.conditionSetUuid: ri!caseTypeWorkflowTemplateTaskMap.conditionSets.parentConditionSetUuid,\n          recordType!CMGT_CFG_ConditionSet.caseTypeWorkflowTaskUuid: ri!caseTypeWorkflowTemplateTaskMap.caseTypeWorkflowTaskUuid,\n          recordType!CMGT_CFG_ConditionSet.operatorCode: \"OR\",\n          recordType!CMGT_CFG_ConditionSet.isActive: true,\n          recordType!CMGT_CFG_ConditionSet.isValid: true,\n          recordType!CMGT_CFG_ConditionSet.createdBy: ri!caseType[recordType!CMGT_CFG_CaseType.createdBy],\n          recordType!CMGT_CFG_ConditionSet.createdOn: ri!caseType[recordType!CMGT_CFG_CaseType.createdOn],\n          recordType!CMGT_CFG_ConditionSet.modifiedBy: ri!caseType[recordType!CMGT_CFG_CaseType.modifiedBy],\n          recordType!CMGT_CFG_ConditionSet.modifiedOn: ri!caseType[recordType!CMGT_CFG_CaseType.modifiedOn],\n          recordType!CMGT_CFG_ConditionSet.childConditionSet: {\n            /*child condition set*/\n            #\"SYSTEM_SYSRULES_forEach\"(\n              ri!caseTypeWorkflowTemplateTaskMap.conditionSets.childConditionSets,\n              a!localVariables(\n                local!childConditionSet: fv!item,\n                recordType!CMGT_CFG_ConditionSet(\n                recordType!CMGT_CFG_ConditionSet.conditionSetUuid: local!childConditionSet.conditionSetUuid,\n              recordType!CMGT_CFG_ConditionSet.parentConditionSetUuid: ri!caseTypeWorkflowTemplateTaskMap.conditionSets.parentConditionSetUuid,\n              recordType!CMGT_CFG_ConditionSet.operatorCode: \"AND\",\n              recordType!CMGT_CFG_ConditionSet.isActive: true,\n              recordType!CMGT_CFG_ConditionSet.isValid: true,\n              recordType!CMGT_CFG_ConditionSet.createdBy: ri!caseType[recordType!CMGT_CFG_CaseType.createdBy],\n              recordType!CMGT_CFG_ConditionSet.createdOn: ri!caseType[recordType!CMGT_CFG_CaseType.createdOn],\n              recordType!CMGT_CFG_ConditionSet.modifiedBy: ri!caseType[recordType!CMGT_CFG_CaseType.modifiedBy],\n              recordType!CMGT_CFG_ConditionSet.modifiedOn: ri!caseType[recordType!CMGT_CFG_CaseType.modifiedOn],\n              recordType!CMGT_CFG_ConditionSet.condition: {\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  fv!item.conditions,\n                  recordType!CMGT_CFG_Condition(\n                    recordType!CMGT_CFG_Condition.conditionSetUuid: local!childConditionSet.conditionSetUuid,\n                    recordType!CMGT_CFG_Condition.fieldPathJson: fv!item.fieldPathJson,\n                    recordType!CMGT_CFG_Condition.operator: fv!item.operator,\n                    recordType!CMGT_CFG_Condition.valueJson: fv!item.valueJson,\n                    recordType!CMGT_CFG_Condition.valueType: fv!item.valueType,\n                    recordType!CMGT_CFG_Condition.isActive: true,\n                    recordType!CMGT_CFG_Condition.isValid: true,\n                    recordType!CMGT_CFG_Condition.createdBy: ri!caseType[recordType!CMGT_CFG_CaseType.createdBy],\n                    recordType!CMGT_CFG_Condition.createdOn: ri!caseType[recordType!CMGT_CFG_CaseType.createdOn],\n                    recordType!CMGT_CFG_Condition.modifiedBy: ri!caseType[recordType!CMGT_CFG_CaseType.modifiedBy],\n                    recordType!CMGT_CFG_Condition.modifiedOn: ri!caseType[recordType!CMGT_CFG_CaseType.modifiedOn]\n                  )\n                )\n              }\n            )\n            )\n            )\n          }\n        )\n      )\n    }\n  )\n)"
    },
    "af326a29-a1c8-4399-a28d-996f85819d9e": {
      "name": "CMGT_UTIL_Filter",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!fieldValuePairs: a!defaultValue(\n    ri!fieldValuePairs,\n    apply(\n      rule!CMGT_UTIL_Filter_CreateFieldValuePair(\n        field: _,\n        value: ri!value,\n        allFields: a!flatten(ri!field)\n      ),\n      a!flatten(ri!field)\n    )\n  ),\n  local!matchingCriteria: a!defaultValue(\n    value: ri!matchingCriteria,\n    default: \"ALL\"\n  ),\n  local!matchType: a!defaultValue(value: ri!matchType, default: \"EXACT\"),\n  local!matchIndices: if(\n    a!isNullOrEmpty(a!flatten(ri!records)),\n    tointeger({}),\n    reduce(\n      rule!CMGT_UTIL_Filter_Reducer(\n        matchingCriteria: local!matchingCriteria,\n        previousIndices: _,\n        records: a!flatten(ri!records),\n        fieldValuePair: _,\n        matchType: local!matchType\n      ),\n      a!match(\n        value: local!matchingCriteria,\n        equals: \"ALL\",\n        then: enumerate(count(a!flatten(ri!records))) + 1,\n        equals: \"ANY\",\n        then: {},\n        default: fn!error(\n          \"Invalid matchingCriteria, must be one of: ALL, ANY\"\n        )\n      ),\n      local!fieldValuePairs\n    )\n  ),\n  local!rejectIndices: difference(\n    if(\n      a!isNullOrEmpty(ri!records),\n      tointeger({}),\n      enumerate(count(a!flatten(ri!records))) + 1\n    ),\n    local!matchIndices\n  ),\n  local!matches: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!matchIndices, {})\n  ),\n  local!rejects: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!rejectIndices, {})\n  ),\n  local!output: a!match(\n    value: a!defaultValue(ri!filterType, \"FILTER\"),\n    equals: \"FILTER\",\n    then: local!matches,\n    equals: \"REJECT\",\n    then: local!rejects,\n    equals: \"FIRST_MATCH\",\n    then: index(local!matches, 1, null),\n    equals: \"FIRST_REJECT\",\n    then: index(local!rejects, 1, null),\n    equals: \"MATCH_COUNT\",\n    then: count(local!matchIndices),\n    equals: \"REJECT_COUNT\",\n    then: count(local!rejectIndices),\n    equals: \"MATCH_INDICES\",\n    then: local!matchIndices,\n    equals: \"REJECT_INDICES\",\n    then: local!rejectIndices,\n    equals: \"FULL_RESULT\",\n    then: a!map(\n      matches: local!matches,\n      rejects: local!rejects,\n      firstMatch: index(local!matches, 1, null),\n      firstReject: index(local!rejects, 1, null),\n      matchCount: count(local!matchIndices),\n      rejectCount: count(local!rejectIndices),\n      matchIndices: local!matchIndices,\n      rejectIndices: local!rejectIndices\n    ),\n    default: fn!error(\n      \"Invalid filterType, must be one of: FILTER, REJECT, FIRST_MATCH, FIRST_REJECT, MATCH_COUNT, REJECT_COUNT, MATCH_INDICES, REJECT_INDICES, FULL_RESULT\"\n    )\n  ),\n  local!output\n)"
    },
    "_a-0000eae2-bc35-8000-9c3a-011c48011c48_1170290": {
      "name": "CMGT_WFL_ReferenceTask_WriteRecordsProperties",
      "type": "Expression Rule",
      "sail_code": "if(\n  ri!isInput,\n  rule!CMGT_UTIL_DropNonWritableRelationshipsFromRecord(\n    records: ri!referenceTasks,\n    relationships: {\n      recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions\n    }\n  ),\n  rule!CMGT_UTIL_MergeWriteRecordIdsToProcessVariable(\n    processData: ri!referenceTasks,\n    recordsUpdated: ri!recordsUpdated,\n    fksToParent: {\n      recordType!CMGT_WFL_CFG_ReferenceTask.taskResponseOptions.referenceTaskId\n    }\n  )\n)"
    },
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_17215": {
      "name": "CMGT_EXT_UTIL_RandomForeignKey",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!totalCount: #\"SYSTEM_SYSRULES_queryRecordType_v1\"(\n    recordType: ri!recordType,\n    pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(startIndex: 1, batchSize: 0),\n    fetchTotalCount: true\n  ).totalCount,\n  if(\n    local!totalCount=0,\n    null,\n    a!localVariables(\n      local!query:#\"SYSTEM_SYSRULES_queryRecordType_v1\"(\n        recordType: ri!recordType,\n        pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n          startIndex: max({ceiling(rand() * local!totalCount),1}),\n          batchSize: 1\n        )\n      ),\n      if(\n        ri!fullObject,\n        local!query.data[1],\n        local!query.identifiers[1]\n      )\n    )\n  )\n\n)"
    },
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_16627": {
      "name": "CMGT_EXT_Tag_GenerateTags",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: rule!CMGT_EXT_DATA_Tags(),\n  expression: a!localVariables(\n    local!createdOnModifiedOnDateTime: rule!CMGT_EXT_UTIL_RandomDateTime(\n      fromDate: a!subtractDateTime(startDateTime: now(), months: 3),\n      toDate: a!subtractDateTime(startDateTime: now(), days: 15)\n    ),\n    local!createdByModifiedByUser: rule!CMGT_EXT_UTIL_RandomXMembersFromGroup(\n      group: cons!CMGT_GRP_INTERNAL_USERS,\n      includeServiceAccounts: false()\n    ),\n    recordType!CMGT_Tag(\n      recordType!CMGT_Tag.tagName: fv!item,\n      recordType!CMGT_Tag.createdBy: local!createdByModifiedByUser,\n      recordType!CMGT_Tag.createdOn: local!createdOnModifiedOnDateTime,\n      recordType!CMGT_Tag.modifiedBy: local!createdByModifiedByUser,\n      recordType!CMGT_Tag.modifiedOn: local!createdOnModifiedOnDateTime,\n      recordType!CMGT_Tag.isActive: true()\n    )\n  )\n)"
    },
    "_a-0000ed13-8a01-8000-9bda-011c48011c48_1112854": {
      "name": "CMGT_EXT_ConstructRandomSlaAsJson",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_toJson_v1\"(\n  a!map(\n    days: rule!CMGT_EXT_UTIL_RandomInt(between: { 30, 40 }),\n    hours: rule!CMGT_EXT_UTIL_RandomInt(between: { 0, 23 }),\n    minutes: rule!CMGT_EXT_UTIL_RandomInt(between: { 0, 59 }),\n    isBusinessDays: rule!CMGT_EXT_UTIL_RandomBoolean()\n  )\n)"
    },
    "_a-0000ec34-7771-8000-9bb0-011c48011c48_132003": {
      "name": "CMGT_EXT_UTIL_ReturnDatsetDetailsByDatasetName",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  rule!CMGT_UTIL_Filter(\n    records: rule!CMGT_EXT_ENUM_DATASET(),\n    field: \"datasetUuid\",\n    value: ri!datasetUuids\n  ),\n  cast(typeof(a!map()), fv!item)\n)"
    },
    "_a-0000ec06-54a3-8000-9cca-011c48011c48_2514329": {
      "name": "CMGT_EXT_UTIL_RandomDateTime",
      "type": "Expression Rule",
      "sail_code": "/*By default ignoring the day light saving time (2.00 AM to 3.00 AM of day light saving start date) \nas attempting to write this date might error out */\na!localVariables(\n  local!returnCount: a!defaultValue(value: ri!returnCount, default: 1),\n  local!dateTimes: #\"SYSTEM_SYSRULES_forEach\"(\n    items: enumerate(local!returnCount),\n    expression: rule!CMGT_EXT_UTIL_AdjustDateTimeForDayLightSaving(\n      dateTime: ri!toDate - rule!CMGT_EXT_UTIL_RandomInt(\n        between: { 0, tointeger(ri!toDate - ri!fromDate) },\n        numOfDigits: 2\n      )\n    )\n  ),\n  if(\n    ri!sortAscending,\n    rule!CMGT_EXT_UTIL_SortArray(array: local!dateTimes, ascending: true()),\n    local!dateTimes\n  )\n)"
    },
    "_a-0000e98b-cfe0-8000-9ba5-011c48011c48_19509": {
      "name": "CMGT_QR_GetCase",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_Case,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Case.caseId,\n      operator: \"in\",\n      value: ri!caseId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Case.dueOn,\n      operator: \">\",\n      value: rule!CMGT_UTIL_ConvertDatetoDatetime(\n        date: ri!dueOnDate - 1,\n        useSystemTimeZone: a!defaultValue(ri!useSystemTimeZoneForDueOn,true)\n      )\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Case.dueOn,\n      operator: \"<=\",\n      value: rule!CMGT_UTIL_ConvertDatetoDatetime(\n        date: ri!dueOnDate,\n        useSystemTimeZone: a!defaultValue(ri!useSystemTimeZoneForDueOn,true)\n      )\n    )\n  },\n  logicalExpressions: ri!additionalLogicalExpression,\n  fields: {\n    ri!fields,\n    if(\n      ri!excludeRelatedRecords,\n      {},\n      {\n        recordType!CMGT_Case.status,\n        recordType!CMGT_Case.priority,\n        recordType!CMGT_Case.caseType\n      }\n    ),\n    if(\n      ri!includeAssignees,\n      {\n        recordType!CMGT_Case.roles,\n        recordType!CMGT_Case.roles\n      },\n      {}\n    ),\n    if(\n      ri!includePrimaryContact,\n      {\n        recordType!CMGT_Case.caseEntityMap,\n        #\"urn:appian:record-relationship:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/9455b8a8-142d-4976-8b8d-83403eedad6a/043457e2-ee0b-4c7a-8210-8671bbe73128/2a2b64c2-0530-4e0a-a173-d26a396e3cc9\"\n      },\n      {}\n    )\n  },\n  relatedRecordData: {\n    ri!relatedRecordData,\n    if(\n      ri!includePrimaryContact,\n      #\"SYSTEM_SYSRULES_relatedRecordData\"(\n        relationship: recordType!CMGT_Case.caseEntityMap,\n        limit: 1,\n        filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_CaseEntityMap.entity.entityTypeId,\n          operator: \"=\",\n          value: cons!CMGT_REFID_ENTITY_TYPE_CONTACT\n        )\n      ),\n      {}\n    ),\n    if(\n      ri!includeAssignees,\n      #\"SYSTEM_SYSRULES_relatedRecordData\"(\n        relationship: recordType!CMGT_Case.roles,\n        filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_Role.roleTypeId,\n          operator: \"in\",\n          value: {\n            cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n            cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n          }\n        )\n      ),\n      {}\n    )\n  },\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_16220": {
      "name": "CMGT_EXT_Case_GenerateCaseDetails",
      "type": "Expression Rule",
      "sail_code": "/*\nPerformancemetrics(howmanythingspercase)outlinedinthisdocument:\nhttps://docs.google.com/document/d/1jo8Co1mLFSjERZhzajke_6ZkjnyXRY_kdb-CYNWC71o/edit#heading=h.m76hr38jg2dj\n*/\n/* For case and it is related records to get most recent events we are picking a dateTime till now for the modifiedOn timestamp   */\n/*Need to add james baker as assignee after the user creation is done*/\na!localVariables(\n  local!caseTypes: rule!CMGT_QR_GetCaseType(\n    excludeRelatedRecords: true(),\n    additionalFilters: #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_CaseType.parentUuid,\n      operator: \"not null\",\n      \n    ),\n    fields: {\n      recordType!CMGT_CFG_CaseType.uuid,\n      recordType!CMGT_CFG_CaseType.name,\n      recordType!CMGT_CFG_CaseType.caseTypeMetadata\n    }\n  ),\n  local!currentCaseType: #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!caseData,\n    expression: rule!CMGT_UTIL_Filter(\n      records: local!caseTypes,\n      field: recordType!CMGT_CFG_CaseType.name,\n      value: fv!item.caseType\n    )\n  ),\n  local!tagIds: rule!CMGT_QR_GetTag(\n    fields: recordType!CMGT_Tag.tagId\n  )[recordType!CMGT_Tag.tagId],\n  local!watchersPerCase: rule!CMGT_EXT_UTIL_RandomInt(between: { 1, 3 }),\n  local!tagsPerCase: rule!CMGT_EXT_UTIL_RandomInt(between: { 1, 3 }),\n  local!createdBy: rule!CMGT_EXT_UTIL_RandomXMembersFromGroup(\n    group: cons!CMGT_GRP_INTERNAL_USERS,\n    includeServiceAccounts: false()\n  ),\n  local!modifiedBy: rule!CMGT_EXT_UTIL_RandomXMembersFromGroup(\n    group: cons!CMGT_GRP_INTERNAL_USERS,\n    includeServiceAccounts: false()\n  ),\n  /*Case should be created in past 2 months*/\n  local!timestamp: a!defaultValue(\n    value: ri!timestamp,\n    default: rule!CMGT_EXT_AdjustDateTimeForDayLightSaving(\n      dateTime: rule!CMGT_EXT_UTIL_RandomDateTime(\n        fromDate: a!subtractDateTime(startDateTime: now(), months: 2),\n        toDate: a!subtractDateTime(startDateTime: now(), days: 15)\n      )\n    )\n  ),\n  /*If the case has default assignee it will be assigned to the maximum data user of that group\n  else it will be assigned to random user from case manager and case worker group*/\n  local!userAssignee: rule!CMGT_EXT_UTIL_Distinct(\n    value: touniformstring(\n      {\n        rule!CMGT_EXT_UTIL_RandomXMembersFromGroup(\n          group: cons!CMGT_GRP_CASE_WORKERS,\n          includeServiceAccounts: false,\n          noOfMembers: 1\n        ),\n        rule!CMGT_EXT_UTIL_RandomXMembersFromGroup(\n          group: cons!CMGT_GRP_CASE_MANAGERS,\n          includeServiceAccounts: false,\n          noOfMembers: 1\n        )\n      }\n    )\n  ),\n  /*  Adding the current casetype's case due days to the case createdOn dateTime to determine caseDueOn   */\n  local!caseDueOn: rule!CMGT_UTIL_CalculateDueDateBasedOnSLA(\n    SLA: local!currentCaseType[recordType!CMGT_CFG_CaseType.caseTypeMetadata.sla],\n    dateTime: local!timestamp\n  ),\n  local!caseCompletedOn: if(\n    ri!caseData.status = cons!CMGT_REFID_STATUS_CASE_CLOSED,\n    rule!CMGT_EXT_AdjustDateTimeForDayLightSaving(\n      dateTime: if(\n        local!caseDueOn > now(),\n        rule!CMGT_EXT_UTIL_RandomDateTime(\n          fromDate: local!timestamp,\n          toDate: a!subtractDateTime(startDateTime: now(), days: 10)\n        ),\n        rule!CMGT_EXT_UTIL_RandomDateTime(\n          fromDate: local!timestamp,\n          toDate: a!subtractDateTime(startDateTime: local!caseDueOn, days: 10)\n        )\n      )\n    ),\n    null()\n  ),\n  recordType!CMGT_Case(\n    recordType!CMGT_Case.caseId: null,\n    recordType!CMGT_Case.friendlyId: rule!CMGT_Case_GenerateFriendlyIdentifier_Logic(\n      case: recordType!CMGT_Case(\n        recordType!CMGT_Case.caseType: local!currentCaseType,\n        recordType!CMGT_Case.caseTypeUuid: local!currentCaseType[recordType!CMGT_CFG_CaseType.uuid]\n      )\n    ),\n    recordType!CMGT_Case.caseTypeUuid: local!currentCaseType[recordType!CMGT_CFG_CaseType.uuid],\n    recordType!CMGT_Case.title: ri!caseData.title,\n    recordType!CMGT_Case.description: ri!caseData.description,\n    recordType!CMGT_Case.statusId: ri!caseData.status,\n    recordType!CMGT_Case.priorityId: rule!CMGT_EXT_UTIL_RandomForeignKey(\n      recordType: recordType!CMGT_CFG_Priority\n    ),\n    recordType!CMGT_Case.dueOn: local!caseDueOn,\n    recordType!CMGT_Case.source: cons!CMGT_TXT_SOURCE_APPIAN,\n    recordType!CMGT_Case.completedOn: local!caseCompletedOn,\n    recordType!CMGT_Case.isActive: true(),\n    recordType!CMGT_Case.isCreateProcessDone: true,\n    recordType!CMGT_Case.createdBy: local!createdBy,\n    recordType!CMGT_Case.createdOn: local!timestamp,\n    recordType!CMGT_Case.modifiedBy: local!modifiedBy,\n    recordType!CMGT_Case.modifiedOn: /*  To get most recent events we are picking a dateTime till now    */\n    rule!CMGT_EXT_UTIL_RandomDateTime(fromDate: local!timestamp, toDate: now()),\n    recordType!CMGT_Case.roles: a!flatten(\n      {\n        /*    User Assignee    */\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: local!userAssignee,\n          expression: recordType!CMGT_Role(\n            recordType!CMGT_Role.roleTypeId: cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n            recordType!CMGT_Role.username: fv!item,\n            recordType!CMGT_Role.isActive: true(),\n            recordType!CMGT_Role.createdBy: local!createdBy,\n            recordType!CMGT_Role.createdOn: local!timestamp,\n            recordType!CMGT_Role.modifiedBy: local!modifiedBy,\n            recordType!CMGT_Role.modifiedOn: rule!CMGT_EXT_UTIL_RandomDateTime(fromDate: local!timestamp, toDate: now())\n          )\n        ),\n        /*  Watchers      */\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: rule!CMGT_EXT_UTIL_RandomXMembersFromGroup(\n            group: cons!CMGT_GRP_INTERNAL_USERS,\n            includeServiceAccounts: false(),\n            noOfMembers: local!watchersPerCase\n          ),\n          expression: recordType!CMGT_Role(\n            recordType!CMGT_Role.roleTypeId: cons!CMGT_REFID_ROLE_TYPE_WATCHER,\n            recordType!CMGT_Role.username: fv!item,\n            recordType!CMGT_Role.isActive: true(),\n            recordType!CMGT_Role.createdBy: local!createdBy,\n            recordType!CMGT_Role.createdOn: local!timestamp,\n            recordType!CMGT_Role.modifiedBy: local!modifiedBy,\n            recordType!CMGT_Role.modifiedOn: rule!CMGT_EXT_UTIL_RandomDateTime(fromDate: local!timestamp, toDate: now())\n          )\n        ),\n        /*Group Assignee*/\n        recordType!CMGT_Role(\n          recordType!CMGT_Role.roleTypeId: cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE,\n          recordType!CMGT_Role.groupId: group(\n            a!match(\n              value: index(\n                local!currentCaseType[recordType!CMGT_CFG_CaseType.uuid],\n                1,\n                null\n              ),\n              /*solar permit*/\n              equals: cons!CMGT_EXT_TXT_GENERATED_CASE_TYPE_UUIDS[1],\n              then: cons!CMGT_EXT_GRP_ANALYSTS,\n              /*addition permit*/\n              equals: cons!CMGT_EXT_TXT_GENERATED_CASE_TYPE_UUIDS[2],\n              then: cons!CMGT_EXT_GRP_ANALYSTS,\n              /*CCD*/\n              equals: cons!CMGT_EXT_TXT_GENERATED_CASE_TYPE_UUIDS[3],\n              then: cons!CMGT_EXT_GRP_CUSTOMER_SERVICE,\n              /*ACH*/\n              equals: cons!CMGT_EXT_TXT_GENERATED_CASE_TYPE_UUIDS[4],\n              then: cons!CMGT_EXT_GRP_DISPUTE_OPERATORS,\n              default: cons!CMGT_GRP_CASE_WORKERS\n            ),\n            \"id\"\n          ),\n          recordType!CMGT_Role.isActive: true(),\n          recordType!CMGT_Role.createdBy: local!createdBy,\n          recordType!CMGT_Role.createdOn: local!timestamp,\n          recordType!CMGT_Role.modifiedBy: local!modifiedBy,\n          recordType!CMGT_Role.modifiedOn: rule!CMGT_EXT_UTIL_RandomDateTime(fromDate: local!timestamp, toDate: now())\n        )\n      }\n    ),\n    recordType!CMGT_Case.documents: #\"SYSTEM_SYSRULES_forEach\"(\n      items: rule!CMGT_UTIL_Filter(\n        records: ri!documentMaps,\n        field: \"caseTitle\",\n        value: ri!caseData.title\n      ),\n      expression: a!localVariables(\n        local!documentTimestamp: rule!CMGT_EXT_UTIL_RandomDateTime(fromDate: local!timestamp, toDate: now()),\n        recordType!CMGT_Document(\n          recordType!CMGT_Document.appianDocId: fv!item.document,\n          recordType!CMGT_Document.documentName: fv!item.name,\n          recordType!CMGT_Document.description: fv!item.description,\n          recordType!CMGT_Document.isPrivate: rule!CMGT_EXT_UTIL_RandomBoolean(),\n          recordType!CMGT_Document.extension: document(fv!item.document, \"extension\"),\n          recordType!CMGT_Document.size: document(fv!item.document, \"size\"),\n          recordType!CMGT_Document.isActive: true(),\n          recordType!CMGT_Document.createdBy: local!createdBy,\n          recordType!CMGT_Document.createdOn: local!timestamp,\n          recordType!CMGT_Document.modifiedBy: local!modifiedBy,\n          recordType!CMGT_Document.modifiedOn: local!documentTimestamp\n        )\n      )\n    ),\n    recordType!CMGT_Case.tagMap: #\"SYSTEM_SYSRULES_forEach\"(\n      items: rule!CMGT_EXT_UTIL_RandomXObjectsFromArray(\n        array: local!tagIds,\n        noOfObjects: local!tagsPerCase\n      ),\n      expression: a!localVariables(\n        local!tagTimestamp: rule!CMGT_EXT_UTIL_RandomDateTime(\n          fromDate: local!timestamp,\n          toDate: a!addDateTime(startDateTime: local!timestamp, days: 10)\n        ),\n        local!createdByModifiedByForTag: rule!CMGT_EXT_UTIL_RandomXMembersFromGroup(\n          group: cons!CMGT_GRP_INTERNAL_USERS,\n          includeServiceAccounts: false()\n        ),\n        recordType!CMGT_CaseTagMap(\n          recordType!CMGT_CaseTagMap.tagId: fv!item,\n          recordType!CMGT_CaseTagMap.createdBy: local!createdByModifiedByForTag,\n          recordType!CMGT_CaseTagMap.createdOn: local!tagTimestamp,\n          recordType!CMGT_CaseTagMap.modifiedBy: local!createdByModifiedByForTag,\n          recordType!CMGT_CaseTagMap.modifiedOn: local!tagTimestamp,\n          recordType!CMGT_CaseTagMap.isActive: true()\n        )\n      )\n    ),\n    recordType!CMGT_Case.milestones: rule!CMGT_EXT_WFL_Case_GenerateCaseCreationMilestones_Logic(\n      caseTypeUuid: local!currentCaseType[recordType!CMGT_CFG_CaseType.uuid],\n      createdBy: local!createdBy,\n      modifiedBy: local!modifiedBy,\n      timestamp: local!timestamp\n    )\n  )\n)"
    }
  }
}
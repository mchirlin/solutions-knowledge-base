{
  "_metadata": {
    "bundle_id": "AS_GCM_Clause_Set_Clause_Synced_-_Complete_Fill-ins"
  },
  "objects": {
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76433": {
      "name": "AS_CO_UT_indexPath",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!fieldsAndIndices: rule!AS_CO_UT_zINTERNAL_indexPath_nestedFieldArrayHandler(field: ri!field),\n\n  reduce(\n    index(_, _, ri!indexDefault),\n    ri!cdt,\n    local!fieldsAndIndices\n  )\n)"
    },
    "_a-0000ec34-8724-8000-9d8b-011c48011c48_12649456": {
      "name": "AS_GCM_autoPopulateFillinandSetMetaDataOnClauseAddition",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    a!isNotNullOrEmpty(ri!clauseText),\n    ri!isUpdateClauseText,\n    find(\"</cite>\", ri!clauseText) <> 0\n  ),\n  a!localVariables(\n    /* look for the fillin metadata hidden tag */\n    local!hiddenTag: regexfirstmatch(\n      cons!AS_GCM_TXT_REGEX_FOR_HIDDEN_SPAN_TAG_FILLIN_METADATA,\n      ri!clauseText,\n      \"gm\"\n    ),\n    /*Extracting all tables from the clause text*/\n    local!tableFillinCount: length(\n      regexallmatches(\n        \"<table.*?</cite>.*?</table>\",\n        ri!clauseText\n      )\n    ),\n    /* get all the simple fillins (Single line, Multiline, Checkbox) expect the table fillins */\n    local!allSimpleFillins: #\"SYSTEM_SYSRULES_forEach\"(\n      items: regexallmatches(\n        \"<cite.*?</cite>\",\n        regexreplaceall(\"<table.*?</table>\", ri!clauseText, \"\")\n      ),\n      expression: rule!AS_GCM_UT_findFillIns(fillInText: fv!item)\n    ),\n    /* get the auto populate values for the fillins */\n    local!autoPopulateValue: rule!AS_GCM_QR_getFillInRecDetails(\n      returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n      fillInRecFillInUuid: index(local!allSimpleFillins, \"uuid\", null),\n      isAutoPopulated: true(),\n      executeWhen: a!isNotNullOrEmpty(\n        index(local!allSimpleFillins, \"uuid\", null)\n      )\n    ),\n    local!recFillins: rule!AS_GCM_filterRecords(\n      records: local!allSimpleFillins,\n      field: \"uuid\",\n      value: local!autoPopulateValue[recordType!AS GCM Fill In Recommendation.fillInRecFillInUuid]\n    ),\n    /* update the cite tag with the auto populated values */\n    local!updatedFillins: #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!recFillins,\n      expression: a!localVariables(\n        local!value: regexreplaceall(\n          \"<cite.*?>|</cite>\",\n          index(fv!item, \"cite\", \"\"),\n          \"\"\n        ),\n        local!autoPopulatedValue: rule!AS_CO_UT_cast(\n          type: recordType!AS GCM Fill In Recommendation,\n          value: rule!AS_GCM_filterRecords(\n            records: local!autoPopulateValue,\n            field: recordType!AS GCM Fill In Recommendation.fillInRecFillInUuid,\n            value: index(fv!item, \"uuid\", \"\")\n          )\n        ),\n        #\"urn:appian:function:v1:a:update\"(\n          data: fv!item,\n          index: \"cite\",\n          value: substitute(\n            index(fv!item, \"cite\", \"\"),\n            local!value,\n            tostring(\n              a!defaultValue(\n                value: local!autoPopulatedValue[recordType!AS GCM Fill In Recommendation.fillInStaticRec],\n                default: rule!AS_GCM_BL_dynamicFillinRecommendation(\n                  bundle: ri!bundle,\n                  clauseSet: ri!clauseSet,\n                  fillInDynmaicRecId: local!autoPopulatedValue[recordType!AS GCM Fill In Recommendation.fillInDynamicRecId]\n                ),\n                /* retain the cite tag with existing value */\n                default: local!value\n              )\n            )\n          )\n        )\n      )\n    ),\n    /* Get the fillins which are updated with auto populated values as all the dynamicRecFillIn will not be updated all the time*/\n    local!captureMetaDataFillins: difference(local!updatedFillins, local!recFillins),\n    local!updatedClauseText: rule!AS_GCM_substituteListFromTextUsingReduce(\n      text: ri!clauseText,\n      find: index(local!recFillins, \"cite\", null()),\n      replaceWith: index(local!updatedFillins, \"cite\", null())\n    ),\n    local!metaDataAndStats: rule!AS_GCM_constructClauseTextMetaDataFromClauseText(\n      fillinsUuid: index(local!captureMetaDataFillins, \"uuid\", \"\"),\n      completedBy: cons!AS_GCM_TXT_FILL_IN_COMPLETED_BY_SYSTEM_AGENCY,\n      totalFillinCount: length(local!allSimpleFillins) + local!tableFillinCount,\n      completedFillinCount: length(local!captureMetaDataFillins),\n      fillableTableCount: local!tableFillinCount,\n      /*0 is hardcoded here because the table fill-ins cannot be auto-populated during creation of clause set  */\n      completedFillableTableCount: 0,\n      totalSimpleFillins: length(local!allSimpleFillins),\n      completedSimpleFillins: length(local!captureMetaDataFillins),\n      totalCiteTagsCount: length(\n        regexallmatches(\"<cite.*?</cite>\", ri!clauseText)\n      )\n    ),\n    if(\n      a!isNotNullOrEmpty(local!hiddenTag),\n      substitute(\n        local!updatedClauseText,\n        local!hiddenTag,\n        local!metaDataAndStats\n      ),\n      concat(\n        local!updatedClauseText,\n        local!metaDataAndStats\n      )\n    )\n  ),\n  ri!clauseText\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_84411": {
      "name": "AS_CO_I18N_UT_getAndDisplayLabelSingle",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  a!localVariables(\n  \n    local!bundleKeyParse: rule!AS_CO_I18N_UT_parseBundleKey(\n      bundleKey: ri!bundleKey\n    ),\n    \n    local!i18nData: rule!AS_CO_I18N_UT_loadBundleFromFolder(\n      bundleFolder: ri!bundleFolder,\n      bundleNames: local!bundleKeyParse.bundleName,\n      localeAgnostic: ri!localeAgnostic\n    ),\n    \n    rule!AS_CO_I18N_UT_displayLabel(\n      i18nData: local!i18nData,\n      bundleKey: ri!bundleKey,\n      arguments: ri!arguments\n    )\n  )\n)"
    },
    "_a-0000e79a-fc04-8000-9bf4-011c48011c48_2250560": {
      "name": "AS_GCM_CPS_quickFillin",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!quickFillinMap: rule!AS_CO_UT_replaceNull(\n    /* User Defined Recommendations */\n    nullableValue: rule!AS_CO_UT_rejectCdtByField(\n      cdt: #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!recommendedValues,\n        expression: a!map(\n          label: a!defaultValue(\n            value: fv!item[recordType!AS GCM Fill In Recommendation.fillInRecLabel],\n            default: \"Recommended Value\"\n          ),\n          value: a!defaultValue(\n            value: fv!item[recordType!AS GCM Fill In Recommendation.fillInStaticRec],\n            default: rule!AS_GCM_BL_dynamicFillinRecommendation(\n              bundle: ri!bundle,\n              clauseSet: ri!clauseSet,\n              fillInDynmaicRecId: fv!item[recordType!AS GCM Fill In Recommendation.fillInDynamicRecId]\n            )\n          ),\n          showMore: false()\n        )\n      ),\n      field: \"value\",\n      value: null\n    ),\n    /* Default Recommendations */\n    replacementValue: rule!AS_CO_UT_rejectCdtByField(\n      cdt: #\"SYSTEM_SYSRULES_forEach\"(\n        items: {\n          a!map(\n            labelKey: \"lbl_Type\",\n            field: \"refType.refKey\"\n          ),\n          a!map(\n            labelKey: \"lbl_ContractingOfficer\",\n            field: \"contractingOfficer\",\n            isUser: true\n          ),\n          a!map(\n            labelKey: \"lbl_ContractSpecialist\",\n            field: \"contractSpecialist\",\n            isUser: true\n          ),\n          a!map(\n            labelKey: \"lbl_ContractOfficerRep\",\n            field: \"contractingOffcrRep\",\n            isUser: true\n          ),\n          a!map(\n            labelKey: \"lbl_ContractPurposeDetail\",\n            field: \"contractPurposeDetail\"\n          ),\n          a!map(\n            labelKey: \"lbl_ContractMethod\",\n            field: \"refContractMethod.refKey\"\n          ),\n          a!map(\n            labelKey: \"lbl_ContractStartDate\",\n            field: \"contractStartDate\"\n          ),\n          a!map(\n            labelKey: \"lbl_ContractEndDate\",\n            field: \"contractEndDate\"\n          ),\n          a!map(\n            labelKey: \"lbl_EstimatedDollarAmount\",\n            field: \"estimatedDollarAmt\"\n          ),\n          a!map(labelKey: \"lbl_PscCode\", field: \"pscCode\"),\n          a!map(\n            labelKey: \"lbl_NaicsCode\",\n            field: \"naicsCode\"\n          )\n        },\n        expression: a!map(\n          label: rule!AS_GAM_CO_I18N_UT_displayLabel(\n            bundle: ri!bundle,\n            bundleKey: fv!item.labelKey\n          ),\n          value: if(\n            fv!item.isUser,\n            rule!AS_CO_UT_displayUser(\n              user: rule!AS_CO_UT_indexPath(cdt: ri!clauseSet, field: fv!item.field)\n            ),\n            rule!AS_GAM_CO_I18N_UT_displayLabel(\n              bundle: ri!bundle,\n              bundleKey: rule!AS_CO_UT_indexPath(cdt: ri!clauseSet, field: fv!item.field)\n            )\n          ),\n          showMore: false()\n        )\n      ),\n      field: \"value\",\n      value: null\n    )\n  ),\n  /* get the selected index to rid of the duplicates in values */\n  local!selectedIndex: index(\n    rule!AS_CO_UT_whereContains(\n      values: ri!fillinValue,\n      array: local!quickFillinMap.value\n    ),\n    1,\n    null\n  ),\n  if(\n    rule!AS_CO_UT_isBlank(value: local!quickFillinMap),\n    {},\n    {\n      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {},\n        showWhen: ri!showWhen\n      ),\n      #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n        label: \"Suggested Values\",\n        labelSize: \"EXTRA_SMALL\",\n        labelColor: cons!AS_GCM_HEX_CODE_GRAY_3,\n        contents: #\"SYSTEM_SYSRULES_forEach\"(\n          items: local!quickFillinMap,\n          expression: #\"SYSTEM_SYSRULES_cardLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_columnsLayout\"(\n                columns: {\n                  #\"SYSTEM_SYSRULES_columnLayout\"(\n                    contents: {\n                      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                        labelPosition: \"COLLAPSED\",\n                        value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                          text: if(\n                            fv!item.showMore,\n                            \"Show Less\",\n                            \"Show More\"\n                          ),\n                          link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                            value: if(\n                              rule!AS_CO_UT_isBlank(fv!item.showMore),\n                              null,\n                              not(fv!item.showMore)\n                            ),\n                            saveInto: fv!item.showMore\n                          ),\n                          linkStyle: \"STANDALONE\"\n                        ),\n                        showWhen: len(fv!item.value) > 50,\n                        marginBelow: \"NONE\"\n                      ),\n                      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                        labelPosition: \"COLLAPSED\",\n                        value: {\n                          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                            text: if(\n                              and(\n                                len(fv!item.value) > 50,\n                                toboolean(fv!item.showMore) = false\n                              ),\n                              leftb(fv!item.value, 50) & \"...\",\n                              fv!item.value\n                            )\n                          )\n                        },\n                        marginBelow: \"NONE\"\n                      ),\n                      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                        labelPosition: \"COLLAPSED\",\n                        value: {\n                          #\"SYSTEM_SYSRULES_richTextItem_v1\"(text: fv!item.label, size: \"SMALL\")\n                        },\n                        marginBelow: \"NONE\"\n                      )\n                    }\n                  ),\n                  #\"SYSTEM_SYSRULES_columnLayout\"(\n                    contents: {\n                      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                        labelPosition: \"COLLAPSED\",\n                        value: {\n                          #\"SYSTEM_SYSRULES_richTextIcon\"(\n                            icon: if(\n                              and(\n                                fv!item.value = ri!fillinValue,\n                                fv!index = tointeger(local!selectedIndex)\n                              ),\n                              \"check-circle\",\n                              \"circle-o-large\"\n                            ),\n                            altText: if(\n                              and(\n                                fv!item.value = ri!fillinValue,\n                                fv!index = tointeger(local!selectedIndex)\n                              ),\n                              \"Selected\",\n                              \"Unselected\"\n                            ),\n                            color: cons!AS_GCM_HEX_CODE_BLUE\n                          )\n                        },\n                        align: \"RIGHT\",\n                        marginBelow: \"NONE\"\n                      )\n                    },\n                    width: \"EXTRA_NARROW\"\n                  )\n                },\n                alignVertical: \"MIDDLE\"\n              )\n            },\n            link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n              value: fv!item.value,\n              saveInto: {\n                ri!fillinValue,\n                ri!additionalSavesForFillin,\n                a!save(local!selectedIndex, fv!index)\n              }\n            ),\n            height: \"AUTO\",\n            style: cons!AS_GCM_HEX_CODE_GRAY_0,\n            shape: \"ROUNDED\",\n            padding: \"STANDARD\",\n            marginBelow: \"LESS\",\n            showBorder: false,\n            accessibilityText: if(\n              cons!AS_GCM_TOGGLE_AUTOMATION_TESTING_ENABLED,\n              \"Suggested Values\" & \" \" & fv!index,\n              \"\"\n            )\n          )\n        ),\n        showWhen: ri!showWhen,\n        marginAbove: \"STANDARD\"\n      )\n    }\n  )\n)"
    },
    "_a-0000e643-f7f1-8000-9bca-011c48011c48_1382904": {
      "name": "AS_GCM_MTR_SAVE_editedAndMarkedCompleteClauseSetClause",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(local!temp, a!save(local!temp, {}))"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81720": {
      "name": "AS_CO_I18N_UT_loadBundleFromFolder",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  a!localVariables(\n    \n    local!locale: if(\n      ri!localeAgnostic,\n      null,\n      rule!AS_CO_I18N_UT_getUserLocale(user: loggedInUser())\n    ),\n    \n    if(\n      rule!AS_CO_UT_isBlank(ri!bundleFolder),\n      \n      null,\n      \n      a!localVariables(\n        /*Wrapping this in a local variable to ensure caching -- it will only re-execute if inputs change*/\n        local!bundleData: loadbundlepropertiesfile(\n          ri!bundleFolder,\n          local!locale,\n          a!flatten(ri!bundleNames)\n        ),\n        \n        local!bundleData\n      )\n    )\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_246797": {
      "name": "AS_CO_UT_filterCdtByFieldIncludes",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    rule!AS_CO_UT_isBlank(ri!value),\n    ri!cdt,\n    index(\n      a!flatten(ri!cdt),\n      rule!AS_CO_UT_returnCdtIndicesByFieldIncludes(\n        cdt: ri!cdt,\n        field: ri!field,\n        value: ri!value\n      ),\n      {}\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73980": {
      "name": "AS_CO_UT_replaceNull",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!nullableValue),\n  ri!replacementValue,\n  ri!nullableValue\n)"
    },
    "_a-0000e79a-fc04-8000-9bf4-011c48011c48_2075315": {
      "name": "AS_GCM_UT_getFillInSection",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Splitting the clause text by the paragraph tag <p*/\n  local!text: split(\n    rule!AS_GCM_removeHiddenSpanTagsFromHtml(text: ri!clauseText),\n    \"<p\"\n  ),\n  /*Dividing the resultant array into a map of paragraph(texts that don't contain fillins)\n  And cite(text that contains fillin)*/\n  local!textMap: #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!text,\n    expression: if(\n      find(\"<cite\", fv!item) <> 0,\n      a!map(paragraph: \"\", cite: \"<p\" & fv!item),\n      a!map(paragraph: \"<p\" & fv!item, cite: \"\")\n    )\n  ),\n  /*Finding the indices in local!textMap which contains value for paragraoh tag only*/\n  local!paragraphIndex: #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!textMap,\n    expression: if(\n      rule!AS_CO_UT_isNotBlank(fv!item.paragraph),\n      fv!index,\n      null\n    )\n  ),\n  local!paragraphIndices: reject(\n    rule!AS_CO_UT_isBlank(_),\n    local!paragraphindex\n  ),\n  /*The below rule is used to combine consecutive cite tags and the previous paragraph tag*/\n  local!mergedText: rule!AS_GCM_UT_groupParagraphAndCites(\n    textMap: local!textMap,\n    paragraphIndices: local!paragraphIndices\n  ),\n  rule!AS_CO_UT_rejectNullValuesFromArray(local!mergedText)\n)"
    },
    "_a-0000e90e-0586-8000-9c1e-011c48011c48_3704306": {
      "name": "AS_GCM_CONS_fillInTypeMaps",
      "type": "Expression Rule",
      "sail_code": "{\n  a!map(\n    /*  String to be inputted into the cite tag for fill-ins  */\n    fillinType: cons!AS_GCM_TXT_FILL_IN_TYPE_SINGLE_LINE,\n    /*  Bundle key for selection of fill-in type  */\n    displayText: \"Single Line\"\n  ),\n  a!map(\n    fillinType: cons!AS_GCM_TXT_FILL_IN_TYPE_MULTI_LINE,\n    displayText: \"Multi Line\"\n  ),\n  a!map(\n    fillinType: cons!AS_GCM_TXT_FILL_IN_TYPE_CHECKBOX,\n    displayText: \"Checkbox\"\n  ),\n  if(\n    ri!returnTableFillinTypes,\n    {\n      a!map(\n        fillinType: cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_TABLE,\n        displayText: \"Table\"\n      ),\n      a!map(\n        fillinType: cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_RICH_TEXT_TABLE,\n        displayText: \"Rich Text Table\"\n      )\n    },\n    {}\n  )\n}"
    },
    "_a-0000e79a-fc04-8000-9bf4-011c48011c48_2121123": {
      "name": "AS_GCM_UT_fillInText",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n/*  splitting the clause text with respect to grids */\n  local!gridSplitText:  #\"SYSTEM_SYSRULES_forEach\"(\n    split(ri!clauseText,\"<tbody\"),\n    if(fv!index<>1,\"<tbody\"&fv!item,fv!item)\n  ),\n/* separating the entire body of the grid so that the cite tags can be found excluding the ones inside the grid*/\n  local!gridSeparatedText:\n  #\"SYSTEM_SYSRULES_forEach\"(\n    local!gridSplitText,\n    if(\n      fv!index=1,fv!item,\n      with(local!item:fv!item,#\"SYSTEM_SYSRULES_forEach\"(split(local!item,\"</tbody>\"),if(fv!index=1,fv!item&\"</tbody>\",fv!item)))\n    )\n  ),\n/* each item in gridSeparatedText is split w.r.t cite tags except the ones inside the grids. */\n  local!citeSplitText:\n  #\"SYSTEM_SYSRULES_forEach\"(\n    local!gridSeparatedText,\n    if(\n      find(\"<tbody\",fv!item),\n      fv!item,\n      with(local!item:fv!item,\n      #\"SYSTEM_SYSRULES_forEach\"(split(local!item,\"<cite\"),\n      if(fv!index<>1,\"<cite\"&fv!item,fv!item)\n      )\n      )\n    )\n  ),\n  local!citeSplitText\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_174191": {
      "name": "AS_CO_UT_getTypeNamespace",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  extract(ri!type, \"{\", \"}\")\n)"
    },
    "_a-0000e3ff-a5bc-8000-9ba8-011c48011c48_39082": {
      "name": "AS_CO_UT_booleanDefaultTrue",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  if(\n    isnull(ri!boolean),\n    true,\n    ri!boolean\n  )\n)"
    },
    "_a-0000e915-02bc-8000-9c1f-011c48011c48_3772981": {
      "name": "AS_GCM_UT_generateCiteTagForFillins",
      "type": "Expression Rule",
      "sail_code": "if(\n  any(\n    a!isNotNullOrEmpty,\n    { ri!clauseNumber, ri!uuid }\n  ),\n  a!localVariables(\n    local!class: concat(\n      \"class=\"\"cite \",\n      joinarray(\n        {\n          if(\n            /* Check whether the UUID is present else generate the UUID */\n            a!isNullOrEmpty(ri!uuid),\n            concat(\n              stripwith(ri!clauseNumber,\" \"),\n              \"_\",\n              rule!AS_GCM_BL_generateUuidForFillIns()\n            ),\n            ri!uuid\n          ),\n          ri!fillinType\n        },\n        \" \"\n      ),\n      \"\"\"\"\n    ),\n    if(\n      ri!getOnlyClass,\n      local!class,\n      concat(\n        \"<cite \",\n        local!class,\n        \">\",\n        ri!value,\n        \"</cite>\"\n      )\n    )\n  ),\n  \"\"\n)"
    },
    "_a-0000e93a-5ec9-8000-9c25-011c48011c48_4173206": {
      "name": "AS_GCM_BL_dynamicFillinRecommendation",
      "type": "Expression Rule",
      "sail_code": "displayvalue(\n  ri!fillInDynmaicRecId,\n  {\n    cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CLAUSE_SET_TYPE,\n    cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_CATEGORY,\n    cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACTING_OFFICER,\n    cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_SPECIALIST,\n    cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_OFFICER_REP,\n    cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_START_DATE,\n    cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_END_DATE,\n    cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_METHOD,\n    cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_ESTIMATED_DOLLAR_AMOUNT,\n    cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_PSC,\n    cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_NAICS_CODE\n  },\n  {\n    /* Clause Set Type   */\n    rule!AS_GAM_CO_I18N_UT_displayLabel(\n      bundle: ri!bundle,\n      bundleKey: ri!clauseSet.refType.refKey\n    ),\n    /*  Clause Set Category  */\n    rule!AS_GAM_CO_I18N_UT_displayLabel(\n      bundle: ri!bundle,\n      bundleKey: ri!clauseSet.refCategory.refKey\n    ),\n    /*  Contracting Officer  */\n    rule!AS_CO_UT_displayUser(user: ri!clauseSet.contractingOfficer),\n    /*  Contract Specialist  */\n    rule!AS_CO_UT_displayUser(user: ri!clauseSet.contractSpecialist),\n    /*  Contracting Officer Representative  */\n    rule!AS_CO_UT_displayUser(user: ri!clauseSet.contractingOffcrRep),\n    /*  Contract Start Date  */\n    ri!clauseSet.contractStartDate,\n    /*  Contract End Date  */\n    ri!clauseSet.contractEndDate,\n    /*  Contract Method  */\n    rule!AS_GAM_CO_I18N_UT_displayLabel(\n      bundle: ri!bundle,\n      bundleKey: ri!clauseSet.refContractMethod.refKey\n    ),\n    /*  Esitmated Dollar Amount  */\n    rule!AS_GCM_DPL_CO_UT_formatCurrencyValue(\n      currencyValue: ri!clauseSet.estimatedDollarAmt,\n      currencyCode: \"USD\",\n      showDecimal: true\n    ),\n    /*  PSC  */\n    ri!clauseSet.pscCode,\n    /*  NAICS  */\n    ri!clauseSet.naicsCode\n  },\n  \"\"\n)"
    },
    "_a-0000e79a-fc04-8000-9bf4-011c48011c48_2069878": {
      "name": "AS_GCM_FM_completeFillIns",
      "type": "Interface",
      "sail_code": "/*Any Changes to these below local variables should also be made in rule!AS_GCM_UT_isCompleteFillinsActionAvailable\nin order to make the visibility work properly.(Reason for this is we are using same local variable data in both objects so it should be in sync)\n*/\na!localVariables(\n  /* unused local since its used for metrics */\n  local!metric: rule!AS_GCM_MTR_BLANK_openCompleteFillIns(),\n  local!fillinsCollapsed: false,\n  local!bundle: rule!AS_GCM_CO_UT_loadBundleFromFolder(langISOCode: null()),\n  local!clauseSet: rule!AS_GCM_QE_getClauseSetDetails(\n    setId: ri!clauseSetClauseText.setId,\n    returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT\n  ),\n  /* the clause text is split wrt cite tags excluding the ones inside the grids */\n  local!splitText: a!flatten(\n    rule!AS_GCM_UT_fillInText(\n      clauseText: index(\n        ri!clauseSetClauseText,\n        \"clauseText\",\n        null()\n      )\n    )\n  ),\n  local!lengthOfSplitText: len(local!splitText),\n  /*Extracting all tables from the clause text*/\n  local!tables: regexallmatches(\n    \"<table.*?</table>\",\n    ri!clauseSetClauseText.clauseText\n  ),\n  local!originalTables: regexallmatches(\n    \"<table.*?</table>\",\n    ri!clauseSetClauseText.clauseTextOriginal\n  ),\n  /*Extracting preceding paragraph for each table*/\n  local!tableLabels: #\"SYSTEM_SYSRULES_forEach\"(\n    items: split(\n      ri!clauseSetClauseText.clauseText,\n      \"<table\"\n    ),\n    expression: if(\n      fv!isLast,\n      {},\n      a!localVariables(\n        local!paragraph: striphtml(\n          rule!AS_CO_UT_returnLastIndexOfArray(\n            array: regexallmatches(\"<p.*?</p>\", fv!item)\n          )\n        ),\n        /*Ignoring the paragraph if it is inside any table*/\n        if(\n          find(local!paragraph, concat(local!tables)) > 0,\n          null,\n          local!paragraph\n        )\n      )\n    )\n  ),\n  local!tablesIndexAndValue: rule!AS_CO_UT_rejectNullValuesFromArray(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!tables,\n      expression: a!localVariables(\n        local!originalTableIndex: a!defaultValue(\n          /*Determining the index of original table based on the cite tag present in table*/\n          value: index(\n            where(\n              toboolean(\n                find(\n                  a!defaultValue(\n                    value: regexfirstmatch(\"<cite.*?>\", fv!item),\n                    default: \"\"\n                  ),\n                  local!originalTables\n                )\n              )\n            ),\n            1,\n            null\n          ),\n          /*If Cite tag is not present in table, then determining the index by comparing the headers of the table\n          against headers of the original tables*/\n          default: index(\n            where(\n              toboolean(\n                find(\n                  trim(\n                    stripwith(\n                      striphtml(regexfirstmatch(\"<tr.*?</tr>\", fv!item)),\n                      \"_ \" & char(10) & char(32) & char(160)\n                    )\n                  ),\n                  #\"SYSTEM_SYSRULES_forEach\"(\n                    items: local!originalTables,\n                    expression: trim(\n                      stripwith(\n                        striphtml(regexfirstmatch(\"<tr.*?</tr>\", fv!item)),\n                        \"_ \" & char(10) & char(32) & char(160)\n                      )\n                    )\n                  )\n                )\n              )\n            ),\n            1,\n            null\n          )\n        ),\n        local!originalTable: index(\n          local!originalTables,\n          local!originalTableIndex,\n          null\n        ),\n        local!originalTableHeaderRowCells: regexallmatches(\n          \"<th.*?</th>|<td.*?</td>\",\n          regexfirstmatch(\"<tr.*?</tr>\", local!originalTable)\n        ),\n        local!tableHeaderRowCells: regexallmatches(\n          \"<th.*?</th>|<td.*?</td>\",\n          regexfirstmatch(\"<tr.*?</tr>\", fv!item)\n        ),\n        if(\n          find(\"<cite\", local!originalTable) > 0,\n          /*Constructing Table's index and value only if there is atleast one cite tag within the original table*/\n          a!map(\n            label: concat(\n              \"Table\",\n              \": \",\n              joinarray(\n                apply(\n                  fn!stripwith,\n                  apply(fn!striphtml, local!tableHeaderRowCells),\n                  char(10) & char(32) & char(16)\n                ),\n                \" | \"\n              )\n            ),\n            start: find(\n              fv!item,\n              ri!clauseSetClauseText.clauseText\n            ),\n            end: find(\n              fv!item,\n              ri!clauseSetClauseText.clauseText\n            ) + len(fv!item),\n            originalValue: local!originalTable,\n            onLoadValue: fv!item,\n            value: fv!item,\n            isUpdated: trim(\n              stripwith(\n                striphtml(local!originalTable),\n                char(10) & char(160)\n              )\n            ) <> trim(\n              stripwith(striphtml(fv!item), char(10) & char(160))\n            ),\n            backupValue: null,\n            tableHeaderRowCells: local!tableHeaderRowCells,\n            tableStartTag: regexfirstmatch(\"<table.*?>\", fv!item),\n            tbodyStartTag: regexfirstmatch(\"<tbody.*?>\", fv!item),\n            cellStartTag: regexfirstmatch(\"<td.*?>\", fv!item),\n            originalRows: #\"SYSTEM_SYSRULES_forEach\"(\n              items: regexallmatches(\"<tr.*?</tr>\", local!originalTable),\n              expression: {\n                cells: #\"SYSTEM_SYSRULES_forEach\"(\n                  items: regexallmatches(\"<th.*?</th>|<td.*?</td>\", fv!item),\n                  expression: a!map(\n                    tag: fv!item,\n                    value: stripwith(trim(striphtml(fv!item)), char(10)),\n                    plainValue: stripwith(\n                      trim(striphtml(fv!item)),\n                      \"_ \" & char(10) & char(32) & char(160)\n                    )\n                  )\n                )\n              }\n            ),\n            rows: #\"SYSTEM_SYSRULES_forEach\"(\n              items: regexallmatches(\"<tr.*?</tr>\", fv!item),\n              expression: {\n                cells: #\"SYSTEM_SYSRULES_forEach\"(\n                  items: regexallmatches(\"<th.*?</th>|<td.*?</td>\", fv!item),\n                  expression: a!map(\n                    tag: fv!item,\n                    value: stripwith(trim(striphtml(fv!item)), char(10)),\n                    plainValue: stripwith(\n                      trim(striphtml(fv!item)),\n                      \"_ \" & char(10) & char(32) & char(160)\n                    )\n                  )\n                )\n              }\n            ),\n            uuid: \"\",\n            isValidationError: null,\n            fillinType: if(\n              and(\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  local!originalTableHeaderRowCells,\n                  a!isNotNullOrEmpty(\n                    trim(\n                      stripwith(striphtml(fv!item), char(160) & char(10))\n                    )\n                  )\n                ),\n                count(local!tableHeaderRowCells) = count(local!originalTableHeaderRowCells),\n                length(split(fv!item, \"<table\")) = 1\n              ),\n              cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_TABLE,\n              cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_RICH_TEXT_TABLE\n            )\n          ),\n          {}\n        )\n      )\n    )\n  ),\n  local!sectionsForPreview: rule!AS_GCM_UT_getFillInSection(\n    clauseText: regexreplaceall(\n      \"<table(.*?)</table>\",\n      ri!clauseSetClauseText.clauseText,\n      \"\"\n    )\n  ),\n  /* Fetching fillin instruction from the clauseTextOriginal */\n  local!fetchLabelFromOriginalText: a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: rule!AS_GCM_UT_getFillInSection(\n        clauseText: regexreplaceall(\n          \"<table(.*?)</table>\",\n          a!defaultValue(\n            value: ri!clauseSetClauseText.clauseTextOriginal,\n            default: ri!clauseSetClauseText.clauseText\n          ),\n          \"\"\n        )\n      ),\n      expression: rule!AS_GCM_extractFillinsMetadata(sectionText: fv!item, index: fv!index)\n    )\n  ),\n  local!sectionsDictionaryForPreview: #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!sectionsForPreview,\n    expression: a!localVariables(\n      local!fillins: #\"SYSTEM_SYSRULES_forEach\"(\n        items: rule!AS_GCM_extractFillinsMetadata(sectionText: fv!item, index: fv!index),\n        /* update the label from the clauseTextOriginal */\n        expression: a!localVariables(\n          local!originalFillinLabel: rule!AS_GCM_filterRecords(\n            records: local!fetchLabelFromOriginalText,\n            field: \"uuid\",\n            value: index(fv!item, \"uuid\", null)\n          ),\n          rule!AS_GCM_setRecordFields(\n            record: fv!item,\n            alwaysOverwrite: {\n              a!map(\n                field: \"label\",\n                value: index(local!originalFillinLabel, \"label\", null)\n              ),\n              a!map(\n                field: \"originalFillinValue\",\n                value: tostring(\n                  index(\n                    rule!AS_GCM_UT_findFillIns(\n                      fillInText: index(local!originalFillinLabel, \"cite\", null)\n                    ),\n                    \"value\",\n                    null\n                  )\n                )\n              )\n            }\n          )\n        )\n      ),\n      local!removableFillins: /*Filtering labels with null to get the standalone blanks*/\n      rule!AS_CO_UT_filterCdtByField(\n        cdt: local!fillins,\n        field: \"label\",\n        value: \"\"\n      ),\n      {\n        section: fv!item,\n        /*Removing the standalone blanks from the actual fillins*/\n        fillins: difference(local!fillins, local!removableFillins),\n        removableFillins: local!removableFillins\n      }\n    )\n  ),\n  /* returns a map containing start index, end index and value of the fill in */\n  local!mapOfIndexAndValue: if(\n    or(\n      rule!AS_CO_UT_isNotBlank(local!tablesIndexAndValue),\n      rule!AS_CO_UT_isNotBlank(\n        input: index(\n          local!sectionsDictionaryForPreview,\n          \"fillins\",\n          null()\n        )\n      )\n    ),\n    /*Sorting based on start positions of the fill-ins*/\n    rule!AS_CO_UT_sortCdt(\n      cdt: {\n        a!flatten(\n          rule!AS_CO_UT_replaceNull(\n            nullableValue: #\"SYSTEM_SYSRULES_forEach\"(\n              items: a!flatten(\n                /*Iterating through only unique citeIdentifiers to get all fillins with that citeIdentifier*/\n                rule!AS_CO_UT_distinct(\n                  value: rule!AS_CO_UT_indexPath(\n                    cdt: local!sectionsDictionaryForPreview,\n                    field: \"fillins.citeIdentifier\",\n                    indexDefault: {}\n                  )\n                )\n              ),\n              expression: rule!AS_CO_UT_filterCdtByFieldIncludes(\n                cdt: rule!AS_CO_UT_rejectNullValuesFromArray(\n                  array: #\"SYSTEM_SYSRULES_forEach\"(\n                    items: local!splitText,\n                    expression: rule!AS_GCM_UT_findFillIns(\n                      fillInText: fv!item,\n                      /* the length will contain the length of text before the item that is being passed\nso that the start and end indices will be realtive to the whole clause text instead of the item */\n                      length: sum(\n                        index(\n                          local!lengthOfSplitText,\n                          enumerate(fv!index - 1) + 1\n                        )\n                      )\n                    )\n                  )\n                ),\n                field: \"cite\",\n                value: fv!item\n              )\n            ),\n            replacementValue: null()\n          )\n        ),\n        local!tablesIndexAndValue\n      },\n      field: \"start\",\n      ascending: true\n    ),\n    null()\n  ),\n  /* Filtering the applicable Fillin Dynamic Rec Ids for the current clause set */\n  local!applicableFillinDynamicRecIds: a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: {\n        cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CLAUSE_SET_TYPE,\n        cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_CATEGORY,\n        cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACTING_OFFICER,\n        cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_SPECIALIST,\n        cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_OFFICER_REP,\n        cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_START_DATE,\n        cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_END_DATE,\n        cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_METHOD,\n        cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_ESTIMATED_DOLLAR_AMOUNT,\n        cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_PSC,\n        cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_NAICS_CODE\n      },\n      expression: if(\n        a!isNotNullOrEmpty(\n          rule!AS_GCM_BL_dynamicFillinRecommendation(\n            bundle: local!bundle,\n            clauseSet: local!clauseSet,\n            fillInDynmaicRecId: fv!item\n          )\n        ),\n        fv!item,\n        {}\n      )\n    )\n  ),\n  /* All recommendations for the fillins in this clause */\n  local!recommendedValues: rule!AS_GCM_QR_getFillInRecDetails(\n    returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(startIndex: 1, batchSize: 5000),\n    fillInRecFillInUuid: rule!AS_CO_UT_rejectNullValuesFromArray(\n      index(local!mapOfIndexAndValue, \"uuid\", null())\n    ),\n    /* Filtering only the dynamic recommendations which are applicable to this clause set and the static recommendations */\n    logicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n      operator: \"OR\",\n      filters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM Fill In Recommendation.fillInRecTypeId,\n          operator: \"=\",\n          value: cons!AS_GCM_REF_ID_FILL_IN_REC_TYPE_STATIC\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM Fill In Recommendation.fillInDynamicRecId,\n          operator: \"in\",\n          value: local!applicableFillinDynamicRecIds,\n          applyWhen: rule!AS_CO_UT_isNotBlank(local!applicableFillinDynamicRecIds)\n        )\n      }\n    ),\n    executeWhen: rule!AS_CO_UT_isNotBlank(local!mapOfIndexAndValue),\n    isAutoPopulated: false\n  ).data,\n  local!fillInCount: rule!AS_GAM_UT_ArrayLength(local!mapOfIndexAndValue),\n  local!fillinValuesList: #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!mapOfIndexAndValue,\n    expression: a!match(\n      value: fv!item.fillinType,\n      equals: cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_TABLE,\n      equals: cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_RICH_TEXT_TABLE,\n      then: if(fv!item.isUpdated, fv!item.value, null),\n      default: rule!AS_GCM_UT_getFillinValue(\n        fillInValue: index(fv!item, \"value\", null())\n      )\n    )\n  ),\n  local!fillIns: a!flatten(\n    index(\n      local!sectionsDictionaryForPreview,\n      \"fillins\",\n      null\n    )\n  ),\n  local!selectedIndex: 1,\n  /* Determining the simple fillin index */\n  local!selectedSimpleFillinIndex: if(\n    contains(\n      {\n        cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_TABLE,\n        cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_RICH_TEXT_TABLE\n      },\n      local!mapOfIndexAndValue[local!selectedIndex].fillInType\n    ),\n    null,\n    local!selectedIndex - rule!AS_GCM_filterRecords(\n      records: a!flatten(\n        index(\n          local!mapOfIndexAndValue,\n          enumerate(local!selectedIndex) + 1,\n          {}\n        )\n      ),\n      field: \"fillinType\",\n      value: {\n        cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_TABLE,\n        cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_RICH_TEXT_TABLE\n      },\n      filterType: \"MATCH_COUNT\"\n    )\n  ),\n  /*Getting the UUID of current fill-in for the recommended values */\n  local!uuidsForRec: index(\n    index(\n      local!mapOfIndexAndValue,\n      local!selectedIndex,\n      null\n    ),\n    \"uuid\",\n    null\n  ),\n  local!showMessageMap: a!match(\n    /*When the clause is edited using edit clause RA*/\n    value: local!fillInCount,\n    whenTrue: ri!clauseSetClause.isEditedViaEditClause,\n    then: a!map(\n      header: \"Original clause has been edited\",\n      message: \"Fill-ins can no longer be completed through this wizard due to the original clause being edited. Proceed to Edit Clause if any updates need to be made.\"\n    ),\n    equals: 0,\n    then: a!map(\n      header: \"No fill-ins found\",\n      message: \"No fill-ins have been found in this clause. If necessary, use the Edit Clause interface to complete any required updates of the clause text.\"\n    ),\n    default: null()\n  ),\n  local!showConfirmMessage: length(local!fillinValuesList) < local!fillInCount,\n  local!previewFullText: false,\n  local!clauseText: if(\n    a!isNullOrEmpty(local!mapOfIndexAndValue),\n    index(\n      ri!clauseSetClauseText,\n      \"clauseText\",\n      null()\n    ),\n    tostring(\n      reduce(\n        rule!AS_GCM_UT_replaceFillIns,\n        index(\n          ri!clauseSetClauseText,\n          \"clauseText\",\n          null()\n        ),\n        reverse(local!mapOfIndexAndValue)\n      )\n    )\n  ),\n  local!disableSubmit: or(\n    index(\n      local!mapOfIndexAndValue,\n      \"isValidationError\",\n      null\n    )\n  ),\n  /*Checking if hidden tag which contains metadata exists*/\n  local!clauseTextMetadataTag: regexfirstmatch(\n    cons!AS_GCM_TXT_REGEX_FOR_HIDDEN_SPAN_TAG_FILLIN_METADATA,\n    local!clauseText,\n    \"gm\"\n  ),\n  /*Extracting fillins Metadata from Clause Text*/\n  local!fillinsMetadata: a!refreshVariable(\n    value: rule!AS_CO_UT_indexPath(\n      cdt: rule!AS_GCM_extractFillinMetadataFromClauseText(\n        clauseText: ri!clauseSetClauseText.clauseText\n      ),\n      field: \"fillins.metadata\",\n      indexDefault: {}\n    ),\n    refreshOnReferencedVarChange: false\n  ),\n  local!selectedFillinMetadata: index(\n    local!fillinsMetadata,\n    index(\n      local!mapOfIndexAndValue[local!selectedIndex],\n      \"uuid\",\n      null\n    ),\n    {}\n  ),\n  /*Constructing stats as the fillins gets completed/updated*/\n  local!stats: {\n    totalFillinCount: local!fillInCount,\n    completedFillinCount: rule!AS_GAM_UT_ArrayLength(local!fillinValuesList),\n    fillableTableCount: count(local!tablesIndexAndValue),\n    completedFillableTableCount: count(\n      where(\n        find(\"</table\", local!fillinValuesList) > 0\n      )\n    ),\n    totalSimpleFillins: count(local!fillIns),\n    completedSimpleFillins: rule!AS_GAM_UT_ArrayLength(local!fillinValuesList) - count(\n      where(\n        find(\"</table\", local!fillinValuesList) > 0\n      )\n    ),\n    totalCiteTagsCount: length(\n      regexallmatches(\n        \"<cite(.*?)>(.*?)</cite>\",\n        regexreplaceall(\n          \"<table.*?</table>\",\n          ri!clauseSetClauseText.clauseText,\n          \"\"\n        )\n      )\n    )\n  },\n  if(\n    rule!AS_CO_UT_indexPath(\n      cdt: local!clauseSet,\n      field: \"refStatus.refDataId\",\n      indexDefault: 0\n    ) = cons!AS_GCM_REF_ID_CLAUSE_SET_STATUS_GENERATING,\n    rule!AS_GCM_CPS_ClauseSetRelatedActionPlaceholder(\n      userAction: ri!userAction,\n      bundle: local!bundle\n    ),\n    {\n      /* Header */\n      #\"SYSTEM_SYSRULES_cardLayout\"(\n        contents: {\n          #\"SYSTEM_SYSRULES_columnsLayout\"(\n            columns: {\n              /* Clause Title */\n              #\"SYSTEM_SYSRULES_columnLayout\"(\n                contents: {\n                  #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n                    label: \"\",\n                    labelSize: \"LARGE\",\n                    labelColor: \"STANDARD\",\n                    contents: {\n                      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                        labelPosition: \"COLLAPSED\",\n                        value: {\n                          #\"SYSTEM_SYSRULES_richTextHeader\"(\n                            text: {\n                              rule!AS_GCM_DSP_clauseRecordTitle(\n                                clauseTitle: ri!clauseSetClause.clauseTitle,\n                                clauseNumber: ri!clauseSetClause.refClause.clauseNumber,\n                                alternateValue: ri!clauseSetClause.alternateValue,\n                                deviation: ri!clauseSetClause.refClause.deviation\n                              )\n                            }\n                          )\n                        },\n                        preventWrapping: true\n                      )\n                    },\n                    marginBelow: \"NONE\"\n                  )\n                }\n              ),\n              /* Buttons */\n              #\"SYSTEM_SYSRULES_columnLayout\"(\n                contents: {\n                  #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n                    buttons: {\n                      #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                        label: \"Cancel\",\n                        value: cons!AS_CO_ENUM_USER_ACTION_CANCEL,\n                        saveInto: ri!userAction,\n                        submit: true,\n                        style: \"LINK\",\n                        validate: false,\n                        showWhen: rule!AS_CO_UT_isBlank(local!showMessageMap)\n                      ),\n                      #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                        label: \"Save Draft and Close\",\n                        value: cons!AS_CO_ENUM_USER_ACTION_SAVE,\n                        saveInto: if(\n                          len(local!clauseText) < cons!AS_GCM_ENUM_MAX_LENGTH_CLAUSE_AND_PRESC_TEXTS,\n                          {\n                            ri!userAction,\n                            a!save(\n                              ri!clauseSetClauseText.clauseText,\n                              /*Updating the metadata in clause Text before saving it to rule input*/\n                              if(\n                                a!isNotNullOrEmpty(local!clauseTextMetadataTag),\n                                regexreplaceall(\n                                  cons!AS_GCM_TXT_REGEX_FOR_HIDDEN_SPAN_TAG_FILLIN_METADATA,\n                                  local!clauseText,\n                                  rule!AS_GCM_constructClauseTextMetaDataFromClauseText(\n                                    fillinMetadata: local!fillinsMetadata,\n                                    fillinStats: local!stats\n                                  )\n                                ),\n                                concat(\n                                  local!clauseText,\n                                  rule!AS_GCM_constructClauseTextMetaDataFromClauseText(\n                                    fillinMetadata: local!fillinsMetadata,\n                                    fillinStats: local!stats\n                                  ),\n\n                                )\n                              )\n                            ),\n                            rule!AS_GCM_MTR_SAVE_saveAsDraftcompleteFillIns()\n                          },\n                          {}\n                        ),\n                        disabled: local!disableSubmit,\n                        submit: len(local!clauseText) < cons!AS_GCM_ENUM_MAX_LENGTH_CLAUSE_AND_PRESC_TEXTS,\n                        style: \"OUTLINE\",\n                        showWhen: rule!AS_CO_UT_isBlank(value: local!showMessageMap)\n                      ),\n                      #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                        label: \"\",\n                        value: cons!AS_GCM_ENUM_USER_ACTION_MARK_AS_COMPLETE,\n                        disabled: local!disableSubmit,\n                        saveInto: if(\n                          len(local!clauseText) < cons!AS_GCM_ENUM_MAX_LENGTH_CLAUSE_AND_PRESC_TEXTS,\n                          {\n                            ri!userAction,\n                            a!save(\n                              ri!clauseSetClauseText.clauseText,\n                              /*Updating the metadata in clause Text before saving it to rule input*/\n                              if(\n                                a!isNotNullOrEmpty(local!clauseTextMetadataTag),\n                                regexreplaceall(\n                                  cons!AS_GCM_TXT_REGEX_FOR_HIDDEN_SPAN_TAG_FILLIN_METADATA,\n                                  local!clauseText,\n                                  rule!AS_GCM_constructClauseTextMetaDataFromClauseText(\n                                    fillinMetadata: local!fillinsMetadata,\n                                    fillinStats: local!stats\n                                  )\n                                ),\n                                concat(\n                                  local!clauseText,\n                                  rule!AS_GCM_constructClauseTextMetaDataFromClauseText(\n                                    fillinMetadata: local!fillinsMetadata,\n                                    fillinStats: local!stats\n                                  )\n                                )\n                              )\n                            ),\n                            if(\n                              rule!AS_CO_UT_isNotBlank(\n                                input: index(\n                                  local!sectionsDictionaryForPreview,\n                                  \"removableFillins\",\n                                  null()\n                                )\n                              ),\n                              {\n                                a!save(\n                                  ri!clauseSetClauseText.clauseText,\n                                  rule!AS_GCM_UT_removeGivenCiteTagsFromClauseText(\n                                    clauseText: index(\n                                      ri!clauseSetClauseText,\n                                      \"clauseText\",\n                                      null()\n                                    ),\n                                    citeTagsToRemove: rule!AS_CO_UT_indexPath(\n                                      cdt: local!sectionsDictionaryForPreview,\n                                      field: \"removableFillins.cite\",\n                                      indexDefault: null\n                                    )\n                                  )\n                                ),\n                                /*Removing standalone blanks from the clauseTextOriginal*/\n                                a!save(\n                                  ri!clauseSetClauseText.clauseTextOriginal,\n                                  rule!AS_GCM_UT_removeGivenCiteTagsFromClauseText(\n                                    clauseText: index(\n                                      ri!clauseSetClauseText,\n                                      \"clauseTextOriginal\",\n                                      null()\n                                    ),\n                                    citeTagsToRemove: rule!AS_CO_UT_indexPath(\n                                      cdt: local!sectionsDictionaryForPreview,\n                                      field: \"removableFillins.cite\",\n                                      indexDefault: null\n                                    )\n                                  )\n                                )\n                              },\n                              {}\n                            ),\n                            /*removing all instructions from clauseText*/\n                            a!save(\n                              ri!clauseSetClauseText.clauseText,\n                              rule!AS_GCM_removeFillinInstructionsFromClauseText(\n                                sectionText: ri!clauseSetClauseText.clauseText\n                              )\n                            ),\n                            rule!AS_GCM_MTR_SAVE_editedAndMarkedCompleteCompleteFillIns()\n                          },\n                          {}\n                        ),\n                        submit: len(local!clauseText) < cons!AS_GCM_ENUM_MAX_LENGTH_CLAUSE_AND_PRESC_TEXTS,\n                        style: \"SOLID\",\n                        confirmHeader: if(\n                          local!showConfirmMessage,\n                          \"Mark as Complete?\",\n                          \"\"\n                        ),\n                        confirmMessage: if(\n                          local!showConfirmMessage,\n                          \"Not all fill-ins have been completed.\",\n                          \"\"\n                        ),\n                        confirmButtonLabel: if(\n                          local!showConfirmMessage,\n                          \"\",\n                          \"\"\n                        ),\n                        cancelButtonLabel: if(\n                          local!showConfirmMessage,\n                          \"Cancel\",\n                          \"\"\n                        ),\n                        showWhen: rule!AS_CO_UT_isBlank(value: local!showMessageMap),\n\n                      )\n                    },\n                    align: \"END\",\n                    marginBelow: \"NONE\"\n                  )\n                },\n                width: \"MEDIUM_PLUS\",\n                showWhen: true\n              ),\n              #\"SYSTEM_SYSRULES_columnLayout\"(width: \"EXTRA_NARROW\")\n            },\n            alignVertical: \"MIDDLE\",\n            marginAbove: \"NONE\",\n            marginBelow: \"NONE\",\n            spacing: \"NONE\"\n          )\n        },\n        padding: \"NONE\",\n        marginBelow: \"NONE\",\n        style: \"TRANSPARENT\",\n        showBorder: false()\n      ),\n      /* Content */\n      if(\n        /* Empty State*/\n        a!isNotNullOrEmpty(local!showMessageMap),\n        rule!AS_GCM_CRD_emptyStateForCompleteFillins(\n          showMessageMap: local!showMessageMap,\n          bundle: local!bundle,\n          userAction: ri!userAction\n        ),\n        #\"SYSTEM_SYSRULES_paneLayout\"(\n          panes: {\n            /* Collapsed Left Pane */\n            #\"SYSTEM_SYSRULES_pane\"(\n              contents: {\n                #\"SYSTEM_SYSRULES_horizontalLine\"(marginBelow: \"NONE\"),\n                #\"SYSTEM_SYSRULES_cardLayout\"(\n                  contents: {\n                    #\"SYSTEM_SYSRULES_cardLayout\"(\n                      contents: {\n                        #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                          labelPosition: \"COLLAPSED\",\n                          value: {\n                            #\"SYSTEM_SYSRULES_richTextIcon\"(\n                              icon: \"angle-right-bold\",\n                              altText: \"Expand Fill-ins\",\n                              link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                                value: false,\n                                saveInto: local!fillinsCollapsed\n                              ),\n                              linkStyle: \"STANDALONE\",\n                              color: cons!AS_GCM_HEX_CODE_BLUE_4,\n                              size: \"MEDIUM\"\n                            )\n                          },\n                          align: \"CENTER\",\n                          marginAbove: \"LESS\",\n                          marginBelow: \"NONE\",\n                          accessibilityText: \"\"\n                        ),\n                        #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                          labelPosition: \"COLLAPSED\",\n                          value: {\n                            #\"SYSTEM_SYSRULES_richTextHeader\"(\n                              text: \"\",\n                              size: \"SMALL\"\n                            )\n                          },\n                          align: \"CENTER\",\n                          marginBelow: \"STANDARD\"\n                        )\n                      },\n                      style: cons!AS_GCM_HEX_CODE_APPIAN_BACKGROUND,\n                      shape: \"SEMI_ROUNDED\",\n                      padding: \"LESS\",\n                      marginAbove: \"NONE\",\n                      marginBelow: \"NONE\",\n                      showBorder: false()\n                    )\n                  },\n                  height: \"AUTO\",\n                  style: \"TRANSPARENT\",\n                  padding: \"NONE\",\n                  marginBelow: \"STANDARD\",\n                  showBorder: false\n                )\n              },\n              width: \"EXTRA_NARROW\",\n              backgroundColor: cons!AS_GCM_HEX_CODE_WHITE,\n              padding: \"NONE\",\n              showWhen: local!fillinsCollapsed\n            ),\n            /* Expanded Let pane */\n            #\"SYSTEM_SYSRULES_pane\"(\n              width: \"NARROW_PLUS\",\n              backgroundColor: cons!AS_GCM_HEX_CODE_WHITE,\n              padding: \"NONE\",\n              showWhen: not(local!fillinsCollapsed),\n              accessibilityText: \"Clause Fill-ins - Selecting a fill-in loads it into the Fill-in Instructions content region\",\n              contents: {\n                #\"SYSTEM_SYSRULES_horizontalLine\"(marginBelow: \"NONE\"),\n                #\"SYSTEM_SYSRULES_cardLayout\"(\n                  contents: {\n                    #\"SYSTEM_SYSRULES_columnsLayout\"(\n                      columns: {\n                        #\"SYSTEM_SYSRULES_columnLayout\"(\n                          contents: {\n                            #\"SYSTEM_SYSRULES_cardLayout\"(\n                              contents: {\n                                #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                  labelPosition: \"COLLAPSED\",\n                                  value: {\n                                    #\"SYSTEM_SYSRULES_richTextIcon\"(\n                                      icon: \"file-signature\",\n                                      color: cons!AS_GCM_HEX_CODE_BLUE_4\n                                    )\n                                  },\n                                  align: \"CENTER\",\n                                  marginAbove: \"LESS\",\n                                  marginBelow: \"LESS\"\n                                )\n                              },\n                              height: \"AUTO\",\n                              style: cons!AS_GCM_HEX_CODE_BLUE_1,\n                              shape: \"SEMI_ROUNDED\",\n                              padding: \"LESS\",\n                              marginBelow: \"NONE\",\n                              showBorder: false\n                            )\n                          },\n                          width: \"EXTRA_NARROW\"\n                        ),\n                        #\"SYSTEM_SYSRULES_columnLayout\"(\n                          contents: {\n                            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                              labelPosition: \"COLLAPSED\",\n                              value: {\n                                #\"SYSTEM_SYSRULES_richTextHeader\"(\n                                  text: \"\",\n                                  size: \"SMALL\"\n                                )\n                              },\n                              marginBelow: \"NONE\"\n                            ),\n                            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                              labelPosition: \"COLLAPSED\",\n                              value: {\n                                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                  text: rule!AS_GAM_CO_I18N_UT_displayLabel(\n                                    bundle: local!bundle,\n                                    bundleKey: \"ins_TotalFillinsComplete\",\n                                    arguments: {\n                                      rule!AS_GAM_UT_ArrayLength(local!fillinValuesList),\n                                      local!fillInCount\n                                    }\n                                  ),\n                                  color: cons!AS_GCM_HEX_CODE_GRAY_3,\n                                  size: \"SMALL\"\n                                )\n                              },\n                              marginBelow: \"NONE\"\n                            )\n                          },\n                          width: \"NARROW\"\n                        ),\n                        #\"SYSTEM_SYSRULES_columnLayout\"(\n                          contents: {\n                            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                              labelPosition: \"COLLAPSED\",\n                              value: {\n                                #\"SYSTEM_SYSRULES_richTextIcon\"(\n                                  icon: \"angle-left-bold\",\n                                  altText: \"Collapse Fill-ins\",\n                                  link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                                    value: true,\n                                    saveInto: local!fillinsCollapsed\n                                  ),\n                                  linkStyle: \"STANDALONE\",\n                                  color: cons!AS_GCM_HEX_CODE_BLUE_4,\n                                  size: \"MEDIUM\"\n                                )\n                              },\n                              align: \"RIGHT\",\n                              accessibilityText: \"\"\n                            )\n                          },\n                          width: \"EXTRA_NARROW\"\n                        )\n                      },\n                      alignVertical: \"MIDDLE\",\n                      marginAbove: \"STANDARD\",\n                      marginBelow: \"STANDARD\",\n                      spacing: \"DENSE\"\n                    )\n                  },\n                  height: \"AUTO\",\n                  showWhen: true,\n                  style: cons!AS_GCM_HEX_CODE_APPIAN_BACKGROUND,\n                  shape: \"SQUARED\",\n                  padding: \"LESS\",\n                  marginAbove: \"NONE\",\n                  marginBelow: \"NONE\",\n                  showBorder: false\n                ),\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  items: local!mapOfIndexAndValue,\n                  expression: rule!AS_GCM_CRD_SingleSelectableFillinCard(\n                    bundle: local!bundle,\n                    fillinLabel: if(\n                      contains(\n                        {\n                          cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_TABLE,\n                          cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_RICH_TEXT_TABLE\n                        },\n                        fv!item.fillinType\n                      ),\n                      fv!item.label,\n                      index(\n                        rule!AS_GCM_filterRecords(\n                          records: local!fillIns,\n                          field: \"uuid\",\n                          value: fv!item.uuid\n                        ),\n                        \"label\",\n                        null\n                      )\n                    ),\n                    type: index(\n                      rule!AS_GCM_filterRecords(\n                        records: rule!AS_GCM_CONS_fillInTypeMaps(\n                          bundle: local!bundle,\n                          returnTableFillinTypes: true\n                        ),\n                        field: \"fillinType\",\n                        value: fv!item.fillInType,\n\n                      ),\n                      \"displayText\",\n                      null\n                    ),\n                    isAnswered: a!isNotNullOrEmpty(local!fillinValuesList[fv!index]),\n                    currentIndex: fv!index,\n                    selectedIndex: local!selectedIndex,\n                    isValidationError: index(fv!item, \"isValidationError\", null),\n                    isAutoPopulated: index(\n                      local!fillinsMetadata,\n                      fv!item.uuid,\n                      \"completedBy\",\n                      \"\"\n                    ) = cons!AS_GCM_TXT_FILL_IN_COMPLETED_BY_SYSTEM_AGENCY\n                  )\n                )\n              }\n            ),\n            /* Middle Pane */\n            #\"SYSTEM_SYSRULES_pane\"(\n              contents: {\n                #\"SYSTEM_SYSRULES_horizontalLine\"(marginBelow: \"NONE\"),\n                #\"SYSTEM_SYSRULES_cardLayout\"(\n                  contents: a!match(\n                    value: index(\n                      local!mapOfIndexAndValue[local!selectedIndex],\n                      \"fillinType\",\n                      null()\n                    ),\n                    equals: cons!AS_GCM_TXT_FILL_IN_TYPE_MULTI_LINE,\n                    equals: cons!AS_GCM_TXT_FILL_IN_TYPE_SINGLE_LINE,\n                    then: {\n                      if(\n                        rule!AS_GCM_StyledTextEditorForFillInsEnabled_wrapper(),\n                        #\"SYSTEM_SYSRULES_styledTextEditorField\"(\n                          sizeLimit: cons!AS_GAM_INT_RTE_MAX_CHARACTERS,\n                          placeholder: if(\n                            cons!AS_GCM_TOGGLE_AUTOMATION_TESTING_ENABLED,\n                            \"Insert a value\",\n                            {}\n                          ),\n                          instructions: if(\n                            index(\n                              local!selectedFillinMetadata,\n                              \"completedBy\",\n                              \"\"\n                            ) = cons!AS_GCM_TXT_FILL_IN_COMPLETED_BY_SYSTEM_AGENCY,\n                            \"Agency auto-populated value\",\n                            {}\n                          ),\n                          label: index(\n                            rule!AS_GCM_filterRecords(\n                              records: local!fillIns,\n                              field: \"uuid\",\n                              value: index(\n                                local!mapOfIndexAndValue[local!selectedIndex],\n                                \"uuid\",\n                                null\n                              )\n                            ),\n                            \"label\",\n                            null\n                          ),\n                          value: rule!AS_GCM_FormatStyledTextEditorValue(\n                            value: rule!AS_GCM_UT_getFillinValue(\n                              fillInValue: local!fillinValuesList[local!selectedIndex]\n                            ),\n                            returnPluginFormat: false()\n                          ),\n                          saveInto: {\n                            a!save(\n                              local!mapOfIndexAndValue,\n                              #\"urn:appian:function:v1:a:update\"(\n                                local!mapOfIndexAndValue,\n                                local!selectedIndex,\n                                #\"urn:appian:function:v1:a:update\"(\n                                  index(\n                                    local!mapOfIndexAndValue,\n                                    local!selectedIndex,\n                                    null()\n                                  ),\n                                  \"value\",\n                                  if(\n                                    rule!AS_CO_UT_isBlank(\n                                      trim(\n                                        stripwith(\n                                          striphtml(save!value),\n                                          char(160) & char(32) & char(10)\n                                        )\n                                      )\n                                    ),\n                                    null,\n                                    rule!AS_GCM_FormatStyledTextEditorValue(\n                                      value: trim(save!value),\n                                      returnPluginFormat: true()\n                                    )\n                                  )\n                                )\n                              )\n                            ),\n                            a!save(\n                              local!mapOfIndexAndValue,\n                              #\"urn:appian:function:v1:a:update\"(\n                                local!mapOfIndexAndValue,\n                                local!selectedIndex,\n                                #\"urn:appian:function:v1:a:update\"(\n                                  index(\n                                    local!mapOfIndexAndValue,\n                                    local!selectedIndex,\n                                    null()\n                                  ),\n                                  \"isValidationError\",\n                                  len(\n                                    local!mapOfIndexAndValue[local!selectedIndex].value\n                                  ) > cons!AS_CO_ENUM_PARAGRAPH_LENGTH_MEDIUM\n                                )\n                              )\n                            ),\n                            a!save(\n                              local!fillinValuesList[local!selectedIndex],\n                              if(\n                                rule!AS_CO_UT_isBlank(\n                                  trim(\n                                    stripwith(\n                                      striphtml(save!value),\n                                      char(160) & char(32) & char(10)\n                                    )\n                                  )\n                                ),\n                                null,\n                                rule!AS_GCM_FormatStyledTextEditorValue(\n                                  value: trim(save!value),\n                                  returnPluginFormat: true()\n                                )\n                              )\n                            ),\n                            /*Updating local!fillinsMetadata as the single/multi line fillins get updated/completed*/\n                            if(\n                              a!isNullOrEmpty(\n                                local!fillinValuesList[local!selectedIndex]\n                              ),\n                              a!save(\n                                local!fillinsMetadata,\n                                if(\n                                  rule!AS_CO_UT_isBlank(local!fillinsMetadata),\n                                  local!fillinsMetadata,\n                                  remove(\n                                    local!fillinsMetadata,\n                                    index(\n                                      local!mapOfIndexAndValue[local!selectedIndex],\n                                      \"uuid\",\n                                      null\n                                    )\n                                  )\n                                )\n                              ),\n                              a!save(\n                                local!fillinsMetadata,\n                                #\"urn:appian:function:v1:a:update\"(\n                                  data: a!defaultValue(\n                                    value: local!fillinsMetadata,\n                                    default: a!map()\n                                  ),\n                                  index: index(\n                                    local!mapOfIndexAndValue[local!selectedIndex],\n                                    \"uuid\",\n                                    null\n                                  ),\n                                  value: {\n                                    completedBy: cons!AS_GCM_TXT_FILL_IN_COMPLETED_BY_USER,\n                                    completedOn: now()\n                                  }\n                                )\n                              )\n                            )\n                          },\n                          allowedFormats: {\n                            \"BOLD\",\n                            \"ITALIC\",\n                            \"UNDERLINE\",\n                            \"STRIKETHROUGH\",\n                            \"NUMBERED_LIST\",\n                            \"BULLETED_LIST\"\n                          },\n                          validations: if(\n                            len(\n                              local!mapOfIndexAndValue[local!selectedIndex].value\n                            ) > cons!AS_CO_ENUM_PARAGRAPH_LENGTH_MEDIUM,\n                            rule!AS_GAM_CO_I18N_UT_displayLabel(\n                              bundle: local!bundle,\n                              bundleKey: \"vld_SingleOrMutlilineCharacterLimitValidation\",\n                              arguments: {\n                                cons!AS_CO_ENUM_PARAGRAPH_LENGTH_MEDIUM,\n                                len(\n                                  local!mapOfIndexAndValue[local!selectedIndex].value\n                                )\n                              }\n                            ),\n                            \"\"\n                          )\n                        ),\n                        rule!AS_CO_INP_textField(\n                          placeholder: if(\n                            cons!AS_GCM_TOGGLE_AUTOMATION_TESTING_ENABLED,\n                            \"Insert a value\",\n                            {}\n                          ),\n                          instructions: if(\n                            index(\n                              local!selectedFillinMetadata,\n                              \"completedBy\",\n                              \"\"\n                            ) = cons!AS_GCM_TXT_FILL_IN_COMPLETED_BY_SYSTEM_AGENCY,\n                            \"Agency auto-populated value\",\n                            {}\n                          ),\n                          label: index(\n                            rule!AS_GCM_filterRecords(\n                              records: local!fillIns,\n                              field: \"uuid\",\n                              value: index(\n                                local!mapOfIndexAndValue[local!selectedIndex],\n                                \"uuid\",\n                                null\n                              )\n                            ),\n                            \"label\",\n                            null\n                          ),\n                          value: rule!AS_GCM_UT_getFillinValue(\n                            fillInValue: local!fillinValuesList[local!selectedIndex]\n                          ),\n                          refreshAfter: \"KEYPRESS\",\n                          saveInto: {\n                            a!save(\n                              local!mapOfIndexAndValue,\n                              #\"urn:appian:function:v1:a:update\"(\n                                local!mapOfIndexAndValue,\n                                local!selectedIndex,\n                                #\"urn:appian:function:v1:a:update\"(\n                                  index(\n                                    local!mapOfIndexAndValue,\n                                    local!selectedIndex,\n                                    null()\n                                  ),\n                                  \"value\",\n                                  save!value\n                                )\n                              )\n                            ),\n                            a!save(\n                              local!mapOfIndexAndValue,\n                              #\"urn:appian:function:v1:a:update\"(\n                                local!mapOfIndexAndValue,\n                                local!selectedIndex,\n                                #\"urn:appian:function:v1:a:update\"(\n                                  index(\n                                    local!mapOfIndexAndValue,\n                                    local!selectedIndex,\n                                    null()\n                                  ),\n                                  \"isValidationError\",\n                                  len(\n                                    local!mapOfIndexAndValue[local!selectedIndex].value\n                                  ) > cons!AS_CO_ENUM_PARAGRAPH_LENGTH_MEDIUM\n                                )\n                              )\n                            ),\n                            local!fillinValuesList[local!selectedIndex],\n                            /*Updating local!fillinsMetadata as the single/multi line fillins get updated/completed*/\n                            if(\n                              a!isNullOrEmpty(\n                                local!fillinValuesList[local!selectedIndex]\n                              ),\n                              a!save(\n                                local!fillinsMetadata,\n                                if(\n                                  rule!AS_CO_UT_isBlank(local!fillinsMetadata),\n                                  local!fillinsMetadata,\n                                  remove(\n                                    local!fillinsMetadata,\n                                    index(\n                                      local!mapOfIndexAndValue[local!selectedIndex],\n                                      \"uuid\",\n                                      null\n                                    )\n                                  )\n                                )\n                              ),\n                              a!save(\n                                local!fillinsMetadata,\n                                #\"urn:appian:function:v1:a:update\"(\n                                  data: a!defaultValue(\n                                    value: local!fillinsMetadata,\n                                    default: a!map()\n                                  ),\n                                  index: index(\n                                    local!mapOfIndexAndValue[local!selectedIndex],\n                                    \"uuid\",\n                                    null\n                                  ),\n                                  value: {\n                                    completedBy: cons!AS_GCM_TXT_FILL_IN_COMPLETED_BY_USER,\n                                    completedOn: now()\n                                  }\n                                )\n                              )\n                            )\n                          },\n                          characterLimit: cons!AS_CO_ENUM_PARAGRAPH_LENGTH_MEDIUM,\n                          showCharacterCount: false\n                        )\n                      ),\n                      /* Recommendations */\n                      rule!AS_GCM_CPS_quickFillin(\n                        fillinValue: local!fillinValuesList[local!selectedIndex],\n                        clauseSet: local!clauseSet,\n                        bundle: local!bundle,\n                        additionalSavesForFillin: {\n                          a!save(\n                            local!mapOfIndexAndValue,\n                            #\"urn:appian:function:v1:a:update\"(\n                              local!mapOfIndexAndValue,\n                              local!selectedIndex,\n                              #\"urn:appian:function:v1:a:update\"(\n                                index(\n                                  local!mapOfIndexAndValue,\n                                  local!selectedIndex,\n                                  null()\n                                ),\n                                \"value\",\n                                local!fillinValuesList[local!selectedIndex]\n                              )\n                            )\n                          ),\n                          /*Updating local!fillinsMetadata as the single/multi line fillins get updated/completed*/\n                          if(\n                            a!isNullOrEmpty(\n                              local!fillinValuesList[local!selectedIndex]\n                            ),\n                            a!save(\n                              local!fillinsMetadata,\n                              if(\n                                rule!AS_CO_UT_isBlank(local!fillinsMetadata),\n                                local!fillinsMetadata,\n                                remove(\n                                  local!fillinsMetadata,\n                                  index(\n                                    local!mapOfIndexAndValue[local!selectedIndex],\n                                    \"uuid\",\n                                    null\n                                  )\n                                )\n                              )\n                            ),\n                            a!save(\n                              local!fillinsMetadata,\n                              #\"urn:appian:function:v1:a:update\"(\n                                data: a!defaultValue(\n                                  value: local!fillinsMetadata,\n                                  default: a!map()\n                                ),\n                                index: index(\n                                  local!mapOfIndexAndValue[local!selectedIndex],\n                                  \"uuid\",\n                                  null\n                                ),\n                                value: {\n                                  completedBy: cons!AS_GCM_TXT_FILL_IN_COMPLETED_BY_USER,\n                                  completedOn: now()\n                                }\n                              )\n                            )\n                          )\n                        },\n                        recommendedValues: rule!AS_GAM_filterCdtOrRecordDataByField(\n                          cdtOrRecord: local!recommendedValues,\n                          field: recordType!AS GCM Fill In Recommendation.fillInRecFillInUuid,\n                          value: local!uuidsForRec\n                        ),\n                        showWhen: index(\n                          local!selectedFillinMetadata,\n                          \"completedBy\",\n                          \"\"\n                        ) <> cons!AS_GCM_TXT_FILL_IN_COMPLETED_BY_SYSTEM_AGENCY\n                      )\n                    },\n                    equals: cons!AS_GCM_TXT_FILL_IN_TYPE_CHECKBOX,\n                    then: a!localVariables(\n                      local!value: if(\n                        a!isNotNullOrEmpty(\n                          rule!AS_GCM_UT_getFillinValue(\n                            fillInValue: local!fillinValuesList[local!selectedIndex]\n                          )\n                        ),\n                        \"X\",\n                        null\n                      ),\n                      #\"SYSTEM_SYSRULES_cardLayout\"(\n                        padding: \"EVEN_LESS\",\n                        showBorder: false,\n                        contents: rule!AS_CO_CP_checkBoxField(\n                          label: \"Statement\",\n                          choiceLabels: index(\n                            rule!AS_GCM_filterRecords(\n                              records: local!fillIns,\n                              field: \"uuid\",\n                              value: index(\n                                local!mapOfIndexAndValue[local!selectedIndex],\n                                \"uuid\",\n                                null\n                              )\n                            ),\n                            \"label\",\n                            null\n                          ),\n                          choiceValues: \"X\",\n                          value: local!value,\n                          saveInto: {\n                            a!save(\n                              local!fillinValuesList[local!selectedIndex],\n                              if(\n                                a!isNullOrEmpty(save!value),\n                                char(9633),\n                                save!value\n                              )\n                            ),\n                            a!save(\n                              local!mapOfIndexAndValue,\n                              #\"urn:appian:function:v1:a:update\"(\n                                local!mapOfIndexAndValue,\n                                local!selectedIndex,\n                                #\"urn:appian:function:v1:a:update\"(\n                                  index(\n                                    local!mapOfIndexAndValue,\n                                    local!selectedIndex,\n                                    null()\n                                  ),\n                                  \"value\",\n                                  local!fillinValuesList[local!selectedIndex]\n                                )\n                              )\n                            )\n                          }\n                        )\n                      )\n                    ),\n                    equals: cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_TABLE,\n                    equals: cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_RICH_TEXT_TABLE,\n                    then: rule!AS_GCM_CPS_TableFillin(\n                      table: local!mapOfIndexAndValue[local!selectedIndex],\n                      bundle: local!bundle\n                    ),\n                    default: {}\n                  ),\n                  height: \"AUTO\",\n                  style: \"TRANSPARENT\",\n                  padding: \"MORE\",\n                  marginBelow: \"STANDARD\",\n                  showBorder: false\n                )\n              },\n              width: \"MEDIUM_PLUS\",\n              backgroundColor: cons!AS_GCM_HEX_CODE_WHITE,\n              padding: \"NONE\",\n              accessibilityText: \"Fill-in Instructions - Editing instructions updates content in the Clause Fill-in Preview content region\"\n            ),\n            /* Right Pane */\n            #\"SYSTEM_SYSRULES_pane\"(\n              contents: {\n                #\"SYSTEM_SYSRULES_horizontalLine\"(marginBelow: \"NONE\"),\n                #\"SYSTEM_SYSRULES_cardLayout\"(\n                  contents: {\n                    /* Toggle */\n                    #\"SYSTEM_SYSRULES_columnsLayout\"(\n                      columns: {\n                        #\"SYSTEM_SYSRULES_columnLayout\"(\n                          contents: {\n                            #\"SYSTEM_SYSRULES_cardLayout\"(\n                              contents: {\n                                #\"SYSTEM_SYSRULES_columnsLayout\"(\n                                  columns: {\n                                    #\"SYSTEM_SYSRULES_columnLayout\"(\n                                      contents: {\n                                        #\"SYSTEM_SYSRULES_cardLayout\"(\n                                          contents: {\n                                            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                              labelPosition: \"COLLAPSED\",\n                                              value: {\n                                                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                                  text: \"Fill-in Focused\",\n                                                  color: if(\n                                                    local!previewFullText,\n                                                    \"STANDARD\",\n                                                    cons!AS_GCM_HEX_CODE_BLUE_4\n                                                  ),\n                                                  size: \"SMALL\",\n                                                  style: if(local!previewFullText, \"PLAIN\", \"STRONG\")\n                                                )\n                                              },\n                                              align: \"CENTER\"\n                                            )\n                                          },\n                                          link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                                            value: false,\n                                            saveInto: local!previewFullText\n                                          ),\n                                          height: \"AUTO\",\n                                          style: if(\n                                            local!previewFullText,\n                                            \"TRANSPARENT\",\n                                            cons!AS_GCM_HEX_CODE_BLUE_1\n                                          ),\n                                          shape: \"SEMI_ROUNDED\",\n                                          padding: \"EVEN_LESS\",\n                                          marginBelow: \"NONE\",\n                                          showBorder: false,\n                                          accessibilityText: if(\n                                            local!previewFullText,\n                                            \"\",\n                                            \"Current View\"\n                                          )\n                                        )\n                                      }\n                                    ),\n                                    #\"SYSTEM_SYSRULES_columnLayout\"(\n                                      contents: {\n                                        #\"SYSTEM_SYSRULES_cardLayout\"(\n                                          contents: {\n                                            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                              labelPosition: \"COLLAPSED\",\n                                              value: {\n                                                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                                  text: \"Full Clause Text\",\n                                                  color: if(\n                                                    local!previewFullText,\n                                                    cons!AS_GCM_HEX_CODE_BLUE_4,\n                                                    \"STANDARD\"\n                                                  ),\n                                                  size: \"SMALL\",\n                                                  style: {\n                                                    if(local!previewFullText, \"STRONG\", \"PLAIN\")\n                                                  }\n                                                )\n                                              },\n                                              align: \"CENTER\"\n                                            )\n                                          },\n                                          link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                                            value: true,\n                                            saveInto: local!previewFullText\n                                          ),\n                                          height: \"AUTO\",\n                                          style: if(\n                                            local!previewFullText,\n                                            cons!AS_GCM_HEX_CODE_BLUE_1,\n                                            \"TRANSPARENT\"\n                                          ),\n                                          shape: \"SEMI_ROUNDED\",\n                                          padding: \"EVEN_LESS\",\n                                          marginBelow: \"NONE\",\n                                          showBorder: false,\n                                          accessibilityText: if(\n                                            local!previewFullText,\n                                            \"Current View\",\n                                            \"\"\n                                          )\n                                        )\n                                      }\n                                    )\n                                  },\n                                  spacing: \"NONE\"\n                                )\n                              },\n                              height: \"AUTO\",\n                              style: \"NONE\",\n                              shape: \"ROUNDED\",\n                              padding: \"EVEN_LESS\",\n                              marginBelow: \"STANDARD\",\n                              showBorder: false\n                            )\n                          },\n                          width: \"NARROW_PLUS\"\n                        ),\n                        #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}),\n                        #\"SYSTEM_SYSRULES_columnLayout\"(contents: {})\n                      },\n                      marginBelow: \"NONE\"\n                    ),\n                    /* Validation banner */\n                    rule!AS_GCM_CRD_infoBanner(\n                      showWhen: len(local!clauseText) >= cons!AS_GCM_ENUM_MAX_LENGTH_CLAUSE_AND_PRESC_TEXTS,\n                      confirmButtonShowWhen: false,\n                      icon: \"exclamation-circle\",\n                      shape: \"SEMI_ROUNDED\",\n                      iconColor: \"NEGATIVE\",\n                      marginBelow: \"STANDARD\",\n                      marginAbove: \"STANDARD\",\n                      alignVertical: \"MIDDLE\",\n                      showBorder: false,\n                      decorativeBarColor: \"NEGATIVE\",\n                      decorativeBarPosition: \"START\",\n                      style: \"ERROR\",\n                      secondaryLabel: \"Clause size has exceeded system limitations.\",\n                      secondaryLabelColor: cons!AS_GCM_HEX_CODE_DARK_RED\n                    ),\n                    /* Clause Text Preview */\n                    #\"SYSTEM_SYSRULES_cardLayout\"(\n                      contents: rule!AS_GCM_DPL_GAM_COMP_richTextFieldWithTablePlugin(\n                        text: a!localVariables(\n                          local!tableMaps: rule!AS_GCM_filterRecords(\n                            records: local!mapOfIndexAndValue,\n                            field: \"fillinType\",\n                            value: {\n                              cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_TABLE,\n                              cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_RICH_TEXT_TABLE\n                            }\n                          ),\n                          rule!AS_GCM_substituteListFromTextUsingReduce(\n                            text: reduce(\n                              /* Updates the perview text expect table fillins */\n                              rule!AS_GCM_updateFillinValuesForPreview,\n                              if(\n                                local!previewFullText,\n                                ri!clauseSetClauseText.clauseText,\n                                if(\n                                  contains(\n                                    {\n                                      cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_TABLE,\n                                      cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_RICH_TEXT_TABLE\n                                    },\n                                    local!mapOfIndexAndValue[local!selectedIndex].fillInType\n                                  ),\n                                  local!mapOfIndexAndValue[local!selectedIndex].value,\n                                  index(\n                                    local!sectionsForPreview,\n                                    tointeger(\n                                      index(\n                                        index(\n                                          index(\n                                            local!sectionsDictionaryForPreview,\n                                            \"fillins\",\n                                            {}\n                                          ),\n                                          \"sectionIndex\",\n                                          {}\n                                        ),\n                                        local!selectedSimpleFillinIndex,\n                                        {}\n                                      )\n                                    ),\n                                    \"\"\n                                  )\n                                )\n                              ),\n                              merge(\n                                local!fillins,\n                                rule!AS_GCM_filterRecords(\n                                  records: local!mapOfIndexAndValue,\n                                  field: \"fillinType\",\n                                  value: {\n                                    cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_TABLE,\n                                    cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_RICH_TEXT_TABLE\n                                  },\n                                  filterType: \"REJECT\"\n                                ).value\n                              ),\n                              index(\n                                local!fillIns,\n                                local!selectedSimpleFillinIndex,\n                                null\n                              ).citeIdentifier\n                            ),\n                            find: rule!AS_CO_UT_rejectNullValuesFromArray(\n                              {\n                                index(\n                                  local!tableMaps,\n                                  if(\n                                    local!previewFullText,\n                                    \"onLoadValue\",\n                                    \"value\"\n                                  ),\n                                  \"\"\n                                ),\n                                \"__ __\"\n                              }\n                            ),\n                            replaceWith: rule!AS_CO_UT_rejectNullValuesFromArray(\n                              {\n                                #\"SYSTEM_SYSRULES_forEach\"(\n                                  items: local!tableMaps,\n                                  expression: a!localVariables(\n                                    local!currentTableMap: fv!item,\n                                    local!tags: index(\n                                      rule!AS_GCM_filterRecords(\n                                        records: rule!AS_CO_UT_castToMapList(\n                                          a!flatten(\n                                            rule!AS_CO_UT_indexPath(\n                                              cdt: fv!item,\n                                              field: \"rows.cells\",\n                                              indexDefault: {}\n                                            )\n                                          )\n                                        ),\n                                        field: \"plainValue\",\n                                        value: rule!AS_CO_UT_distinct(\n                                          difference(\n                                            touniformstring(\n                                              rule!AS_CO_UT_indexPath(\n                                                cdt: a!flatten(fv!item.rows),\n                                                field: \"cells.plainValue\",\n                                                indexDefault: \"\"\n                                              )\n                                            ),\n                                            touniformstring(\n                                              rule!AS_CO_UT_indexPath(\n                                                cdt: a!flatten(fv!item.originalRows),\n                                                field: \"cells.plainValue\",\n                                                indexDefault: \"\"\n                                              )\n                                            )\n                                          )\n                                        )\n                                      ),\n                                      \"tag\",\n                                      \"\"\n                                    ),\n                                    /* add formatting to the cite tag within the tables */\n                                    rule!AS_GCM_substituteListFromTextUsingReduce(\n                                      text: fv!item.value,\n                                      find: local!tags,\n                                      replaceWith: #\"SYSTEM_SYSRULES_forEach\"(\n                                        items: local!tags,\n                                        expression: a!localVariables(\n                                          local!headTag: regexfirstmatch(\"<t(d|h)(.*?)>\", fv!item),\n                                          if(\n                                            local!currentTableMap = local!mapOfIndexAndValue[local!selectedIndex],\n                                            /* Highlighting the table values */\n                                            local!headTag & \"<span style=\"\"background-color: \" & cons!AS_GCM_HEX_CODE_FILL_IN_HIGHLIGHT & \";\"\"><font color=\" & cons!AS_GCM_HEX_CODE_FILL_IN_HIGHLIGHT_TEXT & \" style=\"\"\"\">\" & regexreplaceall(\"</?(td|p|th|span)(.*?)>\", fv!item, \"\") & \"</font></span></\" & stripwith(\n                                              index(split(local!headTag, \" \"), 1, \"\"),\n                                              \"<>\"\n                                            ) & \">\",\n                                            /* Only formatting the values to bold */\n                                            local!headTag & regexreplaceall(\"</?(td|p|th|span)(.*?)>\", fv!item, \"\") & \"</\" & stripwith(\n                                              index(split(local!headTag, \" \"), 1, \"\"),\n                                              \"<>\"\n                                            ) & \">\"\n                                          )\n                                        )\n                                      ),\n                                      replaceAllInstances: true()\n                                    )\n                                  )\n                                ),\n                                \"____\"\n                              }\n                            ),\n                            replaceAllInstances: true\n                          )\n                        ),\n                        readOnly: true,\n                        labelPosition: \"COLLAPSED\"\n                      ),\n                      height: \"AUTO\",\n                      style: \"NONE\",\n                      shape: \"SEMI_ROUNDED\",\n                      padding: \"MORE\",\n                      marginBelow: \"STANDARD\",\n                      showBorder: false,\n                      showShadow: true\n                    )\n                  },\n                  padding: \"STANDARD\",\n                  style: \"TRANSPARENT\",\n                  showBorder: false\n                )\n              },\n              width: \"AUTO\",\n              backgroundColor: cons!AS_GCM_HEX_CODE_APPIAN_BACKGROUND,\n              padding: \"NONE\",\n              accessibilityText: \"Clause Fill-in Preview\"\n            )\n          },\n          showWhen: local!fillInCount > 0\n        )\n      )\n    }\n  )\n)"
    },
    "_a-0000ec06-6336-8000-9d71-011c48011c48_12256433": {
      "name": "AS_GCM_CRD_SingleSelectableFillinCard",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_cardLayout\"(\n  contents: {\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      labelPosition: \"COLLAPSED\",\n      value: {\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(text: ri!fillinLabel, style: \"STRONG\")\n      },\n      preventWrapping: true,\n      marginBelow: \"NONE\"\n    ),\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      labelPosition: \"COLLAPSED\",\n      value: {\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(text: ri!type, color: \"STANDARD\")\n      },\n      marginBelow: \"NONE\"\n    ),\n    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n      items: {\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: if(\n            ri!isValidationError,\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              labelPosition: \"COLLAPSED\",\n              value: {\n                #\"SYSTEM_SYSRULES_richTextIcon\"(\n                  icon: \"exclamation-triangle\",\n                  color: \"NEGATIVE\",\n                  size: \"SMALL\"\n                )\n              }\n            ),\n            if(\n              ri!isAnswered,\n              #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                labelPosition: \"COLLAPSED\",\n                value: {\n                  #\"SYSTEM_SYSRULES_richTextIcon\"(\n                    icon: \"check-circle\",\n                    color: cons!AS_GCM_HEX_CODE_GREEN_3,\n                    size: \"SMALL\"\n                  )\n                }\n              ),\n              #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                labelPosition: \"COLLAPSED\",\n                value: {\n                  #\"SYSTEM_SYSRULES_richTextIcon\"(\n                    icon: \"minus-circle\",\n                    color: cons!AS_GCM_HEX_CODE_GRAY_3,\n                    size: \"SMALL\"\n                  )\n                }\n              )\n            )\n          ),\n          width: \"MINIMIZE\"\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            labelPosition: \"COLLAPSED\",\n            value: {\n              if(\n                ri!isValidationError,\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: \"\",\n                  color: \"STANDARD\",\n                  size: \"SMALL\"\n                ),\n                if(\n                  ri!isAnswered,\n                  {\n                    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                      text: \"Complete\",\n                      color: \"STANDARD\",\n                      size: \"SMALL\"\n                    ),\n                    if(\n                      ri!isAutoPopulated,\n                      {\n                        char(32),\n                        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                          text: concat(\n                            \"(\",\n                            \"Agency auto-populated value\",\n                            \")\"\n                          ),\n                          color: cons!AS_GCM_HEX_CODE_GRAY_3,\n                          size: \"SMALL\"\n                        ),\n\n                      },\n                      {}\n                    )\n                  },\n                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                    text: \"Incomplete\",\n                    color: cons!AS_GCM_HEX_CODE_GRAY_3,\n                    size: \"SMALL\"\n                  )\n                )\n              )\n            }\n          ),\n          width: \"MINIMIZE\"\n        )\n      },\n      spacing: \"DENSE\",\n      marginAbove: \"STANDARD\"\n    )\n  },\n  link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n    saveInto: {\n      a!save(ri!selectedIndex, ri!currentIndex),\n      ri!additionalSaves\n    }\n  ),\n  height: \"AUTO\",\n  style: if(\n    ri!currentIndex = ri!selectedIndex,\n    cons!AS_GCM_HEX_CODE_BLUE_0,\n    cons!AS_GCM_HEX_CODE_WHITE\n  ),\n  shape: \"SEMI_ROUNDED\",\n  padding: \"STANDARD\",\n  marginBelow: \"NONE\",\n  showBorder: false,\n  decorativeBarPosition: \"START\",\n  decorativeBarColor: if(\n    ri!currentIndex = ri!selectedIndex,\n    cons!AS_GCM_HEX_CODE_BLUE,\n    cons!AS_GCM_HEX_CODE_WHITE\n  ),\n  accessibilityText: if(\n    cons!AS_GCM_TOGGLE_AUTOMATION_TESTING_ENABLED,\n    ri!currentIndex,\n    if(\n      ri!currentIndex = ri!selectedIndex,\n      \"Selected\",\n      {}\n    )\n  )\n)"
    },
    "_a-0000e915-02bc-8000-9c1f-011c48011c48_3773963": {
      "name": "AS_GCM_mergeMultipleMapsIntoSingleMap",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_cast(\n  type: 'type!{http://www.appian.com/ae/types/2009}Map',\n  value: a!localVariables(\n    local!keys: #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!mapsToMerge,\n      expression: a!keys(fv!item)\n    ),\n    local!values: a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!keys,\n        expression: apply(\n          index(ri!mapsToMerge[fv!index], _, {}),\n          fv!item\n        )\n      )\n    ),\n    reduce(\n      fn!insert,\n      cast(\n        'type!{http://www.appian.com/ae/types/2009}Dictionary',\n        {}\n      ),\n      merge(local!values, a!flatten(local!keys))\n    )\n  )\n),"
    },
    "_a-0000e61a-f20f-8000-9ba5-011c48011c48_53662": {
      "name": "AS_GAM_CO_I18N_UT_displayLabel",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Text',\n  a!localVariables(\n    local!result: a!refreshVariable(\n      value: if(\n        rule!AS_CO_UT_isBlank(ri!bundleKey),\n        null,\n        if(\n          rule!AS_CO_UT_isBlank(ri!arguments),\n          rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!bundle[ri!bundleKey],\n            replacementValue: ri!bundleKey\n          ),\n          rule!AS_GAM_CO_I18N_UT_replaceArguments(\n            bundleKey: ri!bundle[ri!bundleKey],\n            arguments: ri!arguments\n          )\n        )\n      ),\n      refreshAlways: true\n    ),\n    local!result\n  )\n)"
    },
    "_a-0000e9e2-fe39-8000-9c72-011c48011c48_5802508": {
      "name": "AS_CO_UT_isRecordTypeData",
      "type": "Expression Rule",
      "sail_code": "/*Returns true if the given data is of type recordType, else returns false*/\nif(\n  find(\n    \"urn:com:appian:recordtype\",\n    toxml(ri!data)\n  ) <> 0,\n  true(),\n  false()\n)"
    },
    "_a-0000e79a-fc04-8000-9bf4-011c48011c48_2190210": {
      "name": "AS_GCM_UT_removeGivenCiteTagsFromClauseText",
      "type": "Expression Rule",
      "sail_code": "/*Removes all cite tags recurrsively and returns clauseText without citetags which are passed in ri!citeTagsToRemove*/\nif(\n  and(\n    rule!AS_CO_UT_isNotBlank(input: ri!citeTagsToRemove),\n    rule!AS_CO_UT_isNotBlank(input: ri!clauseText)\n  ),\n  a!localVariables(\n    local!removedDummyWrapperTags: #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!citeTagsToRemove,\n      expression: rule!AS_CO_UT_replaceNull(\n        nullableValue: regexfirstmatch(\n          /*Checking for dummy paragraph tag and removing if any. eg. <p class=\"p NoIndent\"> <cite></p>*/\n          \"<p[a-zA-Z0-9=\"\" ]*> \" & fv!item & \"</p>\",\n          ri!clauseText\n        ),\n        replacementValue: fv!item\n      )\n    ),\n    reduce(\n      fn!substitute,\n      ri!clauseText,\n      local!removedDummyWrapperTags,\n      \"\"\n    )\n  ),\n  ri!clauseText\n)"
    },
    "0002e7a3-2cc8-8000-2ee0-7f0000014e7a": {
      "name": "AS GCM Complete Fill In",
      "type": "Process Model",
      "sail_code": "// Input: ?\n=cons!AS_GCM_ENT_CLAUSE_SET_CLAUSE_TEXT\n\n// Input: ?\n=pv!clauseSetClauseText\n\n// Output: ?\nAC!StoredValues\n\n// Input: ?\n=cons!AS_GCM_ENT_CLAUSE_SET_CLAUSE\n\n// Input: ?\n=pv!clauseSetClause\n\n// Output: ?\nAC!StoredValues\n\n// Input: ?\n= rule!AS_GCM_UT_captureAuditForClauseSetClauseAndClauseTextInRA( initiator: pp!initiator, clause: pv!clauseSetClause, clauseText: pv!clauseSetClauseText, originalClause: pv!originalClauseSetClause, originalClauseText: pv!originalClauseSetClauseText)\n\n// Output: ?\nnull\n\n// Output: ?\nnull\n\n// Input: ?\n=clauseSetClause\n\n// Input: ?\n=clauseSetClauseText\n\n// Output: ?\nrule!AS_GCM_UT_updateClauseSetClauseDetailsOnEditClauseOrCompleteFillIns(\n  clauseSetClause: pv!clauseSetClause,\n  userAction: pv!userAction,\n  initiator: pp!initiator,\n  clauseText: pv!clauseSetClauseText.clauseText\n)\n\n// Output: ?\nrule!AS_GCM_setMetaDataForClauseSetClauseTextCdt(\n  initiator: pp!initiator,\n  clauseSetClauseTexts: pv!clauseSetClauseText\n)\n\n// Output: ?\nrule!AS_GCM_QE_getClauseSetClauseTexts(\n  relationId: pv!clauseSetClause.relationId,\n  executeWhen: true,\n  returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT\n)\n\n// Output: ?\nrule!AS_GCM_QE_getClauseSetClauseDetails(\n  returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT,\n  relationId: pv!clauseSetClause.relationId,\n  executeWhen: true\n)"
    },
    "_a-0000e3d1-f4dc-8000-9ba4-011c48011c48_143475": {
      "name": "AS_CO_UT_initializeBlankLocalVariable",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_cast(\n  type: ri!type,\n  typeOf: ri!typeOf,\n  value: null\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73536": {
      "name": "AS_CO_UT_isBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  length(a!flatten(ri!value)) = 0\n)"
    },
    "_a-0000e3ff-79a3-8000-7714-45ef9045ef90_8682-adt": {
      "name": "AS_ADT_BL_auditConfig_SAMPLE_Parent",
      "type": "Expression Rule",
      "sail_code": "/*\nAudit config for 'type!{urn:com:appian:types:AS:ADT}AS_ADT_SAMPLE_Parent'\n*/\n{\n  idField: \"parentId\",\n  foreignIdField:\"foreignId\",\n  simpleFields: {\n    \"text\",\n    \"date\",\n    \"referenceChild.childId\",\n    \"complexChildSingle.text\",\n    \"complexChildSingle.date\",\n    \"complexChildSingle.referenceChild.childId\",\n    \"isActive\"\n  },\n  complexFields: {\n    {\n      fieldName: \"complexChildMultiple\",\n      auditFieldName: \"complexChildMultipleChanges\",\n      idField: \"childId\",\n      simpleFields: {\n        \"text\",\n        \"date\",\n        \"referenceChild.childId\"\n      },\n      complexFields: {}\n    }\n  }\n}"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_74163": {
      "name": "AS_CO_CP_checkBoxField",
      "type": "Interface",
      "sail_code": "with(\n  local!displayValue: apply(\n    displayvalue(_, ri!choiceValues, ri!choiceLabels, null),\n    {ri!value}\n  ),\n  if(ri!readOnly,\n    rule!AS_CO_DSP_standardReadOnlyField(\n      label: ri!label,\n      instructions: ri!instructions,\n      value: if(isnull(ri!readOnlyValue),\n        if(rule!AS_CO_UT_isBlank(local!displayValue),\n            null,\n            joinarray(local!displayValue, char(10))\n          ),\n        ri!readOnlyValue\n      ),\n      labelPosition: ri!labelPosition,\n      helpTooltip: ri!helpTooltip,\n      showWhen: if(isnull(ri!showWhen), true, ri!showWhen),\n      accessibilityText: ri!accessibilityText\n    ),\n    #\"SYSTEM_SYSRULES_checkboxField\"(\n      label: ri!label,\n      labelPosition: rule!AS_CO_UT_getLabelPosition(\n        label: ri!label,\n        labelPosition: ri!labelPosition,\n        readOnly: ri!readOnly\n      ),\n      instructions: ri!instructions,\n      helpTooltip: ri!helpTooltip,\n      choiceLabels: ri!choiceLabels,\n      choiceValues: ri!choiceValues,\n      value: if(rule!AS_CO_UT_isBlank(local!displayValue),\n        null,\n        ri!value\n      ),\n      saveInto: ri!saveInto,\n      showWhen: if(isnull(ri!showWhen), true, ri!showWhen),\n      required: if(ri!readOnly, false, ri!required),\n      /* Updated requiredMessage parameter to show default validation text*/\n      requiredMessage: rule!AS_CO_UT_displayRequiredMessage(\n        label: ri!label,\n        requiredMessage: ri!requiredMessage\n      ),\n      disabled: ri!disabled,\n      choiceLayout: ri!choiceLayout,\n      validations: ri!validations,\n      validationGroup: ri!validationGroup,\n      align: ri!align,\n      accessibilityText: ri!accessibilityText\n    )\n  )\n)"
    },
    "_a-0000eb97-b2e8-8000-9d39-011c48011c48_11164523": {
      "name": "AS_GCM_IBRValidationDisabled_wrapper",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Determine whether to execute the _default or _custom rule*/\n  local!runtimeRule: a!refreshVariable(\n    value: rule!AS_FRM_determineRuntimeRule(\n      defaultRuleReference: rule!AS_GCM_IBRValidationDisabled_v1_default\n    ),\n    refreshAlways: true\n  ),\n  /*Setting Default as true in case of invalid toggle value*/\n  if(\n    rule!AS_CO_UT_typeCompare(\n      value1: local!runtimeRule(),\n      value2: true()\n    ),\n    local!runtimeRule(),\n    true\n  )\n)"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9760853": {
      "name": "AS_GCM_setRecordFields",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!record),\n  ri!record,\n  a!localVariables(\n    local!allUpdates: rule!AS_CO_UT_rejectNullValuesFromArray(\n      a!flatten(\n        {\n          ri!alwaysOverwrite,\n          ri!childRelationships,\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!neverOverwrite,\n            expression: #\"urn:appian:function:v1:a:update\"(\n              fv!item,\n              \"value\",\n              /*Specifically using this instead of a!defaultValue() to account for the `{null}` value*/\n              rule!AS_CO_UT_replaceNull(\n                nullableValue: ri!record[fv!item.field],\n                replacementValue: fv!item.value\n              )\n            )\n          )\n        }\n      )\n    ),\n    local!onlyChangedUpdates: a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!allUpdates,\n        expression: if(\n          or(\n            tostring(ri!record[fv!item.field]) = tostring(fv!item.value),\n            toboolean(fv!item.applyWhen) = false\n          ),\n          {},\n          fv!item\n        )\n      )\n    ),\n    if(\n      a!isNullOrEmpty(local!onlyChangedUpdates),\n      ri!record,\n      #\"urn:appian:function:v1:a:update\"(\n        data: ri!record,\n        index: local!onlyChangedUpdates.field,\n        value: local!onlyChangedUpdates.value\n      )\n    )\n  )\n)"
    },
    "_a-0000e5d4-2024-8000-9baf-011c48011c48_320878": {
      "name": "AS_FRM_determineRuntimeRule",
      "type": "Expression Rule",
      "sail_code": "if( \n  cons!AS_FRM_BOOL_RULE_CUSTOMIZATION_1_0_ENABLED,\n  \n  determineruntimerule(ri!defaultRuleReference),\n  \n  ri!defaultRuleReference\n)"
    },
    "_a-0000ec2b-4d79-8000-9d88-011c48011c48_12586581": {
      "name": "AS_GCM_findFillinValue",
      "type": "Expression Rule",
      "sail_code": "if(\n  find(\"<tbody\", ri!fillInText),\n  /*    if grids are detected they will be skipped*/\n  null,\n  if(\n    find(\"<cite\", ri!fillInText),\n    with(\n      /*  since the text is split with cite tags the characters right before the fill in is \"> - this\n will give the start index of fill in      */\n      local!start: if(\n        find(\"\"\">\", ri!fillInText) + 2 = find(\"[\", ri!fillInText),\n        if(\n          find(\"]\", ri!fillInText) + 1 = find(\"</cite>\", ri!fillInText),\n          find(\"\"\">\", ri!fillInText) + 2,\n          find(\"]\", ri!fillInText) + 1\n        ),\n        find(\"\"\">\", ri!fillInText) + 2\n      ),\n      /*  after the fill in it will be either instructions or the end of cite\nso if instruction is found that is [<em it will be the end index else the \nend of cite tag  </cite> will be end index     */\n      local!end: with(\n        local!citeEnd: find(\"</cite>\", ri!fillInText),\n        local!insStart1: find(\"[\", ri!fillInText),\n        local!insStart2: find(\"<em\", ri!fillInText),\n        local!insStart: if(\n          and(\n            local!insStart1 < local!citeEnd,\n            local!insStart1\n          ),\n          local!insStart1,\n          if(\n            and(\n              local!insStart2 < local!citeEnd,\n              local!insStart1\n            ),\n            local!insStart2,\n            0\n          )\n        ),\n        if(\n          local!insStart,\n          if(\n            and(\n              local!insStart < local!citeEnd,\n              local!start <= local!insStart\n            ),\n            local!insStart,\n            local!citeEnd\n          ),\n          local!citeEnd\n        )\n      ),\n      local!newStart: if(\n        local!start <> local!end,\n        if(\n          contains(\n            { \".\", \",\", \":\" },\n            index(ri!fillInText, local!start, null())\n          ),\n          local!start + 1,\n          local!start\n        ),\n        local!start\n      ),\n      local!newEnd: if(\n        local!start <> local!end,\n        if(\n          contains(\n            { \".\", \",\", \":\" },\n            index(ri!fillInText, local!end - 1, null())\n          ),\n          local!end - 1,\n          local!end\n        ),\n        local!end\n      ),\n      local!value: mid(\n        ri!fillInText,\n        local!newStart,\n        local!newEnd - local!newStart\n      ),\n     a!map(\n       start: local!newStart,\n       end: local!newEnd,\n       value: if(rule!AS_GCM_StyledTextEditorForFillInsEnabled_wrapper(),local!value,striphtml(local!value))\n     )\n    ),\n    null\n  )\n),"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1557817": {
      "name": "AS_GCM_UT_findColorCodes",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!index: find(\"rgb\", ri!tag),\n  local!colIndex: if(\n    ri!isBackgroundColor = false,\n    find(\"rgb\", ri!tag, local!index + 3),\n    null\n  ),\n  local!hexdec: if(\n    ri!isBackgroundColor = false,\n    index(\n      split(\n        mid(\n          ri!tag,\n          find(\"color:\", ri!tag, local!index + 3),\n          14\n        ),\n        \"#\"\n      ),\n      2,\n      {}\n    ),\n    index(\n      split(\n        mid(ri!tag, find(\"color:\", ri!tag), 14),\n        \"#\"\n      ),\n      2,\n      {}\n    )\n  ),\n  local!color: mid(\n    ri!tag,\n    if(\n      ri!isBackgroundColor = false,\n      local!colIndex,\n      local!index\n    ),\n    18\n  ),\n  local!rgbCodes: tointeger(split(local!color, \", \")),\n  if(\n    rule!AS_CO_UT_isBlank(local!rgbCodes),\n    local!hexdec,\n    concat(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!rgbCodes,\n        expression: dec2hex(fv!item, 2)\n      )\n    )\n  )\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81818": {
      "name": "AS_CO_I18N_UT_displayLabel",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Text',\n  with(\n    local!bundleKeyParse: rule!AS_CO_I18N_UT_parseBundleKey(bundleKey: ri!bundleKey),\n    local!label: if(\n      rule!AS_CO_UT_isBlank(local!bundleKeyParse.bundleName),\n      ri!i18nData[local!bundleKeyParse.labelKey],\n      ri!i18nData[local!bundleKeyParse.bundleName][local!bundleKeyParse.labelKey]\n    ),\n    local!updatedLabel: rule!AS_CO_UT_replaceNull(\n      nullableValue: local!label,\n      replacementValue: ri!bundleKey\n    ),\n    local!updatedLabelForArguments: if(\n      rule!AS_CO_UT_isBlank(ri!arguments),\n      local!updatedLabel,\n      reduce(\n        rule!AS_CO_I18N_UT_replaceArgument(input: _, index: _, arguments: ri!arguments),\n        local!updatedLabel,\n        enumerate(count(ri!arguments)) + 1\n      )\n    ),\n    local!updatedLabelForArguments\n  )\n)"
    },
    "_a-0000e915-02bc-8000-9c1f-011c48011c48_3734026": {
      "name": "AS_GCM_extractBalancedTagThatHasGivenText",
      "type": "Expression Rule",
      "sail_code": "/*\nThis rule works by balancing the < and </ since all html opening and closing tags have them.\n\nNOTE: Pass unique text in ri!uniqueTextInTag if the given tag is expected to have same tag nested in it.\n***This rule might not work as expected if we pass the common text like \"span\" or anything which doesn't identify the tag uniquely.***\nSince passing a unique value to this rule input is recommended.\n\nExample Input/Output:\n\nInput:\n\nri!text -> \"<span style=\"\"background-color: rgb(255, 255, 0);\"\"><span hidden=\"\"\"\">class=\"\"cite 52.215-20_d5e120 SingleLine\"\"</span>jguygas1</span>iii<span style=\"\"background-color: rgb(255, 255, 0);\"\"><span hidden=\"\"\"\">class=\"\"cite 52.215-20_d5e121 SingleLine\"\"</span>jguygas2 [<em class=\"\"ph i\"\">Insert description of the data and format that are required, and include access to records necessary to permit an adequate evaluation of the proposed price in accordance with <a class=\"\"xref fm:ParaNumOnly\"\" href=\"\"15.408.html#FAR_15_408\"\">15.408</a>, <a class=\"\"xref fm:Table\"\" href=\"\"15.408.html#FAR_15_408__i1106753\"\">Table&nbsp; 15-2</a>, Note 2. The description may be inserted at the time of issuing the solicitation, or the Contracting Officer may specify that the offeror's format will be acceptable, or the description may be inserted as the result of negotiations.</em></span>]</p>\"\nri!uniqueTextInTag -> \"background-color:\"\n\nOutput:\n\n{\n  \"<span style=\"\"background-color: rgb(255, 255, 0);\"\"><span hidden=\"\"\"\">class=\"\"cite 52.215-20_d5e120 SingleLine\"\"</span>jguygas1</span>\",\n  \"<span style=\"\"background-color: rgb(255, 255, 0);\"\"><span hidden=\"\"\"\">class=\"\"cite 52.215-20_d5e121 SingleLine\"\"</span>jguygas2 [<em class=\"\"ph i\"\">Insert description of the data and format that are required, and include access to records necessary to permit an adequate evaluation of the proposed price in accordance with <a class=\"\"xref fm:ParaNumOnly\"\" href=\"\"15.408.html#FAR_15_408\"\">15.408</a>, <a class=\"\"xref fm:Table\"\" href=\"\"15.408.html#FAR_15_408__i1106753\"\">Table&nbsp; 15-2</a>, Note 2. The description may be inserted at the time of issuing the solicitation, or the Contracting Officer may specify that the offeror's format will be acceptable, or the description may be inserted as the result of negotiations.</em></span>\"\n}\n\n*/\nif(\n  any(\n    a!isNullOrEmpty,\n    { ri!text, ri!uniqueTextInTag }\n  ),\n  \"\",\n  a!localVariables(\n    /* Splitting the ri!text with ri!uniqueTextInTag to iterate through each item */\n    local!splitText: split(ri!text, ri!uniqueTextInTag),\n    rule!AS_CO_UT_rejectNullValuesFromArray(\n      array: #\"SYSTEM_SYSRULES_forEach\"(\n        /* Ignoring the first item from local!splitText since ri!uniqueTextInTag will not be present in it */\n        items: ldrop(local!splitText, 1),\n        expression: a!localVariables(\n          /* Fetching the text before ri!uniqueTextInTag from < and concatenating it with ri!uniqueTextInTag and\n        the rest of the test until the next < which has ri!uniqueTextInTag*/\n          local!properText: concat(\n            index(\n              regexsearch(\n                \"<[^<]*$\",\n                local!splitText[fv!index],\n                \"s\"\n              ),\n              \"match\",\n              null\n            ),\n            ri!uniqueTextInTag,\n            regexreplaceall(\"<[^>]*$\", fv!item, \"\")\n          ),\n          /* Extracting the html tag to balance it. Eg: span will be extracted from <span style=\"\"></span>         */\n          local!htmlTag: /* Extracting the html tag till the space \" \"           */\n          rule!AS_GCM_UT_regexsearch(\n            pattern: \"[^ ]+\",\n            /*  Replacing all characters till the last < character to get the opening tag  */\n            searchString: \n            stripwith(\n              regexfirstmatch(\n                \"<[^<]+$\",\n                local!splitText[fv!index] & ri!uniqueTextInTag,\n                \"s\"\n              ),\n              \"<\"\n            ),\n            regexFlag: \"s\"\n          ).match,\n          /* Extracting all the matching opening and closing html tags to find the balanced one         */\n          local!allTags: rule!AS_GCM_UT_regexsearch(\n            pattern: \"</?\" & local!htmlTag,\n            searchString: local!properText,\n            regexFlag: \"gs\"\n          ),\n          /* Keeping only < and / from local!allTags.match to do a balancing. */\n          local!cleanedText: cleanwith(concat(local!allTags.match), \"</\"),\n          /* Splitting with </ to get the opening tags alone to balance it.\n        Ignoring the last entry since we won't have a open tag in it */\n          local!onlyOpeningTags: rdrop(split(local!cleanedText, \"</\"), 1),\n          local!unbalancedOpeningTags: #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!onlyOpeningTags,\n            expression: /* Since we have splitted with </ we are subtracting 1 to pair a < i.e open tag with </ \n          For Eg. in \"<<</</\" if we split using </ and ignore the last string in output as per local!onlyOpeningTags\n          we will get {\"<<\", \"\"} in this the first string (i.e. \"<<\") has a opening tag pair for </ using which we splitted. \n          So to ignore this pair of opening tag we are subtracting 1\n          After subtracting 1 from the length we will get {1, -1}\n          */\n            len(fv!item) - 1\n          ),\n          local!balancedClosingTagIndex: rule!AS_CO_UT_rejectNullValuesFromArray(\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: local!unbalancedOpeningTags,\n              expression: if(\n                sum(\n                  index(\n                    local!unbalancedOpeningTags,\n                    enumerate(fv!index) + 1\n                  )\n                ) = 0,\n                fv!index,\n                \"\"\n              )\n            )\n          ),\n          regexfirstmatch(\n            \"<[^<>]*\" & ri!uniqueTextInTag & \"((.*?)</\" & local!htmlTag & \">){\" & index(local!balancedClosingTagIndex, 1, 1) & \"}\",\n            local!properText\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000eb28-f476-8000-9d09-011c48011c48_9642008": {
      "name": "AS_GCM_DPL_CO_INP_textField",
      "type": "Interface",
      "sail_code": "if(\n  ri!readOnly,\n  rule!AS_CO_DSP_standardReadOnlyField(\n    label: ri!label,\n    instructions: ri!instructions,\n    value: ri!value,\n    labelPosition: ri!labelPosition,\n    helpTooltip: ri!helpTooltip,\n    showWhen: ri!showWhen,\n    accessibilityText: ri!accessibilityText,\n    align: ri!align\n  ),\n  #\"SYSTEM_SYSRULES_textField\"(\n    label: ri!label,\n    labelPosition: rule!AS_CO_UT_getLabelPosition(\n      label: ri!label,\n      labelPosition: ri!labelPosition,\n      readOnly: false\n    ),\n    instructions: ri!instructions,\n    helpTooltip: ri!helpTooltip,\n    placeholder: ri!placeholder,\n    value: ri!value,\n    /* We are using nested saveIntos to automatically perform a trim on any value */\n    /* before executing the actual saves */\n    /* Saves can be nested in this format to allow for better reusability */\n    saveInto: a!save(ri!saveInto, trim(save!value)),\n    refreshAfter: ri!refreshAfter,\n    showWhen: ri!showWhen,\n    required: if(ri!readOnly, false, ri!required),\n    requiredMessage: rule!AS_CO_UT_displayRequiredMessage(\n      label: ri!label,\n      requiredMessage: ri!requiredMessage\n    ),\n    readOnly: ri!readOnly,\n    disabled: ri!disabled,\n    masked: ri!masked,\n    validations: if(ri!readOnly, {}, ri!validations),\n    validationGroup: ri!validationGroup,\n    align: ri!align,\n    accessibilitytext: ri!accessibilityText,\n    inputPurpose: ri!inputPurpose,\n    characterLimit: ri!characterLimit,\n    showCharacterCount: a!defaultValue(\n      value: ri!showCharacterCount,\n      default: false()\n    )\n  )\n)"
    },
    "_a-0000e79a-fc04-8000-9bf4-011c48011c48_2332220": {
      "name": "AS_GCM_MTR_BLANK_openCompleteFillIns",
      "type": "Expression Rule",
      "sail_code": "{}"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_165180-adt": {
      "name": "AS_ADT_UT_calculateAudit_SingleObject",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    rule!AS_CO_UT_compareStrong(\n      value1: ri!originalObject,\n      value2: ri!newObject\n    ),\n    ri!externalAction <> cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_INITIATED\n  ),\n  {},\n  a!localVariables(\n    local!auditConfig: rule!AS_CO_UT_dynamicDictionary(\n      fieldValuePairs: {\n        {\n          field: ri!auditConfig.idField,\n          value: rule!AS_CO_UT_replaceNull(\n            nullableValue: index(\n              ri!originalObject,\n              ri!auditConfig.idField,\n              null\n            ),\n            replacementValue: index(\n              ri!newObject,\n              ri!auditConfig.idField,\n              null\n            )\n          )\n        },\n        if(\n          rule!AS_CO_UT_isNotBlank(ri!auditConfig.foreignIdField),\n          {\n            field: if(\n              length(\n                split(ri!auditConfig.foreignIdField, \".\")\n              ) = 2,\n              split(ri!auditConfig.foreignIdField, \".\")[2],\n              split(ri!auditConfig.foreignIdField, \".\")[1]\n            ),\n            value: rule!AS_CO_UT_replaceNull(\n              nullableValue: rule!AS_CO_UT_indexPath(\n                cdt: ri!originalObject,\n                field: ri!auditConfig.foreignIdField\n              ),\n              replacementValue: rule!AS_CO_UT_indexPath(\n                cdt: ri!newObject,\n                field: ri!auditConfig.foreignIdField\n              )\n            )\n          },\n          {}\n        ),\n        { field: \"username\", value: ri!username },\n        { field: \"timestamp\", value: now() },\n        { field: \"auditType\", value: ri!auditType },\n        {\n          field: \"auditActionCode\",\n          value: rule!AS_ADT_UT_determineAuditActionCode(\n            originalObject: ri!originalObject,\n            newObject: ri!newObject,\n            auditConfig: ri!auditConfig,\n            externalAction: ri!externalAction\n          )\n        },\n        {\n          field: \"simpleFieldChanges\",\n          value: rule!AS_ADT_UT_buildSimpleFieldChanges(\n            simpleFields: ri!auditConfig.simpleFields,\n            originalObject: ri!originalObject,\n            newObject: ri!newObject\n          )\n        },\n        if(\n          rule!AS_CO_UT_isBlank(ri!auditConfig.complexFields),\n          {},\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!auditConfig.complexFields,\n            expression: {\n              field: fv!item.auditFieldName,\n              value: rule!AS_ADT_UT_calculateAudit_MultipleObjects(\n                originalObjects: index(ri!originalObject, fv!item.fieldName, {}),\n                newObjects: index(ri!newObject, fv!item.fieldName, {}),\n                auditConfig: fv!item,\n                username: ri!username,\n                externalAction: ri!externalAction\n              )\n            }\n          )\n        )\n      }\n    ),\n    if(\n      /*To make the action code \"UNCHANGED\" if the object is unmodified(excluding the metadata)*/\n      and(\n        rule!AS_CO_UT_not(\n          contains(\n            a!flatten(\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: {\n                  \"simpleFieldChanges\",\n                  index(\n                    ri!auditConfig.complexFields,\n                    \"auditFieldName\",\n                    null\n                  )\n                },\n                expression: or(\n                  rule!AS_CO_UT_isBlank(index(local!auditConfig, fv!item, null)),\n                  if(\n                    contains(\n                      touniformstring(\n                        index(\n                          ri!auditConfig.complexFields,\n                          \"auditFieldName\",\n                          null\n                        )\n                      ),\n                      tostring(fv!item)\n                    ),\n                    not(\n                      contains(\n                        #\"SYSTEM_SYSRULES_forEach\"(\n                          items: rule!AS_CO_UT_indexPath(cdt: local!auditConfig, field: fv!item),\n                          expression: tostring(fv!item.auditActionCode) = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n                        ),\n                        false\n                      )\n                    ),\n                    false\n                  )\n                )\n              )\n            ),\n            false\n          )\n        ),\n        or(\n          tostring(\n            index(\n              local!auditConfig,\n              \"auditActionCode\",\n              null\n            )\n          ) = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n          ri!externalAction = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MANUAL_UPDATE,\n          ri!externalAction = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MANUAL_SYNC\n        )\n      ),\n      rule!AS_CO_UT_updateCdtFields(\n        cdt: local!auditConfig,\n        fields: \"auditActionCode\",\n        newValues: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n      ),\n      local!auditConfig\n    )\n  )\n)"
    },
    "_a-0000e8cc-c513-8000-9c0f-011c48011c48_3412015": {
      "name": "AS_GCM_DPL_CO_UT_formatCurrencyValue",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Text',\n  if(\n    a!isNullOrEmpty(ri!currencyValue),\n    if(ri!showHyphen, \"-\", \"\"),\n    a!localVariables(\n      local!currencyCode: a!defaultValue(\n        value: ri!currencyCode,\n        default: cons!AS_CO_TXT_DEFAULT_CURRENCY_CODE\n      ),\n      #\"urn:appian:function:v1:a:currency\"(\n        local!currencyCode,\n        ri!currencyValue,\n        if(ri!showDecimal, 2, 0),\n        true,\n        if(ri!showCurrencyCode, \"CODE\", null),\n        if(ri!showCurrencyCode, \"END\", null)\n      )\n    )\n  )\n)"
    },
    "_a-0000e615-fd0f-8000-9bc1-011c48011c48_1164426": {
      "name": "AS_GCM_QR_getRefData",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryRecord(\n  recordType: recordType!AS GCM R Data,\n  returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n  fields: ri!fields,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM R Data.isActive,\n      operator: \"=\",\n      value: true,\n      applyWhen: not(\n        rule!AS_CO_UT_booleanDefaultFalse(boolean: ri!returnAllData)\n      )\n    )\n  },\n  logicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n    operator: \"OR\",\n    filters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM R Data.refType,\n        operator: \"in\",\n        value: ri!refTypes\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM R Data.refDataId,\n        operator: \"in\",\n        value: ri!refDataId\n      )\n    },\n    ignoreFiltersWithEmptyValues: true()\n  ),\n  sort: a!defaultValue(\n    value: ri!sortInfo,\n    default: {\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!AS GCM R Data.sortOrder,\n        ascending: true\n      ),\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!AS GCM R Data.refLabel,\n        ascending: true\n      )\n    }\n  ),\n  castToCdtType: if(\n    rule!AS_CO_UT_booleanDefaultTrue(boolean: ri!doCastToCdt),\n    'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Data',\n    null\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_243040": {
      "name": "AS_CO_UT_compareStrong",
      "type": "Expression Rule",
      "sail_code": "/*Do a strict comarison against types*/\ncast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  and(\n    rule!AS_CO_UT_typeCompare(\n      value1: ri!value1,\n      value2: ri!value2\n    ),\n    ri!value1 = ri!value2\n  )\n)"
    },
    "_a-0000e79a-fc04-8000-9bf4-011c48011c48_2137111": {
      "name": "AS_GCM_removeFillinInstructionsFromClauseText",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!allCiteTags: regexallmatches(\"<cite(.*?)</cite>\", ri!sectionText),\n  rule!AS_GCM_substituteListFromTextUsingReduce(\n    text: ri!sectionText,\n    find: local!allCiteTags,\n    replaceWith: #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!allCiteTags,\n      expression: a!localVariables(\n        /* Getting the count of \"]\" braces to handle edge case */\n        local!closingSquareBracesCount: rule!AS_GAM_UT_ArrayLength(\n          regexsearch(\n            \"]\",\n            regexreplaceall(\"<cite[^\\>]+>|</cite>\", fv!item, \"\"),\n            \"gs\"\n          )\n        ),\n        if(\n          local!closingSquareBracesCount > 0,\n          /* Replacing the entire text from first \"[\" till last \"]\" to handle edge case when there are mutiple [] braces */\n          regexreplaceall(\n            \"\\[(?:[^\\]]*[\\]]){\" & local!closingSquareBracesCount - 1 & \"}[^\\]]*([\\]]):?\",\n            fv!item,\n            \"\"\n          ),\n          /* Removing everything inside [] */\n          regexreplaceall(\"\\[(.*?)\\]:?\", fv!item, \"\")\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1548695": {
      "name": "AS_GCM_UT_captureAuditForClauseSetClauseAndClauseTextInRA",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!auditData: rule!AS_GAM_ADT_UT_buildAuditEntityData(\n    auditParams: rule!AS_GCM_UT_clauseSetClauseStartAuditProcess_Parameters(\n      initiator: ri!initiator,\n      clauses: ri!clause,\n      originalClauses: ri!originalClause,\n      clauseTexts: ri!clauseText,\n      originalClauseTexts: ri!originalClauseText\n    ),\n    initiator: ri!initiator\n  ),\n  /*Audit will be written only if any of the field values are updated*/\n  if(\n    rule!AS_CO_UT_isBlank(local!auditData),\n    {},\n    {\n      entity: cons!AS_GCM_ENT_A_R_CLAUSE_SET,\n      data: local!auditData\n    }\n  )\n)"
    },
    "_a-0000ed5b-ded3-8000-9df2-011c48011c48_15127729": {
      "name": "AS_GCM_CPS_ClauseSetRelatedActionPlaceholder",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!bundle: a!defaultValue(\n    value: ri!bundle,\n    default: rule!AS_GCM_CO_UT_loadBundleFromFolder(langISOCode: null())\n  ),\n  {\n    if(\n      ri!isSmallDialog,\n      {},\n      {\n        #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          marginAbove: \"EVEN_MORE\",\n          marginBelow: \"EVEN_MORE\"\n        ),\n        #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          marginAbove: \"EVEN_MORE\",\n          marginBelow: \"EVEN_MORE\"\n        )\n      }\n\n    ),\n    #\"SYSTEM_SYSRULES_imageField_v1\"(\n      labelPosition: \"COLLAPSED\",\n      images: #\"SYSTEM_SYSRULES_documentImage\"(\n        document: cons!AS_GCM_DOC_CLAUSE_SET_GENERATION_STATE\n      ),\n      size: \"SMALL_PLUS\",\n      align: \"CENTER\",\n      marginAbove: if(ri!isSmallDialog, \"NONE\", \"EVEN_MORE\"),\n      marginBelow: \"STANDARD\"\n    ),\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      labelPosition: \"COLLAPSED\",\n      value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: \"Clause Set Generation is in progress\",\n        size: if(ri!isSmallDialog,\"STANDARD\",\"MEDIUM\")\n      ),\n      align: \"CENTER\",\n      marginAbove: \"LESS\",\n      marginBelow: \"LESS\"\n    ),\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      labelPosition: \"COLLAPSED\",\n      value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        size: if(ri!isSmallDialog,\"SMALL\",\"\"),\n        text: \"This action will be available once the clause set generation is complete\"\n      ),\n      align: \"CENTER\",\n      marginBelow: \"STANDARD\"\n    ),\n    #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n      buttons: {\n        #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          label: \"Close\",\n          icon: \"close\",\n          value: cons!AS_CO_ENUM_USER_ACTION_CANCEL,\n          saveInto: ri!userAction,\n          submit: true,\n          size: \"SMALL\",\n          style: \"SOLID\",\n          color: \"SECONDARY\"\n        )\n      },\n      align: \"CENTER\",\n      marginAbove: \"STANDARD\",\n      marginBelow: if(ri!isSmallDialog, \"NONE\", \"EVEN_MORE\")\n    )\n  }\n)"
    },
    "_a-0000e61a-f20f-8000-9ba5-011c48011c48_53654": {
      "name": "AS_GCM_CO_UT_loadBundleFromFolder",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!lang: \"en_US\",\n/* below is deprecated for now, uncomment to support multi-language display */\n  /*if(*/\n    /*isnull(ri!langISOCode),*/\n    /*userlocale(loggedInUser()),*/\n    /*ri!langISOCode*/\n  /*),*/\n  local!bundleName: rule!AS_GCM_determineValueBySolutionFlavor(\n    options: cons!AS_GCM_TXT_VALID_SOLUTION_FLAVORS\n  ),\n  /*local!bundleName*/\n  local!output: loadbundlepropertiesfile(\n    cons!AS_GCM_FLD_PROPERTIES_FILES,\n    local!lang,\n    local!bundleName\n  )[local!bundleName],\n  local!output\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_162005-adt": {
      "name": "AS_ADT_UT_buildSimpleFieldChangesDictionary",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!oldValue: rule!AS_CO_UT_toString(\n    value: rule!AS_CO_UT_indexPath(\n      cdt: ri!originalObject,\n      field: ri!simpleFieldName\n    )\n  ),\n  local!newValue: rule!AS_CO_UT_toString(\n    value: rule!AS_CO_UT_indexPath(\n      cdt: ri!newObject,\n      field: ri!simpleFieldName\n    )\n  ),\n  if(\n    rule!AS_CO_UT_compare(\n      value1: local!oldValue,\n      value2: local!newValue\n    ),\n    {},\n    rule!AS_CO_UT_dynamicDictionary(\n      fieldValuePairs: {\n        {\n          field: \"fieldName\",\n          value: ri!simpleFieldName\n        },\n        { field: \"oldValue\", value: local!oldValue },\n        { field: \"newValue\", value: local!newValue }\n      }\n    )\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_157603": {
      "name": "AS_CO_UT_cast",
      "type": "Expression Rule",
      "sail_code": "with(  \n  local!typeNumber: rule!AS_CO_UT_returnTypeNumber(\n    type: ri!type,\n    typeOf: ri!typeOf\n  ),\n\n  /* If the object is empty, use null or {} depending on if it is array type or not */\n  local!objectToCast: if(\n    rule!AS_CO_UT_isNotBlank(ri!value),\n    ri!value,\n    rule!AS_CO_UT_checkIfSingleType(\n      type: ri!type,\n      typeOf: ri!typeOf\n    ),\n    null,\n    {}\n  ),\n\n  cast(\n    local!typeNumber,\n    local!objectToCast\n  )\n  \n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_157870": {
      "name": "AS_CO_UT_queryEntity",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS ON HOW TO USE\n\nPlease DO NOT auto-format this rule\n\n*/\n/*Error handling for invalid returnType or entityType*/\nif(\n  rule!AS_CO_UT_isBlank(ri!returnType),\n  fn!error(\n    concat(\n      \"Null `returnType` passed to AS_CO_UT_queryEntity for entityType `\",\n      ri!entityType,\n      \"`.  See documentation in AS_CO_UT_queryEntity for further information on how to use this parameter.\"\n    )\n  ),\n  if(\n    not(\n      contains(\n        rule!AS_CO_CONS_QE_RETURN_TYPES(),\n        ri!returnType\n      )\n    ),\n    fn!error(\n      concat(\n        \"Unknown `returnType` (\",\n        ri!returnType,\n        \") passed to AS_CO_UT_queryEntity for entityType `\",\n        ri!entityType,\n        \"`.  See documentation in AS_CO_UT_queryEntity for further information on how to use this parameter.\"\n      )\n    ),\n    if(\n      rule!AS_CO_UT_isBlank(ri!entityType),\n      fn!error(\n        concat(\n          \"Null `entityType` passed to AS_CO_UT_queryEntity for entity `\",\n          ri!entity,\n          \"`.  See documentation in AS_CO_UT_queryEntity for further information on how to use this parameter.\"\n        )\n      ),\n      if(\n        and(\n          ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n          rule!AS_CO_UT_isBlank(ri!pagingInfo)\n        ),\n        fn!error(\n          concat(\n            \"`pagingInfo` is required (cannot be null) for `returnType` DATA_SUBSET\"\n          )\n        ),\n        if(\n          and(\n            ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n            rule!AS_CO_UT_isNotBlank(ri!pagingInfo)\n          ),\n          fn!error(\n            concat(\n              \"`pagingInfo` must be null when the `returnType` is not DATA_SUBSET, instead use `sort` to pass custom sorting, `batchSize` to pass custom batch size, and `startIndex` & `batchSize` (if null) will be automatically calculated for you\"\n            )\n          ),\n          if(\n            and(\n              ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n              rule!AS_CO_UT_isBlank(ri!aggregation)\n            ),\n            fn!error(\n              \"You must provide an input for `aggregation` when `returnType` is AGGREGATION\"\n            ),\n            if(\n              and(\n                not(\n                  contains(\n                    {\n                      cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n                      cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET\n                    },\n                    ri!returnType\n                  )\n                ),\n                rule!AS_CO_UT_isNotBlank(ri!aggregation)\n              ),\n              fn!error(\n                \"You cannot provide an input for `aggregation` when `returnType` is not AGGREGATION or DATA_SUBSET\"\n              ),\n              a!localVariables(\n                /*Determine the castResultToType*/\n                local!castResultToType: rule!AS_CO_UT_displayValue(\n                  value: ri!returnType,\n                  inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n                  replacement: {\n                    /*DATA_SUBSET*/'type!{http://www.appian.com/ae/types/2009}DataSubset',\n                    /*SINGLE_OBJECT*/ri!entityType,\n                    /*OBJECT_ARRAY*/rule!AS_CO_UT_returnArrayTypeNumber(type: ri!entityType),\n                    /*AGGREGATION*/'type!{http://www.appian.com/ae/types/2009}Map?list',\n                    /*TOTAL_COUNT*/'type!{http://www.appian.com/ae/types/2009}Integer',\n                    \n                  }\n                ),\n                /*Determine the batchSize*/\n                local!batchSize: rule!AS_CO_UT_displayValue(\n                  value: ri!returnType,\n                  inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n                  replacement: {\n                    /*DATA_SUBSET*/ri!pagingInfo.batchSize,\n                    /*SINGLE_OBJECT*/1,\n                    /*OBJECT_ARRAY*/rule!AS_CO_UT_replaceNull(\n                      nullableValue: ri!batchSize,\n                      replacementValue: cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE\n                    ),\n                    /*AGGREGATION*/rule!AS_CO_UT_replaceNull(\n                      nullableValue: ri!batchSize,\n                      replacementValue: cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE\n                    ),\n                    /*TOTAL_COUNT*/0,\n                    \n                  }\n                ),\n                /*Determine the sort*/\n                local!sort: rule!AS_CO_UT_zInternal_queryEntity_determineSort(\n                  entityType: ri!entityType,\n                  returnType: ri!returnType,\n                  pagingInfo: ri!pagingInfo,\n                  sort: ri!sort,\n                  isAggregation: rule!AS_CO_UT_isNotBlank(ri!aggregation)\n                ),\n                /*Determine the pagingInfo*/\n                local!pagingInfo: if(\n                  ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n                  /*Use specific pagingInfo for DATA_SUBSET*/\n                  #\"SYSTEM_SYSRULES_pagingInfo\"(\n                    startIndex: ri!pagingInfo.startIndex,\n                    batchSize: ri!pagingInfo.batchSize,\n                    sort: local!sort\n                  ),\n                  /*Otherwise calculate pagingInfo for all other returnTypes*/\n                  #\"SYSTEM_SYSRULES_pagingInfo\"(\n                    startIndex: 1,\n                    batchSize: local!batchSize,\n                    sort: local!sort\n                  )\n                ),\n                /*Determine the fetchTotalCount*/\n                local!fetchTotalCount: rule!AS_CO_UT_displayValue(\n                  value: ri!returnType,\n                  inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n                  replacement: {\n                    /*DATA_SUBSET*/true,\n                    /*SINGLE_OBJECT*/false,\n                    /*OBJECT_ARRAY*/false,\n                    /*AGGREGATION*/false,\n                    /*TOTAL_COUNT*/true,\n                    \n                  }\n                ),\n                /*Execute the query*/\n                local!queryResult: a!refreshVariable(\n                  value: if(\n                    ri!executeWhen = false,\n                    null,\n                    #\"SYSTEM_SYSRULES_queryEntity_v1\"(\n                      entity: ri!entity,\n                      fetchTotalCount: local!fetchTotalCount,\n                      query: #\"SYSTEM_SYSRULES_query\"(\n                        pagingInfo: local!pagingInfo,\n                        aggregation: ri!aggregation,\n                        selection: if(\n                          and(\n                            ri!excludeNestedCdts = true,\n                            rule!AS_CO_UT_isBlank(ri!aggregation)\n                          ),\n                          #\"SYSTEM_SYSRULES_querySelection\"(\n                            columns: #\"SYSTEM_SYSRULES_forEach\"(\n                              items: rule!AS_CO_UT_returnCdtFields(\n                                type: ri!entityType,\n                                onlyPrimitiveFields: true\n                              ),\n                              expression: #\"SYSTEM_SYSRULES_queryColumn\"(field: fv!item)\n                            )\n                          ),\n                          null\n                        ),\n                        logicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                          operator: \"AND\",\n                          logicalExpressions: {\n                            #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                              operator: \"AND\",\n                              ignoreFiltersWithEmptyValues: true,\n                              filters: rule!AS_CO_UT_replaceNull(\n                                nullableValue: ri!filters,\n                                replacementValue: {}\n                              )\n                            ),\n                            rule!AS_CO_UT_replaceNull(\n                              nullableValue: ri!logicalExpression,\n                              replacementValue: {}\n                            )\n                          }\n                        )\n                      )\n                    )\n                  ),\n                  refreshOnVarChange: ri!triggerRefresh,\n                  refreshAfter: { \"RECORD_ACTION\" }\n                ),\n                /*Parse the queryResult*/\n                local!queryResultParse: choose(\n                  rule!AS_CO_UT_chooseWherecontainsHelper(\n                    value: ri!returnType,\n                    inArray: rule!AS_CO_CONS_QE_RETURN_TYPES()\n                  ),\n                  /*Default, required value based on how AS_CO_UT_chooseWherecontainsHelper operates*/\"\",\n                  /*DATA_SUBSET*/local!queryResult,\n                  /*SINGLE_OBJECT*/local!queryResult.data,\n                  /*OBJECT_ARRAY*/local!queryResult.data,\n                  /*AGGREGATION*/local!queryResult.data,\n                  /*TOTAL_COUNT*/local!queryResult.totalCount,\n                  \n                ),\n                rule!AS_CO_UT_cast(\n                  type: local!castResultToType,\n                  value: local!queryResultParse\n                )\n              )\n            )\n          )\n        )\n      )\n    )\n  )\n)/*\n\nDOCUMENTATION\n\nThis rule is designed to minimize the overhead with querying data and then casting the result\n\n\nRequired Inputs:\n\n1. entity \n- This is the data store entity you are querying\n-- e.g. cons!AS_DATA_STORE_ENTITY_CASES\n\n2. entityType\n- This is a type! input of the data type which maps to the underlying data store entity\n- Note that your type! input should not end in parenthesis; this is NOT designed to take in an empty CDT\n-- e.g. 'type!{urn:com:appian:types}Case'\n\n3. returnType\n- This depends on the purpose for the query, and should be one of the returnTypes in rule!AS_CO_CONS_QE_RETURN_TYPES\n-- DATA_SUBSET - This will return a DataSubset; pagingInfo is required\n-- SINGLE_OBJECT - This will return a single CDT whose type is the entityType; pagingInfo must be null\n-- OBJECT_ARRAY - This will return an array of CDTs whos type is an array of the entityType; pagingInfo must be null\n-- AGGREGATION - This will return an array of Dictionaries; pagingInfo must be null\n---- NOTE: If you need Aggregation with paging controls, such as for a grid, use returnType DATA_SUBSET\n-- TOTAL_COUNT - This will return an Integer of the total count; pagingInfo must be null\n\n\nOptional Inputs:\n\n4. executeWhen\n- The query will not execute if this is false, the query will execute if this is true or null\n-- This is meant to operate in a similar manner to the showWhen parameter of components\n- Usethistoskipexecutionofaquerywithoutneedingtowrapif()statementsaroundtherule\n-- Examples of this would be to skip querying if your filter value is a null ID\n- If the query does not execute, this will return a null value whose type is based on the returnType input\n\n5. triggerRefresh\n- By default, the query will always re-execute whenever any inputs change\n- However, by updating the value of triggerRefresh, you can also trigger a re-execution even if none of the other inputs change\n\n6. excludeNestedCdts\n- When true, this will exclude all nested CDTs from the query selection, and only include primitive fields\n- When false or null, all fields will be included in the query, including all nested CDTs\n\n7. filters\n- Array of filters to apply to the query, built with a!queryFilter()\n- These filters will be applied with an AND operator\n- These filters will apply in addition to the logicalExpression input, combining both with an AND operator\n\n8. logicalExpression\n- A logical expression to apply to the query, built with a!queryLogicalExpression()\n- This logical expression will apply in addition to the filters input, combining both with an AND operator\n\n9. aggregation\n- Aggregation to apply to the query, built with a!queryAggregation()\n\n10. pagingInfo\n- Paging info to apply to the query, built with a!pagingInfo() or derived from fv!pagingInfo in grids\n- This is required if passing returnType DATA_SUBSET, otherwise it must be null\n- For returnTypes that are not DATA_SUBSET, the batch size will be automatically calculated depending on the returnType\n-- For example, passing SINGLE_OBJECT will automatically apply a batch size of 1, whereas OBJECT_ARRAY and AGGREGATION will automatically apply a batch size of -1\n\n11. sort\n- Array of sort to apply to the query, built with a!sortInfo()\n- This is meant to be used with returnType OBJECT_ARRAY and AGGREGATION, since pagingInfo is not required for these, but a specified sort may be used\n\n12. batchSize\n- Batch size to apply to the query\n- This is meant to be used with returnType OBJECT_ARRAY and AGGREGATION, since pagingInfo is not required for these, but a specified batchSize may be used\n\n*/"
    },
    "_a-0000ec3d-c379-8000-9d8e-011c48011c48_12719077": {
      "name": "AS_GCM_constructClauseTextMetaDataFromClauseText",
      "type": "Expression Rule",
      "sail_code": "\"<span hidden=\"\"\"\">\" & #\"SYSTEM_SYSRULES_toJson_v1\"(\n  {\n    /* DO NOT update the below keys */\n    fillins: {\n      metadata: a!defaultValue(\n        value: ri!fillinMetadata,\n        default: rule!AS_GAM_createMap(\n          keys: ri!fillinsUuid,\n          values: repeat(\n            length(\n              a!defaultValue(value: ri!fillinsUuid, default: {})\n            ),\n            a!map(\n              completedBy: a!defaultValue(\n                value: ri!completedBy,\n                default: cons!AS_GCM_TXT_FILL_IN_COMPLETED_BY_SYSTEM_AGENCY\n              ),\n              completedOn: now()\n            )\n          )\n        )\n      ),\n      stats: a!defaultValue(\n        value: ri!fillinStats,\n        default: {\n          totalFillinCount: ri!totalFillinCount,\n          completedFillinCount: ri!completedFillinCount,\n          fillableTableCount: ri!fillableTableCount,\n          completedFillableTableCount: ri!completedFillableTableCount,\n          totalSimpleFillins: ri!totalSimpleFillins,\n          completedSimpleFillins: ri!completedSimpleFillins,\n          totalCiteTagsCount: ri!totalCiteTagsCount\n        }\n      )\n    }\n  }\n) & \"</span>\""
    },
    "_a-0000e90e-0586-8000-9c1e-011c48011c48_3698524": {
      "name": "AS_GCM_BL_generateUuidForFillIns",
      "type": "Expression Rule",
      "sail_code": "fn!lower(\n  joinarray(\n    {\n      dec2hex(tointeger(rand(4) * 256), 2),\n      /*8 hex digits*/\n      \"-\",\n      dec2hex(tointeger(rand(2) * 256), 2),\n      /*4 hex digits*/\n      \"-4\",\n      /*version 4 = completely random*/\n      dec2hex(rand(3) * 256, 1),\n      /*3 hex digits*/\n      \"-\",\n      bin2hex(\"10\" & dec2bin(rand(1) * 4, 2), 1),\n      /*1 hex digit = Variant: 1st 2 bits=10=[ISO/IEC] + 2 rand bits*/\n      dec2hex(rand(3) * 256, 1),\n      /*3 hex digits*/\n      \"-\",\n      dec2hex(tointeger(rand(6) * 256), 2),\n      /*12 hex digits*/\n      \n    }\n  )\n)"
    },
    "_a-0000e79a-fc04-8000-9bf4-011c48011c48_2321842": {
      "name": "AS_GCM_UT_isCompleteFillinsActionAvailable",
      "type": "Expression Rule",
      "sail_code": "rule!AS_GCM_IsClauseTextContainsCiteTags(\n  clauseText: ri!clauseText,\n  ignoreGrids: false()\n)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1550139": {
      "name": "AS_GCM_ADT_BL_auditConfig_ClauseSetClauseHelper",
      "type": "Expression Rule",
      "sail_code": "{\n  fieldName: \"clauses\",\n  auditFieldName: \"clausesChanges\",\n  idField: \"relationId\",\n  foreignIdField: \"setId\",\n  simpleFields: {\n    \"setId\",\n    \"refClause.clauseId\",\n    \"section.sectionLabel\",\n    \"clauseTitle\",\n    \"alternateValue\",\n    \"clauseText\",\n    \"refUsage.refDataId\",\n    \"refStatus.refDataId\",\n    \"format.refDataId\",\n    \"effectiveDate\",\n    \"isActive\",\n    \"validationAction\"\n  },\n  complexFields: {}\n}"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_186261": {
      "name": "AS_CO_CONS_REMOVAL_ICON_TYPES",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text?list',\n  {\n    cons!AS_CO_ENUM_REMOVAL_ICON_TYPE_CLEAR,\n    cons!AS_CO_ENUM_REMOVAL_ICON_TYPE_DELETE\n  }\n)"
    },
    "_a-0000e8e5-7677-8000-9c1d-011c48011c48_3675056": {
      "name": "AS_GCM_CRD_infoBanner",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_cardLayout\"(\n  contents: {\n    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n      items: {\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            labelPosition: \"COLLAPSED\",\n            value: #\"SYSTEM_SYSRULES_richTextIcon\"(\n              icon: ri!icon,\n              color: ri!iconColor,\n              size: ri!iconSize\n            )\n          ),\n          showWhen: a!isNotNullOrEmpty(ri!icon),\n          width: \"MINIMIZE\"\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          showWhen: a!isNotNullOrEmpty(ri!icon),\n          width: \"MINIMIZE\"\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            labelPosition: \"COLLAPSED\",\n            value: {\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: ri!label,\n                showWhen: a!isNotNullOrEmpty(ri!label),\n                size: ri!labelSize,\n                style: \"STRONG\"\n              ),\n              if(\n                ri!showLabelsVertical,\n                char(10),\n                if(\n                  all(\n                    a!isNotNullOrEmpty,\n                    { ri!label, ri!secondaryLabel }\n                  ),\n                  { char(32), char(32) },\n                  \"\"\n                )\n              ),\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: ri!secondaryLabel,\n                showWhen: a!isNotNullOrEmpty(ri!secondaryLabel),\n                size: ri!secondaryLabelSize,\n                style: \"PLAIN\",\n                color: ri!secondaryLabelColor\n              )\n            }\n          ),\n          width: \"MINIMIZE\"\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(width: \"MINIMIZE\"),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n            marginBelow: \"NONE\",\n            showWhen: or(\n              ri!confirmButtonShowWhen,\n              ri!refreshButtonShowWhen\n            ),\n            buttons: {\n              #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                label: \"Refresh\",\n                icon: \"refresh\",\n                size: \"SMALL\",\n                style: \"SOLID\",\n                color: \"#FFFFFF\",\n                value: now(),\n                saveInto: ri!triggerRefresh,\n                showWhen: rule!AS_CO_UT_booleanDefaultFalse( ri!refreshButtonShowWhen)\n              ),\n              #\"SYSTEM_SYSRULES_ButtonWidget\"(\n                label: ri!confirmButton,\n                icon: \"check\",\n                saveInto: {\n                  ri!additionalSaves,\n                  a!save(ri!showWhen, false())\n                },\n                size: \"STANDARD\",\n                style: \"STANDARD\",\n                showWhen: ri!confirmButtonShowWhen\n              )\n            },\n\n          )\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          showWhen: a!defaultValue(\n            value: ri!dynamicLinkShowWhen,\n            default: false\n          ),\n          width: \"MINIMIZE\"\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          showWhen: a!defaultValue(\n            value: ri!dynamicLinkShowWhen,\n            default: false\n          ),\n          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            align: \"RIGHT\",\n            value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: ri!dynamicLinkLabel,\n              color: ri!dynamicLinkColor,\n              link: #\"SYSTEM_SYSRULES_dynamicLink\"(saveInto: ri!dynamicLinkSaves),\n              linkStyle: \"STANDALONE\"\n            )\n          )\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(width: \"MINIMIZE\"),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            value: #\"SYSTEM_SYSRULES_richTextIcon\"(\n              icon: ri!dismissButton,\n              caption: ri!dismissCaption,\n              link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                saveInto: {\n                  a!save(ri!showWhen, false()),\n                  a!save(ri!dismissTableFillinBanner, true())\n                },\n\n              ),\n              linkStyle: \"STANDALONE\",\n              color: \"ACCENT\",\n              size: \"MEDIUM\"\n            )\n          ),\n          width: \"MINIMIZE\",\n          showWhen: ri!dismissShowWhen\n        )\n      },\n      alignVertical: ri!alignVertical,\n      spacing: ri!spacing\n    )\n  },\n  showWhen: ri!showWhen,\n  style: ri!style,\n  padding: ri!padding,\n  marginAbove: ri!marginAbove,\n  marginBelow: ri!marginBelow,\n  showBorder: ri!showBorder,\n  showShadow: ri!showShadow,\n  shape: ri!shape,\n  decorativeBarPosition: ri!decorativeBarPosition,\n  decorativeBarColor: ri!decorativeBarColor\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81749": {
      "name": "AS_CO_UT_checkIfUserExists",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  and(\n    rule!AS_CO_UT_isNotBlank(ri!user),\n    isusernametaken(ri!user)\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_270973": {
      "name": "AS_CO_UT_returnCdtIndicesByFieldIncludes",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer?list',\n  if(\n    rule!AS_CO_UT_isBlank(ri!value),\n    rule!AS_CO_UT_enumForCount(input: ri!cdt),\n    where(\n      search(\n        ri!value,\n        touniformstring(\n          rule!AS_CO_UT_indexPath(\n            cdt: ri!cdt,\n            field: ri!field,\n            indexDefault: null\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_74104": {
      "name": "AS_CO_VD_textValidation",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Text',\n  a!localVariables(\n    local!length: len(ri!value),\n    local!minLength: rule!AS_CO_UT_replaceNull(\n      nullableValue: ri!minLength,\n      replacementValue: 0\n    ),\n    if(\n      /* Does not meet exact length requirement */\n      and(\n        rule!AS_CO_UT_isNotBlank(ri!minLength),\n        rule!AS_CO_UT_isNotBlank(ri!maxLength),\n        ri!minLength = ri!maxLength,\n        local!length <> ri!minLength\n      ),\n      rule!AS_CO_UT_replaceNull(\n        nullableValue: rule!AS_CO_UT_replaceNull(\n          nullableValue: ri!maxLengthMessage,\n          replacementValue: ri!minLengthMessage\n        ),\n        replacementValue: rule!AS_CO_UT_displayCommonObjectBundleLabel(\n          bundleKey: if(\n            ri!minLength = 1,\n            \"AS.CO.CommonObjects.vld_EnterExactlySingle\",\n            \"AS.CO.CommonObjects.vld_EnterExactlyMultiple\"\n          ),\n          arguments: ri!minLength\n        )\n      ),\n      /*Too short*/\n      if(\n        local!length < ri!minLength,\n        rule!AS_CO_UT_replaceNull(\n          nullableValue: ri!minLengthMessage,\n          replacementValue: rule!AS_CO_UT_displayCommonObjectBundleLabel(\n            bundleKey: \"AS.CO.CommonObjects.vld_EnterAtLeast\",\n            arguments: local!minLength\n          )\n        ),\n        /*Too long*/\n        if(\n          and(\n            rule!AS_CO_UT_isNotBlank(ri!maxLength),\n            local!length > ri!maxLength\n          ),\n          rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!maxLengthMessage,\n            replacementValue: rule!AS_CO_UT_displayCommonObjectBundleLabel(\n              bundleKey: if(\n                ri!maxLength = 1,\n                \"AS.CO.CommonObjects.vld_EnterNoMoreThanSingle\",\n                \"AS.CO.CommonObjects.vld_EnterNoMoreThanMultiple\"\n              ),\n              arguments: ri!maxLength\n            )\n          ),\n          /*Valid*/\n          \"\"\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e79a-fc04-8000-9bf4-011c48011c48_2169129": {
      "name": "AS_GCM_IsClauseTextContainsCiteTags",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Removing the table tags if ignoreGrids is true*/\n  local!clauseTextExceptGrids: if(\n    ri!ignoreGrids,\n    regexreplaceall(\"<table(.*?)</table>\", ri!clauseText, \"\"),\n    ri!clauseText\n  ),\n  /*If there are any cite tags then true will be returns otherwise false will be returned*/\n  regexmatch(\n    \"<cite(.*?)</cite>\",\n    local!clauseTextExceptGrids\n  )\n)"
    },
    "_a-0000ec1c-6a65-8000-9d7e-011c48011c48_12418773": {
      "name": "AS_GCM_CPS_TableFillin",
      "type": "Interface",
      "sail_code": "if(\n  ri!table.fillinType = cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_TABLE,\n  if(\n    /*Checking if there are checkbox within table*/\n    and(\n      find(\n        cons!AS_GCM_TXT_FILL_IN_TYPE_CHECKBOX,\n        ri!table.value\n      ) > 0,\n      count(ri!table.rows) = 1\n    ),\n    a!localVariables(\n      local!checkboxCells: a!refreshVariable(\n        value: regexallmatches(\"<td.*?</td>\", ri!table.value),\n        refreshOnReferencedVarChange: false\n      ),\n      local!checkboxValue: where(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: local!checkboxCells,\n          expression: a!isNotNullOrEmpty(\n            regexfirstmatch(\"<cite.*?>X</cite>\", fv!item)\n          )\n        )\n      ),\n      /*Using checkbox field instead of editable grid for checkboxes within table*/\n      #\"SYSTEM_SYSRULES_checkboxFieldByIndex\"(\n        label: ri!table.label,\n        choiceLabels: clean(\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!checkboxCells,\n            expression: striphtml(\n              regexreplaceall(\"<cite.*?</cite>\", fv!item, \"\")\n            )\n          )\n        ),\n        value: local!checkBoxValue,\n        saveInto: {\n          local!checkBoxValue,\n          a!save(\n            ri!table.value,\n            tostring(\n              a!match(\n                value: local!checkBoxValue,\n                whenTrue: a!isNullOrEmpty(fv!value),\n                /*If none of the choices are selected, replacing all X with */\n                then: substitute(ri!table.value, \"X</cite>\", \"</cite>\"),\n                whenTrue: count(fv!value) = count(local!checkBoxCells),\n                /*If all of the choices are selected, replacing all  values with X*/\n                then: substitute(ri!table.value, \"</cite>\", \"X</cite>\"),\n                /*If any of the choice is selected, then the respective  is replaced with X*/\n                default: substitute(\n                  substitute(ri!table.value, \"X</cite>\", \"</cite>\"),\n                  substitute(\n                    local!checkboxCells[local!checkBoxValue],\n                    \"X</cite>\",\n                    \"</cite>\"\n                  ),\n                  substitute(\n                    local!checkboxCells[local!checkBoxValue],\n                    \"\",\n                    \"X\"\n                  )\n                )\n              )\n            )\n          ),\n          a!save(\n            ri!table.isUpdated,\n            trim(\n              stripwith(\n                striphtml(ri!table.originalValue),\n                char(10) & char(160)\n              )\n            ) <> trim(\n              stripwith(\n                striphtml(ri!table.value),\n                char(10) & char(160)\n              )\n            )\n          ),\n          a!save(\n            ri!table.rows,\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: regexallmatches(\"<tr.*?</tr>\", ri!table.value),\n              expression: {\n                cells: #\"SYSTEM_SYSRULES_forEach\"(\n                  items: {\n                    regexallmatches(\"<th.*?</th>\", fv!item),\n                    regexallmatches(\"<td.*?</td>\", fv!item)\n                  },\n                  expression: a!map(\n                    tag: fv!item,\n                    value: trim(striphtml(fv!item)),\n                    plainValue: stripwith(\n                      trim(striphtml(fv!item)),\n                      \"_ \" & char(10) & char(32) & char(160)\n                    )\n                  )\n                )\n              }\n            )\n          )\n        },\n        choiceLayout: \"COMPACT\"\n      )\n    ),\n    #\"SYSTEM_SYSRULES_gridLayout\"(\n      label: \"\",\n      labelPosition: \"COLLAPSED\",\n      headerCells: {\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!table.tableHeaderRowCells,\n          expression: #\"SYSTEM_SYSRULES_gridLayoutHeaderCell\"(label: striphtml(fv!item))\n        ),\n        #\"SYSTEM_SYSRULES_gridLayoutHeaderCell\"(label: \"\")\n      },\n      columnConfigs: {\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!table.tableHeaderRowCells,\n          expression: #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"DISTRIBUTE\")\n        ),\n        #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"ICON\")\n      },\n      rows: #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!table.rows,\n        expression: a!localVariables(\n          local!originalRow: index(ri!table.originalRows, fv!index, null),\n          if(\n            fv!isFirst,\n            {},\n            #\"SYSTEM_SYSRULES_gridRowLayout\"(\n              id: fv!index - 1,\n              contents: {\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  items: fv!item.cells,\n                  expression: a!localVariables(\n                    local!value: fv!item.value,\n                    local!cellIndex: fv!index,\n                    rule!AS_GCM_DPL_CO_INP_textField(\n                      readOnly: and(\n                        a!isNotNullOrEmpty(local!originalRow),\n                        sum(\n                          #\"SYSTEM_SYSRULES_forEach\"(\n                            items: cons!AS_GCM_TXT_EDITABLE_KEYWORDS_IN_TABLE_FILLIN_CELLS,\n                            expression: search(\n                              fv!item,\n                              rule!AS_CO_UT_indexPath(\n                                cdt: local!originalRow,\n                                field: \"cells.value.\" & local!cellIndex,\n                                indexDefault: null\n                              )\n                            )\n                          )\n                        ) = 0,\n                        a!isNotNullOrEmpty(\n                          rule!AS_CO_UT_indexPath(\n                            cdt: local!originalRow,\n                            field: \"cells.plainValue.\" & fv!index,\n                            indexDefault: null\n                          )\n                        )\n                      ),\n                      value: rule!AS_GCM_UT_getFillinValue(fillInValue: local!value),\n                      saveInto: {\n                        a!save(\n                          local!value,\n                          tostring(\n                            a!defaultValue(\n                              value: save!value,\n                              default: index(local!originalRow.cells, \"value\", \"\")[fv!index]\n                            )\n                          )\n                        ),\n                        a!save(\n                          fv!item,\n                          a!map(\n                            tag: a!match(\n                              value: fv!item.value,\n                              whenTrue: a!isNullOrEmpty(fv!value),\n                              then: if(\n                                /*If value does not already exists, then checking for cite tag*/\n                                /*If cite tag exists, then inserting the value within the cite tag*/\n                                /*Else, forming a new cell with the value using cell tag*/\n                                find(\"</cite>\", fv!item.tag) > 0,\n                                substitute(\n                                  fv!item.tag,\n                                  \"</cite>\",\n                                  local!value & \"</cite>\"\n                                ),\n                                concat(\n                                  ri!table.cellStartTag,\n                                  local!value,\n                                  \"</td>\"\n                                )\n                              ),\n                              whenTrue: find(fv!value, fv!item.tag) > 0,\n                              /*If value already exists and is found within tag, then replacing the existing value with new one*/\n                              then: substitute(fv!item.tag, fv!value, local!value),\n                              /*If value already exists and is not found within tag, then checking for cite tag*/\n                              /*If cite tag exists, then replaceing the value within the cite tag with the new value*/\n                              /*Else replacing the value within the cell tag with the new value*/\n                              default: substitute(\n                                fv!item.tag,\n                                if(\n                                  find(\"</cite>\", fv!item.tag) > 0,\n                                  extract(\n                                    fv!item.tag,\n                                    tostring(\n                                      regexfirstmatch(\"<cite.*?>\", fv!item.tag)\n                                    ),\n                                    \"</cite>\"\n                                  ),\n                                  regexreplaceall(\"<td.*?>|</td>\", fv!item.tag, \"\")\n                                ),\n                                local!value\n                              )\n                            ),\n                            value: local!value,\n                            plainValue: stripwith(\n                              local!value,\n                              \"_ \" & char(10) & char(32) & char(160)\n                            )\n                          )\n                        ),\n                        a!save(\n                          ri!table.value,\n                          /*generating a table with the updated cell values using table tag*/\n                          concat(\n                            ri!table.tableStartTag,\n                            ri!table.tbodyStartTag,\n                            #\"SYSTEM_SYSRULES_forEach\"(\n                              items: ri!table.rows,\n                              expression: concat(\n                                \"<tr>\",\n                                rule!AS_CO_UT_indexPath(\n                                  cdt: fv!item,\n                                  field: \"cells.tag\",\n                                  indexDefault: null\n                                ),\n                                \"</tr>\"\n                              )\n                            ),\n                            \"</tbody></table>\"\n                          )\n                        ),\n                        a!save(\n                          ri!table.isUpdated,\n                          trim(\n                            stripwith(\n                              striphtml(ri!table.originalValue),\n                              char(10) & char(160)\n                            )\n                          ) <> trim(\n                            stripwith(\n                              striphtml(ri!table.value),\n                              char(10) & char(160)\n                            )\n                          )\n                        )\n                      }\n                    )\n                  )\n                ),\n                rule!AS_CO_DSP_removeIcon(\n                  saveInto: {\n                    a!save(\n                      ri!table.rows,\n                      remove(ri!table.rows, fv!index)\n                    ),\n                    a!save(\n                      ri!table.value,\n                      /*generating a table with the updated cell values using table tag*/\n                      concat(\n                        ri!table.tableStartTag,\n                        ri!table.tbodyStartTag,\n                        #\"SYSTEM_SYSRULES_forEach\"(\n                          items: ri!table.rows,\n                          expression: concat(\n                            \"<tr>\",\n                            rule!AS_CO_UT_indexPath(\n                              cdt: fv!item,\n                              field: \"cells.tag\",\n                              indexDefault: null\n                            ),\n                            \"</tr>\"\n                          )\n                        ),\n                        \"</tbody></table>\"\n                      )\n                    ),\n                    a!save(\n                      ri!table.isUpdated,\n                      trim(\n                        stripwith(\n                          striphtml(ri!table.originalValue),\n                          char(10) & char(160)\n                        )\n                      ) <> trim(\n                        stripwith(\n                          striphtml(ri!table.value),\n                          char(10) & char(160)\n                        )\n                      )\n                    )\n                  },\n                  altText: if(\n                    a!isNotNullOrEmpty(local!originalRow),\n                    {},\n                    \"Remove\"\n                  ),\n                  isDisabled: a!isNotNullOrEmpty(local!originalRow)\n                )\n              }\n            )\n          )\n        )\n      ),\n      addRowLink: #\"SYSTEM_SYSRULES_dynamicLink\"(\n        label: \"Add Row\",\n        value: {\n          cells: #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!table.tableHeaderRowCells,\n            expression: a!map(\n              tag: concat(ri!table.cellStartTag, char(10), \"</td>\"),\n              /* Adding a new line here for formatting */\n              value: char(10),\n              plainValue: \"\"\n            )\n          )\n        },\n        saveInto: {\n          a!save(\n            ri!table.rows,\n            append(ri!table.rows, save!value)\n          )\n        }\n      ),\n      rowHeader: 1\n    )\n  ),\n  a!localVariables(\n    local!showValidation: a!defaultValue(\n      value: ri!table.isValidationError,\n      default: false\n    ),\n    /*Converting Cite tags to Highlight tags in order to avoid loss of cite tags while using Rich Text Editor*/\n    local!highlightedTableValue: rule!AS_GCM_getFillinMapsAndClauseTextUsingHighlightOrCiteTags(\n      clauseText: ri!table.value,\n      isConvertCiteToHighlight: true(),\n      highlightColorCode: cons!AS_GCM_HEX_CODE_WHITE_2,\n      isIgnoreTables: false\n    ),\n    local!value: index(\n      local!highlightedTableValue,\n      \"updatedClauseText\",\n      null\n    ),\n    local!updatedTableValue,\n    {\n      rule!AS_GCM_DPL_GAM_COMP_richTextFieldWithTablePlugin(\n        text: local!value,\n        label: \"\",\n        labelPosition: \"COLLAPSED\",\n        triggerSave: true,\n        saveInto: {\n          a!save(\n            local!updatedTableValue,\n            rule!AS_GCM_getFillinMapsAndClauseTextUsingHighlightOrCiteTags(\n              clauseText: local!value,\n              isConvertCiteToHighlight: false,\n              highlightColorCode: cons!AS_GCM_HEX_CODE_WHITE_2,\n              isIgnoreTables: false\n            )\n          ),\n          if(\n            and(\n              count(\n                regexallmatches(\"</table>\", local!value)\n              ) <> 1,\n              not(ri!table.isValidationError)\n            ),\n            {\n              a!save(ri!table.backupValue, ri!table.value),\n              a!save(\n                ri!table.isValidationError,\n                count(\n                  regexallmatches(\"</table>\", local!value)\n                ) <> 1\n              )\n            },\n            {}\n          ),\n          a!save(\n            ri!table.isValidationError,\n            count(\n              regexallmatches(\"</table>\", local!value)\n            ) <> 1\n          ),\n          a!save(\n            ri!table.value,\n            if(\n              rule!AS_CO_UT_isBlank(local!updatedTableValue.fillinMaps),\n              index(\n                local!updatedTableValue,\n                \"updatedClauseText\",\n                null\n              ),\n              /*Reverting Highlight tags to Cite Tags*/\n              rule!AS_GCM_replaceHighlightTagWithCiteTag(\n                clauseText: index(\n                  local!updatedTableValue,\n                  \"updatedClauseText\",\n                  null\n                ),\n                highlightTagText: rule!AS_CO_UT_indexPath(\n                  cdt: local!updatedTableValue.fillinMaps,\n                  field: \"highlightTag\",\n                  indexDefault: null()\n                ),\n                citeTagText: apply(\n                  rule!AS_CO_UT_replaceNull,\n                  merge(\n                    rule!AS_CO_UT_indexPath(\n                      cdt: local!updatedTableValue.fillinMaps,\n                      field: \"citeTag\",\n                      indexDefault: null()\n                    ),\n                    rule!AS_CO_UT_indexPath(\n                      cdt: local!updatedTableValue.fillinMaps,\n                      field: \"highlightTag\",\n                      indexDefault: null()\n                    )\n                  )\n                ),\n                isRemoveCiteFromTables: false()\n              )\n            )\n          ),\n          a!save(\n            ri!table.isUpdated,\n            trim(\n              stripwith(\n                striphtml(ri!table.originalValue),\n                char(10) & char(160)\n              )\n            ) <> trim(\n              stripwith(\n                striphtml(ri!table.value),\n                char(10) & char(160)\n              )\n            )\n          ),\n          a!save(\n            ri!table.rows,\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: regexallmatches(\"<tr.*?</tr>\", ri!table.value),\n              expression: {\n                cells: #\"SYSTEM_SYSRULES_forEach\"(\n                  items: {\n                    regexallmatches(\"<th.*?</th>\", fv!item),\n                    regexallmatches(\"<td.*?</td>\", fv!item)\n                  },\n                  expression: a!map(\n                    tag: fv!item,\n                    value: trim(striphtml(fv!item)),\n                    plainValue: stripwith(\n                      trim(striphtml(fv!item)),\n                      \"_ \" & char(10) & char(32) & char(160)\n                    )\n                  )\n                )\n              }\n            )\n          )\n        }\n      ),\n      rule!AS_GCM_CRD_infoBanner(\n        showWhen: local!showValidation,\n        secondaryLabel: \"Tables should not be added or removed.\",\n        showBorder: false,\n        decorativeBarColor: \"NEGATIVE\",\n        decorativeBarPosition: \"START\",\n        icon: \"exclamation-circle\",\n        iconColor: \"NEGATIVE\",\n        style: \"ERROR\",\n        marginAbove: \"STANDARD\",\n        marginBelow: \"STANDARD\",\n        alignVertical: \"MIDDLE\",\n        confirmButtonShowWhen: false,\n        dynamicLinkSaves: {\n          a!save(ri!table.value, ri!table.backupValue),\n          a!save(ri!table.isValidationError, false)\n        },\n        dynamicLinkColor: cons!AS_GCM_HEX_CODE_DARK_RED,\n        dynamicLinkLabel: \"Undo\",\n        dynamicLinkShowWhen: true\n      )\n    }\n  )\n)"
    },
    "_a-0000e79a-fc04-8000-9bf4-011c48011c48_2073007": {
      "name": "AS_GCM_extractFillinsMetadata",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!splitSections: split(ri!sectionText, \"</cite>\"),\n  /*Getting only the cite tags from the sectionText*/\n  local!onlyCiteTags: regexallmatches(\"<cite(.*?)</cite>\", ri!sectionText),\n  /*To use cite tags in regex escaping the delimiters such as [ ] () {} from the cite tags*/\n  local!citeTagsUsedAsRegex: rule!AS_GCM_UT_formatTextAsRegex(text: local!onlyCiteTags),\n  /*One scenario found where the cite tags are not unique. So to handle that the entire output is stored in this local to process further.*/\n  local!unprocessedOutput: a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!citeTagsUsedAsRegex,\n      expression: a!localVariables(\n        local!checkBoxLabel: if(\n          /*Checking whether the cite tag is for the checkbox*/\n          length(\n            regexallmatches(\"(.*?)Checkbox(.*?)\", fv!item)\n          ) = 1,\n          trim(\n            /*Replacing everything inside <> ,  and [ with \"\" (blank) in order to get only text*/\n            regexreplaceall(\n              \"<(.*?)>[Xx]<\\/(.*?)>|<(.*?)>||[\\[]\",\n              rule!AS_CO_UT_replaceNull(\n                nullableValue: a!localVariables(\n                  local!output: regexallmatches(\n                    fv!item & \"(.*?)<cite(.*?)>|\" & fv!item & \"(.*?)<em(.*?)</em>|\" & fv!item & \"(.*?)[\\.\\;](<(.*?)>)+|\" & fv!item & \"(.*?)[\\.\\;]|\" & fv!item & \"(.*?),|[a-zA-Z ,]*\" & fv!item & \",|\" & fv!item & \"(.*?)<(.*?)>\",\n                    ri!sectionText\n                  ),\n                  if(\n                    /*Checking if the label ends with i.e.*/\n                    length(\n                      regexallmatches(\"(.*?)i.e.<(.*?)>\", local!output)\n                    ) = 1,\n                    /*Taking everthing from the cite tag till </p>*/\n                    regexallmatches(fv!item & \"(.*?)</p>\", ri!sectionText),\n                    local!output\n                  )\n                ),\n                replacementValue: \"\"\n              ),\n              \"\"\n            )\n          ),\n          null()\n        ),\n        local!instructionAtRight: if(\n          /*Looking for the instructions*/\n          length(regexallmatches(\"\\[(.*?)\\]\", fv!item)) = 1,\n          /*Extracting the text inside of []*/\n          extract(\n            regexreplaceall(\n              \"<(.*?)>|\\\\\",\n              regexallmatches(\"\\[(.*?)\\]\", fv!item),\n              \"\"\n            ),\n            \"[\",\n            \"]\"\n          ),\n          extract(\n            stripwith(\n              regexreplaceall(\n                \"<(.*?)>\",\n                rule!AS_CO_UT_replaceNull(\n                  nullableValue: regexallmatches(\n                    fv!item & \"[a-zA-Z0-9 ]*\\[(.*?)\\]\",\n                    ri!sectionText\n                  ),\n                  replacementValue: \"\"\n                ),\n                \"\"\n              ),\n              \"_\"\n            ),\n            \"[\",\n            \"]\"\n          )\n        ),\n        local!instructionAtLeft: if(\n          rule!AS_CO_UT_isBlank(value: local!instructionAtRight),\n          a!localVariables(\n            local!text: trim(\n              stripwith(\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  items: regexallmatches(\n                    \"\\([a-zA-Z \\(\\)/]*\\)(\" & \" \" & \")*\" & fv!item & \"|[a-zA-Z ]*(:)+(\" & \" \" & \")*\" & fv!item,\n                    ri!sectionText\n                  ),\n                  expression: regexreplaceall(\"<(.*?)>|:\", fv!item, \"\")\n                ),\n                \"_\"\n              )\n            ),\n            if(\n              and(\n                rule!AS_CO_UT_isNotBlank(input: local!text),\n                length(\n                  regexallmatches(\"(.*?)\\((.*?)\", local!text)\n                ) = 1,\n                length(\n                  regexallmatches(\"(.*?)\\)(.*?)\", local!text)\n                ) = 1\n              ),\n              extract(local!text, \"(\", \")\"),\n              if(\n                and(\n                  rule!AS_CO_UT_isNotBlank(input: local!text),\n                  length(\n                    regexallmatches(\"(.*?)\\((.*?)\", local!text)\n                  ) > 1,\n                  length(\n                    regexallmatches(\"\\((.*?)\\)\", local!text)\n                  ) = 1\n                ),\n                mid(local!text, 2, len(local!text) - 2),\n                local!text\n              )\n            )\n          ),\n          null()\n        ),\n        local!fourWords: if(\n          and(\n            rule!AS_CO_UT_isBlank(value: local!instructionAtRight),\n            rule!AS_CO_UT_isBlank(value: local!instructionAtLeft)\n          ),\n          a!localVariables(\n            local!words: reject(\n              rule!AS_CO_UT_isBlank(value: _),\n              /*Splitting the words using \" \"*/\n              split(\n                regexreplaceall(\n                  \"<(.*?)>|_\",\n                  rule!AS_CO_UT_replaceNull(\n                    nullableValue: regexallmatches(\n                      if(\n                        fv!isFirst,\n                        /*Fetching everything till first cite tag*/\n                        \"(.*?)\" & fv!item,\n                        /*Fetching everything between two cite tags*/\n                        local!citeTagsUsedAsRegex[fv!index - 1] & \"(.*?)\" & fv!item\n                      ),\n                      ri!sectionText\n                    ),\n                    replacementValue: \"\"\n                  ),\n                  \"\"\n                ),\n                \" \"\n              )\n            ),\n            {\n              /*Fetching the last 4 words*/\n              index(\n                local!words,\n                enumerate(4) + length(local!words) - 3,\n                null()\n              )\n            }\n          ),\n          null()\n        ),\n        local!label: /*Joining the words using \" \"*/\n        joinarray(\n          reject(\n            rule!AS_CO_UT_isBlank(value: _),\n            {\n              if(\n                and(\n                  rule!AS_CO_UT_isBlank(value: local!checkBoxLabel),\n                  rule!AS_CO_UT_isBlank(value: local!instructionAtRight),\n                  rule!AS_CO_UT_isBlank(value: local!instructionAtLeft)\n                ),\n                local!fourWords,\n                if(\n                  and(\n                    rule!AS_CO_UT_isBlank(value: local!checkBoxLabel),\n                    rule!AS_CO_UT_isBlank(value: local!instructionAtRight)\n                  ),\n                  local!instructionAtLeft,\n                  if(\n                    rule!AS_CO_UT_isBlank(value: local!checkBoxLabel),\n                    local!instructionAtRight,\n                    local!checkBoxLabel\n                  )\n                )\n              )\n            }\n          ),\n          \" \"\n        ),\n        local!value: rule!AS_GCM_UT_regexsearch(\n          pattern: fv!item,\n          searchString: ri!sectionText,\n          regexFlag: \"g\"\n        ),\n        local!citeIdentifier: regexfirstmatch(\"<(.*?)>\", local!onlyCiteTags[fv!index]),\n        a!flatten(\n          {\n            cite: local!onlyCiteTags[fv!index],\n            citeIdentifier: local!citeIdentifier,\n            isTableFillIn: find(\n              cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_TABLE,\n              local!citeIdentifier\n            ) > 0,\n            valueStartPosition: /*Adding +1 here because the startPosition starts at 0*/\n            index(local!value, \"startPosition\", null()) + len(local!citeIdentifier) + cons!AS_GCM_ENUM_REGEXSEARCH_START_POSITION,\n            /*Subtracting 6 because the length of </cite> is 7 and we need the position of < in this*/\n            valueEndPosition: index(local!value, \"endPosition\", null()) - cons!AS_GCM_ENUM_REGEXSEARCH_END_POSITION + cons!AS_GCM_ENUM_REGEXSEARCH_START_POSITION,\n            label: if(\n              find(\n                cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_TABLE,\n                local!citeIdentifier\n              ) > 0,\n              cons!AS_GCM_TEXT_HYPHEN,\n              rule!AS_GCM_UT_capitalizeFirstLetter(text: local!label)\n            ),\n            isLabelBeforeCite: find(\n              substitute(local!label, \",\", \"\"),\n              mid(\n                ri!sectionText,\n                find(\n                  local!onlyCiteTags[fv!index],\n                  ri!sectionText\n                ) - len(local!label),\n                len(local!label)\n              )\n            ) <> 0,\n            text: index(local!splitSections, fv!index, \"\"),\n            words: if(\n              find(\n                local!label,\n                striphtml(local!onlyCiteTags[fv!index])\n              ) <> 0,\n              \"\",\n              regexreplaceall(\n                \"<cite (.*?)/cite>|_\",\n                tostring(\n                  regexallmatches(\n                    fv!item & \"(.*?)\" & \"\\[(.*?)\\]\",\n                    ri!sectionText\n                  )\n                ),\n                \"\"\n              )\n            ),\n            sectionIndex: ri!index,\n            fillinIndex: fv!index,\n            uuid: index(\n              rule!AS_GCM_extractUuidAndFillinTypeFromClassParameter(\n                citeOrHighlightTag: local!onlyCiteTags[fv!index]\n              ),\n              \"uuid\",\n              null\n            )\n          }\n        )\n      )\n    )\n  ),\n  rule!AS_GCM_filterRecords(\n    records: if(\n      /*Checking if the cite tags are not unique and they are of checkBoxes*/\n      and(\n        length(local!unprocessedOutput.cite) <> length(\n          union(\n            local!unprocessedOutput.cite,\n            local!unprocessedOutput.cite\n          )\n        ),\n        length(\n          regexallmatches(\n            \"(.*?)Checkbox(.*?)\",\n            tostring(local!unprocessedOutput.cite)\n          )\n        ) = length(local!unprocessedOutput.cite)\n      ),\n      /*Running the cite tags in nested loops to get label for each duplicate cite tag.*/\n      a!localVariables(\n        /*Retrieving all unique cite tags*/\n        local!uniqueCiteTags: union(\n          local!unprocessedOutput.cite,\n          local!unprocessedOutput.cite\n        ),\n        a!flatten(\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!uniqueCiteTags,\n            expression: a!localVariables(\n              local!item: fv!item,\n              #\"SYSTEM_SYSRULES_forEach\"(\n                /*Fetching all duplicates of current cite tags and running it in a loop to get label for all*/\n                items: merge(\n                  regexallmatches(\n                    \"[a-zA-Z ,]*\" & local!item,\n                    ri!sectionText\n                  ),\n                  rule!AS_GCM_UT_regexsearch(\n                    pattern: rule!AS_GCM_UT_formatTextAsRegex(\n                      text: regexfirstmatch(\">(.*?)</cite>\", local!item)\n                    ),\n                    searchString: ri!sectionText,\n                    regexFlag: \"g\"\n                  )\n                ),\n                expression: {\n                  cite: local!item,\n                  citeIdentifier: regexfirstmatch(\"<(.*?)>\", local!item),\n                  isTableFillIn: find(\n                    cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_TABLE,\n                    regexfirstmatch(\"<(.*?)>\", local!item)\n                  ) > 0,\n                  /*Adding 2 because startPosition will start at 0 but in appian index starts at one so +1 for this and another +1 is for > character that is used in the regexsearch function in the items section of this loop*/\n                  valueStartPosition: fv!item[2].startPosition + len(\">\") + cons!AS_GCM_ENUM_REGEXSEARCH_START_POSITION,\n                  /*Subtracting 6 because the length of </cite> is 7 and we need the position of < in this*/\n                  valueEndPosition: fv!item[2].endPosition - cons!AS_GCM_ENUM_REGEXSEARCH_END_POSITION + cons!AS_GCM_ENUM_REGEXSEARCH_START_POSITION,\n                  label: rule!AS_GCM_UT_capitalizeFirstLetter(\n                    text: trim(\n                      /*Getting only the text from the output.*/\n                      regexreplaceall(\n                        \"<(.*?)>[Xx]<\\/(.*?)>|<(.*?)>||[\\[]\",\n                        fv!item[1],\n                        \"\"\n                      )\n                    )\n                  ),\n                  isLabelBeforeCite: false,\n                  words: \"\",\n                  sectionIndex: ri!index,\n                  fillinIndex: fv!index,\n                  uuid: index(\n                    rule!AS_GCM_extractUuidAndFillinTypeFromClassParameter(citeOrHighlightTag: local!item),\n                    \"uuid\",\n                    null\n                  )\n                }\n              )\n            )\n          )\n        )\n      ),\n      local!unprocessedOutput\n    ),\n    field: \"isTableFillIn\",\n    value: true,\n    filterType: \"REJECT\"\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_279147": {
      "name": "AS_CO_UT_castToDictionary",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  if(\n    rule!AS_CO_UT_isBlank(ri!value),\n    null,\n    ri!value\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_33160": {
      "name": "AS_CO_UT_displayCommonObjectBundleLabel",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  rule!AS_CO_I18N_UT_getAndDisplayLabelSingle(\n    bundleFolder: cons!AS_CO_I18N_FLD_INTERNATIONALIZATION_FILES,\n    bundleKey: ri!bundleKey,\n    arguments: ri!arguments,\n    localeAgnostic: false\n  )\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_101148": {
      "name": "AS_CO_UT_returnNullDictionary",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  null\n)"
    },
    "_a-0000e415-3035-8000-9bb2-011c48011c48_292117": {
      "name": "AS_CO_UT_castToDictionaryList",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary?list',\n  if(\n    rule!AS_CO_UT_isBlank(ri!value),\n    {},\n    ri!value\n  )\n)"
    },
    "0002e668-585e-8000-1aad-7f0000014e7a": {
      "name": "AS GCM Edit Clause Set Clause",
      "type": "Process Model",
      "sail_code": "// Input: ?\n= rule!AS_GCM_UT_captureAuditForClauseSetClauseAndClauseTextInRA( initiator: pp!initiator, clause: pv!clauseSetClause, clauseText: pv!clauseText, originalClause: pv!originalClauseSetClause, originalClauseText: pv!originalClauseText)\n\n// Output: ?\nnull\n\n// Output: ?\nnull\n\n// Output: ?\npv!clauseSetClause\n\n// Output: ?\npv!clauseText\n\n// Input: ?\n=cons!AS_GCM_ENT_CLAUSE_SET_CLAUSE\n\n// Input: ?\n=pv!clauseSetClause\n\n// Output: ?\nAC!StoredValues\n\n// Input: ?\n=cons!AS_GCM_ENT_CLAUSE_SET_CLAUSE_TEXT\n\n// Input: ?\n=pv!clauseText\n\n// Output: ?\nAC!StoredValues\n\n// Output: ?\nrule!AS_GCM_UT_updateClauseSetClauseDetailsOnEditClauseOrCompleteFillIns(\n  clauseSetClause: pv!clauseSetClause,\n  userAction: pv!userAction,\n  initiator: pp!initiator,\n  clauseText: pv!clauseText.clauseText\n)\n\n// Output: ?\nrule!AS_GCM_setMetaDataForClauseSetClauseTextCdt(\n  initiator: pp!initiator,\n  clauseSetClauseTexts: pv!clauseText\n)\n\n// Input: ?\n=pv!clauseSetClause\n\n// Input: ?\n=pv!userAction\n\n// Input: ?\n=pv!clauseText\n\n// Input: ?\n=pv!clauseSetStatusId"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76367": {
      "name": "AS_CO_UT_rejectNullValuesFromArray",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!array),\n  reject(\n    rule!AS_CO_UT_isBlank(_),\n    a!flatten(ri!array)\n  )\n)"
    },
    "_a-0000e79a-fc04-8000-9bf4-011c48011c48_2257987": {
      "name": "AS_GCM_UT_getFillinValue",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    find(\"__\", ri!fillInValue) = 0,\n    find(char(9633), ri!fillInValue) = 0\n  ),\n  ri!fillInValue,\n  null\n)"
    },
    "_a-0000e915-02bc-8000-9c1f-011c48011c48_4025082": {
      "name": "AS_GCM_QR_getFillInRecDetails",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryRecord(\n  sort: ri!sort,\n  returnType: ri!returnType,\n  recordType: recordType!AS GCM Fill In Recommendation,\n  executeWhen: and(\n    ri!executeWhen,\n    or(\n      any(\n        rule!AS_CO_UT_isNotBlank(_),\n        {\n          ri!additionalFilters,\n          ri!logicalExpression,\n          ri!aggregation\n        }\n      ),\n      rule!AS_CO_UT_isNotBlank(ri!fillInRecFillInUuid)\n    )\n  ),\n  /* To ensure proper null checks, we'll force all queryFilter values to not be null */\n  logicalExpression: ri!logicalExpression,\n  pagingInfo: ri!pagingInfo,\n  triggerRefresh: ri!triggerRefresh,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM Fill In Recommendation.fillInRecFillInUuid,\n      operator: \"in\",\n      value: ri!fillInRecFillInUuid\n    ),\n    a!match(\n      value: ri!isAutoPopulated,\n      /* When nothing is passed all data should be returned     */\n      whenTrue: a!isNullOrEmpty(fv!value),\n      then: {},\n      equals: true(),\n      then: #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM Fill In Recommendation.isAutoPopulated,\n        operator: \"=\",\n        value: true\n      ),\n      /*  When false is passed returning all data except isAutoPopulated=true    */\n      default: #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM Fill In Recommendation.isAutoPopulated,\n        operator: \"<>\",\n        value: true\n      ),\n      \n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM Fill In Recommendation.isActive,\n      operator: \"=\",\n      value: true,\n      applyWhen: rule!AS_CO_UT_not(input: ri!includeInactive)\n    ),\n    ri!additionalFilters\n  },\n  fields: ri!fields\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_271202": {
      "name": "AS_CO_UT_rejectCdtByField",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    rule!AS_CO_UT_isBlank(ri!cdt),\n    ri!cdt,\n    remove(\n      a!flatten(ri!cdt),\n      rule!AS_CO_UT_returnCdtIndicesByField(\n        cdt: ri!cdt,\n        field: ri!field,\n        value: ri!value\n      )\n    )\n  )\n)"
    },
    "_a-0000e79a-fc04-8000-9bf4-011c48011c48_2087306": {
      "name": "AS_GCM_UT_groupParagraphAndCites",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!enum: touniformstring(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!paragraphIndices,\n      expression: if(\n        fv!index = count(ri!paragraphIndices),\n        if(\n          rule!AS_CO_UT_isBlank(\n            index(\n              index(ri!textMap, \"cite\", \"\"),\n              count(ri!textMap),\n              \"\"\n            )\n          ),\n          fv!item,\n          joinarray(\n            enumerate((count(ri!textMap) + 1) - fv!item) + fv!item,\n            \", \"\n          )\n        ),\n        if(\n          ri!paragraphIndices[fv!index + 1] - fv!item > 1,\n          joinarray(\n            enumerate(\n              ri!paragraphIndices[fv!index + 1] - fv!item\n            ) + fv!item,\n            \", \"\n          ),\n          fv!item\n        )\n      )\n    )\n  ),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!enum,\n    expression: if(\n      length(split(fv!item, \", \")) > 1,\n      concat(\n        index(\n          ri!textMap.paragraph,\n          tointeger(index(split(fv!item, \", \"), 1, {})),\n          \"\"\n        ),\n        index(\n          ri!textMap.cite,\n          tointeger(\n            index(\n              split(fv!item, \", \"),\n              enumerate(length(split(fv!item, \", \")) - 1) + 2,\n              {}\n            )\n          ),\n          \"\"\n        )\n      ),\n      \"\",\n      \n    )\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_112825": {
      "name": "AS_CO_UT_toString",
      "type": "Expression Rule",
      "sail_code": "if(\n/* to prevent modulus from breaking */\n  isnull(ri!value),\n  ri!value,\n  if(\n    todecimal(ri!value) = tostring(ri!value),\n    if(\n      mod(ri!value, 1) = 0,\n      text(\n        todecimal(ri!value), \"##\"\n      ),\n      text(\n        todecimal(ri!value), \"##.##\"\n      )\n    ),\n    ri!value\n  )\n)"
    },
    "_a-0000e447-91f4-8000-9bc0-011c48011c48_584965-adt": {
      "name": "AS_ADT_UT_startAuditProcess_Parameters",
      "type": "Expression Rule",
      "sail_code": "{\n  auditParams: 'type!{urn:com:appian:types:AS:ADT}AS_ADT_P_AuditProcessParameters'(\n    newObjects: rule!AS_CO_UT_cast(\n      value: ri!newObjects,\n      type: rule!AS_CO_UT_returnArrayTypeNumber(type: ri!objectType),\n      \n    ),\n    originalObjects: rule!AS_CO_UT_cast(\n      value: ri!originalObjects,\n      type: rule!AS_CO_UT_returnArrayTypeNumber(type: ri!objectType),\n      \n    ),\n    objectTypeNumber: rule!AS_CO_UT_returnTypeNumber(type: ri!objectType),\n    namespace: rule!AS_CO_UT_getTypeNamespace(type: ri!objectType),\n    objectDse: ri!objectDse,\n    auditDse: ri!auditDse,\n    username: rule!AS_CO_UT_replaceNull(\n      nullableValue: ri!username,\n      replacementValue: loggedInUser()\n    ),\n    externalAction: ri!externalAction,\n    auditConfig: ri!auditConfig,\n    auditType: ri!auditType,\n    manipulationAudit: ri!manipulationAudit,\n    complexFieldName: ri!complexFieldName\n  )\n}"
    },
    "_a-0000e8e8-3f98-8000-9ba5-011c48011c48_13321": {
      "name": "AS_GCM_UT_regexsearch",
      "type": "Expression Rule",
      "sail_code": "/*\nThis rule is used to handle the weird behaviour seen sometimes in the regexsearch function where the returned data is not indexable or erroring out. \nTo fix this we are explicitly casting to make it proper.\n*/\n#\"SYSTEM_SYSRULES_forEach\"(\n  items: regexsearch(\n    ri!pattern,\n    ri!searchString,\n    ri!regexFlag,\n    ri!returnGroups\n  ),\n  expression: a!map(\n    match: touniformstring(index(fv!item, \"match\", \"\")),\n    startPosition: tointeger(index(fv!item, \"startPosition\", null)),\n    endPosition: tointeger(index(fv!item, \"endPosition\", null)),\n    groups: rule!AS_CO_UT_castToDictionaryList(index(fv!item, \"groups\", null))\n  )\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_28158": {
      "name": "AS_CO_UT_captureMetadata",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  with(\n    local!modifiedBy: rule!AS_CO_UT_replaceNull(\n      nullableValue: ri!modifiedBy, \n      replacementValue: loggedInUser()\n    ),\n    local!cdtFields: rule!AS_CO_UT_returnCdtFields(typeOf: ri!cdt),\n    local!possibleMetaDataFields: touniformstring(\n      /*These fields should always exist in any CDT for which metadata is captured*/\n      \"modifiedDatetime\",\n      \"modifiedBy\",\n      \"createdDatetime\",\n      \"createdBy\",\n      /*These fields may not exist in every CDT for which metadata is captured*/\n      \"isDeleted\",\n      \"isActive\"\n    ),\n    local!capturedMetadataFields: intersection(\n      local!cdtFields,\n      local!possibleMetaDataFields\n    ),\n    a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!cdt,\n        expression: {\n          rule!AS_CO_UT_updateCdtFields(\n            cdt: fv!item,\n            fields: local!capturedMetadataFields,\n            newValues: rule!AS_CO_UT_displayValueMultiple(\n              values: local!capturedMetadataFields,\n              inArray: local!possibleMetaDataFields,\n              replacement: {\n                now(),\n                local!modifiedBy,\n                rule!AS_CO_UT_replaceNull(\n                  nullableValue: index(fv!item, \"createdDatetime\", null),\n                  replacementValue: now()\n                ),\n                rule!AS_CO_UT_replaceNull(\n                  nullableValue: index(fv!item, \"createdBy\", null),\n                  replacementValue: local!modifiedBy\n                ),\n                rule!AS_CO_UT_booleanDefaultFalse(\n                  boolean: index(fv!item, \"isDeleted\", null)\n                ),\n                rule!AS_CO_UT_booleanDefaultTrue(boolean: index(fv!item, \"isActive\", null))\n              }\n            )\n          )\n        }\n      )\n    )\n  )\n)"
    },
    "_a-0000e36c-7599-8000-9ba2-011c48011c48_64438": {
      "name": "AS_CO_UT_zINTERNAL_returnCdtFields_primitiveTypeCheckHandler",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  any(\n    rule!AS_CO_UT_typeCompare(\n      value1: ri!singleType[ri!field],\n      value2: _\n    ),\n    apply(\n      cast(\n        _,\n        null\n      ),\n      rule!AS_CO_CONS_PRIMITIVE_TYPE_ARRAY()\n    )\n  )\n)"
    },
    "_a-0000e79a-fc04-8000-9bf4-011c48011c48_2230940": {
      "name": "AS_GCM_UT_formatTextAsRegex",
      "type": "Expression Rule",
      "sail_code": "/*Returns the text by escaping the delimiters such as [ ] () {} $\n\nThe reason for excaping the above characters is,\nin regex these characters have special meaning and if in cite tag if we have these characters the cite tags \nmatch won't be an exact match. To avoid this situation we are escaping these delimiting characters\n*/\n#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!text,\n  expression: a!localVariables(\n    local!step1: regexreplaceall(\"\\[\", fv!item, \"\\\\[\"),\n    local!step2: regexreplaceall(\"\\]\", local!step1, \"\\\\]\"),\n    local!step3: regexreplaceall(\"\\(\", local!step2, \"\\\\(\"),\n    local!step4: regexreplaceall(\"\\)\", local!step3, \"\\\\)\"),\n    local!step5: regexreplaceall(\"\\{\", local!step4, \"\\\\{\"),\n    local!step6: regexreplaceall(\"\\}\", local!step5, \"\\\\}\"),\n    local!step7: regexreplaceall(\"\\?\", local!step6, \"\\\\?\"),\n    regexinsertmatchmarkers(\n      \"\\*|\\^|\\+\",\n      if(\n        find(\"$\", local!step7) <> 0,\n        /*Checking if there is a $ in the cite tag, if yes replacing it with \\$ in order to escape it*/\n        replace(\n          local!step7,\n          find(\"$\", local!step7),\n          1,\n          \"\\$\"\n        ),\n        local!step7\n      ),\n      \"\\\",\n      \"\",\n      false\n    )\n  )\n)"
    },
    "_a-0000eb85-3dbf-8000-9d30-011c48011c48_10991191": {
      "name": "AS_GCM_BL_returnClauseSetClauseStatusId",
      "type": "Expression Rule",
      "sail_code": "if(\n  /* retain the clause set clause status if any below boolean is true() */\n  or(\n    ri!isCopyFillins,\n    ri!isAmendmentModification,\n    ri!isCreateAwardFromSolicitation\n  ),\n  ri!statusId,\n  if(\n    and(\n      or(ri!isFillin, ri!isEditable),\n      /*Validating IBR clauses based on \"Ignore IBR Validation Errors\" toggle*/\n      if(\n        rule!AS_GCM_IBRValidationDisabled_wrapper(),\n        ri!formatId = cons!AS_GCM_REF_ID_FORMAT_FULL_TEXT,\n        {}\n      )\n    ),\n    if(\n      a!isNullOrEmpty(ri!fillinStats),\n      cons!AS_GCM_REF_ID_CLAUSE_SET_CLAUSE_STATUS_INCOMPLETE,\n      /* check if all the fillins are completed */\n      if(\n        ri!fillinStats.totalFillinCount = ri!fillinStats.completedFillinCount,\n        cons!AS_GCM_REF_ID_CLAUSE_SET_CLAUSE_STATUS_COMPLETE,\n        cons!AS_GCM_REF_ID_CLAUSE_SET_CLAUSE_STATUS_INCOMPLETE\n      )\n    ),\n    cons!AS_GCM_REF_ID_CLAUSE_SET_CLAUSE_STATUS_COMPLETE\n  )\n)"
    },
    "_a-0000e79a-fc04-8000-9bf4-011c48011c48_2332243": {
      "name": "AS_GCM_MTR_SAVE_editedAndMarkedCompleteCompleteFillIns",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(local!temp, a!save(local!temp, {}))"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_983591": {
      "name": "AS_GAM_ADT_UT_constructDynamicDictionaryForManipulatedAudit",
      "type": "Expression Rule",
      "sail_code": "/*If the audit data is not nested and is manipulated and passed from outsite, we can directly construct the audit entry for each ri!auditParams.manipulationAudit*/\n#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!auditParams.manipulationAudit,\n  expression: rule!AS_CO_UT_dynamicDictionary(\n    fieldValuePairs: {\n      if(\n        rule!AS_CO_UT_isBlank(\n          index(\n            ri!auditParams.auditConfig,\n            \"idField\",\n            null\n          )\n        ),\n        {},\n        {\n          field: ri!auditParams.auditConfig.idField,\n          value: index(\n            index(\n              ri!auditParams.newObjects,\n              tostring(ri!auditParams.auditConfig.idField),\n              null\n            ),\n            1,\n            null\n          )\n        }\n      ),\n      { field: \"username\", value: ri!initiator },\n      { field: \"timestamp\", value: now() },\n      {\n        field: \"auditActionCode\",\n        value: /*If the action code varies for each manipulation audit, actionCode within auditParams.manipulationAudit will be used. Else, externalAction will be used*/\n        rule!AS_CO_UT_replaceNull(\n          nullableValue: fv!item.actionCode,\n          replacementValue: ri!auditParams.externalAction\n        )\n      },\n      if(\n        rule!AS_CO_UT_isNotBlank(\n          ri!auditParams.auditConfig.foreignIdField\n        ),\n        {\n          field: ri!auditParams.auditConfig.foreignIdField,\n          value: index(\n            index(\n              ri!auditParams.newObjects,\n              tostring(\n                ri!auditParams.auditConfig.foreignIdField\n              ),\n              null\n            ),\n            1,\n            null\n          )\n        },\n        {}\n      ),\n      /*The field changes will be passed as label value pairs in \"fieldChanges\" column of auditParams.manipulationAudit\"*/\n      {\n        field: \"simpleFieldChanges\",\n        value: rule!AS_CO_UT_castToDictionaryList(value: fv!item.fieldChanges)\n      }\n    }\n  )\n)"
    },
    "_a-0000e643-f7f1-8000-9bca-011c48011c48_1376468": {
      "name": "AS_GCM_FM_editClauseSetClause",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!bundle: rule!AS_GCM_CO_UT_loadBundleFromFolder(langISOCode: null()),\n  local!isFillInTrue: index(\n    index(ri!clauseSetClause, \"refClause\", null()),\n    \"fillIn\",\n    null()\n  ),\n  local!clauseTextWithHighlightAndFillins: rule!AS_GCM_getFillinMapsAndClauseTextUsingHighlightOrCiteTags(\n    clauseText: ri!clauseText.clauseText,\n    clauseNumber: ri!clauseSetClause.refClause.clauseNumber,\n    isConvertCiteToHighlight: true(),\n    highlightColorCode: cons!AS_GCM_HEX_CODE_FILL_IN_HIGHLIGHT,\n    isIgnoreTables: false()\n  ),\n  local!updatedClauseValues: local!clauseTextWithHighlightAndFillins,\n  local!numberOfCiteTagRemoved: length(\n    index(\n      local!clauseTextWithHighlightAndFillins,\n      \"fillinMaps\",\n      {}\n    )\n  ) - length(\n    index(\n      local!updatedClauseValues,\n      \"fillinMaps\",\n      {}\n    )\n  ),\n  local!isEdited: if(\n    local!isFillInTrue,\n    if(\n      local!numberOfCiteTagRemoved > 0,\n      true(),\n      false()\n    ),\n    false\n  ),\n  if(\n    ri!clauseSetStatusId = cons!AS_GCM_REF_ID_CLAUSE_SET_STATUS_GENERATING,\n    rule!AS_GCM_CPS_ClauseSetRelatedActionPlaceholder(\n      bundle: local!bundle,\n      userAction: ri!userAction\n    ),\n    #\"SYSTEM_SYSRULES_formLayout_v1\"(\n      label: \"\",\n      contents: {\n        #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          label: \"\",\n          labelPosition: \"COLLAPSED\",\n          value: {\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: \"\",\n              style: \"STRONG\"\n            ),\n            \" \",\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: rule!AS_CO_UT_replaceNull(\n                nullableValue: rule!AS_GCM_DSP_clauseRecordTitle(\n                  clauseNumber: ri!clauseSetClause.refClause.clauseNumber,\n                  clauseTitle: ri!clauseSetClause.clauseTitle,\n                  alternateValue: ri!clauseSetClause.alternateValue,\n                  deviation: ri!clauseSetClause.refClause.deviation,\n\n                ),\n                replacementValue: \"-\"\n              )\n            )\n          }\n        ),\n        rule!AS_GCM_DPL_GAM_COMP_richTextFieldWithTablePlugin(\n          text: local!updatedClauseValues.updatedClauseText,\n          label: \"\",\n          labelPosition: \"ABOVE\",\n          required: true,\n          maxSize: cons!AS_GCM_ENUM_MAX_LENGTH_CLAUSE_AND_PRESC_TEXTS,\n          requiredMessage: rule!AS_CO_UT_displayRequiredMessage(\n            label: \"\"\n          ),\n          saveInto: a!save(\n            local!updatedClauseValues,\n            rule!AS_GCM_getFillinMapsAndClauseTextUsingHighlightOrCiteTags(\n              clauseText: if(\n                rule!AS_GCM_doesHtmlContainVisibleCharacters(text: save!value),\n                save!value,\n                \"\"\n              ),\n              clauseNumber: ri!clauseSetClause.refClause.clauseNumber,\n              isConvertCiteToHighlight: false(),\n              highlightColorCode: cons!AS_GCM_HEX_CODE_FILL_IN_HIGHLIGHT,\n              skipFillinForNewHighlights: true(),\n              isIgnoreTables: false()\n            )\n          )\n        )\n      },\n      buttons: #\"SYSTEM_SYSRULES_ButtonLayout\"(\n        primaryButtons: {\n          #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n            label: \"\",\n            value: cons!AS_CO_ENUM_USER_ACTION_SAVE,\n            saveInto: {\n              ri!userAction,\n              a!save(\n                ri!clauseText.clauseText,\n                rule!AS_GCM_replaceHighlightTagWithCiteTag(\n                  clauseText: index(\n                    local!updatedClauseValues,\n                    \"updatedClauseText\",\n                    null()\n                  ),\n                  highlightTagText: rule!AS_CO_UT_indexPath(\n                    cdt: local!updatedClauseValues.fillinMaps,\n                    field: \"highlightTag\",\n                    indexDefault: null()\n                  ),\n                  citeTagText: rule!AS_CO_UT_indexPath(\n                    cdt: local!updatedClauseValues.fillinMaps,\n                    field: \"citeTag\",\n                    indexDefault: null()\n                  ),\n                  isRemoveCiteFromTables: false()\n                )\n              ),\n              rule!AS_GCM_MTR_SAVE_editedAndSavedClauseSetClause()\n            },\n            submit: true,\n            style: \"OUTLINE\",\n            validate: true,\n            confirmHeader: if(\n              a!isNullOrEmpty(\n                local!updatedClauseValues.updatedClauseText\n              ),\n              null,\n              if(\n                local!isEdited,\n                \"Save as Draft?\",\n                null\n              )\n            ),\n            confirmMessage: if(\n              a!isNullOrEmpty(\n                local!updatedClauseValues.updatedClauseText\n              ),\n              null,\n              if(\n                local!isEdited,\n                rule!AS_GAM_CO_I18N_UT_displayLabel(\n                  bundle: local!bundle,\n                  bundleKey: \"txt_ConfirmForSaveAsDraft\",\n                  arguments: local!numberOfCiteTagRemoved\n                ),\n                null\n              )\n            ),\n            confirmButtonLabel: if(\n              a!isNullOrEmpty(\n                local!updatedClauseValues.updatedClauseText\n              ),\n              null,\n              if(\n                local!isEdited,\n                \"\",\n                null\n              )\n            ),\n            cancelButtonLabel: if(\n              a!isNullOrEmpty(\n                local!updatedClauseValues.updatedClauseText\n              ),\n              null,\n              if(\n                local!isEdited,\n                \"Cancel\",\n                null\n              )\n            )\n          ),\n          #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n            label: \"\",\n            value: cons!AS_GCM_ENUM_USER_ACTION_MARK_AS_COMPLETE,\n            saveInto: {\n              ri!userAction,\n              a!save(\n                ri!clauseText.clauseText,\n                rule!AS_GCM_replaceHighlightTagWithCiteTag(\n                  clauseText: local!updatedClauseValues.updatedClauseText,\n                  highlightTagText: rule!AS_CO_UT_indexPath(\n                    cdt: local!updatedClauseValues.fillinMaps,\n                    field: \"highlightTag\",\n                    indexDefault: null()\n                  ),\n                  citeTagText: rule!AS_CO_UT_indexPath(\n                    cdt: local!updatedClauseValues.fillinMaps,\n                    field: \"citeTag\",\n                    indexDefault: null()\n                  ),\n                  isRemoveCiteFromTables: false()\n                )\n              ),\n              rule!AS_GCM_MTR_SAVE_editedAndMarkedCompleteClauseSetClause()\n            },\n            submit: true,\n            style: \"SOLID\",\n            validate: true,\n            confirmHeader: if(\n              a!isNullOrEmpty(\n                local!updatedClauseValues.updatedClauseText\n              ),\n              null,\n              if(\n                local!isEdited,\n                \"Mark as Complete?\",\n                null\n              )\n            ),\n            confirmMessage: if(\n              a!isNullOrEmpty(\n                local!updatedClauseValues.updatedClauseText\n              ),\n              null,\n              if(\n                local!isEdited,\n                rule!AS_GAM_CO_I18N_UT_displayLabel(\n                  bundle: local!bundle,\n                  bundleKey: \"txt_ConfirmForMarkAsComplete\",\n                  arguments: local!numberOfCiteTagRemoved\n                ),\n                null\n              )\n            ),\n            confirmButtonLabel: if(\n              a!isNullOrEmpty(\n                local!updatedClauseValues.updatedClauseText\n              ),\n              null,\n              if(\n                local!isEdited,\n                \"\",\n                null\n              )\n            ),\n            cancelButtonLabel: if(\n              a!isNullOrEmpty(\n                local!updatedClauseValues.updatedClauseText\n              ),\n              null,\n              if(\n                local!isEdited,\n                \"Cancel\",\n                null\n              )\n            )\n          )\n        },\n        secondaryButtons: {\n          #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n            label: \"Cancel\",\n            value: cons!AS_CO_ENUM_USER_ACTION_CANCEL,\n            saveInto: ri!userAction,\n            submit: true,\n            style: \"OUTLINE\",\n            validate: false\n          )\n        }\n      )\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_74131": {
      "name": "AS_CO_DSP_standardReadOnlyField",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_textField\"(\n  label: ri!label,\n  labelPosition: rule!AS_CO_UT_getLabelPosition(\n    label: ri!label,\n    labelPosition: ri!labelPosition,\n    readOnly: true\n  ),\n  instructions: ri!instructions,\n  helpTooltip: ri!helpTooltip,\n  value: rule!AS_CO_UT_replaceNull(\n    nullableValue: ri!value,\n    replacementValue: if(\n      rule!AS_CO_UT_booleanDefaultTrue(\n        ri!showHyphenIfValueNull\n      ),\n      \"-\",\n      \"\"\n    )\n  ),\n  showWhen: ri!showWhen,\n  readOnly: true,\n  align: ri!align,\n  accessibilityText: ri!accessibilityText\n)"
    },
    "_a-0000e6c8-d132-8000-9bbe-011c48011c48_469266": {
      "name": "AS_CO_UT_queryRecord",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS ON HOW TO USE\n\nPlease DO NOT auto-format this rule\n\n*/\n\n\n/*Error handling*/\nif(\n  rule!AS_CO_UT_isBlank(ri!returnType),\n  fn!error(concat(\"Null `returnType` passed to AS_CO_UT_queryRecord for recordType `\", ri!recordType, \"`.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  not(contains(rule!AS_CO_CONS_QE_RETURN_TYPES(), ri!returnType)),\n  fn!error(concat(\"Unknown `returnType` passed to AS_CO_UT_queryRecord for recordType `\", ri!recordType, \"`.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  rule!AS_CO_UT_isBlank(ri!recordType),\n  fn!error(concat(\"Null `recordType` passed to AS_CO_UT_queryRecord.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    rule!AS_CO_UT_isBlank(ri!pagingInfo)\n  ),\n  fn!error(concat(\"`pagingInfo` is required (cannot be null) for `returnType` DATA_SUBSET\")),\n  and(\n    ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    rule!AS_CO_UT_isNotBlank(ri!pagingInfo)\n  ),\n  fn!error(concat(\"`pagingInfo` must be null when the `returnType` is not DATA_SUBSET, instead use `sort` to pass custom-sorting and `startIndex` & `batchSize` will be automatically calculated for you\")),\n  and(\n    not(isnull(ri!pagingInfo)),\n    rule!AS_CO_UT_isNotBlank(ri!sort)\n  ),\n  fn!error(concat(\"`sort` parameter must be null when `pagingInfo` is provided.  Use the sort field of the provided `pagingInfo` instead.\")),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isBlank(ri!aggregationFields)\n  ),\n  fn!error(\"You must provide an input for `aggregationFields` when `returnType` is AGGREGATION\"),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isNotBlank(ri!fields)\n  ),\n  fn!error(\"You cannot provide an input for `fields` when `returnType` is AGGREGATION.  Use `aggregationFields` instead.\"),\n  and(\n    ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isNotBlank(ri!aggregationFields)\n  ),\n  fn!error(\"You cannot provide an input for `aggregationFields` when `returnType` is not AGGREGATION.  Use `fields` instead.\"),\n  and(\n    rule!AS_CO_UT_isNotBlank(ri!castToCdtType),\n    not(contains(\n      {cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY, cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT, cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET},\n      ri!returnType\n    )),\n  ),\n  fn!error(\"'castToCdtType' is only supported for SINGLE_OBJECT, OBJECT_ARRAY, and DATA_SUBSET return types\"),\n\n  a!localVariables(\n\n    /*Determine the castResultToType*/\n    local!castResultToType: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   'type!{http://www.appian.com/ae/types/2009}Map',\n        /*SINGLE_OBJECT*/ a!defaultValue(ri!castToCdtType, ri!recordType),\n        /*OBJECT_ARRAY*/  rule!AS_CO_UT_returnArrayTypeNumber(type: a!defaultValue(ri!castToCdtType, ri!recordType)),\n        /*AGGREGATION*/   'type!{http://www.appian.com/ae/types/2009}Map?list',\n        /*TOTAL_COUNT*/   'type!{http://www.appian.com/ae/types/2009}Integer',\n      }\n    ),\n\n    /*Determine the batchSize*/\n    local!batchSize: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   ri!pagingInfo.batchSize,\n        /*SINGLE_OBJECT*/ 1,\n        /*OBJECT_ARRAY*/  a!defaultValue(ri!pagingInfo.batchSize, cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE),\n        /*AGGREGATION*/   cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE,\n        /*TOTAL_COUNT*/   1,\n      }\n    ),\n\n    /*Determine the pagingInfo*/\n    local!pagingInfo: if(\n      ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n      /*Use specific pagingInfo for DATA_SUBSET*/\n      ri!pagingInfo,\n      /*Otherwise calculate pagingInfo for all other returnTypes*/\n      #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: local!batchSize,\n        sort: ri!sort\n      )\n    ),\n\n    /*Determine the fetchTotalCount*/\n    local!fetchTotalCount: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   true,\n        /*SINGLE_OBJECT*/ false,\n        /*OBJECT_ARRAY*/  false,\n        /*AGGREGATION*/   false,\n        /*TOTAL_COUNT*/   true,\n      }\n    ),\n\n    /*Execute the query*/\n    local!queryResult: a!refreshVariable(\n      value: if(\n        ri!executeWhen = false,\n        null(\n          if(\n            ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n            rule!AS_CO_TYPE_Dictionary(),\n            ri!recordType\n          )\n        ),\n        #\"SYSTEM_SYSRULES_queryRecordType_v1\"(\n          recordType: ri!recordType,\n          fields: a!defaultValue(\n            ri!fields,\n            ri!aggregationFields\n          ),\n          filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            logicalExpressions: {\n              #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"AND\",\n                ignoreFiltersWithEmptyValues: true,\n                filters: a!defaultValue(ri!filters, {})\n              ),\n              a!defaultValue(ri!logicalExpression, {})\n            }\n          ),\n          pagingInfo: local!pagingInfo,\n          fetchTotalCount: local!fetchTotalCount,\n          relatedRecordData: ri!relatedRecordData\n        )\n      ),\n      refreshOnVarChange: ri!triggerRefresh,\n      refreshAfter: {\"RECORD_ACTION\"}\n    ),\n\n    /*Parse the queryResult*/\n    local!queryResultParse: choose(\n      rule!AS_CO_UT_chooseWherecontainsHelper(\n        value: ri!returnType,\n        inArray: rule!AS_CO_CONS_QE_RETURN_TYPES()\n      ),\n      /*Default, required value based on how AS_CO_UT_chooseWherecontainsHelper operates*/ \"\",\n      /*DATA_SUBSET*/   if(\n        rule!AS_CO_UT_isNotBlank(ri!castToCdtType),\n        /*Note that for a data subset, the parent is a map, but we allow casting the child 'data' field as well*/\n        rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n          cdt: local!queryResult,\n          fieldValuePairs: {\n            field: \"data\",\n            value: cast(\n              rule!AS_CO_UT_returnArrayTypeNumber(type: ri!castToCdtType),\n              local!queryResult.data\n            )\n          }\n        ),\n        local!queryResult\n      ),\n      /*SINGLE_OBJECT*/ local!queryResult.data,\n      /*OBJECT_ARRAY*/  local!queryResult.data,\n      /*AGGREGATION*/   local!queryResult.data,\n      /*TOTAL_COUNT*/   local!queryResult.totalCount,\n    ),\n\n    rule!AS_CO_UT_cast(\n      type: local!castResultToType,\n      value: local!queryResultParse\n    )\n  )\n)\n\n/*\n\nDOCUMENTATION\n\nThis rule is designed to minimize the overhead with querying data and then casting the result\n\n\nRequired Inputs:\n\n1. recordType\n- This is a recordtype! input of the data type to be queried against\n\n2. returnType\n- This depends on the purpose for the query, and should be one of the returnTypes in rule!AS_CO_CONS_QE_RETURN_TYPES\n-- DATA_SUBSET - This will return a DataSubset; pagingInfo is required\n-- SINGLE_OBJECT - This will return a single record whose type is the recordType; pagingInfo must be null\n-- ARRAY_OBJECT - This will return an array of records whose type is an array of the recordType; pagingInfo must be null\n-- AGGREGATION - This will return an array of Dictionaries; pagingInfo must be null\n---- NOTE: If you need Aggregation with paging controls, such as for a grid, use returnType DATA_SUBSET\n-- TOTAL_COUNT - This will return an Integer of the total count; pagingInfo must be null\n\n\nOptional Inputs:\n\n3. executeWhen\n- The query will not execute if this is false, the query will execute if this is true or null\n-- This is meant to operate in a similar manner to the showWhen parameter of components\n- Use this to skip execution of a query without needing to wrap if() statements around the rule\n-- Examples of this would be to skip querying if your filter value is a null ID\n- If the query does not execute, this will return a null value whose type is based on the returnType input\n\n4. triggerRefresh\n- By default, the query will always re-execute whenever any inputs change\n- However, by updating the value of triggerRefresh, you can also trigger a re-execution even if none of the other inputs change (e.g. after a record action)\n\n5. filters\n- Array of filters to apply to the query, built with a!queryFilter()\n- These filters will be applied with an AND operator\n- These filters will apply in addition to the logicalExpression input, combining both with an AND operator\n\n6. logicalExpression\n- A logical expression to apply to the query, built with a!queryLogicalExpression()\n- This logical expression will apply in addition to the filters input, combining both with an AND operator\n\n7. aggregationFields\n- Aggregation to apply to the query, built with a!aggregationField()\n\n8. fields\n- List of recordFields and relatedRecordFields to return.  When querying a record, any relatedRecordFields are not returned\nby default, and must be specifically requested.\n\n9. pagingInfo\n- Paging info to apply to the query, built with a!pagingInfo() or derived from fv!pagingInfo in grids\n- This is required if passing returnType DATA_SUBSET, otherwise it must be null\n- For returnTypes that are not DATA_SUBSET, the batch size will be automatically calculated depending on the returnType\n-- For example, passing SINGLE_OBJECT will automatically apply a batch size of 1, whereas ARRAY_OBJECT and AGGREGATION will automatically apply a batch size of the defined query batch size maximum\n\n10. sort\n- Array of sort to apply to the query, built with a!sortInfo()\n- This is meant to be used with returnType ARRAY_OBJECT and AGGREGATION, since pagingInfo is not required for these, but a specified sort may be used\n- Cannot be used in conjunction with pagingInfo.sort\n\n11. castToCdtType\n- Any cdt type to the cast the result set. \n- This is meant to be used with only returnType OBJECT_ARRAY and SINGLE_OBJECT.\n\n*/"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_272151": {
      "name": "AS_CO_UT_whereContains",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer?list',\n  with(\n    local!array: a!flatten(ri!array),\n  \n    if(\n    \n      /*Have to handle separately for document types due to how it casts to string*/\n      rule!AS_CO_UT_typeCompare(\n        value1: local!array,\n        value2: {todocument(null)}\n      ),\n      wherecontains(\n        todocument(ri!values),\n        local!array\n      ),\n    \n      /*Have to handle separately for group types due to how it casts to string*/\n      rule!AS_CO_UT_typeCompare(\n        value1: local!array,\n        value2: {togroup(null)}\n      ),\n      wherecontains(\n        togroup(ri!values),\n        local!array\n      ),\n    \n      /*Casting to string accounts for any primitive type (integer, boolean, ect.)*/\n      wherecontains(\n        if(\n          rule!AS_CO_UT_isBlank(ri!values),\n          touniformstring(ri!values),\n          touniformstring(a!flatten(ri!values))\n        ),\n        touniformstring(local!array)\n      )\n    )\n  )\n)"
    },
    "_a-0000e63a-a5cb-8000-9bc6-011c48011c48_1230199": {
      "name": "AS_GCM_QE_getClauseSetDetails",
      "type": "Expression Rule",
      "sail_code": "a!match(\n  value: null,\n  whenTrue: and(\n    rule!AS_CO_UT_booleanDefaultFalse(ri!useQueryRecord),\n    rule!AS_CO_UT_isBlank(ri!setId)\n  ),\n  then: rule!AS_CO_UT_queryRecord(\n    returnType: ri!returnType,\n    triggerRefresh: ri!triggerRefresh,\n    recordType: recordType!AS GCM Clause Set,\n    executeWhen: ri!executeWhen,\n    fields: {\n      if(\n        ri!excludeRelatedRecords,\n        {},\n        {\n          recordType!AS GCM Clause Set.contractTypes,\n          /*  Reference data    */\n          recordType!AS GCM Clause Set.refStatus,\n          recordType!AS GCM Clause Set.refContractMethod,\n          recordType!AS GCM Clause Set.refCategory,\n          recordType!AS GCM Clause Set.refType\n        }\n      ),\n      a!defaultValue(ri!fields, {})\n    },\n    relatedRecordData: {\n      #\"SYSTEM_SYSRULES_relatedRecordData\"(\n        relationship: recordType!AS GCM Clause Set.contractTypes,\n        limit: 10,\n        filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM Clause Set Contract Type Map.isActive,\n          operator: \"=\",\n          value: true\n        )\n      ),\n      #\"SYSTEM_SYSRULES_relatedRecordData\"(\n        relationship: recordType!AS GCM Clause Set.clauses,\n        limit: 10,\n        filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n          operator: \"OR\",\n          filters: {\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM Clause Set Clause Synced.isActive,\n              operator: \"=\",\n              value: true\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM Clause Set Clause Synced.refUsageId,\n              operator: \"=\",\n              value: cons!AS_GCM_REF_ID_USAGE_EXCLUDED\n            )\n          }\n        )\n      )\n    },\n    logicalExpression: ri!logicalExpression,\n    filters: ri!additionalFilters,\n    pagingInfo: ri!pagingInfo,\n    sort: ri!sort,\n    aggregationFields: ri!aggregation\n  ),\n  whenTrue: and(\n    rule!AS_CO_UT_booleanDefaultFalse(ri!useQueryRecord),\n    rule!AS_CO_UT_isNotBlank(ri!setId),\n    all(\n      rule!AS_CO_UT_isBlank(_),\n      {\n        ri!additionalFilters,\n        ri!logicalExpression,\n        ri!aggregation\n      }\n    )\n  ),\n  then: rule!AS_GCM_UT_queryRecordByIdentifier(\n    refreshInterval: ri!refreshInterval,\n    triggerRefresh: ri!triggerRefresh,\n    recordType: recordType!AS GCM Clause Set,\n    identifier: ri!setId,\n    executeWhen: ri!executeWhen,\n    fields: {\n      if(\n        ri!excludeRelatedRecords,\n        {},\n        {\n          recordType!AS GCM Clause Set.contractTypes,\n          /*  Reference data    */\n          recordType!AS GCM Clause Set.refStatus,\n          recordType!AS GCM Clause Set.refContractMethod,\n          recordType!AS GCM Clause Set.refCategory,\n          recordType!AS GCM Clause Set.refType\n        }\n      ),\n      a!defaultValue(ri!fields, {})\n    },\n    relatedRecordData: {\n      #\"SYSTEM_SYSRULES_relatedRecordData\"(\n        relationship: recordType!AS GCM Clause Set.contractTypes,\n        limit: 100,\n        filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM Clause Set Contract Type Map.isActive,\n          operator: \"=\",\n          value: true\n        )\n      ),\n      #\"SYSTEM_SYSRULES_relatedRecordData\"(\n        relationship: recordType!AS GCM Clause Set.clauses,\n        limit: 100,\n        filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n          operator: \"OR\",\n          filters: {\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM Clause Set Clause Synced.isActive,\n              operator: \"=\",\n              value: true\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM Clause Set Clause Synced.refUsageId,\n              operator: \"=\",\n              value: cons!AS_GCM_REF_ID_USAGE_EXCLUDED\n            )\n          }\n        )\n      )\n    }\n  ),\n  default: rule!AS_CO_UT_queryEntity(\n    entity: cons!AS_GCM_ENT_CLAUSE_SET,\n    entityType: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet',\n    returnType: ri!returnType,\n    executeWhen: and(\n      ri!executeWhen,\n      or(\n        any(\n          rule!AS_CO_UT_isNotBlank(_),\n          {\n            ri!additionalFilters,\n            ri!logicalExpression,\n            ri!aggregation\n          }\n        ),\n        rule!AS_CO_UT_isNotBlank(input: ri!setId),\n        rule!AS_CO_UT_isNotBlank(input: ri!solicitationId),\n        rule!AS_CO_UT_isNotBlank(input: ri!awardId)\n      )\n    ),\n    /* To ensure proper null checks, we'll force all queryFilter values to not be null */\n    logicalExpression: ri!logicalExpression,\n    pagingInfo: ri!pagingInfo,\n    sort: ri!sort,\n    triggerRefresh: ri!triggerRefresh,\n    filters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: \"setId\",\n        operator: \"=\",\n        value: ri!setId\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: \"solicitationId\",\n        operator: \"=\",\n        value: ri!solicitationId\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: \"awardId\",\n        operator: \"=\",\n        value: ri!awardId\n      ),\n      ri!additionalFilters\n    },\n    aggregation: ri!aggregation\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73758": {
      "name": "AS_CO_UT_distinct",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!value),\n  union({ri!value}, {ri!value})\n)"
    },
    "_a-0000e438-fdf5-8000-9ba8-011c48011c48_19869": {
      "name": "AS_CO_I18N_UT_parseBundleKey",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  with(\n    local!split: split(\n      ri!bundleKey,\n      \".\"\n    ),\n    local!bundleName: joinarray(\n      remove(\n        local!split,\n        count(\n          local!split\n        )\n      ),\n      \".\"\n    ),\n    local!labelKey: local!split[count(\n      local!split\n    )],\n    {\n      bundleName: local!bundleName,\n      labelKey: local!labelKey\n    }\n  )\n)"
    },
    "_a-0000ebf3-ee42-8000-9d69-011c48011c48_12124906": {
      "name": "AS_GCM_doesHtmlContainVisibleCharacters",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /* removing the hidden tag */\n  local!removeHiddenTag: if(\n    ri!ignoreHiddenTag,\n    ri!text,\n    rule!AS_GCM_substituteListFromTextUsingReduce(\n      text: ri!text,\n      /*get hidden tag */\n      find: rule!AS_GCM_extractBalancedTagThatHasGivenText(\n        text: ri!text,\n        uniqueTextInTag: \"span hidden\"\n      ),\n      replaceWith: \"\",\n      replaceAllInstances: true()\n    )\n  ),\n  rule!AS_CO_UT_isNotBlank(\n    /* ignore the extra space */\n    trim(\n      rule!AS_GCM_substituteListFromTextUsingReduce(\n        text: striphtml(local!removeHiddenTag),\n        /* removing the inivisible characters \n        10 - newline\n        32 - space\n        160 - non breakable space (&nbsp)\n        */\n        find: { char(10), char(32), char(160) },\n        replaceWith: \"\",\n        replaceAllInstances: true()\n      )\n    )\n  )\n)"
    },
    "_a-0000e915-02bc-8000-9c1f-011c48011c48_3773372": {
      "name": "AS_GCM_getFillinMapsAndClauseTextUsingHighlightOrCiteTags",
      "type": "Expression Rule",
      "sail_code": "/*Returns the fillins map for the clauseText*/\nif(\n  rule!AS_CO_UT_isNotBlank(input: ri!clauseText),\n  a!localVariables(\n    local!anchorTags: regexallmatches(\n      \"<a class(.*?)>(.*?)</a>\",\n      ri!clauseText\n    ),\n    local!replaceText: #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!anchorTags,\n      expression: if(\n        find(\"http\", fv!item) > 0,\n        fv!item,\n        striphtml(fv!item)\n      )\n    ),\n    /*Removing self referencing hyperlinks*/\n    local!clauseText: rule!AS_GCM_substituteListFromTextUsingReduce(\n      text: ri!clauseText,\n      find: local!anchorTags,\n      replaceWith: local!replaceText\n    ),\n    local!clauseTextIgnoringTables: if(\n      ri!isIgnoreTables = false(),\n      local!clauseText,\n      rule!AS_GCM_UT_removeCiteAndHighlightTagWithinTables(clauseText: local!clauseText)\n    ),\n    local!citeTags: if(\n      ri!isConvertCiteToHighlight = true(),\n      regexallmatches(\n        \"<cite(.*?)</cite>\",\n        local!clauseTextIgnoringTables\n      ),\n      {}\n    ),\n    local!highLightTags: if(\n      ri!isConvertCiteToHighlight = true(),\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!citeTags,\n        expression: a!localVariables(\n          local!class: regexfirstmatch(\"class=\"\"(.*?)\"\"\", fv!item),\n          local!value: regexreplaceall(\"<cite(.*?)>|</cite>\", fv!item, \"\"),\n          concat(\n            \"<span style=\"\"background-color: \" & a!defaultValue(\n              value: ri!highlightColorCode,\n              default: cons!AS_GCM_HEX_CODE_DEFAULT_FILL_IN_HIGHLIGHT_IN_ADD_OR_EDIT_CLAUSE\n            ) & \";\"\">\",\n            \"<span hidden=\"\"\"\">\",\n            local!class,\n            \"</span>\",\n            local!value,\n            \"</span>\"\n          )\n        )\n      ),\n      rule!AS_CO_UT_rejectNullValuesFromArray(\n        array: #\"SYSTEM_SYSRULES_forEach\"(\n          items: rule!AS_GCM_extractBalancedTagThatHasGivenText(\n            text: local!clauseTextIgnoringTables,\n            uniqueTextInTag: \"background-color:\"\n          ),\n          expression: if(\n            /*Ignoring the transparent background-color tags*/\n            or(\n              cons!AS_GCM_HEX_CODE_HIGHLIGHT_TO_EXCLUDE_FROM_FILLINS = \"#\" & stripwith(\n                rule!AS_GCM_UT_findColorCodes(tag: fv!item, isBackgroundColor: true()),\n                \";\"\n              ),\n              find(\n                \"background-color: transparent;\",\n                fv!item\n              ) <> 0,\n              if(\n                ri!skipFillinForNewHighlights = true(),\n                find(\"class=\"\"cite\", fv!item) = 0,\n                {}\n              )\n            ),\n            \"\",\n            fv!item\n          )\n        )\n      )\n    ),\n    local!fillinMaps: #\"SYSTEM_SYSRULES_forEach\"(\n      items: merge(\n        a!defaultValue(\n          value: local!citeTags,\n          default: repeat(length(local!highLightTags), \"\")\n        ),\n        local!highlightTags\n      ),\n      expression: a!localVariables(\n        local!tables: regexallmatches(\"<table.*?</table>\", local!clauseText),\n        local!value: rule!AS_GCM_UT_removeHightlightTags(fv!item[2]),\n        local!highlightTag: rule!AS_GCM_generateOrRetainClassParameterInHighlightOrCiteTag(\n          highlightTag: fv!item[2],\n          clauseNumber: ri!clauseNumber\n        ),\n        local!uuidAndfillinTypeMap: rule!AS_GCM_extractUuidAndFillinTypeFromClassParameter(\n          citeOrHighlightTag: local!highlightTag,\n          tables: if(ri!isIgnoreTables, null, local!tables)\n        ),\n        rule!AS_GCM_mergeMultipleMapsIntoSingleMap(\n          mapsToMerge: {\n            local!uuidAndfillinTypeMap,\n            a!map(\n              citeTag: a!defaultValue(\n                value: fv!item[1],\n                default: rule!AS_GCM_UT_generateCiteTagForFillins(\n                  clauseNumber: ri!clauseNumber,\n                  uuid: local!uuidAndfillinTypeMap.uuid,\n                  fillinType: local!uuidAndfillinTypeMap.fillinType,\n                  value: local!value\n                )\n              ),\n              highlightTag: local!highlightTag,\n              displayText: striphtml(local!value),\n              fillinRecommendations: rule!AS_CO_UT_cast(\n                type: #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n                  recordType!AS GCM Fill In Recommendation\n                ),\n                value: {}\n              )\n            )\n          }\n        )\n      )\n    ),\n    local!fillinRecommendations: rule!AS_GCM_QR_getFillInRecDetails(\n      returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(startIndex: 1, batchSize: 5000),\n      fillInRecFillInUuid: index(local!fillinMaps, \"uuid\", null),\n      executeWhen: ri!getFillinRecommendationsFromDB = true()\n    ).data,\n    /* Updating the fillin Recommendations in the fillinMaps   */\n    local!updatedFillinMaps: #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!fillinMaps,\n      expression: #\"urn:appian:function:v1:a:update\"(\n        fv!item,\n        \"fillinRecommendations\",\n        a!flatten(\n          a!defaultValue(\n            value: rule!AS_GAM_filterCdtOrRecordDataByField(\n              cdtOrRecord: ri!fillinMaps,\n              field: \"uuid\",\n              value: fv!item.uuid\n            ).fillinRecommendations,\n            default: rule!AS_GAM_filterCdtOrRecordDataByField(\n              cdtOrRecord: local!fillinRecommendations,\n              field: recordType!AS GCM Fill In Recommendation.fillInRecFillInUuid,\n              value: fv!item.uuid\n            ),\n            default: rule!AS_CO_UT_cast(\n              type: #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n                recordType!AS GCM Fill In Recommendation\n              ),\n              value: {}\n            )\n          )\n        )\n      )\n    ),\n    a!map(\n      fillinMaps: local!updatedFillinMaps,\n      updatedClauseText: if(\n        ri!isConvertCiteToHighlight = true(),\n        rule!AS_GCM_substituteListFromTextUsingReduce(\n          text: local!clauseText,\n          find: index(local!fillinMaps, \"citeTag\", null),\n          replaceWith: index(local!fillinMaps, \"highlightTag\", null)\n        ),\n        rule!AS_GCM_substituteListFromTextUsingReduce(\n          text: local!clauseText,\n          find: local!highLightTags,\n          replaceWith: index(local!fillinMaps, \"highlightTag\", null)\n        )\n      )\n    )\n  ),\n  a!map(fillinMaps: {}, updatedClauseText: \"\")\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75842": {
      "name": "AS_CO_UT_returnSingleTypeObject",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!typeOf: if(\n    isnull(ri!type),\n    ri!typeOf,\n    cast(\n      ri!type,\n      {}\n    )\n  ),\n\n  index(\n    cast(\n      typeof({local!typeOf}), \n      updatearray({local!typeOf}, 1, {})\n    ), \n    1,\n    {}\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_180322": {
      "name": "AS_CO_DSP_removeIcon",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!displayOptions: rule!AS_CO_UT_displayValue(\n    value: ri!removalType,\n    inArray: rule!AS_CO_CONS_REMOVAL_ICON_TYPES(),\n    replacement: {\n      /* CLEAR */\n      {\n        icon: \"times\",\n        color: if(ri!isDisabled, \"SECONDARY\", \"NEGATIVE\")\n      },\n      /* DELETE */\n      {\n        icon: \"trash\",\n        color: if(ri!isDisabled, \"SECONDARY\", \"ACCENT\")\n      }\n    },\n    /* Default to CLEAR behavior */\n    firstIsDefault: true\n  ),\n  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n    accessibilityText: ri!accessibilityText,\n    value: #\"SYSTEM_SYSRULES_richTextIcon\"(\n      altText: ri!altText,\n      icon: local!displayOptions.icon,\n      size: ri!size,\n      caption: ri!caption,\n      link: if(\n        ri!isDisabled = true,\n        null,\n        #\"SYSTEM_SYSRULES_dynamicLink\"(label: ri!label, saveInto: { ri!saveInto })\n      ),\n      linkStyle: \"STANDALONE\",\n      color: local!displayOptions.color\n    ),\n    align: \"CENTER\",\n    showWhen: ri!showWhen\n  )\n)"
    },
    "_a-0000e915-02bc-8000-9c1f-011c48011c48_3870857": {
      "name": "AS_GCM_DPL_GAM_COMP_richTextFieldWithTablePlugin",
      "type": "Interface",
      "sail_code": "/*\nContext: on page load, any editable RichTextField will load, rendering Quill's\nlogic to format the input into a \"Quill-style\" HTML. RichTextField will also render\nwhen there is any interaction with the form via other components, because it's\ndefault set to refreshAlways=true.\n\nWe want to address the scenario where if the user makes an interaction with the form\nbut does not modify the value of the RichTextField, the naive implementation of\nRichTextField will update the original input text value to be \"Quill-styled\". This causes\nissues in GCM when trying to compare the stored HTML (that wasn't actually updated\nin the RichTextField but because of another form interaction causing the \"Quill-style\"\nto be applied) to the HTML from acquisition.gov.\n\nThe fix works as follow:\n1) Upon loading the form, we will store the original input text value\n2) Upon loading the form, we will also store the Quill-style HTML based on the\noriginal input text value\n3) During each trigger of RichTextField's saveInto (either because of another component's\ninteraction or the RichTextField's interaction), we will check to see if the current Quill-style\nHTML is the same as the original Quill-style HTML.\n3a) If they are the same, this means that either there was an interaction with a non-RTE component\nor that the user reverted their changes to the original input text value. We will then output\nthe original HTML value, instead of the Quill-style HTML\n3b) If they are different, this means that the user changed the input value in the RTE, and therefore\nwe need to store the Quill-style HTML\n\nRefer to the comments for local!originalText, local!quillFormattedOriginalText,\nand for the saveIntos for the RTE\n\nImplications/TO-DOs:\n1) If the RTE is first rendered as read-only on form load, then Quill will not\nexecute to render the Quill-style HTML. Even if there was a checkbox to turn the RTE\neditable, Quill had already loaded and so making it editable does not cause it to execute.\nThis means that we cannot get the Quill-style HTML based on the original input\ntext value at load.\n2) If there is another component on the page that causes the input text to be updated (e.g.,\nthere is a dropdown that depending on the value of the dropdown causes the initial text\nto change), then we will always be storing Quill-style HTML of those input texts. However,\nperhaps this is what is expected.\n*/\n/*\nRichTextField doesn't support validations on the \"required\" field.\nRefer to https://community.appian.com/w/the-appian-playbook/1378/end-user-rich-text-editor-component.\nThis implementation of RTE uses section-level validations if required=true in the RTE\n*/\na!localVariables(\n  local!required: if(\n    ri!readOnly = true,\n    false,\n    rule!AS_CO_UT_booleanDefaultFalse(ri!required)\n  ),\n  /*This stores the original text value on page load*/\n  local!originalText: a!refreshVariable(\n    value: ri!text,\n    refreshOnReferencedVarChange: false\n  ),\n  /*This stores the original text value on page load -- but in quill format*/\n  /*And the way this is actually set is through RTE's immediate save-out on page load of an editable RTE*/\n  /*To actually pass back out the \"quill-style\" HTML*/\n  local!quillFormattedOriginalText: null,\n  if(\n    cons!AS_GCM_TOGGLE_AUTOMATION_TESTING_ENABLED,\n    #\"SYSTEM_SYSRULES_paragraphField\"(\n      label: ri!label,\n      labelPosition: ri!labelPosition,\n      readOnly: ri!readOnly,\n      required: ri!required,\n      requiredMessage: rule!AS_CO_UT_displayRequiredMessage(\n        label: ri!label,\n        requiredMessage: ri!requiredMessage\n      ),\n      validations: ri!validations,\n      instructions: ri!instructions,\n      characterLimit: a!defaultValue(\n        ri!maxSize,\n        cons!AS_GAM_INT_RTE_MAX_CHARACTERS\n      ),\n      value: substitute(\n        joinarray(split(ri!text, \"<p>\"), char(10)),\n        \"</p>\",\n        \"\"\n      ),\n      saveInto: a!save(\n        ri!text,\n        \"<p>\" & joinarray(split(save!value, char(10)), \"</p><p>\") & \"</p>\"\n      )\n    ),\n    {\n      richTextFieldWithTables(\n        label: ri!label,\n        labelPosition: ri!labelPosition,\n        richTextValue: ri!text,\n        richTextSaveInto: if(\n          /*Added condition to handle saves on readonly */ri!readOnly = true(),\n          {},\n          {\n            if(\n              /*This checks that the save-out is the initial RTE save out that happens on page load*/\n              and(\n                rule!AS_CO_UT_isBlank(local!quillFormattedOriginalText),\n                rule!AS_CO_UT_isNotBlank(local!originalText)\n              ),\n              /*On the very first load of the page, only save into quillFormattedOriginalText*/\n              /*This save out happens any time an editable rich text field is rendered*/\n              /*We can determine if its the first load by checking that quillFormattedOriginalText is null*/\n              a!save(\n                local!quillFormattedOriginalText,\n                save!value\n              ),\n              /*On subsequent interactions, first check if the quillFormattedOriginalText value is different than the original*/\n              /*And if so, only then perform the true saves we want*/\n              if(\n                /*preventing ri!text save by updating ri!triggerSave as false*/\n                /*saving ri!triggerSave as true if ri!triggerSave=false as we need to update it to true anyways to trigger ri!text save*/\n                /*scenario: Enabling the button save when there is no change in clause RTE but a change in fill-in type dropdown*/\n                ri!triggerSave = false,\n                a!save(ri!triggerSave, true),\n                {\n                  a!save(\n                    ri!text,\n                    a!match(\n                      value: save!value,\n                      whenTrue: not(\n                        rule!AS_GCM_doesHtmlContainVisibleCharacters(text: fv!value)\n                      ),\n                      then: \"\",\n                      whenTrue: exact(\n                        tostring(fv!value),\n                        tostring(local!quillFormattedOriginalText)\n                      ),\n                      then: /*Run a \"save\" that sets ri!text back to its original value*/\n                      local!originalText,\n                      default: /*Update ri!text*/\n                      regexreplaceall(\n                        /* Removing the transparent background colors to make sure to pasted text is proper */\n                        \"background\\-color:(\" & char(32) & \")?(transparent|#ffffff|#FFFFFF);?\",\n                        fv!value,\n                        \"\"\n                      )\n                    )\n                  )\n                }\n              )\n            ),\n            ri!saveInto\n          }\n        ),\n        readOnly: ri!readOnly,\n        required: ri!required,\n        height: ri!height,\n        validations: ri!validations,\n        instructions: ri!instructions,\n        maxSize: rule!AS_CO_UT_replaceNull(\n          nullableValue: ri!maxSize,\n          replacementValue: cons!AS_GAM_INT_RTE_MAX_CHARACTERS\n        )\n      ),\n      #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n        showWhen: local!required,\n        marginBelow: \"NONE\",\n        validations: #\"SYSTEM_SYSRULES_validationMessage\"(\n          message: rule!AS_CO_UT_displayRequiredMessage(\n            label: ri!label,\n            requiredMessage: ri!requiredMessage\n          ),\n          validateAfter: \"SUBMIT\",\n          showWhen: rule!AS_CO_UT_isBlank(ri!text)\n        )\n      )\n    }\n  )\n)"
    },
    "_a-0000e915-02bc-8000-9c1f-011c48011c48_3773464": {
      "name": "AS_GCM_extractUuidAndFillinTypeFromClassParameter",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNotNullOrEmpty(ri!citeOrHighlightTag),\n  a!localVariables(\n    local!isTableFillIn: if(\n      rule!AS_CO_UT_isBlank(ri!tables),\n      false,\n      or(\n        find(\n          rule!AS_GCM_removeHiddenSpanTagsFromHtml(ri!citeOrHighlightTag),\n          tostring(ri!tables)\n        ) > 0,\n        find(\n          ri!citeOrHighlightTag,\n          tostring(ri!tables)\n        ) > 0\n      )\n    ),\n    local!class: regexfirstmatch(\n      \"class=\"\"(.*?)\"\"\",\n      ri!citeOrHighlightTag\n    ),\n    local!uuidAndTypeSplit: split(\n      regexreplaceall(\"class=\"\"cite |\"\"\", local!class, \"\"),\n      \" \"\n    ),\n    /*Checking whether the first item has only alphabets*/\n    local!isFirstItemFillinType: regexmatch(\n      \"^[a-zA-Z]+$\",\n      local!uuidAndTypeSplit[1]\n    ),\n    a!map(\n      uuid: if(\n        local!isFirstItemFillinType,\n        \"\",\n        local!uuidAndTypeSplit[1]\n      ),\n      fillinType: a!defaultValue(\n        value: ri!fillinType,\n        default: a!match(\n          value: local!uuidAndTypeSplit,\n          whenTrue: local!isTableFillIn,\n          then: cons!AS_GCM_TXT_CUSTOM_FILL_IN_TYPE_TABLE,\n          whenTrue: local!isFirstItemFillinType,\n          then: fv!value[1],\n          default: index(fv!value, 2, \"\")\n        )\n      )\n    )\n  ),\n  \"\"\n)"
    },
    "_a-0000ee54-fb4d-8000-9e2f-011c48011c48_16649762": {
      "name": "AS_GCM_StyledTextEditorForFillInsEnabled_wrapper",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /* Determine whether to execute the _default or _custom rule */\n  local!runtimeRule: a!refreshVariable(\n    value: rule!AS_FRM_determineRuntimeRule(\n      defaultRuleReference: rule!AS_GCM_StyledTextEditorForFillInsEnabled_v1_default\n    ),\n    refreshAlways: true\n  ),\n  /*Setting Default as true in case of invalid toggle value*/\n  if(\n    rule!AS_CO_UT_typeCompare(\n      value1: local!runtimeRule(),\n      value2: true()\n    ),\n    local!runtimeRule(),\n    true\n  )\n)\n"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_981349": {
      "name": "AS_GAM_ADT_UT_buildFieldLevelAuditEntityData",
      "type": "Expression Rule",
      "sail_code": "rule!AS_ADT_UT_calculateAudit(\n    originalObjects: ri!auditParams.originalObjects,\n    newObjects: ri!auditParams.newObjects,\n    objectTypeNumber: ri!auditParams.objectTypeNumber,\n    namespace: ri!auditParams.namespace,\n    username: ri!auditParams.username,\n    auditConfig: ri!auditParams.auditConfig,\n    externalAction:ri!auditParams.externalAction\n  )"
    },
    "_a-0000e79a-fc04-8000-9bf4-011c48011c48_2075659": {
      "name": "AS_GCM_UT_findFillIns",
      "type": "Expression Rule",
      "sail_code": "if(\n  find(\"<tbody\", ri!fillInText),\n  /*    if grids are detected they will be skipped*/\n  null,\n  if(\n    find(\"<cite\", ri!fillInText),\n    a!localVariables(\n      local!valueMap: rule!AS_GCM_findFillinValue(fillInText: ri!fillInText),\n      local!cite: regexallmatches(\"<cite(.*?)</cite>\", ri!fillInText),\n      rule!AS_GCM_mergeMultipleMapsIntoSingleMap(\n        mapsToMerge: {\n          a!map(\n            cite: local!cite,\n            start: local!valueMap.start + if(\n              rule!AS_CO_UT_isBlank(value: ri!length),\n              0,\n              ri!length\n            ),\n            end: local!valueMap.end + if(\n              rule!AS_CO_UT_isBlank(value: ri!length),\n              0,\n              ri!length\n            ),\n            value: local!valueMap.value\n          ),\n          rule!AS_GCM_extractUuidAndFillinTypeFromClassParameter(citeOrHighlightTag: local!cite)\n        }\n      )\n    ),\n    null\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_187421": {
      "name": "AS_CO_UT_displayValue",
      "type": "Expression Rule",
      "sail_code": "displayvalue(\n  \n  ri!value,\n  \n  ri!inArray,\n  \n  ri!replacement,\n  \n  if(\n    \n    ri!firstIsDefault,\n    ri!replacement[1],\n    \n    ri!lastIsDefault,\n    ri!replacement[count(ri!replacement)],\n    \n    ri!customDefault\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_260165": {
      "name": "AS_CO_UT_updateCdtFields",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    and(\n      rule!AS_CO_UT_isBlank(ri!cdt),\n      rule!AS_CO_UT_checkIfArrayType(\n        typeOf: ri!cdt\n      )\n    ),\n    ri!cdt,\n    reduce(\n      rule!AS_CO_UT_zINTERNAL_updateCdtFieldsByPath_handler(\n        cdt: _,\n        indices: ri!indices,\n        field: _,\n        newValue: _\n      ),\n      ri!cdt,\n      merge(\n        a!flatten(ri!fields),\n        a!flatten(ri!newValues)\n      )\n    )\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_268381": {
      "name": "AS_CO_UT_enumForCount",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer?list',\n  if(\n    rule!AS_CO_UT_isBlank(ri!input),\n    {},\n    enumerate(count(a!flatten(ri!input))) + 1\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75800": {
      "name": "AS_CO_UT_filterCdtByField",
      "type": "Expression Rule",
      "sail_code": "/*Take the input of a cdt, field, and value and returns the matching cdt data\n\nex. cdt of users, filter by field isActive and value of true to find your active users\n*/\ncast(\n  typeof(ri!cdt),\n  index(\n    a!flatten(ri!cdt),\n    rule!AS_CO_UT_returnCdtIndicesByField(\n      cdt: ri!cdt,\n      field: ri!field,\n      value: ri!value\n    ),\n    {}\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75636": {
      "name": "AS_CO_UT_not",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  not(rule!AS_CO_UT_booleanDefaultFalse(ri!input))\n)\n\n/*True returns False*/\n/*False returns True*/\n/*Null returns True*/"
    },
    "_a-0000e5bc-4a9a-8000-9bbc-011c48011c48_936427": {
      "name": "AS_GAM_ADT_UT_constructActionOnlyAuditData",
      "type": "Expression Rule",
      "sail_code": "/* This rule is used to construct the action only audit data (Simple / Complex field changes will be null)*/\nrule!AS_CO_UT_dynamicDictionary(\n  fieldValuePairs: {\n    {\n      field: ri!auditParams.auditConfig.idField,\n      value: index(\n        ri!auditParams.newObjects,\n        ri!auditParams.auditConfig.idField,\n        null\n      )\n    },\n    { field: \"username\", value: ri!initiator },\n    { field: \"timestamp\", value: now() },\n    {\n      field: \"auditActionCode\",\n      value: ri!auditParams.externalAction\n    },\n    if(\n      rule!AS_CO_UT_isNotBlank(\n        ri!auditParams.auditConfig.foreignIdField\n      ),\n      {\n        field: ri!auditParams.auditConfig.foreignIdField,\n        value: index(\n          ri!auditParams.newObjects,\n          ri!auditParams.auditConfig.foreignIdField,\n          null\n        )\n      },\n      {}\n    )\n  }\n)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1543329": {
      "name": "AS_GCM_QE_getClauseSetClauseTexts",
      "type": "Expression Rule",
      "sail_code": "/*Note: Assertions cannot be added to this rule as it requires data from DSE*/\nrule!AS_CO_UT_queryEntity(\n  sort: ri!sort,\n  entity: cons!AS_GCM_ENT_CLAUSE_SET_CLAUSE_TEXT,\n  entityType: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_Clause_Text',\n  returnType: ri!returnType,\n  executeWhen: and(\n    ri!executeWhen,\n    or(\n      any(\n        rule!AS_CO_UT_isNotBlank(_),\n        {\n          ri!additionalFilters,\n          ri!logicalExpression,\n          ri!aggregation\n        }\n      ),\n      rule!AS_CO_UT_isNotBlank(ri!relationId),\n      rule!AS_CO_UT_isNotBlank(ri!setId)\n    )\n  ),\n  /* To ensure proper null checks, we'll force all queryFilter values to not be null */\n  logicalExpression: ri!logicalExpression,\n  pagingInfo: ri!pagingInfo,\n  triggerRefresh: ri!triggerRefresh,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"relationId\",\n      operator: \"in\",\n      value: tointeger(ri!relationId)\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"setId\",\n      operator: \"=\",\n      value: ri!setId\n    ),\n    ri!additionalFilters\n  },\n  aggregation: ri!aggregation\n)"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9761091": {
      "name": "AS_GCM_filterRecords",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!fieldValuePairs: a!defaultValue(\n    ri!fieldValuePairs,\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: a!flatten(ri!field),\n      expression: a!map(\n        field: fv!item,\n        value: if(\n          fv!itemCount = 1,\n          ri!value,\n          index(a!flatten(ri!value), fv!index, null)\n        )\n      )\n    )\n  ),\n  local!matchIndices: if(\n    a!isNullOrEmpty(a!flatten(ri!records)),\n    tointeger({}),\n    reduce(\n      rule!AS_GCM_filterRecords_Reducer(\n        previousIndices: _,\n        records: a!flatten(ri!records),\n        fieldValuePair: _\n      ),\n      enumerate(count(a!flatten(ri!records))) + 1,\n      local!fieldValuePairs\n    )\n  ),\n  local!rejectIndices: difference(\n    if(\n      a!isNullOrEmpty(ri!records),\n      tointeger({}),\n      enumerate(count(a!flatten(ri!records))) + 1\n    ),\n    local!matchIndices\n  ),\n  local!matches: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!matchIndices, {})\n  ),\n  local!rejects: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!rejectIndices, {})\n  ),\n  local!output: a!match(\n    value: a!defaultValue(ri!filterType, \"FILTER\"),\n    equals: \"FILTER\",\n    then: local!matches,\n    equals: \"REJECT\",\n    then: local!rejects,\n    equals: \"FIRST_MATCH\",\n    then: index(local!matches, 1, null),\n    equals: \"FIRST_REJECT\",\n    then: index(local!rejects, 1, null),\n    equals: \"MATCH_COUNT\",\n    then: count(local!matchIndices),\n    equals: \"REJECT_COUNT\",\n    then: count(local!rejectIndices),\n    equals: \"MATCH_INDICES\",\n    then: local!matchIndices,\n    equals: \"REJECT_INDICES\",\n    then: local!rejectIndices,\n    equals: \"FULL_RESULT\",\n    then: a!map(\n      matches: local!matches,\n      rejects: local!rejects,\n      firstMatch: index(local!matches, 1, null),\n      firstReject: index(local!rejects, 1, null),\n      matchCount: count(local!matchIndices),\n      rejectCount: count(local!rejectIndices),\n      matchIndices: local!matchIndices,\n      rejectIndices: local!rejectIndices\n    ),\n    default: fn!error(\n      \"Invalid filterType, must be one of: FILTER, REJECT, FIRST_MATCH, FIRST_REJECT, MATCH_COUNT, REJECT_COUNT, MATCH_INDICES, REJECT_INDICES, FULL_RESULT\"\n    )\n  ),\n  local!output\n)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1548032": {
      "name": "AS_GCM_BL_constructHelperForClauseSetClauseAndClauseText",
      "type": "Expression Rule",
      "sail_code": "if(\n  all(\n    rule!AS_CO_UT_isBlank,\n    { ri!clauses, ri!clauseTexts }\n  ),\n  rule!AS_CO_UT_initializeBlankLocalVariable(\n    type: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_Clause_Helper'\n  ),\n  /*Combining AS_GCM_ClauseSet_Clause and AS_GCM_ClauseSet_Clause_Text*/\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!clauses,\n    expression: rule!AS_CO_UT_cast(\n      type: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_Clause_Helper',\n      value: {\n        relationId: fv!item.relationId,\n        setId: fv!item.setId,\n        refClause: fv!item.refClause,\n        section: fv!item.section,\n        refUsage: fv!item.refUsage,\n        refStatus: fv!item.refStatus,\n        refAddedVia: fv!item.refAddedVia,\n        format: fv!item.format,\n        effectiveDate: fv!item.effectiveDate,\n        validationAction: fv!item.validationAction,\n        clauseTitle: fv!item.clauseTitle,\n        retainedEffectiveDate: fv!item.retainedEffectiveDate,\n        alternateValue:fv!item.alternateValue,\n        clauseText: rule!AS_CO_UT_filterCdtByField(\n          cdt: ri!clauseTexts,\n          field: \"relationId\",\n          value: index(fv!item, \"relationId\", null)\n        ).clauseText,\n        /*Metadata from both the CDTs would be the same. Using AS_GCM_R_Clause's data here*/\n        createdBy: fv!item.createdBy,\n        createdDatetime: fv!item.createdDatetime,\n        modifiedBy: fv!item.modifiedBy,\n        modifiedDatetime: fv!item.modifiedDatetime,\n        isActive: fv!item.isActive\n      }\n    )\n  )\n)"
    },
    "_a-0000ec0f-9de5-8000-9d75-011c48011c48_12361328": {
      "name": "AS_GCM_removeHiddenSpanTagsFromHtml",
      "type": "Expression Rule",
      "sail_code": "rule!AS_GCM_substituteListFromTextUsingReduce(\n  text: ri!text,\n  find: rule!AS_GCM_extractBalancedTagThatHasGivenText(\n    text: ri!text,\n    uniqueTextInTag: \"span hidden\"\n  ),\n  replaceAllInstances: true\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_983535": {
      "name": "AS_GAM_ADT_UT_constructFieldChangesDictionaryForManipulatedAudit",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Indexing 1 to convert list of dictionary to list*/\n  local!complexFieldConfig: index(\n    rule!AS_CO_UT_filterCdtByField(\n      cdt: ri!auditParams.auditConfig.complexFields,\n      field: \"auditFieldName\",\n      value: tostring(ri!auditParams.complexFieldName)\n    ),\n    1,\n    null\n  ),\n  local!foreignIdField: tostring(\n    a!flatten(\n      index(\n        local!complexFieldConfig,\n        \"foreignIdField\",\n        null\n      )\n    )\n  ),\n  local!auditConfig: rule!AS_CO_UT_dynamicDictionary(\n    fieldValuePairs: {\n      /*Field value pairs for parent object audit*/\n      { field: \"username\", value: ri!initiator },\n      { field: \"timestamp\", value: now() },\n      {\n        field: \"auditActionCode\",\n        value: ri!auditParams.externalAction\n      },\n      /*Indexing the \"idField\" of the parent object using \"foreignIdField\"*/\n      if(\n        rule!AS_CO_UT_isBlank(local!foreignIdField),\n        {},\n        {\n          field: ri!auditParams.auditConfig.idField,\n          value: tointeger(\n            rule!AS_CO_UT_replaceNull(\n              nullableValue: index(\n                rule!AS_CO_UT_indexPath(\n                  cdt: ri!auditParams.newObjects,\n                  field: ri!auditParams.auditConfig.idField\n                ),\n                1,\n                null\n              ),\n              replacementValue: index(\n                rule!AS_CO_UT_indexPath(\n                  cdt: ri!auditParams.newObjects,\n                  field: local!foreignIdField\n                ),\n                1,\n                null\n              )\n            )\n          )\n        }\n      ),\n      {\n        field: tostring(ri!auditParams.complexFieldName),\n        value: if(\n          rule!AS_CO_UT_isBlank(ri!auditParams.manipulationAudit),\n          /*If the audit calculation for the nested CDT involves generic field changes (i.e the manipulation audit is null), we can directly use the field change rule to calculate the audit*/\n          rule!AS_ADT_UT_calculateAudit(\n            originalObjects: rule!AS_CO_UT_castToDictionaryList(value: ri!auditParams.originalObjects),\n            newObjects: rule!AS_CO_UT_castToDictionaryList(value: ri!auditParams.newObjects),\n            objectTypeNumber: ri!auditParams.objectTypeNumber,\n            auditConfig: rule!AS_CO_UT_castToDictionary(value: local!complexFieldConfig),\n            namespace: ri!auditParams.namespace,\n            username: ri!initiator,\n            externalAction: null\n          ),\n          /*If the audit data is nested and is manipulated and passed from outsite, we can directly construct the audit entry for each ri!auditParams.manipulationAudit*/\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!auditParams.manipulationAudit,\n            expression: rule!AS_CO_UT_dynamicDictionary(\n              fieldValuePairs: {\n                if(\n                  rule!AS_CO_UT_isNotBlank(local!complexFieldConfig.idField),\n                  {\n                    field: local!complexFieldConfig.idField,\n                    value: index(\n                      ri!auditParams.newObjects,\n                      tostring(local!complexFieldConfig.idField),\n                      null\n                    )\n                  },\n                  {}\n                ),\n                { field: \"username\", value: ri!initiator },\n                { field: \"timestamp\", value: now() },\n                {\n                  field: \"auditActionCode\",\n                  value: /*If the action code varies for each manipulation audit, actionCode within auditParams.manipulationAudit will be used. Else, externalAction will be used*/\n                  rule!AS_CO_UT_replaceNull(\n                    nullableValue: fv!item.actionCode,\n                    replacementValue: ri!auditParams.externalAction\n                  )\n                },\n                if(\n                  rule!AS_CO_UT_isNotBlank(\n                    local!complexFieldConfig.foreignIdField\n                  ),\n                  {\n                    field: local!complexFieldConfig.foreignIdField,\n                    value: index(\n                      rule!AS_CO_UT_indexPath(\n                        cdt: ri!auditParams.newObjects,\n                        field: local!complexFieldConfig.foreignIdField\n                      ),\n                      1,\n                      null\n                    )\n                  },\n                  {}\n                ),\n                /*The field changes will be passed as label value pairs in \"fieldChanges\" column of auditParams.manipulationAudit\"*/\n                {\n                  field: \"simpleFieldChanges\",\n                  value: rule!AS_CO_UT_castToDictionaryList(value: fv!item.fieldChanges)\n                }\n              }\n            )\n          )\n        )\n      }\n    }\n  ),\n  if(\n    /*To make the action code \"UNCHANGED\" if the object is unmodified(excluding the metadata)*/\n    rule!AS_CO_UT_not(\n      contains(\n        a!flatten(\n          {\n            rule!AS_CO_UT_isBlank(\n              index(\n                rule!AS_CO_UT_indexPath(\n                  cdt: local!auditConfig,\n                  field: tostring(ri!auditParams.complexFieldName)\n                ),\n                \"simpleFieldChanges\",\n                null\n              )\n            ),\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: {\n                index(\n                  index(\n                    local!complexFieldConfig,\n                    \"complexFields\",\n                    null\n                  ),\n                  \"auditFieldName\",\n                  null\n                )\n              },\n              expression: rule!AS_CO_UT_isBlank(\n                rule!AS_CO_UT_rejectCdtByField(\n                  cdt: index(\n                    rule!AS_CO_UT_indexPath(\n                      cdt: local!auditConfig,\n                      field: tostring(ri!auditParams.complexFieldName)\n                    ),\n                    fv!item,\n                    null\n                  ),\n                  field: \"auditActionCode\",\n                  value: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n                )\n              )\n            )\n          }\n        ),\n        false\n      )\n    ),\n    rule!AS_CO_UT_updateCdtFields(\n      cdt: local!auditConfig,\n      fields: \"auditActionCode\",\n      newValues: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n    ),\n    local!auditConfig\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_157503": {
      "name": "AS_CO_UT_returnTypeNumber",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer',\n  if(\n    isnull(ri!type),\n    typeof(ri!typeOf),\n    typeof(cast(ri!type, null))\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75720": {
      "name": "AS_CO_UT_sortCdt",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    rule!AS_CO_UT_isBlank(\n      ri!field\n    ),\n    ri!cdt,\n    with(\n      local!dataSortedByField: todatasubset(\n        ri!cdt,\n        #\"SYSTEM_SYSRULES_pagingInfo\"(\n          startIndex: 1,\n          batchSize: - 1,\n          sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n            field: ri!field,\n            ascending: rule!AS_CO_UT_replaceNull(\n              nullableValue: ri!ascending,\n              replacementValue: true\n            )\n          )\n        )\n      ).data,\n      if(\n        rule!AS_CO_UT_isBlank(\n          ri!nullsFirst\n        ),\n        local!dataSortedByField,\n        with(\n          local!cdtsWithNullFieldValue: rule!AS_CO_UT_filterCdtByField(\n            cdt: local!dataSortedByField,\n            field: ri!field,\n            value: null\n          ),\n          local!cdtsWithNonNullFieldValue: rule!AS_CO_UT_rejectCdtByField(\n            cdt: local!dataSortedByField,\n            field: ri!field,\n            value: null\n          ),\n          if(\n            ri!nullsFirst,\n            append(\n              local!cdtsWithNullFieldValue,\n              local!cdtsWithNonNullFieldValue\n            ),\n            append(\n              local!cdtsWithNonNullFieldValue,\n              local!cdtsWithNullFieldValue\n            )\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000ec18-d842-8000-9d7b-011c48011c48_12413687": {
      "name": "AS_GCM_CRD_emptyStateForCompleteFillins",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_cardLayout\"(\n  contents: #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n    contents: {\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_imageField_v1\"(\n                images: {\n                  #\"SYSTEM_SYSRULES_documentImage\"(\n                    document: cons!AS_GCM_DOC_FILLINS_EMPTY_STATE_IMAGE\n                  )\n                },\n                size: \"MEDIUM\",\n                isThumbnail: false,\n                style: \"STANDARD\",\n                align: \"CENTER\"\n              ),\n              {\n                #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                  labelPosition: \"COLLAPSED\",\n                  value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                    text: ri!showMessageMap.header,\n                    style: \"STRONG\"\n                  ),\n                  align: \"CENTER\",\n                  marginBelow: \"NONE\"\n                ),\n                #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                  labelPosition: \"COLLAPSED\",\n                  value: ri!showMessageMap.message,\n                  align: \"CENTER\"\n                )\n              },\n              #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n                buttons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                  label: \"\",\n                  value: cons!AS_GCM_ENUM_USER_ACTION_EDIT_CLAUSE,\n                  saveInto: {\n                    ri!userAction,\n                    rule!AS_GCM_MTR_SAVE_editedAndMarkedCompleteCompleteFillIns()\n                  },\n                  style: \"SOLID\",\n                  submit: true\n                ),\n                align: \"CENTER\",\n                marginAbove: \"STANDARD\"\n              )\n            },\n            width: \"MEDIUM_PLUS\"\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(contents: {})\n        }\n      ),\n\n    },\n    marginBelow: \"NONE\"\n  ),\n  height: \"AUTO\",\n  style: cons!AS_GCM_HEX_CODE_APPIAN_BACKGROUND,\n  shape: \"SEMI_ROUNDED\",\n  padding: \"EVEN_MORE\",\n  marginAbove: \"STANDARD\",\n  marginBelow: \"STANDARD\",\n  showBorder: false,\n  showWhen: a!isNotNullOrEmpty(ri!showMessageMap)\n)"
    },
    "_a-0000e643-f7f1-8000-9bca-011c48011c48_1382886": {
      "name": "AS_GCM_MTR_SAVE_editedAndSavedClauseSetClause",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(local!temp, a!save(local!temp, {}))"
    },
    "_a-0000e915-02bc-8000-9c1f-011c48011c48_3773151": {
      "name": "AS_GCM_UT_removeCiteAndHighlightTagWithinTables",
      "type": "Expression Rule",
      "sail_code": "if(\n  search(\"<table\", ri!clauseText) = 0,\n  ri!clauseText,\n  a!localVariables(\n    /* split the text with table tag */\n    local!tableSplit: split(ri!clauseText, { \"<table\", \"</table>\" }),\n    joinarray(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!tableSplit,\n        expression: a!localVariables(\n          local!item: if(\n            or(fv!isFirst, fv!isLast),\n            fv!item,\n            \"<table\" & fv!item & \"</table>\"\n          ),\n          if(\n            search(\"<tbody\", local!item) <> 0,\n            if(\n              /* searching for <cite or <ignore-cite tags and replacing the tags accordingly on save/load */\n              or(\n                find(\"<cite\", local!item) <> 0,\n                find(\"<Ignore-cite\", local!item) <> 0\n              ),\n              if(\n                /* reverting the ignored-cite tags to cite tags on save*/\n                ri!revertIgnoredCitetags = true,\n                regexreplaceall(\"<Ignore-cite\", local!item, \"<cite\"),\n                /* Ignoring the cite tags within the tables */\n                regexreplaceall(\"<cite\", local!item, \"<Ignore-cite\")\n              ),\n              if(\n                /* Logic to remove the highlight tag */\n                find(\"background-color:\", local!item) <> 0,\n                rule!AS_GCM_UT_removeHightlightTags(clauseText: local!item),\n                local!item\n              )\n            ),\n            local!item\n          )\n        )\n      ),\n      \"\"\n    )\n  )\n)"
    },
    "_a-0000e643-f7f1-8000-9bca-011c48011c48_1382060": {
      "name": "AS_GCM_UT_updateClauseSetClauseDetailsOnEditClauseOrCompleteFillIns",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!statusRefData: rule!AS_GCM_QR_getRefData(\n    refTypes: cons!AS_GCM_REF_TYPE_CLAUSE_SET_CLAUSE_STATUS\n  ),\n  rule!AS_CO_UT_captureMetadata(\n    cdt: rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n      cdt: ri!clauseSetClause,\n      fieldValuePairs: {\n        {\n          field: \"refStatus\",\n          value: rule!AS_CO_UT_filterCdtByField(\n            cdt: local!statusRefData,\n            field: \"refDataId\",\n            value: if(\n              /*status - Not Failed when \"Mark as Complete\" (Submit)*/\n              ri!userAction = cons!AS_GCM_ENUM_USER_ACTION_MARK_AS_COMPLETE,\n              cons!AS_GCM_REF_ID_CLAUSE_SET_CLAUSE_STATUS_COMPLETE,\n              rule!AS_GCM_BL_returnClauseSetClauseStatusId(\n                isFillin: rule!AS_CO_UT_indexPath(\n                  cdt: ri!clauseSetClause,\n                  field: \"refClause.fillIn\",\n                  indexDefault: true\n                ),\n                isEditable: rule!AS_CO_UT_indexPath(\n                  cdt: ri!clauseSetClause,\n                  field: \"refClause.editable\",\n                  indexDefault: true\n                ),\n                formatId: rule!AS_CO_UT_indexPath(\n                  cdt: ri!clauseSetClause,\n                  field: \"format.refDataId\"\n                )\n              )\n            )\n          )\n        },\n        {\n          field: \"isCompleteFillinAvailable\",\n          value: rule!AS_GCM_UT_isCompleteFillinsActionAvailable(clauseText: ri!clauseText)\n        }\n      }\n    ),\n    modifiedBy: ri!initiator\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76004": {
      "name": "AS_CO_I18N_UT_getUserLocale",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  userlocale(ri!user)\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_237233-adt": {
      "name": "AS_ADT_UT_buildSimpleFieldChanges",
      "type": "Expression Rule",
      "sail_code": "a!flatten(\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!simpleFields,\n    expression: rule!AS_ADT_UT_buildSimpleFieldChangesDictionary(\n      simpleFieldName: fv!item,\n      originalObject: ri!originalObject,\n      newObject: ri!newObject\n    )\n  )\n)"
    },
    "_a-0000e994-0db4-8000-9c52-011c48011c48_4923038": {
      "name": "AS_GAM_createMap",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isNotBlank(input: ri!keys),\n  reduce(\n    #\"urn:appian:function:v1:a:update\"(_, _, _),\n    a!map(),\n    merge(ri!keys, ri!values)\n  ),\n  null()\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_91550": {
      "name": "AS_CO_I18N_UT_replaceArgument",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  if(\n    isnull(ri!input),\n    ri!input,\n    substitute(\n      ri!input,\n      /*The standard argument format is `[%x]` where `x` is the argument position*/\n      concat(\"[%\", ri!index, \"]\"),\n      fn!index(ri!arguments, ri!index, \"\")\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73660": {
      "name": "AS_CO_UT_displayUser",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  if(\n    rule!AS_CO_UT_checkIfUserExists(user: ri!user),\n    concat(fn!user(ri!user, \"firstName\"), \" \", fn!user(ri!user, \"lastName\")),\n    if(\n      and(ri!showHyphenIfValueNull = true, isnull(ri!user)),\n      \"-\",\n      ri!user\n    )\n  )\n)"
    },
    "_a-0000e583-8ce5-8000-9bb7-011c48011c48_734490": {
      "name": "AS_CO_UT_castToMapList",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Map?list',\n  if(\n    rule!AS_CO_UT_isBlank(ri!value),\n    {},\n    ri!value\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_269170": {
      "name": "AS_CO_UT_updateCdtFieldsByFieldValuePairs",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    and(\n      rule!AS_CO_UT_isBlank(ri!cdt),\n      rule!AS_CO_UT_checkIfArrayType(\n        typeOf: ri!cdt\n      )\n    ),\n    ri!cdt,\n    reduce(\n      rule!AS_CO_UT_zINTERNAL_updateCdtFieldsByPathComplex_handler(\n        cdt: _,\n        fieldValuePair: _\n      ),\n      ri!cdt,\n      a!flatten(ri!fieldValuePairs)\n    )\n  )\n)"
    },
    "_a-0000e828-e408-8000-9bf9-011c48011c48_2575639": {
      "name": "AS_GCM_ADT_BL_auditConfig_ClauseSetContractTypesHelper",
      "type": "Expression Rule",
      "sail_code": "{\n  fieldName: \"contractTypes\",\n  auditFieldName: \"contractTypeChanges\",\n  idField: \"mappingId\",\n  foreignIdField: \"setId\",\n  simpleFields: {},\n  complexFields: {}\n}"
    },
    "_a-0000e63a-a5cb-8000-9bc6-011c48011c48_1234027": {
      "name": "AS_GCM_ADT_BL_auditConfig_ClauseSet",
      "type": "Expression Rule",
      "sail_code": "{\n  fieldName: \"\",\n  auditFieldName: \"\",\n  idField: \"setId\",\n  simpleFields: {\n    \"refType.refDataId\",\n    \"refCategory.refDataId\",\n    \"setNumber\",\n    \"categoryNumber\",\n    \"contractingOfficer\",\n    \"contractSpecialist\",\n    \"contractingOffcrRep\",\n    \"refContractMethod.refDataId\",\n    \"refContractFormat.refDataId\",\n    \"contractStartDate\",\n    \"contractEndDate\",\n    \"estimatedDollarAmt\",\n    \"pscCode\",\n    \"naicsCode\",\n    \"contractAmountCheck\",\n    \"refFlowdown.refDataId\",\n    \"placeOfIssuance\",\n    \"placeOfPerformance\",\n    \"contractPurposeDetail\",\n    \"refStatus.refDataId\",\n    \"isExistingVehicle\",\n    \"questionnaire.questionnaireTemplateId\",\n    \"clauseSetTemplate.refTemplate.templateId\",\n    \"folderId\",\n    \"office365FolderId\",\n    \"isActive\",\n    \"validationStatus\",\n    \"solicitationId\",\n    \"awardId\"\n  },\n  complexFields: {\n    rule!AS_GCM_ADT_BL_auditConfig_ClauseSetClauseHelper(),\n    rule!AS_GCM_ADT_BL_auditConfig_ClauseSetContractTypesHelper()\n  }\n}"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_165782-adt": {
      "name": "AS_ADT_UT_calculateAudit_MultipleObjects",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Get the distinct IDs*/\n  local!distinctIds: rule!AS_CO_UT_distinct(\n    tointeger(\n      {\n        index(\n          ri!originalObjects,\n          ri!auditConfig.idField,\n          {}\n        ),\n        index(\n          ri!newObjects,\n          ri!auditConfig.idField,\n          {}\n        )\n      }\n    )\n  ),\n  if(\n    rule!AS_CO_UT_isBlank(local!distinctIds),\n    {},\n    /*This flatten converts to a list of dictionary, which prevents odd behavior in the parent*/\n    a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!distinctIds,\n        expression: a!flatten(\n          rule!AS_ADT_UT_calculateAudit_SingleObject(\n            originalObject: index(\n              rule!AS_CO_UT_filterCdtByField(\n                cdt: ri!originalObjects,\n                field: ri!auditConfig.idField,\n                value: fv!item\n              ),\n              1,\n              {}\n            ),\n            newObject: index(\n              rule!AS_CO_UT_filterCdtByField(\n                cdt: ri!newObjects,\n                field: ri!auditConfig.idField,\n                value: fv!item\n              ),\n              1,\n              {}\n            ),\n            auditConfig: ri!auditConfig,\n            username: ri!username,\n            externalAction: ri!externalAction,\n            auditType: ri!auditType\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000eae2-5167-8000-9ce4-011c48011c48_8879314": {
      "name": "AS_GAM_returnCdtOrRecordIndicesByField",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_whereContains(\n  values: ri!value,\n  array: if(\n    /*Checking if the data is of type record*/\n    rule!AS_CO_UT_isRecordTypeData(data: ri!cdtOrRecord),\n    index(\n      a!flatten(ri!cdtOrRecord),\n      ri!field,\n      null\n    ),\n    /*Using indexPath to index the data since its not record type data   */\n    rule!AS_CO_UT_indexPath(\n      cdt: a!flatten(ri!cdtOrRecord),\n      field: ri!field,\n      indexDefault: null\n    )\n  )\n)"
    },
    "_a-0000e415-3035-8000-9bb2-011c48011c48_291236": {
      "name": "AS_CO_UT_zINTERNAL_returnCdtFields_handler",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text?list',\n  with(\n    local!blankCdt: rule!AS_CO_UT_returnSingleTypeObject(\n      type: ri!type,\n      typeOf: ri!typeOf\n    ),\n    split(\n      extract(\n        substitute(\n          tostring(\n            local!blankCdt\n          ),\n          \"[Document:]\",\n          \"\"\n        ),\n        \"[\",\n        \"=]\"\n      ),\n      \"=, \"\n    )\n  )\n)"
    },
    "_a-0000ee54-fb4d-8000-9e2f-011c48011c48_16657115": {
      "name": "AS_GCM_FormatStyledTextEditorValue",
      "type": "Expression Rule",
      "sail_code": "if(\n  ri!returnPluginFormat,\n  /*Removing redundant paragraph tags/line breaks introduced by the styledTextEditorField and handling appropriate formatting tags*/\n  regexreplaceall(\n    \"<p>|</p>\",\n    tostring(\n      reduce(\n        fn!substitute,\n        ri!value,\n        merge(\n          { \"</p><p>\", \"<s>\", \"</s>\" },\n          { \"<br>\", \"<strike>\", \"</strike>\" }\n        )\n      )\n    ),\n    \"\"\n  ),\n  reduce(\n    fn!substitute,\n    ri!value,\n    merge(\n      { \"<strike>\", \"</strike>\" },\n      { \"<s>\", \"</s>\" }\n    )\n  )\n)"
    },
    "_a-0000e3ff-a5bc-8000-9ba8-011c48011c48_41232": {
      "name": "AS_CO_UT_displayValueMultiple",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    rule!AS_CO_UT_booleanDefaultFalse(ri!firstIsDefault),\n    rule!AS_CO_UT_booleanDefaultFalse(ri!lastIsDefault)\n  ),\n  fn!error(\n    \"firstIsDefault and lastIsDefault cannot both be true\"\n  ),\n  if(\n    and(\n      or(ri!firstIsDefault, ri!lastIsDefault),\n      rule!AS_CO_UT_isNotBlank(ri!customDefaults)\n    ),\n    fn!error(\n      \"customDefault will never be used and should not be passed when either firstIsDefault or lastIsDefault is true\"\n    ),\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!values,\n      expression: rule!AS_CO_UT_displayValue(\n        value: fv!item,\n        inArray: ri!inArray,\n        replacement: ri!replacement,\n        firstIsDefault: ri!firstIsDefault,\n        lastIsDefault: ri!lastIsDefault,\n        customDefault: index(ri!customDefaults, fv!index, null)\n      )\n    )\n  )\n)"
    },
    "_a-0000e643-f7f1-8000-9bca-011c48011c48_1270237": {
      "name": "AS_GCM_QE_getClauseSetClauseDetails",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryEntity(\n  sort: ri!sort,\n  entity: cons!AS_GCM_ENT_CLAUSE_SET_CLAUSE,\n  entityType: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_Clause',\n  returnType: ri!returnType,\n  executeWhen: and(\n    ri!executeWhen,\n    or(\n      any(\n        rule!AS_CO_UT_isNotBlank(_),\n        {\n          ri!additionalFilters,\n          ri!logicalExpression,\n          ri!aggregation\n        }\n      ),\n      rule!AS_CO_UT_isNotBlank(ri!setId),\n      rule!AS_CO_UT_isNotBlank(ri!relationId)\n    )\n  ),\n  /* To ensure proper null checks, we'll force all queryFilter values to not be null */\n  logicalExpression: ri!logicalExpression,\n  pagingInfo: ri!pagingInfo,\n  batchSize: ri!batchSize,\n  triggerRefresh: ri!triggerRefresh,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"relationId\",\n      operator: \"in\",\n      value: ri!relationId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"setId\",\n      operator: \"=\",\n      value: ri!setId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"isActive\",\n      operator: \"=\",\n      value: true,\n      applywhen: ri!showInactive <> true()\n    ),\n    ri!additionalFilters\n  },\n  aggregation: ri!aggregation\n)"
    },
    "_a-0000ec34-8724-8000-9d8b-011c48011c48_12668370": {
      "name": "AS_GCM_extractFillinMetadataFromClauseText",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(value: ri!clauseText),\n  { fillins: { metadata: {}, stats: {} } },\n  a!localVariables(\n    local!hiddenTag: regexfirstmatch(\n      cons!AS_GCM_TXT_REGEX_FOR_HIDDEN_SPAN_TAG_FILLIN_METADATA,\n      ri!clauseText,\n      \"gm\"\n    ),\n    local!formattedText: if(\n      a!isNotNullOrEmpty(local!hiddenTag),\n      striphtml(local!hiddenTag),\n      \"\"\n    ),\n    if(\n      and(\n        a!isNotNullOrEmpty(value: local!formattedText),\n        isvalidjson(local!formattedText)\n      ),\n      #\"SYSTEM_SYSRULES_fromJson_v1\"(local!formattedText),\n      { fillins: { metadata: {}, stats: {} } }\n    )\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_161361-adt": {
      "name": "AS_ADT_UT_calculateAudit",
      "type": "Expression Rule",
      "sail_code": "rule!AS_ADT_UT_calculateAudit_MultipleObjects(\n  originalObjects: ri!originalObjects,\n  newObjects: ri!newObjects,\n  auditConfig: ri!auditConfig,\n  username: ri!username,\n  externalAction: ri!externalAction,\n  auditType: ri!auditType\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73624": {
      "name": "AS_CO_UT_compare",
      "type": "Expression Rule",
      "sail_code": "/*Do a \"fuzzy\" comparison where all we care about is the data*/\n/*This will match a list of variant/dictionary/cdt if their fields have the same values*/\ncast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  tostring(ri!value1) = tostring(ri!value2)\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_162769": {
      "name": "AS_CO_UT_typeCompare",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  typeof(ri!value1) = typeof(ri!value2)\n)"
    },
    "_a-0000e915-02bc-8000-9c1f-011c48011c48_3773120": {
      "name": "AS_GCM_substituteListFromTextUsingReduce",
      "type": "Expression Rule",
      "sail_code": "/*This rule with replace all texts in ri!find with \"\" if null is passed to ri!replaceWith\n  If null is passed to ri!instanceNum then only the first instance of ri!find will be replaced \n*/\nif(\n  rule!AS_CO_UT_isBlank(ri!find),\n  ri!text,\n  reduce(\n    fn!substitute,\n    ri!text,\n    if(\n      ri!replaceAllInstances = true(),\n      merge(\n        ri!find,\n        a!defaultValue(\n          value: ri!replaceWith,\n          default: repeat(length(ri!find), \"\")\n        )\n      ),\n      merge(\n        ri!find,\n        a!defaultValue(\n          value: ri!replaceWith,\n          default: repeat(length(ri!find), \"\")\n        ),\n        a!defaultValue(\n          value: ri!instanceNum,\n          default: repeat(length(ri!find), 1)\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e915-02bc-8000-9c1f-011c48011c48_3772662": {
      "name": "AS_GCM_UT_removeHightlightTags",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!clauseText),\n  \"\",\n  a!localVariables(\n    /*To get the balanced highlight tag from the clause text */\n    local!highlightText: rule!AS_GCM_extractBalancedTagThatHasGivenText(\n      text: ri!clauseText,\n      uniqueTextInTag: \"background-color:\"\n    ),\n    /* To fetch the background-color form the highlight tag */\n    local!highlightPropertyArray: regexallmatches(\n      \"background-color:(.*?);(\" & char(32) & \")?\",\n      joinarray(local!highlightText, \"\"),\n      \"gms\"\n    ),\n    /* Removing the hightlights from the tag like <span hidden> with cite tag, <span> and with other style formatting*/\n    local!removeHighlights: #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!highlightText,\n      expression: concat(\n        a!localVariables(\n          local!split: split(\n            substitute(\n              fv!item,\n              local!highlightPropertyArray[fv!index],\n              \"\"\n            ),\n            \"</\"\n          ),\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!split,\n            expression: if(\n              fv!isFirst,\n              regexreplaceall(\n                \"(<span style=\"\"\"\">| style=\"\"\"\")\",\n                fv!item,\n                \"\"\n              ),\n              and(\n                fv!isLast,\n                find(\"<span style=\"\"\"\">\", local!split[1])\n              ),\n              substitute(fv!item, \"span>\", \"\"),\n              \"</\" & fv!item\n            )\n          )\n        )\n      )\n    ),\n    /* Substitue the removed highlight tag text with the cluase text using reduce */\n    regexreplaceall(\n      cons!AS_GCM_TXT_REGEX_FOR_HIDDEN_SPAN_TAG_HAVING_CLASS_PARAMETER,\n      rule!AS_GCM_substituteListFromTextUsingReduce(\n        text: ri!clauseText,\n        find: local!highlightText,\n        replaceWith: local!removeHighlights\n      ),\n      \"\"\n    )\n  )\n)"
    },
    "_a-0000e615-fd0f-8000-9bc1-011c48011c48_1163967": {
      "name": "AS_GCM_DSP_clauseRecordTitle",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isNotBlank(ri!clauseTitle),\n  a!localVariables(\n    local!clauseTitle: if(\n      rule!AS_CO_UT_isBlank(ri!clauseTitleLength),\n      ri!clauseTitle,\n      rule!AS_CO_UT_left(\n        text: ri!clauseTitle,\n        numChars: ri!clauseTitleLength\n      ) & if(\n        len(ri!clauseTitle) > ri!clauseTitleLength,\n        \"...\",\n        null\n      )\n    ),\n    joinarray(\n      rule!AS_CO_UT_rejectNullValuesFromArray(\n        {\n          ri!clauseNumber,\n          local!clauseTitle,\n          if(\n            rule!AS_CO_UT_isBlank(ri!alternateValue),\n            null,\n            concat(\n              cons!AS_GCM_CLAUSE_TITLE_ALTERNATE,\n              char(32),\n              ri!alternateValue\n            )\n          ),\n          if(\n            rule!AS_CO_UT_booleanDefaultFalse(ri!deviation),\n            cons!AS_GCM_CLAUSE_TITLE_DEVIATION,\n            null\n          )\n        }\n      ),\n      \" | \"\n    )\n  ),\n  ri!clauseNumber\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76162": {
      "name": "AS_CO_UT_returnLastIndexOfArray",
      "type": "Expression Rule",
      "sail_code": "index(\n  ri!array,\n  count(ri!array),\n  rule!AS_CO_UT_returnSingleTypeObject(\n    typeOf: ri!array\n  )\n)"
    },
    "_a-0000e79a-fc04-8000-9bf4-011c48011c48_2308891": {
      "name": "AS_GCM_UT_capitalizeFirstLetter",
      "type": "Expression Rule",
      "sail_code": "/*This Rule capitalizes the first letter of the text which is passed \nif the first ever character is a number it will leave the text unmodified*/\nif(\n  a!isNotNullOrEmpty(ri!text),\n  a!localVariables(\n    /*Searching the string till the first letter is identified*/\n    local!searchResult: index(\n      rule!AS_GCM_UT_regexsearch(\n        pattern: \"(.*?)[a-zA-Z0-9]\",\n        searchString: striphtml(ri!text),\n        regexFlag: \"s\"\n      ),\n      1,\n      null()\n    ),\n    if(\n      a!isNullOrEmpty(local!searchResult),\n      striphtml(ri!text),\n      replace(\n        striphtml(ri!text),\n        local!searchResult.endPosition,\n        1,\n        upper(\n          charat(\n            local!searchResult.match,\n            local!searchResult.endPosition\n          )\n        )\n      )\n    )\n  ),\n  null\n)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1548756": {
      "name": "AS_GCM_UT_clauseSetClauseStartAuditProcess_Parameters",
      "type": "Expression Rule",
      "sail_code": "rule!AS_ADT_UT_startAuditProcess_Parameters(\n  originalObjects: rule!AS_GCM_BL_constructHelperForClauseSetClauseAndClauseText(\n    clauses: ri!originalClauses,\n    clauseTexts: ri!originalClauseTexts\n  ),\n  newObjects: rule!AS_GCM_BL_constructHelperForClauseSetClauseAndClauseText(\n    clauses: ri!clauses,\n    clauseTexts: ri!clauseTexts\n  ),\n  objectType: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_Clause_Helper',\n  auditDse: cons!AS_GCM_ENT_A_R_CLAUSE_SET,\n  auditConfig: rule!AS_GCM_ADT_BL_auditConfig_ClauseSet(),\n  /*Audit type - Manipulation as we capture the audit of clause nested under ClauseSet*/\n  auditType: cons!AS_GAM_ADT_TXT_AUDIT_TYPE_MANIPULATION,\n  externalAction: rule!AS_CO_UT_replaceNull(\n    nullableValue: ri!externalAction,\n    replacementValue: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY\n  ),\n  complexFieldName: \"clausesChanges\",\n  username: ri!initiator\n).auditParams"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_161958-adt": {
      "name": "AS_ADT_UT_determineAuditActionCode",
      "type": "Expression Rule",
      "sail_code": "choose(\n  where(\n    {\n      rule!AS_CO_UT_isNotBlank(ri!externalAction),\n      rule!AS_CO_UT_isBlank(index(ri!originalObject, ri!auditConfig.idField, null)),\n      rule!AS_CO_UT_isBlank(index(ri!newObject, ri!auditConfig.idField, null)),\n      toboolean(index(ri!originalObject, \"isActive\", 1)) = toboolean(index(ri!newObject, \"isActive\", 1)),\n      toboolean(index(ri!originalObject, \"isActive\", false)),\n      toboolean(index(ri!newObject, \"isActive\", true))\n    }\n  )[1],\n  ri!externalAction,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_ADD,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DELETE,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DEACTIVATE,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_REACTIVATE\n)"
    },
    "_a-0000e3ff-a5bc-8000-9ba8-011c48011c48_39610": {
      "name": "AS_CO_UT_returnArrayTypeNumber",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer',\n  typeof(\n    a!flatten(\n      rule!AS_CO_UT_cast(\n        type: ri!type,\n        typeOf: ri!typeOf,\n        value: null\n      )\n    )\n  )\n)"
    },
    "_a-0000e69a-ff03-8000-9bd0-011c48011c48_1619315": {
      "name": "AS_GCM_setMetaDataForClauseSetClauseTextCdt",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_cast(\n  typeOf: ri!clauseSetClauseTexts,\n  value: #\"SYSTEM_SYSRULES_forEach\"(\n    items: merge(\n      a!defaultValue(\n        value: ri!clauseSetClauseTexts,\n        default: {}\n      ),\n      a!defaultValue(value: ri!clauseSetClauses, default: {})\n    ),\n    expression: rule!AS_GCM_setRecordFields(\n      record: a!defaultValue(\n        fv!item[1],\n        'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_Clause_Text'()\n      ),\n      neverOverwrite: {\n        a!map(field: \"createdBy\", value: ri!initiator),\n        a!map(field: \"createdDatetime\", value: now()),\n        a!map(field: \"isActive\", value: true),\n        a!map(\n          field: \"relationId\",\n          value: index(fv!item[2], \"relationId\", null)\n        ),\n        a!map(field: \"setId\", value: ri!clauseSet.setId)\n      },\n      alwaysOverwrite: a!localVariables(\n        local!refClauseText: tostring(\n          index(\n            rule!AS_GCM_filterRecords(\n              records: ri!refClauseTexts,\n              field: \"clauseId\",\n              value: tointeger(\n                rule!AS_CO_UT_indexPath(\n                  cdt: fv!item[2],\n                  field: \"refClause.clauseId\",\n                  indexDefault: null\n                )\n              )\n            ),\n            \"clauseText\",\n            \"\"\n          )\n        ),\n        local!clauseText: if(\n          ri!preventClauseTextReset,\n          fv!item[1].clauseText,\n          a!defaultValue(\n          value: rule!AS_GCM_autoPopulateFillinandSetMetaDataOnClauseAddition(\n            bundle: ri!bundle,\n            clauseText: local!refClauseText,\n            clauseSet: ri!clauseSet,\n            isUpdateClauseText: true()\n          ),\n          default: fv!item[1].clauseText\n          )\n        ),\n        local!clauseTextOriginal: if(\n          ri!preventClauseTextReset,\n          fv!item[1].clauseTextOriginal,\n          a!defaultValue(\n            value: local!refClauseText,\n            default: fv!item[1].clauseTextOriginal\n          )\n        ),\n        {\n          a!map(field: \"modifiedBy\", value: ri!initiator),\n          a!map(field: \"modifiedDatetime\", value: now()),\n          a!map(\n            field: \"clauseText\",\n            value: local!clauseText\n          ),\n          a!map(\n            field: \"clauseTextOriginal\",\n            value: local!clauseTextOriginal\n          ),\n          a!map(\n            field: \"clauseTextLength\",\n            value: len(local!clauseText)\n          ),\n          a!map(\n            field: \"clauseTextOriginalLength\",\n            value: len(local!clauseTextOriginal)\n          )\n        }\n      )\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75660": {
      "name": "AS_CO_UT_returnCdtFields",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text?list',\n  with(\n    local!cdtFields: rule!AS_CO_UT_zINTERNAL_returnCdtFields_handler(\n      type: ri!type,\n      typeOf: ri!typeOf\n    ),\n    \n    if(\n      ri!onlyPrimitiveFields,\n      filter(\n        rule!AS_CO_UT_zINTERNAL_returnCdtFields_primitiveTypeCheckHandler(\n          singleType: rule!AS_CO_UT_returnSingleTypeObject(\n            type: ri!type,\n            typeOf: ri!typeOf\n          ),\n          field: _\n        ),\n        local!cdtFields\n      ),\n      ri!onlyComplexFields,\n      reject(\n        rule!AS_CO_UT_zINTERNAL_returnCdtFields_primitiveTypeCheckHandler(\n          singleType: rule!AS_CO_UT_returnSingleTypeObject(\n            type: ri!type,\n            typeOf: ri!typeOf\n          ),\n          field: _\n        ),\n        local!cdtFields\n      ),\n      local!cdtFields\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75782": {
      "name": "AS_CO_UT_isNotBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  not(rule!AS_CO_UT_isBlank(ri!input))\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_1021202": {
      "name": "AS_GAM_UT_ArrayLength",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!array),\n  0,\n  length(ri!array)\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_958752": {
      "name": "AS_GAM_ADT_UT_buildAuditEntityData",
      "type": "Expression Rule",
      "sail_code": "if(\n  /*Action only audit*/\n  ri!auditParams.auditType = cons!AS_GAM_ADT_TXT_AUDIT_TYPE_ACTION_ONLY,\n  rule!AS_GAM_ADT_UT_constructActionOnlyAuditData(\n    initiator: ri!initiator,\n    auditParams: ri!auditParams\n  ),\n  /*Manipulation Audit*/\n  if(\n    ri!auditParams.auditType = cons!AS_GAM_ADT_TXT_AUDIT_TYPE_MANIPULATION,\n    rule!AS_GAM_ADT_UT_constructManipulatedAuditData(\n      initiator: ri!initiator,\n      auditParams: ri!auditParams\n    ),\n    /*Generic field level audit*/\n    rule!AS_GAM_ADT_UT_buildFieldLevelAuditEntityData(auditParams: ri!auditParams)\n  )\n)"
    },
    "_a-0000e3ff-a5bc-8000-9ba8-011c48011c48_39070": {
      "name": "AS_CO_UT_booleanDefaultFalse",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  if(\n    isnull(ri!boolean),\n    false,\n    ri!boolean\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73568": {
      "name": "AS_CO_UT_getLabelPosition",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  rule!AS_CO_UT_replaceNull(\n    nullableValue: ri!labelPosition,\n    replacementValue: if(\n      rule!AS_CO_UT_isBlank(ri!label),\n      \"COLLAPSED\",\n      if(ri!readOnly, \"ADJACENT\", \"ABOVE\")\n    )\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_269546": {
      "name": "AS_CO_UT_returnCdtIndicesByField",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Integer?list',\n  rule!AS_CO_UT_whereContains(\n    values: ri!value,\n    array: rule!AS_CO_UT_indexPath(\n      cdt: a!flatten(ri!cdt),\n      field: ri!field,\n      indexDefault: null\n    )\n  )\n)"
    },
    "_a-0000e915-02bc-8000-9c1f-011c48011c48_3777459": {
      "name": "AS_GCM_generateOrRetainClassParameterInHighlightOrCiteTag",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!highlightTag),\n  \"\",\n  a!localVariables(\n    local!uuidAndfillinTypeMap: rule!AS_GCM_extractUuidAndFillinTypeFromClassParameter(citeOrHighlightTag: ri!highlightTag),\n    local!classParameter: rule!AS_GCM_UT_generateCiteTagForFillins(\n      clauseNumber: ri!clauseNumber,\n      uuid: index(local!uuidAndfillinTypeMap, \"uuid\", null),\n      fillinType: index(\n        local!uuidAndfillinTypeMap,\n        \"fillinType\",\n        null\n      ),\n      getOnlyClass: true()\n    ),\n    if(\n      find(\"class=\", ri!highlightTag) <> 0,\n      regexreplaceall(\n        \"class=\"\"(.*?)\"\"\",\n        ri!highlightTag,\n        /* Escaping $ as it represents a group during regex replace  */\n        substitute(local!classParameter, \"$\", \"\\$\")\n      ),\n      a!localVariables(\n        local!openingTag: regexfirstmatch(\"^<(.*?)>\", ri!highlightTag),\n        concat(\n          local!openingTag,\n          \"<span hidden=\"\"\"\">\" & local!classParameter & \"</span>\" & substitute(ri!highlightTag, local!openingTag, \"\")\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e5bc-4a9a-8000-9bbc-011c48011c48_936866": {
      "name": "AS_GAM_ADT_UT_constructManipulatedAuditData",
      "type": "Expression Rule",
      "sail_code": "/* This rule is used to construct the manipulated audit data*/\n/*The manipulated audit data can be multiple. We are constructing the audit data for each manipulationAudit in auditParams*/\nif(\n  rule!AS_CO_UT_isNotBlank(ri!auditParams.complexFieldName),\n  /*When the audit is captured as nested even when the concerned object cdts are not nested \n    Eg: AS_GSS_Evaluation and AS_GSS_EvaluationDocume nt are not nested but AS_GSS_A_R_Evaluation and AS_GSS_A_R_EvaluationDocument are nested*/\n  rule!AS_GAM_ADT_UT_constructFieldChangesDictionaryForManipulatedAudit(\n    initiator: ri!initiator,\n    auditParams: ri!auditParams\n  ),\n  /*If the audit data is not nested and is manipulated and passed from outsite, we can directly construct the audit entry for each ri!auditParams.manipulationAudit*/\n  rule!AS_GAM_ADT_UT_constructDynamicDictionaryForManipulatedAudit(\n    initiator: ri!initiator,\n    auditParams: ri!auditParams\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75618": {
      "name": "AS_CO_UT_left",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  if(\n    rule!AS_CO_UT_isBlank(ri!text),\n    \"\",\n    left(\n      ri!text,\n      rule!AS_CO_UT_replaceNull(nullableValue: ri!numChars, replacementValue: len(ri!text))\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73562": {
      "name": "AS_CO_INP_textField",
      "type": "Interface",
      "sail_code": "if(\n  ri!readOnly,\n  rule!AS_CO_DSP_standardReadOnlyField(\n    label: ri!label,\n    instructions: ri!instructions,\n    value: ri!value,\n    labelPosition: ri!labelPosition,\n    helpTooltip: ri!helpTooltip,\n    showWhen: ri!showWhen,\n    accessibilityText: ri!accessibilityText,\n    align: ri!align\n  ),\n  #\"SYSTEM_SYSRULES_textField\"(\n    label: ri!label,\n    labelPosition: rule!AS_CO_UT_getLabelPosition(\n      label: ri!label,\n      labelPosition: ri!labelPosition,\n      readOnly: false\n    ),\n    instructions: ri!instructions,\n    helpTooltip: ri!helpTooltip,\n    placeholder: ri!placeholder,\n    value: ri!value,\n    /* We are using nested saveIntos to automatically perform a trim on any value */\n    /* before executing the actual saves */\n    /* Saves can be nested in this format to allow for better reusability */\n    saveInto: a!save(ri!saveInto, trim(save!value)),\n    showWhen: ri!showWhen,\n    required: if(ri!readOnly, false, ri!required),\n    /* Updated requiredMessage parameter to show default validation text*/\n    requiredMessage: rule!AS_CO_UT_displayRequiredMessage(\n      label: ri!label,\n      requiredMessage: ri!requiredMessage\n    ),\n    readOnly: ri!readOnly,\n    disabled: ri!disabled,\n    masked: ri!masked,\n    validations: if(\n      ri!readOnly,\n      {},\n      a!flatten(\n        {\n          ri!validations,\n          rule!AS_CO_VD_textValidation(value: ri!value, maxLength: ri!maxLength)\n        }\n      )\n    ),\n    validationGroup: ri!validationGroup,\n    align: ri!align,\n    accessibilitytext: ri!accessibilityText,\n    refreshAfter: ri!refreshAfter,\n    characterLimit: ri!characterLimit,\n    showCharacterCount: ri!showCharacterCount,\n    inputPurpose: ri!inputPurpose\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73856": {
      "name": "AS_CO_UT_dynamicDictionary",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n    cdt: rule!AS_CO_UT_returnNullDictionary(),\n    fieldValuePairs: ri!fieldValuePairs\n  )\n)"
    },
    "_a-0000ec23-71a9-8000-9d82-011c48011c48_12494095": {
      "name": "AS_GCM_replaceHighlightTagWithCiteTag",
      "type": "Expression Rule",
      "sail_code": "if(\n  ri!isRemoveCiteFromTables,\n  regexreplaceall(\n    cons!AS_GCM_TXT_REGEX_FOR_HIDDEN_SPAN_TAG_HAVING_CLASS_PARAMETER,\n    /* Removing the highlight tag within Table */\n    rule!AS_GCM_UT_removeCiteAndHighlightTagWithinTables(\n      /* Replacing the highlight tag with cite tag */\n      clauseText: rule!AS_GCM_substituteListFromTextUsingReduce(\n        text: ri!clauseText,\n        find: ri!highlightTagText,\n        replaceWith: ri!citeTagText\n      ),\n      revertIgnoredCitetags: true\n    ),\n    \"\"\n  ),\n  regexreplaceall(\n    cons!AS_GCM_TXT_REGEX_FOR_HIDDEN_SPAN_TAG_HAVING_CLASS_PARAMETER,\n    /* Removing the highlight tag within Table */\n    rule!AS_GCM_substituteListFromTextUsingReduce(\n      text: ri!clauseText,\n      find: ri!highlightTagText,\n      replaceWith: ri!citeTagText\n    ),\n    \"\"\n  )\n)"
    },
    "_a-0000eb44-a528-8000-9d15-011c48011c48_9978504": {
      "name": "AS_CO_UT_displayRequiredMessage",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNotNullOrEmpty(\n    ri!label\n  ),\n  a!defaultValue(\n    value: ri!requiredMessage,\n    default: rule!AS_CO_UT_displayCommonObjectBundleLabel(\n      bundleKey: \"AS.CO.CommonObjects.vld_RequiredMessage\",\n      arguments: stripwith(ri!label, \"*\")\n    )\n  ),\n  ri!requiredMessage\n)"
    },
    "_a-0000e79a-fc04-8000-9bf4-011c48011c48_2332232": {
      "name": "AS_GCM_MTR_SAVE_saveAsDraftcompleteFillIns",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(local!temp, a!save(local!temp, {}))"
    },
    "_a-0000e415-3035-8000-9bb2-011c48011c48_291284": {
      "name": "AS_CO_CONS_PRIMITIVE_TYPE_ARRAY",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Type?list',\n  {\n    /* 1*/ 'type!{http://www.appian.com/ae/types/2009}Text',\n    /* 2*/ 'type!{http://www.appian.com/ae/types/2009}Integer',\n    /* 3*/ 'type!{http://www.appian.com/ae/types/2009}Decimal',\n    /* 4*/ 'type!{http://www.appian.com/ae/types/2009}Boolean',\n    /* 5*/ 'type!{http://www.appian.com/ae/types/2009}Date',\n    /* 6*/ 'type!{http://www.appian.com/ae/types/2009}Datetime',\n    /* 7*/ 'type!{http://www.appian.com/ae/types/2009}Time',\n    /* 8*/ 'type!{http://www.appian.com/ae/types/2009}User',\n    /* 9*/ 'type!{http://www.appian.com/ae/types/2009}Group',\n    /*10*/ 'type!{http://www.appian.com/ae/types/2009}UserOrGroup',\n    /*11*/ 'type!{http://www.appian.com/ae/types/2009}Document',\n    /*12*/ 'type!{http://www.appian.com/ae/types/2009}Folder',\n  }\n)"
    },
    "_a-0000e9e2-fe39-8000-9c72-011c48011c48_5802259": {
      "name": "AS_GAM_filterCdtOrRecordDataByField",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdtOrRecord),\n  index(\n    a!flatten(ri!cdtOrRecord),\n    rule!AS_GAM_returnCdtOrRecordIndicesByField(\n      cdtOrRecord: ri!cdtOrRecord,\n      field: ri!field,\n      value: ri!value\n    ),\n    {}\n  )\n)"
    }
  }
}
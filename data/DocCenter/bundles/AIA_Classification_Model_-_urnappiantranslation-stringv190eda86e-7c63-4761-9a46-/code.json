{
  "_metadata": {
    "bundle_id": "AIA_Classification_Model_-_urnappiantranslation-stringv190eda86e-7c63-4761-9a46-"
  },
  "objects": {
    "_a-0000ed69-99d8-8000-9ba6-011c48011c48_32586": {
      "name": "AIA_ClassificationModel_Sub_ModelDetails",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!classificationKey: rule!AIA_Classification_GetModelByKey(\n    key: ri!classificationModel[recordType!AIA Classification Model.key]\n  ),\n  local!keyBeforeUpdate: a!refreshVariable(\n    value: ri!classificationModel[recordType!AIA Classification Model.key],\n    refreshOnReferencedVarChange: false()\n  ),\n  {\n    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n      items: {\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          width: \"3X\",\n          item: #\"SYSTEM_SYSRULES_textField\"(\n            label: #\"urn:appian:translation-string:v1:1d2ee947-3116-4cca-8a1f-26fe5bcc2914\",\n            labelPosition: \"ABOVE\",\n            value: ri!classificationModel[recordType!AIA Classification Model.name],\n            saveInto: {\n              a!save(\n                ri!classificationModel[recordType!AIA Classification Model.name],\n                if(\n                  a!isNullOrEmpty(save!value),\n                  save!value,\n                  trim(save!value)\n                )\n              ),\n              if(\n                a!defaultValue(ri!isUpdate, false),\n                {},\n                a!save(\n                  ri!classificationModel[recordType!AIA Classification Model.key],\n                  rule!SHRD_ReformatLabelAsKey(\n                    label: ri!classificationModel[recordType!AIA Classification Model.name]\n                  )\n                )\n              )\n            },\n            validations: if(\n              and(\n                ri!isUpdate,\n                local!keyBeforeUpdate = ri!classificationModel[recordType!AIA Classification Model.key]\n              ),\n              null,\n              if(\n                a!isNotNullOrEmpty(local!classificationKey),\n                \"Model key must be unique\",\n                null\n              )\n            ),\n            characterLimit: 100,\n            required: true,\n            showCharacterCount: false\n          ),\n\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          width: \"1X\",\n          item: #\"SYSTEM_SYSRULES_textField\"(\n            label: #\"urn:appian:translation-string:v1:2b3a2e79-0b85-4b52-bbf6-b2e8d08f1447\",\n            readOnly: true,\n            value: if(\n              a!isNotNullOrEmpty(\n                ri!classificationModel[recordType!AIA Classification Model.key]\n              ),\n              ri!classificationModel[recordType!AIA Classification Model.key],\n              \"-\"\n            ),\n\n          ),\n\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_paragraphField\"(\n      label: #\"urn:appian:translation-string:v1:be96096c-d32a-4708-a91d-b5dda4f2f30c\",\n      labelPosition: \"ABOVE\",\n      value: ri!classificationModel[recordType!AIA Classification Model.description],\n      saveInto: ri!classificationModel[recordType!AIA Classification Model.description],\n      characterLimit: 255,\n      height: \"SHORT\",\n      required: false,\n      showCharacterCount: false\n    )\n  }\n)"
    },
    "_a-0000ec5c-9eda-8000-9bec-011c48011c48_119454": {
      "name": "AIA_Classification_GetModelByKey",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!key),\n  null,\n  #\"SYSTEM_SYSRULES_queryRecordType_v1\"(\n    recordType: recordType!AIA Classification Model,\n    filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AIA Classification Model.key,\n      operator: \"includes\",\n      value: ri!key\n    ),\n    pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n      1,\n      1\n    )\n  ).data\n)"
    },
    "63865ec9-036c-4a78-95da-14724bbd5a71": {
      "name": "AIA_ClassificationModel_RecordAction_UpdateModel",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_formLayout_v1\"(\n  label: #\"urn:appian:translation-string:v1:90eda86e-7c63-4761-9a46-214dfa85e4a2\",\n  contents: {\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          width: \"WIDE\",\n          contents: rule!AIA_ClassificationModel_Sub_ModelDetails(\n            isUpdate: true(),\n            classificationModel: ri!classificationModel\n          )\n\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"()\n      },\n\n    )\n  },\n  buttons: #\"SYSTEM_SYSRULES_ButtonLayout\"(\n    primaryButtons: {\n      #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n        label: #\"urn:appian:translation-string:v1:25a51cae-0560-410b-9b56-ba2b024e6364\",\n        submit: true,\n        style: \"SOLID\",\n        validate: true,\n        saveInto: {\n          a!save(\n            ri!classificationModel[recordType!AIA Classification Model.modifiedOn],\n            now()\n          ),\n          a!save(\n            ri!classificationModel[recordType!AIA Classification Model.modifiedBy],\n            loggedInUser()\n          )\n        }\n      )\n    },\n    secondaryButtons: {\n      #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n        label: #\"urn:appian:translation-string:v1:df61ccad-fe9a-4d7a-ba9a-d89b08f3467a\",\n        value: true,\n        saveInto: ri!cancel,\n        submit: true,\n        style: \"OUTLINE\",\n        validate: false\n      )\n    }\n  )\n)"
    },
    "_a-0000ec44-cb49-8000-9be6-011c48011c48_76923": {
      "name": "SHRD_ReformatLabelAsKey",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!clean: cleanwith(ri!label, \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789 \"),\n  local!words: split(local!clean, \" \"),\n  local!proper: joinarray(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!words,\n      expression: if(\n        fv!isFirst,\n        lower(fv!item),\n        proper(fv!item)\n      )\n    ),\n    \"\"\n  ),\n  local!proper\n)"
    },
    "175eb5f4-927c-4e50-8ed6-e198a14a7e70": {
      "name": "AIA Update Classification Model",
      "type": "Process Model",
      "sail_code": "// Input: ?\n=pv!classificationModel\n\n// Input: ?\n=recordType!AIA Classification Model\n\n// Output: ?\nAC!RecordsUpdated\n\n// Input: ?\na!flatten(\n  #\"SYSTEM_SYSRULES_forEach\"(\n    pv!classificationModel[recordType!AIA Classification Model.modelVersions],\n    #\"urn:appian:function:v1:a:update\"(\n      fv!item,\n      recordType!AIA Model Version Example.modelVersionId,\n      pv!classificationModel[recordType!AIA Classification Model.modelVersions.modelVersionId]\n    )\n  )\n)\n\n// Input: ?\n=recordType!AIA Model Version Example"
    }
  }
}
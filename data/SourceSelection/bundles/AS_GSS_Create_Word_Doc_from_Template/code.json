{
  "_metadata": {
    "bundle_id": "AS_GSS_Create_Word_Doc_from_Template"
  },
  "objects": {
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75782": {
      "name": "AS_CO_UT_isNotBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  not(rule!AS_CO_UT_isBlank(ri!input))\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_1103798": {
      "name": "AS_GSS_UT_constructFactorandvendorDetailsForTemplateMapping",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!factorDetails: rule!AS_GSS_QE_getEvaluationCriteria(\n    evaluationId: ri!evaluationId,\n    returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n  ),\n  local!vendorDetails: rule!AS_GSS_QE_getEvaluationVendor(\n    evaluationId: ri!evaluationId,\n    returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n  ),\n  /*Fetching only first two factor data*/\n  local!finalFactorDetails: index(\n    rule!AS_CO_UT_rejectNullValuesFromArray(\n      union(\n        local!factorDetails,\n        local!factorDetails\n      )\n    ),\n    enumerate(2) + 1,\n    null\n  ),\n  /*Fetching only first two vendor data*/\n  local!finalVendorDetails: index(\n    rule!AS_CO_UT_rejectNullValuesFromArray(\n      union(\n        local!vendorDetails.legalName,\n        local!vendorDetails.legalName\n      )\n    ),\n    enumerate(2) + 1,\n    null\n  ),\n  if(\n    /* checking if template is recommendation/consensus */\n    ri!isRecommendation,\n    {\n      /*factor 1*/\n      factor1: if(\n        rule!AS_CO_UT_isBlank(\n          local!finalFactorDetails.factorNumber[1]\n        ),\n        cons!AS_GSS_TXT_INSERT_INFO,\n        local!finalFactorDetails.factorNumber[1] & \" | \" & local!finalFactorDetails.criteriaName[1]\n      ),\n      /*factor 2*/\n      factor2: if(\n        rule!AS_CO_UT_isBlank(\n          local!finalFactorDetails.factorNumber[2]\n        ),\n        cons!AS_GSS_TXT_INSERT_INFO,\n        local!finalFactorDetails.factorNumber[2] & \" | \" & local!finalFactorDetails.criteriaName[2]\n      ),\n      /*vendorA1*/\n      vendorA1: if(\n        rule!AS_CO_UT_isBlank(local!finalVendorDetails[1]),\n        cons!AS_GSS_TXT_INSERT_INFO,\n        local!finalVendorDetails[1]\n      ),\n      /*vendorB1*/\n      vendorB1: if(\n        rule!AS_CO_UT_isBlank(local!finalVendorDetails[2]),\n        cons!AS_GSS_TXT_INSERT_INFO,\n        local!finalVendorDetails[2]\n      ),\n      /*vendorA2*/\n      vendorA2: if(\n        or(rule!AS_CO_UT_isBlank(local!finalVendorDetails[1]),rule!AS_CO_UT_isBlank(local!finalFactorDetails[2])),\n        cons!AS_GSS_TXT_INSERT_INFO,\n        local!finalVendorDetails[1]\n      ),\n      /*vendorB2*/\n      vendorB2: if(\n        or(rule!AS_CO_UT_isBlank(local!finalVendorDetails[2]),rule!AS_CO_UT_isBlank(local!finalFactorDetails[2])),\n        cons!AS_GSS_TXT_INSERT_INFO,\n        local!finalVendorDetails[2]\n      )\n    },\n    {\n      /*vendorName*/\n      /*vendorName: if(*/\n        /*rule!AS_CO_UT_isBlank(local!finalVendorDetails[1]),*/\n        /*cons!AS_GSS_TXT_INSERT_INFO,*/\n        /*local!finalVendorDetails[1]*/\n      /*),*/\n      /* GAM-2883: do not populate vendorName since there are multiple per evaluation */\n      vendorName: cons!AS_GSS_TXT_INSERT_INFO,\n      \n      /*evaluator*/\n      /*evaluator: = if(*/\n        /*rule!AS_CO_UT_isBlank(*/\n          /*local!finalFactorDetails[1].assignments*/\n        /*),*/\n        /*cons!AS_GSS_TXT_INSERT_INFO,*/\n        /*rule!AS_GAM_UT_concatUserFirstNameLastName(*/\n          /*firstName: local!finalFactorDetails[1].assignments[1].assignee.firstName,*/\n          /*lastName: local!finalFactorDetails[1].assignments[1].assignee.lastName*/\n        /*)*/\n      /*),*/\n      /* GAM-2883: do not populate evaluator since there are multiple per evaluation */\n      evaluator: cons!AS_GSS_TXT_INSERT_INFO,\n      \n      /*factornumber*/\n      /*factorNumber: = if(*/\n        /*rule!AS_CO_UT_isBlank(*/\n          /*local!finalFactorDetails[1].factorNumber*/\n        /*),*/\n        /*cons!AS_GSS_TXT_INSERT_INFO,*/\n        /*local!finalFactorDetails[1].factorNumber*/\n      /*),*/\n      /* GAM-2883: do not populate evaluator since there are multiple per evaluation */\n      factornumber: cons!AS_GSS_TXT_INSERT_INFO,\n      \n      /*chairperson*/\n      /*chairPerson: = if(*/\n        /*rule!AS_CO_UT_isBlank(*/\n          /*local!finalFactorDetails[1].criteriaChair*/\n        /*),*/\n        /*cons!AS_GSS_TXT_INSERT_INFO,*/\n        /*rule!AS_GAM_UT_concatUserFirstNameLastName(*/\n          /*firstName: local!finalFactorDetails[1].criteriaChair.firstName,*/\n          /*lastName: local!finalFactorDetails[1].criteriaChair.lastName*/\n        /*)*/\n      /*),*/\n      /* GAM-2883: do not populate chairPerson since there are multiple per evaluation */\n      chairPerson: cons!AS_GSS_TXT_INSERT_INFO,\n      \n      /* GAM-2883: do not populate finalRating since there are multiple per evaluation */\n      finalRating: cons!AS_GSS_TXT_INSERT_INFO,\n      \n      /* GAM-2883: do not populate finalComment since there are multiple per evaluation */\n      finalComment: cons!AS_GSS_TXT_INSERT_INFO,\n      \n      /*evalchief*/\n      evaluationchief: = if(\n        rule!AS_CO_UT_isBlank(\n          local!finalFactorDetails[1].evaluation.evaluationChief\n        ),\n        cons!AS_GSS_TXT_INSERT_INFO,\n        rule!AS_GAM_UT_concatUserFirstNameLastName(\n          firstName: local!finalFactorDetails[1].evaluation.evaluationChief.firstName,\n          lastName: local!finalFactorDetails[1].evaluation.evaluationChief.lastName\n        )\n      ),\n      /*CO*/\n      contractingOfficer: = if(\n        rule!AS_CO_UT_isBlank(\n          local!finalFactorDetails[1].evaluation.contractingOfficer\n        ),\n        cons!AS_GSS_TXT_INSERT_INFO,\n        rule!AS_GAM_UT_concatUserFirstNameLastName(\n          firstName: local!finalFactorDetails[1].evaluation.contractingOfficer.firstName,\n          lastName: local!finalFactorDetails[1].evaluation.contractingOfficer.lastName\n        )\n      ),\n      /*CS*/\n      contractingspecialist: = if(\n        rule!AS_CO_UT_isBlank(\n          local!finalFactorDetails[1].evaluation.contractingSpecialist\n        ),\n        cons!AS_GSS_TXT_INSERT_INFO,\n        rule!AS_GAM_UT_concatUserFirstNameLastName(\n          firstName: local!finalFactorDetails[1].evaluation.contractingSpecialist.firstName,\n          lastName: local!finalFactorDetails[1].evaluation.contractingSpecialist.lastName\n        )\n      )\n    }\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75636": {
      "name": "AS_CO_UT_not",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  not(rule!AS_CO_UT_booleanDefaultFalse(ri!input))\n)\n\n/*True returns False*/\n/*False returns True*/\n/*Null returns True*/"
    },
    "_a-0000e5bc-4a9a-8000-9bbc-011c48011c48_950289": {
      "name": "AS_GSS_QE_getEvaluationCriteria",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryEntity(\n  entity: cons!AS_GSS_ENT_CRITERIA,\n  entityType: 'type!{urn:com:appian:types:AS:GSS}AS_GSS_Criteria',\n  returnType: ri!returnType,\n  excludeNestedCdts: ri!excludeNestedCdts,\n  executeWhen: and(\n    ri!executeWhen,\n    or(\n      rule!AS_CO_UT_isNotBlank(ri!additionalFilters.value),\n      rule!AS_CO_UT_isNotBlank(ri!logicalExpression),\n      rule!AS_CO_UT_isNotBlank(ri!aggregation),\n      rule!AS_CO_UT_isNotBlank(ri!criteriaId),\n      rule!AS_CO_UT_isNotBlank(ri!parentCriteriaId),\n      rule!AS_CO_UT_isNotBlank(ri!evaluationId)\n    )\n  ),\n  /* To ensure proper null checks, we'll force all queryFilter values to not be null */\n  logicalExpression: ri!logicalExpression,\n  pagingInfo: ri!pagingInfo,\n  triggerRefresh: ri!triggerRefresh,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"criteriaId\",\n      operator: \"in\",\n      value: ri!criteriaId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"parentCriteriaId\",\n      operator: \"=\",\n      value: ri!parentCriteriaId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"evaluation.evaluationId\",\n      operator: \"in\",\n      value: ri!evaluationId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"isActive\",\n      operator: \"=\",\n      value: true,\n      applyWhen: rule!AS_CO_UT_not(ri!getActiveAndInactive = true)\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"criteriaStatus.refDataId\",\n      operator: \"<>\",\n      value: cons!AS_GSS_REF_ID_EVALUATION_STATUS_TEMP,\n      applyWhen: rule!AS_CO_UT_not(ri!getTemp = true)\n    ),\n    ri!additionalFilters\n  },\n  aggregation: ri!aggregation,\n  sort: ri!sort\n)"
    },
    "000be5ce-8854-8000-0b33-7f0000014e7a": {
      "name": "AS GSS Move Word Doc To Sharepoint and Get Document Link",
      "type": "Process Model",
      "sail_code": "// Output: ?\nrule!AS_CO_UT_updateCdtFields(\ncdt: pv!task.evaluation,\n fields : \"office365FolderId\",\n newValues :pv!office365FolderId\n)\n\n// Input: ?\n=cons!AS_GSS_TMG_ENT_TASK\n\n// Input: ?\n=pv!task\n\n// Output: ?\nAC!StoredValues\n\n// Input: ?\n=cons!AS_GSS_ENT_EVALUATION\n\n// Input: ?\n=pv!evaluation\n\n// Output: ?\nAC!StoredValues\n\n// Output: ?\npv!evaluation\n\n// Input: ?\n=rule!AS_GSS_UT_sharepointFolderName(evaluation: pv!task.evaluation)\n\n// Input: ?\n=cons!AS_GSS_SHAREPOINT_FOLDER_ID\n\n// Input: ?\n=pv!task.evaluation.evaluationId\n\n// Input: ?\n=pv!task.docUploadContext.office365DocumentId\n\n// Output: ?\nAC!Error\n\n// Output: ?\nac!Result.body.link.webUrl\n\n// Input: ?\n=pv!task.evaluation.office365FolderId\n\n// Input: ?\n=pv!tempWordDocId\n\n// Output: ?\nAC!Error\n\n// Output: ?\nac!Result.body.id"
    },
    "_a-0000e5bc-4a9a-8000-9bbc-011c48011c48_950323": {
      "name": "AS_GSS_QE_getEvaluationVendor",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryEntity(\n  entity: cons!AS_GSS_ENT_EVALUATION_VENDOR,\n  entityType: 'type!{urn:com:appian:types:AS:GSS}AS_GSS_EvaluationVendor',\n  returnType: ri!returnType,\n  executeWhen: and(\n    ri!executeWhen,\n    or(\n      any(\n        rule!AS_CO_UT_isNotBlank(_),\n        {\n          a!flatten(ri!additionalFilters.value),\n          ri!logicalExpression,\n          ri!aggregation\n        }\n      ),\n      rule!AS_CO_UT_isNotBlank(ri!vendorId),\n      rule!AS_CO_UT_isNotBlank(ri!evaluationId)\n    )\n  ),\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"vendorId\",\n      operator: \"in\",\n      value: ri!vendorId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"evaluation.evaluationId\",\n      operator: \"=\",\n      value: ri!evaluationId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"isActive\",\n      operator: \"=\",\n      value: true,\n      applyWhen: rule!AS_CO_UT_not(ri!getActiveAndInactive = true)\n    ),\n    ri!additionalFilters\n  },\n  excludeNestedCdts: ri!excludeNestedCdts,\n  logicalExpression: ri!logicalExpression,\n  pagingInfo: ri!pagingInfo,\n  triggerRefresh: ri!triggerRefresh,\n  aggregation: ri!aggregation\n)"
    },
    "_a-0000e447-9390-8000-9baa-011c48011c48_111553": {
      "name": "AS_GAM_createDocumentNameForTempWordDoc",
      "type": "Expression Rule",
      "sail_code": "if(\n  or(\n    rule!AS_CO_UT_isBlank(ri!uniqueText),\n    rule!AS_CO_UT_isBlank(ri!docName)\n  ),\n  \"Unnamed Document\",\n  trim(rule!AS_CO_UT_cleanFolderName(ri!uniqueText & \" \" & ri!docName))\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_260165": {
      "name": "AS_CO_UT_updateCdtFields",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    and(\n      rule!AS_CO_UT_isBlank(ri!cdt),\n      rule!AS_CO_UT_checkIfArrayType(\n        typeOf: ri!cdt\n      )\n    ),\n    ri!cdt,\n    reduce(\n      rule!AS_CO_UT_zINTERNAL_updateCdtFieldsByPath_handler(\n        cdt: _,\n        indices: ri!indices,\n        field: _,\n        newValue: _\n      ),\n      ri!cdt,\n      merge(\n        a!flatten(ri!fields),\n        a!flatten(ri!newValues)\n      )\n    )\n  )\n)"
    },
    "_a-0000e438-ff39-8000-9ba8-011c48011c48_14666": {
      "name": "AS_GAM_UT_concatUserFirstNameLastName",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    rule!AS_CO_UT_isBlank(\n      value: ri!firstName\n    ),\n    rule!AS_CO_UT_isBlank(\n      value: ri!lastName\n    )\n  ),\n  \"-\",\n  trim(\n    concat(\n      ri!firstName,\n      cons!AS_GAM_TXT_SEPARATOR_SPACE,\n      ri!lastName\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73536": {
      "name": "AS_CO_UT_isBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  length(a!flatten(ri!value)) = 0\n)"
    },
    "000be5ce-7a00-8000-0b30-7f0000014e7a": {
      "name": "AS GSS Create Word Doc from Template",
      "type": "Process Model",
      "sail_code": "// Output: ?\nrule!AS_GSS_UT_constructFactorandvendorDetailsForTemplateMapping(\n  evaluationId:pv!task.evaluation.evaluationId,\n  isRecommendation:true\n)\n\n// Input: ?\n=pv!tempWordDocId\n\n// Output: ?\nnull()\n\n// Input: ?\n=true\n\n// Input: ?\n=task\n\n// Input: ?\n=tempWordDocId\n\n// Output: ?\nrule!AS_GSS_UT_constructFactorandvendorDetailsForTemplateMapping(\n  evaluationId:pv!task.evaluation.evaluationId,\n  isRecommendation:false\n)\n\n// Output: ?\nnow()\n\n// Input: ?\n= rule!AS_GAM_createDocumentNameForTempWordDoc( uniqueText: pv!task.evaluation.evaluationNumber, docName: pv!task.docUploadContext.docTemplate.documentName)\n\n// Input: ?\n=cons!AS_GSS_DOCUMENT_TEMPLATE_CONSENSUS\n\n// Input: ?\n=todate(now())\n\n// Input: ?\n=pv!templateMappingDetails.contractingspecialist\n\n// Input: ?\n=pv!templateMappingDetails.vendorName\n\n// Input: ?\n=pv!templateMappingDetails.chairperson\n\n// Input: ?\n=pv!templateMappingDetails.factorNumber\n\n// Input: ?\n=pv!templateMappingDetails.chairperson\n\n// Input: ?\n=pv!templateMappingDetails.finalRating\n\n// Input: ?\n=pv!templateMappingDetails.finalComment\n\n// Input: ?\n=pv!templateMappingDetails.contractingOfficer\n\n// Input: ?\n= pv!templateMappingDetails.evaluationchief\n\n// Output: ?\nAC!NewDocument\n\n// Output: ?\ndocument(ac!NewDocument, \"name\")\n\n// Output: ?\ndocument(ac!NewDocument, \"id\")\n\n// Output: ?\ndocument(ac!NewDocument, \"id\")\n\n// Input: ?\n= rule!AS_GAM_createDocumentNameForTempWordDoc( uniqueText: pv!task.evaluation.evaluationNumber, docName: pv!task.docUploadContext.docTemplate.documentName)\n\n// Input: ?\n=todate(now())\n\n// Input: ?\n=pv!templateMappingDetails.contractingspecialist\n\n// Input: ?\n=pv!templateMappingDetails.vendorName\n\n// Input: ?\n=pv!templateMappingDetails.chairperson\n\n// Input: ?\n=pv!templateMappingDetails.factorNumber\n\n// Input: ?\n=pv!templateMappingDetails.chairperson\n\n// Input: ?\n=pv!templateMappingDetails.finalRating\n\n// Input: ?\n=pv!templateMappingDetails.finalComment\n\n// Input: ?\n=pv!templateMappingDetails.contractingOfficer\n\n// Output: ?\nAC!NewDocument\n\n// Output: ?\ndocument(ac!NewDocument, \"name\")\n\n// Output: ?\ndocument(ac!NewDocument, \"id\")\n\n// Output: ?\ndocument(ac!NewDocument, \"id\")\n\n// Input: ?\n= rule!AS_GAM_createDocumentNameForTempWordDoc( uniqueText: pv!task.evaluation.evaluationNumber, docName: pv!task.docUploadContext.docTemplate.documentName)\n\n// Input: ?\n=cons!AS_GSS_DOCUMENT_TEMPLATE_RECOMMENDATION\n\n// Input: ?\n=pv!templateMappingDetails.vendorA1\n\n// Input: ?\n=pv!templateMappingDetails.vendorB2\n\n// Input: ?\n=pv!templateMappingDetails.vendorA2\n\n// Input: ?\n=pv!templateMappingDetails.factor2\n\n// Input: ?\n=pv!templateMappingDetails.factor1\n\n// Input: ?\n=pv!templateMappingDetails.vendorB1\n\n// Output: ?\nAC!NewDocument"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_157870": {
      "name": "AS_CO_UT_queryEntity",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS ON HOW TO USE\n\nPlease DO NOT auto-format this rule\n\n*/\n/*Error handling for invalid returnType or entityType*/\nif(\n  rule!AS_CO_UT_isBlank(ri!returnType),\n  fn!error(\n    concat(\n      \"Null `returnType` passed to AS_CO_UT_queryEntity for entityType `\",\n      ri!entityType,\n      \"`.  See documentation in AS_CO_UT_queryEntity for further information on how to use this parameter.\"\n    )\n  ),\n  if(\n    not(\n      contains(\n        rule!AS_CO_CONS_QE_RETURN_TYPES(),\n        ri!returnType\n      )\n    ),\n    fn!error(\n      concat(\n        \"Unknown `returnType` (\",\n        ri!returnType,\n        \") passed to AS_CO_UT_queryEntity for entityType `\",\n        ri!entityType,\n        \"`.  See documentation in AS_CO_UT_queryEntity for further information on how to use this parameter.\"\n      )\n    ),\n    if(\n      rule!AS_CO_UT_isBlank(ri!entityType),\n      fn!error(\n        concat(\n          \"Null `entityType` passed to AS_CO_UT_queryEntity for entity `\",\n          ri!entity,\n          \"`.  See documentation in AS_CO_UT_queryEntity for further information on how to use this parameter.\"\n        )\n      ),\n      if(\n        and(\n          ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n          rule!AS_CO_UT_isBlank(ri!pagingInfo)\n        ),\n        fn!error(\n          concat(\n            \"`pagingInfo` is required (cannot be null) for `returnType` DATA_SUBSET\"\n          )\n        ),\n        if(\n          and(\n            ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n            rule!AS_CO_UT_isNotBlank(ri!pagingInfo)\n          ),\n          fn!error(\n            concat(\n              \"`pagingInfo` must be null when the `returnType` is not DATA_SUBSET, instead use `sort` to pass custom sorting, `batchSize` to pass custom batch size, and `startIndex` & `batchSize` (if null) will be automatically calculated for you\"\n            )\n          ),\n          if(\n            and(\n              ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n              rule!AS_CO_UT_isBlank(ri!aggregation)\n            ),\n            fn!error(\n              \"You must provide an input for `aggregation` when `returnType` is AGGREGATION\"\n            ),\n            if(\n              and(\n                not(\n                  contains(\n                    {\n                      cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n                      cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET\n                    },\n                    ri!returnType\n                  )\n                ),\n                rule!AS_CO_UT_isNotBlank(ri!aggregation)\n              ),\n              fn!error(\n                \"You cannot provide an input for `aggregation` when `returnType` is not AGGREGATION or DATA_SUBSET\"\n              ),\n              a!localVariables(\n                /*Determine the castResultToType*/\n                local!castResultToType: rule!AS_CO_UT_displayValue(\n                  value: ri!returnType,\n                  inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n                  replacement: {\n                    /*DATA_SUBSET*/'type!{http://www.appian.com/ae/types/2009}DataSubset',\n                    /*SINGLE_OBJECT*/ri!entityType,\n                    /*OBJECT_ARRAY*/rule!AS_CO_UT_returnArrayTypeNumber(type: ri!entityType),\n                    /*AGGREGATION*/'type!{http://www.appian.com/ae/types/2009}Map?list',\n                    /*TOTAL_COUNT*/'type!{http://www.appian.com/ae/types/2009}Integer',\n                    \n                  }\n                ),\n                /*Determine the batchSize*/\n                local!batchSize: rule!AS_CO_UT_displayValue(\n                  value: ri!returnType,\n                  inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n                  replacement: {\n                    /*DATA_SUBSET*/ri!pagingInfo.batchSize,\n                    /*SINGLE_OBJECT*/1,\n                    /*OBJECT_ARRAY*/rule!AS_CO_UT_replaceNull(\n                      nullableValue: ri!batchSize,\n                      replacementValue: cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE\n                    ),\n                    /*AGGREGATION*/rule!AS_CO_UT_replaceNull(\n                      nullableValue: ri!batchSize,\n                      replacementValue: cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE\n                    ),\n                    /*TOTAL_COUNT*/0,\n                    \n                  }\n                ),\n                /*Determine the sort*/\n                local!sort: rule!AS_CO_UT_zInternal_queryEntity_determineSort(\n                  entityType: ri!entityType,\n                  returnType: ri!returnType,\n                  pagingInfo: ri!pagingInfo,\n                  sort: ri!sort,\n                  isAggregation: rule!AS_CO_UT_isNotBlank(ri!aggregation)\n                ),\n                /*Determine the pagingInfo*/\n                local!pagingInfo: if(\n                  ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n                  /*Use specific pagingInfo for DATA_SUBSET*/\n                  #\"SYSTEM_SYSRULES_pagingInfo\"(\n                    startIndex: ri!pagingInfo.startIndex,\n                    batchSize: ri!pagingInfo.batchSize,\n                    sort: local!sort\n                  ),\n                  /*Otherwise calculate pagingInfo for all other returnTypes*/\n                  #\"SYSTEM_SYSRULES_pagingInfo\"(\n                    startIndex: 1,\n                    batchSize: local!batchSize,\n                    sort: local!sort\n                  )\n                ),\n                /*Determine the fetchTotalCount*/\n                local!fetchTotalCount: rule!AS_CO_UT_displayValue(\n                  value: ri!returnType,\n                  inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n                  replacement: {\n                    /*DATA_SUBSET*/true,\n                    /*SINGLE_OBJECT*/false,\n                    /*OBJECT_ARRAY*/false,\n                    /*AGGREGATION*/false,\n                    /*TOTAL_COUNT*/true,\n                    \n                  }\n                ),\n                /*Execute the query*/\n                local!queryResult: a!refreshVariable(\n                  value: if(\n                    ri!executeWhen = false,\n                    null,\n                    #\"SYSTEM_SYSRULES_queryEntity_v1\"(\n                      entity: ri!entity,\n                      fetchTotalCount: local!fetchTotalCount,\n                      query: #\"SYSTEM_SYSRULES_query\"(\n                        pagingInfo: local!pagingInfo,\n                        aggregation: ri!aggregation,\n                        selection: if(\n                          and(\n                            ri!excludeNestedCdts = true,\n                            rule!AS_CO_UT_isBlank(ri!aggregation)\n                          ),\n                          #\"SYSTEM_SYSRULES_querySelection\"(\n                            columns: #\"SYSTEM_SYSRULES_forEach\"(\n                              items: rule!AS_CO_UT_returnCdtFields(\n                                type: ri!entityType,\n                                onlyPrimitiveFields: true\n                              ),\n                              expression: #\"SYSTEM_SYSRULES_queryColumn\"(field: fv!item)\n                            )\n                          ),\n                          null\n                        ),\n                        logicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                          operator: \"AND\",\n                          logicalExpressions: {\n                            #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                              operator: \"AND\",\n                              ignoreFiltersWithEmptyValues: true,\n                              filters: rule!AS_CO_UT_replaceNull(\n                                nullableValue: ri!filters,\n                                replacementValue: {}\n                              )\n                            ),\n                            rule!AS_CO_UT_replaceNull(\n                              nullableValue: ri!logicalExpression,\n                              replacementValue: {}\n                            )\n                          }\n                        )\n                      )\n                    )\n                  ),\n                  refreshOnVarChange: ri!triggerRefresh,\n                  refreshAfter: { \"RECORD_ACTION\" }\n                ),\n                /*Parse the queryResult*/\n                local!queryResultParse: choose(\n                  rule!AS_CO_UT_chooseWherecontainsHelper(\n                    value: ri!returnType,\n                    inArray: rule!AS_CO_CONS_QE_RETURN_TYPES()\n                  ),\n                  /*Default, required value based on how AS_CO_UT_chooseWherecontainsHelper operates*/\"\",\n                  /*DATA_SUBSET*/local!queryResult,\n                  /*SINGLE_OBJECT*/local!queryResult.data,\n                  /*OBJECT_ARRAY*/local!queryResult.data,\n                  /*AGGREGATION*/local!queryResult.data,\n                  /*TOTAL_COUNT*/local!queryResult.totalCount,\n                  \n                ),\n                rule!AS_CO_UT_cast(\n                  type: local!castResultToType,\n                  value: local!queryResultParse\n                )\n              )\n            )\n          )\n        )\n      )\n    )\n  )\n)/*\n\nDOCUMENTATION\n\nThis rule is designed to minimize the overhead with querying data and then casting the result\n\n\nRequired Inputs:\n\n1. entity \n- This is the data store entity you are querying\n-- e.g. cons!AS_DATA_STORE_ENTITY_CASES\n\n2. entityType\n- This is a type! input of the data type which maps to the underlying data store entity\n- Note that your type! input should not end in parenthesis; this is NOT designed to take in an empty CDT\n-- e.g. 'type!{urn:com:appian:types}Case'\n\n3. returnType\n- This depends on the purpose for the query, and should be one of the returnTypes in rule!AS_CO_CONS_QE_RETURN_TYPES\n-- DATA_SUBSET - This will return a DataSubset; pagingInfo is required\n-- SINGLE_OBJECT - This will return a single CDT whose type is the entityType; pagingInfo must be null\n-- OBJECT_ARRAY - This will return an array of CDTs whos type is an array of the entityType; pagingInfo must be null\n-- AGGREGATION - This will return an array of Dictionaries; pagingInfo must be null\n---- NOTE: If you need Aggregation with paging controls, such as for a grid, use returnType DATA_SUBSET\n-- TOTAL_COUNT - This will return an Integer of the total count; pagingInfo must be null\n\n\nOptional Inputs:\n\n4. executeWhen\n- The query will not execute if this is false, the query will execute if this is true or null\n-- This is meant to operate in a similar manner to the showWhen parameter of components\n- Usethistoskipexecutionofaquerywithoutneedingtowrapif()statementsaroundtherule\n-- Examples of this would be to skip querying if your filter value is a null ID\n- If the query does not execute, this will return a null value whose type is based on the returnType input\n\n5. triggerRefresh\n- By default, the query will always re-execute whenever any inputs change\n- However, by updating the value of triggerRefresh, you can also trigger a re-execution even if none of the other inputs change\n\n6. excludeNestedCdts\n- When true, this will exclude all nested CDTs from the query selection, and only include primitive fields\n- When false or null, all fields will be included in the query, including all nested CDTs\n\n7. filters\n- Array of filters to apply to the query, built with a!queryFilter()\n- These filters will be applied with an AND operator\n- These filters will apply in addition to the logicalExpression input, combining both with an AND operator\n\n8. logicalExpression\n- A logical expression to apply to the query, built with a!queryLogicalExpression()\n- This logical expression will apply in addition to the filters input, combining both with an AND operator\n\n9. aggregation\n- Aggregation to apply to the query, built with a!queryAggregation()\n\n10. pagingInfo\n- Paging info to apply to the query, built with a!pagingInfo() or derived from fv!pagingInfo in grids\n- This is required if passing returnType DATA_SUBSET, otherwise it must be null\n- For returnTypes that are not DATA_SUBSET, the batch size will be automatically calculated depending on the returnType\n-- For example, passing SINGLE_OBJECT will automatically apply a batch size of 1, whereas OBJECT_ARRAY and AGGREGATION will automatically apply a batch size of -1\n\n11. sort\n- Array of sort to apply to the query, built with a!sortInfo()\n- This is meant to be used with returnType OBJECT_ARRAY and AGGREGATION, since pagingInfo is not required for these, but a specified sort may be used\n\n12. batchSize\n- Batch size to apply to the query\n- This is meant to be used with returnType OBJECT_ARRAY and AGGREGATION, since pagingInfo is not required for these, but a specified batchSize may be used\n\n*/"
    },
    "_a-0000e447-9390-8000-9baa-011c48011c48_41575": {
      "name": "AS_CO_UT_cleanFolderName",
      "type": "Expression Rule",
      "sail_code": "cleanwith(\n  ri!folderName,\n  \" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890\"\n)"
    },
    "0002e4ad-3dbb-8000-0046-7f0000014e7a": {
      "name": "AS GAM Create Folder in SharePoint",
      "type": "Process Model",
      "sail_code": "// Input: ?\n=pv!folderName\n\n// Input: ?\n=pv!parentSpFolderId\n\n// Output: ?\nAC!Error\n\n// Output: ?\nac!Result.body.id"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76367": {
      "name": "AS_CO_UT_rejectNullValuesFromArray",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!array),\n  reject(\n    rule!AS_CO_UT_isBlank(_),\n    a!flatten(ri!array)\n  )\n)"
    },
    "_a-0000e5bc-4a9a-8000-9bbc-011c48011c48_940968": {
      "name": "AS_GSS_UT_sharepointFolderName",
      "type": "Expression Rule",
      "sail_code": "concat(ri!evaluation.evaluationNumber,\"-\",ri!evaluation.evaluationId)"
    }
  }
}
{
  "uuid": "_a-0000ed5b-d85c-8000-9d42-011c48011c48_3687206",
  "name": "CMGT_WFL_CaseType_ConfigureTask_Task_WorkflowSettingsSection",
  "type": "Interface",
  "description": "UI components to configure the workflow settings",
  "sail_code": "#\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n  contents: {\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      labelPosition: \"COLLAPSED\",\n      value: {\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: #\"urn:appian:translation-string:v1:1d75c2e0-04ea-4b38-97fd-62fb1a14f0f4\",\n          color: ri!brandingMap.SecondaryTextColor\n        )\n      },\n      showWhen: ri!taskBehaviorTypeId = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION,\n      marginBelow: \"EVEN_LESS\"\n    ),\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      labelPosition: \"COLLAPSED\",\n      value: {\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.questionLabel]\n        )\n      },\n      showWhen: ri!taskBehaviorTypeId = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION\n    ),\n    rule!CMGT_WFL_CaseType_ConfigureTask_ListOfDependents(\n      afterTaskBranchMapIndices: ri!afterTaskBranchMapIndices,\n      taskBehaviorTypeId: ri!taskBehaviorTypeId,\n      caseType: ri!caseType,\n      visibleCaseTypeWorkflowTaskIndices: ri!visibleCaseTypeWorkflowTaskIndices,\n      availableTasks: ri!availableTasks,\n      previousTasks: ri!previousTasks,\n      brandingMap: ri!brandingMap,\n      taskResponseOptions: ri!taskResponseOptions,\n      isStartTask: ri!isStartTask,\n      uniqueAfterTaskUuidsInViolation: ri!uniqueAfterTaskUuidsInViolation,\n      caseTypeWorkflowTaskBranchMaps: ri!caseTypeWorkflowTaskBranchMaps,\n      selectedCaseTypeWorkflowTask: ri!selectedCaseTypeWorkflowTask\n    ),\n    a!localVariables(\n      local!availableTasksExist: if(\n        a!isNotNullOrEmpty(ri!availableTasks),\n        if(\n          ri!isStartTask,\n          length(\n            rule!CMGT_UTIL_Filter(\n              filterType: \"REJECT\",\n              records: ri!availableTasks,\n              field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n              value: index(\n                rule!CMGT_UTIL_Filter(\n                  records: a!flatten(\n                    ri!caseTypeWorkflowTaskBranchMaps.afterCaseTypeWorkflowTaskBranches\n                  ),\n                  fieldValuePairs: {\n                    a!map(\n                      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isRequired,\n                      value: true\n                    ),\n                    a!map(\n                      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive,\n                      value: true\n                    )\n                  }\n                ),\n                recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.afterCaseTypeWorkflowTaskUuid,\n                null\n              )\n            )\n          ) > 0,\n          true\n        ),\n        false\n      ),\n      {\n        #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: if(\n              local!availableTasksExist,\n              #\"urn:appian:translation-string:v1:c03b57d0-b6a1-4ede-8039-d09e78574067\",\n              #\"urn:appian:translation-string:v1:4401a43e-cce1-4a87-844e-ba908e38a312\"\n            ),\n            color: ri!brandingMap.SecondaryTextColor,\n            style: \"EMPHASIS\"\n          ),\n          showWhen: or(\n            not(local!availableTasksExist),\n            rule!CMGT_UTIL_IsBlank(\n              ri!caseTypeWorkflowTaskBranchMaps[ri!afterTaskBranchMapIndices].afterCaseTypeWorkflowTaskBranches\n            )\n          )\n        ),\n        /*Add Dependent button*/\n        #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n          buttons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n            label: #\"urn:appian:translation-string:v1:50f0154e-4d77-42df-bcc1-51c02a40a7d9\",\n            icon: \"plus-circle\",\n            saveInto: a!save(\n              ri!caseTypeWorkflowTaskBranchMaps,\n              append(\n                ri!caseTypeWorkflowTaskBranchMaps,\n                a!map(\n                  taskUUID: ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                  taskResponseOptionUUID: fn!tointeger(null),\n                  isRequired: true,\n                  isActive: true,\n                  afterCaseTypeWorkflowTaskBranches: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch(\n                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.beforeCaseTypeWorkflowTaskUuid: ri!selectedCaseTypeWorkflowTask[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isRequired: true,\n                    /*Note, defaulting this to NULL until an actual selection is made so that the network renderer doesn't think there's a task*/\n                    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch.isActive: null\n                  )\n                )\n              )\n            ),\n            style: \"LINK\",\n            showWhen: local!availableTasksExist,\n            accessibilityText: #\"urn:appian:translation-string:v1:9e159048-eba6-486b-9a68-0a8e9f01b555\"\n          ),\n          showWhen: ri!isStartTask = false,\n          align: \"START\",\n          marginBelow: \"NONE\"\n        )\n      }\n    )\n  },\n  marginBelow: \"EVEN_LESS\"\n)",
  "calls": [
    {
      "name": "CMGT_WFL_CaseType_ConfigureTask_ListOfDependents",
      "type": "Interface",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_UTIL_Filter",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_UTIL_IsBlank",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION",
      "type": "Constant",
      "dep_type": "USES_CONSTANT"
    },
    {
      "name": "CMGT_WFL_CFG_CaseTypeWorkflowTask",
      "type": "Record Type",
      "dep_type": "USES_RECORD_TYPE"
    },
    {
      "name": "CMGT_WFL_CFG_CaseTypeWorkflowTaskBranch",
      "type": "Record Type",
      "dep_type": "USES_RECORD_TYPE"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "Unknown",
      "type": "Translation String",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_UTIL_LoadBrandingMap",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_UTIL_ContructSLAMap",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_CFG_TaskBehaviorType",
      "type": "Record Type",
      "dep_type": "USES_RECORD_TYPE"
    }
  ],
  "called_by": []
}
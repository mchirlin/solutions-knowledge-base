{
  "uuid": "_a-0000e52f-2da7-8000-9bab-011c48011c48_409442-am",
  "name": "AS_GSS_TMG_UT_updatePrecedentsOnUpdatingGroupAssignee",
  "type": "Expression Rule",
  "description": "Updates the precedent details when group assignee is updated",
  "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!selectedReview.templateTasks,\n  expression: a!save(\n    fv!item.templateTaskPrecedents,\n    a!localVariables(\n      local!templateTask: fv!item,\n      local!choices: rule!AS_CO_UT_rejectNullValuesFromArray(\n        rule!AS_CO_UT_rejectCdtByField(\n          cdt: ri!selectedReview.templateTasks,\n          field: \"groupAssignee\",\n          value: fv!item.groupAssignee\n        ).groupAssignee\n      ),\n      /*checking if the groupId_precedent doesnot exist in the choice values, the corresponding precedent will be removed*/\n      if(\n        rule!AS_CO_UT_isBlank(\n          local!templateTask.templateTaskPrecedents\n        ),\n        null,\n        a!flatten(\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!templateTask.templateTaskPrecedents,\n            expression: if(\n              rule!AS_CO_UT_not(\n                contains(\n                  tointeger(local!choices),\n                  fv!item.groupId_precedent\n                )\n              ),\n              {},\n              fv!item\n            )\n          )\n        )\n      )\n    )\n  )\n)",
  "calls": [
    {
      "name": "AS_CO_UT_rejectNullValuesFromArray",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_CO_UT_rejectCdtByField",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_CO_UT_isBlank",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_CO_UT_not",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    }
  ],
  "called_by": [
    {
      "name": "AS_GSS_TMG_CPS_GRD_manageReviewGrid",
      "type": "Interface",
      "dep_type": "CALLS"
    }
  ]
}
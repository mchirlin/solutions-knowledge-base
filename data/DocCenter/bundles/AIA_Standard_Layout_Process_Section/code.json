{
  "_metadata": {
    "bundle_id": "AIA_Standard_Layout_Process_Section"
  },
  "objects": {
    "000aedb4-afe4-8000-1762-7f0000014e7a": {
      "name": "AIA Standard Layout Process Section",
      "type": "Process Model",
      "sail_code": "// Output: ?\npv!index + 1\n\n// Input: ?\n=pv!Section\n\n// Input: ?\n=recordType!AIA Extraction Instance Section\n\n// Output: ?\nif(\n  pv!index = 1,\n  #\"urn:appian:function:v1:a:update\"(\n    pv!Section,\n    {\n      recordType!AIA Extraction Instance Section.instanceId,\n      recordType!AIA Extraction Instance Section.startPage,\n      recordType!AIA Extraction Instance Section.endPage,\n      recordType!AIA Extraction Instance Section.documentId,\n      recordType!AIA Extraction Instance Section.batchId,\n    },\n    {\n      pv!ExtractionInstance[recordType!AIA Extraction Instance.id],\n      (pv!index - 1) * cons!AIA_EXTRACTION_MAX_PAGE_COUNT + 1,\n      pv!index * cons!AIA_EXTRACTION_MAX_PAGE_COUNT,\n      pv!splitDoc,\n      1\n    }\n  ),\n  recordType!AIA Extraction Instance Section(\n    recordType!AIA Extraction Instance Section.instanceId: pv!ExtractionInstance[recordType!AIA Extraction Instance.id],\n    recordType!AIA Extraction Instance Section.sectionId: pv!Section[recordType!AIA Extraction Instance Section.sectionId],\n    recordType!AIA Extraction Instance Section.startPage: (pv!index - 1) * cons!AIA_EXTRACTION_MAX_PAGE_COUNT + 1,\n    recordType!AIA Extraction Instance Section.endPage: a!localVariables(\n      local!pageCount: pv!index * cons!AIA_EXTRACTION_MAX_PAGE_COUNT,\n      if(\n        local!pageCount > pv!pageCount,\n        pv!pageCount,\n        local!pageCount\n      )\n    ),\n    recordType!AIA Extraction Instance Section.documentId: pv!splitDoc,\n    recordType!AIA Extraction Instance Section.batchId: pv!index\n  )\n)\n\n// Input: ?\n#\"urn:appian:function:v1:a:update\"(\n  pv!Section,\n  {recordType!AIA Extraction Instance Section.instanceId},\n  {pv!ExtractionInstance[recordType!AIA Extraction Instance.id]}\n)\n\n// Input: ?\n=recordType!AIA Extraction Instance Section\n\n// Output: ?\nif(\n  a!isNullOrEmpty(\n    pv!Section[recordType!AIA Extraction Instance Section.endPage]\n  ),\n  pv!ExtractionInstance[recordType!AIA Extraction Instance.pageCount],\n  pv!Section[recordType!AIA Extraction Instance Section.endPage] - pv!Section[recordType!AIA Extraction Instance Section.startPage]\n)\n\n// Output: ?\na!defaultValue(\n  pv!Section[recordType!AIA Extraction Instance Section.documentId],\n  pv!ExtractionInstance[recordType!AIA Extraction Instance.documentId]\n)\n\n// Output: ?\na!defaultValue(\n  pv!Section[recordType!AIA Extraction Instance Section.startPage],\n  0\n)\n\n// Input: ?\n= a!localVariables( local!startPage: if( pv!index = 1, max({pv!startPage, 1}), (pv!index - 1) * cons!AIA_EXTRACTION_MAX_PAGE_COUNT + pv!startPage + 1 ), local!endPage: if( pv!index * cons!AIA_EXTRACTION_MAX_PAGE_COUNT > pv!pageCount, pv!pageCount, pv!index * cons!AIA_EXTRACTION_MAX_PAGE_COUNT ) + pv!startPage, document( pv!ExtractionInstance[recordType!AIA Extraction Instance.documentId], \"name\" ) & \"_\" & local!startPage & \"-\" & local!endPage)\n\n// Input: ?\n=pv!sourceDocument\n\n// Input: ?\n=(pv!index - 1) * cons!AIA_EXTRACTION_MAX_PAGE_COUNT + 1\n\n// Input: ?\n= a!localVariables( local!endPage: pv!index * cons!AIA_EXTRACTION_MAX_PAGE_COUNT, if( local!endPage > pv!pageCount, pv!pageCount, local!endPage ))\n\n// Output: ?\nAC!ErrorText\n\n// Output: ?\nAC!ErrorOccurred\n\n// Output: ?\nAC!NewDocumentCreated"
    }
  }
}
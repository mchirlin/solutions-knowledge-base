{
  "_metadata": {
    "bundle_id": "AS_GCM_CEDM_Write_Imported_Data"
  },
  "objects": {
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75913": {
      "name": "AS_CO_UT_zINTERNAL_indexPath_nestedFieldArrayHandler",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!fieldSplit: rule!AS_CO_UT_rejectNullValuesFromArray(split(\n    rule!AS_CO_UT_rejectNullValuesFromArray(split(\n      rule!AS_CO_UT_rejectNullValuesFromArray(split(\n        ri!field, \n        \".\")), \n      \"[\")),\n    \"]\")),\n  \n  apply(\n    rule!AS_CO_UT_zINTERNAL_indexPath_nestedFieldArrayConvertHandler(\n      field: _\n    ),\n    local!fieldSplit\n  )\n)"
    },
    "_a-0000e61a-f20f-8000-9ba5-011c48011c48_53654": {
      "name": "AS_GCM_CO_UT_loadBundleFromFolder",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!lang: \"en_US\",\n/* below is deprecated for now, uncomment to support multi-language display */\n  /*if(*/\n    /*isnull(ri!langISOCode),*/\n    /*userlocale(loggedInUser()),*/\n    /*ri!langISOCode*/\n  /*),*/\n  local!bundleName: rule!AS_GCM_determineValueBySolutionFlavor(\n    options: cons!AS_GCM_TXT_VALID_SOLUTION_FLAVORS\n  ),\n  /*local!bundleName*/\n  local!output: loadbundlepropertiesfile(\n    cons!AS_GCM_FLD_PROPERTIES_FILES,\n    local!lang,\n    local!bundleName\n  )[local!bundleName],\n  local!output\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73758": {
      "name": "AS_CO_UT_distinct",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!value),\n  union({ri!value}, {ri!value})\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_268729": {
      "name": "AS_CO_UT_zINTERNAL_indexPath_separateFieldHandler",
      "type": "Expression Rule",
      "sail_code": "reduce(\n  index(_, _, null),\n  ri!cdt,\n  ri!fields\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73624": {
      "name": "AS_CO_UT_compare",
      "type": "Expression Rule",
      "sail_code": "/*Do a \"fuzzy\" comparison where all we care about is the data*/\n/*This will match a list of variant/dictionary/cdt if their fields have the same values*/\ncast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  tostring(ri!value1) = tostring(ri!value2)\n)"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9760686": {
      "name": "AS_GCM_getAllPresentRelationshipsFromRecord_Apply",
      "type": "Expression Rule",
      "sail_code": "if(\n  runtimetypeof(ri!relationship) = 'type!{http://www.appian.com/ae/types/2009}RecordRelationship',\n  {\n    ri!relationship,\n    rule!AS_GCM_getAllPresentRelationshipsFromRecord(records: ri!records[ri!relationship])\n  },\n  {}\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13126846": {
      "name": "AS_GCM_CEDM_updateImportDataAndSetMetaData",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!configMaps: rule!AS_GCM_CEDM_typeConfigMapForDataMigration(),\n  #\"urn:appian:function:v1:a:update\"(\n    ri!importData,\n    \"records\",\n    a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!importData.records,\n        expression: a!localVariables(\n          local!configMap: rule!AS_GCM_filterRecords(\n            records: local!configMaps,\n            field: \"uuid\",\n            value: fv!item.uuid\n          )[1],\n          local!fileData: fv!item.data,\n          local!executeQueryAndEvaluateUpdatedData: if(\n            ri!isSelfReferenced = true,\n            toboolean(local!configMap.isSelfReferenced) = true,\n            tointeger(local!configMap.order) = ri!order\n          ),\n          local!logicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"OR\",\n            logicalExpressions: a!flatten(\n              {\n                if(\n                  rule!AS_CO_UT_isNotBlank(\n                    local!configMap.primaryIdentifierFields\n                  ),\n                  #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                    operator: \"AND_ALL\",\n                    filters: #\"SYSTEM_SYSRULES_forEach\"(\n                      items: local!configMap.primaryIdentifierFields,\n                      expression: #\"SYSTEM_SYSRULES_queryFilter\"(\n                        field: fv!item,\n                        operator: \"in\",\n                        value: a!flatten(\n                          rule!AS_CO_UT_distinct({ index(local!fileData, fv!item, null) })\n                        ),\n                        applyWhen: rule!AS_CO_UT_isNotBlank(\n                          rule!AS_CO_UT_rejectNullValuesFromArray({ index(local!fileData, fv!item, {}) })\n                        )\n                      )\n                    )\n                  ),\n                  {}\n                ),\n                if(\n                  rule!AS_CO_UT_isNotBlank(\n                    local!configMap.secondaryIdentifierFields\n                  ),\n                  #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                    operator: \"AND_ALL\",\n                    filters: #\"SYSTEM_SYSRULES_forEach\"(\n                      items: local!configMap.secondaryIdentifierFields,\n                      expression: #\"SYSTEM_SYSRULES_queryFilter\"(\n                        field: fv!item,\n                        operator: \"in\",\n                        value: a!flatten(\n                          if(\n                            fv!item = recordType!AS GCM R Clause Section Mapping.refSection.contractFormatId,\n                            {\n                              tointeger(\n                                rule!AS_CO_UT_distinct(\n                                  rule!AS_CO_UT_rejectNullValuesFromArray({ index(local!fileData, fv!item, {}) })\n                                )\n                              )\n                            },\n                            {\n                              rule!AS_CO_UT_distinct({ index(local!fileData, fv!item, null) })\n                            }\n                          )\n                        ),\n                        applyWhen: rule!AS_CO_UT_isNotBlank(\n                          rule!AS_CO_UT_rejectNullValuesFromArray({ index(local!fileData, fv!item, {}) })\n                        )\n                      )\n                    )\n                  ),\n                  {}\n                )\n              }\n            )\n          ),\n          local!thisEnvData: if(\n            a!isNullOrEmpty(local!configMap.recordType),\n            a!flatten(\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: rule!AS_GCM_UT_getIdentifiersInBatches(\n                  batchingSize: local!configMap.queryBatchSize,\n                  identifiers: index(\n                    rule!AS_GAM_UT_queryEntityWithSelection(\n                      entity: local!configMap.dataStoreEntity,\n                      entityType: local!configMap.entityType,\n                      selectionColumns: local!configMap.primaryKeyField,\n                      logicalExpression: local!logicalExpression,\n                      executeWhen: local!executeQueryAndEvaluateUpdatedData,\n                      returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n                      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(startIndex: 1, batchSize: - 1)\n                    ).data,\n                    local!configMap.primaryKeyField,\n                    {}\n                  ),\n                  returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n                ),\n                expression: rule!AS_CO_UT_queryEntity(\n                  entity: local!configMap.dataStoreEntity,\n                  entityType: local!configMap.entityType,\n                  filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: local!configMap.primaryKeyField,\n                    operator: \"in\",\n                    value: fv!item.identifiers\n                  ),\n                  executeWhen: rule!AS_CO_UT_isNotBlank(fv!item.identifiers),\n                  returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n                )\n              )\n            ),\n            rule!AS_CO_UT_queryRecord(\n              recordType: local!configMap.recordType,\n              returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n              pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n                1,\n                cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n              ),\n              executeWhen: local!executeQueryAndEvaluateUpdatedData,\n              logicalExpression: local!logicalExpression,\n              fields: local!configMap.fields\n            ).data\n          ),\n          rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n            cdt: fv!item,\n            fieldValuePairs: {\n              if(\n                local!executeQueryAndEvaluateUpdatedData,\n                {\n                  a!map(\n                    field: \"updatedData\",\n                    value: rule!AS_GCM_CEDM_setMetadataForImportData(\n                      thisEnvData: local!thisEnvData,\n                      fileData: local!fileData,\n                      configMap: local!configMap,\n                      initiator: ri!initiator,\n                      returnAllData: false\n                    )\n                  ),\n                  a!map(\n                    field: \"originalData\",\n                    value: local!thisEnvData\n                  )\n                },\n                {}\n              )\n            }\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e9e2-fe39-8000-9c72-011c48011c48_5802508": {
      "name": "AS_CO_UT_isRecordTypeData",
      "type": "Expression Rule",
      "sail_code": "/*Returns true if the given data is of type recordType, else returns false*/\nif(\n  find(\n    \"urn:com:appian:recordtype\",\n    toxml(ri!data)\n  ) <> 0,\n  true(),\n  false()\n)"
    },
    "_a-0000ee30-1118-8000-9e27-011c48011c48_16428105": {
      "name": "AS_GCM_CEDM_GetRecordFieldsListByRecordType",
      "type": "Expression Rule",
      "sail_code": "a!keys(\n  rule!AS_CO_UT_queryRecord(\n    recordType: ri!recordType,\n    returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT\n  )\n)"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9760853": {
      "name": "AS_GCM_setRecordFields",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!record),\n  ri!record,\n  a!localVariables(\n    local!allUpdates: rule!AS_CO_UT_rejectNullValuesFromArray(\n      a!flatten(\n        {\n          ri!alwaysOverwrite,\n          ri!childRelationships,\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!neverOverwrite,\n            expression: #\"urn:appian:function:v1:a:update\"(\n              fv!item,\n              \"value\",\n              /*Specifically using this instead of a!defaultValue() to account for the `{null}` value*/\n              rule!AS_CO_UT_replaceNull(\n                nullableValue: ri!record[fv!item.field],\n                replacementValue: fv!item.value\n              )\n            )\n          )\n        }\n      )\n    ),\n    local!onlyChangedUpdates: a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!allUpdates,\n        expression: if(\n          or(\n            tostring(ri!record[fv!item.field]) = tostring(fv!item.value),\n            toboolean(fv!item.applyWhen) = false\n          ),\n          {},\n          fv!item\n        )\n      )\n    ),\n    if(\n      a!isNullOrEmpty(local!onlyChangedUpdates),\n      ri!record,\n      #\"urn:appian:function:v1:a:update\"(\n        data: ri!record,\n        index: local!onlyChangedUpdates.field,\n        value: local!onlyChangedUpdates.value\n      )\n    )\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_157870": {
      "name": "AS_CO_UT_queryEntity",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS ON HOW TO USE\n\nPlease DO NOT auto-format this rule\n\n*/\n/*Error handling for invalid returnType or entityType*/\nif(\n  rule!AS_CO_UT_isBlank(ri!returnType),\n  fn!error(\n    concat(\n      \"Null `returnType` passed to AS_CO_UT_queryEntity for entityType `\",\n      ri!entityType,\n      \"`.  See documentation in AS_CO_UT_queryEntity for further information on how to use this parameter.\"\n    )\n  ),\n  if(\n    not(\n      contains(\n        rule!AS_CO_CONS_QE_RETURN_TYPES(),\n        ri!returnType\n      )\n    ),\n    fn!error(\n      concat(\n        \"Unknown `returnType` (\",\n        ri!returnType,\n        \") passed to AS_CO_UT_queryEntity for entityType `\",\n        ri!entityType,\n        \"`.  See documentation in AS_CO_UT_queryEntity for further information on how to use this parameter.\"\n      )\n    ),\n    if(\n      rule!AS_CO_UT_isBlank(ri!entityType),\n      fn!error(\n        concat(\n          \"Null `entityType` passed to AS_CO_UT_queryEntity for entity `\",\n          ri!entity,\n          \"`.  See documentation in AS_CO_UT_queryEntity for further information on how to use this parameter.\"\n        )\n      ),\n      if(\n        and(\n          ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n          rule!AS_CO_UT_isBlank(ri!pagingInfo)\n        ),\n        fn!error(\n          concat(\n            \"`pagingInfo` is required (cannot be null) for `returnType` DATA_SUBSET\"\n          )\n        ),\n        if(\n          and(\n            ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n            rule!AS_CO_UT_isNotBlank(ri!pagingInfo)\n          ),\n          fn!error(\n            concat(\n              \"`pagingInfo` must be null when the `returnType` is not DATA_SUBSET, instead use `sort` to pass custom sorting, `batchSize` to pass custom batch size, and `startIndex` & `batchSize` (if null) will be automatically calculated for you\"\n            )\n          ),\n          if(\n            and(\n              ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n              rule!AS_CO_UT_isBlank(ri!aggregation)\n            ),\n            fn!error(\n              \"You must provide an input for `aggregation` when `returnType` is AGGREGATION\"\n            ),\n            if(\n              and(\n                not(\n                  contains(\n                    {\n                      cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n                      cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET\n                    },\n                    ri!returnType\n                  )\n                ),\n                rule!AS_CO_UT_isNotBlank(ri!aggregation)\n              ),\n              fn!error(\n                \"You cannot provide an input for `aggregation` when `returnType` is not AGGREGATION or DATA_SUBSET\"\n              ),\n              a!localVariables(\n                /*Determine the castResultToType*/\n                local!castResultToType: rule!AS_CO_UT_displayValue(\n                  value: ri!returnType,\n                  inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n                  replacement: {\n                    /*DATA_SUBSET*/'type!{http://www.appian.com/ae/types/2009}DataSubset',\n                    /*SINGLE_OBJECT*/ri!entityType,\n                    /*OBJECT_ARRAY*/rule!AS_CO_UT_returnArrayTypeNumber(type: ri!entityType),\n                    /*AGGREGATION*/'type!{http://www.appian.com/ae/types/2009}Map?list',\n                    /*TOTAL_COUNT*/'type!{http://www.appian.com/ae/types/2009}Integer',\n                    \n                  }\n                ),\n                /*Determine the batchSize*/\n                local!batchSize: rule!AS_CO_UT_displayValue(\n                  value: ri!returnType,\n                  inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n                  replacement: {\n                    /*DATA_SUBSET*/ri!pagingInfo.batchSize,\n                    /*SINGLE_OBJECT*/1,\n                    /*OBJECT_ARRAY*/rule!AS_CO_UT_replaceNull(\n                      nullableValue: ri!batchSize,\n                      replacementValue: cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE\n                    ),\n                    /*AGGREGATION*/rule!AS_CO_UT_replaceNull(\n                      nullableValue: ri!batchSize,\n                      replacementValue: cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE\n                    ),\n                    /*TOTAL_COUNT*/0,\n                    \n                  }\n                ),\n                /*Determine the sort*/\n                local!sort: rule!AS_CO_UT_zInternal_queryEntity_determineSort(\n                  entityType: ri!entityType,\n                  returnType: ri!returnType,\n                  pagingInfo: ri!pagingInfo,\n                  sort: ri!sort,\n                  isAggregation: rule!AS_CO_UT_isNotBlank(ri!aggregation)\n                ),\n                /*Determine the pagingInfo*/\n                local!pagingInfo: if(\n                  ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n                  /*Use specific pagingInfo for DATA_SUBSET*/\n                  #\"SYSTEM_SYSRULES_pagingInfo\"(\n                    startIndex: ri!pagingInfo.startIndex,\n                    batchSize: ri!pagingInfo.batchSize,\n                    sort: local!sort\n                  ),\n                  /*Otherwise calculate pagingInfo for all other returnTypes*/\n                  #\"SYSTEM_SYSRULES_pagingInfo\"(\n                    startIndex: 1,\n                    batchSize: local!batchSize,\n                    sort: local!sort\n                  )\n                ),\n                /*Determine the fetchTotalCount*/\n                local!fetchTotalCount: rule!AS_CO_UT_displayValue(\n                  value: ri!returnType,\n                  inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n                  replacement: {\n                    /*DATA_SUBSET*/true,\n                    /*SINGLE_OBJECT*/false,\n                    /*OBJECT_ARRAY*/false,\n                    /*AGGREGATION*/false,\n                    /*TOTAL_COUNT*/true,\n                    \n                  }\n                ),\n                /*Execute the query*/\n                local!queryResult: a!refreshVariable(\n                  value: if(\n                    ri!executeWhen = false,\n                    null,\n                    #\"SYSTEM_SYSRULES_queryEntity_v1\"(\n                      entity: ri!entity,\n                      fetchTotalCount: local!fetchTotalCount,\n                      query: #\"SYSTEM_SYSRULES_query\"(\n                        pagingInfo: local!pagingInfo,\n                        aggregation: ri!aggregation,\n                        selection: if(\n                          and(\n                            ri!excludeNestedCdts = true,\n                            rule!AS_CO_UT_isBlank(ri!aggregation)\n                          ),\n                          #\"SYSTEM_SYSRULES_querySelection\"(\n                            columns: #\"SYSTEM_SYSRULES_forEach\"(\n                              items: rule!AS_CO_UT_returnCdtFields(\n                                type: ri!entityType,\n                                onlyPrimitiveFields: true\n                              ),\n                              expression: #\"SYSTEM_SYSRULES_queryColumn\"(field: fv!item)\n                            )\n                          ),\n                          null\n                        ),\n                        logicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                          operator: \"AND\",\n                          logicalExpressions: {\n                            #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                              operator: \"AND\",\n                              ignoreFiltersWithEmptyValues: true,\n                              filters: rule!AS_CO_UT_replaceNull(\n                                nullableValue: ri!filters,\n                                replacementValue: {}\n                              )\n                            ),\n                            rule!AS_CO_UT_replaceNull(\n                              nullableValue: ri!logicalExpression,\n                              replacementValue: {}\n                            )\n                          }\n                        )\n                      )\n                    )\n                  ),\n                  refreshOnVarChange: ri!triggerRefresh,\n                  refreshAfter: { \"RECORD_ACTION\" }\n                ),\n                /*Parse the queryResult*/\n                local!queryResultParse: choose(\n                  rule!AS_CO_UT_chooseWherecontainsHelper(\n                    value: ri!returnType,\n                    inArray: rule!AS_CO_CONS_QE_RETURN_TYPES()\n                  ),\n                  /*Default, required value based on how AS_CO_UT_chooseWherecontainsHelper operates*/\"\",\n                  /*DATA_SUBSET*/local!queryResult,\n                  /*SINGLE_OBJECT*/local!queryResult.data,\n                  /*OBJECT_ARRAY*/local!queryResult.data,\n                  /*AGGREGATION*/local!queryResult.data,\n                  /*TOTAL_COUNT*/local!queryResult.totalCount,\n                  \n                ),\n                rule!AS_CO_UT_cast(\n                  type: local!castResultToType,\n                  value: local!queryResultParse\n                )\n              )\n            )\n          )\n        )\n      )\n    )\n  )\n)/*\n\nDOCUMENTATION\n\nThis rule is designed to minimize the overhead with querying data and then casting the result\n\n\nRequired Inputs:\n\n1. entity \n- This is the data store entity you are querying\n-- e.g. cons!AS_DATA_STORE_ENTITY_CASES\n\n2. entityType\n- This is a type! input of the data type which maps to the underlying data store entity\n- Note that your type! input should not end in parenthesis; this is NOT designed to take in an empty CDT\n-- e.g. 'type!{urn:com:appian:types}Case'\n\n3. returnType\n- This depends on the purpose for the query, and should be one of the returnTypes in rule!AS_CO_CONS_QE_RETURN_TYPES\n-- DATA_SUBSET - This will return a DataSubset; pagingInfo is required\n-- SINGLE_OBJECT - This will return a single CDT whose type is the entityType; pagingInfo must be null\n-- OBJECT_ARRAY - This will return an array of CDTs whos type is an array of the entityType; pagingInfo must be null\n-- AGGREGATION - This will return an array of Dictionaries; pagingInfo must be null\n---- NOTE: If you need Aggregation with paging controls, such as for a grid, use returnType DATA_SUBSET\n-- TOTAL_COUNT - This will return an Integer of the total count; pagingInfo must be null\n\n\nOptional Inputs:\n\n4. executeWhen\n- The query will not execute if this is false, the query will execute if this is true or null\n-- This is meant to operate in a similar manner to the showWhen parameter of components\n- Usethistoskipexecutionofaquerywithoutneedingtowrapif()statementsaroundtherule\n-- Examples of this would be to skip querying if your filter value is a null ID\n- If the query does not execute, this will return a null value whose type is based on the returnType input\n\n5. triggerRefresh\n- By default, the query will always re-execute whenever any inputs change\n- However, by updating the value of triggerRefresh, you can also trigger a re-execution even if none of the other inputs change\n\n6. excludeNestedCdts\n- When true, this will exclude all nested CDTs from the query selection, and only include primitive fields\n- When false or null, all fields will be included in the query, including all nested CDTs\n\n7. filters\n- Array of filters to apply to the query, built with a!queryFilter()\n- These filters will be applied with an AND operator\n- These filters will apply in addition to the logicalExpression input, combining both with an AND operator\n\n8. logicalExpression\n- A logical expression to apply to the query, built with a!queryLogicalExpression()\n- This logical expression will apply in addition to the filters input, combining both with an AND operator\n\n9. aggregation\n- Aggregation to apply to the query, built with a!queryAggregation()\n\n10. pagingInfo\n- Paging info to apply to the query, built with a!pagingInfo() or derived from fv!pagingInfo in grids\n- This is required if passing returnType DATA_SUBSET, otherwise it must be null\n- For returnTypes that are not DATA_SUBSET, the batch size will be automatically calculated depending on the returnType\n-- For example, passing SINGLE_OBJECT will automatically apply a batch size of 1, whereas OBJECT_ARRAY and AGGREGATION will automatically apply a batch size of -1\n\n11. sort\n- Array of sort to apply to the query, built with a!sortInfo()\n- This is meant to be used with returnType OBJECT_ARRAY and AGGREGATION, since pagingInfo is not required for these, but a specified sort may be used\n\n12. batchSize\n- Batch size to apply to the query\n- This is meant to be used with returnType OBJECT_ARRAY and AGGREGATION, since pagingInfo is not required for these, but a specified batchSize may be used\n\n*/"
    },
    "_a-0000e9e2-fe39-8000-9c72-011c48011c48_5802259": {
      "name": "AS_GAM_filterCdtOrRecordDataByField",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdtOrRecord),\n  index(\n    a!flatten(ri!cdtOrRecord),\n    rule!AS_GAM_returnCdtOrRecordIndicesByField(\n      cdtOrRecord: ri!cdtOrRecord,\n      field: ri!field,\n      value: ri!value\n    ),\n    {}\n  )\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_87660": {
      "name": "AS_CO_UT_sortArray",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!array),\n  if(\n    rule!AS_CO_UT_isBlank(ri!array),\n    ri!array,\n    todatasubset(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!array,\n        expression: {item: fv!item}\n      ),\n      #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: -1,\n        sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: \"item\",\n          ascending: rule!AS_CO_UT_replaceNull(nullableValue: ri!ascending, replacementValue: true)\n        )\n      )\n    ).data.item\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_268798": {
      "name": "AS_CO_UT_zINTERNAL_updateCdtFieldsByPath_handler",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n\n    and(\n      rule!AS_CO_UT_isBlank(cleanwith(ri!field, \".[]\")),\n      rule!AS_CO_UT_isNotBlank(stripwith(ri!field, \"1234567890\")),\n      not(\n        /*Cannot do a \"simple\" update if its a dictionary list, map list, or the field itself is an array*/\n        or(\n          rule!AS_CO_UT_typeCompare(\n            value1: ri!cdt,\n            value2: rule!AS_CO_UT_returnNullDictionaryList()\n          ),\n          rule!AS_CO_UT_typeCompare(\n            value1: ri!cdt,\n            value2: {a!map()}\n          ),\n          and(\n            /*Both the CDT to update and the field within the CDT are list types*/\n            rule!AS_CO_UT_checkIfArrayType(\n              typeOf: ri!cdt\n            ),\n            rule!AS_CO_UT_checkIfArrayType(\n              typeOf: rule!AS_CO_UT_returnSingleTypeObject(\n                typeOf: ri!cdt\n              )[ri!field]\n            )\n          )\n        )\n      )\n    ),\n\n    /*Early exit for a simple field-update*/\n    rule!AS_CO_UT_zINTERNAL_updateCdtFields_updateHandler(\n      cdt: ri!cdt,\n      field: ri!field,\n      indices: ri!indices,\n      newValue: ri!newValue\n    ),\n\n    with(\n      local!fieldsAndIndices: rule!AS_CO_UT_zINTERNAL_indexPath_nestedFieldArrayHandler(field: ri!field),\n\n      reduce(\n        rule!AS_CO_UT_zINTERNAL_updateCdtFieldsByPath_nestHandler(\n          previous: _,\n          cdt: ri!cdt,\n          fieldsAndIndices: local!fieldsAndIndices,\n          /*Indices is only used when passing through from AS_CO_UT_updateCdtFields, never AS_CO_UT_updateCdtFieldsByPath*/\n          indices: ri!indices,\n          index: _\n        ),\n        ri!newValue,\n        reverse(rule!AS_CO_UT_enumForCount(input: local!fieldsAndIndices))\n      )\n    )\n  )\n)"
    },
    "5f18e821-865e-464d-b974-57c20096c58f": {
      "name": "AS_GCM_UT_getIdentifiersInBatches",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!identifiers),\n  null(),\n  a!localVariables(\n    /* Batching size to divide the identifiers into batches */\n    local!batchingSize: a!defaultValue(\n      value: ri!batchingSize,\n      default: cons!AS_GCM_INT_QUERY_BATCH_SIZE_TINY\n    ),\n    local!identifiers: if(\n      and(\n        ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n        ri!pagingInfo.batchSize <> - 1\n      ),\n      index(\n        ri!identifiers,\n        enumerate(\n          a!defaultValue(\n            value: ri!pagingInfo.batchSize,\n            default: local!batchingSize\n          )\n        ) + a!defaultValue(\n          value: ri!pagingInfo.startIndex,\n          default: 1\n        ),\n        null()\n      ),\n      ri!identifiers\n    ),\n    /* To divide the whole identifiers to the total Batch Size */\n    local!batches: if(\n      rule!AS_CO_UT_isBlank(local!identifiers),\n      null(),\n      enumerate(\n        ceiling(\n          length(local!identifiers) / local!batchingSize\n        )\n      )\n    ),\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!batches,\n      expression: a!localVariables(\n        local!itemCount: if(\n          fv!item * local!batchingSize + local!batchingSize < length(local!identifiers),\n          local!batchingSize,\n          length(local!identifiers) - fv!item * local!batchingSize\n        ),\n        a!map(\n          batch: fv!item,\n          identifiers: index(\n            local!identifiers,\n            enumerate(local!itemCount) + fv!item * local!batchingSize + 1,\n            null\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76367": {
      "name": "AS_CO_UT_rejectNullValuesFromArray",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!array),\n  reject(\n    rule!AS_CO_UT_isBlank(_),\n    a!flatten(ri!array)\n  )\n)"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9761091": {
      "name": "AS_GCM_filterRecords",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!fieldValuePairs: a!defaultValue(\n    ri!fieldValuePairs,\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: a!flatten(ri!field),\n      expression: a!map(\n        field: fv!item,\n        value: if(\n          fv!itemCount = 1,\n          ri!value,\n          index(a!flatten(ri!value), fv!index, null)\n        )\n      )\n    )\n  ),\n  local!matchIndices: if(\n    a!isNullOrEmpty(a!flatten(ri!records)),\n    tointeger({}),\n    reduce(\n      rule!AS_GCM_filterRecords_Reducer(\n        previousIndices: _,\n        records: a!flatten(ri!records),\n        fieldValuePair: _\n      ),\n      enumerate(count(a!flatten(ri!records))) + 1,\n      local!fieldValuePairs\n    )\n  ),\n  local!rejectIndices: difference(\n    if(\n      a!isNullOrEmpty(ri!records),\n      tointeger({}),\n      enumerate(count(a!flatten(ri!records))) + 1\n    ),\n    local!matchIndices\n  ),\n  local!matches: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!matchIndices, {})\n  ),\n  local!rejects: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!rejectIndices, {})\n  ),\n  local!output: a!match(\n    value: a!defaultValue(ri!filterType, \"FILTER\"),\n    equals: \"FILTER\",\n    then: local!matches,\n    equals: \"REJECT\",\n    then: local!rejects,\n    equals: \"FIRST_MATCH\",\n    then: index(local!matches, 1, null),\n    equals: \"FIRST_REJECT\",\n    then: index(local!rejects, 1, null),\n    equals: \"MATCH_COUNT\",\n    then: count(local!matchIndices),\n    equals: \"REJECT_COUNT\",\n    then: count(local!rejectIndices),\n    equals: \"MATCH_INDICES\",\n    then: local!matchIndices,\n    equals: \"REJECT_INDICES\",\n    then: local!rejectIndices,\n    equals: \"FULL_RESULT\",\n    then: a!map(\n      matches: local!matches,\n      rejects: local!rejects,\n      firstMatch: index(local!matches, 1, null),\n      firstReject: index(local!rejects, 1, null),\n      matchCount: count(local!matchIndices),\n      rejectCount: count(local!rejectIndices),\n      matchIndices: local!matchIndices,\n      rejectIndices: local!rejectIndices\n    ),\n    default: fn!error(\n      \"Invalid filterType, must be one of: FILTER, REJECT, FIRST_MATCH, FIRST_REJECT, MATCH_COUNT, REJECT_COUNT, MATCH_INDICES, REJECT_INDICES, FULL_RESULT\"\n    )\n  ),\n  local!output\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_268479": {
      "name": "AS_CO_UT_updateCdtFieldsByPath",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  reduce(\n    rule!AS_CO_UT_zINTERNAL_updateCdtFieldsByPath_handler(\n      cdt: _,\n      field: _,\n      newValue: _\n    ),\n    ri!cdt,\n    merge(\n      a!flatten(ri!fields),\n      a!flatten(ri!newValues)\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73536": {
      "name": "AS_CO_UT_isBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  length(a!flatten(ri!value)) = 0\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_157548": {
      "name": "AS_CO_UT_checkIfSingleType",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  with(\n    local!typeNumber: rule!AS_CO_UT_returnTypeNumber(\n      type: ri!type,\n      typeOf: ri!typeOf\n    ),\n  \n    and(\n      /*The type of the input equals the type of the input returned as single type*/\n      local!typeNumber = rule!AS_CO_UT_returnTypeNumber(\n        typeOf: rule!AS_CO_UT_returnSingleTypeObject(typeOf: cast(local!typeNumber, null))\n      ),\n      \n      /*And the type of the input is not list of variant*/\n      local!typeNumber <> rule!AS_CO_UT_returnTypeNumber(\n        typeOf: {}\n      )\n    )\n  )\n)"
    },
    "_a-0000eaf1-8805-8000-9cec-011c48011c48_9106170": {
      "name": "AS_GAM_rejectCdtOrRecordDataByField",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdtOrRecord),\n  if(\n    or(\n      rule!AS_CO_UT_isBlank(ri!cdtOrRecord),\n      ri!rejectWhen = false()\n    ),\n    ri!cdtOrRecord,\n    remove(\n      a!flatten(ri!cdtOrRecord),\n      rule!AS_GAM_returnCdtOrRecordIndicesByField(\n        cdtOrRecord: ri!cdtOrRecord,\n        field: ri!field,\n        value: ri!value\n      )\n    )\n  )\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13127092": {
      "name": "AS_GCM_CEDM_updateImportDataWithRecordsUpdated",
      "type": "Expression Rule",
      "sail_code": "#\"urn:appian:function:v1:a:update\"(\n  ri!importData,\n  \"records\",\n  a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!importData.records,\n      expression: if(\n        fv!item.uuid = ri!configMap.uuid,\n        #\"urn:appian:function:v1:a:update\"(\n          fv!item,\n          \"updatedData\",\n          a!defaultValue(\n            value: ri!recordsUpdated,\n            default: ri!storedValues\n          )\n        ),\n        fv!item\n      )\n    )\n  )\n)"
    },
    "_a-0000ed77-8e71-8000-9df8-011c48011c48_15332486": {
      "name": "AS_GCM_CEDM_constructLogMap",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  timestamp: now(),\n  uuid: ri!uuid,\n  name: ri!name,\n  logMessage: ri!logMessage,\n  logLevel: a!defaultValue(value: ri!logLevel, default: \"INFO\")\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_272151": {
      "name": "AS_CO_UT_whereContains",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer?list',\n  with(\n    local!array: a!flatten(ri!array),\n  \n    if(\n    \n      /*Have to handle separately for document types due to how it casts to string*/\n      rule!AS_CO_UT_typeCompare(\n        value1: local!array,\n        value2: {todocument(null)}\n      ),\n      wherecontains(\n        todocument(ri!values),\n        local!array\n      ),\n    \n      /*Have to handle separately for group types due to how it casts to string*/\n      rule!AS_CO_UT_typeCompare(\n        value1: local!array,\n        value2: {togroup(null)}\n      ),\n      wherecontains(\n        togroup(ri!values),\n        local!array\n      ),\n    \n      /*Casting to string accounts for any primitive type (integer, boolean, ect.)*/\n      wherecontains(\n        if(\n          rule!AS_CO_UT_isBlank(ri!values),\n          touniformstring(ri!values),\n          touniformstring(a!flatten(ri!values))\n        ),\n        touniformstring(local!array)\n      )\n    )\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_268432": {
      "name": "AS_CO_UT_zINTERNAL_updateCdtFields_handler",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    and(\n      /*Have to handle differently for a dictionary/map list, or if the underlying field is an array*/\n      or(\n        rule!AS_CO_UT_typeCompare(\n          value1: ri!cdt,\n          value2: rule!AS_CO_UT_returnNullDictionaryList()\n        ),\n        rule!AS_CO_UT_typeCompare(\n          value1: ri!cdt,\n          value2: {a!map()}\n        ),\n        and(\n          /*Both the CDT to update and the field within the CDT are list types*/\n          rule!AS_CO_UT_checkIfArrayType(\n            typeOf: ri!cdt\n          ),\n          rule!AS_CO_UT_checkIfArrayType(\n            typeOf: rule!AS_CO_UT_returnSingleTypeObject(\n              typeOf: ri!cdt\n            )[ri!field]\n          )\n        )\n      ),\n      rule!AS_CO_UT_typeCompare(\n        value1: ri!field,\n        /*Actual field type, not index*/\n        value2: \"\"\n      )\n    ),\n    apply(\n      rule!AS_CO_UT_zINTERNAL_updateCdtFields_dicionaryHandler(\n        dicionary: ri!cdt,\n        indices: a!defaultValue(\n          value: ri!indices,\n          default: rule!AS_CO_UT_enumForCount(input: ri!cdt)\n        ),\n        field: ri!field,\n        newValue: ri!newValue,\n        index: _\n      ),\n      rule!AS_CO_UT_enumForCount(input: ri!cdt)\n    ),\n    rule!AS_CO_UT_zINTERNAL_updateCdtFields_updateHandler(\n      cdt: ri!cdt,\n      field: ri!field,\n      indices: ri!indices,\n      newValue: ri!newValue\n    )\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_268359": {
      "name": "AS_CO_UT_zINTERNAL_updateCdtFields_dicionaryHandler",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  if(\n\n    contains(ri!indices, ri!index),\n\n    rule!AS_CO_UT_zINTERNAL_updateCdtFields_updateHandler(\n      cdt: ri!dicionary[ri!index],\n      field: ri!field,\n      newValue: ri!newValue\n    ),\n    \n    ri!dicionary[ri!index]\n  )\n)"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9756924": {
      "name": "AS_GCM_dropNonWritableRelationshipsFromRecord_Reducer",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!record),\n  ri!record,\n  if(\n    or(\n      rule!AS_CO_UT_isNotBlank(ri!record[ri!relationship]),\n      contains(\n        touniformstring(\n          rule!AS_GCM_getAllPresentRelationshipsFromRecord(records: ri!record)\n        ),\n        tostring(ri!relationship)\n      )\n    ),\n    remove(ri!record, ri!relationship),\n    ri!record\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75782": {
      "name": "AS_CO_UT_isNotBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  not(rule!AS_CO_UT_isBlank(ri!input))\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13126426": {
      "name": "AS_GCM_CEDM_typeConfigMapForDataMigration",
      "type": "Expression Rule",
      "sail_code": "/*\na!map(\n      uuid: <UUID of the record or Data Type>,\n            <UUID_1 denotes the replica of a record for a different exporting purpose>\n            Eg: UUID - 66fc3179-f0d8-4d6d-bbce-92b85f7c665a -- foreignKeyField: questionnaireTemplateID\n                UUID_1 - 66fc3179-f0d8-4d6d-bbce-92b85f7c665a_1 -- foreignKeyField: null\n      groupUuid: <UUID used to group the data together during Export>,\n      recordType: <RecordType reference when the uuid is of a record>,\n      dataStoreEntity: <DSE Constant when the uuid is of a data type>,\n      entityType: <Entity type when the uuid is of a data type>,\n      displayName: <Used to display in the frontend during export>,\n      userDisplayName: <Used to display to the end user>,\n      isIndependentExportable: <Determines if this record is exportable independently/parent record>,\n      primaryKeyField: <Primary key field>,\n      foreignKeyField: <Field which will used to filter data based on precedent record field maps>,\n      createdByField: <created by field for capturing metadata>,\n      createdDatetimeField: <created datetime field for capturing metadata>,\n      modifiedByField: <modified by field for capturing metadata>,\n      modifiedDatetimeField: <modified datetime field for capturing metadata>,\n      metadataFields: <All the metadata fields except isActive field which would be used to check if any field is changed except these fields>,\n      customRecordFields:<The custom record fields of the record type>,\n      primaryIdentifierFields: <The fields used to uniquely identify a record usually crossEnvironmentUuid>,\n      secondaryIdentifierFields: <The fields which would be used to identify the record when primaryIdentifier fields don't match>,\n      precedentRecordFieldMaps: <The foreignKey references present in current record which needs to be updated when there is a new record creation happened for these precedentRecordUuid>,\n      dependentRecordUuids: <The record uuids which needs to be exported mandatorily when this current record is exported>,\n      allowedOperations: <Allows values are \"CREATE\" and \"UPDATE\" which means if this records can add new rows in the target environment or can it only allow updates>,\n      order: <The order in which the records will be exported or imported>,\n      writeBatchSize: <The Batch size in which the data needs to be written>,\n      queryBatchSize: <The batch size in which the data needs to be queried>,\n      exportBatchSize: <Specifies the number of records per document when batching the data into multiple documents>,\n      exportWithoutParent: <Boolean field to define whether to export the records without the parent data>,\n      exportFilters: <Field to capture the filters that are to be applied on the record during export>,\n      isActiveField: <Field to reference the record's isActive field>,\n      importRejectionMaps: <Field to capture the maps that are to be rejected if null during the import>,\n      nonWritableRelationships: <Field to capture the record relationships that are to be ignored during import write>\n    )\n*/\na!localVariables(\n  local!bundle: rule!AS_GCM_CO_UT_loadBundleFromFolder(langISOCode: null),\n  local!configMaps: {\n    /* Questionnaire related records are excluded as the questionnaire synced record migration is still in progress\n\n  Refer: https://issues.appian.com/browse/GAM-12105\n\n\n  Pass a setMetaData rule reference below with key setMetadataRuleRef for special metadata calculation. For example refer AS GCM R Clause Record\n  */\n    a!map(\n      uuid: \"12b3d808-5bcd-47fa-8f90-8bc2b78b9553\",\n      groupUuid: \"12b3d808-5bcd-47fa-8f90-8bc2b78b9553\",\n      recordType: recordType!AS GCM R Data,\n      displayName: \"Reference Data\",\n      isIndependentExportable: true,\n      primaryKeyField: recordType!AS GCM R Data.refDataId,\n      foreignKeyField: null,\n      createdByField: recordType!AS GCM R Data.createdBy,\n      createdDatetimeField: recordType!AS GCM R Data.createdDatetime,\n      modifiedByField: recordType!AS GCM R Data.modifiedBy,\n      modifiedDatetimeField: recordType!AS GCM R Data.modifiedDatetime,\n      /* The below fields will be retained from the target env   */\n      metadataFields: {\n        recordType!AS GCM R Data.createdBy,\n        recordType!AS GCM R Data.createdDatetime,\n        recordType!AS GCM R Data.modifiedBy,\n        recordType!AS GCM R Data.modifiedDatetime\n      },\n      customRecordFields: {},\n      primaryIdentifierFields: {\n        recordType!AS GCM R Data.refDataId\n      },\n      secondaryIdentifierFields: null,\n      precedentRecordFieldMaps: null,\n      /* Indicates the records which are mandatorily updated or written to database when this parent is updated     */\n      dependentRecordUuids: null,\n      allowedOperations: \"UPDATE\",\n      order: 1,\n      exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n    ),\n    a!map(\n      uuid: \"eb8317e5-4eb6-4d46-8cd5-9ebcfafd6b67\",\n      groupUuid: \"eb8317e5-4eb6-4d46-8cd5-9ebcfafd6b67\",\n      recordType: recordType!AS GCM Fill In Recommendation,\n      displayName: \"Fill-in Recommendations\",\n      isIndependentExportable: true,\n      primaryKeyField: recordType!AS GCM Fill In Recommendation.fillInRecId,\n      foreignKeyField: null,\n      createdByField: recordType!AS GCM Fill In Recommendation.createdBy,\n      createdDatetimeField: recordType!AS GCM Fill In Recommendation.createdDatetime,\n      modifiedByField: recordType!AS GCM Fill In Recommendation.modifiedBy,\n      modifiedDatetimeField: recordType!AS GCM Fill In Recommendation.modifiedDatetime,\n      /* The below fields will be retained from the target env   */\n      metadataFields: {\n        recordType!AS GCM Fill In Recommendation.createdBy,\n        recordType!AS GCM Fill In Recommendation.createdDatetime,\n        recordType!AS GCM Fill In Recommendation.modifiedBy,\n        recordType!AS GCM Fill In Recommendation.modifiedDatetime\n      },\n      customRecordFields: {},\n      primaryIdentifierFields: {\n        recordType!AS GCM Fill In Recommendation.crossEnvironmentUuid\n      },\n      secondaryIdentifierFields: {},\n      precedentRecordFieldMaps: {},\n      /* Indicates the records which are mandatorily updated or written to database when this parent is updated     */\n      dependentRecordUuids: {},\n      allowedOperations: { \"CREATE\", \"UPDATE\" },\n      order: 1,\n      exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n    ),\n    a!map(\n      uuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_R_CLAUSE,\n      groupUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_R_CLAUSE,\n      recordType: recordType!AS GCM R Clause,\n      displayName: \"\",\n      isIndependentExportable: true,\n      primaryKeyField: recordType!AS GCM R Clause.clauseId,\n      foreignKeyField: null,\n      createdByField: recordType!AS GCM R Clause.createdBy,\n      createdDatetimeField: recordType!AS GCM R Clause.createdDatetime,\n      modifiedByField: recordType!AS GCM R Clause.modifiedBy,\n      modifiedDatetimeField: recordType!AS GCM R Clause.modifiedDatetime,\n      /*setMetadataRuleRef: rule!AS_GCM_setMetaDataForClauseRecord,*/\n      /* The below fields will be retained from the target env   */\n      metadataFields: {\n        recordType!AS GCM R Clause.syncUpdatedBy,\n        recordType!AS GCM R Clause.syncUpdatedDatetime,\n        recordType!AS GCM R Clause.createdBy,\n        recordType!AS GCM R Clause.createdDatetime,\n        recordType!AS GCM R Clause.modifiedBy,\n        recordType!AS GCM R Clause.modifiedDatetime\n      },\n      customRecordFields: {\n        recordType!AS GCM R Clause.truncatedClauseTitle,\n        recordType!AS GCM R Clause.fullClauseTitle,\n        recordType!AS GCM R Clause.clauseNumberWithAlternate,\n        recordType!AS GCM R Clause.manuallyAddedCountInClauseSet,\n        recordType!AS GCM R Clause.manuallyRemovedCountFromClauseSet,\n        recordType!AS GCM R Clause.clauseSetCount,\n        recordType!AS GCM R Clause.templateCount,\n        recordType!AS GCM R Clause.ruleCount,\n        recordType!AS GCM R Clause.rulesIncludingClauseCount,\n        recordType!AS GCM R Clause.rulesExcludingClauseCount,\n        recordType!AS GCM R Clause.templatesIncludingClauseCount,\n        recordType!AS GCM R Clause.templatesExcludingClauseCount\n      },\n      primaryIdentifierFields: {\n        recordType!AS GCM R Clause.crossEnvironmentUuid\n      },\n      secondaryIdentifierFields: {},\n      /* Defines all the related record fields which needs to be updated    */\n      precedentRecordFieldMaps: {\n        a!map(\n          precedentRecordUuid: \"12b3d808-5bcd-47fa-8f90-8bc2b78b9553\",\n          fields: {\n            recordType!AS GCM R Clause.refSourceId,\n            recordType!AS GCM R Clause.refTypeId,\n            recordType!AS GCM R Clause.refFormatId,\n            recordType!AS GCM R Clause.fpSupId,\n            recordType!AS GCM R Clause.crSupId,\n            recordType!AS GCM R Clause.fpRdId,\n            recordType!AS GCM R Clause.crRdId,\n            recordType!AS GCM R Clause.fpSvcId,\n            recordType!AS GCM R Clause.crSvcId,\n            recordType!AS GCM R Clause.fpConId,\n            recordType!AS GCM R Clause.crConId,\n            recordType!AS GCM R Clause.tmLhId,\n            recordType!AS GCM R Clause.lmvId,\n            recordType!AS GCM R Clause.comSvcId,\n            recordType!AS GCM R Clause.ddrId,\n            recordType!AS GCM R Clause.aeId,\n            recordType!AS GCM R Clause.facId,\n            recordType!AS GCM R Clause.indDelId,\n            recordType!AS GCM R Clause.trnId,\n            recordType!AS GCM R Clause.sapId,\n            recordType!AS GCM R Clause.utlSvcId,\n            recordType!AS GCM R Clause.cpCsId\n          }\n        ),\n        a!map(\n          precedentRecordUuid: \"47bbc0df-53ea-44bb-9bd4-1832c78eeb1f\",\n          fields: {\n            recordType!AS GCM R Clause.ucfSectionId\n          }\n        )\n      },\n      /* Indicates the records which are mandatorily updated or written to database when this parent is updated     */\n      dependentRecordUuids: {\n        /*tostring(*/\n        /*'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Clause_Texts'*/\n        /*),*/\n        \"180bd846-b3d3-47e2-a7b0-87562992811f\"/* Additional Section */\n        \n      },\n      allowedOperations: { \"CREATE\", \"UPDATE\" },\n      order: 3,\n      exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n    ),\n    a!map(\n      uuid: cons!AS_GCM_CEDM_TXT_ENTITY_UUID_CLAUSE_TEXT,\n      dataStoreEntity: cons!AS_GCM_ENT_R_CLAUSE_TEXTS,\n      entityType: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Clause_Texts',\n      displayName: \"Clause Texts\",\n      isIndependentExportable: false,\n      primaryKeyField: \"clauseTextId\",\n      foreignKeyField: \"clauseId\",\n      createdByField: \"createdBy\",\n      createdDatetimeField: \"createdDatetime\",\n      modifiedByField: \"modifiedBy\",\n      modifiedDatetimeField: \"modifiedDatetime\",\n      /*The below fields will be retained from the target env */\n      metadataFields: {\n        \"syncUpdatedBy\",\n        \"syncUpdatedDatetime\",\n        \"createdBy\",\n        \"createdDatetime\",\n        \"modifiedBy\",\n        \"modifiedDatetime\"\n      },\n      customRecordFields: {},\n      primaryIdentifierFields: { \"crossEnvironmentUuid\" },\n      /*clauseId is the secondaryIdentifier here because the clause Id is the foreignKey */\n      secondaryIdentifierFields: {},\n      precedentRecordFieldMaps: {\n        a!map(\n          precedentRecordUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_R_CLAUSE,\n          fields: { \"clauseId\" }\n        )\n      },\n      /*Indicates the records which are mandatorily updated or written to database when this parent is updated */\n      dependentRecordUuids: {},\n      allowedOperations: { \"CREATE\", \"UPDATE\" },\n      order: 11,\n      writeBatchSize: 100,\n      queryBatchSize: 3,\n      exportBatchSize: 50\n    ),\n    a!map(\n      uuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_R_TEMPLATE,\n      groupUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_R_TEMPLATE,\n      recordType: recordType!AS GCM R Template,\n      displayName: \"\",\n      isIndependentExportable: true,\n      primaryKeyField: recordType!AS GCM R Template.templateId,\n      foreignKeyField: null,\n      createdByField: recordType!AS GCM R Template.createdBy,\n      createdDatetimeField: recordType!AS GCM R Template.createdDatetime,\n      modifiedByField: recordType!AS GCM R Template.modifiedBy,\n      modifiedDatetimeField: recordType!AS GCM R Template.modifiedDatetime,\n      /* The below fields will be retained from the target env   */\n      metadataFields: {\n        recordType!AS GCM R Template.createdBy,\n        recordType!AS GCM R Template.createdDatetime,\n        recordType!AS GCM R Template.modifiedBy,\n        recordType!AS GCM R Template.modifiedDatetime\n      },\n      customRecordFields: {},\n      primaryIdentifierFields: {\n        recordType!AS GCM R Template.crossEnvironmentUuid\n      },\n      secondaryIdentifierFields: {},\n      precedentRecordFieldMaps: {},\n      /* Indicates the records which are mandatorily updated or written to database when this parent is updated     */\n      dependentRecordUuids: {\n        cons!AS_GCM_CEDM_TXT_RECORD_UUID_TEMPLATE_CLAUSE\n      },\n      allowedOperations: { \"CREATE\", \"UPDATE\" },\n      order: 1,\n      exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n    ),\n    a!map(\n      uuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_TEMPLATE_CLAUSE,\n      groupUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_TEMPLATE_CLAUSE,\n      recordType: recordType!AS GCM Template Clause,\n      displayName: \"Template Clauses\",\n      isIndependentExportable: false,\n      primaryKeyField: recordType!AS GCM Template Clause.relationId,\n      foreignKeyField: recordType!AS GCM Template Clause.templateId,\n      createdByField: recordType!AS GCM Template Clause.createdBy,\n      createdDatetimeField: recordType!AS GCM Template Clause.createdDatetime,\n      modifiedByField: recordType!AS GCM Template Clause.modifiedBy,\n      modifiedDatetimeField: recordType!AS GCM Template Clause.modifiedDatetime,\n      /* The below fields will be retained from the target env   */\n      metadataFields: {\n        recordType!AS GCM Template Clause.createdBy,\n        recordType!AS GCM Template Clause.createdDatetime,\n        recordType!AS GCM Template Clause.modifiedBy,\n        recordType!AS GCM Template Clause.modifiedDatetime\n      },\n      customRecordFields: {},\n      primaryIdentifierFields: {\n        recordType!AS GCM Template Clause.crossEnvironmentUuid\n      },\n      secondaryIdentifierFields: {},\n      precedentRecordFieldMaps: {\n        a!map(\n          precedentRecordUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_R_TEMPLATE,\n          fields: {\n            recordType!AS GCM Template Clause.templateId\n          }\n        ),\n        a!map(\n          precedentRecordUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_R_CLAUSE,\n          fields: {\n            recordType!AS GCM Template Clause.refClauseId\n          }\n        ),\n        a!map(\n          precedentRecordUuid: \"12b3d808-5bcd-47fa-8f90-8bc2b78b9553\",\n          fields: {\n            recordType!AS GCM Template Clause.refUsageId\n          }\n        )\n      },\n      /* Indicates the records which are mandatorily updated or written to database when this parent is updated     */\n      dependentRecordUuids: {},\n      allowedOperations: { \"CREATE\", \"UPDATE\" },\n      order: 4,\n      exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n    ),\n    a!map(\n      uuid: \"47bbc0df-53ea-44bb-9bd4-1832c78eeb1f\",\n      groupUuid: \"47bbc0df-53ea-44bb-9bd4-1832c78eeb1f\",\n      recordType: recordType!AS GCM R Section,\n      displayName: \"Section\",\n      isIndependentExportable: false,\n      primaryKeyField: recordType!AS GCM R Section.sectionId,\n      foreignKeyField: null,\n      createdByField: recordType!AS GCM R Section.createdBy,\n      createdDatetimeField: recordType!AS GCM R Section.createdDatetime,\n      modifiedByField: recordType!AS GCM R Section.modifiedBy,\n      modifiedDatetimeField: recordType!AS GCM R Section.modifiedDatetime,\n      /* The below fields will be retained from the target env   */\n      metadataFields: {\n        recordType!AS GCM R Section.createdBy,\n        recordType!AS GCM R Section.createdDatetime,\n        recordType!AS GCM R Section.modifiedBy,\n        recordType!AS GCM R Section.modifiedDatetime\n      },\n      customRecordFields: {},\n      primaryIdentifierFields: {\n        recordType!AS GCM R Section.sectionId\n      },\n      secondaryIdentifierFields: null,\n      precedentRecordFieldMaps: {\n        a!map(\n          precedentRecordUuid: \"12b3d808-5bcd-47fa-8f90-8bc2b78b9553\",\n          fields: {\n            recordType!AS GCM R Section.contractFormatId\n          }\n        )\n      },\n      /* Indicates the records which are mandatorily updated or written to database when this parent is updated     */\n      dependentRecordUuids: null,\n      allowedOperations: \"UPDATE\",\n      order: 2,\n      exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n    ),\n    a!map(\n      uuid: \"180bd846-b3d3-47e2-a7b0-87562992811f\",\n      groupUuid: \"180bd846-b3d3-47e2-a7b0-87562992811f\",\n      recordType: recordType!AS GCM R Clause Section Mapping,\n      displayName: \"Additional Section\",\n      isIndependentExportable: false,\n      primaryKeyField: recordType!AS GCM R Clause Section Mapping.mappingId,\n      foreignKeyField: recordType!AS GCM R Clause Section Mapping.clauseId,\n      createdByField: recordType!AS GCM R Clause Section Mapping.createdBy,\n      createdDatetimeField: recordType!AS GCM R Clause Section Mapping.createdDatetime,\n      modifiedByField: recordType!AS GCM R Clause Section Mapping.modifiedBy,\n      modifiedDatetimeField: recordType!AS GCM R Clause Section Mapping.modifiedDatetime,\n      /* The below fields will be retained from the target env   */\n      metadataFields: {\n        recordType!AS GCM R Clause Section Mapping.createdBy,\n        recordType!AS GCM R Clause Section Mapping.createdDatetime,\n        recordType!AS GCM R Clause Section Mapping.modifiedBy,\n        recordType!AS GCM R Clause Section Mapping.modifiedDatetime\n      },\n      customRecordFields: {},\n      primaryIdentifierFields: {\n        recordType!AS GCM R Clause Section Mapping.crossEnvironmentUuid\n      },\n      secondaryIdentifierFields: {},\n      relatedRecordData: #\"SYSTEM_SYSRULES_relatedRecordData\"(\n        relationship: recordType!AS GCM R Clause Section Mapping.refSection,\n        limit: 2\n      ),\n      precedentRecordFieldMaps: {\n        a!map(\n          precedentRecordUuid: \"47bbc0df-53ea-44bb-9bd4-1832c78eeb1f\",\n          fields: {\n            recordType!AS GCM R Clause Section Mapping.sectionId\n          }\n        ),\n        a!map(\n          precedentRecordUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_R_CLAUSE,\n          fields: {\n            recordType!AS GCM R Clause Section Mapping.clauseId\n          }\n        )\n      },\n      /* Indicates the records which are mandatorily updated or written to database when this parent is updated     */\n      dependentRecordUuids: {},\n      allowedOperations: { \"CREATE\", \"UPDATE\" },\n      order: 4,\n      exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE,\n      exportFilters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM R Clause Section Mapping.sectionId,\n          operator: \"not null\"\n        )\n      }\n    ),\n    rule!AS_GCM_CEDM_typeConfigMapForDataMigration_Question(),\n    rule!AS_GCM_CEDM_typeConfigMapForDataMigration_Questionnaire(),\n    rule!AS_GCM_CEDM_typeConfigMapForDataMigration_Rule(bundle: local!bundle)\n  },\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: rule!AS_GAM_UT_sortAnyData(\n      data: local!configMaps,\n      field: \"order\",\n      ascending: true\n    ),\n    expression: if(\n      rule!AS_CO_UT_isNotBlank(fv!item.precedentRecordFieldMaps),\n      rule!AS_CO_UT_updateCdtFieldsByPath(\n        cdt: #\"urn:appian:function:v1:a:update\"(\n          fv!item,\n          \"fields\",\n          rule!AS_CO_UT_rejectNullValuesFromArray(\n            rule!AS_CO_UT_distinct(\n              {\n                if(\n                  rule!AS_CO_UT_isBlank(fv!item.recordType),\n                  a!keys(\n                    rule!AS_CO_UT_cast(type: fv!item.entityType, value: {})\n                  ),\n                  rule!AS_GCM_CEDM_GetRecordFieldsListByRecordType(recordType: fv!item.recordType)\n                ),\n                fv!item.secondaryIdentifierFields,\n                fv!item.primaryIdentifierFields\n              }\n            )\n          )\n        ),\n        fields: \"precedentRecordFieldMaps.thisRecordUuid\",\n        newValues: fv!item.uuid\n      ),\n      #\"urn:appian:function:v1:a:update\"(\n        fv!item,\n        \"fields\",\n        a!flatten(\n          rule!AS_CO_UT_rejectNullValuesFromArray(\n            rule!AS_CO_UT_distinct(\n              {\n                if(\n                  rule!AS_CO_UT_isBlank(fv!item.recordType),\n                  a!keys(\n                    rule!AS_CO_UT_cast(type: fv!item.entityType, value: {})\n                  ),\n                  rule!AS_GCM_CEDM_GetRecordFieldsListByRecordType(recordType: fv!item.recordType)\n                ),\n                fv!item.secondaryIdentifierFields,\n                fv!item.primaryIdentifierFields\n              }\n            )\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000ee79-e5e2-8000-9e3c-011c48011c48_16893477": {
      "name": "AS_GCM_CEDM_isDataUpdated",
      "type": "Expression Rule",
      "sail_code": "a!match(\n  value: ri!configMap,\n  whenTrue: rule!AS_CO_UT_isBlank(ri!thisEnvData),\n  then: true,\n  whenTrue: rule!AS_CO_UT_isBlank(ri!configMap.customRecordFields),\n  then: tostring(ri!updatedFileData) <> tostring(ri!thisEnvData),\n  default: a!localVariables(\n    local!thisEnvData: remove(\n      ri!thisEnvData,\n      rule!AS_CO_UT_rejectNullValuesFromArray(\n        {\n          index(fv!value, \"customRecordFields\", {}),\n          \n        }\n      )\n    ),\n    local!updatedFileData: remove(\n      ri!updatedFileData,\n      rule!AS_CO_UT_rejectNullValuesFromArray(\n        {\n          index(fv!value, \"customRecordFields\", {})\n        }\n      )\n    ),\n    tostring(local!updatedFileData) <> tostring(local!thisEnvData)\n  )\n)"
    },
    "_a-0000ee39-4c1d-8000-9e29-011c48011c48_16493868": {
      "name": "AS_GCM_CEDM_typeConfigMapForDataMigration_Question",
      "type": "Expression Rule",
      "sail_code": "/*\na!map(\n      uuid: <UUID of the record or Data Type>,\n            <UUID_1 denotes the replica of a record for a different exporting purpose>\n            Eg: UUID - 66fc3179-f0d8-4d6d-bbce-92b85f7c665a -- foreignKeyField: questionnaireTemplateID\n                UUID_1 - 66fc3179-f0d8-4d6d-bbce-92b85f7c665a_1 -- foreignKeyField: null\n      groupUuid: <UUID used to group the data together during Export>,\n      recordType: <RecordType reference when the uuid is of a record>,\n      dataStoreEntity: <DSE Constant when the uuid is of a data type>,\n      entityType: <Entity type when the uuid is of a data type>,\n      displayName: <Used to display in the frontend during export>,\n      userDisplayName: <Used to display to the end user>,\n      isIndependentExportable: <Determines if this record is exportable independently/parent record>,\n      primaryKeyField: <Primary key field>,\n      foreignKeyField: <Field which will used to filter data based on precedent record field maps>,\n      createdByField: <created by field for capturing metadata>,\n      createdDatetimeField: <created datetime field for capturing metadata>,\n      modifiedByField: <modified by field for capturing metadata>,\n      modifiedDatetimeField: <modified datetime field for capturing metadata>,\n      metadataFields: <All the metadata fields except isActive field which would be used to check if any field is changed except these fields>,\n      customRecordFields:<The custom record fields of the record type>,\n      primaryIdentifierFields: <The fields used to uniquely identify a record usually crossEnvironmentUuid>,\n      secondaryIdentifierFields: <The fields which would be used to identify the record when primaryIdentifier fields don't match>,\n      precedentRecordFieldMaps: <The foreignKey references present in current record which needs to be updated when there is a new record creation happened for these precedentRecordUuid>,\n      dependentRecordUuids: <The record uuids which needs to be exported mandatorily when this current record is exported>,\n      allowedOperations: <Allows values are \"CREATE\" and \"UPDATE\" which means if this records can add new rows in the target environment or can it only allow updates>,\n      order: <The order in which the records will be exported or imported>,\n      writeBatchSize: <The Batch size in which the data needs to be written>,\n      queryBatchSize: <The batch size in which the data needs to be queried>,\n      exportBatchSize: <Specifies the number of records per document when batching the data into multiple documents>,\n      exportWithoutParent: <Boolean field to define whether to export the records without the parent data>,\n      exportFilters: <Field to capture the filters that are to be applied on the record during export>,\n      isActiveField: <Field to reference the record's isActive field>,\n      importRejectionMaps: <Field to capture the maps that are to be rejected if null during the import>,\n      nonWritableRelationships: <Field to capture the record relationships that are to be ignored during import write>\n    )\n*/\n{\n  a!map(\n    uuid: \"f0bfb0f8-c45d-425c-8450-802bf04a87cf\",\n    groupUuid: \"f0bfb0f8-c45d-425c-8450-802bf04a87cf\",\n    recordType: recordType!AS GCM QNM R Question,\n    displayName: \"Questions\",\n    userDisplayName: \"Questions\",\n    isIndependentExportable: false,\n    exportWithoutParent: false,\n    primaryKeyField: recordType!AS GCM QNM R Question.questionReferenceId,\n    foreignKeyField: null,\n    isActiveField: recordType!AS GCM QNM R Question.isActive,\n    createdByField: recordType!AS GCM QNM R Question.createdBy,\n    createdDatetimeField: recordType!AS GCM QNM R Question.createdDatetime,\n    modifiedByField: recordType!AS GCM QNM R Question.modifiedBy,\n    modifiedDatetimeField: recordType!AS GCM QNM R Question.modifiedDatetime,\n    metadataFields: {\n      recordType!AS GCM QNM R Question.createdBy,\n      recordType!AS GCM QNM R Question.createdDatetime,\n      recordType!AS GCM QNM R Question.modifiedBy,\n      recordType!AS GCM QNM R Question.modifiedDatetime\n    },\n    customRecordFields: {\n      recordType!AS GCM QNM R Question.associatedActiveTemplateQuestionsCount\n    },\n    primaryIdentifierFields: {\n      recordType!AS GCM QNM R Question.crossEnvironmentUuid\n    },\n    secondaryIdentifierFields: null,\n    /* Defines all the related record fields which needs to be updated    */\n    precedentRecordFieldMaps: {},\n    /* Indicates the records which are mandatorily updated or written to database when this parent is updated     */\n    dependentRecordUuids: {\n      \"2e619bc1-d0a1-4346-9fcf-efccb39aee72\",\n      /* R Response */\n      \"527dae14-6fb4-453c-97c9-787080f6805c\"/* R Response Requirement */\n      \n    },\n    allowedOperations: { \"CREATE\", \"UPDATE\" },\n    order: 1,\n    exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n  ),\n  a!map(\n    uuid: \"2e619bc1-d0a1-4346-9fcf-efccb39aee72\",\n    groupUuid: \"2e619bc1-d0a1-4346-9fcf-efccb39aee72\",\n    recordType: recordType!AS GCM QNM R Response,\n    displayName: \"Question Responses\",\n    userDisplayName: \"Question Responses\",\n    isIndependentExportable: false,\n    primaryKeyField: recordType!AS GCM QNM R Response.responseReferenceId,\n    foreignKeyField: recordType!AS GCM QNM R Response.qstnRfrncIdRspnsOptions,\n    isActiveField: recordType!AS GCM QNM R Response.isActive,\n    createdByField: recordType!AS GCM QNM R Response.createdBy,\n    createdDatetimeField: recordType!AS GCM QNM R Response.createdDatetime,\n    modifiedByField: recordType!AS GCM QNM R Response.modifiedBy,\n    modifiedDatetimeField: recordType!AS GCM QNM R Response.modifiedDatetime,\n    metadataFields: {\n      recordType!AS GCM QNM R Response.createdBy,\n      recordType!AS GCM QNM R Response.createdDatetime,\n      recordType!AS GCM QNM R Response.modifiedBy,\n      recordType!AS GCM QNM R Response.modifiedDatetime\n    },\n    customRecordFields: {},\n    primaryIdentifierFields: {\n      recordType!AS GCM QNM R Response.crossEnvironmentUuid\n    },\n    secondaryIdentifierFields: null,\n    /* Defines all the related record fields which needs to be updated    */\n    precedentRecordFieldMaps: {\n      a!map(\n        precedentRecordUuid: \"f0bfb0f8-c45d-425c-8450-802bf04a87cf\",\n        /* R Questions */\n        fields: {\n          recordType!AS GCM QNM R Response.qstnRfrncIdRspnsOptions\n        }\n      )\n    },\n    /* Indicates the records which are mandatorily updated or written to database when this parent is updated     */\n    dependentRecordUuids: {},\n    allowedOperations: { \"CREATE\", \"UPDATE\" },\n    order: 2,\n    exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n  ),\n  a!map(\n    uuid: \"527dae14-6fb4-453c-97c9-787080f6805c\",\n    groupUuid: \"527dae14-6fb4-453c-97c9-787080f6805c\",\n    recordType: recordType!AS GCM QNM R Response Requirement,\n    displayName: \"Question Response Requirements\",\n    userDisplayName: \"Question Response Requirements\",\n    isIndependentExportable: false,\n    primaryKeyField: recordType!AS GCM QNM R Response Requirement.responseRequirementRefId,\n    foreignKeyField: recordType!AS GCM QNM R Response Requirement.questionReferenceId,\n    createdByField: recordType!AS GCM QNM R Response Requirement.createdBy,\n    createdDatetimeField: recordType!AS GCM QNM R Response Requirement.createdDatetime,\n    modifiedByField: recordType!AS GCM QNM R Response Requirement.modifiedBy,\n    modifiedDatetimeField: recordType!AS GCM QNM R Response Requirement.modifiedDatetime,\n    metadataFields: {\n      recordType!AS GCM QNM R Response Requirement.createdBy,\n      recordType!AS GCM QNM R Response Requirement.createdDatetime,\n      recordType!AS GCM QNM R Response Requirement.modifiedBy,\n      recordType!AS GCM QNM R Response Requirement.modifiedDatetime\n    },\n    customRecordFields: {},\n    primaryIdentifierFields: {\n      recordType!AS GCM QNM R Response Requirement.crossEnvironmentUuid\n    },\n    secondaryIdentifierFields: null,\n    /* Defines all the related record fields which needs to be updated    */\n    precedentRecordFieldMaps: {\n      a!map(\n        precedentRecordUuid: \"f0bfb0f8-c45d-425c-8450-802bf04a87cf\",\n        /* R Questions */\n        fields: {\n          recordType!AS GCM QNM R Response Requirement.questionReferenceId\n        }\n      )\n    },\n    /* Indicates the records which are mandatorily updated or written to database when this parent is updated     */\n    dependentRecordUuids: {},\n    allowedOperations: { \"CREATE\", \"UPDATE\" },\n    order: 2,\n    exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n  )\n}"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_157503": {
      "name": "AS_CO_UT_returnTypeNumber",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer',\n  if(\n    isnull(ri!type),\n    typeof(ri!typeOf),\n    typeof(cast(ri!type, null))\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73980": {
      "name": "AS_CO_UT_replaceNull",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!nullableValue),\n  ri!replacementValue,\n  ri!nullableValue\n)"
    },
    "_a-0000ee42-8707-8000-9e2b-011c48011c48_16523297": {
      "name": "AS_GCM_CEDM_typeConfigMapForDataMigration_Rule",
      "type": "Expression Rule",
      "sail_code": "/*\na!map(\n      uuid: <UUID of the record or Data Type>,\n            <UUID_1 denotes the replica of a record for a different exporting purpose>\n            Eg: UUID - 66fc3179-f0d8-4d6d-bbce-92b85f7c665a -- foreignKeyField: questionnaireTemplateID\n                UUID_1 - 66fc3179-f0d8-4d6d-bbce-92b85f7c665a_1 -- foreignKeyField: null\n      groupUuid: <UUID used to group the data together during Export>,\n      recordType: <RecordType reference when the uuid is of a record>,\n      dataStoreEntity: <DSE Constant when the uuid is of a data type>,\n      entityType: <Entity type when the uuid is of a data type>,\n      displayName: <Used to display in the frontend during export>,\n      userDisplayName: <Used to display to the end user>,\n      isIndependentExportable: <Determines if this record is exportable independently/parent record>,\n      primaryKeyField: <Primary key field>,\n      foreignKeyField: <Field which will used to filter data based on precedent record field maps>,\n      createdByField: <created by field for capturing metadata>,\n      createdDatetimeField: <created datetime field for capturing metadata>,\n      modifiedByField: <modified by field for capturing metadata>,\n      modifiedDatetimeField: <modified datetime field for capturing metadata>,\n      metadataFields: <All the metadata fields except isActive field which would be used to check if any field is changed except these fields>,\n      customRecordFields:<The custom record fields of the record type>,\n      primaryIdentifierFields: <The fields used to uniquely identify a record usually crossEnvironmentUuid>,\n      secondaryIdentifierFields: <The fields which would be used to identify the record when primaryIdentifier fields don't match>,\n      precedentRecordFieldMaps: <The foreignKey references present in current record which needs to be updated when there is a new record creation happened for these precedentRecordUuid>,\n      dependentRecordUuids: <The record uuids which needs to be exported mandatorily when this current record is exported>,\n      allowedOperations: <Allows values are \"CREATE\" and \"UPDATE\" which means if this records can add new rows in the target environment or can it only allow updates>,\n      order: <The order in which the records will be exported or imported>,\n      writeBatchSize: <The Batch size in which the data needs to be written>,\n      queryBatchSize: <The batch size in which the data needs to be queried>,\n      exportBatchSize: <Specifies the number of records per document when batching the data into multiple documents>,\n      exportWithoutParent: <Boolean field to define whether to export the records without the parent data>,\n      exportFilters: <Field to capture the filters that are to be applied on the record during export>,\n      isActiveField: <Field to reference the record's isActive field>,\n      importRejectionMaps: <Field to capture the maps that are to be rejected if null during the import>,\n      nonWritableRelationships: <Field to capture the record relationships that are to be ignored during import write>\n    )\n*/\n{\n  a!map(\n    uuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_RULE,\n    groupUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_RULE,\n    recordType: recordType!AS GCM QNM T Rule,\n    displayName: \"\",\n    userDisplayName: \"Rules\",\n    isIndependentExportable: true,\n    primaryKeyField: recordType!AS GCM QNM T Rule.ruleId,\n    foreignKeyField: null,\n    createdByField: recordType!AS GCM QNM T Rule.createdBy,\n    createdDatetimeField: recordType!AS GCM QNM T Rule.createdDatetime,\n    modifiedByField: recordType!AS GCM QNM T Rule.modifiedBy,\n    modifiedDatetimeField: recordType!AS GCM QNM T Rule.modifiedDatetime,\n    metadataFields: {\n      recordType!AS GCM QNM T Rule.createdBy,\n      recordType!AS GCM QNM T Rule.createdDatetime,\n      recordType!AS GCM QNM T Rule.modifiedBy,\n      recordType!AS GCM QNM T Rule.modifiedDatetime\n    },\n    customRecordFields: {\n      recordType!AS GCM QNM T Rule.activeRuleConditionsDistinctCount,\n      recordType!AS GCM QNM T Rule.activeRuleConditionClausesCount,\n      recordType!AS GCM QNM T Rule.ruleVersionMax,\n      recordType!AS GCM QNM T Rule.totalRuleConditions,\n      recordType!AS GCM QNM T Rule.totalRuleConditionClauses,\n      recordType!AS GCM QNM T Rule.activeRuleConditionsCount\n    },\n    primaryIdentifierFields: {\n      recordType!AS GCM QNM T Rule.crossEnvironmentUuid\n    },\n    secondaryIdentifierFields: null,\n    precedentRecordFieldMaps: {\n      a!map(\n        precedentRecordUuid: \"12b3d808-5bcd-47fa-8f90-8bc2b78b9553\",\n        fields: {\n          recordType!AS GCM QNM T Rule.refOperatorId\n        }\n      )\n    },\n    dependentRecordUuids: {\n      cons!AS_GCM_CEDM_TXT_RECORD_UUID_RULE_CONDITIONS,\n      cons!AS_GCM_CEDM_TXT_RECORD_UUID_RULE_CLAUSES,\n      cons!AS_GCM_CEDM_TXT_RECORD_UUID_RULE_CONDITION_GROUP\n    },\n    allowedOperations: { \"CREATE\", \"UPDATE\" },\n    order: 2,\n    exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n  ),\n  a!map(\n    uuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_RULE_CONDITION_GROUP,\n    groupUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_RULE_CONDITION_GROUP,\n    recordType: recordType!AS GCM QNM T Rule Condition Group,\n    displayName: \"Rule conditions groups\",\n    userDisplayName: \"Rule conditions groups\",\n    isIndependentExportable: false,\n    primaryKeyField: recordType!AS GCM QNM T Rule Condition Group.ruleConditionGroupId,\n    foreignKeyField: recordType!AS GCM QNM T Rule Condition Group.ruleId,\n    createdByField: recordType!AS GCM QNM T Rule Condition Group.createdBy,\n    createdDatetimeField: recordType!AS GCM QNM T Rule Condition Group.createdDatetime,\n    modifiedByField: recordType!AS GCM QNM T Rule Condition Group.modifiedBy,\n    modifiedDatetimeField: recordType!AS GCM QNM T Rule Condition Group.modifiedDatetime,\n    metadataFields: {\n      recordType!AS GCM QNM T Rule Condition Group.createdBy,\n      recordType!AS GCM QNM T Rule Condition Group.createdDatetime,\n      recordType!AS GCM QNM T Rule Condition Group.modifiedBy,\n      recordType!AS GCM QNM T Rule Condition Group.modifiedDatetime\n    },\n    customRecordFields: {},\n    primaryIdentifierFields: {\n      recordType!AS GCM QNM T Rule Condition Group.crossEnvironmentUuid\n    },\n    secondaryIdentifierFields: null,\n    nonWritableRelationships: {\n      recordType!AS GCM QNM T Rule Condition Group.conditionGroups,\n      recordType!AS GCM QNM T Rule Condition Group.conditions\n    },\n    isActiveField: recordType!AS GCM QNM T Rule Condition Group.isActive,\n    precedentRecordFieldMaps: {\n      a!map(\n        precedentRecordUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_RULE,\n        fields: {\n          recordType!AS GCM QNM T Rule Condition Group.ruleId\n        }\n      ),\n      a!map(\n        precedentRecordUuid: \"12b3d808-5bcd-47fa-8f90-8bc2b78b9553\",\n        fields: {\n          recordType!AS GCM QNM T Rule Condition Group.refOperatorId\n        }\n      ),\n      a!map(\n        precedentRecordUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_RULE_CONDITION_GROUP,\n        fields: {\n          recordType!AS GCM QNM T Rule Condition Group.parentConditionGroupId\n        }\n      )\n    },\n    dependentRecordUuids: null,\n    allowedOperations: { \"CREATE\", \"UPDATE\" },\n    order: 3,\n    exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE,\n    isSelfReferenced: true\n  ),\n  a!map(\n    uuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_RULE_CONDITIONS,\n    groupUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_RULE_CONDITIONS,\n    recordType: recordType!AS GCM QNM T Rule Condition,\n    displayName: \"Rule conditions\",\n    userDisplayName: \"Rule conditions\",\n    isIndependentExportable: false,\n    primaryKeyField: recordType!AS GCM QNM T Rule Condition.mapId,\n    foreignKeyField: recordType!AS GCM QNM T Rule Condition.ruleId,\n    createdByField: recordType!AS GCM QNM T Rule Condition.createdBy,\n    createdDatetimeField: recordType!AS GCM QNM T Rule Condition.createdDatetime,\n    modifiedByField: recordType!AS GCM QNM T Rule Condition.modifiedBy,\n    modifiedDatetimeField: recordType!AS GCM QNM T Rule Condition.modifiedDatetime,\n    metadataFields: {\n      recordType!AS GCM QNM T Rule Condition.createdBy,\n      recordType!AS GCM QNM T Rule Condition.createdDatetime,\n      recordType!AS GCM QNM T Rule Condition.modifiedBy,\n      recordType!AS GCM QNM T Rule Condition.modifiedDatetime\n    },\n    customRecordFields: {\n      recordType!AS GCM QNM T Rule Condition.ruleConditionVersionIdMax\n    },\n    primaryIdentifierFields: {\n      recordType!AS GCM QNM T Rule Condition.crossEnvironmentUuid\n    },\n    secondaryIdentifierFields: null,\n    nonWritableRelationships: {\n      recordType!AS GCM QNM T Rule Condition.question,\n      recordType!AS GCM QNM T Rule Condition.response,\n      recordType!AS GCM QNM T Rule Condition.rule\n    },\n    isActiveField: recordType!AS GCM QNM T Rule Condition.isActive,\n    precedentRecordFieldMaps: {\n      a!map(\n        precedentRecordUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_RULE,\n        fields: {\n          recordType!AS GCM QNM T Rule Condition.ruleId\n        }\n      ),\n      a!map(\n        precedentRecordUuid: \"66fc3179-f0d8-4d6d-bbce-92b85f7c665a_1\",\n        fields: {\n          recordType!AS GCM QNM T Rule Condition.questionId\n        }\n      ),\n      a!map(\n        precedentRecordUuid: \"31984f80-8be1-4643-801f-3a945c47fa47_1\",\n        fields: {\n          recordType!AS GCM QNM T Rule Condition.responseId\n        }\n      ),\n      a!map(\n        precedentRecordUuid: \"12b3d808-5bcd-47fa-8f90-8bc2b78b9553\",\n        fields: {\n          recordType!AS GCM QNM T Rule Condition.refClauseDataId,\n          recordType!AS GCM QNM T Rule Condition.refOperatorId\n        }\n      ),\n      a!map(\n        precedentRecordUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_RULE_CONDITION_GROUP,\n        fields: {\n          recordType!AS GCM QNM T Rule Condition.ruleConditionGroupId\n        }\n      )\n    },\n    dependentRecordUuids: null,\n    allowedOperations: { \"CREATE\", \"UPDATE\" },\n    order: 8,\n    exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n  ),\n  a!map(\n    uuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_RULE_CLAUSES,\n    groupUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_RULE_CLAUSES,\n    recordType: recordType!AS GCM QNM T Rule Condition Clause,\n    displayName: \"Rule conditions clauses\",\n    userDisplayName: \"Rule conditions clauses\",\n    isIndependentExportable: false,\n    primaryKeyField: recordType!AS GCM QNM T Rule Condition Clause.clauseMapId,\n    foreignKeyField: recordType!AS GCM QNM T Rule Condition Clause.ruleId,\n    createdByField: recordType!AS GCM QNM T Rule Condition Clause.createdBy,\n    createdDatetimeField: recordType!AS GCM QNM T Rule Condition Clause.createdDatetime,\n    modifiedByField: recordType!AS GCM QNM T Rule Condition Clause.modifiedBy,\n    modifiedDatetimeField: recordType!AS GCM QNM T Rule Condition Clause.modifiedDatetime,\n    metadataFields: {\n      recordType!AS GCM QNM T Rule Condition Clause.createdBy,\n      recordType!AS GCM QNM T Rule Condition Clause.createdDatetime,\n      recordType!AS GCM QNM T Rule Condition Clause.modifiedBy,\n      recordType!AS GCM QNM T Rule Condition Clause.modifiedDatetime\n    },\n    customRecordFields: {},\n    primaryIdentifierFields: {\n      recordType!AS GCM QNM T Rule Condition Clause.crossEnvironmentUuid\n    },\n    secondaryIdentifierFields: null,\n    isActiveField: recordType!AS GCM QNM T Rule Condition Clause.isActive,\n    precedentRecordFieldMaps: {\n      a!map(\n        precedentRecordUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_RULE,\n        fields: {\n          recordType!AS GCM QNM T Rule Condition Clause.ruleId\n        }\n      ),\n      a!map(\n        precedentRecordUuid: \"12b3d808-5bcd-47fa-8f90-8bc2b78b9553\",\n        fields: {\n          recordType!AS GCM QNM T Rule Condition Clause.refUsageId\n        }\n      ),\n      a!map(\n        precedentRecordUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_R_CLAUSE,\n        fields: {\n          recordType!AS GCM QNM T Rule Condition Clause.refClauseId\n        }\n      )\n    },\n    dependentRecordUuids: null,\n    allowedOperations: { \"CREATE\", \"UPDATE\" },\n    order: 4,\n    exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n  )\n}"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_101176": {
      "name": "AS_CO_UT_returnNullDictionaryList",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary?list',\n  {}\n)"
    },
    "_a-0000e416-3948-8000-9bb5-011c48011c48_292774": {
      "name": "AS_CO_UT_zINTERNAL_updateCdtFields_updateHandler",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    rule!AS_CO_UT_isBlank(ri!indices),\n    #\"urn:appian:function:v1:a:update\"(\n      data: ri!cdt,\n      index: ri!field,\n      value: ri!newValue\n    ),\n    #\"urn:appian:function:v1:a:update\"(\n      data: ri!cdt,\n      index: ri!indices,\n      value: apply(\n        #\"urn:appian:function:v1:a:update\"(\n          data: _,\n          index: ri!field,\n          value: ri!newValue\n        ),\n        index(ri!cdt, ri!indices, {})\n      )\n    )\n  )\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13127422": {
      "name": "AS_GCM_CEDM_setMetadataForImportData",
      "type": "Expression Rule",
      "sail_code": "a!flatten(\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!fileData,\n    expression: a!localVariables(\n      local!currentFileData: fv!item,\n      local!thisEnvData: rule!AS_GCM_CEDM_filterDataByIdentifierFields(\n        configMap: ri!configMap,\n        thisEnvData: ri!thisEnvData,\n        currentFileData: local!currentFileData\n      ),\n      /* Updating meta data from this environment to the file data  */\n      local!updatedFileData: rule!AS_CO_UT_cast(\n        type: a!defaultValue(\n          value: ri!configMap.recordType,\n          default: ri!configMap.entityType\n        ),\n        value: reduce(\n          #\"urn:appian:function:v1:a:update\"(_, _, _),\n          local!currentFileData,\n          merge(\n            rule!AS_CO_UT_rejectNullValuesFromArray(\n              append(\n                ri!configMap.metadataFields,\n                /* Ignoring the primary key from the export environment because the primary key may not be the same           */\n                ri!configMap.primaryKeyField\n              )\n            ),\n            apply(\n              index(local!thisEnvData, _, null),\n              rule!AS_CO_UT_rejectNullValuesFromArray(\n                append(\n                  ri!configMap.metadataFields,\n                  ri!configMap.primaryKeyField\n                )\n              )\n            )\n          )\n        )\n      ),\n      a!match(\n        value: null,\n        whenTrue: and(\n          rule!AS_GCM_CEDM_isDataUpdated(\n            thisEnvData: rule!AS_GCM_dropNonWritableRelationshipsFromRecord(records: local!thisEnvData,nonWritableRelationships: index(ri!configMap,\"nonWritableRelationships\",null)),\n            updatedFileData: rule!AS_GCM_dropNonWritableRelationshipsFromRecord(records: local!updatedFileData,nonWritableRelationships: index(ri!configMap,\"nonWritableRelationships\",null)),\n            configMap: ri!configMap\n          ),\n          or(\n            and(\n              a!isNullOrEmpty(local!thisEnvData),\n              contains(\n                ri!configMap.allowedOperations,\n                \"CREATE\"\n              )\n            ),\n            and(\n              a!isNotNullOrEmpty(local!thisEnvData),\n              contains(\n                ri!configMap.allowedOperations,\n                \"UPDATE\"\n              )\n            )\n          )\n        ),\n        then: a!match(\n          value: ri!configMap,\n          whenTrue: a!isNotNullOrEmpty(fv!value.setMetadataRuleRef),\n          then: ri!configMap.setMetadataRuleRef(local!updatedFileData, ri!initiator),\n          whenTrue: a!isNullOrEmpty(fv!value.modifiedByField),\n          then: local!updatedFileData,\n          default: rule!AS_GCM_setRecordFields(\n            record: local!updatedFileData,\n            alwaysOverwrite: {\n              a!map(\n                field: ri!configMap.modifiedByField,\n                value: ri!initiator\n              ),\n              a!map(\n                field: ri!configMap.modifiedDatetimeField,\n                value: now()\n              )\n            },\n            neverOverwrite: {\n              a!map(\n                field: ri!configMap.createdByField,\n                value: ri!initiator\n              ),\n              a!map(\n                field: ri!configMap.createdDatetimeField,\n                value: now()\n              )\n            }\n          )\n        ),\n        whenTrue: ri!returnAllData,\n        then: local!updatedFileData,\n        default: {}\n      )\n    )\n  )\n)"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9749583": {
      "name": "AS_GCM_dropNonWritableRelationshipsFromRecord",
      "type": "Expression Rule",
      "sail_code": "/*The main rule to \"cleanse\" the input of a WriteRecords SS node to remove non-writable relationships.\n\nSTANDARD USAGE:\n- Use this in tandem with rule AS_GCM_mergeWriteRecordIdsToProcessVariable (see that description)\n- In the input of a WriteRecords SS (NOT in a previous script task), do:\n  A - Expressionable input to \"Records\" intput\n  B - rule!AS_GCM_dropNonWritableRelationshipsFromRecord(\n    records: pv![the pv to write],\n    relationships: {list of record relationships that are not allowed to be written}\n  )\n\nIMPORTANT GENERAL NOTES: \n- The reason to run this in the input of the WriteRecords SS instead of a previous script task\nis that, when used with AS_GCM_mergeWriteRecordIdsToProcessVariable, you can maintain the relationships\nthat you had to drop before writing.\n  -> For example, if you are writing \"Case\" but it has a child-relationship \"Address\" that cannot be written,\n    - this will drop \"Address\" before attempting to write\n    - if the output is configured properly it will reattach \"Address\" in the output\n    - the overall result is that you basically ran the node as if \"Address\" was ignored, \n      so that you can use it later in the process flow\n*/\n#\"SYSTEM_SYSRULES_forEach\"(\n  items: a!flatten(ri!records),\n  expression: reduce(\n    rule!AS_GCM_dropNonWritableRelationshipsFromRecord_Reducer(record: _, relationship: _),\n    fv!item,\n    a!defaultValue(\n      value: ri!nonWritableRelationships,\n      default: difference(\n        rule!AS_GCM_getAllPresentRelationshipsFromRecord(records: fv!item),\n        ri!writableRelationships\n      )\n    )\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_157603": {
      "name": "AS_CO_UT_cast",
      "type": "Expression Rule",
      "sail_code": "with(  \n  local!typeNumber: rule!AS_CO_UT_returnTypeNumber(\n    type: ri!type,\n    typeOf: ri!typeOf\n  ),\n\n  /* If the object is empty, use null or {} depending on if it is array type or not */\n  local!objectToCast: if(\n    rule!AS_CO_UT_isNotBlank(ri!value),\n    ri!value,\n    rule!AS_CO_UT_checkIfSingleType(\n      type: ri!type,\n      typeOf: ri!typeOf\n    ),\n    null,\n    {}\n  ),\n\n  cast(\n    local!typeNumber,\n    local!objectToCast\n  )\n  \n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76617": {
      "name": "AS_CO_UT_zINTERNAL_indexPath_nestedFieldArrayConvertHandler",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_cast(\n  type: if(\n    rule!AS_CO_UT_isBlank(stripwith(ri!field, \"1234567890\")),\n    'type!{http://www.appian.com/ae/types/2009}Integer',\n    'type!{http://www.appian.com/ae/types/2009}Text',\n  ),\n  value: ri!field\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_268524": {
      "name": "AS_CO_UT_zINTERNAL_updateCdtFieldsByPath_nestHandler",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!nestedCdt: if(\n    ri!index = 1,\n    ri!cdt,\n    rule!AS_CO_UT_zINTERNAL_indexPath_separateFieldHandler(\n      cdt: ri!cdt,\n      fields: ri!fieldsAndIndices[enumerate(ri!index - 1) + 1]\n    )\n  ),\n  \n  /*Have to handle differently for a dictionary/map or list of dictionary/map, or if the field itself is an array*/\n  local!nestedCdtUpdate: if(\n    and(\n      rule!AS_CO_UT_isBlank(local!nestedCdt),\n      or(\n        rule!AS_CO_UT_typeCompare(\n          value1: ri!cdt,\n          value2: rule!AS_CO_UT_returnNullDictionary()\n        ),\n        rule!AS_CO_UT_typeCompare(\n          value1: ri!cdt,\n          value2: rule!AS_CO_UT_returnNullDictionaryList()\n        ),\n        rule!AS_CO_UT_typeCompare(\n          value1: ri!cdt,\n          value2: a!map()\n        ),\n        rule!AS_CO_UT_typeCompare(\n          value1: ri!cdt,\n          value2: {a!map()}\n        )\n      )\n    ),\n    if(\n      /*Have to handle differently if passing indices through from AS_CO_UT_updateCdtFields*/\n      and(\n        rule!AS_CO_UT_isNotBlank(ri!indices),\n        ri!index = 1\n      ),\n      rule!AS_CO_UT_returnNullDictionaryList(),\n      rule!AS_CO_UT_returnNullDictionary()\n    ),\n    local!nestedCdt\n  ),\n  \n  rule!AS_CO_UT_zINTERNAL_updateCdtFields_handler(\n    cdt: local!nestedCdtUpdate,\n    field: ri!fieldsAndIndices[ri!index],\n/*Indices is only used when passing through from AS_CO_UT_updateCdtFields, never AS_CO_UT_updateCdtFieldsByPath*/\n    indices: if(ri!index = 1, ri!indices, {}),\n    newValue: ri!previous\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75842": {
      "name": "AS_CO_UT_returnSingleTypeObject",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!typeOf: if(\n    isnull(ri!type),\n    ri!typeOf,\n    cast(\n      ri!type,\n      {}\n    )\n  ),\n\n  index(\n    cast(\n      typeof({local!typeOf}), \n      updatearray({local!typeOf}, 1, {})\n    ), \n    1,\n    {}\n  )\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_101148": {
      "name": "AS_CO_UT_returnNullDictionary",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  null\n)"
    },
    "_a-0000e415-3035-8000-9bb2-011c48011c48_291952": {
      "name": "AS_CO_UT_checkIfArrayType",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  not(rule!AS_CO_UT_checkIfSingleType(\n    type: ri!type,\n    typeOf: ri!typeOf\n  ))\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13127268": {
      "name": "AS_GCM_CEDM_updateForeignKeyForImportData",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!configMaps: rule!AS_GCM_CEDM_typeConfigMapForDataMigration(),\n  #\"urn:appian:function:v1:a:update\"(\n    ri!importData,\n    \"records\",\n    a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!importData.records,\n        expression: a!localVariables(\n          local!configMap: rule!AS_GCM_filterRecords(\n            records: local!configMaps,\n            field: \"uuid\",\n            value: fv!item.uuid\n          )[1],\n          if(\n            and(\n              if(\n                ri!isSelfReferenced = true,\n                toboolean(local!configMap.isSelfReferenced) <> true,\n                true\n              ),\n              or(\n                a!isNullOrEmpty(\n                  local!configMap.precedentRecordFieldMaps\n                ),\n                local!configMap.order <= ri!completedOrder\n              )\n            ),\n            fv!item,\n            #\"urn:appian:function:v1:a:update\"(\n              fv!item,\n              \"data\",\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: fv!item.data,\n                expression: a!localVariables(\n                  local!currentRecordData: fv!item,\n                  reduce(\n                    #\"urn:appian:function:v1:a:update\"(_, _, _),\n                    fv!item,\n                    merge(\n                      a!flatten(\n                        local!configMap.precedentRecordFieldMaps.fields\n                      ),\n                      a!flatten(\n                        #\"SYSTEM_SYSRULES_forEach\"(\n                          items: local!configMap.precedentRecordFieldMaps,\n                          expression: a!localVariables(\n                            local!precedentRecordData: index(\n                              rule!AS_GCM_filterRecords(\n                                records: ri!importData.records,\n                                field: \"uuid\",\n                                value: fv!item.precedentRecordUuid\n                              ),\n                              1,\n                              null\n                            ),\n                            local!groupUuid: rule!AS_GCM_filterRecords(\n                              records: local!configMaps,\n                              field: \"uuid\",\n                              value: fv!item.precedentRecordUuid\n                            )[1].groupUuid,\n                            local!precedentGroupPrimaryKeyMaps: index(\n                              rule!AS_GCM_filterRecords(\n                                records: ri!importData.records,\n                                field: \"uuid\",\n                                value: local!groupUuid\n                              ),\n                              1,\n                              \"primaryKeyMaps\",\n                              null\n                            ),\n                            #\"SYSTEM_SYSRULES_forEach\"(\n                              items: fv!item.fields,\n                              expression: a!defaultValue(\n                                value: rule!AS_GCM_filterRecords(\n                                  records: local!precedentRecordData.primaryKeyMaps,\n                                  field: \"originalPrimaryKey\",\n                                  value: local!currentRecordData[fv!item]\n                                ).thisEnvPrimaryKey,\n                                default: rule!AS_GCM_filterRecords(\n                                  records: local!precedentGroupPrimaryKeyMaps,\n                                  field: \"originalPrimaryKey\",\n                                  value: local!currentRecordData[fv!item]\n                                ).thisEnvPrimaryKey,\n                                default: null\n                              )\n                            )\n                          )\n                        )\n                      )\n                    )\n                  )\n                )\n              )\n            )\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000ec06-6336-8000-9d71-011c48011c48_12268070": {
      "name": "AS_GAM_UT_sortAnyData",
      "type": "Expression Rule",
      "sail_code": "cast(\n  runtimetypeof(ri!data),\n  if(\n    rule!AS_CO_UT_isBlank(ri!field),\n    /* For Simple Data Types   */\n    rule!AS_CO_UT_sortArray(array: ri!data, ascending: ri!ascending),\n    a!localVariables(\n      local!dataSortedByField: todatasubset(\n        ri!data,\n        #\"SYSTEM_SYSRULES_pagingInfo\"(\n          startIndex: 1,\n          batchSize: - 1,\n          sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n            field: ri!field,\n            ascending: a!defaultValue(value: ri!ascending, default: true)\n          )\n        )\n      ).data,\n      if(\n        rule!AS_CO_UT_isBlank(ri!nullsFirst),\n        local!dataSortedByField,\n        a!localVariables(\n          local!cdtsWithNullFieldValue: rule!AS_GAM_filterCdtOrRecordDataByField(\n            cdtOrRecord: local!dataSortedByField,\n            field: ri!field,\n            value: null\n          ),\n          local!cdtsWithNonNullFieldValue: rule!AS_GAM_rejectCdtOrRecordDataByField(\n            cdtOrRecord: local!dataSortedByField,\n            field: ri!field,\n            value: null\n          ),\n          if(\n            ri!nullsFirst,\n            append(\n              local!cdtsWithNullFieldValue,\n              local!cdtsWithNonNullFieldValue\n            ),\n            append(\n              local!cdtsWithNonNullFieldValue,\n              local!cdtsWithNullFieldValue\n            )\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_162769": {
      "name": "AS_CO_UT_typeCompare",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  typeof(ri!value1) = typeof(ri!value2)\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76433": {
      "name": "AS_CO_UT_indexPath",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!fieldsAndIndices: rule!AS_CO_UT_zINTERNAL_indexPath_nestedFieldArrayHandler(field: ri!field),\n\n  reduce(\n    index(_, _, ri!indexDefault),\n    ri!cdt,\n    local!fieldsAndIndices\n  )\n)"
    },
    "_a-0000ec62-ac34-8000-9d9a-011c48011c48_13127574": {
      "name": "AS_GCM_CEDM_filterDataByIdentifierFields",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!thisEnvData: rule!AS_CO_UT_cast(\n    type: a!defaultValue(\n      value: if(\n        rule!AS_CO_UT_isBlank(ri!configMap.recordType),\n        null,\n        #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(ri!configMap.recordType)\n      ),\n      default: if(\n        rule!AS_CO_UT_isBlank(ri!configMap.entityType),\n        null,\n        #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(ri!configMap.entityType)\n      )\n    ),\n    value: rule!AS_CO_UT_replaceNull(\n      nullableValue: if(\n        rule!AS_CO_UT_isNotBlank(ri!configMap.primaryIdentifierFields),\n        rule!AS_GCM_filterRecords(\n          records: { ri!thisEnvData },\n          fieldValuePairs: #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!configMap.primaryIdentifierFields,\n            expression: a!map(\n              field: fv!item,\n              value: ri!currentFileData[fv!item]\n            )\n          )\n        ),\n        null\n      ),\n      replacementValue: if(\n        rule!AS_CO_UT_isNotBlank(ri!configMap.secondaryIdentifierFields),\n        rule!AS_GCM_filterRecords(\n          records: { ri!thisEnvData },\n          fieldValuePairs: #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!configMap.secondaryIdentifierFields,\n            expression: a!map(\n              field: fv!item,\n              value: ri!currentFileData[fv!item]\n            )\n          )\n        ),\n        null\n      )\n    )\n  ),\n  if(\n    rule!AS_CO_UT_isBlank(local!thisEnvData),\n    rule!AS_CO_UT_cast(\n      type: a!defaultValue(\n        value: ri!configMap.recordType,\n        default: ri!configMap.entityType\n      ),\n      value: null\n    ),\n    rule!AS_GAM_UT_sortAnyData(\n      data: { local!thisEnvData },\n      field: ri!configMap.primaryKeyField,\n      ascending: false,\n      nullsFirst: false\n    )[1]\n  )\n)"
    },
    "_a-0000e6c8-d132-8000-9bbe-011c48011c48_469266": {
      "name": "AS_CO_UT_queryRecord",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS ON HOW TO USE\n\nPlease DO NOT auto-format this rule\n\n*/\n\n\n/*Error handling*/\nif(\n  rule!AS_CO_UT_isBlank(ri!returnType),\n  fn!error(concat(\"Null `returnType` passed to AS_CO_UT_queryRecord for recordType `\", ri!recordType, \"`.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  not(contains(rule!AS_CO_CONS_QE_RETURN_TYPES(), ri!returnType)),\n  fn!error(concat(\"Unknown `returnType` passed to AS_CO_UT_queryRecord for recordType `\", ri!recordType, \"`.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  rule!AS_CO_UT_isBlank(ri!recordType),\n  fn!error(concat(\"Null `recordType` passed to AS_CO_UT_queryRecord.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    rule!AS_CO_UT_isBlank(ri!pagingInfo)\n  ),\n  fn!error(concat(\"`pagingInfo` is required (cannot be null) for `returnType` DATA_SUBSET\")),\n  and(\n    ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    rule!AS_CO_UT_isNotBlank(ri!pagingInfo)\n  ),\n  fn!error(concat(\"`pagingInfo` must be null when the `returnType` is not DATA_SUBSET, instead use `sort` to pass custom-sorting and `startIndex` & `batchSize` will be automatically calculated for you\")),\n  and(\n    not(isnull(ri!pagingInfo)),\n    rule!AS_CO_UT_isNotBlank(ri!sort)\n  ),\n  fn!error(concat(\"`sort` parameter must be null when `pagingInfo` is provided.  Use the sort field of the provided `pagingInfo` instead.\")),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isBlank(ri!aggregationFields)\n  ),\n  fn!error(\"You must provide an input for `aggregationFields` when `returnType` is AGGREGATION\"),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isNotBlank(ri!fields)\n  ),\n  fn!error(\"You cannot provide an input for `fields` when `returnType` is AGGREGATION.  Use `aggregationFields` instead.\"),\n  and(\n    ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isNotBlank(ri!aggregationFields)\n  ),\n  fn!error(\"You cannot provide an input for `aggregationFields` when `returnType` is not AGGREGATION.  Use `fields` instead.\"),\n  and(\n    rule!AS_CO_UT_isNotBlank(ri!castToCdtType),\n    not(contains(\n      {cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY, cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT, cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET},\n      ri!returnType\n    )),\n  ),\n  fn!error(\"'castToCdtType' is only supported for SINGLE_OBJECT, OBJECT_ARRAY, and DATA_SUBSET return types\"),\n\n  a!localVariables(\n\n    /*Determine the castResultToType*/\n    local!castResultToType: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   'type!{http://www.appian.com/ae/types/2009}Map',\n        /*SINGLE_OBJECT*/ a!defaultValue(ri!castToCdtType, ri!recordType),\n        /*OBJECT_ARRAY*/  rule!AS_CO_UT_returnArrayTypeNumber(type: a!defaultValue(ri!castToCdtType, ri!recordType)),\n        /*AGGREGATION*/   'type!{http://www.appian.com/ae/types/2009}Map?list',\n        /*TOTAL_COUNT*/   'type!{http://www.appian.com/ae/types/2009}Integer',\n      }\n    ),\n\n    /*Determine the batchSize*/\n    local!batchSize: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   ri!pagingInfo.batchSize,\n        /*SINGLE_OBJECT*/ 1,\n        /*OBJECT_ARRAY*/  a!defaultValue(ri!pagingInfo.batchSize, cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE),\n        /*AGGREGATION*/   cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE,\n        /*TOTAL_COUNT*/   1,\n      }\n    ),\n\n    /*Determine the pagingInfo*/\n    local!pagingInfo: if(\n      ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n      /*Use specific pagingInfo for DATA_SUBSET*/\n      ri!pagingInfo,\n      /*Otherwise calculate pagingInfo for all other returnTypes*/\n      #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: local!batchSize,\n        sort: ri!sort\n      )\n    ),\n\n    /*Determine the fetchTotalCount*/\n    local!fetchTotalCount: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   true,\n        /*SINGLE_OBJECT*/ false,\n        /*OBJECT_ARRAY*/  false,\n        /*AGGREGATION*/   false,\n        /*TOTAL_COUNT*/   true,\n      }\n    ),\n\n    /*Execute the query*/\n    local!queryResult: a!refreshVariable(\n      value: if(\n        ri!executeWhen = false,\n        null(\n          if(\n            ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n            rule!AS_CO_TYPE_Dictionary(),\n            ri!recordType\n          )\n        ),\n        #\"SYSTEM_SYSRULES_queryRecordType_v1\"(\n          recordType: ri!recordType,\n          fields: a!defaultValue(\n            ri!fields,\n            ri!aggregationFields\n          ),\n          filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            logicalExpressions: {\n              #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"AND\",\n                ignoreFiltersWithEmptyValues: true,\n                filters: a!defaultValue(ri!filters, {})\n              ),\n              a!defaultValue(ri!logicalExpression, {})\n            }\n          ),\n          pagingInfo: local!pagingInfo,\n          fetchTotalCount: local!fetchTotalCount,\n          relatedRecordData: ri!relatedRecordData\n        )\n      ),\n      refreshOnVarChange: ri!triggerRefresh,\n      refreshAfter: {\"RECORD_ACTION\"}\n    ),\n\n    /*Parse the queryResult*/\n    local!queryResultParse: choose(\n      rule!AS_CO_UT_chooseWherecontainsHelper(\n        value: ri!returnType,\n        inArray: rule!AS_CO_CONS_QE_RETURN_TYPES()\n      ),\n      /*Default, required value based on how AS_CO_UT_chooseWherecontainsHelper operates*/ \"\",\n      /*DATA_SUBSET*/   if(\n        rule!AS_CO_UT_isNotBlank(ri!castToCdtType),\n        /*Note that for a data subset, the parent is a map, but we allow casting the child 'data' field as well*/\n        rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n          cdt: local!queryResult,\n          fieldValuePairs: {\n            field: \"data\",\n            value: cast(\n              rule!AS_CO_UT_returnArrayTypeNumber(type: ri!castToCdtType),\n              local!queryResult.data\n            )\n          }\n        ),\n        local!queryResult\n      ),\n      /*SINGLE_OBJECT*/ local!queryResult.data,\n      /*OBJECT_ARRAY*/  local!queryResult.data,\n      /*AGGREGATION*/   local!queryResult.data,\n      /*TOTAL_COUNT*/   local!queryResult.totalCount,\n    ),\n\n    rule!AS_CO_UT_cast(\n      type: local!castResultToType,\n      value: local!queryResultParse\n    )\n  )\n)\n\n/*\n\nDOCUMENTATION\n\nThis rule is designed to minimize the overhead with querying data and then casting the result\n\n\nRequired Inputs:\n\n1. recordType\n- This is a recordtype! input of the data type to be queried against\n\n2. returnType\n- This depends on the purpose for the query, and should be one of the returnTypes in rule!AS_CO_CONS_QE_RETURN_TYPES\n-- DATA_SUBSET - This will return a DataSubset; pagingInfo is required\n-- SINGLE_OBJECT - This will return a single record whose type is the recordType; pagingInfo must be null\n-- ARRAY_OBJECT - This will return an array of records whose type is an array of the recordType; pagingInfo must be null\n-- AGGREGATION - This will return an array of Dictionaries; pagingInfo must be null\n---- NOTE: If you need Aggregation with paging controls, such as for a grid, use returnType DATA_SUBSET\n-- TOTAL_COUNT - This will return an Integer of the total count; pagingInfo must be null\n\n\nOptional Inputs:\n\n3. executeWhen\n- The query will not execute if this is false, the query will execute if this is true or null\n-- This is meant to operate in a similar manner to the showWhen parameter of components\n- Use this to skip execution of a query without needing to wrap if() statements around the rule\n-- Examples of this would be to skip querying if your filter value is a null ID\n- If the query does not execute, this will return a null value whose type is based on the returnType input\n\n4. triggerRefresh\n- By default, the query will always re-execute whenever any inputs change\n- However, by updating the value of triggerRefresh, you can also trigger a re-execution even if none of the other inputs change (e.g. after a record action)\n\n5. filters\n- Array of filters to apply to the query, built with a!queryFilter()\n- These filters will be applied with an AND operator\n- These filters will apply in addition to the logicalExpression input, combining both with an AND operator\n\n6. logicalExpression\n- A logical expression to apply to the query, built with a!queryLogicalExpression()\n- This logical expression will apply in addition to the filters input, combining both with an AND operator\n\n7. aggregationFields\n- Aggregation to apply to the query, built with a!aggregationField()\n\n8. fields\n- List of recordFields and relatedRecordFields to return.  When querying a record, any relatedRecordFields are not returned\nby default, and must be specifically requested.\n\n9. pagingInfo\n- Paging info to apply to the query, built with a!pagingInfo() or derived from fv!pagingInfo in grids\n- This is required if passing returnType DATA_SUBSET, otherwise it must be null\n- For returnTypes that are not DATA_SUBSET, the batch size will be automatically calculated depending on the returnType\n-- For example, passing SINGLE_OBJECT will automatically apply a batch size of 1, whereas ARRAY_OBJECT and AGGREGATION will automatically apply a batch size of the defined query batch size maximum\n\n10. sort\n- Array of sort to apply to the query, built with a!sortInfo()\n- This is meant to be used with returnType ARRAY_OBJECT and AGGREGATION, since pagingInfo is not required for these, but a specified sort may be used\n- Cannot be used in conjunction with pagingInfo.sort\n\n11. castToCdtType\n- Any cdt type to the cast the result set. \n- This is meant to be used with only returnType OBJECT_ARRAY and SINGLE_OBJECT.\n\n*/"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1523563": {
      "name": "AS_GAM_UT_queryEntityWithSelection",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS\n*/\nif(\n  or(\n    any(\n      rule!AS_CO_UT_isBlank,\n      { ri!entity, ri!pagingInfo }\n    ),\n    ri!executeWhen = false\n  ),\n  null,\n  /*Testing batching inside (Might be removed later)\n  Batching should only be applied when the batchSize is -1\n  */\n  if(\n    and(\n      ri!applyBatching = true,\n      ri!pagingInfo.batchSize =- 1\n    ),\n    a!localVariables(\n      local!batch: rule!AS_CO_UT_replaceNull(\n        nullableValue: ri!batchSize,\n        replacementValue: 10\n      ),\n      local!totalCount: #\"SYSTEM_SYSRULES_queryEntity_v1\"(\n        entity: ri!entity,\n        query: #\"SYSTEM_SYSRULES_query\"(\n          pagingInfo: ri!pagingInfo,\n          logicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            logicalexpressions: {\n              #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"AND\",\n                ignoreFiltersWithEmptyValues: true,\n                filters: rule!AS_CO_UT_replaceNull(\n                  nullableValue: ri!filters,\n                  replacementValue: {}\n                )\n              ),\n              rule!AS_CO_UT_replaceNull(\n                nullableValue: ri!logicalExpression,\n                replacementValue: {}\n              )\n            }\n          )\n        ),\n        fetchtotalcount: true\n      ).totalCount,\n      local!noOfBatches: floor(local!totalCount / local!batch),\n      local!lastBatch: local!totalCount - (local!noOfBatches * local!batch),\n      local!lastBatchPaging: if(\n        rule!AS_CO_UT_isBlank(local!lastBatch),\n        null,\n        #\"SYSTEM_SYSRULES_pagingInfo\"(\n          startIndex: 1 + (local!noOfBatches * local!batch),\n          batchSize: local!lastBatch\n        )\n      ),\n      local!pagingInfo: #\"SYSTEM_SYSRULES_forEach\"(\n        items: enumerate(local!noOfBatches),\n        expression: {\n          #\"SYSTEM_SYSRULES_pagingInfo\"(\n            startIndex: 1 + (fv!item * local!batch),\n            batchSize: local!batch\n          )\n        }\n      ),\n      a!flatten(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: if(\n            rule!AS_CO_UT_isBlank(local!lastBatch),\n            local!pagingInfo,\n            { local!pagingInfo, local!lastBatchPaging }\n          ),\n          expression: #\"SYSTEM_SYSRULES_queryEntity_v1\"(\n            entity: ri!entity,\n            query: #\"SYSTEM_SYSRULES_query\"(\n              pagingInfo: fv!item,\n              logicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"AND\",\n                logicalexpressions: {\n                  #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                    operator: \"AND\",\n                    ignoreFiltersWithEmptyValues: true,\n                    filters: rule!AS_CO_UT_replaceNull(\n                      nullableValue: ri!filters,\n                      replacementValue: {}\n                    )\n                  ),\n                  rule!AS_CO_UT_replaceNull(\n                    nullableValue: ri!logicalExpression,\n                    replacementValue: {}\n                  )\n                }\n              ),\n              selection: if(\n                rule!AS_CO_UT_isBlank(ri!selectionColumns),\n                {},\n                #\"SYSTEM_SYSRULES_querySelection\"(\n                  columns: #\"SYSTEM_SYSRULES_forEach\"(\n                    items: ri!selectionColumns,\n                    expression: #\"SYSTEM_SYSRULES_queryColumn\"(field: fv!item)\n                  )\n                )\n              )\n            )\n          ).data\n        )\n      )\n    ),\n    #\"SYSTEM_SYSRULES_queryEntity_v1\"(\n      entity: ri!entity,\n      query: #\"SYSTEM_SYSRULES_query\"(\n        pagingInfo: ri!pagingInfo,\n        logicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n          operator: \"AND\",\n          logicalexpressions: {\n            #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n              operator: \"AND\",\n              ignoreFiltersWithEmptyValues: true,\n              filters: rule!AS_CO_UT_replaceNull(\n                nullableValue: ri!filters,\n                replacementValue: {}\n              )\n            ),\n            rule!AS_CO_UT_replaceNull(\n              nullableValue: ri!logicalExpression,\n              replacementValue: {}\n            )\n          }\n        ),\n        selection: if(\n          rule!AS_CO_UT_isBlank(ri!selectionColumns),\n          {},\n          #\"SYSTEM_SYSRULES_querySelection\"(\n            columns: #\"SYSTEM_SYSRULES_forEach\"(\n              items: ri!selectionColumns,\n              expression: #\"SYSTEM_SYSRULES_queryColumn\"(field: fv!item)\n            )\n          )\n        )\n      ),\n      fetchtotalcount: true\n    )\n  )\n)/*This query entity can be used to get the data subset with selection applied. For now, this returns only data subset. No assertions added to the TC for now.\n\nRequired fields:\n1. Entity: \n- This is the data store entity you are querying\n-- e.g. cons!AS_DATA_STORE_ENTITY_CASES\n2. Paging Info:\n- Paging info to apply to the query, built with a!pagingInfo() or derived from fv!pagingInfo in grids*/"
    },
    "0008ee28-cc12-8000-d6bb-7f0000014e7a": {
      "name": "AS GCM CEDM Write Imported Data",
      "type": "Process Model",
      "sail_code": "// Input: ?\na!localVariables(\n  local!configMaps: rule!AS_GCM_CEDM_typeConfigMapForDataMigration(),\n  rule!AS_CO_UT_rejectNullValuesFromArray(\n    array: {\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: pv!importData.records,\n        expression: a!localVariables(\n          local!configMap: rule!AS_GCM_filterRecords(\n            records: local!configMaps,\n            field: \"uuid\",\n            value: fv!item.uuid\n          ),\n          if(\n            local!configMap.order = pv!order,\n            rule!AS_GCM_CEDM_constructLogMap(\n              name: local!configMap.displayName,\n              uuid: fv!item.uuid,\n              logMessage: \" - \" & rule!AS_GCM_filterRecords(\n                records: fv!item.updatedData,\n                field: local!configMap.primaryKeyField,\n                value: null,\n                filterType: \"MATCH_COUNT\"\n              ) & \" record(s) will be created and \" & rule!AS_GCM_filterRecords(\n                records: fv!item.updatedData,\n                field: local!configMap.primaryKeyField,\n                value: null,\n                filterType: \"REJECT_COUNT\"\n              ) & \" record(s) will be updated.\"\n            ),\n            null\n          )\n        )\n      ),\n      rule!AS_GCM_CEDM_constructLogMap(\n        logMessage: \"Initiating database writes...\"\n      )\n    }\n  )\n)\n\n// Input: ?\n=pv!transferRequest\n\n// Output: ?\npv!currentRecordIndex + 1\n\n// Input: ?\nrule!AS_CO_UT_rejectNullValuesFromArray(\n  array: #\"SYSTEM_SYSRULES_forEach\"(\n    items: pv!importData.records,\n    expression: a!localVariables(\n      local!configMap: rule!AS_GCM_filterRecords(\n        records: pv!currentOrderConfigMaps,\n        field: \"uuid\",\n        value: fv!item.uuid\n      ),\n      if(\n        rule!AS_CO_UT_isNotBlank(local!configMap),\n        rule!AS_GCM_CEDM_constructLogMap(\n          name: local!configMap.displayName,\n          uuid: fv!item.uuid,\n          logMessage: \"Data written to the database successfully.\"\n        ),\n        null\n      )\n    )\n  )\n)\n\n// Input: ?\n=pv!transferRequest\n\n// Input: ?\n= index( pv!currentOrderConfigMaps, pv!currentRecordIndex, null)\n\n// Output: ?\na!localVariables(\n  local!data: index(\n    index(\n      rule!AS_GCM_filterRecords(\n        records: pv!importData.records,\n        field: \"uuid\",\n        value: ac!currentRecordConfigMap.uuid\n      ),\n      1,\n      null\n    ),\n    \"updatedData\",\n    null\n  ),\n  if(\n    rule!AS_CO_UT_isNotBlank(local!data),\n    #\"SYSTEM_SYSRULES_toJson_v1\"(local!data),\n    null\n  )\n)\n\n// Output: ?\nnull\n\n// Input: ?\n={ {\n  {\n    a!localVariables(\n      local!data: rule!AS_CO_UT_cast(\n        type: #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(pv!currentRecordConfigMap.recordType),\n        value: #\"SYSTEM_SYSRULES_fromJson_v1\"(pv!dataToWrite)\n      ),\n      local!recordRelationships: a!flatten(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: rule!AS_GCM_getAllPresentRelationshipsFromRecord(local!data[1]),\n          expression: if(\n            rule!AS_CO_UT_compare(\n              value1: index(local!data[1], fv!item, 0),\n              value2: 0\n            ),\n            {},\n            fv!item\n          )\n        )\n      ),\n      if(\n        pv!currentRecordConfigMap.recordType = recordType!AS GCM QNM T Questionnaire,\n        remove(\n          remove(local!data, local!recordRelationships),\n          recordType!AS GCM QNM T Questionnaire.isDefault\n        ),\n        remove(local!data, local!recordRelationships)\n      )\n    )\n  }\n}}\n\n// Output: ?\nrule!AS_GCM_CEDM_updateImportDataWithRecordsUpdated(\n  importData: pv!importData,\n  recordsUpdated: ac!RecordsUpdated,\n  configMap: pv!currentRecordConfigMap\n)\n\n// Input: ?\npv!currentRecordConfigMap.uuid\n\n// Input: ?\ncast(\n  #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(typeof(a!map())),\n  index(\n    index(\n      rule!AS_GCM_filterRecords(\n        records: pv!importData.records,\n        field: \"uuid\",\n        value: pv!currentRecordConfigMap.uuid,\n\n      ),\n      1,\n      null\n    ),\n    \"updatedData\",\n    null\n  )\n)\n\n// Input: ?\ncast(\n  #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(typeof(a!map())),\n  rule!AS_GCM_filterRecords(\n    records: index(\n      index(\n        rule!AS_GCM_filterRecords(\n          records: pv!importData.records,\n          field: \"uuid\",\n          value: pv!currentRecordConfigMap.uuid,\n\n        ),\n        1,\n        null\n      ),\n      \"originalData\",\n      null\n    ),\n    field: pv!currentRecordConfigMap.primaryKeyField,\n    value: index(\n      #\"SYSTEM_SYSRULES_fromJson_v1\"(pv!dataToWrite),\n      tostring(\n        pv!currentRecordConfigMap.primaryKeyField\n      ),\n      null\n    )\n  )\n)\n\n// Output: ?\nif(\n  pv!isSelfReferenced = true,\n  rule!AS_GCM_filterRecords(\n    records: remove(\n      rule!AS_GCM_CEDM_typeConfigMapForDataMigration(),\n      \"entityType\"\n    ),\n    field: \"isSelfReferenced\",\n    value: true\n  ),\n  rule!AS_GCM_filterRecords(\n    records: remove(\n      rule!AS_GCM_CEDM_typeConfigMapForDataMigration(),\n      \"entityType\"\n    ),\n    field: \"order\",\n    value: pv!order\n  )\n)\n\n// Output: ?\nrule!AS_GCM_CEDM_updateForeignKeyForImportData(\n  importData: pv!importData,\n  completedOrder: pv!order - 1,\n  isSelfReferenced: pv!isSelfReferenced\n)\n\n// Output: ?\nrule!AS_GCM_CEDM_updateImportDataAndSetMetaData(\n  importData: pv!importData,\n  initiator: pp!initiator,\n  order: pv!order,\n  isSelfReferenced: pv!isSelfReferenced\n)\n\n// Output: ?\n1"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9760625": {
      "name": "AS_GCM_getAllPresentRelationshipsFromRecord",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}RecordRelationship?list',\n  a!flatten(\n    if(\n      runtimetypeof(ri!records) = runtimetypeof(a!flatten(ri!records)),\n      apply(\n        rule!AS_GCM_getAllPresentRelationshipsFromRecord(records: _),\n        a!flatten(ri!records)\n      ),\n      apply(\n        rule!AS_GCM_getAllPresentRelationshipsFromRecord_Apply(relationship: _, records: ri!records),\n        a!keys(ri!records)\n      )\n    )\n  )\n)"
    },
    "_a-0000ee39-4c1d-8000-9e29-011c48011c48_16476246": {
      "name": "AS_GCM_CEDM_typeConfigMapForDataMigration_Questionnaire",
      "type": "Expression Rule",
      "sail_code": "/*\na!map(\n      uuid: <UUID of the record or Data Type>,\n            <UUID_1 denotes the replica of a record for a different exporting purpose>\n            Eg: UUID - 66fc3179-f0d8-4d6d-bbce-92b85f7c665a -- foreignKeyField: questionnaireTemplateID\n                UUID_1 - 66fc3179-f0d8-4d6d-bbce-92b85f7c665a_1 -- foreignKeyField: null\n      groupUuid: <UUID used to group the data together during Export>,\n      recordType: <RecordType reference when the uuid is of a record>,\n      dataStoreEntity: <DSE Constant when the uuid is of a data type>,\n      entityType: <Entity type when the uuid is of a data type>,\n      displayName: <Used to display in the frontend during export>,\n      userDisplayName: <Used to display to the end user>,\n      isIndependentExportable: <Determines if this record is exportable independently/parent record>,\n      primaryKeyField: <Primary key field>,\n      foreignKeyField: <Field which will used to filter data based on precedent record field maps>,\n      createdByField: <created by field for capturing metadata>,\n      createdDatetimeField: <created datetime field for capturing metadata>,\n      modifiedByField: <modified by field for capturing metadata>,\n      modifiedDatetimeField: <modified datetime field for capturing metadata>,\n      metadataFields: <All the metadata fields except isActive field which would be used to check if any field is changed except these fields>,\n      customRecordFields:<The custom record fields of the record type>,\n      primaryIdentifierFields: <The fields used to uniquely identify a record usually crossEnvironmentUuid>,\n      secondaryIdentifierFields: <The fields which would be used to identify the record when primaryIdentifier fields don't match>,\n      precedentRecordFieldMaps: <The foreignKey references present in current record which needs to be updated when there is a new record creation happened for these precedentRecordUuid>,\n      dependentRecordUuids: <The record uuids which needs to be exported mandatorily when this current record is exported>,\n      allowedOperations: <Allows values are \"CREATE\" and \"UPDATE\" which means if this records can add new rows in the target environment or can it only allow updates>,\n      order: <The order in which the records will be exported or imported>,\n      writeBatchSize: <The Batch size in which the data needs to be written>,\n      queryBatchSize: <The batch size in which the data needs to be queried>,\n      exportBatchSize: <Specifies the number of records per document when batching the data into multiple documents>,\n      exportWithoutParent: <Boolean field to define whether to export the records without the parent data>,\n      exportFilters: <Field to capture the filters that are to be applied on the record during export>,\n      isActiveField: <Field to reference the record's isActive field>,\n      importRejectionMaps: <Field to capture the maps that are to be rejected if null during the import>,\n      nonWritableRelationships: <Field to capture the record relationships that are to be ignored during import write>\n    )\n*/\n{\n  a!map(\n    uuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_QUESTIONNAIRE,\n    groupUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_QUESTIONNAIRE,\n    exportWithoutParent: false,\n    recordType: recordType!AS GCM QNM T Questionnaire,\n    displayName: \"Questionnaire\",\n    userDisplayName: \"Questionnaires\",\n    isIndependentExportable: false,\n    primaryKeyField: recordType!AS GCM QNM T Questionnaire.questionnaireTemplateId,\n    foreignKeyField: null,\n    createdByField: recordType!AS GCM QNM T Questionnaire.createdBy,\n    createdDatetimeField: recordType!AS GCM QNM T Questionnaire.createdDatetime,\n    modifiedByField: recordType!AS GCM QNM T Questionnaire.modifiedBy,\n    modifiedDatetimeField: recordType!AS GCM QNM T Questionnaire.modifiedDatetime,\n    metadataFields: {\n      recordType!AS GCM QNM T Questionnaire.createdBy,\n      recordType!AS GCM QNM T Questionnaire.createdDatetime,\n      recordType!AS GCM QNM T Questionnaire.modifiedBy,\n      recordType!AS GCM QNM T Questionnaire.modifiedDatetime\n    },\n    customRecordFields: {\n      recordType!AS GCM QNM T Questionnaire.activeQuestionsCount,\n      recordType!AS GCM QNM T Questionnaire.numOfQuestionsAssociatedWithRuleConditions,\n      recordType!AS GCM QNM T Questionnaire.isDefault\n    },\n    primaryIdentifierFields: {\n      recordType!AS GCM QNM T Questionnaire.crossEnvironmentUuid\n    },\n    isActiveField: recordType!AS GCM QNM T Questionnaire.isActive,\n    secondaryIdentifierFields: null,\n    precedentRecordFieldMaps: null,\n    dependentRecordUuids: {\n      cons!AS_GCM_CEDM_TXT_RECORD_UUID_QUESTION_CATEGORY,\n      cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_QUESTION\n    },\n    allowedOperations: { \"CREATE\", \"UPDATE\" },\n    order: 1,\n    exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n  ),\n  a!map(\n    uuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_QUESTION_CATEGORY,\n    groupUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_QUESTION_CATEGORY,\n    exportWithoutParent: false,\n    recordType: recordType!AS GCM QNM T Question Category,\n    displayName: \"T Question Categories\",\n    userDisplayName: \"T Question Categories\",\n    isIndependentExportable: false,\n    primaryKeyField: recordType!AS GCM QNM T Question Category.questionCategoryTemplateId,\n    foreignKeyField: recordType!AS GCM QNM T Question Category.questionnaireTemplateId,\n    createdByField: null,\n    createdDatetimeField: null,\n    modifiedByField: null,\n    modifiedDatetimeField: null,\n    metadataFields: {},\n    customRecordFields: {\n      recordType!AS GCM QNM T Question Category.numOfQuestionsAssociatedWithRuleConditions\n    },\n    primaryIdentifierFields: {\n      recordType!AS GCM QNM T Question Category.crossEnvironmentUuid\n    },\n    isActiveField: recordType!AS GCM QNM T Question Category.isActive,\n    secondaryIdentifierFields: null,\n    precedentRecordFieldMaps: {\n      a!map(\n        precedentRecordUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_QUESTIONNAIRE,\n        fields: {\n          recordType!AS GCM QNM T Question Category.questionnaireTemplateId\n        }\n      )\n    },\n    dependentRecordUuids: null,\n    allowedOperations: { \"CREATE\", \"UPDATE\" },\n    order: 2,\n    exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n  ),\n  a!map(\n    uuid: \"261190bc-e795-4938-96b2-bf33b805f23c_1\",\n    groupUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_QUESTION_CATEGORY,\n    exportWithoutParent: false,\n    recordType: recordType!AS GCM QNM T Question Category,\n    displayName: \"T Question Categories\",\n    isIndependentExportable: false,\n    primaryKeyField: recordType!AS GCM QNM T Question Category.questionCategoryTemplateId,\n    foreignKeyField: null,\n    createdByField: null,\n    createdDatetimeField: null,\n    modifiedByField: null,\n    modifiedDatetimeField: null,\n    metadataFields: {},\n    customRecordFields: {\n      recordType!AS GCM QNM T Question Category.numOfQuestionsAssociatedWithRuleConditions\n    },\n    primaryIdentifierFields: {\n      recordType!AS GCM QNM T Question Category.crossEnvironmentUuid\n    },\n    secondaryIdentifierFields: null,\n    isActiveField: recordType!AS GCM QNM T Question Category.isActive,\n    precedentRecordFieldMaps: {\n      a!map(\n        precedentRecordUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_QUESTIONNAIRE,\n        fields: {\n          recordType!AS GCM QNM T Question Category.questionnaireTemplateId\n        }\n      )\n    },\n    dependentRecordUuids: null,\n    allowedOperations: { \"CREATE\", \"UPDATE\" },\n    order: 3,\n    exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n  ),\n  a!map(\n    uuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_QUESTION,\n    groupUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_QUESTION,\n    exportWithoutParent: false,\n    recordType: recordType!AS GCM QNM T Question,\n    displayName: \"T Questions\",\n    userDisplayName: \"T Questions\",\n    isIndependentExportable: false,\n    primaryKeyField: recordType!AS GCM QNM T Question.questionTemplateId,\n    foreignKeyField: recordType!AS GCM QNM T Question.questionnaireTemplateId,\n    createdByField: recordType!AS GCM QNM T Question.createdBy,\n    createdDatetimeField: recordType!AS GCM QNM T Question.createdDatetime,\n    modifiedByField: recordType!AS GCM QNM T Question.modifiedBy,\n    modifiedDatetimeField: recordType!AS GCM QNM T Question.modifiedDatetime,\n    metadataFields: {\n      recordType!AS GCM QNM T Question.createdBy,\n      recordType!AS GCM QNM T Question.createdDatetime,\n      recordType!AS GCM QNM T Question.modifiedBy,\n      recordType!AS GCM QNM T Question.modifiedDatetime\n    },\n    customRecordFields: {\n      recordType!AS GCM QNM T Question.associatedRuleConditionCount,\n      recordType!AS GCM QNM T Question.precedentQuestionsCount,\n      recordType!AS GCM QNM T Question.questionVisibility\n    },\n    primaryIdentifierFields: {\n      recordType!AS GCM QNM T Question.crossEnvironmentUuid\n    },\n    secondaryIdentifierFields: null,\n    isActiveField: recordType!AS GCM QNM T Question.isActive,\n    precedentRecordFieldMaps: {\n      a!map(\n        precedentRecordUuid: \"261190bc-e795-4938-96b2-bf33b805f23c_1\",\n        fields: {\n          recordType!AS GCM QNM T Question.questionCategoryTemplateId\n        }\n      ),\n      a!map(\n        precedentRecordUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_QUESTIONNAIRE,\n        fields: {\n          recordType!AS GCM QNM T Question.questionnaireTemplateId\n        }\n      ),\n      a!map(\n        precedentRecordUuid: \"f0bfb0f8-c45d-425c-8450-802bf04a87cf\",\n        fields: {\n          recordType!AS GCM QNM T Question.questionReferenceId\n        }\n      )\n    },\n    dependentRecordUuids: {\n      cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_RESPONSE,\n      cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_RESPONSE_REQUIREMENT,\n      cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_QUESTION_PRECEDENT_SET,\n      \n    },\n    allowedOperations: { \"CREATE\", \"UPDATE\" },\n    order: 4,\n    exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n  ),\n  a!map(\n    uuid: \"66fc3179-f0d8-4d6d-bbce-92b85f7c665a_1\",\n    groupUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_QUESTION,\n    exportWithoutParent: false,\n    recordType: recordType!AS GCM QNM T Question,\n    displayName: \"T Questions\",\n    isIndependentExportable: false,\n    primaryKeyField: recordType!AS GCM QNM T Question.questionTemplateId,\n    foreignKeyField: null,\n    createdByField: recordType!AS GCM QNM T Question.createdBy,\n    createdDatetimeField: recordType!AS GCM QNM T Question.createdDatetime,\n    modifiedByField: recordType!AS GCM QNM T Question.modifiedBy,\n    modifiedDatetimeField: recordType!AS GCM QNM T Question.modifiedDatetime,\n    metadataFields: {\n      recordType!AS GCM QNM T Question.createdBy,\n      recordType!AS GCM QNM T Question.createdDatetime,\n      recordType!AS GCM QNM T Question.modifiedBy,\n      recordType!AS GCM QNM T Question.modifiedDatetime\n    },\n    customRecordFields: {\n      recordType!AS GCM QNM T Question.associatedRuleConditionCount,\n      recordType!AS GCM QNM T Question.precedentQuestionsCount,\n      recordType!AS GCM QNM T Question.questionVisibility\n    },\n    primaryIdentifierFields: {\n      recordType!AS GCM QNM T Question.crossEnvironmentUuid\n    },\n    secondaryIdentifierFields: null,\n    isActiveField: recordType!AS GCM QNM T Question.isActive,\n    precedentRecordFieldMaps: {\n      a!map(\n        precedentRecordUuid: \"261190bc-e795-4938-96b2-bf33b805f23c_1\",\n        fields: {\n          recordType!AS GCM QNM T Question.questionCategoryTemplateId\n        }\n      ),\n      a!map(\n        precedentRecordUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_QUESTIONNAIRE,\n        fields: {\n          recordType!AS GCM QNM T Question.questionnaireTemplateId\n        }\n      ),\n      a!map(\n        precedentRecordUuid: \"f0bfb0f8-c45d-425c-8450-802bf04a87cf\",\n        fields: {\n          recordType!AS GCM QNM T Question.questionReferenceId\n        }\n      )\n    },\n    dependentRecordUuids: {\n      cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_RESPONSE,\n      cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_RESPONSE_REQUIREMENT,\n      cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_QUESTION_PRECEDENT_SET,\n      \n    },\n    allowedOperations: { \"CREATE\", \"UPDATE\" },\n    order: 5,\n    exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE,\n    exportFilters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Question.ruleConditions.isActive,\n        operator: \"=\",\n        value: true\n      )\n    }\n  ),\n  a!map(\n    uuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_RESPONSE,\n    groupUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_RESPONSE,\n    exportWithoutParent: false,\n    recordType: recordType!AS GCM QNM T Response,\n    displayName: \"T Responses\",\n    userDisplayName: \"T Responses\",\n    isIndependentExportable: false,\n    primaryKeyField: recordType!AS GCM QNM T Response.responseTemplateId,\n    foreignKeyField: recordType!AS GCM QNM T Response.qstnTmpltIdRspnseOption,\n    createdByField: null,\n    createdDatetimeField: null,\n    modifiedByField: null,\n    modifiedDatetimeField: null,\n    metadataFields: {},\n    customRecordFields: {},\n    primaryIdentifierFields: {\n      recordType!AS GCM QNM T Response.crossEnvironmentUuid\n    },\n    secondaryIdentifierFields: null,\n    nonWritableRelationships: recordType!AS GCM QNM T Response.question,\n    precedentRecordFieldMaps: {\n      a!map(\n        precedentRecordUuid: \"66fc3179-f0d8-4d6d-bbce-92b85f7c665a_1\",\n        fields: {\n          recordType!AS GCM QNM T Response.qstnTmpltIdRspnseOption\n        }\n      )\n    },\n    dependentRecordUuids: null,\n    allowedOperations: { \"CREATE\", \"UPDATE\" },\n    order: 6,\n    exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE,\n    exportFilters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Response.question.isActive,\n        operator: \"=\",\n        value: true\n      )\n    }\n  ),\n  a!map(\n    uuid: \"31984f80-8be1-4643-801f-3a945c47fa47_1\",\n    groupUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_RESPONSE,\n    exportWithoutParent: false,\n    recordType: recordType!AS GCM QNM T Response,\n    displayName: \"T Responses\",\n    isIndependentExportable: false,\n    primaryKeyField: recordType!AS GCM QNM T Response.responseTemplateId,\n    foreignKeyField: null,\n    createdByField: null,\n    createdDatetimeField: null,\n    modifiedByField: null,\n    modifiedDatetimeField: null,\n    metadataFields: {},\n    customRecordFields: {},\n    primaryIdentifierFields: {\n      recordType!AS GCM QNM T Response.crossEnvironmentUuid\n    },\n    secondaryIdentifierFields: null,\n    nonWritableRelationships: recordType!AS GCM QNM T Response.question,\n    precedentRecordFieldMaps: {\n      a!map(\n        precedentRecordUuid: \"66fc3179-f0d8-4d6d-bbce-92b85f7c665a_1\",\n        fields: {\n          recordType!AS GCM QNM T Response.qstnTmpltIdRspnseOption\n        }\n      )\n    },\n    dependentRecordUuids: null,\n    allowedOperations: { \"CREATE\", \"UPDATE\" },\n    order: 7,\n    exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE,\n    exportFilters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Response.question.isActive,\n        operator: \"=\",\n        value: true\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Response.question.ruleConditions.isActive,\n        operator: \"=\",\n        value: true\n      )\n    }\n  ),\n  a!map(\n    uuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_QUESTION_PRECEDENT_SET,\n    groupUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_QUESTION_PRECEDENT_SET,\n    exportWithoutParent: false,\n    recordType: recordType!AS GCM QNM T Question Precedent Set,\n    displayName: \"T Question Precedent Set\",\n    userDisplayName: \"T Question Precedent Set\",\n    isIndependentExportable: false,\n    primaryKeyField: recordType!AS GCM QNM T Question Precedent Set.questionPrecedentSetTemplateId,\n    foreignKeyField: recordType!AS GCM QNM T Question Precedent Set.qstnTemplateIdIsDisplayed,\n    createdByField: null,\n    createdDatetimeField: null,\n    modifiedByField: null,\n    modifiedDatetimeField: null,\n    metadataFields: {},\n    customRecordFields: {},\n    primaryIdentifierFields: {\n      recordType!AS GCM QNM T Question Precedent Set.crossEnvironmentUuid\n    },\n    secondaryIdentifierFields: null,\n    isActiveField: recordType!AS GCM QNM T Question Precedent Set.isActive,\n    nonWritableRelationships: recordType!AS GCM QNM T Question Precedent Set.question,\n    precedentRecordFieldMaps: {\n      a!map(\n        precedentRecordUuid: \"66fc3179-f0d8-4d6d-bbce-92b85f7c665a_1\",\n        fields: {\n          recordType!AS GCM QNM T Question Precedent Set.qstnTemplateIdIsDisplayed\n        }\n      )\n    },\n    dependentRecordUuids: {\n      cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_QUESTION_PRECEDENT\n    },\n    allowedOperations: { \"CREATE\", \"UPDATE\" },\n    order: 6,\n    exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE,\n    importRejectionMaps: {\n      a!map(\n        field: recordType!AS GCM QNM T Question Precedent Set.qstnTemplateIdIsDisplayed,\n        value: null\n      )\n    }\n  ),\n  a!map(\n    uuid: \"2f0273e8-8328-4188-a69f-4ed87a5fd3fb_1\",\n    groupUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_QUESTION_PRECEDENT_SET,\n    exportWithoutParent: false,\n    recordType: recordType!AS GCM QNM T Question Precedent Set,\n    displayName: \"T Question Precedent Set\",\n    isIndependentExportable: false,\n    primaryKeyField: recordType!AS GCM QNM T Question Precedent Set.questionPrecedentSetTemplateId,\n    foreignKeyField: null,\n    createdByField: null,\n    createdDatetimeField: null,\n    modifiedByField: null,\n    modifiedDatetimeField: null,\n    metadataFields: {},\n    customRecordFields: {},\n    primaryIdentifierFields: {\n      recordType!AS GCM QNM T Question Precedent Set.crossEnvironmentUuid\n    },\n    secondaryIdentifierFields: null,\n    isActiveField: recordType!AS GCM QNM T Question Precedent Set.isActive,\n    nonWritableRelationships: recordType!AS GCM QNM T Question Precedent Set.question,\n    precedentRecordFieldMaps: {\n      a!map(\n        precedentRecordUuid: \"66fc3179-f0d8-4d6d-bbce-92b85f7c665a_1\",\n        fields: {\n          recordType!AS GCM QNM T Question Precedent Set.qstnTemplateIdIsDisplayed\n        }\n      )\n    },\n    dependentRecordUuids: {\n      cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_QUESTION_PRECEDENT\n    },\n    allowedOperations: { \"CREATE\", \"UPDATE\" },\n    order: 7,\n    exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE,\n    importRejectionMaps: {\n      a!map(\n        field: recordType!AS GCM QNM T Question Precedent Set.qstnTemplateIdIsDisplayed,\n        value: null\n      )\n    }\n  ),\n  a!map(\n    uuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_QUESTION_PRECEDENT,\n    groupUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_QUESTION_PRECEDENT,\n    exportWithoutParent: false,\n    recordType: recordType!AS GCM QNM T Question Precedent,\n    displayName: \"T Question Precedent\",\n    userDisplayName: \"T Question Precedents\",\n    isIndependentExportable: false,\n    primaryKeyField: recordType!AS GCM QNM T Question Precedent.questionPrecedentTemplateId,\n    foreignKeyField: recordType!AS GCM QNM T Question Precedent.qstnPrcdntSetTemplateId,\n    createdByField: null,\n    createdDatetimeField: null,\n    modifiedByField: null,\n    modifiedDatetimeField: null,\n    metadataFields: {},\n    customRecordFields: {},\n    primaryIdentifierFields: {\n      recordType!AS GCM QNM T Question Precedent.crossEnvironmentUuid\n    },\n    secondaryIdentifierFields: null,\n    isActiveField: recordType!AS GCM QNM T Question Precedent.isActive,\n    precedentRecordFieldMaps: {\n      a!map(\n        precedentRecordUuid: \"66fc3179-f0d8-4d6d-bbce-92b85f7c665a_1\",\n        fields: {\n          recordType!AS GCM QNM T Question Precedent.questionTemplateId_precedent\n        }\n      ),\n      a!map(\n        precedentRecordUuid: \"2f0273e8-8328-4188-a69f-4ed87a5fd3fb_1\",\n        fields: {\n          recordType!AS GCM QNM T Question Precedent.qstnPrcdntSetTemplateId\n        }\n      )\n    },\n    dependentRecordUuids: {\n      \"b8a7a846-c78a-4d16-97f9-98307652b25e_1\"\n    },\n    allowedOperations: { \"CREATE\", \"UPDATE\" },\n    order: 8,\n    exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE,\n    importRejectionMaps: {\n      a!map(\n        field: recordType!AS GCM QNM T Question Precedent.qstnPrcdntSetTemplateId,\n        value: null\n      )\n    }\n  ),\n  a!map(\n    uuid: \"e2cf072a-7e15-42a5-8c16-db069819e29d_1\",\n    groupUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_QUESTION_PRECEDENT,\n    exportWithoutParent: false,\n    recordType: recordType!AS GCM QNM T Question Precedent,\n    displayName: \"T Question Precedent\",\n    isIndependentExportable: false,\n    primaryKeyField: recordType!AS GCM QNM T Question Precedent.questionPrecedentTemplateId,\n    foreignKeyField: null,\n    createdByField: null,\n    createdDatetimeField: null,\n    modifiedByField: null,\n    modifiedDatetimeField: null,\n    metadataFields: {},\n    customRecordFields: {},\n    primaryIdentifierFields: {\n      recordType!AS GCM QNM T Question Precedent.crossEnvironmentUuid\n    },\n    secondaryIdentifierFields: null,\n    isActiveField: recordType!AS GCM QNM T Question Precedent.isActive,\n    precedentRecordFieldMaps: {\n      a!map(\n        precedentRecordUuid: \"66fc3179-f0d8-4d6d-bbce-92b85f7c665a_1\",\n        fields: {\n          recordType!AS GCM QNM T Question Precedent.questionTemplateId_precedent\n        }\n      ),\n      a!map(\n        precedentRecordUuid: \"2f0273e8-8328-4188-a69f-4ed87a5fd3fb_1\",\n        fields: {\n          recordType!AS GCM QNM T Question Precedent.qstnPrcdntSetTemplateId\n        }\n      )\n    },\n    dependentRecordUuids: {\n      \"b8a7a846-c78a-4d16-97f9-98307652b25e_1\"\n    },\n    allowedOperations: { \"CREATE\", \"UPDATE\" },\n    order: 9,\n    exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE,\n    importRejectionMaps: {\n      a!map(\n        field: recordType!AS GCM QNM T Question Precedent.qstnPrcdntSetTemplateId,\n        value: null\n      )\n    }\n  ),\n  a!map(\n    uuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_RESPONSE_REQUIREMENT,\n    groupUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_RESPONSE_REQUIREMENT,\n    exportWithoutParent: false,\n    recordType: recordType!AS GCM QNM T Response Requirement,\n    displayName: \"T Response Requirements\",\n    userDisplayName: \"T Response Requirements\",\n    isIndependentExportable: false,\n    primaryKeyField: recordType!AS GCM QNM T Response Requirement.responseRequirementTemplateId,\n    foreignKeyField: recordType!AS GCM QNM T Response Requirement.questionTemplateId,\n    createdByField: null,\n    createdDatetimeField: null,\n    modifiedByField: null,\n    modifiedDatetimeField: null,\n    metadataFields: {},\n    customRecordFields: {},\n    primaryIdentifierFields: {\n      recordType!AS GCM QNM T Response Requirement.crossEnvironmentUuid\n    },\n    secondaryIdentifierFields: {},\n    precedentRecordFieldMaps: {\n      a!map(\n        precedentRecordUuid: \"66fc3179-f0d8-4d6d-bbce-92b85f7c665a_1\",\n        fields: {\n          recordType!AS GCM QNM T Response Requirement.questionTemplateId\n        }\n      ),\n      a!map(\n        precedentRecordUuid: \"e2cf072a-7e15-42a5-8c16-db069819e29d_1\",\n        fields: {\n          recordType!AS GCM QNM T Response Requirement.questionPrecedentTemplateId\n        }\n      )\n    },\n    dependentRecordUuids: null,\n    allowedOperations: { \"CREATE\", \"UPDATE\" },\n    order: 10,\n    exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE,\n    exportFilters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Response Requirement.question.isActive,\n        operator: \"=\",\n        value: true\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Response Requirement.question.questionnaires.isActive,\n        operator: \"=\",\n        value: true\n      )\n    }\n  ),\n  a!map(\n    uuid: \"b8a7a846-c78a-4d16-97f9-98307652b25e_1\",\n    groupUuid: cons!AS_GCM_CEDM_TXT_RECORD_UUID_T_RESPONSE_REQUIREMENT,\n    exportWithoutParent: false,\n    recordType: recordType!AS GCM QNM T Response Requirement,\n    displayName: \"T Response Requirements\",\n    isIndependentExportable: false,\n    primaryKeyField: recordType!AS GCM QNM T Response Requirement.responseRequirementTemplateId,\n    foreignKeyField: recordType!AS GCM QNM T Response Requirement.questionPrecedentTemplateId,\n    createdByField: null,\n    createdDatetimeField: null,\n    modifiedByField: null,\n    modifiedDatetimeField: null,\n    metadataFields: {},\n    customRecordFields: {},\n    primaryIdentifierFields: {\n      recordType!AS GCM QNM T Response Requirement.crossEnvironmentUuid\n    },\n    secondaryIdentifierFields: {},\n    precedentRecordFieldMaps: {\n      a!map(\n        precedentRecordUuid: \"66fc3179-f0d8-4d6d-bbce-92b85f7c665a_1\",\n        fields: {\n          recordType!AS GCM QNM T Response Requirement.questionTemplateId\n        }\n      ),\n      a!map(\n        precedentRecordUuid: \"e2cf072a-7e15-42a5-8c16-db069819e29d_1\",\n        fields: {\n          recordType!AS GCM QNM T Response Requirement.questionPrecedentTemplateId\n        }\n      )\n    },\n    dependentRecordUuids: null,\n    allowedOperations: { \"CREATE\", \"UPDATE\" },\n    order: 10,\n    exportBatchSize: cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE,\n    exportFilters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Response Requirement.questionPrecedent.isActive,\n        operator: \"=\",\n        value: true\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Response Requirement.questionPrecedent.questionPrecedentSet.isActive,\n        operator: \"=\",\n        value: true\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Response Requirement.questionPrecedent.questionPrecedentSet.question.isActive,\n        operator: \"=\",\n        value: true\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Response Requirement.questionPrecedent.questionPrecedentSet.question.questionnaires.isActive,\n        operator: \"=\",\n        value: true\n      )\n    }\n  )\n}"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_269170": {
      "name": "AS_CO_UT_updateCdtFieldsByFieldValuePairs",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    and(\n      rule!AS_CO_UT_isBlank(ri!cdt),\n      rule!AS_CO_UT_checkIfArrayType(\n        typeOf: ri!cdt\n      )\n    ),\n    ri!cdt,\n    reduce(\n      rule!AS_CO_UT_zINTERNAL_updateCdtFieldsByPathComplex_handler(\n        cdt: _,\n        fieldValuePair: _\n      ),\n      ri!cdt,\n      a!flatten(ri!fieldValuePairs)\n    )\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_268381": {
      "name": "AS_CO_UT_enumForCount",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer?list',\n  if(\n    rule!AS_CO_UT_isBlank(ri!input),\n    {},\n    enumerate(count(a!flatten(ri!input))) + 1\n  )\n)"
    },
    "_a-0000eae2-5167-8000-9ce4-011c48011c48_8879314": {
      "name": "AS_GAM_returnCdtOrRecordIndicesByField",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_whereContains(\n  values: ri!value,\n  array: if(\n    /*Checking if the data is of type record*/\n    rule!AS_CO_UT_isRecordTypeData(data: ri!cdtOrRecord),\n    index(\n      a!flatten(ri!cdtOrRecord),\n      ri!field,\n      null\n    ),\n    /*Using indexPath to index the data since its not record type data   */\n    rule!AS_CO_UT_indexPath(\n      cdt: a!flatten(ri!cdtOrRecord),\n      field: ri!field,\n      indexDefault: null\n    )\n  )\n)"
    }
  }
}
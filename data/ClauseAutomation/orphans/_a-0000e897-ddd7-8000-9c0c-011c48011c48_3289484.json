{
  "uuid": "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3289484",
  "name": "AS_GCM_CPS_ruleConditionDollarAmount",
  "type": "Interface",
  "description": "component for rule condition dollar amount",
  "sail_code": "a!localVariables(\n  local!value: if(\n    a!isNullOrEmpty(\n      ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.value]\n    ),\n    null,\n    #\"SYSTEM_SYSRULES_fromJson_v1\"(\n      ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.value]\n    )\n  ),\n  local!compValue: if(\n    a!isNullOrEmpty(\n      ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.compValue]\n    ),\n    null,\n    #\"SYSTEM_SYSRULES_fromJson_v1\"(\n      ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.compValue]\n    )\n  ),\n  a!match(\n    value: ri!readOnly,\n    whenTrue: fv!value,\n    then: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      labelPosition: \"COLLAPSED\",\n      value: joinarray(\n        {\n          #\"urn:appian:function:v1:a:currency\"(isoCode: \"USD\", value: local!value),\n          if(\n            rule!AS_CO_UT_isBlank(local!compValue),\n            {},\n            {\n              \"\",\n              #\"urn:appian:function:v1:a:currency\"(isoCode: \"USD\", value: local!compValue)\n            }\n          )\n        },\n        \" \"\n      )\n    ),\n    whenTrue: tointeger(\n      ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.refOperatorId]\n    ) = cons!AS_GCM_REF_ID_IS_BETWEEN_OPERATOR,\n    then: {\n      #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n        items: {\n          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n            item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              value: {\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: {\n                    char(10),\n                    \"$\"\n                  },\n                  style: if(ri!readOnly, null, \"STRONG\"),\n                  size: \"MEDIUM\"\n                )\n              }\n            ),\n            width: \"MINIMIZE\"\n          ),\n          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n            item: rule!AS_CO_CP_floatingPointField(\n              required: true,\n              placeholder: \"Enter minimum amount\",\n              validations: if(\n                todecimal(local!value) > cons!AS_GCM_ESTIMATED_AMOUNT_LIMIT,\n                \"The amount cannot exceed 1 trillion dollars\",\n                \"\"\n              ),\n              value: local!value,\n              saveInto: {\n                a!save(\n                  local!value,\n                  rule!AS_CO_UT_round(number: save!value, numDigits: 2)\n                ),\n                a!save(\n                  ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.value],\n                  #\"SYSTEM_SYSRULES_toJson_v1\"({ local!value })\n                ),\n                ri!additionalSaves\n              },\n              label: \"Value\",\n              labelPosition: \"ABOVE\",\n              readOnly: ri!readOnly\n            ),\n            width: \"MINIMIZE\"\n          ),\n          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n            item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              marginAbove: \"LESS\",\n              value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: {\n                  char(10),\n                  if(\n                    ri!readOnly,\n                    {\n                      \" \",\n                      \"\",\n                      \" \"\n                    },\n                    \"\"\n                  )\n                }\n              )\n            ),\n            width: \"MINIMIZE\"\n          ),\n          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n            item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              value: {\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: {\n                    char(10),\n                    \"$\"\n                  },\n                  style: if(ri!readOnly, null, \"STRONG\"),\n                  size: \"MEDIUM\"\n                )\n              }\n            ),\n            width: \"MINIMIZE\"\n          ),\n          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n            item: rule!AS_CO_CP_floatingPointField(\n              required: true,\n              placeholder: \"Enter maximum amount\",\n              value: local!compValue,\n              saveInto: {\n                a!save(\n                  local!compValue,\n                  rule!AS_CO_UT_round(number: save!value, numDigits: 2)\n                ),\n                a!save(\n                  ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.compValue],\n                  #\"SYSTEM_SYSRULES_toJson_v1\"({ local!compValue })\n                ),\n                ri!additionalSaves\n              },\n              label: \"Compare Value\",\n              labelPosition: \"ABOVE\",\n              readOnly: ri!readOnly,\n              validations: {\n                if(\n                  todecimal(local!compValue) > cons!AS_GCM_ESTIMATED_AMOUNT_LIMIT,\n                  \"The amount cannot exceed 1 trillion dollars\",\n                  \"\"\n                ),\n                if(\n                  and(\n                    rule!AS_CO_UT_isNotBlank(local!value),\n                    rule!AS_CO_UT_isNotBlank(local!compValue),\n                    todecimal(local!value) >= todecimal(local!compValue)\n                  ),\n                  \"Max amount should be greater than min amount\",\n                  \"\"\n                )\n              }\n            ),\n            width: \"MINIMIZE\"\n          )\n        },\n        spacing: if(ri!readOnly, \"NONE\", \"STANDARD\")\n      ),\n      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        label: \"Formatted\",\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: \"Formatted\" & \": \",\n                size: \"SMALL\"\n              ),\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: \"Min\" & \": \" & rule!AS_GCM_DPL_CO_UT_formatCurrencyValue(\n                  currencyValue: local!value,\n                  showDecimal: true\n                ),\n                size: \"SMALL\",\n                showWhen: rule!AS_CO_UT_isNotBlank(local!value)\n              ),\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: \" | \",\n                size: \"SMALL\",\n                showWhen: and(\n                  rule!AS_CO_UT_isNotBlank(local!value),\n                  rule!AS_CO_UT_isNotBlank(local!compValue)\n                )\n              ),\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: \"Max\" & \": \" & rule!AS_GCM_DPL_CO_UT_formatCurrencyValue(\n                  currencyValue: local!compValue,\n                  showDecimal: true\n                ),\n                size: \"SMALL\",\n                showWhen: rule!AS_CO_UT_isNotBlank(local!compValue)\n              )\n            }\n          )\n        },\n        showWhen: and(\n          or(\n            rule!AS_CO_UT_isNotBlank(local!value),\n            rule!AS_CO_UT_isNotBlank(local!compValue)\n          ),\n          ri!readOnly <> true()\n        )\n      )\n    },\n    default: {\n      #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n        items: {\n          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n            item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              marginAbove: \"LESS\",\n              value: {\n                char(10),\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: \"$\",\n                  style: if(ri!readOnly, null, \"STRONG\"),\n                  size: \"MEDIUM\"\n                )\n              }\n            ),\n            width: \"MINIMIZE\"\n          ),\n          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n            item: rule!AS_CO_CP_floatingPointField(\n              required: true,\n              placeholder: \"1000.00\",\n              validations: if(\n                todecimal(local!value) > cons!AS_GCM_ESTIMATED_AMOUNT_LIMIT,\n                \"The amount cannot exceed 1 trillion dollars\",\n                \"\"\n              ),\n              value: local!value,\n              saveInto: {\n                a!save(\n                  local!value,\n                  rule!AS_CO_UT_round(number: save!value, numDigits: 2)\n                ),\n                a!save(\n                  ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.value],\n                  #\"SYSTEM_SYSRULES_toJson_v1\"({ local!value })\n                ),\n                ri!additionalSaves\n              },\n              label: \"Value\",\n              labelPosition: \"ABOVE\",\n              readOnly: ri!readOnly\n            )\n          )\n        },\n        spacing: if(ri!readOnly, \"NONE\", \"STANDARD\")\n      ),\n      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        label: \"Formatted\",\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: \"Formatted\" & \": \",\n                size: \"SMALL\"\n              ),\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: rule!AS_GCM_DPL_CO_UT_formatCurrencyValue(\n                  currencyValue: local!value,\n                  showDecimal: true\n                ),\n                size: \"SMALL\"\n              )\n            }\n          )\n        },\n        showWhen: and(\n          rule!AS_CO_UT_isNotBlank(local!value),\n          ri!readOnly <> true()\n        )\n      )\n    }\n  )\n)",
  "calls": [
    {
      "name": "AS_CO_UT_isBlank",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_CO_CP_floatingPointField",
      "type": "Interface",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_CO_UT_round",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_CO_UT_isNotBlank",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_GCM_DPL_CO_UT_formatCurrencyValue",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_GCM_REF_ID_IS_BETWEEN_OPERATOR",
      "type": "Constant",
      "dep_type": "USES_CONSTANT"
    },
    {
      "name": "AS_GCM_ESTIMATED_AMOUNT_LIMIT",
      "type": "Constant",
      "dep_type": "USES_CONSTANT"
    },
    {
      "name": "AS_GCM_CO_UT_loadBundleFromFolder",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    }
  ],
  "called_by": []
}
{
  "_metadata": {
    "bundle_id": "AS_GCM_CEDM_Capture_Audit_for_Import_Data"
  },
  "objects": {
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76433": {
      "name": "AS_CO_UT_indexPath",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!fieldsAndIndices: rule!AS_CO_UT_zINTERNAL_indexPath_nestedFieldArrayHandler(field: ri!field),\n\n  reduce(\n    index(_, _, ri!indexDefault),\n    ri!cdt,\n    local!fieldsAndIndices\n  )\n)"
    },
    "_a-0000e615-fd0f-8000-9bc1-011c48011c48_1163937": {
      "name": "AS_GCM_QR_getRefClause",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryRecord(\n  recordType: recordType!AS GCM R Clause,\n  returnType: a!defaultValue(\n    value: ri!returnType,\n    default: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n  ),\n  executeWhen: and(\n    ri!executeWhen,\n    or(\n      any(\n        rule!AS_CO_UT_isNotBlank(_),\n        {\n          ri!additionalFilters,\n          ri!logicalExpression,\n          ri!aggregationFields\n        }\n      ),\n      rule!AS_CO_UT_isNotBlank(ri!clauseIds),\n      rule!AS_CO_UT_isNotBlank(ri!clauseNumbers),\n      ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_TOTAL_COUNT\n    )\n  ),\n  fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n    {\n      ri!fields,\n      if(\n        ri!includeRelatedRecords,\n        {\n          recordType!AS GCM R Clause.refFormat,\n          recordType!AS GCM R Clause.ucfSection,\n          recordType!AS GCM R Clause.refSource,\n          recordType!AS GCM R Clause.refType,\n          recordType!AS GCM R Clause.additionalSections\n        },\n        {}\n      )\n    }\n  ),\n  /* To ensure proper null checks, we'll force all queryFilter values to not be null */\n  logicalExpression: ri!logicalExpression,\n  pagingInfo: ri!pagingInfo,\n  triggerRefresh: ri!triggerRefresh,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM R Clause.clauseId,\n      operator: \"in\",\n      value: ri!clauseIds\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM R Clause.clauseNumber,\n      operator: \"in\",\n      value: ri!clauseNumbers\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM R Clause.clauseNumberWithAlternate,\n      operator: \"in\",\n      value: #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!alternateValues,\n        expression: joinarray({ ri!clauseNumbers[1], fv!item }, \" | \")\n      ),\n      applyWhen: and(\n        /*  For Efficiency we enfore the ri!clauseNumbers value to be exactly 1     */\n        rule!AS_GAM_UT_ArrayLength(ri!clauseNumbers) = 1,\n        rule!AS_CO_UT_isNotBlank(ri!alternateValues)\n      )\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM R Clause.deviation,\n      operator: \"=\",\n      value: false,\n      applyWhen: rule!AS_CO_UT_booleanDefaultFalse(ri!excludeDeviations)\n    ),\n    ri!additionalFilters\n  },\n  aggregationFields: ri!aggregationFields,\n  relatedRecordData: ri!relatedRecordData\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73980": {
      "name": "AS_CO_UT_replaceNull",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!nullableValue),\n  ri!replacementValue,\n  ri!nullableValue\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_174191": {
      "name": "AS_CO_UT_getTypeNamespace",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  extract(ri!type, \"{\", \"}\")\n)"
    },
    "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3284363": {
      "name": "AS_GCM_UT_getPrimaryKeyFieldByType",
      "type": "Expression Rule",
      "sail_code": "displayvalue(\n  typeof(ri!cdt),\n  apply(\n    fn!typeof,\n    {\n      /*AS_GCM_R_Data*/\n      'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Data'(),\n      /*AS_GCM_R_Clause*/\n      'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Clause'(),\n      /*AS_GCM_ClauseSet_ClauseSection*/\n      'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_ClauseSection'(),\n      /*AS_GCM_R_Section*/\n      'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Section'()\n    }\n  ),\n  {\n    /*AS_GCM_R_Data*/\n    \"refDataId\",\n    /*AS_GCM_R_Clause*/\n    \"clauseId\",\n    /*AS_GCM_ClauseSet_ClauseSection*/\n    \"sectionId\",\n    /*AS_GCM_R_Section*/\n    \"sectionId\"\n  },\n  \"\"\n)"
    },
    "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3263766": {
      "name": "AS_GCM_UT_captureAuditForRefTemplate",
      "type": "Expression Rule",
      "sail_code": "/*No assertion: As the output involves Entity DSE*/\na!localVariables(\n  local!templateAudit: rule!AS_GAM_ADT_UT_buildAuditEntityData(\n    auditParams: rule!AS_GCM_UT_templateStartAuditProcess_Parameters(\n      originalTemplate: ri!originalTemplate,\n      template: ri!template,\n      originalTemplateClauses: ri!originalTemplateClauses,\n      templateClauses: ri!templateClauses,\n      initiator: ri!initiator,\n      externalAction: ri!externalAction\n    ),\n    initiator: ri!initiator\n  ),\n  /*Audit will be written only if any of the field values are updated*/\n  {\n    if(\n      rule!AS_CO_UT_isBlank(local!templateAudit),\n      {},\n      {\n        entity: cons!AS_GCM_ENT_R_A_R_TEMPLATE,\n        data: local!templateAudit\n      }\n    )\n  }\n)"
    },
    "_a-0000e3d1-f4dc-8000-9ba4-011c48011c48_143475": {
      "name": "AS_CO_UT_initializeBlankLocalVariable",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_cast(\n  type: ri!type,\n  typeOf: ri!typeOf,\n  value: null\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73536": {
      "name": "AS_CO_UT_isBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  length(a!flatten(ri!value)) = 0\n)"
    },
    "_a-0000e3ff-79a3-8000-7714-45ef9045ef90_8682-adt": {
      "name": "AS_ADT_BL_auditConfig_SAMPLE_Parent",
      "type": "Expression Rule",
      "sail_code": "/*\nAudit config for 'type!{urn:com:appian:types:AS:ADT}AS_ADT_SAMPLE_Parent'\n*/\n{\n  idField: \"parentId\",\n  foreignIdField:\"foreignId\",\n  simpleFields: {\n    \"text\",\n    \"date\",\n    \"referenceChild.childId\",\n    \"complexChildSingle.text\",\n    \"complexChildSingle.date\",\n    \"complexChildSingle.referenceChild.childId\",\n    \"isActive\"\n  },\n  complexFields: {\n    {\n      fieldName: \"complexChildMultiple\",\n      auditFieldName: \"complexChildMultipleChanges\",\n      idField: \"childId\",\n      simpleFields: {\n        \"text\",\n        \"date\",\n        \"referenceChild.childId\"\n      },\n      complexFields: {}\n    }\n  }\n}"
    },
    "_a-0000e4b1-2fbc-8000-9bc6-011c48011c48_941315-gcm": {
      "name": "AS_GCM_QNM_ADT_UT_startAuditProcess_Parameters_Questionnaire_Template",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!auditParams: rule!AS_ADT_UT_startAuditProcess_Parameters(\n    newObjects: rule!AS_CO_UT_cast(\n      type: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_T_Questionnaire?list',\n      value: ri!questionnaireTemplate\n    ),\n    originalObjects: rule!AS_CO_UT_cast(\n      type: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_T_Questionnaire?list',\n      value: ri!originalquestionnaireTemplate\n    ),\n    objectType: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_T_Questionnaire',\n    auditDse: cons!AS_GCM_QNM_ENT_A_T_QUESTIONNAIRE,\n    auditConfig: rule!AS_GCM_QNM_ADT_BL_Template_Questionnaire_auditConfig(),\n    username: ri!username\n  ).auditParams,\n  local!questionniareAudit: rule!AS_GAM_ADT_UT_buildAuditEntityData(\n    auditParams: local!auditParams,\n    initiator: ri!username\n  ),\n  if(\n    rule!AS_CO_UT_isBlank(local!questionniareAudit),\n    a!map(\n      newObjects: local!auditParams.newObjects,\n      audit: {}\n    ),\n    a!map(\n      newObjects: local!auditParams.newObjects,\n      audit: {\n        entity: cons!AS_GCM_QNM_ENT_A_T_QUESTIONNAIRE,\n        data: local!questionniareAudit\n      }\n    )\n  )\n)"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9760853": {
      "name": "AS_GCM_setRecordFields",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!record),\n  ri!record,\n  a!localVariables(\n    local!allUpdates: rule!AS_CO_UT_rejectNullValuesFromArray(\n      a!flatten(\n        {\n          ri!alwaysOverwrite,\n          ri!childRelationships,\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!neverOverwrite,\n            expression: #\"urn:appian:function:v1:a:update\"(\n              fv!item,\n              \"value\",\n              /*Specifically using this instead of a!defaultValue() to account for the `{null}` value*/\n              rule!AS_CO_UT_replaceNull(\n                nullableValue: ri!record[fv!item.field],\n                replacementValue: fv!item.value\n              )\n            )\n          )\n        }\n      )\n    ),\n    local!onlyChangedUpdates: a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!allUpdates,\n        expression: if(\n          or(\n            tostring(ri!record[fv!item.field]) = tostring(fv!item.value),\n            toboolean(fv!item.applyWhen) = false\n          ),\n          {},\n          fv!item\n        )\n      )\n    ),\n    if(\n      a!isNullOrEmpty(local!onlyChangedUpdates),\n      ri!record,\n      #\"urn:appian:function:v1:a:update\"(\n        data: ri!record,\n        index: local!onlyChangedUpdates.field,\n        value: local!onlyChangedUpdates.value\n      )\n    )\n  )\n)"
    },
    "_a-0000e69a-ff03-8000-9bd0-011c48011c48_1576649": {
      "name": "AS_GCM_QNM_UT_ruleStartAuditProcess_Parameters",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!originalRuleHelper: if(\n    or(\n      rule!AS_CO_UT_isNotBlank(ri!originalRuleClauses),\n      rule!AS_CO_UT_isNotBlank(ri!originalRule)\n    ),\n    rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n      cdt: rule!AS_CO_UT_cast(\n        type: #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n          'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_T_Rule'\n        ),\n        value: ri!originalRule\n      ),\n      fieldValuePairs: {\n        field: \"conditionClauses\",\n        value: ri!originalRuleClauses\n      }\n    ),\n    {}\n  ),\n  local!ruleHelper: rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n    cdt: rule!AS_CO_UT_cast(\n      type: #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n        'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_T_Rule'\n      ),\n      value: ri!rule\n    ),\n    fieldValuePairs: {\n      field: \"conditionClauses\",\n      value: ri!ruleClauses\n    }\n  ),\n  rule!AS_ADT_UT_startAuditProcess_Parameters(\n    newObjects: a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!ruleHelper,\n        expression: #\"urn:appian:function:v1:a:update\"(\n          fv!item,\n          \"isActive\",\n          if(\n            rule!AS_CO_UT_isBlank(fv!item.isActive),\n            if(fv!item.isDraft, null, false),\n            fv!item.isActive\n          )\n        )\n      )\n    ),\n    originalObjects: a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!originalRuleHelper,\n        expression: #\"urn:appian:function:v1:a:update\"(\n          fv!item,\n          \"isActive\",\n          if(\n            rule!AS_CO_UT_isBlank(fv!item.isActive),\n            if(\n              local!ruleHelper[fv!index].isDraft <> fv!item.isDraft,\n              false,\n              fv!item.isActive\n            ),\n            fv!item.isActive\n          )\n        )\n      )\n    ),\n    objectType: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_T_Rule',\n    auditDse: cons!AS_GCM_QNM_ENT_A_T_RULE,\n    auditConfig: rule!AS_GCM_QNM_ADT_BL_auditConfig_Rule(),\n    username: ri!initiator\n  ).auditParams\n)"
    },
    "_a-0000eef1-ed02-8000-9e5c-011c48011c48_17783555": {
      "name": "AS_GCM_MapForeignKeysInRuleConditionGroupsAudit_Recursion",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!ruleConditionGroupsAudit),\n  {},\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!ruleConditionGroupsAudit,\n    expression: a!localVariables(\n      local!ruleConditions: a!flatten(\n        index(\n          ri!ruleConditionGroups[recordType!AS GCM QNM T Rule Condition Group.conditions],\n          wherecontains(\n            tointeger(fv!item.ruleConditionGroupId),\n            tointeger(\n              ri!ruleConditionGroups[recordType!AS GCM QNM T Rule Condition Group.ruleConditionGroupId]\n            )\n          ),\n          {}\n        )\n      ),\n      local!auditWithUpdateSimpleFieldChanges: if(\n        rule!AS_CO_UT_isBlank(fv!item.conditionsChanges),\n        fv!item,\n        #\"urn:appian:function:v1:a:update\"(\n          fv!item,\n          \"conditionsChanges\",\n          rule!AS_GCM_updateSimpleFieldChangesForConditions(\n            conditionsChanges: fv!item.conditionsChanges,\n            ruleConditions: local!ruleConditions,\n            requiredFieldNamesMap: ri!requiredFieldNamesMap\n          )\n        )\n      ),\n      local!updatedConditionGroupAuditData: #\"urn:appian:function:v1:a:update\"(\n        if(\n          rule!AS_CO_UT_isBlank(\n            local!auditWithUpdateSimpleFieldChanges.conditionsChanges\n          ),\n          local!auditWithUpdateSimpleFieldChanges,\n          #\"urn:appian:function:v1:a:update\"(\n            local!auditWithUpdateSimpleFieldChanges,\n            \"conditionsChanges\",\n            #\"urn:appian:function:v1:a:update\"(\n              local!auditWithUpdateSimpleFieldChanges.conditionsChanges,\n              \"ruleAuditId\",\n              ri!ruleAuditId\n            )\n          )\n        ),\n        \"ruleAuditId\",\n        ri!ruleAuditId\n      ),\n      #\"urn:appian:function:v1:a:update\"(\n        local!updatedConditionGroupAuditData,\n        \"conditionGroupsChanges\",\n        rule!AS_GCM_MapForeignKeysInRuleConditionGroupsAudit_Recursion(\n          ruleConditionGroupsAudit: local!updatedConditionGroupAuditData[\"conditionGroupsChanges\"],\n          ruleAuditId: ri!ruleAuditId,\n          ruleConditionGroups: ri!ruleConditionGroups[recordType!AS GCM QNM T Rule Condition Group.conditionGroups],\n          requiredFieldNamesMap: ri!requiredFieldNamesMap\n        )\n      )\n    )\n  )\n)"
    },
    "0016ee7f-39a7-8000-dd62-7f0000014e7a": {
      "name": "AS GCM CEDM Capture Audit for Import Data",
      "type": "Process Model",
      "sail_code": "// Input: ?\n= rule!AS_GCM_CEDM_UpdateAuditActionCodes( auditEntityDataMaps: rule!AS_GCM_UT_captureAuditForRefClauseAndClauseText( refClauses: pv!data, originalClauses: pv!originalData, initiator: pp!initiator ))\n\n// Input: ?\n= rule!AS_GCM_CEDM_UpdateAuditActionCodes( auditEntityDataMaps: rule!AS_GCM_UT_captureAuditForRefTemplate( originalTemplate: pv!originalData, template: pv!data, initiator: pp!initiator ))\n\n// Input: ?\n= a!localVariables( local!refClauses: rule!AS_GCM_QR_getRefClause( returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY, clauseIds: index(pv!data, \"clauseId\", null) ), rule!AS_GCM_CEDM_UpdateAuditActionCodes( auditEntityDataMaps: rule!AS_GCM_UT_captureAuditForRefClauseAndClauseText( refClauses: local!refClauses, refClauseTexts: pv!data, originalClauses: local!refClauses, originalRefClauseTexts: pv!originalData, initiator: pp!initiator ) ))\n\n// Input: ?\n=rule!AS_GCM_CEDM_UpdateAuditActionCodes( auditEntityDataMaps: rule!AS_GCM_QNM_ADT_UT_startAuditProcess_Parameters_Questionnaire_Template( questionnaireTemplate: pv!data, originalquestionnaireTemplate: pv!originalData, username: pp!initiator ).audit)\n\n// Input: ?\n= rule!AS_GCM_CEDM_UpdateAuditActionCodes( auditEntityDataMaps: rule!AS_GCM_UT_captureAuditForRules( rules: pv!data, originalRule: pv!originalData, initiator: pp!initiator ))\n\n// Input: ?\n= rule!AS_GCM_CEDM_UpdateAuditActionCodes( auditEntityDataMaps: rule!AS_GCM_UT_captureAuditForRefTemplate( originalTemplate: pv!templateClausesAuditMaps[tp!instanceindex].template, template: pv!templateClausesAuditMaps[tp!instanceindex].template, originalTemplateClauses: pv!templateClausesAuditMaps[tp!instanceindex].originalTemplateClauses, templateClauses: pv!templateClausesAuditMaps[tp!instanceindex].templateClauses, initiator: pp!initiator ))\n\n// Output: ?\n#\"SYSTEM_SYSRULES_forEach\"(\n  items: rule!AS_CO_UT_distinct(pv!data.templateId),\n  expression: a!map(\n    template: recordType!AS GCM R Template(\n      recordType!AS GCM R Template.templateId: fv!item\n    ),\n    templateClauses: rule!AS_GCM_filterRecords(\n      records: pv!data,\n      field: \"templateId\",\n      value: fv!item\n    ),\n    originalTemplateClauses: remove(\n      rule!AS_GCM_filterRecords(\n        records: pv!originalData,\n        field: \"templateId\",\n        value: fv!item\n      ),\n      { \"refTemplate\", \"refClause\" }\n    )\n  )\n)\n\n// Input: ?\n={#\"SYSTEM_SYSRULES_forEach\"(\n  items: rule!AS_CO_UT_distinct(pv!data.templateId),\n  expression: recordType!AS GCM R Template(\n    recordType!AS GCM R Template.templateId: fv!item,\n    recordType!AS GCM R Template.modifiedBy: pp!initiator,\n    recordType!AS GCM R Template.modifiedDatetime: now()\n  )\n)}\n\n// Input: ?\n= if( and(pv!data.isActive), {}, a!localVariables( local!inactiveQuestionTemplateId: index( rule!AS_GCM_filterRecords( records: pv!data, field: \"isActive\", value: false ), \"questionTemplateId\", {} ), rule!AS_GCM_QNM_QR_getQuestion_Template( questionTemplateId: local!inactiveQuestionTemplateId, returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY, executeWhen: rule!AS_CO_UT_isNotBlank(local!inactiveQuestionTemplateId), fields: { recordType!AS GCM QNM T Question.responseOptions, recordType!AS GCM QNM T Question.responseRequirements }, isActive: false ) ))\n\n// Output: ?\na!localVariables(\n  local!data: rule!AS_GCM_filterRecords(\n    records: pv!data,\n    field: \"isActive\",\n    value: true\n  ),\n  local!originalData: #\"SYSTEM_SYSRULES_forEach\"(\n    items: rule!AS_GCM_filterRecords(\n      records: pv!originalData,\n      field: \"isActive\",\n      value: true\n    ),\n    expression: rule!AS_GCM_setRecordFields(\n      record: fv!item,\n      childRelationships: {\n        a!map(\n          field: \"responseOptions\",\n          value: index(\n            rule!AS_GCM_filterRecords(\n              records: ac!deletedQuestions,\n              field: recordType!AS GCM QNM T Question.questionTemplateId,\n              value: fv!item.questionTemplateId\n            ),\n            recordType!AS GCM QNM T Question.responseOptions,\n            {}\n          )\n        ),\n        a!map(\n          field: \"responseRequirements\",\n          value: index(\n            rule!AS_GCM_filterRecords(\n              records: ac!deletedQuestions,\n              field: recordType!AS GCM QNM T Question.questionTemplateId,\n              value: fv!item.questionTemplateId\n            ),\n            recordType!AS GCM QNM T Question.responseRequirements,\n            {}\n          )\n        )\n      }\n    )\n  ),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: rule!AS_CO_UT_distinct(pv!data.questionnaireTemplateId),\n    expression: a!localVariables(\n      local!record: recordType!AS GCM QNM T Questionnaire(\n        recordType!AS GCM QNM T Questionnaire.questionnaireTemplateId: fv!item\n      ),\n      a!map(\n        questionnaireTemplate: rule!AS_GCM_setRecordFields(\n          record: local!record,\n          childRelationships: {\n            a!map(\n              field: recordType!AS GCM QNM T Questionnaire.questions,\n              value: rule!AS_GCM_filterRecords(\n                records: local!data,\n                field: \"questionnaireTemplateId\",\n                value: fv!item\n              )\n            )\n          }\n        ),\n        originalQuestionnaireTemplate: rule!AS_GCM_setRecordFields(\n          record: local!record,\n          childRelationships: {\n            a!map(\n              field: recordType!AS GCM QNM T Questionnaire.questions,\n              value: rule!AS_GCM_filterRecords(\n                records: local!originalData,\n                field: \"questionnaireTemplateId\",\n                value: fv!item\n              )\n            )\n          }\n        )\n      )\n    )\n  )\n)\n\n// Input: ?\n= rule!AS_CO_UT_rejectNullValuesFromArray( pv!deletedQuestions[recordType!AS GCM QNM T Question.responseOptions])\n\n// Input: ?\n= rule!AS_CO_UT_rejectNullValuesFromArray( pv!deletedQuestions[recordType!AS GCM QNM T Question.responseRequirements])\n\n// Output: ?\nif(\n  and(pv!data.isActive),\n  {},\n  a!localVariables(\n    local!inactivePrecedentTemplateIds: index(\n      rule!AS_GCM_filterRecords(\n        records: pv!data,\n        field: \"isActive\",\n        value: false\n      ),\n      \"questionPrecedentTemplateId\",\n      {}\n    ),\n    if(\n      rule!AS_CO_UT_isNotBlank(local!inactivePrecedentTemplateIds),\n      #\"SYSTEM_SYSRULES_queryRecordType_v3\"(\n        recordType: recordType!AS GCM QNM T Question Precedent,\n        filters: {\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!AS GCM QNM T Question Precedent.questionPrecedentTemplateId,\n            operator: \"in\",\n            value: local!inactivePrecedentTemplateIds\n          )\n        },\n        fields: {\n          recordType!AS GCM QNM T Question Precedent.responseRequirement.fieldKey,\n          recordType!AS GCM QNM T Question Precedent.responseRequirement.requirementTypeCode,\n          recordType!AS GCM QNM T Question Precedent.responseRequirement.requirementValue,\n          recordType!AS GCM QNM T Question Precedent.responseRequirement.crossEnvironmentUuid\n        },\n        pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n          1,\n          cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE\n        )\n      ).data,\n      {}\n    )\n  )\n)\n\n// Input: ?\n= rule!AS_GCM_QNM_QR_getQuestionnaire_Template( additionalFilters: { #\"SYSTEM_SYSRULES_queryFilter\"( field: recordType!AS GCM QNM T Questionnaire.questions.isDisplayedPrecedentSets.questionPrecedents.responseRequirement.responseRequirementTemplateId, operator: \"in\", value: pv!data.responseRequirementTemplateId ) }, fields: { recordType!AS GCM QNM T Questionnaire.questions.isDisplayedPrecedentSets.questionPrecedents.responseRequirement.responseRequirementTemplateId }, returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY, executeWhen: true)\n\n// Output: ?\na!localVariables(\n  local!originalData: rule!AS_GCM_setRecordFields(\n    record: pv!originalData,\n    alwaysOverwrite: {\n      a!map(field: \"questionPrecedent\", value: {})\n    }\n  ),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ac!questionnaire,\n    expression: a!map(\n      questionnaireTemplate: rule!AS_GCM_setRecordFields(\n        record: fv!item,\n        childRelationships: {\n          field: recordType!AS GCM QNM T Questionnaire.questions,\n          value: a!localVariables(\n            local!questions: fv!item[recordType!AS GCM QNM T Questionnaire.questions],\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: local!questions,\n              expression: rule!AS_GCM_setRecordFields(\n                record: fv!item,\n                childRelationships: {\n                  field: recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n                  value: a!localVariables(\n                    local!questionPrecedentSets: fv!item[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets],\n                    #\"SYSTEM_SYSRULES_forEach\"(\n                      items: local!questionPrecedentSets,\n                      expression: rule!AS_GCM_setRecordFields(\n                        record: fv!item,\n                        childRelationships: {\n                          field: recordType!AS GCM QNM T Question Precedent Set.questionPrecedents,\n                          value: a!localVariables(\n                            local!questionPrecedents: fv!item[recordType!AS GCM QNM T Question Precedent Set.questionPrecedents],\n                            #\"SYSTEM_SYSRULES_forEach\"(\n                              items: local!questionPrecedents,\n                              expression: rule!AS_GCM_setRecordFields(\n                                record: fv!item,\n                                childRelationships: {\n                                  field: recordType!AS GCM QNM T Question Precedent.responseRequirement,\n                                  value: rule!AS_GCM_filterRecords(\n                                    records: pv!data,\n                                    field: \"questionPrecedentTemplateId\",\n                                    value: fv!item[recordType!AS GCM QNM T Question Precedent.questionPrecedentTemplateId]\n                                  )\n                                }\n                              )\n                            )\n                          )\n                        }\n                      )\n                    )\n                  )\n                }\n              )\n            )\n          )\n        }\n      ),\n      originalQuestionnaireTemplate: rule!AS_GCM_setRecordFields(\n        record: fv!item,\n        childRelationships: {\n          field: recordType!AS GCM QNM T Questionnaire.questions,\n          value: a!localVariables(\n            local!questions: fv!item[recordType!AS GCM QNM T Questionnaire.questions],\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: local!questions,\n              expression: rule!AS_GCM_setRecordFields(\n                record: fv!item,\n                childRelationships: {\n                  field: recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n                  value: a!localVariables(\n                    local!questionPrecedentSets: fv!item[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets],\n                    #\"SYSTEM_SYSRULES_forEach\"(\n                      items: local!questionPrecedentSets,\n                      expression: rule!AS_GCM_setRecordFields(\n                        record: fv!item,\n                        childRelationships: {\n                          field: recordType!AS GCM QNM T Question Precedent Set.questionPrecedents,\n                          value: a!localVariables(\n                            local!questionPrecedents: fv!item[recordType!AS GCM QNM T Question Precedent Set.questionPrecedents],\n                            #\"SYSTEM_SYSRULES_forEach\"(\n                              items: local!questionPrecedents,\n                              expression: rule!AS_GCM_setRecordFields(\n                                record: fv!item,\n                                childRelationships: {\n                                  field: recordType!AS GCM QNM T Question Precedent.responseRequirement,\n                                  value: rule!AS_GCM_filterRecords(\n                                    records: local!originalData,\n                                    field: \"questionPrecedentTemplateId\",\n                                    value: fv!item[recordType!AS GCM QNM T Question Precedent.questionPrecedentTemplateId]\n                                  )\n                                }\n                              )\n                            )\n                          )\n                        }\n                      )\n                    )\n                  )\n                }\n              )\n            )\n          )\n        }\n      )\n    )\n  )\n)\n\n// Input: ?\n={ {\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: rule!AS_CO_UT_distinct(index(pv!data, \"clauseId\", null)),\n    expression: recordType!AS GCM R Clause(\n      recordType!AS GCM R Clause.clauseId: fv!item,\n      recordType!AS GCM R Clause.modifiedBy: pp!initiator,\n      recordType!AS GCM R Clause.modifiedDatetime: now()\n    )\n  )\n}}\n\n// Output: ?\na!localVariables(\n  local!data: rule!AS_GCM_filterRecords(\n    records: pv!data,\n    field: \"isActive\",\n    value: true\n  ),\n  local!originalData: rule!AS_GCM_filterRecords(\n    records: pv!originalData,\n    field: \"isActive\",\n    value: true\n  ),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: rule!AS_CO_UT_distinct(pv!data.questionnaireTemplateId),\n    expression: a!localVariables(\n      local!record: recordType!AS GCM QNM T Questionnaire(\n        recordType!AS GCM QNM T Questionnaire.questionnaireTemplateId: fv!item\n      ),\n      a!map(\n        questionnaireTemplate: rule!AS_GCM_setRecordFields(\n          record: local!record,\n          childRelationships: {\n            a!map(\n              field: recordType!AS GCM QNM T Questionnaire.questionCategories,\n              value: rule!AS_GCM_filterRecords(\n                records: local!data,\n                field: \"questionnaireTemplateId\",\n                value: fv!item\n              )\n            )\n          }\n        ),\n        originalQuestionnaireTemplate: rule!AS_GCM_setRecordFields(\n          record: local!record,\n          childRelationships: {\n            a!map(\n              field: recordType!AS GCM QNM T Questionnaire.questionCategories,\n              value: rule!AS_GCM_filterRecords(\n                records: local!originalData,\n                field: \"questionnaireTemplateId\",\n                value: fv!item\n              )\n            )\n          }\n        )\n      )\n    )\n  )\n)\n\n// Input: ?\n= rule!AS_GCM_QNM_QR_getQuestionnaire_Template( additionalFilters: { #\"SYSTEM_SYSRULES_queryFilter\"( field: recordType!AS GCM QNM T Questionnaire.questions.isDisplayedPrecedentSets.questionPrecedentSetTemplateId, operator: \"in\", value: rule!AS_CO_UT_distinct(pv!data.questionPrecedentSetTemplateId) ) }, fields: { recordType!AS GCM QNM T Questionnaire.questions.isDisplayedPrecedentSets.questionPrecedentSetTemplateId }, returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY, executeWhen: true)\n\n// Output: ?\na!localVariables(\n  local!data: rule!AS_GCM_filterRecords(\n    records: pv!data,\n    field: \"isActive\",\n    value: true\n  ),\n  local!originalData: rule!AS_GCM_filterRecords(\n    records: pv!originalData,\n    field: \"isActive\",\n    value: true\n  ),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ac!questionnaire,\n    expression: a!localVariables(\n      local!questionTemplates: rule!AS_CO_UT_rejectNullValuesFromArray(\n        fv!item[recordType!AS GCM QNM T Questionnaire.questions]\n      ),\n      a!map(\n        questionnaireTemplate: rule!AS_GCM_setRecordFields(\n          record: fv!item,\n          childRelationships: {\n            a!map(\n              field: recordType!AS GCM QNM T Questionnaire.questions,\n              value: #\"SYSTEM_SYSRULES_forEach\"(\n                items: local!questionTemplates,\n                expression: rule!AS_GCM_setRecordFields(\n                  record: fv!item,\n                  childRelationships: {\n                    a!map(\n                      field: recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n                      value: rule!AS_GCM_filterRecords(\n                        records: local!data,\n                        field: \"qstnTemplateIdIsDisplayed\",\n                        value: fv!item[recordType!AS GCM QNM T Question.questionTemplateId]\n                      )\n                    )\n                  }\n                )\n              )\n            )\n          }\n        ),\n        originalQuestionnaireTemplate: rule!AS_GCM_setRecordFields(\n          record: fv!item,\n          childRelationships: {\n            a!map(\n              field: recordType!AS GCM QNM T Questionnaire.questions,\n              value: #\"SYSTEM_SYSRULES_forEach\"(\n                items: local!questionTemplates,\n                expression: rule!AS_GCM_setRecordFields(\n                  record: fv!item,\n                  childRelationships: {\n                    a!map(\n                      field: recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n                      value: rule!AS_GCM_filterRecords(\n                        records: local!originalData,\n                        field: \"qstnTemplateIdIsDisplayed\",\n                        value: fv!item[recordType!AS GCM QNM T Question.questionTemplateId]\n                      )\n                    )\n                  }\n                )\n              )\n            )\n          }\n        )\n      )\n    )\n  )\n)\n\n// Input: ?\n= #\"SYSTEM_SYSRULES_queryRecordType_v3\"( recordType: recordType!AS GCM QNM T Questionnaire, filters: { #\"SYSTEM_SYSRULES_queryFilter\"( field: recordType!AS GCM QNM T Questionnaire.questions.isDisplayedPrecedentSets.questionPrecedents.questionPrecedentTemplateId, operator: \"in\", value: { pv!data.questionPrecedentTemplateId } ) }, fields: { recordType!AS GCM QNM T Questionnaire.questions }, pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"( 1, cons!AS_GCM_CO_INT_QUERY_RECORD_MAX_BATCH_SIZE )).data\n\n// Output: ?\na!localVariables(\n  local!data: rule!AS_GCM_filterRecords(\n    records: pv!data,\n    field: \"isActive\",\n    value: true\n  ),\n  local!originalData: #\"SYSTEM_SYSRULES_forEach\"(\n    items: rule!AS_GCM_filterRecords(\n      records: pv!originalData,\n      field: \"isActive\",\n      value: true\n    ),\n    expression: rule!AS_GCM_setRecordFields(\n      record: fv!item,\n      childRelationships: {\n        a!map(\n          field: \"responseRequirement\",\n          value: index(\n            rule!AS_GCM_filterRecords(\n              records: pv!deletedPrecedents,\n              field: recordType!AS GCM QNM T Question Precedent.questionPrecedentTemplateId,\n              value: fv!item.questionPrecedentTemplateId\n            ),\n            recordType!AS GCM QNM T Question Precedent.responseRequirement,\n            {}\n          )\n        )\n      }\n    )\n  ),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ac!questionnaire,\n    expression: a!map(\n      questionnaireTemplate: rule!AS_GCM_setRecordFields(\n        record: fv!item,\n        childRelationships: {\n          field: recordType!AS GCM QNM T Questionnaire.questions,\n          value: a!localVariables(\n            local!questions: fv!item[recordType!AS GCM QNM T Questionnaire.questions],\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: local!questions,\n              expression: rule!AS_GCM_setRecordFields(\n                record: fv!item,\n                childRelationships: {\n                  field: recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n                  value: a!localVariables(\n                    local!questionPrecedentSets: fv!item[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets],\n                    #\"SYSTEM_SYSRULES_forEach\"(\n                      items: local!questionPrecedentSets,\n                      expression: rule!AS_GCM_setRecordFields(\n                        record: fv!item,\n                        childRelationships: {\n                          field: recordType!AS GCM QNM T Question Precedent Set.questionPrecedents,\n                          value: rule!AS_GCM_filterRecords(\n                            records: local!data,\n                            field: \"qstnPrcdntSetTemplateId\",\n                            value: fv!item[recordType!AS GCM QNM T Question Precedent Set.questionPrecedentSetTemplateId]\n                          )\n                        }\n                      )\n                    )\n                  )\n                }\n              )\n            )\n          )\n        }\n      ),\n      originalQuestionnaireTemplate: rule!AS_GCM_setRecordFields(\n        record: fv!item,\n        childRelationships: {\n          field: recordType!AS GCM QNM T Questionnaire.questions,\n          value: a!localVariables(\n            local!questions: fv!item[recordType!AS GCM QNM T Questionnaire.questions],\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: local!questions,\n              expression: rule!AS_GCM_setRecordFields(\n                record: fv!item,\n                childRelationships: {\n                  field: recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n                  value: a!localVariables(\n                    local!questionPrecedentSets: fv!item[recordType!AS GCM QNM T Question.isDisplayedPrecedentSets],\n                    #\"SYSTEM_SYSRULES_forEach\"(\n                      items: local!questionPrecedentSets,\n                      expression: rule!AS_GCM_setRecordFields(\n                        record: fv!item,\n                        childRelationships: {\n                          field: recordType!AS GCM QNM T Question Precedent Set.questionPrecedents,\n                          value: rule!AS_GCM_filterRecords(\n                            records: local!originalData,\n                            field: \"qstnPrcdntSetTemplateId\",\n                            value: fv!item[recordType!AS GCM QNM T Question Precedent Set.questionPrecedentSetTemplateId]\n                          )\n                        }\n                      )\n                    )\n                  )\n                }\n              )\n            )\n          )\n        }\n      )\n    )\n  )\n)\n\n// Input: ?\n={ a!localVariables(\n  local!updatedQuestionnaire: rule!AS_GCM_filterRecords(\n    records: pv!questionnaireAudit,\n    field: \"auditActionCode\",\n    value: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED,\n    filterType: \"REJECT\"\n  ),\n  if(\n    rule!AS_CO_UT_isBlank(local!updatedQuestionnaire),\n    recordType!AS GCM QNM T Questionnaire(),\n    {\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: rule!AS_CO_UT_distinct(\n          index(\n            local!updatedQuestionnaire,\n            \"questionnaireTemplateId\",\n            null\n          )\n        ),\n        expression: recordType!AS GCM QNM T Questionnaire(\n          recordType!AS GCM QNM T Questionnaire.questionnaireTemplateId: fv!item,\n          recordType!AS GCM QNM T Questionnaire.modifiedBy: pp!initiator,\n          recordType!AS GCM QNM T Questionnaire.modifiedDatetime: now()\n        )\n      )\n    }\n  )\n)}\n\n// Input: ?\n= rule!AS_GCM_CEDM_UpdateAuditActionCodes( auditEntityDataMaps: rule!AS_GCM_QNM_ADT_UT_startAuditProcess_Parameters_Questionnaire_Template( questionnaireTemplate: pv!questionnaireAuditMaps[tp!instanceindex].questionnaireTemplate, originalquestionnaireTemplate: pv!questionnaireAuditMaps[tp!instanceindex].originalQuestionnaireTemplate, username: pp!initiator ).audit)\n\n// Output: ?\nindex(ac!StoredValues, 1, \"data\", {})\n\n// Output: ?\na!localVariables(\n  local!newClauseMapIds: difference(\n    index(pv!data, \"clauseMapId\", {}),\n    tointeger(\n      index(pv!originalData, \"clauseMapId\", {})\n    )\n  ),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: rule!AS_CO_UT_distinct(index(pv!data, \"ruleId\", null)),\n    expression: a!map(\n      rules: recordType!AS GCM QNM T Rule(\n        recordType!AS GCM QNM T Rule.ruleId: fv!item,\n        recordType!AS GCM QNM T Rule.conditionClauses: rule!AS_GCM_filterRecords(\n          records: rule!AS_GCM_filterRecords(\n            records: pv!data,\n            field: \"ruleId\",\n            value: fv!item\n          ),\n          fieldValuePairs: {\n            a!map(\n              field: \"clauseMapId\",\n              value: local!newClauseMapIds\n            ),\n            a!map(field: \"isActive\", value: false)\n          },\n          filterType: \"REJECT\"\n        )\n      ),\n      originalRules: recordType!AS GCM QNM T Rule(\n        recordType!AS GCM QNM T Rule.ruleId: fv!item,\n        recordType!AS GCM QNM T Rule.conditionClauses: rule!AS_GCM_filterRecords(\n          records: pv!originalData,\n          field: \"ruleId\",\n          value: fv!item\n        )\n      )\n    )\n  )\n)\n\n// Input: ?\n= rule!AS_GCM_CEDM_UpdateAuditActionCodes( auditEntityDataMaps: rule!AS_GCM_UT_captureAuditForRules( rules: pv!ruleAuditMaps.rules, originalRule: pv!ruleAuditMaps.originalRules, initiator: pp!initiator ))\n\n// Output: ?\nindex(ac!StoredValues, 1, \"data\", {})\n\n// Input: ?\n= rule!AS_GCM_CEDM_UpdateAuditActionCodes( auditEntityDataMaps: rule!AS_GCM_UT_captureAuditForRules( rules: pv!ruleAuditMaps[tp!instanceindex].rules, originalRule: pv!ruleAuditMaps[tp!instanceindex].originalRules, ruleClauses: index( pv!ruleAuditMaps[tp!instanceindex].rules, recordType!AS GCM QNM T Rule.conditionClauses, null ), originalRuleClauses: index( pv!ruleAuditMaps[tp!instanceindex].originalRules, recordType!AS GCM QNM T Rule.conditionClauses, null ), initiator: pp!initiator ))\n\n// Output: ?\nindex(ac!StoredValues, 1, \"data\", {})\n\n// Input: ?\n={ {\n  a!localVariables(\n    local!updatedRules: rule!AS_GCM_filterRecords(\n      records: pv!capturedRuleAudits,\n      field: \"auditActionCode\",\n      value: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED,\n      filterType: \"REJECT\"\n    ),\n    a!defaultValue(\n      value: #\"SYSTEM_SYSRULES_forEach\"(\n        items: index(local!updatedRules, \"ruleId\", null),\n        expression: recordType!AS GCM QNM T Rule(\n          recordType!AS GCM QNM T Rule.ruleId: fv!item,\n          recordType!AS GCM QNM T Rule.modifiedBy: pp!initiator,\n          recordType!AS GCM QNM T Rule.modifiedDatetime: now()\n        )\n      ),\n      default: recordType!AS GCM QNM T Rule()\n    )\n  )\n}}\n\n// Input: ?\n= rule!AS_GCM_CEDM_UpdateAuditActionCodes( auditEntityDataMaps: rule!AS_GCM_UT_captureAuditForRules( rules: pv!ruleAuditMaps.rules, originalRule: pv!ruleAuditMaps.originalRules, initiator: pp!initiator ))\n\n// Output: ?\nindex(ac!StoredValues, 1, \"data\", {})\n\n// Output: ?\na!localVariables(\n  local!newConditionGroupIds: difference(\n    index(pv!data, \"ruleConditionGroupId\", {}),\n    tointeger(\n      index(pv!originalData, \"ruleConditionGroupId\", {})\n    )\n  ),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: rule!AS_CO_UT_distinct(index(pv!data, \"ruleId\", null)),\n    expression: a!map(\n      rules: recordType!AS GCM QNM T Rule(\n        recordType!AS GCM QNM T Rule.ruleId: fv!item,\n        recordType!AS GCM QNM T Rule.conditionGroups: rule!AS_GCM_filterRecords(\n          records: rule!AS_GCM_filterRecords(\n            records: pv!data,\n            field: \"ruleId\",\n            value: fv!item\n          ),\n          fieldValuePairs: {\n            a!map(\n              field: \"ruleConditionGroupId\",\n              value: local!newConditionGroupIds\n            ),\n            a!map(field: \"isActive\", value: false)\n          },\n          filterType: \"REJECT\"\n        )\n      ),\n      originalRules: recordType!AS GCM QNM T Rule(\n        recordType!AS GCM QNM T Rule.ruleId: fv!item,\n        recordType!AS GCM QNM T Rule.conditionGroups: rule!AS_GCM_filterRecords(\n          records: pv!originalData,\n          field: \"ruleId\",\n          value: fv!item\n        )\n      )\n    )\n  )\n)\n\n// Output: ?\na!localVariables(\n  local!newMapIds: difference(\n    index(pv!data, \"mapId\", {}),\n    tointeger(index(pv!originalData, \"mapId\", {}))\n  ),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: rule!AS_CO_UT_distinct(index(pv!data, \"ruleId\", null)),\n    expression: a!map(\n      rules: recordType!AS GCM QNM T Rule(\n        recordType!AS GCM QNM T Rule.ruleId: fv!item,\n        recordType!AS GCM QNM T Rule.conditions: rule!AS_GCM_filterRecords(\n          records: rule!AS_GCM_filterRecords(\n            records: pv!data,\n            field: \"ruleId\",\n            value: fv!item\n          ),\n          fieldValuePairs: {\n            a!map(field: \"mapId\", value: local!newMapIds),\n            a!map(field: \"isActive\", value: false)\n          },\n          filterType: \"REJECT\"\n        )\n      ),\n      originalRules: recordType!AS GCM QNM T Rule(\n        recordType!AS GCM QNM T Rule.ruleId: fv!item,\n        recordType!AS GCM QNM T Rule.conditions: rule!AS_GCM_filterRecords(\n          records: pv!originalData,\n          field: \"ruleId\",\n          value: fv!item\n        )\n      )\n    )\n  )\n)\n\n// Output: ?\nrule!AS_GCM_CEDM_constructUpdatedRuleConditionAudits(\n  capturedRuleAudits: pv!capturedRuleAudits\n)\n\n// Input: ?\n=cons!AS_GCM_QNM_ENT_A_T_RULE\n\n// Input: ?\n=pv!capturedRuleAudits"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_165180-adt": {
      "name": "AS_ADT_UT_calculateAudit_SingleObject",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    rule!AS_CO_UT_compareStrong(\n      value1: ri!originalObject,\n      value2: ri!newObject\n    ),\n    ri!externalAction <> cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_INITIATED\n  ),\n  {},\n  a!localVariables(\n    local!auditConfig: rule!AS_CO_UT_dynamicDictionary(\n      fieldValuePairs: {\n        {\n          field: ri!auditConfig.idField,\n          value: rule!AS_CO_UT_replaceNull(\n            nullableValue: index(\n              ri!originalObject,\n              ri!auditConfig.idField,\n              null\n            ),\n            replacementValue: index(\n              ri!newObject,\n              ri!auditConfig.idField,\n              null\n            )\n          )\n        },\n        if(\n          rule!AS_CO_UT_isNotBlank(ri!auditConfig.foreignIdField),\n          {\n            field: if(\n              length(\n                split(ri!auditConfig.foreignIdField, \".\")\n              ) = 2,\n              split(ri!auditConfig.foreignIdField, \".\")[2],\n              split(ri!auditConfig.foreignIdField, \".\")[1]\n            ),\n            value: rule!AS_CO_UT_replaceNull(\n              nullableValue: rule!AS_CO_UT_indexPath(\n                cdt: ri!originalObject,\n                field: ri!auditConfig.foreignIdField\n              ),\n              replacementValue: rule!AS_CO_UT_indexPath(\n                cdt: ri!newObject,\n                field: ri!auditConfig.foreignIdField\n              )\n            )\n          },\n          {}\n        ),\n        { field: \"username\", value: ri!username },\n        { field: \"timestamp\", value: now() },\n        { field: \"auditType\", value: ri!auditType },\n        {\n          field: \"auditActionCode\",\n          value: rule!AS_ADT_UT_determineAuditActionCode(\n            originalObject: ri!originalObject,\n            newObject: ri!newObject,\n            auditConfig: ri!auditConfig,\n            externalAction: ri!externalAction\n          )\n        },\n        {\n          field: \"simpleFieldChanges\",\n          value: rule!AS_ADT_UT_buildSimpleFieldChanges(\n            simpleFields: ri!auditConfig.simpleFields,\n            originalObject: ri!originalObject,\n            newObject: ri!newObject\n          )\n        },\n        if(\n          rule!AS_CO_UT_isBlank(ri!auditConfig.complexFields),\n          {},\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!auditConfig.complexFields,\n            expression: {\n              field: fv!item.auditFieldName,\n              value: rule!AS_ADT_UT_calculateAudit_MultipleObjects(\n                originalObjects: index(ri!originalObject, fv!item.fieldName, {}),\n                newObjects: index(ri!newObject, fv!item.fieldName, {}),\n                auditConfig: fv!item,\n                username: ri!username,\n                externalAction: ri!externalAction\n              )\n            }\n          )\n        )\n      }\n    ),\n    if(\n      /*To make the action code \"UNCHANGED\" if the object is unmodified(excluding the metadata)*/\n      and(\n        rule!AS_CO_UT_not(\n          contains(\n            a!flatten(\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: {\n                  \"simpleFieldChanges\",\n                  index(\n                    ri!auditConfig.complexFields,\n                    \"auditFieldName\",\n                    null\n                  )\n                },\n                expression: or(\n                  rule!AS_CO_UT_isBlank(index(local!auditConfig, fv!item, null)),\n                  if(\n                    contains(\n                      touniformstring(\n                        index(\n                          ri!auditConfig.complexFields,\n                          \"auditFieldName\",\n                          null\n                        )\n                      ),\n                      tostring(fv!item)\n                    ),\n                    not(\n                      contains(\n                        #\"SYSTEM_SYSRULES_forEach\"(\n                          items: rule!AS_CO_UT_indexPath(cdt: local!auditConfig, field: fv!item),\n                          expression: tostring(fv!item.auditActionCode) = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n                        ),\n                        false\n                      )\n                    ),\n                    false\n                  )\n                )\n              )\n            ),\n            false\n          )\n        ),\n        or(\n          tostring(\n            index(\n              local!auditConfig,\n              \"auditActionCode\",\n              null\n            )\n          ) = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n          ri!externalAction = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MANUAL_UPDATE,\n          ri!externalAction = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MANUAL_SYNC\n        )\n      ),\n      rule!AS_CO_UT_updateCdtFields(\n        cdt: local!auditConfig,\n        fields: \"auditActionCode\",\n        newValues: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n      ),\n      local!auditConfig\n    )\n  )\n)"
    },
    "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3318977": {
      "name": "AS_GCM_UT_captureAuditForRules",
      "type": "Expression Rule",
      "sail_code": "/*No assertion: As the output involves Entity DSE*/\na!localVariables(\n  local!ruleAudit: rule!AS_GAM_ADT_UT_buildAuditEntityData(\n    auditParams: rule!AS_GCM_QNM_UT_ruleStartAuditProcess_Parameters(\n      originalRule: ri!originalRule,\n      rule: ri!rules,\n      originalRuleClauses: ri!originalRuleClauses,\n      ruleClauses: ri!ruleClauses,\n      initiator: ri!initiator\n    ),\n    initiator: ri!initiator\n  ),\n  /*Audit will be written only if any of the field values are updated*/\n  {\n    if(\n      rule!AS_CO_UT_isBlank(local!ruleAudit),\n      {},\n      {\n        entity: cons!AS_GCM_QNM_ENT_A_T_RULE,\n        data: local!ruleAudit\n      }\n    )\n  }\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_243040": {
      "name": "AS_CO_UT_compareStrong",
      "type": "Expression Rule",
      "sail_code": "/*Do a strict comarison against types*/\ncast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  and(\n    rule!AS_CO_UT_typeCompare(\n      value1: ri!value1,\n      value2: ri!value2\n    ),\n    ri!value1 = ri!value2\n  )\n)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1467714": {
      "name": "AS_GCM_QNM_QR_getRule",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!useQueryRecordByidentifier: and(\n    ri!executeWhen,\n    all(\n      rule!AS_CO_UT_isBlank(_),\n      {\n        ri!additionalFilters,\n        ri!logicalExpression,\n        ri!aggregation\n      }\n    ),\n    rule!AS_GAM_UT_ArrayLength(ri!ruleIds) = 1,\n    not(\n      rule!AS_CO_UT_booleanDefaultFalse(ri!returnAllData)\n    )\n  ),\n  local!relatedRecordDataLimit: if(\n    local!useQueryRecordByidentifier,\n    100,\n    10\n  ),\n  local!relatedRecordData: a!flatten(\n    {\n      if(\n        ri!includeRelatedRecords,\n        {\n          #\"SYSTEM_SYSRULES_relatedRecordData\"(\n            relationship: recordType!AS GCM QNM T Rule.conditions,\n            limit: local!relatedRecordDataLimit,\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!AS GCM QNM T Rule Condition.mapId,\n                operator: \"in\",\n                value: ri!mapIds,\n                applyWhen: rule!AS_CO_UT_isNotBlank(ri!mapIds)\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!AS GCM QNM T Rule Condition.isActive,\n                operator: \"=\",\n                value: true,\n                applyWhen: ri!showInactive <> true\n              )\n            }\n          ),\n          #\"SYSTEM_SYSRULES_relatedRecordData\"(\n            relationship: recordType!AS GCM QNM T Rule.conditionClauses,\n            limit: local!relatedRecordDataLimit,\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!AS GCM QNM T Rule Condition Clause.clauseMapId,\n                operator: \"in\",\n                value: ri!clauseMapIds,\n                applyWhen: rule!AS_CO_UT_isNotBlank(ri!clauseMapIds)\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!AS GCM QNM T Rule Condition Clause.isActive,\n                operator: \"=\",\n                value: true,\n                applyWhen: ri!showInactive <> true\n              )\n            }\n          )\n        },\n        {}\n      ),\n      if(\n        ri!returnLatestRuleVersion,\n        {\n          #\"SYSTEM_SYSRULES_relatedRecordData\"(\n            relationship: recordType!AS GCM QNM T Rule.ruleVersions,\n            limit: 1,\n            sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n              field: recordType!AS GCM QNM Rule Version.ruleVersion,\n              ascending: false\n            )\n          ),\n          #\"SYSTEM_SYSRULES_relatedRecordData\"(\n            relationship: recordType!AS GCM QNM T Rule.ruleVersions,\n            limit: local!relatedRecordDataLimit,\n            filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM QNM Rule Condition Version.ruleConditionGroupVersionId,\n              operator: \"is null\"\n            )\n          ),\n          #\"SYSTEM_SYSRULES_relatedRecordData\"(\n            relationship: recordType!AS GCM QNM T Rule.ruleVersions,\n            limit: local!relatedRecordDataLimit,\n            filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM QNM Rule Condition Group Version.parentConditionGroupVersionId,\n              operator: \"is null\"\n            )\n          ),\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: {\n              #\"urn:appian:record-relationship:v1:0e51d64b-81db-423f-87e6-ef610fc3274c/84044f63-97e7-40ee-800d-e10b7335b754/93bc1dae-3b06-448e-b601-6a151e256626/6473bca8-dd71-4cc3-9dae-22208fd859b4\",\n              #\"urn:appian:record-relationship:v1:0e51d64b-81db-423f-87e6-ef610fc3274c/84044f63-97e7-40ee-800d-e10b7335b754/93bc1dae-3b06-448e-b601-6a151e256626/794d60ae-9d8c-4ad5-84fa-8742a75efd67\",\n              #\"urn:appian:record-relationship:v1:0e51d64b-81db-423f-87e6-ef610fc3274c/84044f63-97e7-40ee-800d-e10b7335b754/93bc1dae-3b06-448e-b601-6a151e256626/794d60ae-9d8c-4ad5-84fa-8742a75efd67/6473bca8-dd71-4cc3-9dae-22208fd859b4\",\n              #\"urn:appian:record-relationship:v1:0e51d64b-81db-423f-87e6-ef610fc3274c/84044f63-97e7-40ee-800d-e10b7335b754/93bc1dae-3b06-448e-b601-6a151e256626/794d60ae-9d8c-4ad5-84fa-8742a75efd67/794d60ae-9d8c-4ad5-84fa-8742a75efd67\",\n              #\"urn:appian:record-relationship:v1:0e51d64b-81db-423f-87e6-ef610fc3274c/84044f63-97e7-40ee-800d-e10b7335b754/93bc1dae-3b06-448e-b601-6a151e256626/794d60ae-9d8c-4ad5-84fa-8742a75efd67/794d60ae-9d8c-4ad5-84fa-8742a75efd67/6473bca8-dd71-4cc3-9dae-22208fd859b4\",\n              #\"urn:appian:record-relationship:v1:0e51d64b-81db-423f-87e6-ef610fc3274c/84044f63-97e7-40ee-800d-e10b7335b754/93bc1dae-3b06-448e-b601-6a151e256626/794d60ae-9d8c-4ad5-84fa-8742a75efd67/794d60ae-9d8c-4ad5-84fa-8742a75efd67/794d60ae-9d8c-4ad5-84fa-8742a75efd67\"\n            },\n            expression: #\"SYSTEM_SYSRULES_relatedRecordData\"(\n              relationship: fv!item,\n              limit: local!relatedRecordDataLimit\n            )\n          )\n        },\n        {}\n      ),\n      ri!relatedRecordData\n    }\n  ),\n  if(\n    local!useQueryRecordByidentifier,\n    rule!AS_GCM_UT_queryRecordByIdentifier(\n      recordType: recordType!AS GCM QNM T Rule,\n      identifier: ri!ruleIds[1],\n      fields: { ri!fields },\n      triggerRefresh: ri!triggerRefresh,\n      executeWhen: ri!executeWhen,\n      relatedRecordData: local!relatedRecordData\n    ),\n    rule!AS_CO_UT_queryRecord(\n      recordType: recordType!AS GCM QNM T Rule,\n      returnType: a!defaultValue(\n        value: ri!returnType,\n        default: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT\n      ),\n      aggregationFields: ri!aggregation,\n      logicalExpression: ri!logicalExpression,\n      filters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM T Rule.ruleId,\n          operator: \"in\",\n          value: ri!ruleIds\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM T Rule.isActive,\n          operator: \"=\",\n          value: true(),\n          applyWhen: ri!showInactive <> true\n        ),\n        ri!additionalFilters\n      },\n      fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n        {\n          ri!fields,\n          index(\n            local!relatedRecordData,\n            \"relationship\",\n            null\n          )\n        }\n      ),\n      pagingInfo: ri!pagingInfo,\n      triggerRefresh: ri!triggerRefresh,\n      executeWhen: and(\n        ri!executeWhen,\n        or(\n          any(\n            rule!AS_CO_UT_isNotBlank(_),\n            {\n              ri!additionalFilters,\n              ri!logicalExpression,\n              ri!aggregation\n            }\n          ),\n          rule!AS_CO_UT_isNotBlank(ri!ruleIds),\n          rule!AS_CO_UT_booleanDefaultFalse(ri!returnAllData),\n          ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_TOTAL_COUNT\n        )\n      ),\n      relatedRecordData: local!relatedRecordData\n    )\n  )\n)"
    },
    "_a-0000e615-fd0f-8000-9bc1-011c48011c48_1174811": {
      "name": "AS_GCM_UT_refClauseStartAuditProcess_Parameters",
      "type": "Expression Rule",
      "sail_code": "rule!AS_ADT_UT_startAuditProcess_Parameters(\n  originalObjects: rule!AS_GCM_BL_constructHelperForRefClauseAndClauseTexts(\n    refClauses: ri!originalRefClauses,\n    refClauseTexts: ri!originalRefClauseTexts\n  ),\n  newObjects: rule!AS_GCM_BL_constructHelperForRefClauseAndClauseTexts(\n    refClauses: ri!refClauses,\n    refClauseTexts: ri!refClauseTexts\n  ),\n  objectType: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Clause_Helper',\n  objectDse: null,\n  auditDse: cons!AS_GCM_ENT_R_A_R_CLAUSE,\n  auditConfig: rule!AS_GCM_ADT_BL_auditConfig_RefClause(),\n  username: ri!initiator,\n  externalAction: ri!externalAction\n).auditParams"
    },
    "_a-0000ee79-e5e2-8000-9e3c-011c48011c48_16906818": {
      "name": "AS_GCM_CEDM_UpdateAuditActionCodes",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!auditEntityDataMaps,\n  expression: #\"SYSTEM_SYSRULES_entityData\"(\n    entity: fv!item.entity,\n    data: #\"SYSTEM_SYSRULES_forEach\"(\n      items: fv!item.data,\n      expression: #\"urn:appian:function:v1:a:update\"(\n        data: fv!item,\n        index: \"auditActionCode\",\n        value: a!match(\n          value:fv!item.auditActionCode,\n          equals: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_ADD,\n          then: cons!AS_GCM_CEDM_ADT_ENUM_AUDIT_ACTION_CODE_ADD,\n          equals: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n          then: cons!AS_GCM_CEDM_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n          equals: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_REACTIVATE,\n          then: cons!AS_GCM_CEDM_ADT_ENUM_AUDIT_ACTION_CODE_REACTIVATE,\n          equals: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DEACTIVATE,\n          then: cons!AS_GCM_CEDM_ADT_ENUM_AUDIT_ACTION_CODE_DEACTIVATE,\n          default: fv!value\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_162005-adt": {
      "name": "AS_ADT_UT_buildSimpleFieldChangesDictionary",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!oldValue: rule!AS_CO_UT_toString(\n    value: rule!AS_CO_UT_indexPath(\n      cdt: ri!originalObject,\n      field: ri!simpleFieldName\n    )\n  ),\n  local!newValue: rule!AS_CO_UT_toString(\n    value: rule!AS_CO_UT_indexPath(\n      cdt: ri!newObject,\n      field: ri!simpleFieldName\n    )\n  ),\n  if(\n    rule!AS_CO_UT_compare(\n      value1: local!oldValue,\n      value2: local!newValue\n    ),\n    {},\n    rule!AS_CO_UT_dynamicDictionary(\n      fieldValuePairs: {\n        {\n          field: \"fieldName\",\n          value: ri!simpleFieldName\n        },\n        { field: \"oldValue\", value: local!oldValue },\n        { field: \"newValue\", value: local!newValue }\n      }\n    )\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_157603": {
      "name": "AS_CO_UT_cast",
      "type": "Expression Rule",
      "sail_code": "with(  \n  local!typeNumber: rule!AS_CO_UT_returnTypeNumber(\n    type: ri!type,\n    typeOf: ri!typeOf\n  ),\n\n  /* If the object is empty, use null or {} depending on if it is array type or not */\n  local!objectToCast: if(\n    rule!AS_CO_UT_isNotBlank(ri!value),\n    ri!value,\n    rule!AS_CO_UT_checkIfSingleType(\n      type: ri!type,\n      typeOf: ri!typeOf\n    ),\n    null,\n    {}\n  ),\n\n  cast(\n    local!typeNumber,\n    local!objectToCast\n  )\n  \n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_157870": {
      "name": "AS_CO_UT_queryEntity",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS ON HOW TO USE\n\nPlease DO NOT auto-format this rule\n\n*/\n/*Error handling for invalid returnType or entityType*/\nif(\n  rule!AS_CO_UT_isBlank(ri!returnType),\n  fn!error(\n    concat(\n      \"Null `returnType` passed to AS_CO_UT_queryEntity for entityType `\",\n      ri!entityType,\n      \"`.  See documentation in AS_CO_UT_queryEntity for further information on how to use this parameter.\"\n    )\n  ),\n  if(\n    not(\n      contains(\n        rule!AS_CO_CONS_QE_RETURN_TYPES(),\n        ri!returnType\n      )\n    ),\n    fn!error(\n      concat(\n        \"Unknown `returnType` (\",\n        ri!returnType,\n        \") passed to AS_CO_UT_queryEntity for entityType `\",\n        ri!entityType,\n        \"`.  See documentation in AS_CO_UT_queryEntity for further information on how to use this parameter.\"\n      )\n    ),\n    if(\n      rule!AS_CO_UT_isBlank(ri!entityType),\n      fn!error(\n        concat(\n          \"Null `entityType` passed to AS_CO_UT_queryEntity for entity `\",\n          ri!entity,\n          \"`.  See documentation in AS_CO_UT_queryEntity for further information on how to use this parameter.\"\n        )\n      ),\n      if(\n        and(\n          ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n          rule!AS_CO_UT_isBlank(ri!pagingInfo)\n        ),\n        fn!error(\n          concat(\n            \"`pagingInfo` is required (cannot be null) for `returnType` DATA_SUBSET\"\n          )\n        ),\n        if(\n          and(\n            ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n            rule!AS_CO_UT_isNotBlank(ri!pagingInfo)\n          ),\n          fn!error(\n            concat(\n              \"`pagingInfo` must be null when the `returnType` is not DATA_SUBSET, instead use `sort` to pass custom sorting, `batchSize` to pass custom batch size, and `startIndex` & `batchSize` (if null) will be automatically calculated for you\"\n            )\n          ),\n          if(\n            and(\n              ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n              rule!AS_CO_UT_isBlank(ri!aggregation)\n            ),\n            fn!error(\n              \"You must provide an input for `aggregation` when `returnType` is AGGREGATION\"\n            ),\n            if(\n              and(\n                not(\n                  contains(\n                    {\n                      cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n                      cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET\n                    },\n                    ri!returnType\n                  )\n                ),\n                rule!AS_CO_UT_isNotBlank(ri!aggregation)\n              ),\n              fn!error(\n                \"You cannot provide an input for `aggregation` when `returnType` is not AGGREGATION or DATA_SUBSET\"\n              ),\n              a!localVariables(\n                /*Determine the castResultToType*/\n                local!castResultToType: rule!AS_CO_UT_displayValue(\n                  value: ri!returnType,\n                  inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n                  replacement: {\n                    /*DATA_SUBSET*/'type!{http://www.appian.com/ae/types/2009}DataSubset',\n                    /*SINGLE_OBJECT*/ri!entityType,\n                    /*OBJECT_ARRAY*/rule!AS_CO_UT_returnArrayTypeNumber(type: ri!entityType),\n                    /*AGGREGATION*/'type!{http://www.appian.com/ae/types/2009}Map?list',\n                    /*TOTAL_COUNT*/'type!{http://www.appian.com/ae/types/2009}Integer',\n                    \n                  }\n                ),\n                /*Determine the batchSize*/\n                local!batchSize: rule!AS_CO_UT_displayValue(\n                  value: ri!returnType,\n                  inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n                  replacement: {\n                    /*DATA_SUBSET*/ri!pagingInfo.batchSize,\n                    /*SINGLE_OBJECT*/1,\n                    /*OBJECT_ARRAY*/rule!AS_CO_UT_replaceNull(\n                      nullableValue: ri!batchSize,\n                      replacementValue: cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE\n                    ),\n                    /*AGGREGATION*/rule!AS_CO_UT_replaceNull(\n                      nullableValue: ri!batchSize,\n                      replacementValue: cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE\n                    ),\n                    /*TOTAL_COUNT*/0,\n                    \n                  }\n                ),\n                /*Determine the sort*/\n                local!sort: rule!AS_CO_UT_zInternal_queryEntity_determineSort(\n                  entityType: ri!entityType,\n                  returnType: ri!returnType,\n                  pagingInfo: ri!pagingInfo,\n                  sort: ri!sort,\n                  isAggregation: rule!AS_CO_UT_isNotBlank(ri!aggregation)\n                ),\n                /*Determine the pagingInfo*/\n                local!pagingInfo: if(\n                  ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n                  /*Use specific pagingInfo for DATA_SUBSET*/\n                  #\"SYSTEM_SYSRULES_pagingInfo\"(\n                    startIndex: ri!pagingInfo.startIndex,\n                    batchSize: ri!pagingInfo.batchSize,\n                    sort: local!sort\n                  ),\n                  /*Otherwise calculate pagingInfo for all other returnTypes*/\n                  #\"SYSTEM_SYSRULES_pagingInfo\"(\n                    startIndex: 1,\n                    batchSize: local!batchSize,\n                    sort: local!sort\n                  )\n                ),\n                /*Determine the fetchTotalCount*/\n                local!fetchTotalCount: rule!AS_CO_UT_displayValue(\n                  value: ri!returnType,\n                  inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n                  replacement: {\n                    /*DATA_SUBSET*/true,\n                    /*SINGLE_OBJECT*/false,\n                    /*OBJECT_ARRAY*/false,\n                    /*AGGREGATION*/false,\n                    /*TOTAL_COUNT*/true,\n                    \n                  }\n                ),\n                /*Execute the query*/\n                local!queryResult: a!refreshVariable(\n                  value: if(\n                    ri!executeWhen = false,\n                    null,\n                    #\"SYSTEM_SYSRULES_queryEntity_v1\"(\n                      entity: ri!entity,\n                      fetchTotalCount: local!fetchTotalCount,\n                      query: #\"SYSTEM_SYSRULES_query\"(\n                        pagingInfo: local!pagingInfo,\n                        aggregation: ri!aggregation,\n                        selection: if(\n                          and(\n                            ri!excludeNestedCdts = true,\n                            rule!AS_CO_UT_isBlank(ri!aggregation)\n                          ),\n                          #\"SYSTEM_SYSRULES_querySelection\"(\n                            columns: #\"SYSTEM_SYSRULES_forEach\"(\n                              items: rule!AS_CO_UT_returnCdtFields(\n                                type: ri!entityType,\n                                onlyPrimitiveFields: true\n                              ),\n                              expression: #\"SYSTEM_SYSRULES_queryColumn\"(field: fv!item)\n                            )\n                          ),\n                          null\n                        ),\n                        logicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                          operator: \"AND\",\n                          logicalExpressions: {\n                            #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                              operator: \"AND\",\n                              ignoreFiltersWithEmptyValues: true,\n                              filters: rule!AS_CO_UT_replaceNull(\n                                nullableValue: ri!filters,\n                                replacementValue: {}\n                              )\n                            ),\n                            rule!AS_CO_UT_replaceNull(\n                              nullableValue: ri!logicalExpression,\n                              replacementValue: {}\n                            )\n                          }\n                        )\n                      )\n                    )\n                  ),\n                  refreshOnVarChange: ri!triggerRefresh,\n                  refreshAfter: { \"RECORD_ACTION\" }\n                ),\n                /*Parse the queryResult*/\n                local!queryResultParse: choose(\n                  rule!AS_CO_UT_chooseWherecontainsHelper(\n                    value: ri!returnType,\n                    inArray: rule!AS_CO_CONS_QE_RETURN_TYPES()\n                  ),\n                  /*Default, required value based on how AS_CO_UT_chooseWherecontainsHelper operates*/\"\",\n                  /*DATA_SUBSET*/local!queryResult,\n                  /*SINGLE_OBJECT*/local!queryResult.data,\n                  /*OBJECT_ARRAY*/local!queryResult.data,\n                  /*AGGREGATION*/local!queryResult.data,\n                  /*TOTAL_COUNT*/local!queryResult.totalCount,\n                  \n                ),\n                rule!AS_CO_UT_cast(\n                  type: local!castResultToType,\n                  value: local!queryResultParse\n                )\n              )\n            )\n          )\n        )\n      )\n    )\n  )\n)/*\n\nDOCUMENTATION\n\nThis rule is designed to minimize the overhead with querying data and then casting the result\n\n\nRequired Inputs:\n\n1. entity \n- This is the data store entity you are querying\n-- e.g. cons!AS_DATA_STORE_ENTITY_CASES\n\n2. entityType\n- This is a type! input of the data type which maps to the underlying data store entity\n- Note that your type! input should not end in parenthesis; this is NOT designed to take in an empty CDT\n-- e.g. 'type!{urn:com:appian:types}Case'\n\n3. returnType\n- This depends on the purpose for the query, and should be one of the returnTypes in rule!AS_CO_CONS_QE_RETURN_TYPES\n-- DATA_SUBSET - This will return a DataSubset; pagingInfo is required\n-- SINGLE_OBJECT - This will return a single CDT whose type is the entityType; pagingInfo must be null\n-- OBJECT_ARRAY - This will return an array of CDTs whos type is an array of the entityType; pagingInfo must be null\n-- AGGREGATION - This will return an array of Dictionaries; pagingInfo must be null\n---- NOTE: If you need Aggregation with paging controls, such as for a grid, use returnType DATA_SUBSET\n-- TOTAL_COUNT - This will return an Integer of the total count; pagingInfo must be null\n\n\nOptional Inputs:\n\n4. executeWhen\n- The query will not execute if this is false, the query will execute if this is true or null\n-- This is meant to operate in a similar manner to the showWhen parameter of components\n- Usethistoskipexecutionofaquerywithoutneedingtowrapif()statementsaroundtherule\n-- Examples of this would be to skip querying if your filter value is a null ID\n- If the query does not execute, this will return a null value whose type is based on the returnType input\n\n5. triggerRefresh\n- By default, the query will always re-execute whenever any inputs change\n- However, by updating the value of triggerRefresh, you can also trigger a re-execution even if none of the other inputs change\n\n6. excludeNestedCdts\n- When true, this will exclude all nested CDTs from the query selection, and only include primitive fields\n- When false or null, all fields will be included in the query, including all nested CDTs\n\n7. filters\n- Array of filters to apply to the query, built with a!queryFilter()\n- These filters will be applied with an AND operator\n- These filters will apply in addition to the logicalExpression input, combining both with an AND operator\n\n8. logicalExpression\n- A logical expression to apply to the query, built with a!queryLogicalExpression()\n- This logical expression will apply in addition to the filters input, combining both with an AND operator\n\n9. aggregation\n- Aggregation to apply to the query, built with a!queryAggregation()\n\n10. pagingInfo\n- Paging info to apply to the query, built with a!pagingInfo() or derived from fv!pagingInfo in grids\n- This is required if passing returnType DATA_SUBSET, otherwise it must be null\n- For returnTypes that are not DATA_SUBSET, the batch size will be automatically calculated depending on the returnType\n-- For example, passing SINGLE_OBJECT will automatically apply a batch size of 1, whereas OBJECT_ARRAY and AGGREGATION will automatically apply a batch size of -1\n\n11. sort\n- Array of sort to apply to the query, built with a!sortInfo()\n- This is meant to be used with returnType OBJECT_ARRAY and AGGREGATION, since pagingInfo is not required for these, but a specified sort may be used\n\n12. batchSize\n- Batch size to apply to the query\n- This is meant to be used with returnType OBJECT_ARRAY and AGGREGATION, since pagingInfo is not required for these, but a specified batchSize may be used\n\n*/"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1529562": {
      "name": "AS_GCM_BL_constructHelperForRefClauseAndClauseTexts",
      "type": "Expression Rule",
      "sail_code": "if(\n  all(\n    rule!AS_CO_UT_isBlank,\n    { ri!refClauses, ri!refClauseTexts }\n  ),\n  rule!AS_CO_UT_initializeBlankLocalVariable(\n    type: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Clause_Helper'\n  ),\n  /*Combining AS_GCM_R_Clause and AS_GCM_R_Clause_Texts*/\n  a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!refClauses,\n      expression: rule!AS_GCM_UT_nullifyEmptyNestedCdtFields(\n        cdt: rule!AS_CO_UT_cast(\n          type: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Clause_Helper',\n          value: {\n            clauseId: fv!item[recordType!AS GCM R Clause.clauseId],\n            clauseNumber: fv!item[recordType!AS GCM R Clause.clauseNumber],\n            clauseTitle: fv!item[recordType!AS GCM R Clause.clauseTitle],\n            alternateValue: fv!item[recordType!AS GCM R Clause.alternateValue],\n            effectiveDate: fv!item[recordType!AS GCM R Clause.effectiveDate],\n            ucfSection: recordType!AS GCM R Section(\n              recordType!AS GCM R Section.sectionId: fv!item[recordType!AS GCM R Clause.ucfSectionId]\n            ),\n            refSource: recordType!AS GCM R Data(\n              recordType!AS GCM R Data.refDataId: fv!item[recordType!AS GCM R Clause.refSourceId]\n            ),\n            refType: recordType!AS GCM R Data(\n              recordType!AS GCM R Data.refDataId: fv!item[recordType!AS GCM R Clause.refTypeId]\n            ),\n            refFormat: recordType!AS GCM R Data(\n              recordType!AS GCM R Data.refDataId: fv!item[recordType!AS GCM R Clause.refFormatId]\n            ),\n            fillIn: fv!item[recordType!AS GCM R Clause.fillIn],\n            editable: fv!item[recordType!AS GCM R Clause.editable],\n            prescriptionNumber: fv!item[recordType!AS GCM R Clause.prescriptionNumber],\n            fpSup: recordType!AS GCM R Data(\n              recordType!AS GCM R Data.refDataId: fv!item[recordType!AS GCM R Clause.fpSupId]\n            ),\n            crSup: recordType!AS GCM R Data(\n              recordType!AS GCM R Data.refDataId: fv!item[recordType!AS GCM R Clause.crSupId]\n            ),\n            fpRd: recordType!AS GCM R Data(\n              recordType!AS GCM R Data.refDataId: fv!item[recordType!AS GCM R Clause.fpRdId]\n            ),\n            crRd: recordType!AS GCM R Data(\n              recordType!AS GCM R Data.refDataId: fv!item[recordType!AS GCM R Clause.crRdId]\n            ),\n            fpSvc: recordType!AS GCM R Data(\n              recordType!AS GCM R Data.refDataId: fv!item[recordType!AS GCM R Clause.fpSvcId]\n            ),\n            crSvc: recordType!AS GCM R Data(\n              recordType!AS GCM R Data.refDataId: fv!item[recordType!AS GCM R Clause.crSvcId]\n            ),\n            fpCon: recordType!AS GCM R Data(\n              recordType!AS GCM R Data.refDataId: fv!item[recordType!AS GCM R Clause.fpConId]\n            ),\n            crCon: recordType!AS GCM R Data(\n              recordType!AS GCM R Data.refDataId: fv!item[recordType!AS GCM R Clause.crConId]\n            ),\n            tmLh: recordType!AS GCM R Data(\n              recordType!AS GCM R Data.refDataId: fv!item[recordType!AS GCM R Clause.tmLhId]\n            ),\n            lmv: recordType!AS GCM R Data(\n              recordType!AS GCM R Data.refDataId: fv!item[recordType!AS GCM R Clause.lmvId]\n            ),\n            comSvc: recordType!AS GCM R Data(\n              recordType!AS GCM R Data.refDataId: fv!item[recordType!AS GCM R Clause.comSvcId]\n            ),\n            ddr: recordType!AS GCM R Data(\n              recordType!AS GCM R Data.refDataId: fv!item[recordType!AS GCM R Clause.ddrId]\n            ),\n            ae: recordType!AS GCM R Data(\n              recordType!AS GCM R Data.refDataId: fv!item[recordType!AS GCM R Clause.aeId]\n            ),\n            fac: recordType!AS GCM R Data(\n              recordType!AS GCM R Data.refDataId: fv!item[recordType!AS GCM R Clause.facId]\n            ),\n            indDel: recordType!AS GCM R Data(\n              recordType!AS GCM R Data.refDataId: fv!item[recordType!AS GCM R Clause.indDelId]\n            ),\n            trn: recordType!AS GCM R Data(\n              recordType!AS GCM R Data.refDataId: fv!item[recordType!AS GCM R Clause.trnId]\n            ),\n            sap: recordType!AS GCM R Data(\n              recordType!AS GCM R Data.refDataId: fv!item[recordType!AS GCM R Clause.sapId]\n            ),\n            utlSvc: recordType!AS GCM R Data(\n              recordType!AS GCM R Data.refDataId: fv!item[recordType!AS GCM R Clause.utlSvcId]\n            ),\n            cpCs: recordType!AS GCM R Data(\n              recordType!AS GCM R Data.refDataId: fv!item[recordType!AS GCM R Clause.cpCsId]\n            ),\n            prescriptionText: rule!AS_CO_UT_filterCdtByField(\n              cdt: ri!refClauseTexts,\n              field: \"clauseId\",\n              value: fv!item[recordType!AS GCM R Clause.clauseId]\n            ).prescriptionText,\n            clauseText: rule!AS_CO_UT_filterCdtByField(\n              cdt: ri!refClauseTexts,\n              field: \"clauseId\",\n              value: fv!item[recordType!AS GCM R Clause.clauseId]\n            ).clauseText,\n            /*Metadata from both the CDTs would be the same. Using AS_GCM_R_Clause's data here*/\n            syncUpdatedBy: fv!item[recordType!AS GCM R Clause.syncUpdatedBy],\n            syncUpdatedDatetime: fv!item[recordType!AS GCM R Clause.syncUpdatedDatetime],\n            createdBy: fv!item[recordType!AS GCM R Clause.createdBy],\n            createdDatetime: fv!item[recordType!AS GCM R Clause.createdDatetime],\n            modifiedBy: fv!item[recordType!AS GCM R Clause.modifiedBy],\n            modifiedDatetime: fv!item[recordType!AS GCM R Clause.modifiedDatetime],\n            isActive: fv!item[recordType!AS GCM R Clause.isActive]\n          }\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1530006": {
      "name": "AS_GCM_UT_captureAuditForRefClauseAndClauseText",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!auditData: rule!AS_GAM_ADT_UT_buildAuditEntityData(\n    auditParams: rule!AS_GCM_UT_refClauseStartAuditProcess_Parameters(\n      refClauses: ri!refClauses,\n      refClauseTexts: ri!refClauseTexts,\n      originalRefClauses: ri!originalClauses,\n      originalRefClauseTexts: ri!originalRefClauseTexts,\n      initiator: ri!initiator,\n      externalAction: ri!externalAction\n    )\n  ),\n  /*Audit will be written only if any of the field values are updated*/\n  if(\n    rule!AS_CO_UT_isBlank(local!auditData),\n    {},\n    {\n      entity: cons!AS_GCM_ENT_R_A_R_CLAUSE,\n      data: local!auditData\n    }\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_279147": {
      "name": "AS_CO_UT_castToDictionary",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  if(\n    rule!AS_CO_UT_isBlank(ri!value),\n    null,\n    ri!value\n  )\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_101148": {
      "name": "AS_CO_UT_returnNullDictionary",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  null\n)"
    },
    "_a-0000e415-3035-8000-9bb2-011c48011c48_292117": {
      "name": "AS_CO_UT_castToDictionaryList",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary?list',\n  if(\n    rule!AS_CO_UT_isBlank(ri!value),\n    {},\n    ri!value\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_39379-gcm": {
      "name": "AS_GCM_QNM_QR_getQuestionnaire_Template",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!relatedRecordData: {\n    #\"SYSTEM_SYSRULES_relatedRecordData\"(\n      relationship: recordType!AS GCM QNM T Questionnaire.questionCategories,\n      filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Question Category.isActive,\n        operator: \"in\",\n        value: rule!AS_CO_UT_replaceNull(\n          nullableValue: ri!isActive,\n          replacementValue: { true }\n        )\n      ),\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!AS GCM QNM T Question Category.displayOrder,\n        ascending: true()\n      )\n    ),\n    #\"SYSTEM_SYSRULES_relatedRecordData\"(\n      relationship: recordType!AS GCM QNM T Questionnaire.questions,\n      filters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM T Question.isActive,\n          operator: \"in\",\n          value: rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!isActive,\n            replacementValue: { true }\n          )\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM T Question.questionTemplateId,\n          operator: \"not in\",\n          value: ri!questionTemplateIdsToExclude,\n          applyWhen: a!isNotNullOrEmpty(ri!questionTemplateIdsToExclude)\n        )\n      },\n      sort: {\n        #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!AS GCM QNM T Question.groupNumber,\n          ascending: true\n        ),\n        #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!AS GCM QNM T Question.orderNumber,\n          ascending: true\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_relatedRecordData\"(\n      relationship: recordType!AS GCM QNM T Questionnaire.questions,\n      \n    ),\n    #\"SYSTEM_SYSRULES_relatedRecordData\"(\n      relationship: recordType!AS GCM QNM T Questionnaire.questions,\n      \n    ),\n    #\"SYSTEM_SYSRULES_relatedRecordData\"(\n      relationship: recordType!AS GCM QNM T Questionnaire.questions,\n      filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Question Precedent Set.isActive,\n        operator: \"in\",\n        value: rule!AS_CO_UT_replaceNull(\n          nullableValue: ri!isActive,\n          replacementValue: { true }\n        )\n      )\n    ),\n    #\"SYSTEM_SYSRULES_relatedRecordData\"(\n      relationship: #\"urn:appian:record-relationship:v1:9f80ae61-036a-46c1-8975-aebefe443c6e/60d96863-683c-425f-8d9b-7dd94d1cd5ba/35500f1d-7bad-40e6-8728-6bd75b0d3f03/8dca9ba9-cfbd-46c6-92b8-6a7d21aad4c4\",\n      filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Question Precedent.isActive,\n        operator: \"in\",\n        value: rule!AS_CO_UT_replaceNull(\n          nullableValue: ri!isActive,\n          replacementValue: { true }\n        )\n      )\n    ),\n    #\"SYSTEM_SYSRULES_relatedRecordData\"(\n      relationship: #\"urn:appian:record-relationship:v1:9f80ae61-036a-46c1-8975-aebefe443c6e/60d96863-683c-425f-8d9b-7dd94d1cd5ba/35500f1d-7bad-40e6-8728-6bd75b0d3f03/8dca9ba9-cfbd-46c6-92b8-6a7d21aad4c4/b37fc648-4c9c-4add-b535-2cbb861e4e19\",\n      \n    ),\n    ri!relatedRecordData\n  },\n  if(\n    and(\n      ri!getAllRelatedRecord,\n      a!isNullOrEmpty(ri!additionalFilters),\n      a!isNullOrEmpty(ri!logicalExpression),\n      rule!AS_GAM_UT_ArrayLength(ri!questionnaireTemplateId) = 1,\n      ri!executeWhen\n    ),\n    rule!AS_GCM_UT_queryRecordByIdentifier(\n      recordType: recordType!AS GCM QNM T Questionnaire,\n      identifier: ri!questionnaireTemplateId,\n      relatedRecordData: local!relatedRecordData\n    ),\n    rule!AS_CO_UT_queryRecord(\n      recordType: recordType!AS GCM QNM T Questionnaire,\n      returnType: a!defaultValue(\n        value: ri!returnType,\n        default: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n      ),\n      fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n        {\n          ri!fields,\n          if(\n            ri!includeRelatedRecords,\n            index(\n              local!relatedRecordData,\n              \"relationship\",\n              null\n            ),\n            {}\n          )\n        }\n      ),\n      filters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM T Questionnaire.questionnaireTemplateId,\n          operator: \"in\",\n          value: ri!questionnaireTemplateId\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM T Questionnaire.questionnaireTemplateId,\n          operator: \"not in\",\n          value: ri!questionnaireTemplateIdsToExclude\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM T Questionnaire.name,\n          operator: \"=\",\n          value: ri!name\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM T Questionnaire.isActive,\n          operator: \"in\",\n          value: rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!isActive,\n            replacementValue: { true }\n          )\n        ),\n        ri!additionalFilters\n      },\n      logicalExpression: ri!logicalExpression,\n      triggerRefresh: ri!triggerRefresh,\n      executeWhen: ri!executeWhen,\n      pagingInfo: ri!pagingInfo,\n      relatedRecordData: local!relatedRecordData\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76367": {
      "name": "AS_CO_UT_rejectNullValuesFromArray",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!array),\n  reject(\n    rule!AS_CO_UT_isBlank(_),\n    a!flatten(ri!array)\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_271202": {
      "name": "AS_CO_UT_rejectCdtByField",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    rule!AS_CO_UT_isBlank(ri!cdt),\n    ri!cdt,\n    remove(\n      a!flatten(ri!cdt),\n      rule!AS_CO_UT_returnCdtIndicesByField(\n        cdt: ri!cdt,\n        field: ri!field,\n        value: ri!value\n      )\n    )\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_112825": {
      "name": "AS_CO_UT_toString",
      "type": "Expression Rule",
      "sail_code": "if(\n/* to prevent modulus from breaking */\n  isnull(ri!value),\n  ri!value,\n  if(\n    todecimal(ri!value) = tostring(ri!value),\n    if(\n      mod(ri!value, 1) = 0,\n      text(\n        todecimal(ri!value), \"##\"\n      ),\n      text(\n        todecimal(ri!value), \"##.##\"\n      )\n    ),\n    ri!value\n  )\n)"
    },
    "_a-0000e447-91f4-8000-9bc0-011c48011c48_584965-adt": {
      "name": "AS_ADT_UT_startAuditProcess_Parameters",
      "type": "Expression Rule",
      "sail_code": "{\n  auditParams: 'type!{urn:com:appian:types:AS:ADT}AS_ADT_P_AuditProcessParameters'(\n    newObjects: rule!AS_CO_UT_cast(\n      value: ri!newObjects,\n      type: rule!AS_CO_UT_returnArrayTypeNumber(type: ri!objectType),\n      \n    ),\n    originalObjects: rule!AS_CO_UT_cast(\n      value: ri!originalObjects,\n      type: rule!AS_CO_UT_returnArrayTypeNumber(type: ri!objectType),\n      \n    ),\n    objectTypeNumber: rule!AS_CO_UT_returnTypeNumber(type: ri!objectType),\n    namespace: rule!AS_CO_UT_getTypeNamespace(type: ri!objectType),\n    objectDse: ri!objectDse,\n    auditDse: ri!auditDse,\n    username: rule!AS_CO_UT_replaceNull(\n      nullableValue: ri!username,\n      replacementValue: loggedInUser()\n    ),\n    externalAction: ri!externalAction,\n    auditConfig: ri!auditConfig,\n    auditType: ri!auditType,\n    manipulationAudit: ri!manipulationAudit,\n    complexFieldName: ri!complexFieldName\n  )\n}"
    },
    "_a-0000e36c-7599-8000-9ba2-011c48011c48_64438": {
      "name": "AS_CO_UT_zINTERNAL_returnCdtFields_primitiveTypeCheckHandler",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  any(\n    rule!AS_CO_UT_typeCompare(\n      value1: ri!singleType[ri!field],\n      value2: _\n    ),\n    apply(\n      cast(\n        _,\n        null\n      ),\n      rule!AS_CO_CONS_PRIMITIVE_TYPE_ARRAY()\n    )\n  )\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_983591": {
      "name": "AS_GAM_ADT_UT_constructDynamicDictionaryForManipulatedAudit",
      "type": "Expression Rule",
      "sail_code": "/*If the audit data is not nested and is manipulated and passed from outsite, we can directly construct the audit entry for each ri!auditParams.manipulationAudit*/\n#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!auditParams.manipulationAudit,\n  expression: rule!AS_CO_UT_dynamicDictionary(\n    fieldValuePairs: {\n      if(\n        rule!AS_CO_UT_isBlank(\n          index(\n            ri!auditParams.auditConfig,\n            \"idField\",\n            null\n          )\n        ),\n        {},\n        {\n          field: ri!auditParams.auditConfig.idField,\n          value: index(\n            index(\n              ri!auditParams.newObjects,\n              tostring(ri!auditParams.auditConfig.idField),\n              null\n            ),\n            1,\n            null\n          )\n        }\n      ),\n      { field: \"username\", value: ri!initiator },\n      { field: \"timestamp\", value: now() },\n      {\n        field: \"auditActionCode\",\n        value: /*If the action code varies for each manipulation audit, actionCode within auditParams.manipulationAudit will be used. Else, externalAction will be used*/\n        rule!AS_CO_UT_replaceNull(\n          nullableValue: fv!item.actionCode,\n          replacementValue: ri!auditParams.externalAction\n        )\n      },\n      if(\n        rule!AS_CO_UT_isNotBlank(\n          ri!auditParams.auditConfig.foreignIdField\n        ),\n        {\n          field: ri!auditParams.auditConfig.foreignIdField,\n          value: index(\n            index(\n              ri!auditParams.newObjects,\n              tostring(\n                ri!auditParams.auditConfig.foreignIdField\n              ),\n              null\n            ),\n            1,\n            null\n          )\n        },\n        {}\n      ),\n      /*The field changes will be passed as label value pairs in \"fieldChanges\" column of auditParams.manipulationAudit\"*/\n      {\n        field: \"simpleFieldChanges\",\n        value: rule!AS_CO_UT_castToDictionaryList(value: fv!item.fieldChanges)\n      }\n    }\n  )\n)"
    },
    "_a-0000ec50-376f-8000-9d94-011c48011c48_12937069": {
      "name": "AS_GCM_UT_queryRecordByIdentifier",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS ON HOW TO USE\n\nPlease DO NOT auto-format this rule\n\n*/\na!localVariables(\n  /*Determine the castResultToType*/\n  local!castResultToType: a!defaultValue(ri!castToCdtType, ri!recordType),\n  /*Execute the query*/\n  local!queryResult: a!refreshVariable(\n    value: if(\n      ri!executeWhen = false,\n      null(ri!recordType),\n      #\"SYSTEM_SYSRULES_queryRecordByIdentifier\"(\n        recordType: ri!recordType,\n        identifier: ri!identifier,\n        fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n          {\n            ri!fields,\n            index(\n              ri!relatedRecordData,\n              \"relationship\",\n              null\n            )\n          }\n        ),\n        relatedRecordData: ri!relatedRecordData\n      )\n    ),\n    refreshOnVarChange: ri!triggerRefresh,\n    refreshInterval: ri!refreshInterval,\n    refreshAfter: { \"RECORD_ACTION\" }\n  ),\n  rule!AS_CO_UT_cast(\n    type: local!castResultToType,\n    value: local!queryResult\n  )\n)/*\n\nDOCUMENTATION\n\nThis rule is designed to minimize the overhead with querying data and then casting the result\n\n\nRequired Inputs:\n\n1. recordType\n- This is a recordtype! input of the data type to be queried against\n\n2. identifier\n- The primary key of the record type which needs to be queried\n\nOptional Inputs:\n\n3. executeWhen\n- The query will not execute if this is false, the query will execute if this is true or null\n-- This is meant to operate in a similar manner to the showWhen parameter of components\n- Use this to skip execution of a query without needing to wrap if() statements around the rule\n-- Examples of this would be to skip querying if your filter value is a null ID\n- If the query does not execute, this will return a null value whose type is based on the returnType input\n\n4. triggerRefresh\n- By default, the query will always re-execute whenever any inputs change\n- However, by updating the value of triggerRefresh, you can also trigger a re-execution even if none of the other inputs change (e.g. after a record action)\n\n5. castToCdtType\n- Any cdt type to the cast the result set. \n\n6. fields\n- The record fields that need to be queried\n\n7. relatedRecordData\n- the relatedRecordData in which the filters and limit can be specified for each relationship\n\n*/"
    },
    "_a-0000e6c8-d132-8000-9bbe-011c48011c48_469266": {
      "name": "AS_CO_UT_queryRecord",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS ON HOW TO USE\n\nPlease DO NOT auto-format this rule\n\n*/\n\n\n/*Error handling*/\nif(\n  rule!AS_CO_UT_isBlank(ri!returnType),\n  fn!error(concat(\"Null `returnType` passed to AS_CO_UT_queryRecord for recordType `\", ri!recordType, \"`.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  not(contains(rule!AS_CO_CONS_QE_RETURN_TYPES(), ri!returnType)),\n  fn!error(concat(\"Unknown `returnType` passed to AS_CO_UT_queryRecord for recordType `\", ri!recordType, \"`.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  rule!AS_CO_UT_isBlank(ri!recordType),\n  fn!error(concat(\"Null `recordType` passed to AS_CO_UT_queryRecord.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    rule!AS_CO_UT_isBlank(ri!pagingInfo)\n  ),\n  fn!error(concat(\"`pagingInfo` is required (cannot be null) for `returnType` DATA_SUBSET\")),\n  and(\n    ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    rule!AS_CO_UT_isNotBlank(ri!pagingInfo)\n  ),\n  fn!error(concat(\"`pagingInfo` must be null when the `returnType` is not DATA_SUBSET, instead use `sort` to pass custom-sorting and `startIndex` & `batchSize` will be automatically calculated for you\")),\n  and(\n    not(isnull(ri!pagingInfo)),\n    rule!AS_CO_UT_isNotBlank(ri!sort)\n  ),\n  fn!error(concat(\"`sort` parameter must be null when `pagingInfo` is provided.  Use the sort field of the provided `pagingInfo` instead.\")),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isBlank(ri!aggregationFields)\n  ),\n  fn!error(\"You must provide an input for `aggregationFields` when `returnType` is AGGREGATION\"),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isNotBlank(ri!fields)\n  ),\n  fn!error(\"You cannot provide an input for `fields` when `returnType` is AGGREGATION.  Use `aggregationFields` instead.\"),\n  and(\n    ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isNotBlank(ri!aggregationFields)\n  ),\n  fn!error(\"You cannot provide an input for `aggregationFields` when `returnType` is not AGGREGATION.  Use `fields` instead.\"),\n  and(\n    rule!AS_CO_UT_isNotBlank(ri!castToCdtType),\n    not(contains(\n      {cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY, cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT, cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET},\n      ri!returnType\n    )),\n  ),\n  fn!error(\"'castToCdtType' is only supported for SINGLE_OBJECT, OBJECT_ARRAY, and DATA_SUBSET return types\"),\n\n  a!localVariables(\n\n    /*Determine the castResultToType*/\n    local!castResultToType: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   'type!{http://www.appian.com/ae/types/2009}Map',\n        /*SINGLE_OBJECT*/ a!defaultValue(ri!castToCdtType, ri!recordType),\n        /*OBJECT_ARRAY*/  rule!AS_CO_UT_returnArrayTypeNumber(type: a!defaultValue(ri!castToCdtType, ri!recordType)),\n        /*AGGREGATION*/   'type!{http://www.appian.com/ae/types/2009}Map?list',\n        /*TOTAL_COUNT*/   'type!{http://www.appian.com/ae/types/2009}Integer',\n      }\n    ),\n\n    /*Determine the batchSize*/\n    local!batchSize: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   ri!pagingInfo.batchSize,\n        /*SINGLE_OBJECT*/ 1,\n        /*OBJECT_ARRAY*/  a!defaultValue(ri!pagingInfo.batchSize, cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE),\n        /*AGGREGATION*/   cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE,\n        /*TOTAL_COUNT*/   1,\n      }\n    ),\n\n    /*Determine the pagingInfo*/\n    local!pagingInfo: if(\n      ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n      /*Use specific pagingInfo for DATA_SUBSET*/\n      ri!pagingInfo,\n      /*Otherwise calculate pagingInfo for all other returnTypes*/\n      #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: local!batchSize,\n        sort: ri!sort\n      )\n    ),\n\n    /*Determine the fetchTotalCount*/\n    local!fetchTotalCount: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   true,\n        /*SINGLE_OBJECT*/ false,\n        /*OBJECT_ARRAY*/  false,\n        /*AGGREGATION*/   false,\n        /*TOTAL_COUNT*/   true,\n      }\n    ),\n\n    /*Execute the query*/\n    local!queryResult: a!refreshVariable(\n      value: if(\n        ri!executeWhen = false,\n        null(\n          if(\n            ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n            rule!AS_CO_TYPE_Dictionary(),\n            ri!recordType\n          )\n        ),\n        #\"SYSTEM_SYSRULES_queryRecordType_v1\"(\n          recordType: ri!recordType,\n          fields: a!defaultValue(\n            ri!fields,\n            ri!aggregationFields\n          ),\n          filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            logicalExpressions: {\n              #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"AND\",\n                ignoreFiltersWithEmptyValues: true,\n                filters: a!defaultValue(ri!filters, {})\n              ),\n              a!defaultValue(ri!logicalExpression, {})\n            }\n          ),\n          pagingInfo: local!pagingInfo,\n          fetchTotalCount: local!fetchTotalCount,\n          relatedRecordData: ri!relatedRecordData\n        )\n      ),\n      refreshOnVarChange: ri!triggerRefresh,\n      refreshAfter: {\"RECORD_ACTION\"}\n    ),\n\n    /*Parse the queryResult*/\n    local!queryResultParse: choose(\n      rule!AS_CO_UT_chooseWherecontainsHelper(\n        value: ri!returnType,\n        inArray: rule!AS_CO_CONS_QE_RETURN_TYPES()\n      ),\n      /*Default, required value based on how AS_CO_UT_chooseWherecontainsHelper operates*/ \"\",\n      /*DATA_SUBSET*/   if(\n        rule!AS_CO_UT_isNotBlank(ri!castToCdtType),\n        /*Note that for a data subset, the parent is a map, but we allow casting the child 'data' field as well*/\n        rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n          cdt: local!queryResult,\n          fieldValuePairs: {\n            field: \"data\",\n            value: cast(\n              rule!AS_CO_UT_returnArrayTypeNumber(type: ri!castToCdtType),\n              local!queryResult.data\n            )\n          }\n        ),\n        local!queryResult\n      ),\n      /*SINGLE_OBJECT*/ local!queryResult.data,\n      /*OBJECT_ARRAY*/  local!queryResult.data,\n      /*AGGREGATION*/   local!queryResult.data,\n      /*TOTAL_COUNT*/   local!queryResult.totalCount,\n    ),\n\n    rule!AS_CO_UT_cast(\n      type: local!castResultToType,\n      value: local!queryResultParse\n    )\n  )\n)\n\n/*\n\nDOCUMENTATION\n\nThis rule is designed to minimize the overhead with querying data and then casting the result\n\n\nRequired Inputs:\n\n1. recordType\n- This is a recordtype! input of the data type to be queried against\n\n2. returnType\n- This depends on the purpose for the query, and should be one of the returnTypes in rule!AS_CO_CONS_QE_RETURN_TYPES\n-- DATA_SUBSET - This will return a DataSubset; pagingInfo is required\n-- SINGLE_OBJECT - This will return a single record whose type is the recordType; pagingInfo must be null\n-- ARRAY_OBJECT - This will return an array of records whose type is an array of the recordType; pagingInfo must be null\n-- AGGREGATION - This will return an array of Dictionaries; pagingInfo must be null\n---- NOTE: If you need Aggregation with paging controls, such as for a grid, use returnType DATA_SUBSET\n-- TOTAL_COUNT - This will return an Integer of the total count; pagingInfo must be null\n\n\nOptional Inputs:\n\n3. executeWhen\n- The query will not execute if this is false, the query will execute if this is true or null\n-- This is meant to operate in a similar manner to the showWhen parameter of components\n- Use this to skip execution of a query without needing to wrap if() statements around the rule\n-- Examples of this would be to skip querying if your filter value is a null ID\n- If the query does not execute, this will return a null value whose type is based on the returnType input\n\n4. triggerRefresh\n- By default, the query will always re-execute whenever any inputs change\n- However, by updating the value of triggerRefresh, you can also trigger a re-execution even if none of the other inputs change (e.g. after a record action)\n\n5. filters\n- Array of filters to apply to the query, built with a!queryFilter()\n- These filters will be applied with an AND operator\n- These filters will apply in addition to the logicalExpression input, combining both with an AND operator\n\n6. logicalExpression\n- A logical expression to apply to the query, built with a!queryLogicalExpression()\n- This logical expression will apply in addition to the filters input, combining both with an AND operator\n\n7. aggregationFields\n- Aggregation to apply to the query, built with a!aggregationField()\n\n8. fields\n- List of recordFields and relatedRecordFields to return.  When querying a record, any relatedRecordFields are not returned\nby default, and must be specifically requested.\n\n9. pagingInfo\n- Paging info to apply to the query, built with a!pagingInfo() or derived from fv!pagingInfo in grids\n- This is required if passing returnType DATA_SUBSET, otherwise it must be null\n- For returnTypes that are not DATA_SUBSET, the batch size will be automatically calculated depending on the returnType\n-- For example, passing SINGLE_OBJECT will automatically apply a batch size of 1, whereas ARRAY_OBJECT and AGGREGATION will automatically apply a batch size of the defined query batch size maximum\n\n10. sort\n- Array of sort to apply to the query, built with a!sortInfo()\n- This is meant to be used with returnType ARRAY_OBJECT and AGGREGATION, since pagingInfo is not required for these, but a specified sort may be used\n- Cannot be used in conjunction with pagingInfo.sort\n\n11. castToCdtType\n- Any cdt type to the cast the result set. \n- This is meant to be used with only returnType OBJECT_ARRAY and SINGLE_OBJECT.\n\n*/"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_272151": {
      "name": "AS_CO_UT_whereContains",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer?list',\n  with(\n    local!array: a!flatten(ri!array),\n  \n    if(\n    \n      /*Have to handle separately for document types due to how it casts to string*/\n      rule!AS_CO_UT_typeCompare(\n        value1: local!array,\n        value2: {todocument(null)}\n      ),\n      wherecontains(\n        todocument(ri!values),\n        local!array\n      ),\n    \n      /*Have to handle separately for group types due to how it casts to string*/\n      rule!AS_CO_UT_typeCompare(\n        value1: local!array,\n        value2: {togroup(null)}\n      ),\n      wherecontains(\n        togroup(ri!values),\n        local!array\n      ),\n    \n      /*Casting to string accounts for any primitive type (integer, boolean, ect.)*/\n      wherecontains(\n        if(\n          rule!AS_CO_UT_isBlank(ri!values),\n          touniformstring(ri!values),\n          touniformstring(a!flatten(ri!values))\n        ),\n        touniformstring(local!array)\n      )\n    )\n  )\n)"
    },
    "_a-0000e4b1-2fbc-8000-9bc6-011c48011c48_941303-gcm": {
      "name": "AS_GCM_QNM_ADT_BL_Template_Questionnaire_auditConfig",
      "type": "Expression Rule",
      "sail_code": "/*AS_GCM_QNM_T_Questionnaire*/\n{\n  idField: \"questionnaireTemplateId\",\n  simpleFields: {\n    \"name\",\n    \"description\",\n    \"customerDomicile\",\n    \"customerTypeCode\",\n    \"isDefault\"\n  },\n  complexFields: {\n    /*AS_GCM_QNM_T_Question*/\n    {\n      fieldName: \"questions\",\n      auditFieldName: \"questionChanges\",\n      idField: \"questionTemplateId\",\n      simpleFields: {\n        \"questionReferenceId\",\n        \"label\",\n        \"instructions\",\n        \"pageNumber\",\n        /* Not capturing the audit for groupNumber as there is no ability to re-order the sections currently */\n        /*\"groupNumber\",*/\n        \"orderNumber\",\n        \"questionCategoryTemplateId\",\n        \"questionVisibility\",\n        \"isExternalUserFacing\"\n      },\n      complexFields: {\n        /*Response Options*/\n        {\n          fieldName: \"responseOptions\",\n          auditFieldName: \"responseOptionsChanges\",\n          idField: \"responseTemplateId\",\n          simpleFields: { \"fieldKey\", \"label\", \"value\" },\n          complexFields: {},\n          recordIdField: \"questionTemplateId\"\n        },\n        /*Default Responses*/\n        {\n          fieldName: \"defaultResponses\",\n          auditFieldName: \"defaultResponsesChanges\",\n          idField: \"responseTemplateId\",\n          simpleFields: { \"fieldKey\", \"label\", \"value\" },\n          complexFields: {},\n          recordIdField: \"questionTemplateId\"\n        },\n        /*Response Requirements*/\n        {\n          fieldName: \"responseRequirements\",\n          auditFieldName: \"responseRequirementsChanges\",\n          idField: \"responseRequirementTemplateId\",\n          simpleFields: {\n            \"fieldKey\",\n            \"requirementTypeCode\",\n            \"requirementValue\"\n          },\n          complexFields: {},\n          recordIdField: \"questionTemplateId\"\n        },\n        /*Displayed Precedent Sets*/\n        {\n          fieldName: \"isDisplayedPrecedentSets\",\n          auditFieldName: \"isDisplayedPrecedentSetsChanges\",\n          idField: \"questionPrecedentSetTemplateId\",\n          simpleFields: { \"fieldKey\", \"operator\" },\n          complexFields: {\n            /*Question Precedent Sets*/\n            {\n              fieldName: \"questionPrecedentSets\",\n              auditFieldName: \"questionPrecedentSetChanges\",\n              idField: \"questionPrecedentSetTemplateId\",\n              simpleFields: { \"fieldKey\", \"operator\" },\n              complexFields: {}\n            },\n            /*Question Precedents*/\n            {\n              fieldName: \"questionPrecedents\",\n              auditFieldName: \"questionPrecedentChanges\",\n              idField: \"questionPrecedentTemplateId\",\n              simpleFields: { \"questionTemplateId_precedent\" },\n              complexFields: {\n                {\n                  fieldName: \"responseRequirement\",\n                  auditFieldName: \"responseRequirementChanges\",\n                  idField: \"responseRequirementTemplateId\",\n                  simpleFields: {\n                    \"fieldKey\",\n                    \"requirementTypeCode\",\n                    \"requirementValue\"\n                  },\n                  complexFields: {}\n                }\n              }\n            }\n          },\n          recordIdField: \"questionTemplateId\"\n        },\n        /*Required Precedent Sets*/\n        {\n          fieldName: \"isRequiredPrecedentSets\",\n          auditFieldName: \"isRequiredPrecedentSetsChanges\",\n          idField: \"questionPrecedentSetTemplateId\",\n          simpleFields: { \"fieldKey\", \"operator\" },\n          complexFields: {\n            /*Question Precedent Sets*/\n            {\n              fieldName: \"questionPrecedentSets\",\n              auditFieldName: \"questionPrecedentSetChanges\",\n              idField: \"questionPrecedentSetTemplateId\",\n              simpleFields: { \"fieldKey\", \"operator\", \"isActive\" },\n              complexFields: {},\n              recordIdField: \"questionTemplateId\"\n            },\n            /*Question Precedents*/\n            {\n              fieldName: \"questionPrecedents\",\n              auditFieldName: \"questionPrecedentChanges\",\n              idField: \"questionPrecedentTemplateId\",\n              simpleFields: { \"questionTemplateId_precedent\" },\n              complexFields: {\n                {\n                  fieldName: \"responseRequirement\",\n                  auditFieldName: \"responseRequirementChanges\",\n                  idField: \"responseRequirementTemplateId\",\n                  simpleFields: {\n                    \"fieldKey\",\n                    \"requirementTypeCode\",\n                    \"requirementValue\"\n                  },\n                  complexFields: {},\n                  recordIdField: \"questionTemplateId\"\n                }\n              },\n              recordIdField: \"questionTemplateId\"\n            }\n          },\n          recordIdField: \"questionTemplateId\"\n        }\n      },\n      recordIdField: \"questionnaireTemplateId\"\n    },\n    /*AS_GCM_QNM_T_QuestionCategory*/\n    {\n      fieldName: \"questionCategories\",\n      auditFieldName: \"questionCategoryChanges\",\n      idField: \"questionCategoryTemplateId\",\n      simpleFields: {\n        \"questionCategoryName\",\n        /* Not capturing the audit for displayOrder as there is no ability to re-order the sections currently */\n        /*\"displayOrder\"*/\n        \n      },\n      complexFields: {},\n      recordIdField: \"questionnaireTemplateId\"\n    }\n  },\n  recordIdField: \"questionnaireTemplateId\"\n}"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73758": {
      "name": "AS_CO_UT_distinct",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!value),\n  union({ri!value}, {ri!value})\n)"
    },
    "_a-0000e8cc-c513-8000-9c0f-011c48011c48_3366908": {
      "name": "AS_GCM_ADT_BL_auditConfig_ruleConditionClauses",
      "type": "Expression Rule",
      "sail_code": "{\n  fieldName: \"conditionClauses\",\n  auditFieldName: \"conditionClausesChanges\",\n  idField: \"clauseMapId\",\n  simpleFields: {\n    \"ruleId\",\n    \"refClauseId\",\n    \"refUsageId\",\n    \"isActive\"\n  },\n  complexFields: {}\n}"
    },
    "_a-0000eef1-ed02-8000-9e5c-011c48011c48_17783431": {
      "name": "AS_GCM_QNM_ADT_BL_auditConfig_RuleConditionGroups",
      "type": "Expression Rule",
      "sail_code": "{\n  fieldName: \"conditionGroups\",\n  idField: \"ruleConditionGroupId\",\n  auditFieldName: \"conditionGroupsChanges\",\n  foreignIdField: \"\",\n  simpleFields: {\n    \"orderNumber\",\n    \"parentConditionGroupId\",\n    \"ruleId\",\n    \"ruleConditionGroupName\",\n    \"refOperatorId\",\n    \"depthLevel\",\n    \"isActive\"\n  },\n  complexFields: {\n    rule!AS_GCM_ADT_BL_auditConfig_ruleConditions(),\n    if(\n      ri!depthLevel = cons!AS_GCM_INT_MAX_RULE_CONDITION_GROUP_NESTING_LEVEL,\n      {},\n      rule!AS_GCM_QNM_ADT_BL_auditConfig_RuleConditionGroups(\n        a!defaultValue(value: ri!depthLevel, default: 1) + 1\n      )\n    )\n  }\n}"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75842": {
      "name": "AS_CO_UT_returnSingleTypeObject",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!typeOf: if(\n    isnull(ri!type),\n    ri!typeOf,\n    cast(\n      ri!type,\n      {}\n    )\n  ),\n\n  index(\n    cast(\n      typeof({local!typeOf}), \n      updatearray({local!typeOf}, 1, {})\n    ), \n    1,\n    {}\n  )\n)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1572534": {
      "name": "AS_GCM_UT_templateStartAuditProcess_Parameters",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!originalTemplate: if(\n    or(\n      rule!AS_CO_UT_isNotBlank(ri!originalTemplateClauses),\n      rule!AS_CO_UT_isNotBlank(ri!originalTemplate)\n    ),\n    rule!AS_GCM_setRecordFields(\n      record: ri!originalTemplate,\n      alwaysOverwrite: {\n        a!map(\n          field: recordType!AS GCM R Template.templateClauses,\n          value: ri!originalTemplateClauses\n        )\n      }\n    ),\n    {}\n  ),\n  local!template: rule!AS_GCM_setRecordFields(\n    record: ri!template,\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!AS GCM R Template.templateClauses,\n        value: ri!templateClauses\n      )\n    }\n  ),\n  rule!AS_ADT_UT_startAuditProcess_Parameters(\n    originalObjects: local!originalTemplate,\n    newObjects: local!template,\n    objectType: 'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Template_Helper',\n    auditDse: cons!AS_GCM_ENT_R_A_R_TEMPLATE,\n    auditConfig: rule!AS_GCM_ADT_BL_auditConfig_Template(),\n    username: ri!initiator,\n    externalAction: ri!externalAction\n  ).auditParams\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_981349": {
      "name": "AS_GAM_ADT_UT_buildFieldLevelAuditEntityData",
      "type": "Expression Rule",
      "sail_code": "rule!AS_ADT_UT_calculateAudit(\n    originalObjects: ri!auditParams.originalObjects,\n    newObjects: ri!auditParams.newObjects,\n    objectTypeNumber: ri!auditParams.objectTypeNumber,\n    namespace: ri!auditParams.namespace,\n    username: ri!auditParams.username,\n    auditConfig: ri!auditParams.auditConfig,\n    externalAction:ri!auditParams.externalAction\n  )"
    },
    "_a-0000eef5-cf69-8000-9e5e-011c48011c48_17803488": {
      "name": "AS_GCM_returnRequiredFieldMapsForRuleConditionAudit",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  \"refClauseDataId\": recordType!AS GCM QNM T Rule Condition.refClauseDataId,\n  \"questionId\": recordType!AS GCM QNM T Rule Condition.questionId,\n  \"refOperatorId\": recordType!AS GCM QNM T Rule Condition.refOperatorId,\n  \"responseId\": recordType!AS GCM QNM T Rule Condition.responseId,\n  \"value\": recordType!AS GCM QNM T Rule Condition.value,\n  \"compValue\": recordType!AS GCM QNM T Rule Condition.compValue\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_260165": {
      "name": "AS_CO_UT_updateCdtFields",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    and(\n      rule!AS_CO_UT_isBlank(ri!cdt),\n      rule!AS_CO_UT_checkIfArrayType(\n        typeOf: ri!cdt\n      )\n    ),\n    ri!cdt,\n    reduce(\n      rule!AS_CO_UT_zINTERNAL_updateCdtFieldsByPath_handler(\n        cdt: _,\n        indices: ri!indices,\n        field: _,\n        newValue: _\n      ),\n      ri!cdt,\n      merge(\n        a!flatten(ri!fields),\n        a!flatten(ri!newValues)\n      )\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75800": {
      "name": "AS_CO_UT_filterCdtByField",
      "type": "Expression Rule",
      "sail_code": "/*Take the input of a cdt, field, and value and returns the matching cdt data\n\nex. cdt of users, filter by field isActive and value of true to find your active users\n*/\ncast(\n  typeof(ri!cdt),\n  index(\n    a!flatten(ri!cdt),\n    rule!AS_CO_UT_returnCdtIndicesByField(\n      cdt: ri!cdt,\n      field: ri!field,\n      value: ri!value\n    ),\n    {}\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75636": {
      "name": "AS_CO_UT_not",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  not(rule!AS_CO_UT_booleanDefaultFalse(ri!input))\n)\n\n/*True returns False*/\n/*False returns True*/\n/*Null returns True*/"
    },
    "_a-0000e5bc-4a9a-8000-9bbc-011c48011c48_936427": {
      "name": "AS_GAM_ADT_UT_constructActionOnlyAuditData",
      "type": "Expression Rule",
      "sail_code": "/* This rule is used to construct the action only audit data (Simple / Complex field changes will be null)*/\nrule!AS_CO_UT_dynamicDictionary(\n  fieldValuePairs: {\n    {\n      field: ri!auditParams.auditConfig.idField,\n      value: index(\n        ri!auditParams.newObjects,\n        ri!auditParams.auditConfig.idField,\n        null\n      )\n    },\n    { field: \"username\", value: ri!initiator },\n    { field: \"timestamp\", value: now() },\n    {\n      field: \"auditActionCode\",\n      value: ri!auditParams.externalAction\n    },\n    if(\n      rule!AS_CO_UT_isNotBlank(\n        ri!auditParams.auditConfig.foreignIdField\n      ),\n      {\n        field: ri!auditParams.auditConfig.foreignIdField,\n        value: index(\n          ri!auditParams.newObjects,\n          ri!auditParams.auditConfig.foreignIdField,\n          null\n        )\n      },\n      {}\n    )\n  }\n)"
    },
    "_a-0000eef5-cf69-8000-9e5e-011c48011c48_17803467": {
      "name": "AS_GCM_updateSimpleFieldChangesForConditions",
      "type": "Expression Rule",
      "sail_code": "a!flatten(\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!conditionsChanges,\n    expression: if(\n      rule!AS_CO_UT_isNotBlank(fv!item.simpleFieldChanges),\n      a!localVariables(\n        local!currentConditionChanges: fv!item,\n        local!simpleFieldChanges: fv!item.simpleFieldChanges,\n        local!currentRuleCondition: index(\n          ri!ruleConditions,\n          wherecontains(\n            tointeger(local!currentConditionChanges.mapId),\n            tointeger(\n              ri!ruleConditions[recordType!AS GCM QNM T Rule Condition.mapId]\n            )\n          ),\n          {}\n        ),\n        #\"urn:appian:function:v1:a:update\"(\n          local!currentConditionChanges,\n          \"simpleFieldChanges\",\n          a!localVariables(\n            local!updatedSimpleFieldChanges: rule!AS_CO_UT_rejectNullValuesFromArray(\n              a!flatten(\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  items: a!keys(ri!requiredFieldNamesMap),\n                  expression: if(\n                    contains(\n                      touniformstring(\n                        index(\n                          local!simpleFieldChanges,\n                          \"fieldName\",\n                          \"\"\n                        )\n                      ),\n                      tostring(ri!requiredFieldNamesMap[fv!item])\n                    ),\n                    index(\n                      local!simpleFieldChanges,\n                      wherecontains(\n                        tostring(ri!requiredFieldNamesMap[fv!item]),\n                        touniformstring(\n                          index(\n                            local!simpleFieldChanges,\n                            \"fieldName\",\n                            {}\n                          )\n                        )\n                      )\n                    ),\n                    if(\n                      rule!AS_CO_UT_isBlank(\n                        local!currentRuleCondition[ri!requiredFieldNamesMap[fv!item]]\n                      ),\n                      {},\n                      'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_A_T_Rule_Condition_Field'(\n                        mapAuditId: local!currentConditionChanges.mapAuditId,\n                        fieldName: fv!item,\n                        oldValue: local!currentRuleCondition[ri!requiredFieldNamesMap[fv!item]],\n                        newValue: local!currentRuleCondition[ri!requiredFieldNamesMap[fv!item]],\n                        \n                      )\n                    )\n                  )\n                )\n              )\n            ),\n            union(\n              local!updatedSimpleFieldChanges,\n              local!simpleFieldChanges\n            )\n          )\n        )\n      ),\n      {}\n    )\n  )\n)"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9761091": {
      "name": "AS_GCM_filterRecords",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!fieldValuePairs: a!defaultValue(\n    ri!fieldValuePairs,\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: a!flatten(ri!field),\n      expression: a!map(\n        field: fv!item,\n        value: if(\n          fv!itemCount = 1,\n          ri!value,\n          index(a!flatten(ri!value), fv!index, null)\n        )\n      )\n    )\n  ),\n  local!matchIndices: if(\n    a!isNullOrEmpty(a!flatten(ri!records)),\n    tointeger({}),\n    reduce(\n      rule!AS_GCM_filterRecords_Reducer(\n        previousIndices: _,\n        records: a!flatten(ri!records),\n        fieldValuePair: _\n      ),\n      enumerate(count(a!flatten(ri!records))) + 1,\n      local!fieldValuePairs\n    )\n  ),\n  local!rejectIndices: difference(\n    if(\n      a!isNullOrEmpty(ri!records),\n      tointeger({}),\n      enumerate(count(a!flatten(ri!records))) + 1\n    ),\n    local!matchIndices\n  ),\n  local!matches: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!matchIndices, {})\n  ),\n  local!rejects: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!rejectIndices, {})\n  ),\n  local!output: a!match(\n    value: a!defaultValue(ri!filterType, \"FILTER\"),\n    equals: \"FILTER\",\n    then: local!matches,\n    equals: \"REJECT\",\n    then: local!rejects,\n    equals: \"FIRST_MATCH\",\n    then: index(local!matches, 1, null),\n    equals: \"FIRST_REJECT\",\n    then: index(local!rejects, 1, null),\n    equals: \"MATCH_COUNT\",\n    then: count(local!matchIndices),\n    equals: \"REJECT_COUNT\",\n    then: count(local!rejectIndices),\n    equals: \"MATCH_INDICES\",\n    then: local!matchIndices,\n    equals: \"REJECT_INDICES\",\n    then: local!rejectIndices,\n    equals: \"FULL_RESULT\",\n    then: a!map(\n      matches: local!matches,\n      rejects: local!rejects,\n      firstMatch: index(local!matches, 1, null),\n      firstReject: index(local!rejects, 1, null),\n      matchCount: count(local!matchIndices),\n      rejectCount: count(local!rejectIndices),\n      matchIndices: local!matchIndices,\n      rejectIndices: local!rejectIndices\n    ),\n    default: fn!error(\n      \"Invalid filterType, must be one of: FILTER, REJECT, FIRST_MATCH, FIRST_REJECT, MATCH_COUNT, REJECT_COUNT, MATCH_INDICES, REJECT_INDICES, FULL_RESULT\"\n    )\n  ),\n  local!output\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_983535": {
      "name": "AS_GAM_ADT_UT_constructFieldChangesDictionaryForManipulatedAudit",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Indexing 1 to convert list of dictionary to list*/\n  local!complexFieldConfig: index(\n    rule!AS_CO_UT_filterCdtByField(\n      cdt: ri!auditParams.auditConfig.complexFields,\n      field: \"auditFieldName\",\n      value: tostring(ri!auditParams.complexFieldName)\n    ),\n    1,\n    null\n  ),\n  local!foreignIdField: tostring(\n    a!flatten(\n      index(\n        local!complexFieldConfig,\n        \"foreignIdField\",\n        null\n      )\n    )\n  ),\n  local!auditConfig: rule!AS_CO_UT_dynamicDictionary(\n    fieldValuePairs: {\n      /*Field value pairs for parent object audit*/\n      { field: \"username\", value: ri!initiator },\n      { field: \"timestamp\", value: now() },\n      {\n        field: \"auditActionCode\",\n        value: ri!auditParams.externalAction\n      },\n      /*Indexing the \"idField\" of the parent object using \"foreignIdField\"*/\n      if(\n        rule!AS_CO_UT_isBlank(local!foreignIdField),\n        {},\n        {\n          field: ri!auditParams.auditConfig.idField,\n          value: tointeger(\n            rule!AS_CO_UT_replaceNull(\n              nullableValue: index(\n                rule!AS_CO_UT_indexPath(\n                  cdt: ri!auditParams.newObjects,\n                  field: ri!auditParams.auditConfig.idField\n                ),\n                1,\n                null\n              ),\n              replacementValue: index(\n                rule!AS_CO_UT_indexPath(\n                  cdt: ri!auditParams.newObjects,\n                  field: local!foreignIdField\n                ),\n                1,\n                null\n              )\n            )\n          )\n        }\n      ),\n      {\n        field: tostring(ri!auditParams.complexFieldName),\n        value: if(\n          rule!AS_CO_UT_isBlank(ri!auditParams.manipulationAudit),\n          /*If the audit calculation for the nested CDT involves generic field changes (i.e the manipulation audit is null), we can directly use the field change rule to calculate the audit*/\n          rule!AS_ADT_UT_calculateAudit(\n            originalObjects: rule!AS_CO_UT_castToDictionaryList(value: ri!auditParams.originalObjects),\n            newObjects: rule!AS_CO_UT_castToDictionaryList(value: ri!auditParams.newObjects),\n            objectTypeNumber: ri!auditParams.objectTypeNumber,\n            auditConfig: rule!AS_CO_UT_castToDictionary(value: local!complexFieldConfig),\n            namespace: ri!auditParams.namespace,\n            username: ri!initiator,\n            externalAction: null\n          ),\n          /*If the audit data is nested and is manipulated and passed from outsite, we can directly construct the audit entry for each ri!auditParams.manipulationAudit*/\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!auditParams.manipulationAudit,\n            expression: rule!AS_CO_UT_dynamicDictionary(\n              fieldValuePairs: {\n                if(\n                  rule!AS_CO_UT_isNotBlank(local!complexFieldConfig.idField),\n                  {\n                    field: local!complexFieldConfig.idField,\n                    value: index(\n                      ri!auditParams.newObjects,\n                      tostring(local!complexFieldConfig.idField),\n                      null\n                    )\n                  },\n                  {}\n                ),\n                { field: \"username\", value: ri!initiator },\n                { field: \"timestamp\", value: now() },\n                {\n                  field: \"auditActionCode\",\n                  value: /*If the action code varies for each manipulation audit, actionCode within auditParams.manipulationAudit will be used. Else, externalAction will be used*/\n                  rule!AS_CO_UT_replaceNull(\n                    nullableValue: fv!item.actionCode,\n                    replacementValue: ri!auditParams.externalAction\n                  )\n                },\n                if(\n                  rule!AS_CO_UT_isNotBlank(\n                    local!complexFieldConfig.foreignIdField\n                  ),\n                  {\n                    field: local!complexFieldConfig.foreignIdField,\n                    value: index(\n                      rule!AS_CO_UT_indexPath(\n                        cdt: ri!auditParams.newObjects,\n                        field: local!complexFieldConfig.foreignIdField\n                      ),\n                      1,\n                      null\n                    )\n                  },\n                  {}\n                ),\n                /*The field changes will be passed as label value pairs in \"fieldChanges\" column of auditParams.manipulationAudit\"*/\n                {\n                  field: \"simpleFieldChanges\",\n                  value: rule!AS_CO_UT_castToDictionaryList(value: fv!item.fieldChanges)\n                }\n              }\n            )\n          )\n        )\n      }\n    }\n  ),\n  if(\n    /*To make the action code \"UNCHANGED\" if the object is unmodified(excluding the metadata)*/\n    rule!AS_CO_UT_not(\n      contains(\n        a!flatten(\n          {\n            rule!AS_CO_UT_isBlank(\n              index(\n                rule!AS_CO_UT_indexPath(\n                  cdt: local!auditConfig,\n                  field: tostring(ri!auditParams.complexFieldName)\n                ),\n                \"simpleFieldChanges\",\n                null\n              )\n            ),\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: {\n                index(\n                  index(\n                    local!complexFieldConfig,\n                    \"complexFields\",\n                    null\n                  ),\n                  \"auditFieldName\",\n                  null\n                )\n              },\n              expression: rule!AS_CO_UT_isBlank(\n                rule!AS_CO_UT_rejectCdtByField(\n                  cdt: index(\n                    rule!AS_CO_UT_indexPath(\n                      cdt: local!auditConfig,\n                      field: tostring(ri!auditParams.complexFieldName)\n                    ),\n                    fv!item,\n                    null\n                  ),\n                  field: \"auditActionCode\",\n                  value: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n                )\n              )\n            )\n          }\n        ),\n        false\n      )\n    ),\n    rule!AS_CO_UT_updateCdtFields(\n      cdt: local!auditConfig,\n      fields: \"auditActionCode\",\n      newValues: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n    ),\n    local!auditConfig\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_157503": {
      "name": "AS_CO_UT_returnTypeNumber",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer',\n  if(\n    isnull(ri!type),\n    typeof(ri!typeOf),\n    typeof(cast(ri!type, null))\n  )\n)"
    },
    "f28850a6-d0cc-4841-a587-a36a568d70a3": {
      "name": "AS_GCM_UT_nullifyEmptyNestedCdtFields",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Returning only nested fields to null nested empty cdts*/\n  local!nestedFieldNames: difference(\n    touniformstring(\n      rule!AS_CO_UT_returnCdtFields(\n        typeOf: ri!cdt,\n        onlyPrimitiveFields: false()\n      )\n    ),\n    touniformstring(\n      rule!AS_CO_UT_returnCdtFields(\n        typeOf: ri!cdt,\n        onlyPrimitiveFields: true()\n      )\n    )\n  ),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!cdt,\n    expression: rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n      cdt: fv!item,\n      fieldValuePairs: a!localVariables(\n        local!cdt: fv!item,\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: local!nestedFieldNames,\n          expression: {\n            field: fv!item,\n            value: if(\n              rule!AS_CO_UT_isBlank(\n                rule!AS_CO_UT_indexPath(\n                  cdt: local!cdt,\n                  field: fv!item & \".\" & rule!AS_GCM_UT_getPrimaryKeyFieldByType(cdt: index(local!cdt, fv!item)),\n                  indexDefault: null()\n                )\n              ),\n              null,\n              index(local!cdt, fv!item, null())\n            )\n          }\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e8cc-c513-8000-9c0f-011c48011c48_3366792": {
      "name": "AS_GCM_ADT_BL_auditConfig_ruleConditions",
      "type": "Expression Rule",
      "sail_code": "{\n  fieldName: \"conditions\",\n  auditFieldName: \"conditionsChanges\",\n  idField: \"mapId\",\n  simpleFields: {\n    \"ruleId\",\n    \"ruleConditionGroupId\",\n    \"questionId\",\n    \"refOperatorId\",\n    \"responseId\",\n    \"refClauseDataId\",\n    \"value\",\n    \"compValue\",\n    \"isActive\"\n  },\n  complexFields: {}\n}"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_237233-adt": {
      "name": "AS_ADT_UT_buildSimpleFieldChanges",
      "type": "Expression Rule",
      "sail_code": "a!flatten(\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!simpleFields,\n    expression: rule!AS_ADT_UT_buildSimpleFieldChangesDictionary(\n      simpleFieldName: fv!item,\n      originalObject: ri!originalObject,\n      newObject: ri!newObject\n    )\n  )\n)"
    },
    "_a-0000e69a-ff03-8000-9bd0-011c48011c48_1576513": {
      "name": "AS_GCM_QNM_ADT_BL_auditConfig_Rule",
      "type": "Expression Rule",
      "sail_code": "{\n  idField: \"ruleId\",\n  foreignIdField: \"\",\n  simpleFields: { \"ruleName\", \"refOperatorId\", \"isDraft\",\"isActive\" },\n  complexFields: {\n    rule!AS_GCM_ADT_BL_auditConfig_ruleConditions(),\n    rule!AS_GCM_ADT_BL_auditConfig_ruleConditionClauses(),\n    rule!AS_GCM_QNM_ADT_BL_auditConfig_RuleConditionGroups(depthLevel: 1)\n  }\n}"
    },
    "_a-0000eef5-cf69-8000-9e5e-011c48011c48_17803520": {
      "name": "AS_GCM_updateRefRuleAudit",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!requiredFieldNamesMap: rule!AS_GCM_returnRequiredFieldMapsForRuleConditionAudit(),\n  local!auditWithUpdatedConditionChanges: if(\n    rule!AS_CO_UT_isBlank(ri!ruleAudit.conditionsChanges),\n    ri!ruleAudit,\n    #\"urn:appian:function:v1:a:update\"(\n      ri!ruleAudit,\n      \"conditionsChanges\",\n      rule!AS_GCM_updateSimpleFieldChangesForConditions(\n        conditionsChanges: ri!ruleAudit.conditionsChanges,\n        ruleConditions: ri!rule[recordType!AS GCM QNM T Rule.conditions],\n        requiredFieldNamesMap: local!requiredFieldNamesMap\n      )\n    )\n  ),\n  if(\n    rule!AS_CO_UT_isBlank(\n      local!auditWithUpdatedConditionChanges.conditionGroupsChanges\n    ),\n    local!auditWithUpdatedConditionChanges,\n    #\"urn:appian:function:v1:a:update\"(\n      local!auditWithUpdatedConditionChanges,\n      \"conditionGroupsChanges\",\n      rule!AS_GCM_MapForeignKeysInRuleConditionGroupsAudit_Recursion(\n        ruleConditionGroupsAudit: local!auditWithUpdatedConditionChanges.conditionGroupsChanges,\n        ruleAuditId: ri!ruleAudit.ruleAuditId,\n        ruleConditionGroups: ri!rule[recordType!AS GCM QNM T Rule.conditionGroups],\n        requiredFieldNamesMap: local!requiredFieldNamesMap\n      )\n    )\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_269170": {
      "name": "AS_CO_UT_updateCdtFieldsByFieldValuePairs",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    and(\n      rule!AS_CO_UT_isBlank(ri!cdt),\n      rule!AS_CO_UT_checkIfArrayType(\n        typeOf: ri!cdt\n      )\n    ),\n    ri!cdt,\n    reduce(\n      rule!AS_CO_UT_zINTERNAL_updateCdtFieldsByPathComplex_handler(\n        cdt: _,\n        fieldValuePair: _\n      ),\n      ri!cdt,\n      a!flatten(ri!fieldValuePairs)\n    )\n  )\n)"
    },
    "_a-0000e4b1-2fbc-8000-9bc6-011c48011c48_852676-gcm": {
      "name": "AS_GCM_QNM_QR_getQuestion_Template",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    ri!getAllRelatedRecord,\n    a!isNullOrEmpty(ri!additionalFilters),\n    a!isNullOrEmpty(ri!logicalExpression),\n    rule!AS_GAM_UT_ArrayLength(ri!questionTemplateId) = 1\n  ),\n  rule!AS_GCM_UT_queryRecordByIdentifier(\n    recordType: recordType!AS GCM QNM T Question,\n    identifier: ri!questionTemplateId[1],\n    fields: rule!AS_CO_UT_rejectNullValuesFromArray(ri!fields),\n    relatedRecordData: rule!AS_CO_UT_rejectNullValuesFromArray(\n      {\n        #\"SYSTEM_SYSRULES_relatedRecordData\"(\n          relationship: recordType!AS GCM QNM T Question.responseOptions,\n          limit: 100\n        ),\n        #\"SYSTEM_SYSRULES_relatedRecordData\"(\n          relationship: recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n          limit: 100,\n          filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!AS GCM QNM T Question Precedent Set.isActive,\n            operator: \"in\",\n            value: rule!AS_CO_UT_replaceNull(\n              nullableValue: ri!isActive,\n              replacementValue: { true }\n            )\n          )\n        ),\n        #\"SYSTEM_SYSRULES_relatedRecordData\"(\n          relationship: recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n          limit: 100\n        ),\n        #\"SYSTEM_SYSRULES_relatedRecordData\"(\n          relationship: #\"urn:appian:record-relationship:v1:66fc3179-f0d8-4d6d-bbce-92b85f7c665a/35500f1d-7bad-40e6-8728-6bd75b0d3f03/8dca9ba9-cfbd-46c6-92b8-6a7d21aad4c4/b37fc648-4c9c-4add-b535-2cbb861e4e19\",\n          limit: 100\n        ),\n        ri!relatedRecordData\n      }\n    )\n  ),\n  rule!AS_CO_UT_queryRecord(\n    recordType: recordType!AS GCM QNM T Question,\n    returnType: a!defaultValue(\n      value: ri!returnType,\n      default: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n    ),\n    fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n      {\n        ri!fields,\n        if(\n          ri!includeRelatedRecords,\n          {\n            recordType!AS GCM QNM T Question.categories,\n            recordType!AS GCM QNM T Question.defaultResponses,\n            recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n            recordType!AS GCM QNM T Question.refQuestion,\n            recordType!AS GCM QNM T Question.isRequiredPrecedentSets,\n            recordType!AS GCM QNM T Question.responseOptions,\n            recordType!AS GCM QNM T Question.responseRequirements\n          },\n          {}\n        )\n      }\n    ),\n    filters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Question.questionTemplateId,\n        operator: \"in\",\n        value: ri!questionTemplateId\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Question.questionCategoryTemplateId,\n        operator: \"in\",\n        value: ri!questionCategoryTemplateId\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Question.questionnaireTemplateId,\n        operator: \"=\",\n        value: ri!questionnaireTemplateId\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Question.isActive,\n        operator: \"in\",\n        value: {\n          rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!isActive,\n            replacementValue: true\n          )\n        }\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Question.questionReferenceId,\n        operator: \"=\",\n        value: ri!questionReferenceId\n      ),\n      ri!additionalFilters\n    },\n    executeWhen: ri!executeWhen,\n    logicalExpression: ri!logicalExpression,\n    aggregationFields: ri!aggregationFields,\n    triggerRefresh: ri!triggerRefresh,\n    /*excludeNestedCdts: ri!excludeNestedCdts,*/\n    pagingInfo: ri!pagingInfo,\n    sort: if(\n      rule!AS_CO_UT_isBlank(ri!sort),\n      {\n        #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!AS GCM QNM T Question.groupNumber,\n          ascending: true\n        ),\n        #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!AS GCM QNM T Question.orderNumber,\n          ascending: true\n        )\n      },\n      ri!sort\n    ),\n    relatedRecordData: ri!relatedRecordData\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_165782-adt": {
      "name": "AS_ADT_UT_calculateAudit_MultipleObjects",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Get the distinct IDs*/\n  local!distinctIds: rule!AS_CO_UT_distinct(\n    tointeger(\n      {\n        index(\n          ri!originalObjects,\n          ri!auditConfig.idField,\n          {}\n        ),\n        index(\n          ri!newObjects,\n          ri!auditConfig.idField,\n          {}\n        )\n      }\n    )\n  ),\n  if(\n    rule!AS_CO_UT_isBlank(local!distinctIds),\n    {},\n    /*This flatten converts to a list of dictionary, which prevents odd behavior in the parent*/\n    a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!distinctIds,\n        expression: a!flatten(\n          rule!AS_ADT_UT_calculateAudit_SingleObject(\n            originalObject: index(\n              rule!AS_CO_UT_filterCdtByField(\n                cdt: ri!originalObjects,\n                field: ri!auditConfig.idField,\n                value: fv!item\n              ),\n              1,\n              {}\n            ),\n            newObject: index(\n              rule!AS_CO_UT_filterCdtByField(\n                cdt: ri!newObjects,\n                field: ri!auditConfig.idField,\n                value: fv!item\n              ),\n              1,\n              {}\n            ),\n            auditConfig: ri!auditConfig,\n            username: ri!username,\n            externalAction: ri!externalAction,\n            auditType: ri!auditType\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e6d1-2aad-8000-9bdd-011c48011c48_1776190": {
      "name": "AS_GCM_QE_getRefRuleAudits",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryEntity(\n  entity: cons!AS_GCM_QNM_ENT_A_T_RULE,\n  entityType: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_A_T_Rule',\n  returnType: ri!returnType,\n  executeWhen: and(\n    ri!executeWhen,\n    or(\n      any(\n        rule!AS_CO_UT_isNotBlank(_),\n        {\n          ri!additionalFilters,\n          ri!logicalExpression,\n          ri!aggregation\n        }\n      ),\n      rule!AS_CO_UT_isNotBlank(ri!ruleId)\n    )\n  ),\n  /* To ensure proper null checks, we'll force all queryFilter values to not be null */\n  logicalExpression: ri!logicalExpression,\n  pagingInfo: ri!pagingInfo,\n  triggerRefresh: ri!triggerRefresh,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"ruleId\",\n      operator: \"in\",\n      value: ri!ruleId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"auditActionCode\",\n      operator: \"<>\",\n      value: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED,\n      applyWhen: not(\n        rule!AS_CO_UT_booleanDefaultFalse(ri!includeUnchangedAudit)\n      )\n    ),\n    ri!additionalFilters\n  },\n  aggregation: ri!aggregation,\n  sort: ri!sort\n)"
    },
    "_a-0000e415-3035-8000-9bb2-011c48011c48_291236": {
      "name": "AS_CO_UT_zINTERNAL_returnCdtFields_handler",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text?list',\n  with(\n    local!blankCdt: rule!AS_CO_UT_returnSingleTypeObject(\n      type: ri!type,\n      typeOf: ri!typeOf\n    ),\n    split(\n      extract(\n        substitute(\n          tostring(\n            local!blankCdt\n          ),\n          \"[Document:]\",\n          \"\"\n        ),\n        \"[\",\n        \"=]\"\n      ),\n      \"=, \"\n    )\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_162769": {
      "name": "AS_CO_UT_typeCompare",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  typeof(ri!value1) = typeof(ri!value2)\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_161361-adt": {
      "name": "AS_ADT_UT_calculateAudit",
      "type": "Expression Rule",
      "sail_code": "rule!AS_ADT_UT_calculateAudit_MultipleObjects(\n  originalObjects: ri!originalObjects,\n  newObjects: ri!newObjects,\n  auditConfig: ri!auditConfig,\n  username: ri!username,\n  externalAction: ri!externalAction,\n  auditType: ri!auditType\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73624": {
      "name": "AS_CO_UT_compare",
      "type": "Expression Rule",
      "sail_code": "/*Do a \"fuzzy\" comparison where all we care about is the data*/\n/*This will match a list of variant/dictionary/cdt if their fields have the same values*/\ncast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  tostring(ri!value1) = tostring(ri!value2)\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_161958-adt": {
      "name": "AS_ADT_UT_determineAuditActionCode",
      "type": "Expression Rule",
      "sail_code": "choose(\n  where(\n    {\n      rule!AS_CO_UT_isNotBlank(ri!externalAction),\n      rule!AS_CO_UT_isBlank(index(ri!originalObject, ri!auditConfig.idField, null)),\n      rule!AS_CO_UT_isBlank(index(ri!newObject, ri!auditConfig.idField, null)),\n      toboolean(index(ri!originalObject, \"isActive\", 1)) = toboolean(index(ri!newObject, \"isActive\", 1)),\n      toboolean(index(ri!originalObject, \"isActive\", false)),\n      toboolean(index(ri!newObject, \"isActive\", true))\n    }\n  )[1],\n  ri!externalAction,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_ADD,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DELETE,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DEACTIVATE,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_REACTIVATE\n)"
    },
    "_a-0000e3ff-a5bc-8000-9ba8-011c48011c48_39610": {
      "name": "AS_CO_UT_returnArrayTypeNumber",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer',\n  typeof(\n    a!flatten(\n      rule!AS_CO_UT_cast(\n        type: ri!type,\n        typeOf: ri!typeOf,\n        value: null\n      )\n    )\n  )\n)"
    },
    "_a-0000eefb-2869-8000-9e60-011c48011c48_17831581": {
      "name": "AS_GCM_CEDM_constructUpdatedRuleConditionAudits",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!ruleIds: rule!AS_CO_UT_distinct(\n    index(ri!capturedRuleAudits, \"ruleId\", null)\n  ),\n  local!ruleData: rule!AS_GCM_QE_getRefRuleAudits(\n    returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n    ruleId: local!ruleIds,\n    executeWhen: a!isNotNullOrEmpty(local!ruleIds),\n    includeUnchangedAudit: true,\n    additionalFilters: #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"ruleAuditId\",\n      operator: \"in\",\n      value: {\n        index(\n          ri!capturedRuleAudits,\n          \"ruleAuditId\",\n          null\n        )\n      }\n    )\n  ),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!ruleIds,\n    expression: a!localVariables(\n      local!ruleAudit: rule!AS_GCM_filterRecords(\n        records: local!ruleData,\n        filterType: \"FILTER\",\n        fieldValuePairs: { a!map(field: \"ruleId\", value: fv!item) }\n      ),\n      local!rule: rule!AS_GCM_QNM_QR_getRule(\n        ruleIds: fv!item,\n        executeWhen: true,\n        includeRelatedRecords: true,\n        relatedRecordData: #\"SYSTEM_SYSRULES_relatedRecordData\"(\n          relationship: recordType!AS GCM QNM T Rule.conditionGroups,\n          limit: 100,\n          filters: {\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM QNM T Rule Condition Group.isActive,\n              operator: \"=\",\n              value: true\n            )\n          }\n        )\n      ),\n      rule!AS_GCM_updateRefRuleAudit(\n        ruleAudit: local!ruleAudit,\n        rule: local!rule\n      )\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75660": {
      "name": "AS_CO_UT_returnCdtFields",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text?list',\n  with(\n    local!cdtFields: rule!AS_CO_UT_zINTERNAL_returnCdtFields_handler(\n      type: ri!type,\n      typeOf: ri!typeOf\n    ),\n    \n    if(\n      ri!onlyPrimitiveFields,\n      filter(\n        rule!AS_CO_UT_zINTERNAL_returnCdtFields_primitiveTypeCheckHandler(\n          singleType: rule!AS_CO_UT_returnSingleTypeObject(\n            type: ri!type,\n            typeOf: ri!typeOf\n          ),\n          field: _\n        ),\n        local!cdtFields\n      ),\n      ri!onlyComplexFields,\n      reject(\n        rule!AS_CO_UT_zINTERNAL_returnCdtFields_primitiveTypeCheckHandler(\n          singleType: rule!AS_CO_UT_returnSingleTypeObject(\n            type: ri!type,\n            typeOf: ri!typeOf\n          ),\n          field: _\n        ),\n        local!cdtFields\n      ),\n      local!cdtFields\n    )\n  )\n)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1572522": {
      "name": "AS_GCM_ADT_BL_auditConfig_Template",
      "type": "Expression Rule",
      "sail_code": "{\n  fieldName: \"\",\n  auditFieldName: \"\",\n  idField: \"templateId\",\n  simpleFields: {\n    \"templateName\",\n    \"templateDescription\",\n    \"isActive\"\n  },\n  complexFields: {\n    {\n      fieldName: \"templateClauses\",\n      auditFieldName: \"templateClausesChanges\",\n      idField: \"relationId\",\n      simpleFields: { \"refClause.clauseId\", \"refUsage.refDataId\", \"isActive\" },\n      complexFields: {}\n    }\n  }\n}"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_1021202": {
      "name": "AS_GAM_UT_ArrayLength",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!array),\n  0,\n  length(ri!array)\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75782": {
      "name": "AS_CO_UT_isNotBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  not(rule!AS_CO_UT_isBlank(ri!input))\n)"
    },
    "_a-0000e615-fd0f-8000-9bc1-011c48011c48_1174749": {
      "name": "AS_GCM_ADT_BL_auditConfig_RefClause",
      "type": "Expression Rule",
      "sail_code": "{\n  fieldName: \"\",\n  auditFieldName: \"\",\n  idField: \"clauseId\",\n  simpleFields: {\n    \"clauseNumber\",\n    \"clauseTitle\",\n    \"alternateValue\",\n    \"effectiveDate\",\n    \"ucfSection.sectionId\",\n    \"refSource.refDataId\",\n    \"refType.refDataId\",\n    \"refFormat.refDataId\",\n    \"fillIn\",\n    \"editable\",\n    \"prescriptionText\",\n    \"clauseText\",\n    \"prescriptionNumber\",\n    \"isActive\",\n    \"fpSup.refDataId\",\n    \"crSup.refDataId\",\n    \"fpRd.refDataId\",\n    \"crRd.refDataId\",\n    \"fpSvc.refDataId\",\n    \"crSvc.refDataId\",\n    \"fpCon.refDataId\",\n    \"crCon.refDataId\",\n    \"tmLh.refDataId\",\n    \"lmv.refDataId\",\n    \"comSvc.refDataId\",\n    \"ddr.refDataId\",\n    \"ae.refDataId\",\n    \"fac.refDataId\",\n    \"indDel.refDataId\",\n    \"trn.refDataId\",\n    \"sap.refDataId\",\n    \"utlSvc.refDataId\",\n    \"cpCs.refDataId\"\n  },\n  complexFields: {}\n}"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_958752": {
      "name": "AS_GAM_ADT_UT_buildAuditEntityData",
      "type": "Expression Rule",
      "sail_code": "if(\n  /*Action only audit*/\n  ri!auditParams.auditType = cons!AS_GAM_ADT_TXT_AUDIT_TYPE_ACTION_ONLY,\n  rule!AS_GAM_ADT_UT_constructActionOnlyAuditData(\n    initiator: ri!initiator,\n    auditParams: ri!auditParams\n  ),\n  /*Manipulation Audit*/\n  if(\n    ri!auditParams.auditType = cons!AS_GAM_ADT_TXT_AUDIT_TYPE_MANIPULATION,\n    rule!AS_GAM_ADT_UT_constructManipulatedAuditData(\n      initiator: ri!initiator,\n      auditParams: ri!auditParams\n    ),\n    /*Generic field level audit*/\n    rule!AS_GAM_ADT_UT_buildFieldLevelAuditEntityData(auditParams: ri!auditParams)\n  )\n)"
    },
    "_a-0000e3ff-a5bc-8000-9ba8-011c48011c48_39070": {
      "name": "AS_CO_UT_booleanDefaultFalse",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  if(\n    isnull(ri!boolean),\n    false,\n    ri!boolean\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_269546": {
      "name": "AS_CO_UT_returnCdtIndicesByField",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Integer?list',\n  rule!AS_CO_UT_whereContains(\n    values: ri!value,\n    array: rule!AS_CO_UT_indexPath(\n      cdt: a!flatten(ri!cdt),\n      field: ri!field,\n      indexDefault: null\n    )\n  )\n)"
    },
    "_a-0000e5bc-4a9a-8000-9bbc-011c48011c48_936866": {
      "name": "AS_GAM_ADT_UT_constructManipulatedAuditData",
      "type": "Expression Rule",
      "sail_code": "/* This rule is used to construct the manipulated audit data*/\n/*The manipulated audit data can be multiple. We are constructing the audit data for each manipulationAudit in auditParams*/\nif(\n  rule!AS_CO_UT_isNotBlank(ri!auditParams.complexFieldName),\n  /*When the audit is captured as nested even when the concerned object cdts are not nested \n    Eg: AS_GSS_Evaluation and AS_GSS_EvaluationDocume nt are not nested but AS_GSS_A_R_Evaluation and AS_GSS_A_R_EvaluationDocument are nested*/\n  rule!AS_GAM_ADT_UT_constructFieldChangesDictionaryForManipulatedAudit(\n    initiator: ri!initiator,\n    auditParams: ri!auditParams\n  ),\n  /*If the audit data is not nested and is manipulated and passed from outsite, we can directly construct the audit entry for each ri!auditParams.manipulationAudit*/\n  rule!AS_GAM_ADT_UT_constructDynamicDictionaryForManipulatedAudit(\n    initiator: ri!initiator,\n    auditParams: ri!auditParams\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73856": {
      "name": "AS_CO_UT_dynamicDictionary",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n    cdt: rule!AS_CO_UT_returnNullDictionary(),\n    fieldValuePairs: ri!fieldValuePairs\n  )\n)"
    },
    "_a-0000e415-3035-8000-9bb2-011c48011c48_291284": {
      "name": "AS_CO_CONS_PRIMITIVE_TYPE_ARRAY",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Type?list',\n  {\n    /* 1*/ 'type!{http://www.appian.com/ae/types/2009}Text',\n    /* 2*/ 'type!{http://www.appian.com/ae/types/2009}Integer',\n    /* 3*/ 'type!{http://www.appian.com/ae/types/2009}Decimal',\n    /* 4*/ 'type!{http://www.appian.com/ae/types/2009}Boolean',\n    /* 5*/ 'type!{http://www.appian.com/ae/types/2009}Date',\n    /* 6*/ 'type!{http://www.appian.com/ae/types/2009}Datetime',\n    /* 7*/ 'type!{http://www.appian.com/ae/types/2009}Time',\n    /* 8*/ 'type!{http://www.appian.com/ae/types/2009}User',\n    /* 9*/ 'type!{http://www.appian.com/ae/types/2009}Group',\n    /*10*/ 'type!{http://www.appian.com/ae/types/2009}UserOrGroup',\n    /*11*/ 'type!{http://www.appian.com/ae/types/2009}Document',\n    /*12*/ 'type!{http://www.appian.com/ae/types/2009}Folder',\n  }\n)"
    }
  }
}
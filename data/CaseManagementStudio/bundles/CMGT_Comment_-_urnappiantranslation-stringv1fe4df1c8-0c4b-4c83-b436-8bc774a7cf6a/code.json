{
  "_metadata": {
    "bundle_id": "CMGT_Comment_-_urnappiantranslation-stringv1fe4df1c8-0c4b-4c83-b436-8bc774a7cf6a"
  },
  "objects": {
    "_a-0000eea8-05c2-8000-9db5-011c48011c48_4810878": {
      "name": "CMGT_SMS_AI_SearchHistory_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!searchHistory,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_SMS_AI_SearchHistory.modifiedOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_SMS_AI_SearchHistory.modifiedBy,\n        value: ri!initiator\n      )\n    },\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_SMS_AI_SearchHistory.isActive,\n        value: true()\n      ),\n      a!map(\n        field: recordType!CMGT_SMS_AI_SearchHistory.createdOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_SMS_AI_SearchHistory.createdBy,\n        value: ri!initiator\n      )\n    }\n  )\n)"
    },
    "9248008e-2c2c-4eea-bb28-4a3c89838403": {
      "name": "CMGT_UTIL_RemoveRecordRelationshipsWithSingleKey_Reducer",
      "type": "Expression Rule",
      "sail_code": "if(\n  runtimetypeof(ri!key) <> 'type!{http://www.appian.com/ae/types/2009}RecordRelationship',\n  ri!record,\n  a!match(\n    value: index(ri!record, ri!key, null),\n    whenTrue: count(fv!value) = 1,\n    then: with(\n      local!indexedValue: index(\n        ri!record,\n        ri!key,\n        1,\n        index(ri!record, ri!key, null)\n      ),\n      local!subKeys: a!keys(local!indexedValue),\n      if(\n        length(local!subKeys) = 1,\n        remove(ri!record, ri!key),\n        #\"urn:appian:function:v1:a:update\"(\n          ri!record,\n          ri!key,\n          reduce(\n            rule!CMGT_UTIL_RemoveRecordRelationshipsWithSingleKey_Reducer(record: _, key: _),\n            local!indexedValue,\n            local!subKeys\n          )\n        )\n      )\n    ),\n    default: ri!record\n  )\n)"
    },
    "_a-0000e9ae-873e-8000-9baf-011c48011c48_89716": {
      "name": "CMGT_UTIL_CalendarField",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!daysOfWeek: {\n    #\"urn:appian:translation-string:v1:54e17271-ff88-44b6-bdbb-6757ac512213\",\n    #\"urn:appian:translation-string:v1:6496e4b9-1e17-43e5-a14e-74a659193405\",\n    #\"urn:appian:translation-string:v1:ac2f886c-8ad6-4726-8823-8d9c51d84e8e\",\n    #\"urn:appian:translation-string:v1:e67fbbe8-bb1b-4fe4-a68b-0bfc0cb9123b\",\n    #\"urn:appian:translation-string:v1:ef35d9ec-d068-429d-8e8f-6ef947b5ba5f\",\n    #\"urn:appian:translation-string:v1:581a7892-c388-4a0d-b7a9-9b9347700100\",\n    #\"urn:appian:translation-string:v1:bdda4113-30a7-4f47-af99-d71b9d3e5665\"\n  },\n  local!monthDates: rule!CMGT_UTIL_CalendarField_GetMonthDates(startDate: ri!firstDate),\n  local!numOfWeeks: if(\n    a!isNullOrEmpty(local!monthDates),\n    0,\n    length(local!monthDates) / 7\n  ),\n  local!currentYear: year(ri!firstDate),\n  local!currentMonth: month(ri!firstDate),\n  local!currentDay: day(ri!firstDate),\n  local!selectableDays: if(\n    rule!CMGT_UTIL_IsNotBlank(ri!selectableDates),\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!selectableDates,\n      expression: rule!CMGT_UTIL_GetDateFromDateTime(\n        dateTimeValue: fv!item,\n        convertToSystemTimeZone: false\n      )\n    ),\n    todate(null)\n  ),\n  {\n    #\"SYSTEM_SYSRULES_cardLayout\"(\n      contents: {\n        #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n          items: {\n            #\"SYSTEM_SYSRULES_sideBySideItem\"(width: \"MINIMIZE\"),\n            /*Month and year label*/\n            #\"SYSTEM_SYSRULES_sideBySideItem\"(\n              item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                labelPosition: \"COLLAPSED\",\n                value: {\n                  #\"SYSTEM_SYSRULES_richTextHeader\"(\n                    text: {\n                      text(\n                        date(\n                          local!currentYear,\n                          local!currentMonth,\n                          local!currentDay\n                        ),\n                        \"mmmm yyyy\"\n                      )\n                    },\n                    size: \"SMALL\"\n                  )\n                }\n              )\n            ),\n            /*Navigation icon*/\n            #\"SYSTEM_SYSRULES_sideBySideItem\"(\n              item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                labelPosition: \"COLLAPSED\",\n                value: {\n                  #\"SYSTEM_SYSRULES_richTextIcon\"(\n                    icon: \"angle-left\",\n                    altText: #\"urn:appian:translation-string:v1:5e14ef93-fcae-46cf-ab0b-2f508681b1d3\",\n                    /*restrict user navigating to previous month*/\n                    link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                      saveInto: {\n                        if(\n                          local!currentMonth = 1,\n                          /*If current month is January, have to decrease the year, set month to Dec (12), and set day to the 1st (1)*/\n                          a!save(\n                            ri!firstDate,\n                            date(local!currentYear - 1, 12, 1)\n                          ),\n                          /*If current month is not January, year is the same, have to decrease the month, and set day to the 1st (1)*/\n                          a!save(\n                            ri!firstDate,\n                            date(\n                              local!currentYear,\n                              local!currentMonth - 1,\n                              1\n                            )\n                          )\n                        )\n                      }\n                    ),\n                    linkStyle: \"STANDALONE\",\n                    color: \"STANDARD\",\n                    size: \"MEDIUM\"\n                  ),\n                  /*space between paging icons*/\n                  \" \",\n                  #\"SYSTEM_SYSRULES_richTextIcon\"(\n                    icon: \"angle-right\",\n                    altText: #\"urn:appian:translation-string:v1:3a18859f-5a01-447e-97a1-b32f15c381ea\",\n                    /*user shouldn't be able to navigate beyond the max case due date month */\n                    /*eg: last case due month is on november, user shouldn't be able to navigate after november*/\n                    link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                      saveInto: {\n                        if(\n                          local!currentMonth = 12,\n                          /*If current month is December, have to increment the year, set month to Jan (1), and set day to the 1st (1)*/\n                          a!save(\n                            ri!firstDate,\n                            date(local!currentYear + 1, 1, 1)\n                          ),\n                          /*If current month is not December, year is the same, have to increment the month, and set day to the 1st (1)*/\n                          a!save(\n                            ri!firstDate,\n                            date(\n                              local!currentYear,\n                              local!currentMonth + 1,\n                              1\n                            )\n                          )\n                        )\n                      }\n                    ),\n                    linkStyle: \"STANDALONE\",\n                    color: \"STANDARD\",\n                    size: \"MEDIUM\"\n                  )\n                }\n              ),\n              width: \"MINIMIZE\"\n            ),\n            #\"SYSTEM_SYSRULES_sideBySideItem\"(width: \"MINIMIZE\")\n          },\n          alignVertical: \"MIDDLE\"\n        ),\n        #\"SYSTEM_SYSRULES_gridLayout\"(\n          label: ri!label,\n          labelPosition: \"COLLAPSED\",\n          headerCells: #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!daysOfWeek,\n            expression: #\"SYSTEM_SYSRULES_gridLayoutHeaderCell\"(label: fv!item, align: \"CENTER\")\n          ),\n          columnConfigs: {\n            #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"ICON_PLUS\"),\n            #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"ICON\"),\n            #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"ICON\"),\n            #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"ICON\"),\n            #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"ICON\"),\n            #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"ICON\"),\n            #\"SYSTEM_SYSRULES_gridLayoutColumnConfig\"(width: \"ICON\")\n          },\n          rows: #\"SYSTEM_SYSRULES_forEach\"(\n            items: enumerate(local!numOfWeeks) + 1,\n            expression: #\"SYSTEM_SYSRULES_gridRowLayout\"(\n              contents: {\n                a!localVariables(\n                  local!rowNum: fv!item,\n                  #\"SYSTEM_SYSRULES_forEach\"(\n                    items: local!daysOfWeek,\n                    expression: a!localVariables(\n                      local!date: index(\n                        index(\n                          local!monthDates,\n                          enumerate(7) + 7 * (local!rowNum - 1) + 1,\n                          null\n                        ),\n                        fv!index,\n                        {}\n                      ),\n                      local!isSelectable: contains(local!selectableDays, local!date),\n                      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                        labelPosition: \"COLLAPSED\",\n                        value: {\n                          if(\n                            or(\n                              month(local!date) < local!currentMonth,\n                              month(local!date) > local!currentMonth\n                            ),\n                            {\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(text: \" \"),\n                              char(10),\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"()\n                            },\n                            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                              text: {\n                                day(local!date),\n                                char(10),\n                                if(\n                                  local!isSelectable,\n                                  #\"SYSTEM_SYSRULES_richTextIcon\"(\n                                    icon: if(\n                                      local!date = ri!selectedDate,\n                                      \"circle\",\n                                      \"circle-o\"\n                                    ),\n                                    size: \"SMALL\",\n                                    altText: a!match(\n                                      value: local!date,\n                                      equals: ri!selectedDate,\n                                      then: #\"urn:appian:translation-string:v1:bba99ad4-c088-4129-aaa7-bd8561f12981\",\n                                      whenTrue: local!isSelectable,\n                                      then: #\"urn:appian:translation-string:v1:56face77-2026-4ac3-b5db-fce74bc46165\",\n                                      default: null()\n                                    )\n                                  ),\n                                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(text: \" \")\n                                )\n                              },\n                              link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                                saveInto: {\n                                  a!save(\n                                    ri!selectedDate,\n                                    if(\n                                      local!date = ri!selectedDate,\n                                      null,\n                                      local!date\n                                    )\n                                  )\n                                },\n                                showWhen: local!isSelectable\n                              ),\n                              linkStyle: \"STANDALONE\",\n                              color: \"STANDARD\",\n                              style: if(\n                                local!date = ri!selectedDate,\n                                \"STRONG\",\n                                \"PLAIN\"\n                              )\n                            )\n                          )\n                        },\n                        align: \"CENTER\"\n                      )\n                    )\n                  )\n                )\n              }\n            )\n          ),\n          shadeAlternateRows: true,\n          borderStyle: \"LIGHT\"\n        ),\n        #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          value: {\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: #\"urn:appian:translation-string:v1:bb35dd48-fc7e-4d13-a480-deb04257d520\",\n              link: #\"SYSTEM_SYSRULES_dynamicLink\"(saveInto: a!save(ri!selectedDate, null)),\n              linkStyle: \"STANDALONE\"\n            ),\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(text: \" \")\n          },\n          showWhen: a!isNotNullOrEmpty(ri!selectedDate),\n          align: \"RIGHT\",\n          marginAbove: \"NONE\",\n          marginBelow: \"NONE\"\n        )\n      },\n      height: \"AUTO\",\n      style: \"TRANSPARENT\",\n      padding: \"NONE\",\n      marginAbove: \"STANDARD\",\n      marginBelow: \"NONE\",\n      showBorder: false,\n      showShadow: false\n    )\n  }\n)"
    },
    "_a-0000ec22-0443-8000-9cd2-011c48011c48_2682638": {
      "name": "CMGT_MTR_UserSelectedAssignedToGroupTab",
      "type": "Expression Rule",
      "sail_code": "now()"
    },
    "_a-0000ee9e-ca68-8000-9daf-011c48011c48_4776134": {
      "name": "CMGT_SMS_AI_SitePage_SmartSearch",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!brandingMap: rule!CMGT_UTIL_LoadBrandingMap(),\n  local!searchCategories: rule!CMGT_SMS_AI_QR_GetCategory(returnType: \"OBJECT_ARRAY\"),\n  local!selectedCategoryTemp: local!searchCategories[recordType!CMGT_SMS_AI_CFG_Category.categoryId],\n  local!selectedCategory,\n  local!searchTextTemp,\n  local!searchText,\n  local!activeTab: a!refreshVariable(\n    value: a!match(\n      value: {},\n      whenTrue: contains(\n        tointeger(local!selectedCategory),\n        { 1, 2 }\n      ),\n      then: 1,\n      whenTrue: contains(tointeger(local!selectedCategory), 1),\n      then: 2,\n      whenTrue: contains(tointeger(local!selectedCategory), 2),\n      then: 3,\n      default: 1\n    ),\n    refreshOnVarChange: local!searchText\n  ),\n  local!triggerRefresh: a!refreshVariable(\n    value: now(),\n    refreshAfter: \"RECORD_ACTION\",\n    refreshOnVarChange: local!activeTab\n  ),\n  local!searchHistory: a!refreshVariable(\n    value: rule!CMGT_SMS_AI_QR_GetSearchHistory(\n      returnType: \"OBJECT_ARRAY\",\n      createdBy: loggedInUser(),\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: cons!CMGT_SMS_AI_INT_BATCH_SIZE_EXTRA_SMALL,\n        sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!CMGT_SMS_AI_SearchHistory.modifiedOn,\n          ascending: false\n        )\n      ),\n      fields: recordType!CMGT_SMS_AI_SearchHistory.searchHistoryCategoryMap,\n      triggerRefresh: local!triggerRefresh\n    ),\n    refreshOnVarChange: local!triggerRefresh\n  ),\n  /*The first instance of validation should be displayed on the click of submit button.This value will be updated based on the local!showvalidation during a button click */\n  local!displayValidation: false,\n  /*Adding separate validation for character count check because OOTB validation when displayed causes mismatch in text field and button alignment*/\n  local!validationForSearchText: a!refreshVariable(\n    value: len(local!searchTextTemp) > cons!CMGT_SMS_AI_INT_MAX_CHAR_LIMIT_LARGE,\n    refreshOnVarChange: local!displayValidation\n  ),\n  local!showValidation: or(\n    rule!CMGT_UTIL_IsBlank(local!searchTextTemp),\n    rule!CMGT_UTIL_IsBlank(local!selectedCategoryTemp),\n    local!validationForSearchText\n  ),\n  /*To display the space above the card only initially. The displaySpace will be incremented in further saves.*/\n  /*Not using boolean here as, the change in value will not display the space properly not even when first proper search is executed*/\n  local!displaySpace: 1,\n  /*Cases Tab*/\n  local!selectedCaseStatus: a!refreshVariable(\n    value: null,\n    refreshOnVarChange: local!triggerRefresh\n  ),\n  local!selectedCaseTypes: a!refreshVariable(\n    value: null,\n    refreshOnVarChange: local!triggerRefresh\n  ),\n  local!selectedCaseAssignees: a!refreshVariable(\n    value: null,\n    refreshOnVarChange: local!triggerRefresh\n  ),\n  local!selectedCaseAssignedGroups: a!refreshVariable(\n    value: null,\n    refreshOnVarChange: local!triggerRefresh\n  ),\n  local!pagingInfoForCases: a!refreshVariable(\n    value: #\"SYSTEM_SYSRULES_pagingInfo\"(\n      startIndex: 1,\n      batchSize: cons!CMGT_INT_BATCH_SIZE_MEDIUM/*INCORPORATION STEP - Cases - Add sortInfo() to sort based on similarity score*/\n      ,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: #\"urn:appian:record-search-results:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/allSearchFields/similarityScore\",\n        ascending: false\n      )\n    ),\n    refreshOnVarChange: {\n      local!triggerRefresh,\n      local!selectedCaseStatus,\n      local!selectedCaseTypes,\n      local!selectedCaseAssignees,\n      local!selectedCaseAssignedGroups\n    }\n  ),\n  local!searchResultsForCases: rule!CMGT_SMS_AI_QR_GetSmartSearchResultsOnCases(\n    searchTerm: local!searchText,\n    pagingInfo: local!pagingInfoForCases,\n    caseType: local!selectedCaseTypes,\n    status: local!selectedCaseStatus,\n    assignee: local!selectedCaseAssignees,\n    assignedGroup: local!selectedCaseAssignedGroups,\n    triggerRefresh: local!triggerRefresh,\n    selectedCategory: local!selectedCategory\n  ),\n  /*Tasks Tab*/\n  local!selectedTaskStatus: a!refreshVariable(\n    value: null,\n    refreshOnVarChange: local!triggerRefresh\n  ),\n  local!selectedTaskTypes: a!refreshVariable(\n    value: null,\n    refreshOnVarChange: local!triggerRefresh\n  ),\n  local!selectedTaskAssignees: a!refreshVariable(\n    value: null,\n    refreshOnVarChange: local!triggerRefresh\n  ),\n  local!selectedTaskAssignedGroups: a!refreshVariable(\n    value: null,\n    refreshOnVarChange: local!triggerRefresh\n  ),\n  local!pagingInfoForTasks: a!refreshVariable(\n    value: #\"SYSTEM_SYSRULES_pagingInfo\"(\n      startIndex: 1,\n      batchSize: cons!CMGT_INT_BATCH_SIZE_MEDIUM/*INCORPORATION STEP - Tasks - Add sortInfo() to sort based on similarity score*/\n      ,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: #\"urn:appian:record-search-results:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/allSearchFields/similarityScore\",\n        ascending: false\n      )\n    ),\n    refreshOnVarChange: {\n      local!triggerRefresh,\n      local!selectedTaskTypes,\n      local!selectedTaskStatus,\n      local!selectedTaskAssignedGroups,\n      local!selectedTaskAssignees\n    }\n  ),\n  local!searchResultsForTasks: rule!CMGT_SMS_AI_QR_GetSmartSearchResultsOnTasks(\n    searchTerm: local!searchText,\n    pagingInfo: local!pagingInfoForTasks,\n    statusIds: local!selectedTaskStatus,\n    taskTypesIds: local!selectedTaskTypes,\n    assignee: local!selectedTaskAssignees,\n    assignedGroup: local!selectedTaskAssignedGroups,\n    triggerRefresh: local!triggerRefresh,\n    selectedCategory: local!selectedCategory\n  ),\n  /*Top Tab*/\n  local!topSearchResults: rule!CMGT_SMS_AI_GetTopSmartSearchResults(\n    cases: index(\n      local!searchResultsForCases,\n      \"data\",\n      null\n    ),\n    tasks: index(\n      local!searchResultsForTasks,\n      \"data\",\n      null\n    )\n  ),\n  local!tabs: {\n    a!map(\n      name: #\"urn:appian:translation-string:v1:7fb4c23f-a2ce-4572-b4e3-1fac53386e86\",\n      showTabCount: false(),\n      showTab: contains(\n        tointeger(local!selectedCategory),\n        { 1, 2 }\n      )\n    ),\n    a!map(\n      name: #\"urn:appian:translation-string:v1:afeebca1-14f6-4395-bf5d-88a61a5bd34e\",\n      showTabCount: false(),\n      showTab: contains(tointeger(local!selectedCategory), 1)\n    ),\n    a!map(\n      name: #\"urn:appian:translation-string:v1:ae3d3f86-01e2-4653-a614-ebbd7e9c9cde\",\n      showTabCount: false(),\n      showTab: contains(tointeger(local!selectedCategory), 2)\n    )\n  },\n  #\"SYSTEM_SYSRULES_headerContentLayout\"(\n    contents: {\n      /*Empty Space*/\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_cardLayout\"(\n                showBorder: false,\n                style: local!brandingMap.DefaultBackgroundColor,\n                height: \"SHORT_PLUS\"\n              ),\n\n            },\n            width: \"WIDE_PLUS\"\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(contents: {})\n        },\n        showWhen: local!displaySpace = 1\n      ),\n      /*Search Box*/\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_cardLayout\"(\n                contents: {\n                  #\"SYSTEM_SYSRULES_cardLayout\"(\n                    contents: {\n                      #\"SYSTEM_SYSRULES_headingField\"(\n                        text: #\"urn:appian:translation-string:v1:77327e89-a5b4-4952-a593-97b2f85f406a\",\n                        size: \"MEDIUM_PLUS\",\n                        fontWeight: \"SEMI_BOLD\",\n                        marginBelow: \"LESS\"\n                      ),\n                      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                        labelPosition: \"COLLAPSED\",\n                        value: {\n                          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                            text: #\"urn:appian:translation-string:v1:0f395d2d-e6f2-48b6-afcd-900352d84720\",\n                            color: local!brandingMap.SecondaryTextColor,\n                            size: \"MEDIUM\"\n                          )\n                        }\n                      )\n                    },\n                    style: local!brandingMap.ConfigBackgroundColor,\n                    shape: \"ROUNDED\",\n                    padding: \"STANDARD\",\n                    showBorder: false,\n                    showWhen: local!displaySpace = 1\n                  ),\n                  #\"SYSTEM_SYSRULES_cardLayout\"(\n                    contents: {\n                      #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                        items: {\n                          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                            item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                              labelPosition: \"COLLAPSED\",\n                              value: {\n                                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                  text: #\"urn:appian:translation-string:v1:aa37a376-8cad-4919-9632-6d34b1c0943f\",\n                                  color: local!brandingMap.StandardTextColor,\n                                  style: \"STRONG\"\n                                )\n                              }\n                            ),\n                            width: \"MINIMIZE\"\n                          ),\n                          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                            item: #\"SYSTEM_SYSRULES_checkboxField_v1\"(\n                              choiceLabels: local!searchCategories[recordType!CMGT_SMS_AI_CFG_Category.label],\n                              choiceValues: local!searchCategories[recordType!CMGT_SMS_AI_CFG_Category.categoryId],\n                              labelPosition: \"COLLAPSED\",\n                              value: tointeger(local!selectedCategoryTemp),\n                              saveInto: local!selectedCategoryTemp,\n                              choiceLayout: \"COMPACT\",\n                              marginBelow: \"NONE\"\n                            )\n                          )\n                        },\n                        alignVertical: \"MIDDLE\"\n                      ),\n                      #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                        items: {\n                          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                            item: #\"SYSTEM_SYSRULES_textField\"(\n                              label: \"\",\n                              labelPosition: \"COLLAPSED\",\n                              value: local!searchTextTemp,\n                              saveInto: a!save(local!searchTextTemp, trim(save!value)),\n                              refreshAfter: \"UNFOCUS\",\n                              marginBelow: \"NONE\"\n                            )\n                          ),\n                          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                            item: #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n                              buttons: {\n                                #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                                  label: #\"urn:appian:translation-string:v1:e3c04bbf-3297-4625-b89f-be0595880761\",\n                                  size: \"SMALL\",\n                                  style: \"SOLID\",\n                                  submit: not(local!showValidation),\n                                  validate: true,\n                                  /*To not display the initial space at the top when search is executed for the first time*/\n                                  saveInto: {\n                                    a!save(local!searchText, local!searchTextTemp),\n                                    a!save(\n                                      local!selectedCategory,\n                                      local!selectedCategoryTemp\n                                    ),\n                                    if(\n                                      local!showValidation,\n                                      a!save(local!displayValidation, true),\n                                      {\n                                        a!save(\n                                          local!displaySpace,\n                                          local!displaySpace + 1\n                                        ),\n                                        a!save(local!displayValidation, false),\n                                        /* Write to search history */\n                                        #\"SYSTEM_SYSRULES_startProcess3\"(\n                                          processModel: cons!CMGT_SMS_AI_PM_WRITE_SEARCH_HISTORY,\n                                          processParameters: {\n                                            searchCategory: local!selectedCategory,\n                                            searchText: local!searchText\n                                          }\n                                        )\n                                      }\n                                    ),\n                                    a!save(local!triggerRefresh, now()),\n                                    a!save(\n                                      {\n                                        local!searchResultsForCases,\n                                        local!searchResultsForTasks\n                                      },\n                                      null()\n                                    )\n                                  }\n                                )\n                              },\n                              align: \"START\",\n                              marginBelow: \"NONE\"\n                            ),\n                            width: \"MINIMIZE\"\n                          )\n                        },\n                        alignVertical: \"MIDDLE\",\n                        spacing: \"NONE\",\n                        marginBelow: if(\n                          and(\n                            local!displayValidation,\n                            local!showValidation\n                          ),\n                          \"EVEN_LESS\",\n                          \"STANDARD\"\n                        )\n                      ),\n                      /* Validation Message*/\n                      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                        labelPosition: \"COLLAPSED\",\n                        value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                          text: if(\n                            local!validationForSearchText,\n                            #\"urn:appian:translation-string:v1:db3b8c2d-1618-4dfc-a379-53320d7445ed\"(\n                              #\"urn:appian:translation-variable:v1:9048b1ec-e0c0-498d-bf63-aee30fb0d59c\": len(local!searchTextTemp)\n                            ),\n                            #\"urn:appian:translation-string:v1:d2fbb041-7b3e-46cc-8b26-1c230ddba933\"\n                          ),\n                          color: \"NEGATIVE\",\n                          size: \"STANDARD\",\n                          style: \"PLAIN\"\n                        ),\n                        showWhen: and(\n                          local!displayValidation,\n                          local!showValidation\n                        ),\n                        marginAbove: \"NONE\"\n                      ),\n                      /* Recent searches */\n                      rule!CMGT_SMS_AI_ShowRecentSearches(\n                        searchHistory: local!searchHistory,\n                        displaySpace: local!displaySpace,\n                        searchTextTemp: local!searchTextTemp,\n                        searchText: local!searchText,\n                        selectedCategoryTemp: local!selectedCategoryTemp,\n                        selectedCategory: local!selectedCategory,\n                        brandingMap: local!brandingMap,\n                        triggerRefresh: local!triggerRefresh\n                      ),\n                      /* Delete search history */\n                      #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n                        actions: #\"SYSTEM_SYSRULES_recordActionItem\"(\n                          action: #\"urn:appian:record-action:v1:53049395-2855-4537-8bc6-f1a7d80fd2df/595eac66-3d52-4f57-a7bf-e122352cac16\"\n                        ),\n                        style: \"LINKS\",\n                        display: \"LABEL_AND_ICON\",\n                        showWhen: rule!CMGT_UTIL_IsNotBlank(input: local!searchHistory)\n                      )\n                    },\n                    shape: \"ROUNDED\",\n                    padding: \"STANDARD\",\n                    showBorder: false\n                  )\n                },\n                style: local!brandingMap.ConfigBackgroundColor,\n                shape: \"ROUNDED\",\n                padding: \"NONE\",\n                marginBelow: \"STANDARD\",\n                showBorder: true\n              ),\n\n            },\n            width: \"WIDE_PLUS\"\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(contents: {})\n        }\n      ),\n      /*Search Results*/\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: #\"SYSTEM_SYSRULES_cardLayout\"(\n              contents: {\n                rule!CMGT_SMS_UTIL_TabLayout(\n                  tabs: local!tabs,\n                  activeTab: local!activeTab,\n                  brandingMap: local!brandingMap\n                ),\n                a!match(\n                  value: local!activeTab,\n                  equals: 1,\n                  then: rule!CMGT_SMS_AI_SmartSearchResultsTab_Top(\n                    topResults: local!topSearchResults.data,\n                    brandingMap: local!brandingMap\n                  ),\n                  equals: 2,\n                  then: {\n                    rule!CMGT_SMS_AI_SmartSearchResultsTab_Cases(\n                      searchResult: local!searchResultsForCases,\n                      pagingInfo: local!pagingInfoForCases,\n                      selectedCaseTypes: local!selectedCaseTypes,\n                      selectedStatus: local!selectedCaseStatus,\n                      selectedAssignees: local!selectedCaseAssignees,\n                      selectedAssignedGroups: local!selectedCaseAssignedGroups,\n                      brandingMap: local!brandingMap,\n                      totalCount: index(\n                        local!searchResultsForCases,\n                        \"totalCount\",\n                        null\n                      )\n                    )\n                  },\n                  equals: 3,\n                  then: {\n                    rule!CMGT_SMS_AI_SmartSearchResultsTab_Tasks(\n                      searchResult: local!searchResultsForTasks.data,\n                      selectedStatus: local!selectedTaskStatus,\n                      selectedTaskTypes: local!selectedTaskTypes,\n                      selectedAssignees: local!selectedTaskAssignees,\n                      selectedAssignedGroups: local!selectedTaskAssignedGroups,\n                      pagingInfo: local!pagingInfoForTasks,\n                      brandingMap: local!brandingMap,\n                      totalCount: index(\n                        local!searchResultsForTasks,\n                        \"totalCount\",\n                        null\n                      )\n                    )\n                  },\n                  default: {}\n                )\n              },\n              style: local!brandingMap.ConfigBackgroundColor,\n              padding: \"NONE\",\n              showBorder: true,\n              shape: \"ROUNDED\",\n\n            ),\n            width: \"WIDE_PLUS\"\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(contents: {})\n        },\n        showWhen: any(\n          rule!CMGT_UTIL_IsNotBlank,\n          {\n            local!searchResultsForCases,\n            local!searchResultsForTasks,\n\n          }\n        )\n      ),\n      /*Search Results - No Result found*/\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_stampField\"(\n                labelPosition: \"COLLAPSED\",\n                icon: \"search-minus\",\n                backgroundColor: local!brandingMap.WhiteColor,\n                contentColor: local!brandingMap.SecondaryTextColor,\n                size: \"MEDIUM\",\n                align: \"CENTER\",\n                marginBelow: \"STANDARD\",\n                shape: \"ROUNDED\"\n              ),\n              #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                labelPosition: \"COLLAPSED\",\n                value: {\n                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                    text: #\"urn:appian:translation-string:v1:6ad92534-fd9d-4c80-b325-728dd1392a18\",\n                    color: local!brandingMap.StandardTextColor,\n                    size: \"MEDIUM\"\n                  )\n                },\n                align: \"CENTER\"\n              )\n            },\n            width: if(\n              not(\n                #\"SYSTEM_SYSRULES_isPageWidth\"({ \"PHONE\", \"TABLET_PORTRAIT\" })\n              ),\n              \"MEDIUM_PLUS\",\n              \"WIDE_PLUS\"\n            )\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(contents: {})\n        },\n        showWhen: and(\n          all(\n            rule!CMGT_UTIL_IsBlank,\n            {\n              local!searchResultsForCases,\n              local!searchResultsForTasks,\n\n            }\n          ),\n          and(\n            rule!CMGT_UTIL_IsNotBlank(local!searchText),\n            rule!CMGT_UTIL_IsNotBlank(local!selectedCategory)\n          )\n        ),\n\n      )\n    },\n    backgroundColor: local!brandingMap.defaultBackgroundColor\n  )\n)"
    },
    "_a-0000eaab-5303-8000-9c24-011c48011c48_994738": {
      "name": "CMGT_formatEventInitiator",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!user: rule!CMGT_QR_GetUser(\n    username: ri!initiator,\n    returnType: \"SINGLE_OBJECT\"\n  ),\n  if(\n    rule!CMGT_UTIL_IsBlank(local!user),\n    ri!initiator,\n    if(\n      or(\n        local!user[#\"urn:appian:record-field:v1:SYSTEM_RECORD_TYPE_USER/SYSTEM_RECORD_TYPE_USER_FIELD_isServiceAccount\"] = true,\n        #\"urn:appian:function:v1:a:isusermemberofgroup?okey=a!isUserMemberOfGroup\"(\n          username: ri!initiator,\n          groups: cons!CMGT_GRP_SERVICE_ACCOUNTS\n        )\n      ),\n      cons!CMGT_TXT_AUTOMATED_SYSTEM,\n      ri!initiator\n    )\n  )\n)"
    },
    "_a-0000ea01-8773-8000-9bde-011c48011c48_356157": {
      "name": "CMGT_UTIL_CardGroupHandler",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!maxPerRow: a!defaultValue(ri!maxPerRow, count(ri!cardLayouts)),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: enumerate(\n      ceiling(\n        count(ri!cardLayouts) / local!maxPerRow,\n        1\n      )\n    ),\n    expression: a!localVariables(\n      local!rowIndex: fv!index,\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        marginBelow: ri!marginBelow,\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            showWhen: contains({ \"RIGHT\", \"CENTER\" }, ri!align)\n          ),\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: enumerate(local!maxPerRow),\n            expression: a!localVariables(\n              local!adjustedIndex: (local!rowIndex - 1) * local!maxPerRow + fv!index,\n              local!cardLayout: a!refreshVariable(\n                value: index(ri!cardLayouts, local!adjustedIndex, {}),\n                refreshAlways: true\n              ),\n              #\"SYSTEM_SYSRULES_columnLayout\"(\n                width: ri!columnWidth,\n                contents: local!cardLayout\n              )\n            )\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            showWhen: contains({ \"LEFT\", \"CENTER\" }, ri!align)\n          )\n        },\n        stackWhen: ri!stackWhen,\n        spacing: a!defaultValue(ri!spacing,\"DENSE\")\n      )\n    )\n  )\n)"
    },
    "_a-0000eaba-1e20-8000-9c2a-011c48011c48_1044297": {
      "name": "CMGT_Comment_WriteRecordsProperties",
      "type": "Expression Rule",
      "sail_code": "if(\n  ri!isInput,\n  rule!CMGT_UTIL_DropNonWritableRelationshipsFromRecord(\n    records: ri!comments,\n    relationships: {\n      recordType!CMGT_Comment.childComments,\n      recordType!CMGT_Comment.parentComment,\n      recordType!CMGT_Comment.createdByUser,\n      recordType!CMGT_Comment.modifiedByUser,\n      recordType!CMGT_Comment.userTags\n    }\n  ),\n  rule!CMGT_UTIL_MergeWriteRecordIdsToProcessVariable(\n    processData: ri!comments,\n    recordsUpdated: ri!recordsUpdated,\n    fksToParent: {\n      recordType!CMGT_Comment.userTags.commentId,\n      recordType!CMGT_Comment.commentDocumentMap.commentId\n    }\n  )\n)"
    },
    "_a-0000eaba-1e20-8000-9c2a-011c48011c48_1034479": {
      "name": "CMGT_UTIL_parseColorSchemeBranding",
      "type": "Expression Rule",
      "sail_code": "if(\n  or(\n    isnull(ri!colorSchemeValue),\n    contains(rule!CMGT_ENUM_BRAND_STANDARD_COLOR_SCHEMES().COLOR_SCHEME.colorSchemes.key, ri!colorSchemeValue)\n  ),\n\n  /*Is a standard color scheme (e.g. MIDNIGHT)*/\n  if(\n    ri!returnRawHexCodes,\n    a!flatten(displayvalue(\n      ri!colorSchemeValue,\n      rule!CMGT_ENUM_BRAND_STANDARD_COLOR_SCHEMES().COLOR_SCHEME.colorSchemes.key,\n      rule!CMGT_ENUM_BRAND_STANDARD_COLOR_SCHEMES().COLOR_SCHEME.colorSchemes.hexCodes,\n      {}\n    )),\n    ri!colorSchemeValue\n  ),\n\n  /*Is a custom color scheme*/\n  if(\n    ri!returnRawHexCodes,\n    split(ri!colorSchemeValue, \",\"),\n    #\"SYSTEM_SYSRULES_colorSchemeCustom\"(colors: split(ri!colorSchemeValue, \",\"))\n  )\n)"
    },
    "_a-0000ea0e-71db-8000-9be6-011c48011c48_470032": {
      "name": "CMGT_EventHistory_Task_FormatDetails",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!details: cast(\n    'type!{http://www.appian.com/ae/types/2009}Map',\n    if(\n      a!isNotNullOrEmpty(\n        ri!data[recordType!CMGT_EventHistory_Task.details]\n      ),\n      #\"SYSTEM_SYSRULES_fromJson_v1\"(\n        ri!data[recordType!CMGT_EventHistory_Task.details]\n      ),\n      null\n    )\n  ),\n  a!match(\n    value: ri!data[recordType!CMGT_EventHistory_Task.taskEventTypeId],\n    whenTrue: and(\n      contains(\n        {\n          cons!CMGT_REFID_EVENT_TYPE_TASK_COMPLETE\n        },\n        fv!value\n      ),\n      ri!data[recordType!CMGT_EventHistory_Task.task.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION\n    ),\n    then: concat(\n      #\"urn:appian:translation-string:v1:6ddd8757-400b-4b3e-831d-104bf494c1de\"(\n        #\"urn:appian:translation-variable:v1:6577e335-2c33-4e71-a854-63d183c0ef0d\": local!details.automationType\n      ),\n      if(\n        ri!data[recordType!CMGT_EventHistory_Task.task.automationTaskAction.actionCode] = cons!CMGT_CFG_TXT_ACT_SEND_EMAIL,\n        {\n          char(10),\n          #\"urn:appian:translation-string:v1:444f1eb9-fa68-45ef-9d35-569a389884ff\"(\n            #\"urn:appian:translation-variable:v1:2278bdbc-1c5e-427f-994d-caa131837e1c\": local!details.subject\n          )\n        },\n        \"\"\n      )\n    ),\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_TASK_COMPLETE\n      },\n      fv!value\n    ),\n    then: {\n      concat(\n        #\"urn:appian:translation-string:v1:0c505a3f-efa5-4335-8a88-38e6b58fabcf\"(\n          #\"urn:appian:translation-variable:v1:71b17c88-e24f-4229-b8ac-1b067deda73f\": local!details.taskBehaviorType\n        ),\n        char(10),\n        a!match(\n          value: ri!data[recordType!CMGT_EventHistory_Task.task.taskBehaviorTypeId],\n          whenTrue: ri!data[recordType!CMGT_EventHistory_Task.task.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION,\n          then: local!details.taskResponseOptionLabelKey,\n          whenTrue: ri!data[recordType!CMGT_EventHistory_Task.task.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_CREATE_CASE,\n          then: a!localVariables(\n            local!case: rule!CMGT_QR_GetCase(\n              returnType: \"SINGLE_OBJECT\",\n              executeWhen: a!isNotNullOrEmpty(local!details.newCaseId),\n              caseId: local!details.newCaseId,\n              fields: {\n                recordType!CMGT_Case.friendlyId,\n                recordType!CMGT_Case.title\n              }\n            ),\n            {\n              local!case[recordType!CMGT_Case.friendlyId],\n              \" | \",\n              local!case[recordType!CMGT_Case.title]\n            }\n          ),\n          default: null\n        )\n      )\n    },\n    whenTrue: or(\n      and(\n        contains(\n          {\n            cons!CMGT_REFID_EVENT_TYPE_TASK_COMPLETE\n          },\n          fv!value\n        ),\n        ri!data[recordType!CMGT_EventHistory_Task.task.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_SEND_EMAIL\n      ),\n      fv!value = cons!CMGT_REFID_EVENT_TYPE_TASK_UPDATE_EMAIL\n    ),\n    then: concat(\n      #\"urn:appian:translation-string:v1:0c505a3f-efa5-4335-8a88-38e6b58fabcf\"(\n        #\"urn:appian:translation-variable:v1:71b17c88-e24f-4229-b8ac-1b067deda73f\": local!details.taskBehaviorType\n      ),\n      char(10),\n      #\"urn:appian:translation-string:v1:444f1eb9-fa68-45ef-9d35-569a389884ff\"(\n        #\"urn:appian:translation-variable:v1:2278bdbc-1c5e-427f-994d-caa131837e1c\": local!details.subject\n      )\n    ),\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_TASK_NOT_NEEDED,\n        cons!CMGT_REFID_EVENT_TYPE_TASK_MARKED_ACTIVITY_AS_READY,\n        cons!CMGT_REFID_EVENT_TYPE_TASK_UPDATE_ACTIVITY,\n        cons!CMGT_REFID_EVENT_TYPE_TASK_ADD_ACTIVITY,\n        cons!CMGT_REFID_EVENT_TYPE_TASK_CREATE\n      },\n      fv!value\n    ),\n    then: {\n      if(\n        ri!data[recordType!CMGT_EventHistory_Task.task.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n        #\"urn:appian:translation-string:v1:6ddd8757-400b-4b3e-831d-104bf494c1de\"(\n          #\"urn:appian:translation-variable:v1:6577e335-2c33-4e71-a854-63d183c0ef0d\": local!details.automationType\n        ),\n        #\"urn:appian:translation-string:v1:0c505a3f-efa5-4335-8a88-38e6b58fabcf\"(\n          #\"urn:appian:translation-variable:v1:71b17c88-e24f-4229-b8ac-1b067deda73f\": local!details.taskBehaviorType\n        )\n      )\n    },\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_TASK_ADD_ASSIGNEE,\n        cons!CMGT_REFID_EVENT_TYPE_TASK_REMOVED_ASSIGNEE\n      },\n      fv!value\n    ),\n    then: if(\n      a!isNotNullOrEmpty(local!details.groupId),\n      group(\n        tointeger(local!details.groupId),\n        \"groupName\"\n      ),\n      rule!CMGT_UTIL_DisplayUserFullName(username: local!details.user)\n    ),\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_TASK_ADD_COMMENT,\n        cons!CMGT_REFID_EVENT_TYPE_TASK_UPDATE_COMMENT,\n        cons!CMGT_REFID_EVENT_TYPE_TASK_REPLY_TO_COMMENT,\n        cons!CMGT_REFID_EVENT_TYPE_TASK_DELETE_COMMENT\n      },\n      fv!value\n    ),\n    then: concat(\n      #\"urn:appian:translation-string:v1:b047f92a-3c3c-4104-9fab-4323d484d78f\"(\n        #\"urn:appian:translation-variable:v1:98579b94-57f7-41ee-8b4e-649f6147ac35\": rule!CMGT_UTIL_StripHtmlTags(\n          value: local!details.commentText,\n          isFormatted: true\n        )\n      ),\n      if(\n        rule!CMGT_UTIL_IsBlank(local!details.taggedUsers),\n        \"\",\n        concat(\n          char(10),\n          #\"urn:appian:translation-string:v1:1989f3c9-20e5-4be9-822b-7b1dc48f424b\"(\n            #\"urn:appian:translation-variable:v1:0ceb2d10-7e2a-44f9-919d-e51150bb29d3\": joinarray(\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: local!details.taggedUsers,\n                expression: rule!CMGT_UTIL_DisplayUserFullName(username: fv!item)\n              ),\n              \", \"\n            )\n          )\n        )\n      ),\n      if(\n        rule!CMGT_UTIL_IsBlank(local!details.documents),\n        \"\",\n        concat(\n          char(10),\n          #\"urn:appian:translation-string:v1:c0d05eca-625c-4aba-afba-fda052e49cb2\"(\n            #\"urn:appian:translation-variable:v1:7299566d-8206-4962-bb5e-71475e411afb\": joinarray(\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: local!details.documents,\n                expression: fv!item\n              ),\n              \", \"\n            )\n          )\n        )\n      )\n    ),\n    equals: cons!CMGT_REFID_EVENT_TYPE_TASK_UPDATE_NAME,\n    then: concat(\n      #\"urn:appian:translation-string:v1:f80429d7-dbf2-4282-9283-8f89899e72d3\"(\n        #\"urn:appian:translation-variable:v1:5c18f69d-9530-42da-847b-130c5c4b6d7e\": local!details.originalValue\n      ),\n      char(10),\n      #\"urn:appian:translation-string:v1:942a20e1-ba63-496f-9fff-8d1c84bff8df\"(\n        #\"urn:appian:translation-variable:v1:70a6a6c1-297e-430b-b2bd-68be43c4b5d8\": local!details.newValue\n      ),\n      char(10),\n      if(\n        ri!data[recordType!CMGT_EventHistory_Task.task.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n        {\n          #\"urn:appian:translation-string:v1:6ddd8757-400b-4b3e-831d-104bf494c1de\"(\n            #\"urn:appian:translation-variable:v1:6577e335-2c33-4e71-a854-63d183c0ef0d\": local!details.automationType\n          )\n        },\n        #\"urn:appian:translation-string:v1:0c505a3f-efa5-4335-8a88-38e6b58fabcf\"(\n          #\"urn:appian:translation-variable:v1:71b17c88-e24f-4229-b8ac-1b067deda73f\": local!details.taskBehaviorType\n        )\n      )\n    ),\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_TASK_UPDATE_STATUS,\n        cons!CMGT_REFID_EVENT_TYPE_TASK_UPDATE_DUE_DATE\n      },\n      fv!value\n    ),\n    then: #\"urn:appian:translation-string:v1:0c505a3f-efa5-4335-8a88-38e6b58fabcf\"(\n      #\"urn:appian:translation-variable:v1:71b17c88-e24f-4229-b8ac-1b067deda73f\": local!details.taskBehaviorType\n    ),\n    default: local!details.value\n  )\n)"
    },
    "_a-0000e9d3-70bf-8000-9bbd-011c48011c48_180568": {
      "name": "CMGT_UTIL_IsNotBlank",
      "type": "Expression Rule",
      "sail_code": "not(rule!CMGT_UTIL_IsBlank(ri!input))"
    },
    "_a-0000ea2f-ac11-8000-9bf4-011c48011c48_588925": {
      "name": "CMGT_UTIL_DisplayUserFullName",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(a!isNotNullOrEmpty(ri!username), isusernametaken(ri!username)),\n  concat(\n    user(ri!username, \"firstName\"),\n    \" \",\n    user(ri!username, \"lastName\")\n  ),\n  ri!username\n)"
    },
    "_a-0000e9c0-fc38-8000-9bb5-011c48011c48_126719": {
      "name": "CMGT_UTIL_DisplayDueDate",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!dueDisplay: rule!CMGT_UTIL_FormatDueDate(\n    dueOn: ri!dueOn,\n    iconSize: ri!size,\n    brandingMap: ri!brandingMap,\n    showAsOverdueWhen: ri!showAsOverdueWhen\n  ),\n  local!textColor: a!defaultValue(\n    ri!overrideTextColor,\n    if(\n      and(\n        ri!dueOn < now(),\n        ri!showAsOverdueWhen,\n        a!isNotNullOrEmpty(ri!dueOn)\n      ),\n      ri!brandingMap.StandardTextColor,\n      a!defaultValue(\n        ri!defaultTextColor,\n        ri!brandingMap.StandardTextColor\n      )\n    )\n  ),\n  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n    label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Due Date\"),\n    labelPosition: \"COLLAPSED\",\n    value: {\n      index(local!dueDisplay, \"icon\", null),\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: {\n          if(\n            a!isNotNullOrEmpty(index(local!dueDisplay, \"icon\", null), ),\n            char(32),\n            {}\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: { ri!additionalText, \" \" },\n            showWhen: and(\n              a!isNotNullOrEmpty(ri!additionalText),\n              ri!dueOn > now(),\n              or(\n                a!isNotNullOrEmpty(ri!dueOn),\n                ri!showIcon = false()\n              )\n            ),\n            color: local!textColor,\n            size: ri!size\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: index(local!dueDisplay, \"text\", null),\n            color: local!textColor,\n            size: ri!size,\n            style: ri!style\n          )\n        }\n      )\n    },\n    showWhen: ri!showWhen,\n    align: ri!align\n  )\n)"
    },
    "_a-0000ea95-307e-8000-9c1a-011c48011c48_937953": {
      "name": "CMGT_Case_Sub_SuggestedCasesDetailsSmall",
      "type": "Interface",
      "sail_code": "{\n  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n    label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Case Identitifer\"),\n    labelPosition: \"COLLAPSED\",\n    value: {\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: {\n          ri!case[recordType!CMGT_Case.friendlyId],\n          \" \",\n          ri!case[recordType!CMGT_Case.title],\n\n        },\n        color: ri!brandingMap.StandardTextColor,\n        size: \"STANDARD\",\n        style: \"STRONG\"\n      ),\n\n    },\n    preventWrapping: true,\n    marginBelow: \"EVEN_LESS\"\n  ),\n  #\"SYSTEM_SYSRULES_tagField\"(\n    label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Case Staus\"),\n    labelPosition: \"COLLAPSED\",\n    tags: #\"SYSTEM_SYSRULES_tagItem\"(\n      text: ri!case[recordType!CMGT_Case.status.statusLabel],\n      backgroundColor: rule!CMGT_UTIL_DisplayBranding(\n        brandingMap: ri!brandingMap,\n        key: ri!case[recordType!CMGT_Case.status.softColor]\n      ),\n      textColor: rule!CMGT_UTIL_DisplayBranding(\n        brandingMap: ri!brandingMap,\n        key: ri!case[recordType!CMGT_Case.status.textColor]\n      )\n    ),\n    size: \"SMALL\"\n  ),\n  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n    value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n      text: #\"urn:appian:translation-string:v1:47c0f678-c7ec-47ad-ac82-1751a615f89c\"(\n        #\"urn:appian:translation-variable:v1:9162e0ba-fea7-496d-8944-cd3d29902607\": rule!CMGT_UTIL_FormatDateTime(\n          dateTime: ri!case[recordType!CMGT_Case.modifiedOn],\n          convertToSystemTimeZone: true\n        )\n      ),\n      color: ri!brandingMap.SecondaryTextColor,\n      size: \"SMALL\"\n    )\n  )\n}"
    },
    "_a-0000e9dc-ab93-8000-9bc2-011c48011c48_205262": {
      "name": "CMGT_UTIL_CustomPaging",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_richTextDisplayField\"(\n  labelPosition: \"COLLAPSED\",\n  value: {\n    #\"SYSTEM_SYSRULES_richTextIcon\"(\n      icon: \"angle-double-left\",\n      altText: if(\n        ri!pagingInfo.startIndex = 1,\n        {},\n        #\"urn:appian:translation-string:v1:ed587018-95bf-4158-b3aa-49f5ce54059a\"\n      ),\n      link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n        saveInto: { a!save(ri!pagingInfo.startIndex, 1) },\n        showWhen: not(ri!pagingInfo.startIndex = 1)\n      ),\n      linkStyle: \"STANDALONE\",\n      color: if(\n        ri!pagingInfo.startIndex = 1,\n        ri!brandingMap.SecondaryTextColor,\n        ri!brandingMap.AccentColor\n      ),\n      size: ri!size\n    ),\n    #\"SYSTEM_SYSRULES_richTextIcon\"(\n      icon: \"angle-left\",\n      altText: if(\n        ri!pagingInfo.startIndex = 1,\n        {},\n        #\"urn:appian:translation-string:v1:577b13c4-f7eb-4811-b548-f8cf995c101a\"\n      ),\n      link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n        saveInto: {\n          a!save(\n            ri!pagingInfo.startIndex,\n            max(\n              1,\n              ri!pagingInfo.startIndex - ri!pagingInfo.batchSize\n            )\n          )\n        },\n        showWhen: not(ri!pagingInfo.startIndex = 1)\n      ),\n      linkStyle: \"STANDALONE\",\n      color: if(\n        ri!pagingInfo.startIndex = 1,\n        ri!brandingMap.SecondaryTextColor,\n        ri!brandingMap.AccentColor\n      ),\n      size: ri!size\n    ),\n    \" \",\n    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n      text: {\n        min(ri!pagingInfo.startIndex, ri!totalCount),\n        \" - \",\n        min(\n          ri!pagingInfo.startIndex + ri!pagingInfo.batchSize - 1,\n          ri!totalCount\n        )\n      },\n      size: ri!size,\n      style: \"STRONG\"\n    ),\n    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n      text: {\n        \" \",\n        #\"urn:appian:translation-string:v1:163f6484-a689-4dc0-a84a-23eba79ab2c1\",\n        \" \",\n        text(ri!totalCount, \"###,###,###,###,###\")\n      },\n      size: ri!size\n    ),\n    \" \",\n    #\"SYSTEM_SYSRULES_richTextIcon\"(\n      icon: \"angle-right\",\n      altText: if(\n        ri!pagingInfo.startIndex + ri!pagingInfo.batchSize - 1 >= ri!totalCount,\n        {},\n        #\"urn:appian:translation-string:v1:358b472b-b442-4c8f-a00b-c9e5427a2ded\"\n      ),\n      link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n        saveInto: {\n          a!save(\n            ri!pagingInfo.startIndex,\n            ri!pagingInfo.startIndex + ri!pagingInfo.batchSize\n          )\n        },\n        showWhen: not(\n          ri!pagingInfo.startIndex + ri!pagingInfo.batchSize - 1 >= ri!totalCount\n        )\n      ),\n      linkStyle: \"STANDALONE\",\n      color: if(\n        ri!pagingInfo.startIndex + ri!pagingInfo.batchSize - 1 >= ri!totalCount,\n        ri!brandingMap.SecondaryTextColor,\n        ri!brandingMap.AccentColor\n      ),\n      size: ri!size\n    ),\n    #\"SYSTEM_SYSRULES_richTextIcon\"(\n      icon: \"angle-double-right\",\n      altText: if(\n        ri!pagingInfo.startIndex + ri!pagingInfo.batchSize - 1 >= ri!totalCount,\n        {},\n        #\"urn:appian:translation-string:v1:9d646fda-f9c2-461b-992a-ca32d38f237b\"\n      ),\n      link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n        saveInto: {\n          a!save(\n            ri!pagingInfo.startIndex,\n            if(\n              mod(ri!totalCount, ri!pagingInfo.batchSize) = 0,\n              ri!totalCount - ri!pagingInfo.batchSize + 1,\n              ri!totalCount - mod(ri!totalCount, ri!pagingInfo.batchSize) + 1\n            )\n          )\n        },\n        showWhen: not(\n          ri!pagingInfo.startIndex + ri!pagingInfo.batchSize - 1 >= ri!totalCount\n        )\n      ),\n      linkStyle: \"STANDALONE\",\n      color: if(\n        ri!pagingInfo.startIndex + ri!pagingInfo.batchSize - 1 >= ri!totalCount,\n        ri!brandingMap.SecondaryTextColor,\n        ri!brandingMap.AccentColor\n      ),\n      size: ri!size\n    )\n  },\n  showWhen: ri!totalCount > 0,\n  align: \"RIGHT\"\n)"
    },
    "_a-0000e9a5-4cb8-8000-9bac-011c48011c48_84066": {
      "name": "CMGT_SitePage_Workspace_InternalUser",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!brandingMap: rule!CMGT_UTIL_LoadBrandingMap(),\n  local!loggedInUser: loggedInUser(),\n  local!triggerRefresh: a!refreshVariable(\n    value: now(),\n    refreshAfter: \"RECORD_ACTION\"\n  ),\n  local!caseAssigneeLogicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n    operator: \"AND\",\n    filters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_Case.roles.userAssignee,\n        operator: \"=\",\n        value: local!loggedInUser\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_Case.statusId,\n        operator: \"<>\",\n        value: cons!CMGT_REFID_STATUS_CASE_CLOSED\n      )\n    }\n  ),\n  local!recentCases: rule!CMGT_QR_GetCase(\n    additionalLogicalExpression: local!caseAssigneeLogicalExpression,\n    fields: {\n      recordType!CMGT_Case.status,\n      recordType!CMGT_Case.priority,\n      recordType!CMGT_Case.createdByUser\n    },\n    includeAssignees: true,\n    includePrimaryContact: true,\n    pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n      startIndex: 1,\n      batchSize: cons!CMGT_INT_BATCH_SIZE_CARD_SMALL,\n      sort: {\n        #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!CMGT_Case.dueOnSortOrder,\n          ascending: true\n        ),\n        #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!CMGT_Case.dueOn,\n          ascending: true\n        )\n      }\n    )\n  ),\n  local!businessGroups: a!refreshVariable(\n    value: a!groupMembers(\n      group: cons!CMGT_GRP_BUSINESS_GROUPS,\n      memberType: \"GROUP\"\n    ).data,\n    refreshOnReferencedVarChange: false\n  ),\n  local!userGroupsToFilter: intersection(\n    togroup(local!businessGroups),\n    a!groupsForUser(loggedInUser())\n  ),\n  local!taskTabs: rule!CMGT_Task_EvaluateDataForDisplay(userGroups: local!userGroupsToFilter),\n  local!selectedTaskTab: 1,\n  local!metrics,\n  local!phone: { \"PHONE\" },\n  local!isPhone: #\"SYSTEM_SYSRULES_isPageWidth\"(local!phone),\n  #\"SYSTEM_SYSRULES_headerContentLayout\"(\n    header: {},\n    contents: {\n      #\"SYSTEM_SYSRULES_cardLayout\"(\n        contents: {\n          #\"SYSTEM_SYSRULES_columnsLayout\"(\n            columns: {\n              #\"SYSTEM_SYSRULES_columnLayout\"(\n                contents: {\n                  /*Quick Links*/\n                  rule!CMGT_Workspace_InternalUser_Sub_QuickLinks(brandingMap: local!brandingMap),\n                  /*Latest Updates*/\n                  rule!CMGT_UTIL_HeaderField(\n                    label: #\"urn:appian:translation-string:v1:2d969cfc-8acd-48ff-b6a7-46cd4b6e90dc\",\n                    divider: \"NONE\",\n                    brandingMap: local!brandingMap,\n                    marginBelow: \"NONE\"\n                  ),\n                  rule!CMGT_EventHistory_Sub_LatestUpdates(\n                    brandingMap: local!brandingMap,\n                    isPhone: local!isPhone\n                  )\n                },\n                width: \"NARROW_PLUS\"\n              ),\n              #\"SYSTEM_SYSRULES_columnLayout\"(\n                contents: #\"SYSTEM_SYSRULES_columnsLayout\"(\n                  columns: {\n                    #\"SYSTEM_SYSRULES_columnLayout\"(\n                      contents: {\n                        /*My Cases*/\n                        rule!CMGT_UTIL_HeaderField(\n                          label: #\"urn:appian:translation-string:v1:25a60250-ed07-4581-9e56-1e84702adee8\",\n                          divider: \"NONE\",\n                          rightSideContents: {\n                            #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                              items: {\n                                #\"SYSTEM_SYSRULES_sideBySideItem\"(),\n                                #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                                  item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                    labelPosition: \"COLLAPSED\",\n                                    value: {\n                                      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                        text: #\"urn:appian:translation-string:v1:5d80b586-40a7-4438-aabb-e6c7e5d19122\",\n                                        link: #\"SYSTEM_SYSRULES_safeLink\"(\n                                          uri: a!urlForSite(sitePage: rule!CMGT_SITE_PAGE_CASES()),\n                                          openLinkIn: \"SAME_TAB\"\n                                        ),\n                                        linkStyle: \"STANDALONE\"\n                                      )\n                                    },\n                                    align: \"RIGHT\"\n                                  ),\n                                  width: \"MINIMIZE\"\n                                )\n                              }\n                            )\n                          },\n                          brandingMap: local!brandingMap,\n                          marginBelow: \"NONE\"\n                        ),\n                        if(\n                          a!isNullOrEmpty(local!recentCases),\n                          #\"SYSTEM_SYSRULES_cardLayout\"(\n                            contents: {\n                              #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                value: {\n                                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                    text: #\"urn:appian:translation-string:v1:e0a8b2dd-4ac9-463f-9d0a-a591599ae3c3\",\n                                    color: local!brandingMap.SecondaryTextColor,\n                                    style: \"EMPHASIS\"\n                                  )\n                                },\n                                align: \"CENTER\"\n                              )\n                            },\n                            style: local!brandingMap.CardBackgroundColor,\n                            shape: local!brandingMap.CardShape,\n                            padding: \"EVEN_MORE\",\n                            marginBelow: \"STANDARD\",\n                            showBorder: local!brandingMap.CardShowBorder,\n                            showShadow: local!brandingMap.CardShowShadow\n                          ),\n                          rule!CMGT_UTIL_CardGroupHandler(\n                            maxPerRow: if(\n                              #\"SYSTEM_SYSRULES_isPageWidth\"({ \"DESKTOP_NARROW\", \"TABLET_PORTRAIT\" }),\n                              2,\n                              if(local!isPhone, 1, 3)\n                            ),\n                            cardLayouts: {\n                              #\"SYSTEM_SYSRULES_forEach\"(\n                                items: local!recentCases,\n                                expression: #\"SYSTEM_SYSRULES_cardLayout\"(\n                                  contents: {\n                                    rule!CMGT_Case_Sub_DetailsSmall(\n                                      case: fv!item,\n                                      showRecordLink: false,\n                                      brandingMap: local!brandingMap\n                                    )\n                                  },\n                                  link: #\"SYSTEM_SYSRULES_recordLink\"(\n                                    recordType: recordType!CMGT_Case,\n                                    identifier: fv!item[recordType!CMGT_Case.caseId]\n                                  ),\n                                  style: local!brandingMap.CardBackgroundColor,\n                                  shape: local!brandingMap.CardShape,\n                                  showBorder: local!brandingMap.CardShowBorder,\n                                  showShadow: local!brandingMap.CardShowShadow\n                                )\n                              )\n                            }\n                          )\n                        ),\n                        /*My Tasks*/\n                        rule!CMGT_UTIL_HeaderField(\n                          label: #\"urn:appian:translation-string:v1:1411ee2d-e580-4a80-8cfc-5fa873b9ec86\",\n                          divider: \"NONE\",\n                          brandingMap: local!brandingMap,\n                          marginBelow: \"NONE\"\n                        ),\n                        #\"SYSTEM_SYSRULES_cardLayout\"(\n                          contents: {\n                            rule!CMGT_UTIL_TabLayout(\n                              tabs: local!taskTabs,\n                              activeTab: local!selectedTaskTab,\n                              brandingMap: local!brandingMap,\n                              metrics: local!metrics\n                            ),\n                            #\"SYSTEM_SYSRULES_cardLayout\"(\n                              contents: {\n                                rule!CMGT_Task_RecordGrid(\n                                  logicalExpression: local!taskTabs[local!selectedTaskTab].taskLogicalExpression,\n                                  label: #\"urn:appian:translation-string:v1:1411ee2d-e580-4a80-8cfc-5fa873b9ec86\",\n                                  showFilters: not(local!selectedTaskTab = 1),\n                                  showSearchBox: true,\n                                  showStatusFilter: false,\n                                  showAssigneeFilter: true,\n                                  showRefresh: false(),\n                                  pageSize: cons!CMGT_INT_BATCH_SIZE_LARGE,\n                                  borderStyle: \"LIGHT\",\n                                  triggerRefresh: local!triggerRefresh,\n                                  brandingMap: local!brandingMap,\n                                  initialSorts: {\n                                    #\"SYSTEM_SYSRULES_sortInfo\"(\n                                      field: recordType!CMGT_Task.status.sortOrder,\n                                      ascending: true\n                                    ),\n                                    #\"SYSTEM_SYSRULES_sortInfo\"(\n                                      field: recordType!CMGT_Task.dueOnSortOrder,\n                                      ascending: true\n                                    ),\n                                    #\"SYSTEM_SYSRULES_sortInfo\"(\n                                      field: recordType!CMGT_Task.dueOn,\n                                      ascending: true\n                                    )\n                                  },\n                                  context: if(\n                                    local!selectedTaskTab = 1,\n                                    \"MY_TASK_VIEW\",\n                                    \"MY_SHARED_QUEUE\"\n                                  )\n                                )\n                              },\n                              showBorder: false,\n                              style: \"TRANSPARENT\"\n                            )\n                          },\n                          style: local!brandingMap.CardBackgroundColor,\n                          shape: local!brandingMap.CardShape,\n                          padding: \"NONE\",\n                          showBorder: local!brandingMap.CardShowBorder,\n                          showShadow: local!brandingMap.CardShowShadow\n                        )\n                      },\n                      width: \"AUTO\"\n                    ),\n                    #\"SYSTEM_SYSRULES_columnLayout\"(\n                      contents: {\n                        /*My Work In Progress*/\n                        rule!CMGT_Workspace_InternalUser_Sub_MyWorkInProgress(\n                          triggerRefresh: local!triggerRefresh,\n                          loggedInUser: local!loggedInUser,\n                          brandingMap: local!brandingMap\n                        ),\n                        /*Calendar*/\n                        rule!CMGT_Workspace_InternalUser_Sub_CalendarDisplay(\n                          loggedInUser: local!loggedInUser,\n                          brandingMap: local!brandingMap\n                        )\n                      },\n                      width: \"NARROW_PLUS\"\n                    )\n                  },\n                  stackWhen: {\n                    \"TABLET_LANDSCAPE\",\n                    \"TABLET_PORTRAIT\",\n                    local!phone\n                  }\n                )\n              )\n            }\n          ),\n          #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            labelPosition: \"COLLAPSED\",\n            value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: {\n                #\"urn:appian:translation-string:v1:58f8fdf4-83a5-4464-9171-8bc5411d93e1\"(\n                  #\"urn:appian:translation-variable:v1:2076c4a6-f99d-4edc-b115-26c836ac0359\": joinarray(\n                    tointeger(\n                      split(\n                        cons!CMGT_VRS_CASE_MANAGEMENT_BASE_APPLICATION,\n                        \".\"\n                      )\n                    ),\n                    \".\"\n                  )\n                )\n              },\n              color: local!brandingMap.SecondaryTextColor\n            ),\n            align: \"CENTER\",\n            marginAbove: \"MORE\",\n            marginBelow: \"MORE\"\n          )\n        },\n        style: \"TRANSPARENT\",\n        padding: \"NONE\",\n        marginAbove: \"NONE\",\n        showBorder: false\n      )\n    },\n    backgroundColor: local!brandingMap.DefaultBackgroundColor,\n    contentsPadding: \"STANDARD\"\n  )\n)"
    },
    "_a-0000e9a5-4cb8-8000-9bac-011c48011c48_73098": {
      "name": "CMGT_SitePage_Cases",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!brandingMap: rule!CMGT_UTIL_LoadBrandingMap(),\n  local!suggestedCases: rule!CMGT_QR_GetCase(\n    fields: {\n      recordType!CMGT_Case.status\n    },\n    excludeRelatedRecords: true,\n    additionalFilters: #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Case.modifiedBy,\n      operator: \"=\",\n      value: loggedInUser()\n    ),\n    returnType: \"OBJECT_ARRAY\",\n    pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n      startIndex: 1,\n      batchSize: 5,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_Case.modifiedOn,\n        ascending: false\n      )\n    )\n  ),\n  #\"SYSTEM_SYSRULES_headerContentLayout\"(\n    contents: {\n      rule!CMGT_UTIL_HeaderField(\n        label: #\"urn:appian:translation-string:v1:c750f1f2-e7b8-4b75-b1b3-017fc218be26\",\n        labelSize: \"LARGE\",\n        labelColor: local!brandingMap.StandardTextColor,\n        brandingMap: local!brandingMap,\n        marginAbove: \"NONE\",\n        divider: \"NONE\",\n        marginBelow: \"NONE\",\n        rightSideContents: {\n          #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n            actions: #\"SYSTEM_SYSRULES_recordActionItem\"(\n              action: #\"urn:appian:record-action:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/484c73e3-b6f9-422f-afc7-d19f793a16b5\"\n            ),\n            style: \"TOOLBAR_PRIMARY\",\n            align: \"END\"\n          )\n        }\n      ),\n      rule!CMGT_UTIL_HeaderField(\n        label: #\"urn:appian:translation-string:v1:e5d1b47e-d320-4757-af9f-958c41e9d681\",\n        brandingMap: local!brandingMap,\n        marginAbove: \"NONE\",\n        divider: \"NONE\",\n        marginBelow: \"NONE\",\n        showWhen: a!isNotNullOrEmpty(local!suggestedCases)\n      ),\n      rule!CMGT_UTIL_CardGroupHandler(\n        maxPerRow: 5,\n        cardLayouts: {\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!suggestedCases,\n            expression: #\"SYSTEM_SYSRULES_cardLayout\"(\n              contents: {\n                rule!CMGT_Case_Sub_SuggestedCasesDetailsSmall(\n                  case: fv!item,\n                  brandingMap: local!brandingMap\n                )\n              },\n              link: #\"SYSTEM_SYSRULES_recordLink\"(\n                recordType: recordType!CMGT_Case,\n                identifier: fv!item[recordType!CMGT_Case.caseId]\n              ),\n              style: local!brandingMap.CardBackgroundColor,\n              shape: local!brandingMap.CardShape,\n              showBorder: local!brandingMap.CardShowBorder,\n              showShadow: local!brandingMap.CardShowShadow\n            )\n          )\n        }\n      ),\n      rule!CMGT_UTIL_HeaderField(\n        label: #\"urn:appian:translation-string:v1:265522d7-92e5-43ad-a1f4-be35fbd831ca\",\n        brandingMap: local!brandingMap,\n        marginAbove: \"NONE\",\n        divider: \"NONE\",\n        marginBelow: \"NONE\"\n      ),\n      #\"SYSTEM_SYSRULES_cardLayout\"(\n        style: local!brandingMap.CardBackgroundColor,\n        showBorder: local!brandingMap.CardShowBorder,\n        showShadow: local!brandingMap.CardShowShadow,\n        shape: local!brandingMap.CardShape,\n        contents: {\n          rule!CMGT_Case_RecordGrid(\n            label: #\"urn:appian:translation-string:v1:c750f1f2-e7b8-4b75-b1b3-017fc218be26\",\n            showMetaData: true,\n            context: \"CASES_PAGE\",\n            showExportButton: true,\n            brandingMap: local!brandingMap\n          )\n        }\n      )\n    },\n    backgroundColor: local!brandingMap.DefaultBackgroundColor\n  )\n)"
    },
    "_a-0000ebb3-5308-8000-9cab-011c48011c48_2127996": {
      "name": "CMGT_LA_Email_MessageCreationEmails",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!brandingMap: rule!CMGT_LA_UTIL_LoadBrandingMap(),\n  local!createdComments: a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!comments,\n      expression: if(\n        and(\n          /*   Email should be sent only when a message is added       */\n          fv!item[recordType!CMGT_Comment.createdOn] = fv!item[recordType!CMGT_Comment.modifiedOn],\n          /*     Email should be sent only  for the public comments  i.e)Messages */\n          fv!item[recordType!CMGT_Comment.isPrivate] = false()\n        ),\n        fv!item,\n        {}\n      )\n    )\n  ),\n  rule!CMGT_UTIL_RejectBlank(\n    {\n      rule!CMGT_LA_Email_EmailSettingMap_MessageCreation_NotifyLimitedAccessUser(\n        comments: local!createdComments,\n        brandingMap: local!brandingMap\n      ),\n      rule!CMGT_LA_Email_EmailSettingMap_CommentCreation_NotifyCaseAssignees(\n        comments: local!createdComments,\n        brandingMap: local!brandingMap\n      )\n    }\n  )\n)"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_576741": {
      "name": "CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch",
      "type": "Expression Rule",
      "sail_code": "if(\n  cons!CMGT_BOL_AUTOMATION_TESTING_LABEL_SWITCH,\n  ri!testingLabel,\n  ri!shipmentLabel\n)"
    },
    "_a-0000eeba-7a31-8000-9dbb-011c48011c48_4845514": {
      "name": "CMGT_SMS_AI_GetTopSmartSearchResults",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!casesMap: if(\n    rule!CMGT_UTIL_IsBlank(\n      value: ri!cases\n    ),\n    null(),\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!cases,\n      expression: a!map(\n        context: \"CASES\",\n        data: fv!item/*Incorporation point - cases*/\n        ,\n        similarityScore: fv!item[#\"urn:appian:record-search-results:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/allSearchFields/similarityScore\"]\n      )\n    )\n  ),\n  local!tasksMap: if(\n    rule!CMGT_UTIL_IsBlank(\n      value: ri!tasks\n    ),\n    null(),\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!tasks,\n      expression: a!map(\n        context: \"TASKS\",\n        data: fv!item,\n        /*Incorporation point - tasks*/\n        similarityScore: fv!item[#\"urn:appian:record-search-results:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/allSearchFields/similarityScore\"]\n      )\n    )\n  ),\n  todatasubset(\n    arrayToPage: rule!CMGT_UTIL_RejectBlank(\n      array: {\n        local!casesMap,\n        local!tasksMap\n      }\n    ),\n    pagingConfiguration: #\"SYSTEM_SYSRULES_pagingInfo\"(\n      startIndex: 1,\n      batchSize: 10,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: \"similarityScore\",\n        ascending: false()\n      )\n    )\n  )\n)"
    },
    "_a-0000e9fa-aa45-8000-9bda-011c48011c48_293777": {
      "name": "CMGT_CaseEventHistory_Constructor",
      "type": "Expression Rule",
      "sail_code": "recordType!CMGT_EventHistory_Case(\n  recordType!CMGT_EventHistory_Case.caseId: ri!caseId,\n  recordType!CMGT_EventHistory_Case.timestamp: a!defaultValue(value: ri!timestamp, default: now()),\n  recordType!CMGT_EventHistory_Case.username: rule!CMGT_formatEventInitiator(initiator: ri!initiator),\n  recordType!CMGT_EventHistory_Case.caseEventTypeId: ri!eventTypeId,\n  recordType!CMGT_EventHistory_Case.details: if(\n    a!isNotNullOrEmpty(ri!details),\n    #\"SYSTEM_SYSRULES_toJson_v1\"(\n      value: ri!details,\n      removeNullOrEmptyFields: false\n    ),\n    null\n  )\n)"
    },
    "_a-0000ebaa-19ba-8000-9ca6-011c48011c48_2107131": {
      "name": "CMGT_LA_Message_Sub_MessageInput",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!isUserInternal: #\"urn:appian:function:v1:a:isusermemberofgroup?okey=a!isUserMemberOfGroup\"(\n    loggedInUser(),\n    cons!CMGT_GRP_INTERNAL_USERS\n  ),\n  local!tagUserOptions: if(\n    local!isUserInternal,\n    rule!CMGT_UTIL_RejectBlank(\n      array: {\n        /*internal users*/\n        a!groupMembers(\n          group: cons!CMGT_GRP_INTERNAL_USERS,\n          memberType: \"USER\",\n          pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n            startIndex: 1,\n            batchSize: 5000,\n            sort: #\"SYSTEM_SYSRULES_sortInfo\"(field: \"username\", ascending: true)\n          )\n        ).data,\n        /*list of external users related to the case - fetch from role table*/\n        rule!CMGT_QR_GetRole(\n          caseId: ri!caseId,\n          additionalFilters: {\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Role.taskId,\n              operator: \"is null\"\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Role.roleTypeId,\n              operator: \"=\",\n              value: cons!CMGT_LA_REFID_ROLE_TYPE_SUBMITTER/*role type for limited access case creators/claimers*/\n\n            )\n          },\n\n        )[#\"urn:appian:record-field:v1:6799d796-883e-49ff-8975-297d87e40756/6f0c8dbc-95d2-4ba7-9fb5-f0916efa0f08/SYSTEM_RECORD_TYPE_USER_FIELD_username\"]\n      }\n    ),\n    {}\n  ),\n  {\n    #\"SYSTEM_SYSRULES_cardLayout\"(\n      contents: {\n        rule!CMGT_UTIL_RichTextField(\n          value: ri!comment[recordType!CMGT_Comment.commentText],\n          maxSize: cons!CMGT_INT_MAX_CHAR_LIMIT_LARGE,\n          label: #\"urn:appian:translation-string:v1:15a80821-8cd6-4134-afae-d7c7ba67383e\",\n          labelPosition: \"ABOVE\",\n          required: ri!required,\n          placeholder: null()\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n          items: {\n            #\"SYSTEM_SYSRULES_sideBySideItem\"(\n              item: #\"SYSTEM_SYSRULES_fileUploadField_v1\"(\n                label: #\"urn:appian:translation-string:v1:92c4beb2-5236-4bb9-b909-b6aebf68db4f\",\n                labelPosition: \"ABOVE\",\n                target: cons!CMGT_FLD_TEMPORARY_DOCUMENTS,\n                value: rule!CMGT_UTIL_Filter(\n                  records: ri!comment[recordType!CMGT_Comment.commentDocumentMap],\n                  field: recordType!CMGT_CommentDocumentMap.documentId,\n                  value: null\n                )[recordType!CMGT_CommentDocumentMap.document.appianDocId],\n                saveInto: {\n                  rule!CMGT_Comment_Sub_ManageUi_CommentDocumentMaps_NewDocument_SaveLogic(\n                    commentDocumentMaps: ri!comment[recordType!CMGT_Comment.commentDocumentMap],\n                    caseId: ri!caseId,\n                    comment: ri!comment\n                  )\n                },\n                validations: {}\n              )\n            ),\n            #\"SYSTEM_SYSRULES_sideBySideItem\"(\n              item: #\"SYSTEM_SYSRULES_pickerFieldRecords_v2\"(\n                label: #\"urn:appian:translation-string:v1:8578cfc4-055e-42d4-98d0-ad7787947283\",\n                maxSelections: 10,\n                recordType: recordType!CMGT_Document,\n                filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                  operator: \"AND\",\n                  filters: {\n                    #\"SYSTEM_SYSRULES_queryFilter\"(\n                      field: recordType!CMGT_Document.case.caseId,\n                      operator: \"=\",\n                      value: ri!caseId\n                    ),\n                    #\"SYSTEM_SYSRULES_queryFilter\"(\n                      field: recordType!CMGT_Document.isPrivate,\n                      operator: \"=\",\n                      value: false\n                    )\n                  }\n                ),\n                value: rule!CMGT_UTIL_Filter(\n                  records: ri!comment[recordType!CMGT_Comment.commentDocumentMap],\n                  field: recordType!CMGT_CommentDocumentMap.isActive,\n                  value: true\n                )[recordType!CMGT_CommentDocumentMap.documentId],\n                saveInto: rule!CMGT_Comment_Sub_ManageUi_CommentDocumentMaps_SaveLogic(\n                  commentDocumentMaps: ri!comment[recordType!CMGT_Comment.commentDocumentMap],\n                  commentId: ri!comment[recordType!CMGT_Comment.commentId]\n                ),\n                required: false,\n                showRecordLinks: false\n              ),\n              width: \"AUTO\"\n            ),\n            #\"SYSTEM_SYSRULES_sideBySideItem\"(\n              item: #\"SYSTEM_SYSRULES_pickerFieldCustom\"(\n                label: #\"urn:appian:translation-string:v1:0b953bc4-11e9-4280-8b38-439edcae244e\",\n                maxSelections: 10,\n                suggestFunction: rule!CMGT_LA_suggestUsersToTagOnAMessage(\n                  searchText: _,\n                  options: local!tagUserOptions\n                ),\n                selectedLabels: rule!CMGT_UTIL_Filter(\n                  records: ri!comment[recordType!CMGT_Comment.userTags],\n                  field: recordType!CMGT_CommentUserTag.isActive,\n                  value: true\n                )[recordType!CMGT_CommentUserTag.username],\n                value: rule!CMGT_UTIL_Filter(\n                  records: ri!comment[recordType!CMGT_Comment.userTags],\n                  field: recordType!CMGT_CommentUserTag.isActive,\n                  value: true\n                )[recordType!CMGT_CommentUserTag.username],\n                saveInto: rule!CMGT_Comment_Sub_ManageUi_CommentUserTags_SaveLogic(\n                  commentUserTags: ri!comment[recordType!CMGT_Comment.userTags],\n                  commentId: ri!comment[recordType!CMGT_Comment.commentId]\n                ),\n                required: false\n              ),\n              width: \"AUTO\",\n              /*internal users can only tag*/\n              showWhen: local!isUserInternal\n            ),\n            #\"SYSTEM_SYSRULES_sideBySideItem\"(\n              item: a!localVariables(\n                local!buttonAccessibilityText: if(\n                  /*Check if the comment has a parent comment*/\n                  rule!CMGT_UTIL_IsBlank(\n                    value: ri!comment[recordType!CMGT_Comment.parentCommentId]\n                  ),\n                  /*if there is no parent comment, display new thread accessibility text*/\n                  #\"urn:appian:translation-string:v1:6e8ba408-6654-4107-b5ae-719de0bc6c6d\",\n                  /*if there is a parent comment, display reply accessibility text*/\n                  #\"urn:appian:translation-string:v1:92a381e8-e7ec-4793-8481-99f4719ac831\"(\n                    #\"urn:appian:translation-variable:v1:b6d67e7e-d7b2-4fa9-b8b8-a2821f42eb9a\": ri!comment[#\"urn:appian:record-field:v1:e57250b0-f216-4a23-afd9-39e7d532d302-cmgt/13981ce1-0a74-483a-9cb5-d779e70b8c6d/f1bcb252-9f3e-40ce-bb79-5a8359cef95d-cmgt/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\"]\n                  )\n                ),\n                #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n                  marginAbove: \"STANDARD\",\n                  buttons: {\n                    #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                      label: #\"urn:appian:translation-string:v1:78ce0929-a093-462b-a1b8-4a9da85be651\",\n                      saveInto: ri!onSubmitSaves,\n                      size: \"SMALL\",\n                      style: \"LINK\",\n                      validate: false,\n                      accessibilityText: local!buttonAccessibilityText\n                    ),\n                    #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                      label: #\"urn:appian:translation-string:v1:15a80821-8cd6-4134-afae-d7c7ba67383e\",\n                      saveInto: {\n                        #\"SYSTEM_SYSRULES_submitUploadedFiles\"(\n                          documents: rule!CMGT_UTIL_Filter(\n                            records: ri!comment[recordType!CMGT_Comment.commentDocumentMap],\n                            field: recordType!CMGT_CommentDocumentMap.documentId,\n                            value: null\n                          )[recordType!CMGT_CommentDocumentMap.document.appianDocId]\n                        ),\n                        #\"SYSTEM_SYSRULES_startProcess\"(\n                          processModel: cons!CMGT_LA_PM_MESSAGE_CREATE_UPDATE,\n                          processParameters: { comments: ri!comment },\n                          onSuccess: ri!onSubmitSaves\n                        )\n                      },\n                      size: \"SMALL\",\n                      style: \"SOLID\",\n                      disabled: rule!CMGT_UTIL_IsBlank(\n                        ri!comment[recordType!CMGT_Comment.commentText]\n                      ),\n                      validate: true,\n                      accessibilityText: local!buttonAccessibilityText\n                    )\n                  },\n                  align: \"END\",\n                  marginBelow: \"NONE\"\n                )\n              ),\n              width: \"AUTO\",\n              showWhen: ri!showInlineSaveButton\n            )\n          },\n          alignVertical: \"TOP\",\n          showWhen: a!defaultValue(ri!includeExtraInput, false),\n          stackWhen: { \"PHONE\", \"TABLET_PORTRAIT\" }\n        )\n      },\n      showWhen: ri!showWhen,\n      style: ri!brandingMap.TertiaryBackgroundColor,\n      shape: \"SQUARED\",\n      padding: if(\n        ri!includeExtraInput,\n        \"LESS\",\n        \"EVEN_LESS\"\n      ),\n      showBorder: false\n    )\n  }\n)"
    },
    "_a-0000e99c-1217-8000-9ba9-011c48011c48_61649": {
      "name": "CMGT_UTIL_GetDateFromDateTime",
      "type": "Expression Rule",
      "sail_code": "/*todate and totime function will return the value based on GMT timezone when date and time is passed as input to this functions\nso in order to get the date or time in user's timezone/system time zone using below logic */\nif(\n  a!isNullOrEmpty(value: ri!dateTimeValue),\n  null(),\n  a!localVariables(\n    /*Converting dateTime to system time zone if  convertToSystemTimeZone is passed true */\n    local!dateTimeToFormat: if(\n      ri!convertToSystemTimeZone,\n      rule!CMGT_UTIL_ConvertDateTimeToTimezone(\n        dateTime: ri!dateTimeValue,\n        timezone: rule!CMGT_UTIL_SystemTimezone()\n      ),\n      ri!dateTimeValue\n    ),\n    a!match(\n      value: tostring(userlocale(loggedInUser())),\n      equals: \"en_US\",\n      then: todate(\n        text(local!dateTimeToFormat, \"mm/dd/yyyy\")\n      ),\n      equals: \"ar\",\n      then: text(local!dateTimeToFormat, \"yyyy/mm/dd\"),\n      default: todate(\n        text(local!dateTimeToFormat, \"dd-mm-yyyy\")\n      )\n    )\n  )\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_24762": {
      "name": "CMGT_QR_GetRole",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_Role,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  fields: {\n    ri!fields,\n    recordType!CMGT_Role.usernameUser,\n    recordType!CMGT_Role.roleType,\n    recordType!CMGT_Role.createdByUser,\n    recordType!CMGT_Role.modifiedByUser,\n    recordType!CMGT_Role.case,\n    recordType!CMGT_Role.task\n  },\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Role.caseId,\n      operator: \"in\",\n      value: ri!caseId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Role.taskId,\n      operator: \"=\",\n      value: ri!taskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Role.roleTypeId,\n      operator: \"in\",\n      value: ri!roleTypeId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Role.username,\n      operator: \"in\",\n      value: ri!usernames\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Role.groupId,\n      operator: \"in\",\n      value: ri!groupIds\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Role.roleId,\n      operator: \"in\",\n      value: ri!roleId\n    )\n  },\n  pagingInfo: ri!pagingInfo,\n  groupByFields: ri!groupByFields,\n  sort: a!defaultValue(\n    ri!sort,\n    #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_Role.modifiedOn,\n      ascending: false\n    )\n  ),\n  relatedRecordData: ri!relatedRecordData,\n  logicalExpressions: ri!additionalLogicalExpression,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000eb32-20f6-8000-9c60-011c48011c48_1519812": {
      "name": "CMGT_Comment_Sub_ManageUi_CommentDocumentMaps_NewDocument_SaveLogic",
      "type": "Expression Rule",
      "sail_code": "/*Using the user tags for a comment, \nthis is the save logic used to identify document maps that have been kept, added, and deleted\n*/\na!localVariables(\n  {\n    /*Decipher document maps to keep active and which to create/overwrite*/\n    a!save(\n      ri!commentDocumentMaps,\n      a!localVariables(\n        local!allExistingDocumentMapsForThisComment: rule!CMGT_UTIL_Filter(\n          records: ri!commentDocumentMaps,\n          field: recordType!CMGT_CommentDocumentMap.documentId,\n          value: null,\n          filterType: \"REJECT\"\n        ),\n        local!newCommentDocumentMapRecords: #\"SYSTEM_SYSRULES_forEach\"(\n          items:save!value,\n          expression: recordType!CMGT_CommentDocumentMap(\n            recordType!CMGT_CommentDocumentMap.commentId: ri!comment[recordType!CMGT_Comment.commentId],\n            recordType!CMGT_CommentDocumentMap.documentId: null,\n            recordType!CMGT_CommentDocumentMap.isActive: true,\n            recordType!CMGT_CommentDocumentMap.commentAction: \"UPLOAD\",\n            recordType!CMGT_CommentDocumentMap.document: recordType!CMGT_Document(\n              recordType!CMGT_Document.appianDocId: fv!item,\n              recordType!CMGT_Document.caseId: ri!caseId,\n              recordType!CMGT_Document.taskId: ri!taskId,\n              recordType!CMGT_Document.isPrivate: ri!comment[recordType!CMGT_Comment.isPrivate]\n            )\n          )\n        ),\n\n        /*Flatten back the maps we modified*/\n        a!flatten(\n          {\n            local!allExistingDocumentMapsForThisComment,\n            local!newCommentDocumentMapRecords\n          }\n        )\n      )\n    )\n  }\n)"
    },
    "_a-0000eeb1-4048-8000-9db7-011c48011c48_4825302": {
      "name": "CMGT_SMS_AI_SmartSearchCaseCard",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_cardLayout\"(\n  padding: \"STANDARD\",\n  contents: {\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      alignVertical: \"TOP\",\n      spacing: \"DENSE\",\n      stackWhen: {\n        \"TABLET_PORTRAIT\",\n        \"PHONE\"\n      },\n      showDividers: false,\n      marginBelow: \"STANDARD\",\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_columnsLayout\"(\n              marginBelow: \"NONE\",\n              spacing: \"DENSE\",\n              alignVertical: \"MIDDLE\",\n              columns: {\n                #\"SYSTEM_SYSRULES_columnLayout\"(\n                  width: \"EXTRA_NARROW\",\n                  contents: {\n                    #\"SYSTEM_SYSRULES_stampField\"(\n                      labelPosition: \"COLLAPSED\",\n                      align: if(\n                        #\"SYSTEM_SYSRULES_isPageWidth\"(\n                          \"PHONE\"\n                        ),\n                        \"START\",\n                        \"END\"\n                      ),\n                      shape: \"SEMI_ROUNDED\",\n                      size: \"SMALL\",\n                      text: #\"urn:appian:translation-string:v1:2287610d-a4d0-4f68-8763-3d87082961e0\",\n                      icon: \"clipboard-o\",\n                      backgroundColor: \"#EBF4FF\",\n                      contentColor: \"#0C4283\",\n                      marginBelow: \"NONE\"\n                    )\n                  }\n                ),\n                #\"SYSTEM_SYSRULES_columnLayout\"(\n                  contents: {\n                    #\"SYSTEM_SYSRULES_headingField\"(\n                      text: concat(\n                        ri!case[recordType!CMGT_Case.friendlyId],\n                        char(\n                          32\n                        ),\n                        \"-\",\n                        char(\n                          32\n                        ),\n                        ri!case[recordType!CMGT_Case.title]\n                      ),\n                      size: \"SMALL\",\n                      fontWeight: \"SEMI_BOLD\",\n                      marginBelow: \"EVEN_LESS\"\n                    ),\n                    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                      alignVertical: \"MIDDLE\",\n                      spacing: \"DENSE\",\n                      items: {\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                          width: \"MINIMIZE\",\n                          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                            marginBelow: \"NONE\",\n                            labelPosition: \"COLLAPSED\",\n                            value: {\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: if(\n                                  a!isNullOrEmpty(\n                                    ri!case[recordType!CMGT_Case.caseType.parentCaseType.name]\n                                  ),\n                                  ri!case[recordType!CMGT_Case.caseType.name],\n                                  concat(\n                                    ri!case[recordType!CMGT_Case.caseType.parentCaseType.name],\n                                    char(\n                                      32\n                                    ),\n                                    char(\n                                      8226\n                                    ),\n                                    char(\n                                      32\n                                    ),\n                                    ri!case[recordType!CMGT_Case.caseType.name]\n                                  )\n                                ),\n                                color: ri!brandingMap.StandardTextColor,\n                                size: \"STANDARD\"\n                              )\n                            }\n                          )\n                        )\n                      }\n                    ),\n\n                  }\n                ),\n\n              }\n            )\n          }\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          width: \"NARROW\",\n          contents: {\n            #\"SYSTEM_SYSRULES_tagField\"(\n              align: if(\n                #\"SYSTEM_SYSRULES_isPageWidth\"(\n                  {\n                    \"TABLET_PORTRAIT\",\n                    \"PHONE\"\n                  }\n                ),\n                \"START\",\n                \"END\"\n              ),\n              labelPosition: \"COLLAPSED\",\n              marginBelow: \"NONE\",\n              tags: #\"SYSTEM_SYSRULES_tagItem_v1\"(\n                text: ri!case[recordType!CMGT_Case.status.statusLabel],\n                backgroundColor: rule!CMGT_UTIL_DisplayBranding(\n                  brandingMap: ri!brandingMap,\n                  key: ri!case[recordType!CMGT_Case.status.softColor]\n                ),\n                textColor: rule!CMGT_UTIL_DisplayBranding(\n                  brandingMap: ri!brandingMap,\n                  key: ri!case[recordType!CMGT_Case.status.textColor]\n                )\n              )\n            ),\n\n          }\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n      alignVertical: \"MIDDLE\",\n      stackWhen: {\n        \"TABLET_PORTRAIT\",\n        \"PHONE\"\n      },\n      items: {\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          width: \"MINIMIZE\",\n          item: rule!CMGT_UTIL_DisplayDueDate(\n            dueOn: ri!case[recordType!CMGT_Case.dueOn],\n            brandingMap: ri!brandingMap\n          )\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          width: \"MINIMIZE\",\n          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            label: \"\",\n            labelPosition: \"COLLAPSED\",\n            value: {\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: {\n                  #\"SYSTEM_SYSRULES_richTextIcon\"(\n                    icon: ri!case[recordType!CMGT_Case.priority.icon],\n                    caption: #\"urn:appian:translation-string:v1:daf55019-55a7-4676-87e7-7a6bf456e7dd\",\n                    color: rule!CMGT_UTIL_DisplayBranding(\n                      brandingMap: ri!brandingMap,\n                      key: ri!case[recordType!CMGT_Case.priority.iconColor]\n                    )\n                  ),\n                  \" \",\n                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                    text: ri!case[recordType!CMGT_Case.priority.priorityName]\n                  )\n                },\n                size: \"STANDARD\"\n              )\n            },\n            marginBelow: \"NONE\"\n          )\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n      alignVertical: \"MIDDLE\",\n      stackWhen: {\n        \"TABLET_PORTRAIT\",\n        \"PHONE\"\n      },\n      items: {\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          width: \"MINIMIZE\",\n          item: rule!CMGT_UTIL_DisplayListOfItems(\n            values: rule!CMGT_UTIL_Filter(\n              records: ri!case[recordType!CMGT_Case.roles],\n              field: recordType!CMGT_Role.roleType.roleTypeId,\n              value: cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE\n            )[#\"urn:appian:record-field:v1:6799d796-883e-49ff-8975-297d87e40756/6f0c8dbc-95d2-4ba7-9fb5-f0916efa0f08/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\"],\n            separator: \", \",\n            emptyLabel: #\"urn:appian:translation-string:v1:c25a86b2-435b-4f45-9f11-15b1f0b8415e\",\n            brandingMap: ri!brandingMap,\n            marginAbove: \"NONE\",\n            icon: \"user\",\n            iconCaption: #\"urn:appian:translation-string:v1:4d270950-323f-42b7-ac89-630f33e2c96c\",\n            iconColor: ri!brandingMap.SecondaryTextColor,\n            marginBelow: \"EVEN_LESS\"\n          )\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: rule!CMGT_UTIL_DisplayListOfItems(\n            values: togroup(\n              rule!CMGT_UTIL_Filter(\n                records: ri!case[recordType!CMGT_Case.roles],\n                field: recordType!CMGT_Role.roleType.roleTypeId,\n                value: cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n              )[recordType!CMGT_Role.groupAssignee]\n            ),\n            separator: \", \",\n            emptyLabel: #\"urn:appian:translation-string:v1:c25a86b2-435b-4f45-9f11-15b1f0b8415e\",\n            brandingMap: ri!brandingMap,\n            marginAbove: \"NONE\",\n            icon: \"users\",\n            iconCaption: #\"urn:appian:translation-string:v1:8d84d9ae-54ba-40f2-830b-c62a43069e5d\",\n            iconColor: ri!brandingMap.SecondaryTextColor,\n            marginBelow: \"EVEN_LESS\"\n          )\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_horizontalLine\"(),\n    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n      alignVertical: \"MIDDLE\",\n      spacing: \"DENSE\",\n      items: {\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          width: \"MINIMIZE\",\n          item: #\"SYSTEM_SYSRULES_imageField_v1\"(\n            marginBelow: \"NONE\",\n            labelPosition: \"COLLAPSED\",\n            images: #\"SYSTEM_SYSRULES_documentImage\"(\n              document: cons!CMGT_SMS_AI_DOC_IMG_SEARCH_RESULT_ICON\n            ),\n            size: \"ICON\"\n          ),\n\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            marginBelow: \"NONE\",\n            labelPosition: \"COLLAPSED\",\n            value: {\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: #\"urn:appian:translation-string:v1:e8ab34ff-ee52-4e67-867a-e0d29b9e1440\",\n                color: ri!brandingMap.InfoTextColor\n              ),\n              char(\n                32\n              ),\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: touniformstring(\n                  ri!case[#\"urn:appian:record-search-results:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/allSearchFields/sourceField\"]\n                ),\n                style: \"STRONG\",\n                color: ri!brandingMap.InfoTextColor\n              ),\n              /*Matched On Field - Incorporation*/\n\n            }\n          )\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_cardLayout\"(\n      style: ri!brandingMap.TertiaryBackgroundColor,\n      showBorder: false,\n      shape: \"SEMI_ROUNDED\",\n      contents: {\n        #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          labelPosition: \"COLLAPSED\",\n          value: {\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: rule!CMGT_UTIL_StripHtmlTags(\n                value: ri!case[#\"urn:appian:record-search-results:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/allSearchFields/sourceContent\"]\n              )\n            ),\n            /*Matched On Content - Incorporation*/\n\n          }\n        )\n      }\n    ),\n\n  },\n  height: \"AUTO\",\n  showBorder: false,\n  style: \"NONE\",\n  marginBelow: \"STANDARD\",\n  shape: \"SEMI_ROUNDED\",\n  showShadow: true,\n  link: #\"SYSTEM_SYSRULES_recordLink\"(\n    recordType: recordType!CMGT_Case,\n    identifier: ri!case[recordType!CMGT_Case.caseId],\n    openLinkIn: \"NEW_TAB\"\n  )\n)"
    },
    "000eec1d-9c02-8000-1324-7f0000014e7a": {
      "name": "CMGT_LA_Message_CreateUpdate",
      "type": "Process Model",
      "sail_code": "// Input: ?\nrule!CMGT_Comment_WriteRecordsProperties(\n  isInput: true,\n  comments: pv!comments\n)\n\n// Input: ?\n=recordType!CMGT_Comment\n\n// Output: ?\nrule!CMGT_Comment_WriteRecordsProperties(\n  isInput: false,\n  comments: pv!comments,\n  recordsUpdated: ac!RecordsUpdated\n)\n\n// Input: ?\n={ documents: a!flatten( #\"SYSTEM_SYSRULES_forEach\"( pv!comments, rule!CMGT_UTIL_Filter( records: fv!item[recordType!CMGT_Comment.commentDocumentMap], field: recordType!CMGT_CommentDocumentMap.documentId, value: null )[recordType!CMGT_CommentDocumentMap.document] ) )}\n\n// Output: ?\nrule!CMGT_CommentMap_UpdateNewDocuments_Logic(\n  documents: ac!ProcessInfo.pv.documents,\n  comments: pv!comments\n)\n\n// Input: ?\n= { emailSettingMap: rule!CMGT_LA_Email_MessageCreationEmails(comments: pv!comments)}\n\n// Input: ?\nrule!CMGT_LA_Message_SetEvents(\n  comments: pv!comments,\n  initiator: pp!initiator\n)\n\n// Input: ?\n=recordType!CMGT_EventHistory_Case\n\n// Input: ?\n= { emailSettingMap: rule!CMGT_LA_Email_EmailSettingMap_CommentUserTags(comments: pv!comments)}\n\n// Input: ?\n=rule!CMGT_LA_MTR_MessageWrapper(comments: pv!comments)\n\n// Output: ?\nrule!CMGT_Comment_SetMetaData(\n  comments: pv!comments,\n  initiator: pp!initiator\n)"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_563681": {
      "name": "CMGT_Comment_Sub_ManageUi_CommentDocumentMaps_SaveLogic",
      "type": "Expression Rule",
      "sail_code": "/*Using the user tags for a comment, \nthis is the save logic used to identify document maps that have been kept, added, and deleted\n*/\na!localVariables(\n  local!temp,\n  {\n    /*Decipher document maps to keep active and which to delete*/\n    a!save(\n      local!temp,\n      a!localVariables(\n        /*Get the unique selected values from the picker fields*/\n        local!uniqueSelectedValues: rule!CMGT_UTIL_Distinct(save!value),\n        local!allExistingDocumentMapsForThisComment: rule!CMGT_UTIL_Filter(\n          records: ri!commentDocumentMaps,\n          field: recordType!CMGT_CommentDocumentMap.documentId,\n          value: null,\n          filterType: \"REJECT\"\n        ),\n        local!newDocumentCommentDocumentMapRecords:rule!CMGT_UTIL_Filter(\n          records: ri!commentDocumentMaps,\n          field:recordType!CMGT_CommentDocumentMap.documentId,\n          value: null\n        ),\n        local!newCommentDocumentMapRecords: #\"SYSTEM_SYSRULES_forEach\"(\n          items: local!uniqueSelectedValues,\n          expression: displayvalue(\n            tostring(fv!item),\n            touniformstring(\n              local!allExistingDocumentMapsForThisComment[recordType!CMGT_CommentDocumentMap.documentId]\n            ),\n            local!allExistingDocumentMapsForThisComment,\n            recordType!CMGT_CommentDocumentMap(\n              recordType!CMGT_CommentDocumentMap.commentId: ri!commentId,\n              recordType!CMGT_CommentDocumentMap.documentId: fv!item,\n              recordType!CMGT_CommentDocumentMap.isActive: true,\n              recordType!CMGT_CommentDocumentMap.commentAction: \"LINK\"\n            )\n          )\n        ),\n        local!deletedCommentDocumentMapRecords: a!flatten(\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!allExistingDocumentMapsForThisComment,\n            expression: if(\n              and(\n                not(\n                  contains(\n                    touniformstring(local!uniqueSelectedValues),\n                    tostring(\n                      fv!item[recordType!CMGT_CommentDocumentMap.documentId]\n                    )\n                  )\n                ),\n                a!isNotNullOrEmpty(\n                  fv!item[recordType!CMGT_CommentDocumentMap.commentDocumentMapId]\n                )\n              ),\n              #\"urn:appian:function:v1:a:update\"(\n                fv!item,\n                recordType!CMGT_CommentDocumentMap.isActive,\n                false\n              ),\n              {}\n            )\n          )\n        ),\n        /*Flatten back the maps we modified*/\n        a!flatten(\n          {\n            local!newCommentDocumentMapRecords,\n            local!newDocumentCommentDocumentMapRecords,\n            local!deletedCommentDocumentMapRecords\n          }\n        )\n      )\n    ),\n    /*Finally, save the map values back into their dedicated variables*/\n    a!save(\n      ri!commentDocumentMaps,\n      local!temp\n    )\n  }\n)"
    },
    "_a-0000e9f4-1323-8000-9bd3-011c48011c48_267840": {
      "name": "CMGT_UTIL_LoadBrandingMap",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!branding: getbrandingconfig(\n    cons!CMGT_DOC_DEFAULT_BRANDING_CONFIG,\n    true\n  ),\n  local!output: reduce(\n    #\"urn:appian:function:v1:a:update\"(_, _, _),\n    a!map(),\n    merge(\n      {\n        local!branding.defaultBranding.key,\n        local!branding.customBranding.key\n      },\n      {\n        local!branding.defaultBranding.value,\n        local!branding.customBranding.value\n      }\n    )\n  ),\n  local!output\n)"
    },
    "_a-0000eea8-05c2-8000-9db5-011c48011c48_4799702": {
      "name": "CMGT_SMS_AI_QR_GetSearchHistory",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_SMS_AI_SearchHistory,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_SMS_AI_SearchHistory.searchId,\n      operator: \"in\",\n      value: ri!searchId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_SMS_AI_SearchHistory.createdBy,\n      operator: \"=\",\n      value: ri!createdBy\n    )\n  },\n  logicalExpressions: ri!additionalLogicalExpression,\n  fields: { ri!fields },\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort\n)"
    },
    "_a-0000eeba-7a31-8000-9dbb-011c48011c48_4846357": {
      "name": "CMGT_SMS_AI_SmartSearchResultsTab_Tasks",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_cardLayout\"(\n  showBorder: false,\n  style: \"TRANSPARENT\",\n  padding: \"STANDARD\",\n  contents: {\n    /* Filters */\n    rule!CMGT_SMS_AI_SmartSearchTasksTabFilters(\n      selectedStatus: ri!selectedStatus,\n      selectedTaskTypes: ri!selectedTaskTypes,\n      selectedAssignees: ri!selectedAssignees,\n      selectedAssignedGroups: ri!selectedAssignedGroups\n    ),\n    /* Results */\n    #\"SYSTEM_SYSRULES_cardGroupLayout\"(\n      labelPosition: \"COLLAPSED\",\n      cards: {\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!searchResult,\n          expression: {\n            rule!CMGT_SMS_AI_SmartSearchTaskCard(\n              task: fv!item,\n              brandingMap: ri!brandingMap\n            )\n          }\n        )\n      },\n      cardWidth: \"WIDE\"\n    ),\n    /* Custom Paging */\n    if(\n      ri!totalCount > cons!CMGT_INT_BATCH_SIZE_MEDIUM,\n      rule!CMGT_UTIL_CustomPaging(\n        pagingInfo: ri!pagingInfo,\n        totalCount: ri!totalCount,\n        brandingMap: ri!brandingMap\n      ),\n      {}\n    ),\n    /*Search Results - No Result found*/\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_stampField\"(\n              labelPosition: \"COLLAPSED\",\n              icon: \"search-minus\",\n              backgroundColor: ri!brandingMap.WhiteColor,\n              contentColor: ri!brandingMap.SecondaryTextColor,\n              size: \"MEDIUM\",\n              align: \"CENTER\",\n              marginBelow: \"STANDARD\",\n              shape: \"ROUNDED\"\n            ),\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              labelPosition: \"COLLAPSED\",\n              value: {\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: #\"urn:appian:translation-string:v1:6ad92534-fd9d-4c80-b325-728dd1392a18\",\n                  color: ri!brandingMap.StandardTextColor,\n                  size: \"MEDIUM\"\n                )\n              },\n              align: \"CENTER\"\n            )\n          },\n          width: if(\n            not(\n              #\"SYSTEM_SYSRULES_isPageWidth\"({ \"PHONE\", \"TABLET_PORTRAIT\" })\n            ),\n            \"MEDIUM_PLUS\",\n            \"WIDE_PLUS\"\n          )\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(contents: {})\n      },\n      showWhen: rule!CMGT_UTIL_IsBlank(value: ri!searchResult)\n    )\n  }\n)"
    },
    "_a-0000e882-ff68-8000-9bb2-011c48011c48_37819-cmgt_eml_tri": {
      "name": "CMGT_EML_TRI_QR_GetThreads",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_EML_TRI_Thread,\n  returnType: ri!returnType,\n  executeWhen: ri!executeWhen,\n  triggerRefresh: ri!triggerRefresh,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_EML_TRI_Thread.threadId,\n      operator: \"in\",\n      value: ri!threadIds\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_EML_TRI_Thread.threadSetId,\n      operator: \"in\",\n      value: ri!threadSetIds\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_EML_TRI_Thread.threadStatus,\n      operator: \"in\",\n      value: ri!threadStatuses\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_EML_TRI_Thread.subject,\n      operator: \"in\",\n      value: ri!subjects\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_EML_TRI_Thread.messages.messageId,\n      operator: \"in\",\n      value: ri!messageIds\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_EML_TRI_Thread.isActive,\n      operator: \"in\",\n      value: { a!defaultValue(ri!isActive, true) }\n    ),\n    ri!additionalFilter\n  },\n  logicalExpressions: {\n    if(\n      a!isNotNullOrEmpty(ri!searchTerm),\n      {\n        #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n          operator: \"AND\",\n          logicalExpressions: #\"SYSTEM_SYSRULES_forEach\"(\n            items: split(trim(ri!searchTerm), \" \"),\n            expression: a!localVariables(\n              local!splitSearchTerm: fv!item,\n              #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"OR\",\n                filters: #\"SYSTEM_SYSRULES_forEach\"(\n                  items: ri!searchFields,\n                  expression: #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: fv!item,\n                    operator: \"includes\",\n                    value: local!splitSearchTerm\n                  )\n                )\n              )\n            )\n          )\n        )\n      },\n      {}\n    ),\n    ri!additionalLogicalExpressions\n  },\n  fields: ri!fields,\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  groupByFields: ri!groupByFields,\n)"
    },
    "3c7b8428-315e-496a-88f7-0c4af0ff2ad8": {
      "name": "CMGT_CommentMap_UpdateNewDocuments_Logic",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  ri!comments,\n  #\"urn:appian:function:v1:a:update\"(\n    fv!item,\n    recordType!CMGT_Comment.commentDocumentMap,\n    #\"SYSTEM_SYSRULES_forEach\"(\n      fv!item[recordType!CMGT_Comment.commentDocumentMap],\n      a!localVariables(\n        local!documentMatch: rule!CMGT_UTIL_Filter(\n          records:ri!documents,\n          field: recordType!CMGT_Document.appianDocId,\n          value:fv!item[recordType!CMGT_CommentDocumentMap.document.appianDocId]\n        ),\n        if(\n          rule!CMGT_UTIL_IsNotBlank(local!documentMatch),\n          #\"urn:appian:function:v1:a:update\"(\n            fv!item,\n            {recordType!CMGT_CommentDocumentMap.documentId,recordType!CMGT_CommentDocumentMap.document},\n            {local!documentMatch[recordType!CMGT_Document.documentId], local!documentMatch}\n          ),\n          fv!item\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000ea03-1fde-8000-9be1-011c48011c48_390450": {
      "name": "CMGT_CommentDocumentMap_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!commentDocumentMaps,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {},\n    /*Only modify these fields if they are currently null (default value)*/\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_CommentDocumentMap.isActive,\n        value: true\n      )\n    }\n  )\n)"
    },
    "_a-0000e9a5-4cb8-8000-9bac-011c48011c48_69322": {
      "name": "CMGT_QR_GetPriority",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_CFG_Priority,\n  returnType: ri!returnType,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_Priority.isActive,\n      operator: \"=\",\n      value: ri!isActive\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_Priority.priorityId,\n      operator: \"in\",\n      value: ri!priorityId\n    )\n  },\n  fields: ri!fields,\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  triggerRefresh: ri!triggerRefresh,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ece2-0128-8000-9bb8-011c48011c48_39254": {
      "name": "CMGT_UTIL_FormatDueDate",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    rule!CMGT_UTIL_IsNotBlank(ri!dueOn),\n    ri!showAsOverdueWhen\n  ),\n  a!localVariables(\n    local!elapsedDays: elapseddays(ri!dueOn, now()),\n    local!elapsedHours: elapsedhours(ri!dueOn, now()),\n    local!elapsedMinutes: elapsedminutes(ri!dueOn, now()),\n    local!getDateFromDueDateConverted: rule!CMGT_UTIL_GetDateFromDateTime(\n      dateTimeValue: ri!dueOn,\n      convertToSystemTimeZone: false\n    ),\n    a!match(\n      value: local!getDateFromDueDateConverted,\n      /* Overdue by days     */\n      whenTrue: local!elapsedDays > 0,\n      then: a!map(\n        icon: #\"SYSTEM_SYSRULES_richTextIcon\"(\n          icon: \"exclamation-circle\",\n          size: ri!iconSize,\n          color: ri!brandingMap.NegativeAccentColor,\n          caption: #\"urn:appian:translation-string:v1:d7fef3a3-051d-443a-b953-149895f8a3c8\"\n        ),\n        text: if(\n          local!elapsedDays = 1,\n          #\"urn:appian:translation-string:v1:b179fba0-6749-4045-b6bf-8a18629bb0ad\"(\n            #\"urn:appian:translation-variable:v1:40b4aa38-acbc-4588-b634-cd5ce89462d4\": local!elapsedDays\n          ),\n          #\"urn:appian:translation-string:v1:41a4b792-f85b-47bd-84cb-9969ff768b5b\"(\n            #\"urn:appian:translation-variable:v1:ce229db1-aeef-4add-873e-17aa7a70938e\": local!elapsedDays\n          )\n        )\n      ),\n      /*   Overdue by hours   */\n      whenTrue: and(\n        local!elapsedHours > 0,\n        local!elapsedHours < 24\n      ),\n      then: a!map(\n        icon: #\"SYSTEM_SYSRULES_richTextIcon\"(\n          icon: \"exclamation-circle\",\n          size: ri!iconSize,\n          color: ri!brandingMap.NegativeAccentColor,\n          caption: #\"urn:appian:translation-string:v1:d7fef3a3-051d-443a-b953-149895f8a3c8\"\n        ),\n        text: if(\n          local!elapsedHours = 1,\n          #\"urn:appian:translation-string:v1:1a0d1c13-62a2-4920-82b8-c9e6c6b94abf\"(\n            #\"urn:appian:translation-variable:v1:5e46f0b5-0f17-4e73-bd77-fe5cc91ebc24\": local!elapsedHours\n          ),\n          #\"urn:appian:translation-string:v1:283f2c46-04f4-4cfe-87f1-3948c1cd2684\"(\n            #\"urn:appian:translation-variable:v1:c3e94e73-9d02-414a-aca6-6418b7a58222\": local!elapsedHours\n          )\n        )\n      ),\n      /*  Overdue by minutes    */\n      whenTrue: and(\n        local!elapsedMinutes > 0,\n        local!elapsedMinutes < 60\n      ),\n      then: a!map(\n        icon: #\"SYSTEM_SYSRULES_richTextIcon\"(\n          icon: \"clock\",\n          size: ri!iconSize,\n          color: ri!brandingMap.WarningAccentColor,\n          caption: #\"urn:appian:translation-string:v1:d7fef3a3-051d-443a-b953-149895f8a3c8\"\n        ),\n        text: if(\n          local!elapsedMinutes = 1,\n          #\"urn:appian:translation-string:v1:a5b4fb2f-5c76-4fce-b138-3c6bdc99a65b\"(\n            #\"urn:appian:translation-variable:v1:4520261c-795e-4420-b8e1-1a7352034a43\": local!elapsedMinutes\n          ),\n          #\"urn:appian:translation-string:v1:73a34328-d743-4473-aa26-1798314ed42f\"(\n            #\"urn:appian:translation-variable:v1:754b7c44-1511-44f8-ba35-bd8aa238d558\": local!elapsedMinutes\n          )\n        )\n      ),\n      default: a!map(\n        icon: #\"SYSTEM_SYSRULES_richTextIcon\"(\n          icon: \"calendar-o\",\n          size: ri!iconSize,\n          color: ri!brandingMap.SecondaryTextColor\n        ),\n        text: rule!CMGT_UTIL_FormatDateTime(dateTime: ri!dueOn, includeTime: true)\n      ),\n      /*   Due Today   */\n      equals: today(),\n      then: a!map(\n        icon: #\"SYSTEM_SYSRULES_richTextIcon\"(\n          icon: \"clock\",\n          size: ri!iconSize,\n          color: ri!brandingMap.WarningAccentColor,\n          caption: #\"urn:appian:translation-string:v1:a252bcc9-689a-4c2a-a46a-fb5ca57a7ba9\"\n        ),\n        text: #\"urn:appian:translation-string:v1:492c0e0f-7195-43c0-ae1a-25047163feab\"(\n          #\"urn:appian:translation-variable:v1:9cec6370-6bb2-4e54-a608-510c0259542f\": rule!CMGT_UTIL_FormatDateTime(dateTime: ri!dueOn, returnTime: true)\n        )\n      ),\n      /* Due Tomorrow     */\n      equals: today() + 1,\n      then: a!map(\n        icon: #\"SYSTEM_SYSRULES_richTextIcon\"(\n          icon: \"clock\",\n          size: ri!iconSize,\n          color: ri!brandingMap.WarningAccentColor,\n          caption: #\"urn:appian:translation-string:v1:a252bcc9-689a-4c2a-a46a-fb5ca57a7ba9\"\n        ),\n        text: #\"urn:appian:translation-string:v1:028d3aa9-fb98-4b9c-aca8-cf7afee3b18f\"(\n          #\"urn:appian:translation-variable:v1:2ea8b884-d971-4045-8116-bd3eaddbe5dd\": rule!CMGT_UTIL_FormatDateTime(dateTime: ri!dueOn, returnTime: true)\n        )\n      )\n    )\n  ),\n  a!map(\n    icon: #\"SYSTEM_SYSRULES_richTextIcon\"(\n      icon: \"calendar-o\",\n      size: ri!iconSize,\n      color: ri!brandingMap.SecondaryTextColor\n    ),\n    text: a!defaultValue(\n      value: rule!CMGT_UTIL_FormatDateTime(dateTime: ri!dueOn, includeTime: true),\n      default: cons!CMGT_TXT_EMPTY_VALUE\n    )\n  )\n)"
    },
    "_a-0000eaa7-a5c0-8000-9c22-011c48011c48_973190": {
      "name": "CMGT_UTIL_MergeWriteRecordIdsToProcessVariable",
      "type": "Expression Rule",
      "sail_code": "/*\nThe main rule to merge the ID-output of a WriteRecords SS node back to the input process variable.\n\nSTANDARD USAGE:\n- Use this in tandem with rule CMGT_UTIL_DropNonWritableRelationshipsFromRecord (see that description)\n- In the output of a WriteRecords SS, do:\n  A - New Custom Output\n  B - rule!CMGT_UTIL_MergeWriteRecordIdsToProcessVariable(\n        processData: pv![the pv your wrote],\n        recordsUpdated: ac!RecordsUpdated,\n        fksToParent: {list of record fields that are FKs to the primary PK you wrote}\n      )\n  C - Save this back to the pv you wrote\n\nMAPPING FKS:\n- Using this rule in the current state, child-FKs can only be set \nwhere they map back to the primary record type, using input \"fksToParent\".\n  -> For example, if you are writing \"Case\", \n    - you could set \"Case.Comment.caseId\"\n    - you could set \"Case.Comment.Replies.caseId\"\n    - but not \"Case.Comment.Replies.commentId\" (since the FK \"commentId\" is not the PK of \"Case\")\n- To set other foreign keys, you would have to run manual update rules using the result of this.\nNote:\n- \"fksToParent\" is optimized for 1:M relationships.\n  - Setting an fkToParent for a 1:1 will create an instance of that child record if it is null.\n\nIMPORTANT GENERAL NOTES: \n- The result of THIS rule will have data that IS considered changed, \nso a designer should be cautious about re-writing this later in process \nas it could cause race condition and performance side affects.\n\n- Also, the result of this WILL NOT have custom-fields calculated, \nsince they can be changed as a result of the write, but this rule is not re-querying.\nIf you need these, then re-query.\n\n- This should generally only be used for downstream flows that don't write it directly again, \nsuch as document processing, emails, etc.\n*/\nif(\n  or(\n    runtimetypeof(ri!recordsUpdated) = runtimetypeof(a!flatten(ri!recordsUpdated)),\n    runtimetypeof(ri!recordsUpdated) = 'type!{http://www.appian.com/ae/types/2009}Variant?list'\n  ),\n  if(\n    count(a!flatten(ri!recordsUpdated)) = 0,\n    ri!processData,\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: enumerate(count(a!flatten(ri!recordsUpdated))),\n      expression: rule!CMGT_UTIL_MergeWriteRecordIdsToProcessVariable(\n        processData: a!flatten(ri!processData)[fv!index],\n        recordsUpdated: cast(\n          runtimetypeof(a!flatten(ri!processData)),\n          ri!recordsUpdated\n        )[fv!index],\n        fksToParent: ri!fksToParent\n      )\n    )\n  ),\n  a!localVariables(\n    local!keys: #\"SYSTEM_SYSRULES_forEach\"(\n      items: a!keys(ri!recordsUpdated),\n      expression: a!map(\n        key: fv!item,\n        isPrimaryKey: runtimetypeof(fv!item) = 'type!{http://www.appian.com/ae/types/2009}RecordField'\n      )\n    ),\n    local!keysOrganized: rule!CMGT_UTIL_Filter(\n      records: local!keys,\n      field: \"isPrimaryKey\",\n      value: true,\n      filterType: \"FULL_RESULT\"\n    ),\n    local!primaryKeyField: local!keysOrganized.firstMatch.key,\n    local!updates: rule!CMGT_UTIL_SetRecordFields(\n      record: ri!processData,\n      neverOverwrite: {\n        a!map(\n          field: local!primaryKeyField,\n          value: ri!recordsUpdated[local!primaryKeyField]\n        ),\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!fksToParent,\n          expression: a!map(\n            field: fv!item,\n            value: ri!recordsUpdated[local!primaryKeyField],\n            /*Children get complicated, and an update should only run if a child is actually attached*/\n            applyWhen: a!match(\n              value: runtimetypeof(ri!processData[fv!item]),\n              equals: runtimetypeof(a!flatten(ri!processData[fv!item])),\n              then: count(ri!processData[fv!item]) > 0,\n              equals: tointeger(\n                'type!{http://www.appian.com/ae/types/2009}Variant?list'\n              ),\n              then: or(\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  items: ri!processData[fv!item],\n                  expression: a!isNotNullOrEmpty(fv!item)\n                )\n              ),\n              default: a!isNotNullOrEmpty(ri!processData[fv!item])\n            )\n          )\n        )\n      },\n      childRelationships: #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!keysOrganized.rejects,\n        expression: a!map(\n          field: fv!item.key,\n          value: if(\n            rule!CMGT_UTIL_IsBlank(ri!processData[fv!item.key]),\n            ri!recordsUpdated[fv!item.key],\n            rule!CMGT_UTIL_MergeWriteRecordIdsToProcessVariable(\n              processData: ri!processData[fv!item.key],\n              recordsUpdated: ri!recordsUpdated[fv!item.key],\n              fksToParent: {}\n            )\n          )\n        )\n      )\n    ),\n    /*reduce over updates to remove any relationships that were incorrectly created with just an fk*/\n    if(\n      a!isNullOrEmpty(ri!fksToParent),\n      local!updates,\n      reduce(\n        rule!CMGT_UTIL_RemoveRecordRelationshipsWithSingleKey_Reducer(record: _, key: _),\n        local!updates,\n        a!keys(local!updates)\n      )\n    )\n  )\n)"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_583958": {
      "name": "CMGT_UTIL_FillDocumentTemplate",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!output: reduce(\n    substitute(_, _, _),\n    rule!CMGT_PLUGIN_ReadDocumentContent(document: ri!document),\n    merge(\n      apply(\n        concat(\"###\", _, \"###\"),\n        ri!replacementParams.find\n      ),\n      touniformstring(ri!replacementParams.replace)\n    )\n  ),\n  local!output\n)"
    },
    "_a-0000ebb3-5308-8000-9cab-011c48011c48_2127605": {
      "name": "CMGT_LA_Email_MessageCreation_NotifyLimitedAccessUser_ReplacementParamsMap",
      "type": "Expression Rule",
      "sail_code": "{\n  /*Base Template Parameters*/\n  rule!CMGT_Email_BaseTemplate_ReplacementParamsMap(\n    brandingMap: ri!brandingMap,\n    footerText: #\"urn:appian:translation-string:v1:ebdc3e27-bbef-4258-a6ad-ea3c9f715b94\",\n    buttonLabel: #\"urn:appian:translation-string:v1:f40e55e9-5bdd-4abb-98af-a075a68c16b1\",\n    /*link to messages tab on the case in the My Cases LA Site*/\n    buttonLinkUrl: rule!CMGT_LA_UTIL_UrlForRecord(\n      recordType: recordType!CMGT_Case,\n      recordId: ri!case[recordType!CMGT_Case.caseId],\n      siteWebAddressIdentifier: cons!CMGT_LA_TXT_URL_ADDRESS_IDENTIFIER,\n      sitePage: cons!CMGT_LA_TXT_SITE_WEB_PAGE_MY_CASES\n    )\n  ),\n  /*Body*/\n  {\n    find: \"body\",\n    replace: rule!CMGT_UTIL_FillDocumentTemplate(\n      document: cons!CMGT_LA_MESSAGES_EMAIL_BODY_TEMPLATE,\n      replacementParams: {\n        {\n          find: \"caseFriendlyIdTextColor\",\n          replace: ri!brandingMap.secondaryTextColor\n        },\n        {\n          find: \"caseFriendlyId\",\n          replace: ri!case[recordType!CMGT_Case.friendlyId],\n          \n        },\n        {\n          find: \"primaryTextColor\",\n          replace: ri!brandingMap.StandardTextColor\n        },\n        {\n          find: \"primaryText\",\n          replace: #\"urn:appian:translation-string:v1:623ee3e8-e00a-4650-b605-6d78d9240f07\"\n        },\n        {\n          find: \"secondaryTextColor\",\n          replace: ri!brandingMap.StandardTextColor\n        },\n        {\n          find: \"secondaryText\",\n          replace: #\"urn:appian:translation-string:v1:82656bcb-6e0a-4ed0-a600-8ffbed61b80e\"(\n            #\"urn:appian:translation-variable:v1:93e27655-fa99-4fce-8af5-7c1bc9d7d2c0\": ri!commentCreatedBy\n          )\n        }\n      }\n    )\n  }\n}"
    },
    "_a-0000ea38-e7a4-8000-9bf7-011c48011c48_649357": {
      "name": "CMGT_ControlPanel_QuickLink_ItemMap",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  icon: \"folder-open\",\n  /*Note this security should match who is able to see the control panel site  */\n  showWhen: #\"urn:appian:function:v1:a:isusermemberofgroup?okey=a!isUserMemberOfGroup\"(\n    loggedInUser(),\n    cons!CMGT_GRP_CASE_MANAGERS\n  ),\n  item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n    labelPosition: \"COLLAPSED\",\n    value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n      text: #\"urn:appian:translation-string:v1:801fd0b2-c47d-41bc-b519-80db148e83e1\",\n      link: #\"SYSTEM_SYSRULES_safeLink\"(\n        uri: concat(\n          rule!CMGT_UTIL_GetSiteUrl().authedPath,\n          \"/control-panel/\",\n          cons!CMGT_CONTROL_PANEL_TXT_SITE_URL_STUB\n        ),\n        openLinkIn: \"NEW_TAB\"\n      ),\n      linkStyle: \"STANDALONE\"\n    )\n  )\n)"
    },
    "_a-0000e99c-1217-8000-9ba9-011c48011c48_58807": {
      "name": "CMGT_UTIL_TruncateText",
      "type": "Expression Rule",
      "sail_code": "if(\n  or(isnull(ri!text), isnull(ri!maxLength)),\n  ri!text,\n  if(\n    len(ri!text) > ri!maxLength,\n    left(\n      ri!text,\n      max(\n        search(\" \", ri!text, ri!maxLength + 1) - 1,\n        ri!maxLength\n      )\n    ) & \"...\",\n    ri!text\n  )\n)"
    },
    "_a-0000e9fd-9441-8000-9bdc-011c48011c48_325004": {
      "name": "CMGT_EventHistory_Sub_LatestUpdates",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!relationshipMapTypes: rule!CMGT_QR_GetRelationshipMapType(returnType: \"OBJECT_ARRAY\"),\n  local!entityTypes: rule!CMGT_QR_GetEntityType(returnType: \"OBJECT_ARRAY\"),\n  #\"SYSTEM_SYSRULES_cardLayout\"(\n    contents: {\n      #\"SYSTEM_SYSRULES_eventHistoryListField\"(\n        label: #\"urn:appian:translation-string:v1:2d969cfc-8acd-48ff-b6a7-46cd4b6e90dc\",\n        labelPosition: \"COLLAPSED\",\n        eventData: {\n          #\"SYSTEM_SYSRULES_eventData\"(\n            recordType: recordType!CMGT_EventHistory_Case,\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_EventHistory_Case.timestamp,\n                operator: \">=\",\n                value: now() - 1\n              )\n            },\n            timestamp: recordType!CMGT_EventHistory_Case.timestamp,\n            user: recordType!CMGT_EventHistory_Case.username,\n            eventTypeName: fv!data[recordType!CMGT_EventHistory_Case.caseEventType.eventLabel],\n            details: rule!CMGT_EventHistory_Case_FormatDetails(\n              data: fv!data,\n              relationshipMapTypes: local!relationshipMapTypes,\n              entityTypes: local!entityTypes\n            ),\n            recordTypeForTag: recordType!CMGT_Case,\n            recordIdentifier: recordType!CMGT_EventHistory_Case.caseId\n          ),\n          #\"SYSTEM_SYSRULES_eventData\"(\n            recordType: recordType!CMGT_EventHistory_Task,\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_EventHistory_Task.timestamp,\n                operator: \">=\",\n                value: now() - 1\n              )\n            },\n            timestamp: recordType!CMGT_EventHistory_Task.timestamp,\n            user: recordType!CMGT_EventHistory_Task.username,\n            eventTypeName: fv!data[recordType!CMGT_EventHistory_Task.taskEventType.eventLabel],\n            details: rule!CMGT_EventHistory_Task_FormatDetails(data: fv!data),\n            recordTypeForTag: recordType!CMGT_Task,\n            recordIdentifier: recordType!CMGT_EventHistory_Task.taskId\n          ),\n          #\"SYSTEM_SYSRULES_eventData\"(\n            recordType: recordType!CMGT_EventHistory_Entity,\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_EventHistory_Entity.username,\n                operator: \"=\",\n                value: loggedInUser()\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_EventHistory_Entity.timestamp,\n                operator: \">=\",\n                value: now() - 1\n              )\n            },\n            timestamp: recordType!CMGT_EventHistory_Entity.timestamp,\n            user: recordType!CMGT_EventHistory_Entity.username,\n            eventTypeName: fv!data[recordType!CMGT_EventHistory_Entity.entityEventType.eventLabel],\n            details: rule!CMGT_EventHistory_Entity_FormatDetails(\n              data: fv!data,\n              relationshipMapTypes: local!relationshipMapTypes\n            ),\n            recordTypeForTag: recordType!CMGT_Entity,\n            recordIdentifier: recordType!CMGT_EventHistory_Entity.entityId\n          )\n        },\n        eventStyle: \"PREVIEW_LIST\",\n        previewListPageSize: if(\n          ri!isPhone,\n          cons!CMGT_INT_BATCH_SIZE_SMALL,\n          cons!CMGT_INT_BATCH_SIZE_MEDIUM\n        ),\n        displayUser: \"IMAGE\",\n        displayUserColorScheme: #\"SYSTEM_SYSRULES_colorSchemeCustom\"(\n          colors: rule!CMGT_UTIL_parseColorSchemeBranding(\n            colorSchemeValue: ri!brandingMap.EventHistoryUserColorScheme,\n            returnRawHexCodes: true\n          )\n        ),\n        showSearchBox: false\n      )\n    },\n    style: ri!brandingMap.CardBackgroundColor,\n    shape: ri!brandingMap.CardShape,\n    padding: \"NONE\",\n    showBorder: ri!brandingMap.CardShowBorder,\n    showShadow: ri!brandingMap.CardShowShadow\n  )\n)"
    },
    "_a-0000e9ae-873e-8000-9baf-011c48011c48_97439": {
      "name": "CMGT_QR_GetUser",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: #\"urn:appian:record-type:v1:SYSTEM_RECORD_TYPE_USER\",\n  returnType: ri!returnType,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: #\"urn:appian:record-field:v1:SYSTEM_RECORD_TYPE_USER/SYSTEM_RECORD_TYPE_USER_FIELD_username\",\n      operator: \"in\",\n      value: ri!username\n    )\n  },\n  fields: ri!fields,\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  triggerRefresh: ri!triggerRefresh,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000eea8-05c2-8000-9db5-011c48011c48_4800267": {
      "name": "CMGT_SMS_AI_QR_GetSmartSearchResultsOnTasks",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    rule!CMGT_UTIL_IsNotBlank(input: ri!searchTerm),\n    contains(ri!selectedCategory, { 2 })\n  ),\n  a!localVariables(\n    local!data: a!refreshVariable(\n      value: #\"SYSTEM_SYSRULES_queryRecordType_v4\"(\n        recordType: recordType!CMGT_Task,\n        fields: {\n          /*Task*/\n          recordType!CMGT_Task.title,\n          recordType!CMGT_Task.description,\n          recordType!CMGT_Task.dueOn,\n          recordType!CMGT_Task.isCompleted,\n          /*Decision Task*/\n          recordType!CMGT_Task.questionLabel,\n          /*Case*/\n          recordType!CMGT_Task.case.title,\n          recordType!CMGT_Task.case.description,\n          recordType!CMGT_Task.case.friendlyId,\n          /*Comment*/\n          recordType!CMGT_Task.comments.commentText,\n          /*Milestone*/\n          recordType!CMGT_Task.milestone.label,\n          /*Roles*/\n          recordType!CMGT_Task.roles.userAssignee,\n          recordType!CMGT_Task.roles.groupAssignee,\n          recordType!CMGT_Task.roles.roleType.label,\n          #\"urn:appian:record-field:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/e6e8e187-2b16-44f6-a2bf-b321ffae90af/6f0c8dbc-95d2-4ba7-9fb5-f0916efa0f08/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\",\n          /*Status*/\n          recordType!CMGT_Task.status.statusLabel,\n          recordType!CMGT_Task.status.icon,\n          recordType!CMGT_Task.status.accentColor,\n          /*Task Behaviour Type*/\n          recordType!CMGT_Task.taskBehaviorType.label,\n          recordType!CMGT_Task.taskBehaviorType.icon/*All search fields*/\n          ,\n          #\"urn:appian:record-search-results:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/allSearchFields/all\"\n        },\n        filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n          operator: \"AND\",\n          logicalExpressions: {\n            #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n              operator: \"OR\",\n              filters: {\n                /*Task*/\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Task.title,\n                  operator: \"search\",\n                  value: ri!searchTerm,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!searchTerm)\n                ),\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Task.description,\n                  operator: \"search\",\n                  value: ri!searchTerm,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!searchTerm)\n                ),\n                /*Comment*/\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Task.comments.commentText,\n                  operator: \"search\",\n                  value: ri!searchTerm,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!searchTerm)\n                )\n              }\n            ),\n            #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n              operator: \"AND\",\n              filters: {\n                /*Assignee*/\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Task.roles.username,\n                  operator: \"in\",\n                  value: ri!assignee,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!assignee)\n                ),\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Task.roles.roleTypeId,\n                  operator: \"=\",\n                  value: cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!assignee)\n                )\n              }\n            ),\n            #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n              operator: \"AND\",\n              filters: {\n                /*Assigned Group*/\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Task.roles.groupId,\n                  operator: \"in\",\n                  value: ri!assignedGroup,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!assignedGroup)\n                ),\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Task.roles.roleTypeId,\n                  operator: \"=\",\n                  value: cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!assignedGroup)\n                )\n              }\n            )\n          },\n          filters: {\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Task.taskBehaviorType.taskBehaviorTypeId,\n              operator: \"in\",\n              value: ri!taskTypesIds,\n              applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!taskTypesIds)\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Task.status.statusId,\n              operator: \"in\",\n              value: ri!statusIds,\n              applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!statusIds)\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Task.taskIntentionCode,\n              operator: \"=\",\n              value: cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_WORKFLOW\n            )\n          }\n        ),\n        relatedRecordData: {\n          #\"SYSTEM_SYSRULES_relatedRecordData\"(\n            relationship: recordType!CMGT_Task.roles,\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_Role.roleTypeId,\n                operator: \"in\",\n                value: {\n                  cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n                  cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n                }\n              )\n            }\n          )\n        },\n        pagingInfo: a!defaultValue(\n          value: ri!pagingInfo,\n          default: #\"SYSTEM_SYSRULES_pagingInfo\"(startIndex: 1, batchSize: 10, )\n        ),\n        fetchTotalCount: true()\n      ),\n      refreshOnVarChange: ri!triggerRefresh\n    ),\n    local!data\n  ),\n  {}\n)"
    },
    "_a-0000e98b-cfe0-8000-9ba5-011c48011c48_22352": {
      "name": "CMGT_UTIL_QueryRecord",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Chosen return type*/\n  local!returnType: a!defaultValue(ri!returnType, \"OBJECT_ARRAY\"),\n  /*Determine the query parameters to use by the return type*/\n  local!queryParams: a!match(\n    value: local!returnType,\n    equals: \"OBJECT_ARRAY\",\n    then: a!map(\n      castToType: if(\n        a!isNullOrEmpty(ri!groupByFields),\n        #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(ri!recordType),\n        'type!{http://www.appian.com/ae/types/2009}Map?list'\n      ),\n      fetchTotalCount: false,\n      isArray: true,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: a!defaultValue(\n          ri!pagingInfo.batchSize,\n          cons!CMGT_INT_BATCH_SIZE_MAX\n        ),\n        sort: { ri!pagingInfo.sort, ri!sort }\n      )\n    ),\n    equals: \"SINGLE_OBJECT\",\n    then: a!map(\n      castToType: if(\n        a!isNullOrEmpty(ri!groupByFields),\n        ri!recordType,\n        'type!{http://www.appian.com/ae/types/2009}Map'\n      ),\n      fetchTotalCount: false,\n      isArray: false,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: 1,\n        sort: { ri!pagingInfo.sort, ri!sort }\n      )\n    ),\n    equals: \"DATA_SUBSET\",\n    then: a!map(\n      castToType: 'type!{http://www.appian.com/ae/types/2009}DataSubset',\n      fetchTotalCount: true,\n      isArray: false,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: a!defaultValue(ri!pagingInfo.startIndex, 1),\n        batchSize: a!defaultValue(\n          ri!pagingInfo.batchSize,\n          cons!CMGT_INT_BATCH_SIZE_MAX\n        ),\n        sort: { ri!pagingInfo.sort, ri!sort }\n      )\n    ),\n    equals: \"TOTAL_COUNT\",\n    then: a!map(\n      castToType: 'type!{http://www.appian.com/ae/types/2009}Integer',\n      fetchTotalCount: true,\n      isArray: false,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(startIndex: 1, batchSize: 0)\n    ),\n    default: fn!error(\n      \"Invalid returnType, must be one of: OBJECT_ARRAY, SINGLE_OBJECT, DATA_SUBSET, TOTAL_COUNT\"\n    )\n  ),\n  if(\n    /*Early exit for skip execution*/\n    ri!executeWhen = false,\n    cast(\n      local!queryParams.castToType,\n      if(local!queryParams.isArray, {}, null)\n    ),\n    a!localVariables(\n      /*Run the query*/\n      local!queryResult: a!refreshVariable(\n        value: #\"SYSTEM_SYSRULES_queryRecordType_v2\"(\n          recordType: ri!recordType,\n          fields: if(\n            a!isNullOrEmpty(ri!groupByFields),\n            reject(\n              a!isNullOrEmpty,\n              a!flatten(\n                {\n                  ri!fields,\n                  index(ri!relatedRecordData, \"relationship\", {})\n                }\n              )\n            ),\n            #\"SYSTEM_SYSRULES_aggregationFields\"(\n              groupings: #\"SYSTEM_SYSRULES_forEach\"(\n                items: ri!groupByFields,\n                expression: #\"SYSTEM_SYSRULES_grouping\"(field: fv!item, alias: tostring(fv!item))\n              ),\n              measures: #\"SYSTEM_SYSRULES_measure\"(\n                field: ri!groupByFields[1],\n                function: \"COUNT\",\n                alias: \"count\"\n              )\n            )\n          ),\n          filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            ignoreFiltersWithEmptyValues: true,\n            logicalExpressions: {\n              ri!logicalExpressions,\n              if(\n                and(\n                  a!isNotNullOrEmpty(ri!searchFields),\n                  a!isNotNullOrEmpty(ri!searchTerm)\n                ),\n                #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                  operator: \"AND\",\n                  logicalExpressions: #\"SYSTEM_SYSRULES_forEach\"(\n                    items: split(trim(ri!searchTerm), \" \"),\n                    expression: a!localVariables(\n                      local!splitSearchTerm: fv!item,\n                      #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                        operator: \"OR\",\n                        filters: #\"SYSTEM_SYSRULES_forEach\"(\n                          items: ri!searchFields,\n                          expression: #\"SYSTEM_SYSRULES_queryFilter\"(\n                            field: fv!item,\n                            operator: \"includes\",\n                            value: local!splitSearchTerm\n                          )\n                        )\n                      )\n                    )\n                  )\n                ),\n                {}\n              )\n            },\n            filters: ri!filters\n          ),\n          pagingInfo: if(\n            a!isNullOrEmpty(ri!groupByFields),\n            local!queryParams.pagingInfo,\n            #\"urn:appian:function:v1:a:update\"(\n              local!queryParams.pagingInfo,\n              \"sort\",\n              null\n            )\n          ),\n          fetchTotalCount: local!queryParams.fetchTotalCount,\n          relatedRecordData: if(\n            a!isNullOrEmpty(ri!groupByFields),\n            ri!relatedRecordData,\n            {}\n          )\n        ),\n        refreshOnVarChange: ri!triggerRefresh,\n        refreshAfter: { \"RECORD_ACTION\" }\n      ),\n      /*Format the output*/\n      local!output: a!match(\n        value: local!returnType,\n        equals: \"OBJECT_ARRAY\",\n        then: cast(\n          local!queryParams.castToType,\n          local!queryResult.data\n        ),\n        equals: \"SINGLE_OBJECT\",\n        then: cast(\n          local!queryParams.castToType,\n          local!queryResult.data\n        ),\n        equals: \"DATA_SUBSET\",\n        then: cast(\n          local!queryParams.castToType,\n          local!queryResult\n        ),\n        equals: \"TOTAL_COUNT\",\n        then: local!queryResult.totalCount,\n        default: null\n      ),\n      local!output\n    )\n  )\n)"
    },
    "_a-0000eeba-7a31-8000-9dbb-011c48011c48_4845541": {
      "name": "CMGT_SMS_AI_SmartSearchCasesTabFilters",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_sideBySideLayout\"(\n  items: {\n    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n      item: #\"SYSTEM_SYSRULES_multipleDropdownField_v1\"(\n        label: #\"urn:appian:translation-string:v1:4b2f6a5b-f592-4417-96fb-68a4e94875d3\",\n        placeholder: #\"urn:appian:translation-string:v1:4b2f6a5b-f592-4417-96fb-68a4e94875d3\",\n        data: #\"SYSTEM_SYSRULES_recordData\"(\n          recordType: recordType!CMGT_CFG_CaseType,\n          filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_CFG_CaseType.isCategory,\n                operator: \"=\",\n                value: false\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_CFG_CaseType.isActive,\n                operator: \"=\",\n                value: true\n              )\n            }\n          )\n        ),\n        value: ri!selectedCaseTypes,\n        saveInto: ri!selectedCaseTypes,\n        choiceLabels: recordType!CMGT_CFG_CaseType.fullLabel,\n        choiceValues: recordType!CMGT_CFG_CaseType.uuid,\n        sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!CMGT_CFG_CaseType.fullLabel,\n          ascending: true\n        )\n      )\n    ),\n    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n      item: #\"SYSTEM_SYSRULES_multipleDropdownField_v1\"(\n        label: #\"urn:appian:translation-string:v1:952ff189-5287-445d-991e-730bfc34ae2e\",\n        placeholder: #\"urn:appian:translation-string:v1:952ff189-5287-445d-991e-730bfc34ae2e\",\n        data: #\"SYSTEM_SYSRULES_recordData\"(\n          recordType: recordType!CMGT_CFG_Status,\n          filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_CFG_Status.type,\n                operator: \"=\",\n                value: \"CASE\"\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_CFG_Status.isActive,\n                operator: \"=\",\n                value: true\n              )\n            }\n          )\n        ),\n        value: ri!selectedStatus,\n        saveInto: ri!selectedStatus,\n        choiceLabels: recordType!CMGT_CFG_Status.statusLabel,\n        choiceValues: recordType!CMGT_CFG_Status.statusId,\n        sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!CMGT_CFG_Status.sortOrder,\n          ascending: true\n        )\n      )\n    ),\n    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n      item: #\"SYSTEM_SYSRULES_pickerFieldUsers\"(\n        label: #\"urn:appian:translation-string:v1:6b6a9910-093f-4a1e-9807-d5d8b06daecc\",\n        labelPosition: \"ABOVE\",\n        placeholder: #\"urn:appian:translation-string:v1:6b6a9910-093f-4a1e-9807-d5d8b06daecc\",\n        maxSelections: 5,\n        groupFilter: cons!CMGT_GRP_INTERNAL_USERS,\n        value: ri!selectedAssignees,\n        saveInto: a!save(\n          ri!selectedAssignees,\n          rule!CMGT_UTIL_Distinct(save!value)\n        )\n      ),\n\n    ),\n    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n      item: #\"SYSTEM_SYSRULES_pickerFieldGroups\"(\n        label: #\"urn:appian:translation-string:v1:e9f14855-a8fd-4654-9b29-5c0a16aba994\",\n        placeholder: #\"urn:appian:translation-string:v1:e9f14855-a8fd-4654-9b29-5c0a16aba994\",\n        labelPosition: \"ABOVE\",\n        maxSelections: 5,\n        groupFilter: cons!CMGT_GRP_BUSINESS_GROUPS,\n        value: ri!selectedAssignedGroups,\n        saveInto: a!save(\n          ri!selectedAssignedGroups,\n          rule!CMGT_UTIL_Distinct(save!value)\n        )\n      )\n    )\n  }\n)"
    },
    "_a-0000e99c-1217-8000-9ba9-011c48011c48_52277": {
      "name": "CMGT_UTIL_HeaderField",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n  label: \"\",\n  contents: {\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            if(\n              and(\n                rule!CMGT_UTIL_IsBlank(ri!secondaryText),\n                rule!CMGT_UTIL_IsBlank(ri!labelIcon)\n              ),\n              #\"SYSTEM_SYSRULES_headingField\"(\n                text: rule!CMGT_UTIL_ReplaceArgs(string: ri!label, args: ri!labelArguments),\n                color: a!defaultValue(\n                  value: ri!labelColor,\n                  default: ri!brandingMap.SecondaryHeaderColor\n                ),\n                fontWeight: a!defaultValue(\n                  value: ri!labelFontWeight,\n                  default: ri!brandingMap.SecondaryHeaderFontWeight\n                ),\n                size: a!defaultValue(\n                  value: ri!labelSize,\n                  default: ri!brandingMap.SecondaryHeaderSize\n                ),\n                headingTag: \"H2\",\n                marginAbove: \"LESS\",\n                marginBelow: \"LESS\"\n              ),\n              #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n                label: rule!CMGT_UTIL_ReplaceArgs(string: ri!label, args: ri!labelArguments),\n                contents: {\n                  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                    value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                      text: ri!secondaryText,\n                      style: \"EMPHASIS\",\n                      color: a!defaultValue(\n                        value: ri!labelColor,\n                        default: ri!brandingMap.SecondaryTextColor\n                      ),\n                      size: \"SMALL\"\n                    ),\n                    labelPosition: \"COLLAPSED\",\n                    showWhen: a!isNotNullOrEmpty(ri!secondaryText)\n                  )\n                },\n                labelIcon: ri!labelIcon,\n                iconAltText: ri!iconAltText,\n                labelSize: a!defaultValue(value: ri!labelSize, default: \"SMALL\"),\n                labelHeadingTag: \"H2\",\n                labelColor: a!defaultValue(\n                  value: ri!labelColor,\n                  default: ri!brandingMap.SecondaryTextColor\n                ),\n                marginAbove: \"NONE\",\n                marginBelow: \"NONE\"\n              )\n            )\n          },\n          width: if(\n            a!isNotNullOrEmpty(ri!rightSideContents),\n            \"AUTO\",\n            \"MEDIUM\"\n          )\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: ri!rightSideContents,\n          width: \"AUTO\"\n        )\n      },\n      alignVertical: \"MIDDLE\",\n      marginAbove: \"NONE\",\n      marginBelow: \"NONE\",\n      stackWhen: { \"NEVER\" }\n    )\n  },\n  showWhen: a!defaultValue(ri!showWhen, true),\n  divider: a!defaultValue(ri!divider, \"BELOW\"),\n  dividerColor: ri!brandingMap.DividerColor,\n  marginAbove: a!defaultValue(ri!marginAbove, \"NONE\"),\n  marginBelow: a!defaultValue(ri!marginBelow, \"NONE\")\n)"
    },
    "_a-0000e9b7-c1bc-8000-9bb2-011c48011c48_107142": {
      "name": "CMGT_Tag_GridDisplay",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!count: count(ri!tagNames),\n  {\n    if(\n      local!count <= cons!CMGT_INT_BATCH_SIZE_EXTRA_SMALL,\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: joinarray(ri!tagNames, \", \"),\n        color: ri!brandingMap.SecondaryTextColor,\n        size: \"SMALL\"\n      ),\n      /*Hide options > cons!CMGT_INT_NUM_OF_OBJECTS_TO_SHOW_BEFORE_HIDE, use the cons!CMGT_INT_NUM_OF_OBJECTS_TO_SHOW_BEFORE_HIDE object to be the \"show more\"*/\n      a!localVariables(\n        local!countForMoreAvailable: (\n          local!count - cons!CMGT_INT_BATCH_SIZE_EXTRA_SMALL\n        ) + 1,\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!tagNames,\n          expression: a!match(\n            value: fv!index,\n            whenTrue: fv!value < cons!CMGT_INT_BATCH_SIZE_EXTRA_SMALL,\n            then: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: concat(fv!item, \", \"),\n              color: ri!brandingMap.SecondaryTextColor,\n              size: \"SMALL\"\n            ),\n            whenTrue: fv!value = cons!CMGT_INT_BATCH_SIZE_EXTRA_SMALL,\n            then: {\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: concat(\n                  \"+\",\n                  #\"urn:appian:translation-string:v1:138e2717-f77d-4cb5-9d38-6e79f12039c7\"(\n                    #\"urn:appian:translation-variable:v1:706bfb1d-813b-4e07-adb1-b21bb5d5018b\": local!countForMoreAvailable\n                  )\n                ),\n                color: ri!brandingMap.SecondaryTextColor,\n                size: \"SMALL\"\n              )\n            },\n            default: #\"SYSTEM_SYSRULES_richTextItem_v1\"(showWhen: false)\n          )\n        )\n      )\n    )\n  }\n)"
    },
    "_a-0000eb2c-b6af-8000-9c5d-011c48011c48_1453742": {
      "name": "CMGT_UTIL_ReplaceArgs",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!args),\n  ri!string,\n  reduce(\n    substitute(_, _, _),\n    ri!string,\n    merge(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: a!keys(ri!args),\n        expression: \"@|\" & fv!item & \"|@\"\n      ),\n      touniformstring(ri!args[a!keys(ri!args)])\n    )\n  )\n)"
    },
    "_a-0000ebbc-8d55-8000-9cb0-011c48011c48_2139605": {
      "name": "CMGT_LA_Email_EmailSettingMap_CommentUserTags",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!brandingMap: rule!CMGT_LA_UTIL_LoadBrandingMap(),\n  a!flatten(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!comments,\n      expression: a!localVariables(\n        local!comment: fv!item,\n        local!case: rule!CMGT_QR_GetCase(\n          caseId: fv!item[recordType!CMGT_Comment.caseId],\n          executeWhen: a!isNotNullOrEmpty(\n            fv!item[recordType!CMGT_Comment.caseId]\n          ),\n          fields: recordType!CMGT_Case.caseType,\n          returnType: \"SINGLE_OBJECT\"\n        ),\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: rule!CMGT_UTIL_Filter(\n            records: fv!item[recordType!CMGT_Comment.userTags],\n            field: recordType!CMGT_CommentUserTag.isActive,\n            value: true()\n          ),\n          expression: a!localVariables(\n            local!subjectAndRecipients: a!map(\n              subject: #\"urn:appian:translation-string:v1:6e2cf6fc-8a6b-493d-99b6-ce3c8a8ab7a6\",\n              recipients: toemailrecipient(\n                fv!item[recordType!CMGT_CommentUserTag.username]\n              )\n            ),\n            a!map(\n              recipients: local!subjectAndRecipients.recipients,\n              subject: local!subjectAndRecipients.subject,\n              recipientEmailAddress: null,\n              replacementParams: rule!CMGT_LA_Email_CaseDetails_ReplacementParamsMap(\n                case: local!case,\n                brandingMap: local!brandingMap,\n                comment: local!comment,\n                commentUserTag: fv!item\n              )\n            )\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000ea38-e7a4-8000-9bf7-011c48011c48_630916": {
      "name": "CMGT_Workspace_InternalUser_Sub_QuickLinks",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!itemMap: {\n    a!map(\n      icon: \"plus-circle\",\n      item: #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n        actions: {\n          #\"SYSTEM_SYSRULES_recordActionItem\"(\n            action: #\"urn:appian:record-action:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/484c73e3-b6f9-422f-afc7-d19f793a16b5\"\n          )\n        },\n        style: \"LINKS\",\n        display: \"LABEL\"\n      ),\n\n    ),\n    a!map(\n      icon: \"user-plus\",\n      item: #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n        actions: {\n          #\"SYSTEM_SYSRULES_recordActionItem\"(\n            action: #\"urn:appian:record-action:v1:ad3b988c-faba-4c39-9bda-be1ad52b4019/2fed3bba-1935-43a0-830a-55428610423c\"\n          )\n        },\n        style: \"LINKS\",\n        display: \"LABEL\"\n      )\n    ),\n    rule!CMGT_ControlPanel_QuickLink_ItemMap()\n  },\n  local!itemMapFiltered: rule!CMGT_UTIL_Filter(\n    records: local!itemMap,\n    field: \"showWhen\",\n    value: false,\n    filterType: \"REJECT\"\n  ),\n  {\n    rule!CMGT_UTIL_HeaderField(\n      label: #\"urn:appian:translation-string:v1:64a2d9b1-8ec0-4000-8a21-ec6857ed3ead\",\n      divider: \"NONE\",\n      brandingMap: ri!brandingMap,\n      marginBelow: \"NONE\"\n    ),\n    #\"SYSTEM_SYSRULES_cardLayout\"(\n      contents: {\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: local!itemMapFiltered,\n          expression: #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n            label: \"\",\n            contents: {\n              #\"SYSTEM_SYSRULES_cardLayout\"(\n                contents: {\n                  #\"SYSTEM_SYSRULES_columnsLayout\"(\n                    columns: {\n                      #\"SYSTEM_SYSRULES_columnLayout\"(\n                        contents: {\n                          #\"SYSTEM_SYSRULES_cardLayout\"(\n                            contents: {\n                              #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                                labelPosition: \"ABOVE\",\n                                value: {\n                                  #\"SYSTEM_SYSRULES_richTextIcon\"(\n                                    icon: fv!item.icon,\n                                    color: ri!brandingMap.LoudStampContentColor,\n                                    size: \"MEDIUM_PLUS\"\n                                  )\n                                },\n                                align: \"CENTER\"\n                              )\n                            },\n                            height: \"EXTRA_SHORT\",\n                            style: ri!brandingMap.LoudStampBackgroundColor,\n                            padding: \"LESS\",\n                            marginBelow: \"NONE\",\n                            showBorder: false,\n\n                          )\n                        },\n                        width: \"EXTRA_NARROW\"\n                      ),\n                      #\"SYSTEM_SYSRULES_columnLayout\"(\n                        #\"SYSTEM_SYSRULES_cardLayout\"(\n                          contents: fv!item.item,\n                          style: ri!brandingMap.CardBackgroundColor,\n                          showBorder: false,\n\n                        )\n                      )\n                    },\n                    alignVertical: \"MIDDLE\",\n                    stackWhen: \"NEVER\",\n                    spacing: \"DENSE\"\n                  )\n                },\n                height: \"AUTO\",\n                style: ri!brandingMap.CardBackgroundColor,\n                padding: \"NONE\",\n                marginAbove: \"NONE\",\n                marginBelow: \"NONE\",\n                showBorder: ri!brandingMap.CardShowBorder,\n                showShadow: ri!brandingMap.CardShowShadow,\n                shape: ri!brandingMap.CardShape,\n\n              )\n            },\n            showWhen: fv!item.showWhen,\n            marginAbove: \"NONE\",\n            marginBelow: \"LESS\"\n          )\n        )\n      },\n      height: \"AUTO\",\n      style: \"TRANSPARENT\",\n      shape: ri!brandingMap.CardShape,\n      padding: \"NONE\",\n      marginAbove: \"NONE\",\n      marginBelow: \"STANDARD\",\n      showBorder: false,\n      showShadow: false\n    )\n  }\n)"
    },
    "_a-0000e99c-1217-8000-9ba9-011c48011c48_56367": {
      "name": "CMGT_UTIL_ConvertDateTimeToTimezone",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(value: ri!dateTime),\n  null(),\n  local(\n    gmt(ri!dateTime),\n    a!defaultValue(\n      value: ri!timezone,\n      default: rule!CMGT_UTIL_SystemTimezone()\n    )\n  )\n)"
    },
    "_a-0000ec06-54a3-8000-9cca-011c48011c48_2515830": {
      "name": "CMGT_Task_EvaluateDataForDisplay",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!tabs: {\n    a!map(\n      translationLabel: #\"urn:appian:translation-string:v1:f339de0b-2302-4ef4-8218-c74f2a0a8c85\",\n      taskLogicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n        operator: \"AND\",\n        filters: {\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_Task.roles.userAssignee,\n            operator: \"=\",\n            value: loggedInUser()\n          ),\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_Task.statusId,\n            operator: \"in\",\n            value: {\n              cons!CMGT_REFID_STATUS_TASK_READY,\n              cons!CMGT_REFID_STATUS_TASK_IN_PROGRESS\n            }\n          ),\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_Task.case.statusId,\n            operator: \"<>\",\n            value: cons!CMGT_REFID_STATUS_CASE_CLOSED\n          )\n        }\n      ),\n      showTab: true,\n      metricEvalRule: null\n    ),\n    a!map(\n      translationLabel: #\"urn:appian:translation-string:v1:bb53e29d-433f-44b5-a6d0-1ff3e3c71c72\",\n      taskLogicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n        operator: \"AND\",\n        filters: {\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_Task.numberOfUserAssignees,\n            operator: \"=\",\n            value: 0\n          ),\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_Task.roles.groupAssignee,\n            operator: \"in\",\n            value: ri!userGroups\n          ),\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_Task.statusId,\n            operator: \"in\",\n            value: {\n              cons!CMGT_REFID_STATUS_TASK_READY,\n              cons!CMGT_REFID_STATUS_TASK_IN_PROGRESS\n            }\n          ),\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_Task.case.statusId,\n            operator: \"<>\",\n            value: cons!CMGT_REFID_STATUS_CASE_CLOSED\n          )\n        }\n      ),\n      showTab: true,\n      metricEvalRule: rule!CMGT_MTR_UserSelectedAssignedToGroupTab()\n    )\n  },\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!tabs,\n    expression: a!localVariables(\n      a!map(\n        name: fv!item.translationLabel,\n        showTab: fv!item.showTab,\n        taskLogicalExpression: fv!item.taskLogicalExpression,\n        metricEvalRule: fv!item.metricEvalRule\n      )\n    )\n  )\n)"
    },
    "_a-0000eeba-7a31-8000-9dbb-011c48011c48_4845526": {
      "name": "CMGT_SMS_AI_SmartSearchResultsTab_Top",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_cardLayout\"(\n  showBorder: false,\n  style: \"TRANSPARENT\",\n  padding: \"STANDARD\",\n  contents: {\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!topResults,\n      expression: a!match(\n        value: index(fv!item, \"context\", null()),\n        equals: \"CASES\",\n        then: rule!CMGT_SMS_AI_SmartSearchCaseCard(\n          case: index(fv!item, \"data\", null()),\n          brandingMap: ri!brandingMap\n        ),\n        equals: \"TASKS\",\n        then: rule!CMGT_SMS_AI_SmartSearchTaskCard(\n          task: index(fv!item, \"data\", null()),\n          brandingMap: ri!brandingMap\n        ),\n        default: {}\n      )\n    )\n  }\n)"
    },
    "_a-0000e9a5-4cb8-8000-9bac-011c48011c48_72412": {
      "name": "CMGT_Case_RecordGrid",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_gridField_v2\"(\n  label: ri!label,\n  labelPosition: \"COLLAPSED\",\n  emptyGridMessage: #\"urn:appian:translation-string:v1:8ee37f20-3590-406f-a163-623f655322c5\",\n  data: #\"SYSTEM_SYSRULES_recordData\"(\n    recordType: recordType!CMGT_Case,\n    filters: ri!logicalExpression,\n    fields: {\n      recordType!CMGT_Case.friendlyId,\n      recordType!CMGT_Case.caseId,\n      recordType!CMGT_Case.title,\n      recordType!CMGT_Case.caseType.fullLabel,\n      recordType!CMGT_Case.description,\n      recordType!CMGT_Case.priority.icon,\n      recordType!CMGT_Case.priority.priorityName,\n      recordType!CMGT_Case.priority.iconColor,\n      recordType!CMGT_Case.tagMap.tag.tagName,\n      recordType!CMGT_Case.status.statusLabel,\n      recordType!CMGT_Case.status.softColor,\n      recordType!CMGT_Case.status.textColor,\n      #\"urn:appian:record-field:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/07bc37b4-41ec-48e4-b08d-29d37608fe5c/6f0c8dbc-95d2-4ba7-9fb5-f0916efa0f08/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\",\n      recordType!CMGT_Case.roles.groupAssignee,\n      recordType!CMGT_Case.dueOn,\n      recordType!CMGT_Case.statusId,\n      recordType!CMGT_Case.modifiedOn,\n      recordType!CMGT_Case.createdByUser,\n      recordType!CMGT_Case.modifiedByUser,\n      recordType!CMGT_Case.modifiedBy,\n      recordType!CMGT_Case.createdBy,\n      recordType!CMGT_Case.createdByUser\n    },\n    relatedRecordData: {\n      #\"SYSTEM_SYSRULES_relatedRecordData\"(\n        relationship: recordType!CMGT_Case.roles,\n        /*This will put all users before groups*/\n        sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!CMGT_Role.groupId,\n          ascending: true\n        ),\n        filters: {\n          #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_Role.roleTypeId,\n            operator: \"in\",\n            value: {\n              cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n              cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n            }\n          )\n        }\n      )\n    }\n  ),\n  columns: {\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:265522d7-92e5-43ad-a1f4-be35fbd831ca\",\n      sortField: recordType!CMGT_Case.friendlyId,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: fv!row[recordType!CMGT_Case.friendlyId],\n            link: #\"SYSTEM_SYSRULES_recordLink\"(\n              recordType: recordType!CMGT_Case,\n              identifier: fv!row[recordType!CMGT_Case.caseId]\n            ),\n            linkStyle: \"STANDALONE\",\n            color: ri!brandingMap.StandardTextColor,\n            style: \"STRONG\"\n          ),\n          \" \",\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: fv!row[recordType!CMGT_Case.title],\n            color: ri!brandingMap.StandardTextColor,\n            style: \"STRONG\"\n          ),\n          char(10),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              concat(\n                fv!row[recordType!CMGT_Case.caseType.fullLabel],\n                if(\n                  a!isNullOrEmpty(\n                    fv!row[recordType!CMGT_Case.description]\n                  ),\n                  null,\n                  {\n                    \"  \",\n                    rule!CMGT_UTIL_TruncateText(\n                      text: {\n                        rule!CMGT_UTIL_StripHtmlTags(\n                          value: fv!row[recordType!CMGT_Case.description],\n                          isFormatted: false\n                        )\n                      },\n                      maxLength: 50\n                    )\n                  }\n                )\n              )\n            },\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\"\n          )\n        }\n      ),\n      showWhen: contains({ \"COMPACT_LIST\" }, ri!context)\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:b5c1a7f9-aa4e-4105-b1e3-6bf63eef7ce7\",\n      sortField: recordType!CMGT_Case.friendlyId,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: fv!row[recordType!CMGT_Case.friendlyId] & \" \" & fv!row[recordType!CMGT_Case.title],\n            link: #\"SYSTEM_SYSRULES_recordLink\"(\n              recordType: recordType!CMGT_Case,\n              identifier: fv!identifier,\n              openLinkIn: a!defaultValue(ri!openRecordLinkIn, \"SAME_TAB\")\n            ),\n            linkStyle: \"STANDALONE\",\n            color: ri!brandingMap.StandardTextColor,\n            style: \"STRONG\"\n          ),\n          char(10),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                icon: fv!row[recordType!CMGT_Case.priority.icon],\n                altText: #\"urn:appian:translation-string:v1:62c1d184-cd2b-4147-82cc-a8c82f4e295f\",\n                caption: fv!row[recordType!CMGT_Case.priority.priorityName],\n                color: rule!CMGT_UTIL_DisplayBranding(\n                  brandingMap: ri!brandingMap,\n                  key: fv!row[recordType!CMGT_Case.priority.iconColor]\n                ),\n                size: \"MEDIUM\"\n              ),\n              if(\n                a!isNullOrEmpty(\n                  fv!row[recordType!CMGT_Case.priority.priorityName]\n                ),\n                \"\",\n                char(32)\n              ),\n              fv!row[recordType!CMGT_Case.caseType.fullLabel],\n              if(\n                a!isNotNullOrEmpty(\n                  fv!row[recordType!CMGT_Case.tagMap.tag.tagName]\n                ),\n                \" \",\n                \"\"\n              )\n            },\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\"\n          ),\n          #\"SYSTEM_SYSRULES_richTextIcon\"(\n            icon: \"tags\",\n            altText: #\"urn:appian:translation-string:v1:099c60a3-5a2d-49ee-9b13-c666ff42e4f0\",\n            showWhen: a!isNotNullOrEmpty(\n              fv!row[recordType!CMGT_Case.tagMap.tag.tagName]\n            ),\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\"\n          ),\n          \" \",\n          rule!CMGT_Tag_GridDisplay(\n            tagNames: fv!row[recordType!CMGT_Case.tagMap.tag.tagName],\n            brandingMap: ri!brandingMap\n          )\n        }\n      ),\n      showWhen: contains(\n        { \"RECORD_LIST\", \"CASES_PAGE\" },\n        ri!context\n      ),\n      width: \"AUTO\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:7e0ce8d9-9374-4a9e-925a-fc30eb5ba4b6\",\n      value: #\"SYSTEM_SYSRULES_tagField\"(\n        tags: #\"SYSTEM_SYSRULES_tagItem\"(\n          text: fv!row[recordType!CMGT_Case.status.statusLabel],\n          backgroundColor: rule!CMGT_UTIL_DisplayBranding(\n            brandingMap: ri!brandingMap,\n            key: fv!row[recordType!CMGT_Case.status.softColor]\n          ),\n          textColor: rule!CMGT_UTIL_DisplayBranding(\n            brandingMap: ri!brandingMap,\n            key: fv!row[recordType!CMGT_Case.status.textColor]\n          )\n        ),\n        align: \"CENTER\"\n      ),\n      showWhen: contains(\n        {\n          \"COMPACT_LIST\",\n          \"RECORD_LIST\",\n          \"CASES_PAGE\"\n        },\n        ri!context\n      ),\n      align: \"START\",\n      width: \"AUTO\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:e86d727f-ed3a-4e2e-9380-d61ce5a2d09a\",\n      sortField: recordType!CMGT_Case.createdBy,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        value: {\n          /*user image*/\n          #\"SYSTEM_SYSRULES_richTextImage\"(\n            image: #\"SYSTEM_SYSRULES_userImage\"(\n              user: fv!row[recordType!CMGT_Case.createdBy]\n            )\n          ),\n          \" \",\n          /*Name*/\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: rule!CMGT_UTIL_DisplayUser(\n              userRecord: fv!row[recordType!CMGT_Case.createdByUser],\n              user: fv!row[recordType!CMGT_Case.createdBy]\n            ),\n            link: #\"SYSTEM_SYSRULES_userRecordLink\"(\n              user: fv!row[recordType!CMGT_Case.createdBy],\n              openLinkIn: \"NEW_TAB\",\n              showWhen: and(\n                a!isNotNullOrEmpty(\n                  fv!row[recordType!CMGT_Case.createdByUser]\n                ),\n                not(\n                  or(\n                    fv!row[#\"urn:appian:record-field:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/aca01291-ae61-4159-8dc4-52dda1ddc18e/SYSTEM_RECORD_TYPE_USER_FIELD_isServiceAccount\"] = true,\n                    #\"urn:appian:function:v1:a:isusermemberofgroup?okey=a!isUserMemberOfGroup\"(\n                      username: fv!row[recordType!CMGT_Case.createdBy],\n                      groups: cons!CMGT_GRP_SERVICE_ACCOUNTS\n                    )\n                  )\n                )\n              )\n            ),\n            linkStyle: \"STANDALONE\",\n            color: ri!brandingMap.StandardTextColor\n          )\n        }\n      ),\n      showWhen: contains(\n        { \"RECORD_LIST\", \"CASES_PAGE\" },\n        ri!context\n      ),\n      width: \"AUTO\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:7bcb0001-ac03-470f-a26b-be3786709f7e\",\n      value: rule!CMGT_UTIL_DisplayUserAndGroupAssigneeList(\n        separator: \", \",\n        emptyLabel: #\"urn:appian:translation-string:v1:83cc28fc-8558-4039-804c-602530960d97\",\n        brandingMap: ri!brandingMap,\n        assigneeList: fv!row[#\"urn:appian:record-field:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/07bc37b4-41ec-48e4-b08d-29d37608fe5c/6f0c8dbc-95d2-4ba7-9fb5-f0916efa0f08/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\"],\n        groupList: togroup(\n          fv!row[recordType!CMGT_Case.roles.groupAssignee]\n        )\n      ),\n      showWhen: contains(\n        { \"RECORD_LIST\", \"CASES_PAGE\" },\n        ri!context\n      ),\n      width: \"AUTO\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:0fef6afa-51d1-49a6-8b45-055c403a05d3\",\n      sortField: recordType!CMGT_Case.dueOn,\n      value: rule!CMGT_UTIL_DisplayDueDate(\n        dueOn: fv!row[recordType!CMGT_Case.dueOn],\n        showAsOverdueWhen: fv!row[recordType!CMGT_Case.statusId] <> cons!CMGT_REFID_STATUS_CASE_CLOSED,\n        brandingMap: ri!brandingMap\n      ),\n      showWhen: contains(\n        { \"RECORD_LIST\", \"CASES_PAGE\" },\n        ri!context\n      ),\n      align: \"START\",\n      width: \"AUTO\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:11bd60d9-131f-4409-8bf0-7ef9c57dd366\",\n      sortField: recordType!CMGT_Case.modifiedOn,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: rule!CMGT_UTIL_FormatDateTime(\n              dateTime: fv!row[recordType!CMGT_Case.modifiedOn],\n              includeTime: false()\n            ),\n            color: ri!brandingMap.StandardTextColor\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              char(10),\n              rule!CMGT_UTIL_DisplayUser(\n                userRecord: fv!row[recordType!CMGT_Case.modifiedByUser],\n                user: fv!row[recordType!CMGT_Case.modifiedBy]\n              )\n            },\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\"\n          )\n        }\n      ),\n      showWhen: contains(\n        { \"RECORD_LIST\", \"CASES_PAGE\" },\n        ri!context\n      ),\n      align: \"END\",\n      width: \"AUTO\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      value: #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n        actions: {\n          #\"SYSTEM_SYSRULES_recordActionItem\"(\n            action: #\"urn:appian:record-action:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/c4afe148-8255-40e3-a91a-43af8dd145d1\",\n            identifier: fv!row[recordType!CMGT_Case.caseId]\n          )\n        },\n        style: \"MENU_ICON\"\n      ),\n      showWhen: a!defaultValue(ri!showRecordActionColumn, false),\n      width: \"ICON\"\n    )\n  },\n  pageSize: a!defaultValue(\n    ri!pageSize,\n    cons!CMGT_INT_BATCH_SIZE_LARGE\n  ),\n  initialSorts: {\n    if(\n      a!defaultValue(ri!showMetaData, false),\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_Case.modifiedOn,\n        ascending: false\n      ),\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_Case.friendlyId,\n        ascending: false\n      )\n    )\n  },\n  selectable: ri!selectable,\n  selectionValue: ri!selectionValue,\n  selectionSaveInto: ri!selectionSaveInto,\n  selectionRequired: ri!selectionRequired,\n  borderStyle: \"LIGHT\",\n  shadeAlternateRows: true(),\n  /*For accessibility*/\n  rowHeader: 1,\n  refreshAfter: \"RECORD_ACTION\",\n  userFilters: if(\n    ri!showUserFilters = false,\n    {},\n    a!defaultValue(\n      ri!userFilters,\n      {\n        #\"urn:appian:user-filter:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/0f8c8b4f-9420-4c56-b8f5-4e7a2bf2e5b8\",\n        #\"urn:appian:user-filter:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/468664a0-f75e-4c15-9bb6-4ae41b5878df\",\n        #\"urn:appian:user-filter:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/6a0ca789-87d4-433b-aeba-3be6e09efee0\",\n        #\"urn:appian:user-filter:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/a1c408b0-2d4f-4120-8e29-47207f052f02\",\n        #\"urn:appian:user-filter:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/5839e7dd-447d-4eed-8618-541791488d53\",\n        #\"urn:appian:user-filter:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/70cb66f7-72f3-4260-ad48-def7f2f30f76\",\n        #\"urn:appian:user-filter:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/930f4c0a-56ab-4f58-b918-e1aaf3e391f1\"\n      }\n    )\n  ),\n  showSearchBox: a!defaultValue(ri!showSearchBox, true),\n  showRefreshButton: ri!showRefreshButton,\n  showExportButton: a!defaultValue(ri!showExportButton, true),\n  recordActions: {\n    if(\n      a!defaultValue(ri!showRecordActions, false),\n      #\"SYSTEM_SYSRULES_recordActionItem\"(\n        #\"urn:appian:record-action:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/484c73e3-b6f9-422f-afc7-d19f793a16b5\"\n      ),\n      \"\"\n    ),\n    /*show bulk update cases action only if the context is Cases page*/\n    if(\n      contains({ \"CASES_PAGE\" }, ri!context),\n      #\"SYSTEM_SYSRULES_recordActionItem\"(\n        #\"urn:appian:record-action:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/7b9a9a8a-0000-4bb4-a39c-260be024fdd0\"\n      ),\n      {}\n    )\n  },\n  validations: ri!validations\n)"
    },
    "_a-0000e9d3-70bf-8000-9bbd-011c48011c48_180481": {
      "name": "CMGT_UTIL_RejectBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n  runtimetypeof(a!flatten(ri!array)),\n  reject(a!isNullOrEmpty(_), a!flatten(ri!array))\n)"
    },
    "_a-0000eec7-c803-8000-9dc7-011c48011c48_4907625": {
      "name": "CMGT_SMS_UTIL_TabLayout",
      "type": "Interface",
      "sail_code": "{\n  a!localVariables(\n    local!isMobileScreenSize: a!defaultValue(ri!isMobileScreenSize, false),\n    {\n      if(\n        local!isMobileScreenSize,\n        #\"SYSTEM_SYSRULES_columnsLayout\"(\n          columns: {\n            #\"SYSTEM_SYSRULES_columnLayout\"(\n              contents: {\n                #\"SYSTEM_SYSRULES_dropdownField_v1\"(\n                  label: #\"urn:appian:translation-string:v1:2a5f4093-d5ab-4f98-9e91-6c882d53eddd\",\n                  labelPosition: \"COLLAPSED\",\n                  choiceLabels: #\"SYSTEM_SYSRULES_forEach\"(\n                    items: ri!tabs,\n                    expression: concat(\n                      fv!item.name,\n                      if(\n                        fv!item.showTabCount,\n                        concat(\" (\", fv!item.tabCount, \")\"),\n                        \"\"\n                      )\n                    )\n                  ),\n                  choiceValues: #\"SYSTEM_SYSRULES_forEach\"(items: ri!tabs, expression: fv!index),\n                  value: ri!activeTab,\n                  saveInto: {\n                    ri!activeTab,\n                    a!save(\n                      ri!metrics,\n                      index(\n                        ri!tabs,\n                        ri!activeTab,\n                        \"metricEvalRule\",\n                        null\n                      )\n                    )\n                  }\n                )\n              }\n            )\n          },\n          showWhen: a!defaultValue(ri!showWhen, true),\n          marginBelow: \"NONE\"\n        ),\n        #\"SYSTEM_SYSRULES_columnsLayout\"(\n          columns: {\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: ri!tabs,\n              expression: #\"SYSTEM_SYSRULES_columnLayout\"(\n                contents: {\n                  #\"SYSTEM_SYSRULES_cardLayout\"(\n                    contents: {\n                      #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                        items: {\n                          #\"SYSTEM_SYSRULES_sideBySideItem\"(width: \"AUTO\"),\n                          /* Display the icon */\n                          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                            item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                              label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Tab\" & fv!index),\n                              labelPosition: \"COLLAPSED\",\n                              value: {\n                                #\"SYSTEM_SYSRULES_richTextIcon\"(\n                                  icon: fv!item.icon,\n                                  color: ri!brandingMap.StandardTextColor,\n                                  size: \"STANDARD\"\n                                )\n                              }\n                            ),\n                            width: \"MINIMIZE\",\n                            showWhen: a!isNotNullOrEmpty(fv!item.icon)\n                          ),\n                          /* Display the name */\n                          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                            item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                              label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Tab\" & fv!index),\n                              labelPosition: \"COLLAPSED\",\n                              value: {\n                                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                  text: fv!item.name,\n                                  linkStyle: \"STANDALONE\",\n                                  color: ri!brandingMap.StandardTextColor,\n                                  size: a!defaultValue(ri!size, \"STANDARD\"),\n                                  style: if(fv!index = ri!activeTab, \"STRONG\", \"PLAIN\")\n                                )\n                              },\n                              align: \"CENTER\"\n                            ),\n                            width: \"MINIMIZE\"\n                          ),\n                          /*Display tab count*/\n                          if(\n                            fv!item.showTabCount,\n                            #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                              item: #\"SYSTEM_SYSRULES_tagField\"(\n                                labelPosition: \"COLLAPSED\",\n                                tags: #\"SYSTEM_SYSRULES_tagItem\"(\n                                  text: fv!item.tabCount,\n                                  backgroundColor: ri!brandingMap.TagBackgroundColor,\n                                  textColor: ri!brandingMap.TagTextColor\n                                ),\n                                size: \"SMALL\"\n                              ),\n                              width: \"MINIMIZE\"\n                            ),\n                            {}\n                          ),\n                          #\"SYSTEM_SYSRULES_sideBySideItem\"(width: \"AUTO\")\n                        },\n                        marginBelow: \"NONE\"\n                      )\n                    },\n                    link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                      label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Card Link\" & fv!index),\n                      value: fv!index,\n                      saveInto: {\n                        ri!activeTab,\n                        a!save(ri!metrics, fv!item.metricEvalRule)\n                      }\n                    ),\n                    style: if(\n                      fv!index = ri!activeTab,\n                      a!defaultValue(\n                        ri!activeTabBackgroundColor,\n                        \"TRANSPARENT\",\n\n                      ),\n                      \"TRANSPARENT\",\n\n                    ),\n                    padding: \"LESS\",\n                    height: \"AUTO\",\n                    marginBelow: \"NONE\",\n                    showBorder: false,\n                    decorativeBarPosition: \"BOTTOM\",\n                    decorativeBarColor: if(\n                      fv!index = ri!activeTab,\n                      \"ACCENT\",\n                      ri!brandingMap.ConfigBackgroundColor\n                    ),\n                    accessibilityText: if(\n                      fv!index = ri!activeTab,\n                      #\"urn:appian:translation-string:v1:506805fb-4c0f-414b-90f2-023f86caf367\",\n                      \"\"\n                    )\n                  )\n                },\n                width: \"NARROW\",\n                showWhen: fv!item.showTab\n              )\n            )\n          },\n          alignVertical: \"BOTTOM\",\n          marginBelow: \"NONE\",\n          marginAbove: \"LESS\",\n          spacing: \"NONE\",\n          showDividers: false,\n          showWhen: a!defaultValue(ri!showWhen, true)\n        )\n      ),\n      #\"SYSTEM_SYSRULES_horizontalLine\"(marginAbove: \"NONE\")\n    }\n  )\n}"
    },
    "_a-0000ec18-c982-8000-9cd0-011c48011c48_2632030": {
      "name": "CMGT_LA_Message_SetEvents",
      "type": "Expression Rule",
      "sail_code": "a!flatten(\n  {\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!comments,\n      expression: rule!CMGT_CaseEventHistory_Constructor(\n        caseId: fv!item[recordType!CMGT_Comment.caseId],\n        initiator: ri!initiator,\n        eventTypeId: /*external messages event history*/\n        if(\n          fv!item[recordType!CMGT_Comment.isActive] = false,\n          cons!CMGT_LA_REFID_EVENT_TYPE_CASE_DELETE_MESSAGE,\n          if(\n            a!isNotNullOrEmpty(\n              fv!item[recordType!CMGT_Comment.commentId]\n            ),\n            cons!CMGT_LA_REFID_EVENT_TYPE_CASE_UPDATE_MESSAGE,\n            if(\n              a!isNotNullOrEmpty(\n                fv!item[recordType!CMGT_Comment.parentCommentId]\n              ),\n              cons!CMGT_LA_REFID_EVENT_TYPE_CASE_REPLY_TO_MESSAGE,\n              cons!CMGT_LA_REFID_EVENT_TYPE_CASE_CREATE_MESSAGE\n            )\n          )\n        ),\n        details: a!localVariables(\n          local!detailsMap: a!map(\n            commentText: fv!item[recordType!CMGT_Comment.commentText],\n            taggedUsers: if(\n              rule!CMGT_UTIL_IsBlank(\n                ri!comments[recordType!CMGT_Comment.userTags]\n              ),\n              {},\n              rule!CMGT_UTIL_RejectBlank(\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  items: a!flatten(\n                    ri!comments[recordType!CMGT_Comment.userTags]\n                  ),\n                  expression: if(\n                    fv!item[recordType!CMGT_CommentUserTag.isActive],\n                    tostring(\n                      fv!item[recordType!CMGT_CommentUserTag.username]\n                    ),\n                    null\n                  )\n                )\n              )\n            ),\n            documents: if(\n              rule!CMGT_UTIL_IsBlank(\n                ri!comments[recordType!CMGT_Comment.commentDocumentMap]\n              ),\n              null,\n              rule!CMGT_UTIL_RejectBlank(\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  items: a!flatten(\n                    ri!comments[recordType!CMGT_Comment.commentDocumentMap]\n                  ),\n                  expression: if(\n                    fv!item[recordType!CMGT_CommentDocumentMap.isActive],\n                    a!localVariables(\n                      local!originalDocument: rule!CMGT_QR_GetDocument(\n                        documentId: fv!item[recordType!CMGT_CommentDocumentMap.documentId],\n                        returnType: \"SINGLE_OBJECT\"\n                      ),\n                      concat(\n                        document(\n                          documentId: local!originalDocument[recordType!CMGT_Document.appianDocId],\n                          property: \"name\"\n                        ),\n                        \".\",\n                        lower(\n                          document(\n                            documentId: local!originalDocument[recordType!CMGT_Document.appianDocId],\n                            property: \"extension\"\n                          )\n                        )\n                      )\n                    ),\n                    null\n                  )\n                )\n              )\n            )\n          ),\n          local!detailsMap\n        )\n      )\n    )\n  }\n)"
    },
    "_a-0000eb32-20f6-8000-9c60-011c48011c48_1481943": {
      "name": "CMGT_QR_GetEntityCategory",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_CFG_EntityCategory,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_EntityCategory.entityCategoryId,\n      operator: \"in\",\n      value: ri!entityCategoryId\n    )\n   \n  },\n  fields: ri!fields,\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ebb3-5308-8000-9cab-011c48011c48_2123324": {
      "name": "CMGT_LA_Email_CommentCreation_NotifyCaseAssignees_ReplacementParamsMap",
      "type": "Expression Rule",
      "sail_code": "{\n  /*Base Template Parameters*/\n  rule!CMGT_Email_BaseTemplate_ReplacementParamsMap(\n    brandingMap: ri!brandingMap,\n    footerText: concat(\n      \"<em>\",\n      #\"urn:appian:translation-string:v1:ebdc3e27-bbef-4258-a6ad-ea3c9f715b94\",\n      \"</em>\"\n    ),\n    buttonLabel: #\"urn:appian:translation-string:v1:f40e55e9-5bdd-4abb-98af-a075a68c16b1\",\n    /*link to messages tab on the case in the workspace*/\n    buttonLinkUrl: #\"urn:appian:function:v1:a:urlforrecord?okey=a!urlForRecord\"(\n      recordType: recordType!CMGT_Case,\n      identifier: ri!case[recordType!CMGT_Case.caseId],\n      targetLocation: rule!CMGT_SITE_PAGE_CASES(),\n      view: cons!CMGT_LA_TXT_URL_STUB_CASE_RECORD_MESSAGES_TAB\n    )\n  ),\n  /*Body*/\n  {\n    find: \"body\",\n    replace: rule!CMGT_UTIL_FillDocumentTemplate(\n      document: cons!CMGT_LA_MESSAGES_EMAIL_BODY_TEMPLATE,\n      replacementParams: {\n        {\n          find: \"caseFriendlyIdTextColor\",\n          replace: ri!brandingMap.secondaryTextColor\n        },\n        {\n          find: \"caseFriendlyId\",\n          replace: ri!case[recordType!CMGT_Case.friendlyId],\n          \n        },\n        {\n          find: \"primaryTextColor\",\n          replace: ri!brandingMap.StandardTextColor\n        },\n        {\n          find: \"primaryText\",\n          replace: #\"urn:appian:translation-string:v1:623ee3e8-e00a-4650-b605-6d78d9240f07\"\n        },\n        {\n          find: \"secondaryTextColor\",\n          replace: ri!brandingMap.StandardTextColor\n        },\n        {\n          find: \"secondaryText\",\n          replace: #\"urn:appian:translation-string:v1:82656bcb-6e0a-4ed0-a600-8ffbed61b80e\"(\n            #\"urn:appian:translation-variable:v1:93e27655-fa99-4fce-8af5-7c1bc9d7d2c0\": rule!CMGT_UTIL_DisplayUserFullName(username: ri!commentCreatedBy)\n          )\n        }\n      }\n    )\n  }\n}"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_25890": {
      "name": "CMGT_UTIL_IsBlank",
      "type": "Expression Rule",
      "sail_code": "length(a!flatten(ri!value)) = 0"
    },
    "_a-0000e9dc-ab93-8000-9bc2-011c48011c48_184820": {
      "name": "CMGT_SitePage_Entities",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!brandingMap: rule!CMGT_UTIL_LoadBrandingMap(),\n  local!triggerRefresh: a!refreshVariable(\n    value: now(),\n    refreshAfter: \"RECORD_ACTION\"\n  ),\n  local!entityCategoryTabs: #\"SYSTEM_SYSRULES_forEach\"(\n    items: rule!CMGT_QR_GetEntityCategory(triggerRefresh: null),\n    expression: a!map(\n      name: fv!item[recordType!CMGT_CFG_EntityCategory.labelPlural],\n      entityCategoryId: fv!item[recordType!CMGT_CFG_EntityCategory.entityCategoryId],\n      label: fv!item[recordType!CMGT_CFG_EntityCategory.label]\n    )\n  ),\n  local!activeTab: 1,\n  local!suggestedEntities: rule!CMGT_QR_GetEntity(\n    fields: {\n      recordType!CMGT_Entity.entityCategory\n    },\n    additionalFilters: #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Entity.modifiedBy,\n      operator: \"=\",\n      value: loggedInUser()\n    ),\n    triggerRefresh: local!triggerRefresh,\n    returnType: \"OBJECT_ARRAY\",\n    pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n      startIndex: 1,\n      batchSize: 5,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_Entity.modifiedOn,\n        ascending: false\n      )\n    )\n  ),\n  #\"SYSTEM_SYSRULES_headerContentLayout\"(\n    backgroundColor: local!brandingMap.DefaultBackgroundColor,\n    contents: {\n      rule!CMGT_UTIL_HeaderField(\n        label: #\"urn:appian:translation-string:v1:6e41c2c8-6bbf-4510-ad97-ae06858eff45\",\n        labelSize: \"MEDIUM_PLUS\",\n        labelColor: local!brandingMap.StandardTextColor,\n        brandingMap: local!brandingMap,\n        marginAbove: \"NONE\",\n        divider: \"NONE\",\n        rightSideContents: {\n          #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n            actions: {\n              #\"SYSTEM_SYSRULES_recordActionItem\"(\n                action: #\"urn:appian:record-action:v1:ad3b988c-faba-4c39-9bda-be1ad52b4019/2fed3bba-1935-43a0-830a-55428610423c\"\n              )\n            },\n            style: \"TOOLBAR_PRIMARY\",\n            align: \"END\"\n          )\n        }\n      ),\n      rule!CMGT_UTIL_HeaderField(\n        label: #\"urn:appian:translation-string:v1:e5d1b47e-d320-4757-af9f-958c41e9d681\",\n        brandingMap: local!brandingMap,\n        marginAbove: \"NONE\",\n        divider: \"NONE\",\n        marginBelow: \"NONE\",\n        showWhen: a!isNotNullOrEmpty(local!suggestedEntities)\n      ),\n      rule!CMGT_UTIL_CardGroupHandler(\n        maxPerRow: if(\n          #\"SYSTEM_SYSRULES_isPageWidth\"({ \"DESKTOP_WIDE\", \"DESKTOP\" }),\n          5,\n          3\n        ),\n        cardLayouts: {\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!suggestedEntities,\n            expression: rule!CMGT_Entity_Sub_SuggestedEntityDetailsSmall(\n              entity: fv!item,\n              brandingMap: local!brandingMap\n            )\n          )\n        }\n      ),\n      rule!CMGT_UTIL_HeaderField(\n        label: #\"urn:appian:translation-string:v1:a15973ec-16cf-4989-93e7-1a6b929828b8\",\n        brandingMap: local!brandingMap,\n        marginAbove: \"NONE\",\n        divider: \"NONE\",\n        marginBelow: \"NONE\"\n      ),\n      #\"SYSTEM_SYSRULES_cardLayout\"(\n        contents: {\n          rule!CMGT_UTIL_TabLayout(\n            tabs: local!entityCategoryTabs,\n            activeTab: local!activeTab,\n            brandingMap: local!brandingMap\n          ),\n          #\"SYSTEM_SYSRULES_cardLayout\"(\n            showBorder: false,\n            style: \"TRANSPARENT\",\n            contents: {\n              rule!CMGT_Entity_RecordGrid(\n                entityCategoryId: index(\n                  local!entityCategoryTabs.entityCategoryId,\n                  local!activeTab,\n                  null\n                ),\n                userFilters: {\n                  #\"urn:appian:user-filter:v1:ad3b988c-faba-4c39-9bda-be1ad52b4019/8413fe9c-1381-43a9-9aff-c855a928cafc\",\n                  #\"urn:appian:user-filter:v1:ad3b988c-faba-4c39-9bda-be1ad52b4019/780f13bf-eecb-46ce-af7a-8622967f4976\"\n                },\n                brandingMap: rule!CMGT_UTIL_LoadBrandingMap(),\n                label: index(\n                  local!entityCategoryTabs.label,\n                  local!activeTab,\n                  null\n                ),\n                labelPosition: \"COLLAPSED\",\n                context: \"RECORD_LIST\"\n              )\n            },\n\n          )\n        },\n        padding: \"NONE\",\n        showBorder: local!brandingMap.CardShowBorder,\n        showShadow: local!brandingMap.CardShowShadow,\n        style: local!brandingMap.CardBackgroundColor,\n        shape: local!brandingMap.CardShape\n      )\n    }\n  )\n)"
    },
    "_a-0000eced-17e9-8000-9bba-011c48011c48_45929": {
      "name": "CMGT_Workspace_InternalUser_Sub_MyWorkInProgress",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!activeTab: 1,\n  local!tabs: {\n    a!map(\n      name: #\"urn:appian:translation-string:v1:c750f1f2-e7b8-4b75-b1b3-017fc218be26\",\n    ),\n    a!map(\n      name: #\"urn:appian:translation-string:v1:406b7c4a-ff09-4f3e-b7a7-333b03e9e34e\",\n    )\n  },\n  local!cases: a!refreshVariable(\n    value: if(\n      local!activeTab = 1,\n      #\"SYSTEM_SYSRULES_queryRecordType_v1\"(\n        recordType: recordType!CMGT_Case,\n        filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n          operator: \"AND\",\n          ignoreFiltersWithEmptyValues: true,\n          filters: {\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Case.statusId,\n              operator: \"<>\",\n              value: cons!CMGT_REFID_STATUS_CASE_CLOSED\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Case.dueOn,\n              operator: \"not null\"\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Case.roles.userAssignee,\n              operator: \"=\",\n              value: ri!loggedInUser\n            )\n          }\n        ),\n        fields: #\"SYSTEM_SYSRULES_aggregationFields\"(\n          measures: {\n            #\"SYSTEM_SYSRULES_measure\"(\n              field: recordType!CMGT_Case.caseId,\n              alias: \"dueLater\",\n              function: \"COUNT\",\n              filters: {\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.dueOn,\n                  operator: \">\",\n                  value: rule!CMGT_UTIL_ConvertDateTimeToTimezone(\n                    dateTime: datetime(\n                      year(now()),\n                      month(now()),\n                      day(now()),\n                      23,\n                      59,\n                      59\n                    ),\n                    timezone: \"GMT\"\n                  )\n                )\n              }\n            ),\n            #\"SYSTEM_SYSRULES_measure\"(\n              field: recordType!CMGT_Case.caseId,\n              alias: \"dueToday\",\n              function: \"COUNT\",\n              filters: {\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.dueOn,\n                  operator: \"between\",\n                  value: {\n                    now(),\n                    rule!CMGT_UTIL_ConvertDateTimeToTimezone(\n                      dateTime: datetime(\n                        year(now()),\n                        month(now()),\n                        day(now()),\n                        23,\n                        59,\n                        59\n                      ),\n                      timezone: \"GMT\"\n                    )\n                  }\n                )\n              }\n            ),\n            #\"SYSTEM_SYSRULES_measure\"(\n              field: recordType!CMGT_Case.caseId,\n              alias: \"overdue\",\n              function: \"COUNT\",\n              filters: {\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.dueOn,\n                  operator: \"<\",\n                  value: now()\n                )\n              }\n            )\n          }\n        ),\n        pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(1, 5000)\n      ),\n      null\n    ),\n    refreshOnVarChange: ri!triggerRefresh\n  ),\n  local!tasks: a!refreshVariable(\n    value: if(\n      local!activeTab = 1,\n      null,\n      #\"SYSTEM_SYSRULES_queryRecordType_v1\"(\n        recordType: recordType!CMGT_Task,\n        filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n          operator: \"AND\",\n          ignoreFiltersWithEmptyValues: true,\n          filters: {\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Task.case.statusId,\n              operator: \"<>\",\n              value: cons!CMGT_REFID_STATUS_CASE_CLOSED\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Task.statusId,\n              operator: \"in\",\n              value: {\n                cons!CMGT_REFID_STATUS_TASK_READY,\n                cons!CMGT_REFID_STATUS_TASK_IN_PROGRESS\n              }\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Task.roles.username,\n              operator: \"=\",\n              value: ri!loggedInUser\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Task.dueOn,\n              operator: \"not null\"\n            )\n          }\n        ),\n        fields: #\"SYSTEM_SYSRULES_aggregationFields\"(\n          measures: {\n            #\"SYSTEM_SYSRULES_measure\"(\n              field: recordType!CMGT_Task.taskId,\n              alias: \"dueLater\",\n              function: \"COUNT\",\n              filters: {\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Task.dueOn,\n                  operator: \">\",\n                  value: rule!CMGT_UTIL_ConvertDateTimeToTimezone(\n                    dateTime: datetime(\n                      year(now()),\n                      month(now()),\n                      day(now()),\n                      23,\n                      59,\n                      59\n                    ),\n                    timezone: \"GMT\"\n                  )\n                )\n              }\n            ),\n            #\"SYSTEM_SYSRULES_measure\"(\n              field: recordType!CMGT_Task.taskId,\n              alias: \"dueToday\",\n              function: \"COUNT\",\n              filters: {\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Task.dueOn,\n                  operator: \"between\",\n                  value: {\n                    now(),\n                    rule!CMGT_UTIL_ConvertDateTimeToTimezone(\n                      dateTime: datetime(\n                        year(now()),\n                        month(now()),\n                        day(now()),\n                        23,\n                        59,\n                        59\n                      ),\n                      timezone: \"GMT\"\n                    )\n                  }\n                )\n              }\n            ),\n            #\"SYSTEM_SYSRULES_measure\"(\n              field: recordType!CMGT_Task.taskId,\n              alias: \"overdue\",\n              function: \"COUNT\",\n              filters: {\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Task.dueOn,\n                  operator: \"<\",\n                  value: now()\n                )\n              }\n            )\n          }\n        ),\n        pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(1, 5000)\n      )\n    ),\n    refreshOnVarChange: ri!triggerRefresh\n  ),\n  local!reportData: {\n    a!map(\n      label: #\"urn:appian:translation-string:v1:d7fef3a3-051d-443a-b953-149895f8a3c8\",\n      value: if(\n        local!activeTab = 1,\n        local!cases.data.overdue,\n        local!tasks.data.overdue\n      )\n    ),\n    a!map(\n      label: #\"urn:appian:translation-string:v1:c5019006-de15-41e1-b733-7c387844fff7\",\n      value: if(\n        local!activeTab = 1,\n        local!cases.data.dueToday,\n        local!tasks.data.dueToday\n      )\n    ),\n    a!map(\n      label: #\"urn:appian:translation-string:v1:b1a0fe3b-c773-4665-8f2f-0f9544303b7f\",\n      value: if(\n        local!activeTab = 1,\n        local!cases.data.dueLater,\n        local!tasks.data.dueLater\n      )\n    )\n  },\n  local!isDataEmpty:sum(\n    tointeger(a!flatten(local!reportData.value))\n  ) = 0,\n  {\n    rule!CMGT_UTIL_HeaderField(\n      label: #\"urn:appian:translation-string:v1:048a47bf-e7e7-428d-bb4e-b51b5d4501a5\",\n      divider: \"NONE\",\n      brandingMap: ri!brandingMap,\n      marginBelow: \"NONE\"\n    ),\n    #\"SYSTEM_SYSRULES_cardLayout\"(\n      contents: {\n        rule!CMGT_UTIL_TabLayout(\n          tabs: local!tabs,\n          activeTab: local!activeTab,\n          brandingMap: ri!brandingMap,\n          showAdditionalTabCard: false\n        ),\n        #\"SYSTEM_SYSRULES_cardLayout\"(\n          contents: if(\n            local!isDataEmpty,\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              value: {\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: if(local!activeTab=1,#\"urn:appian:translation-string:v1:bfd40925-755f-4a36-a4e4-73b355206d21\",#\"urn:appian:translation-string:v1:f56772d7-a0c6-4f66-9ecd-2ce9920a5678\"),\n                  color: ri!brandingMap.SecondaryTextColor,\n                  style: \"EMPHASIS\"\n                )\n              },\n              marginAbove: \"NONE\",\n              marginBelow: \"STANDARD\",\n              align: \"CENTER\"\n            ),\n            #\"SYSTEM_SYSRULES_columnChartField\"(\n              label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"My Work In Progress\"),\n              labelPosition: \"COLLAPSED\",\n              categories: index(local!tabs.name, local!activeTab, null),\n              series: {\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  items: local!reportData,\n                  expression: #\"SYSTEM_SYSRULES_chartSeries\"(label: fv!item.label, data: fv!item.value),\n\n                )\n              },\n              stacking: \"NONE\",\n              showLegend: true,\n              showTooltips: true,\n              height: \"SHORT\",\n              xAxisStyle: \"NONE\",\n              yAxisStyle: \"NONE\",\n              colorScheme: rule!CMGT_UTIL_parseColorSchemeBranding(\n                colorSchemeValue: ri!brandingMap.WorkInProgressColorScheme\n              )\n            )\n          ),\n          padding:if( local!isDataEmpty,\"MORE\",\"LESS\"),\n          style: \"TRANSPARENT\",\n          showBorder: false\n        )\n      },\n      height: \"AUTO\",\n      style: ri!brandingMap.CardBackgroundColor,\n      shape: ri!brandingMap.CardShape,\n      marginBelow: \"STANDARD\",\n      padding: \"NONE\",\n      showBorder: ri!brandingMap.CardShowBorder,\n      showShadow: ri!brandingMap.CardShowShadow\n    )\n  }\n)"
    },
    "_a-0000ea9e-6ae8-8000-9c1d-011c48011c48_952061": {
      "name": "CMGT_displayListOfItems",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!values),\n  ri!emptyLabel,\n  joinarray(\n    ri!values,\n    ri!separator\n  )\n)"
    },
    "_a-0000e9ae-873e-8000-9baf-011c48011c48_90184": {
      "name": "CMGT_UTIL_CalendarField_GetMonthDates",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!startDate),\n  {},\n  a!localVariables(\n    local!daysInAWeek: 7,\n    local!month: month(ri!startDate),\n    local!year: year(ri!startDate),\n    /** Create initial array of dates for current month **/\n    local!numOfDaysInMonth: daysinmonth(local!month, local!year),\n    local!arrayOfDates: #\"SYSTEM_SYSRULES_forEach\"(\n      items: enumerate(local!numOfDaysInMonth) + 1,\n      expression: date(local!year, local!month, fv!item)\n    ),\n    /** Prepend array with last month's dates **/\n    local!firstDayOfMonth: date(local!year, local!month, 1),\n    local!monthStartDayOfWeek: weekday(local!firstDayOfMonth),\n    local!numOfDaysToPrepend: local!monthStartDayOfWeek - 1,\n    local!lastDayOfMonth: date(\n      local!year,\n      local!month,\n      local!numOfDaysInMonth\n    ),\n    local!previousMonth: month(\n      local!lastDayOfMonth - local!numOfDaysInMonth\n    ),\n    local!previousYear: year(\n      local!lastDayOfMonth - local!numOfDaysInMonth\n    ),\n    local!numOfDaysInPrevMonth: daysinmonth(local!previousMonth, local!previousYear),\n    local!datesToPrepend: #\"SYSTEM_SYSRULES_forEach\"(\n      items: if(\n        local!numOfDaysToPrepend = 0,\n        {},\n        index(\n          reverse(\n            enumerate(local!numOfDaysInPrevMonth) + 1\n          ),\n          { enumerate(local!numOfDaysToPrepend) + 1 },\n          {}\n        )\n      ),\n      expression: date(\n        local!previousYear,\n        local!previousMonth,\n        fv!item\n      )\n    ),\n    local!arrayWithPrependedDates: reduce(\n      fn!insert,\n      local!arrayOfDates,\n      local!datesToPrepend,\n      1\n    ),\n    /** Append array with next month's dates **/\n    local!monthEndDayOfWeek: weekday(\n      date(\n        local!year,\n        local!month,\n        local!numOfDaysInMonth\n      )\n    ),\n    local!numOfDaysToAppend: local!daysInAWeek - local!monthEndDayOfWeek,\n    local!nextMonth: month(\n      local!firstDayOfMonth + local!numOfDaysInMonth\n    ),\n    local!nextYear: year(\n      local!firstDayOfMonth + local!numOfDaysInMonth\n    ),\n    local!datesToAppend: #\"SYSTEM_SYSRULES_forEach\"(\n      items: if(\n        local!numOfDaysToAppend = 0,\n        {},\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: enumerate(local!numOfDaysToAppend) + 1,\n          expression: tostring(fv!item)\n        )\n      ),\n      expression: date(local!nextYear, local!nextMonth, fv!item)\n    ),\n    local!arrayWithAppendedDates: reduce(\n      fn!append,\n      local!arrayWithPrependedDates,\n      local!datesToAppend\n    ),\n    local!arrayWithAppendedDates\n  )\n)"
    },
    "_a-0000ebb3-5308-8000-9cab-011c48011c48_2127795": {
      "name": "CMGT_LA_Email_EmailSettingMap_MessageCreation_NotifyLimitedAccessUser",
      "type": "Expression Rule",
      "sail_code": "a!flatten(\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!comments,\n    expression: a!localVariables(\n      /*Gets the case associated with the new comment added*/\n      local!case: rule!CMGT_QR_GetCase(\n        caseId: fv!item[recordType!CMGT_Comment.caseId],\n        fields: recordType!CMGT_Case.roles,\n        /* Get all submitters who has claimed the case  */\n        relatedRecordData: #\"SYSTEM_SYSRULES_relatedRecordData\"(\n          relationship: recordType!CMGT_Case.roles,\n          filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_Role.roleTypeId,\n            operator: \"=\",\n            value: cons!CMGT_LA_REFID_ROLE_TYPE_SUBMITTER\n          )\n        ),\n        excludeRelatedRecords: true()\n      ),\n      /*  Rejecting the message creator from submitters    */\n      local!submitterRoles: rule!CMGT_UTIL_Filter(\n        records: a!flatten(\n          local!case[recordType!CMGT_Case.roles]\n        ),\n        field: recordType!CMGT_Role.username,\n        value: fv!item[recordType!CMGT_Comment.createdBy],\n        filterType: \"REJECT\"\n      ),\n      local!comment: fv!item,\n      if(\n        rule!CMGT_UTIL_IsBlank(local!submitterRoles),\n        {},\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: local!submitterRoles,\n          expression: if(\n            contains(\n              touniformstring(\n                local!comment[recordType!CMGT_Comment.userTags.username]\n              ),\n              touniformstring(\n                fv!item[recordType!CMGT_Role.username]\n              )\n            ),\n            {},\n            a!localVariables(\n              local!subjectAndRecipients: a!map(\n                subject: #\"urn:appian:translation-string:v1:623ee3e8-e00a-4650-b605-6d78d9240f07\",\n                recipients: if(\n                  isusernametaken(\n                    fv!item[recordType!CMGT_Role.username]\n                  ),\n                  toemailrecipient(\n                    fv!item[recordType!CMGT_Role.username]\n                  ),\n                  null\n                )\n              ),\n              a!map(\n                recipients: local!subjectAndRecipients.recipients,\n                subject: local!subjectAndRecipients.subject,\n                recipientEmailAddress: null,\n                replacementParams: rule!CMGT_LA_Email_MessageCreation_NotifyLimitedAccessUser_ReplacementParamsMap(\n                  case: local!case,\n                  commentCreatedBy: rule!CMGT_UTIL_DisplayUserFullName(\n                    username: local!comment[recordType!CMGT_Comment.createdBy]\n                  ),\n                  brandingMap: ri!brandingMap\n                )\n              )\n            )\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e9ca-3659-8000-9bb8-011c48011c48_145648": {
      "name": "CMGT_UTIL_GetSiteUrl",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!authedPath: cast(\n    'type!{http://www.appian.com/ae/types/2009}Text',\n    extract(linktodocument(0, \"doc\"), \"\"\"\", \"/doc/\")\n  ),\n  local!subdomainWithDomain: extract(local!authedPath, \"//\", \"/suite\")[1],\n  local!subdomain: split(local!subdomainWithDomain, \".\")[1],\n  a!map(\n    subdomain: local!subdomain,\n    authedPath: local!authedPath,\n    subdomainWithDomain: local!subdomainWithDomain\n  )\n)"
    },
    "_a-0000ec22-0443-8000-9cd2-011c48011c48_2678741": {
      "name": "CMGT_LA_MTR_UserCreatesCaseMessage",
      "type": "Expression Rule",
      "sail_code": "now()"
    },
    "_a-0000ec22-0443-8000-9cd2-011c48011c48_2678620": {
      "name": "CMGT_LA_MTR_MessageWrapper",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!comments,\n  expression: /*Case Message  */\n  a!match(\n    value: fv!item[recordType!CMGT_Comment.commentId],\n    whenTrue: a!isNullOrEmpty(fv!value),\n    then: rule!CMGT_LA_MTR_UserCreatesCaseMessage(),\n    default: rule!CMGT_LA_MTR_UserEditsCaseMessage()\n  )\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_29411": {
      "name": "CMGT_QR_GetTask",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_Task,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  groupByFields: ri!groupByFields,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.taskId,\n      operator: \"in\",\n      value: ri!taskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.caseId,\n      operator: \"in\",\n      value: ri!caseId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.statusId,\n      operator: \"in\",\n      value: ri!statusId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.dueOn,\n      operator: \">\",\n      value: rule!CMGT_UTIL_ConvertDatetoDatetime(\n        date: ri!dueOnDate - 1,\n        useSystemTimeZone: a!defaultValue(ri!useSystemTimeZoneForDueOn, true)\n      )\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.dueOn,\n      operator: \"<=\",\n      value: rule!CMGT_UTIL_ConvertDatetoDatetime(\n        date: ri!dueOnDate,\n        useSystemTimeZone: a!defaultValue(ri!useSystemTimeZoneForDueOn, true)\n      )\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.isActive,\n      operator: \"=\",\n      value: true,\n      applyWhen: ri!includeInactive <> true\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.isCurrent,\n      operator: \"=\",\n      value: a!defaultValue(ri!isCurrentTask, true),\n      applyWhen: a!defaultValue(ri!isCurrentTaskApplyWhen, true),\n      \n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.taskIntentionCode,\n      operator: \"in\",\n      value: a!defaultValue(\n        ri!taskIntentionCodes,\n        {\n          cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_WORKFLOW\n        }\n      )\n    ),\n    \n  },\n  fields: {\n    ri!fields,\n    if(\n      ri!includeRoles,\n      {\n        recordType!CMGT_Task.roles\n      },\n      {}\n    ),\n    if(\n      ri!includeMilestone,\n      {\n        recordType!CMGT_Task.milestone\n      },\n      {}\n    ),\n    if(\n      ri!includeCase,\n      {\n        recordType!CMGT_Task.case\n      },\n      {}\n    ),\n    if(\n      ri!includeBranches,\n      {\n        recordType!CMGT_Task.beforeTaskInstanceBranches,\n        recordType!CMGT_Task.beforeTaskInstanceBranches,\n        recordType!CMGT_Task.beforeTaskInstanceBranches,\n        #\"urn:appian:record-relationship:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/73a323c9-ce12-4212-97aa-f89df7d14c09/9644c5ba-af85-48a3-9cda-fcfb028d6113/3280de96-3518-4a9e-b8ae-854a84562f07\"\n      },\n      {}\n    ),\n    recordType!CMGT_Task.taskBehaviorType,\n    recordType!CMGT_Task.status,\n    recordType!CMGT_Task.taskResponseOptions,\n    recordType!CMGT_Task.selectedTaskResponseOption,\n    recordType!CMGT_Task.conditionSet,\n    recordType!CMGT_Task.conditionSet,\n    #\"urn:appian:record-relationship:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/5189c3ac-98e2-4a82-8598-2e9561baec9d/64b891e4-359b-48b4-9f47-2a3af4695c34/52813580-ecf3-49c7-be71-568ab452d54a\",\n    recordType!CMGT_Task.createCaseTask,\n    recordType!CMGT_Task.sendEmailTask,\n    recordType!CMGT_Task.sendEmailTask,\n    recordType!CMGT_Task.automationTaskAction\n  },\n  logicalExpressions: {\n    ri!additionalLogicalExpression,\n    rule!CMGT_Task_AutomationRuleGlobalLogicalExpression(\n      taskIntentionCodes: ri!taskIntentionCodes\n    )\n  },\n  pagingInfo: ri!pagingInfo,\n  relatedRecordData: ri!relatedRecordData,\n  sort: ri!sort,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ea95-307e-8000-9c1a-011c48011c48_941456": {
      "name": "CMGT_Entity_Sub_SuggestedEntityDetailsSmall",
      "type": "Interface",
      "sail_code": "{\n  #\"SYSTEM_SYSRULES_cardLayout\"(\n    contents: #\"SYSTEM_SYSRULES_columnsLayout\"(\n    columns: {\n      #\"SYSTEM_SYSRULES_columnLayout\"(\n        contents: #\"SYSTEM_SYSRULES_cardLayout\"(\n          contents: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            labelPosition: \"ABOVE\",\n            value: {\n              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                icon: ri!entity[recordType!CMGT_Entity.entityCategory.icon],\n                color: ri!brandingMap.EntityAccentColor,\n                size: \"MEDIUM_PLUS\",\n                caption: ri!entity[recordType!CMGT_Entity.entityCategory.label]\n              )\n            },\n            align: \"CENTER\"\n          ),\n          height: \"EXTRA_SHORT\",\n          style: ri!brandingMap.EntityBackgroundColor,\n          padding: \"LESS\",\n          marginBelow: \"NONE\",\n          showBorder: false\n        ),\n        width: \"EXTRA_NARROW\"\n      ),\n      #\"SYSTEM_SYSRULES_columnLayout\"(\n        contents: #\"SYSTEM_SYSRULES_cardLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Entity Identitifer\"),\n              labelPosition: \"COLLAPSED\",\n              value: {\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: {\n                    ri!entity[recordType!CMGT_Entity.title]\n                  },\n                  color: ri!brandingMap.StandardTextColor,\n                  size: \"STANDARD\",\n                  style: \"STRONG\"\n                )\n\n              },\n              preventWrapping: true,\n              marginBelow: \"NONE\"\n            ),\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: ri!entity[recordType!CMGT_Entity.entityType.label],\n                color: ri!brandingMap.SecondaryTextColor,\n                size: \"SMALL\"\n              ),\n              labelPosition: \"COLLAPSED\",\n              marginAbove: \"NONE\"\n            )\n          },\n          showBorder: false,\n          style: ri!brandingMap.CardBackgroundColor,\n        )\n\n      )\n    },\n    alignVertical: \"MIDDLE\",\n    spacing: \"NONE\"\n  ),\n  link: #\"SYSTEM_SYSRULES_recordLink\"(\n    recordType: recordType!CMGT_Entity,\n    identifier: ri!entity[recordType!CMGT_Entity.entityId]\n  ),\n  style: rule!CMGT_UTIL_DisplayBranding(\n    brandingMap: ri!brandingMap,\n    key: ri!brandingMap.CardBackgroundColor\n  ),\n  shape: ri!brandingMap.CardShape,\n  padding: \"NONE\",\n  showBorder: ri!brandingMap.CardShowBorder,\n  showShadow: ri!brandingMap.CardShowShadow\n  )\n}"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_24901": {
      "name": "CMGT_QR_GetRelationshipMapType",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_CFG_RelationshipMapType,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_RelationshipMapType.relationshipMapTypeId,\n      operator: \"in\",\n      value: ri!relatedRelationshipTypeId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_RelationshipMapType.parentEntityCategoryId,\n      operator: \"=\",\n      value: ri!parentEntityTypeId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_RelationshipMapType.type,\n      operator: \"=\",\n      value: ri!type\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_RelationshipMapType.isActive,\n      operator: \"=\",\n      value: ri!isActive\n    )\n  },\n  fields: {\n    ri!fields,\n    if(\n      ri!excludeRelatedRecords,\n      {},\n      {\n        recordType!CMGT_CFG_RelationshipMapType.relatedRelationshipMapType,\n        recordType!CMGT_CFG_RelationshipMapType.relatedRelationshipMapType\n      }\n    ),\n    recordType!CMGT_CFG_RelationshipMapType.relationship\n  },\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  relatedRecordData: ri!relatedRecordData,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000eab0-e049-8000-9c27-011c48011c48_1011527": {
      "name": "CMGT_UTIL_DropNonWritableRelationshipsFromRecord",
      "type": "Expression Rule",
      "sail_code": "/*\nThe main rule to \"cleanse\" the input of a WriteRecords SS node to remove non-writable relationships.\n\nSTANDARD USAGE:\n- Use this in tandem with rule CMGT_UTIL_MergeWriteRecordIdsToProcessVariable (see that description)\n- In the input of a WriteRecords SS (NOT in a previous script task), do:\n  A - Expressionable input to \"Records\" intput\n  B - rule!CMGT_UTIL_DropNonWritableRelationshipsFromRecord(\n        records: pv![the pv to write],\n        relationships: {list of record relationships that are not allowed to be written}\n      )\n\nIMPORTANT GENERAL NOTES: \n- The reason to run this in the input of the WriteRecords SS instead of a previous script task\nis that, when used with CMGT_UTIL_MergeWriteRecordIdsToProcessVariable, you can maintain the relationships\nthat you had to drop before writing.\n  -> For example, if you are writing \"Case\" but it has a child-relationship \"Address\" that cannot be written,\n    - this will drop \"Address\" before attempting to write\n    - if the output is configured properly it will reattach \"Address\" in the output\n    - the overall result is that you basically ran the node as if \"Address\" was ignored, \n      so that you can use it later in the process flow\n*/\n#\"SYSTEM_SYSRULES_forEach\"(\n  items: a!flatten(ri!records),\n  expression: reduce(\n    rule!CMGT_UTIL_DropNonWritableRelationshipsFromRecord_Reducer(\n      record: _,\n      relationship: _\n    ),\n    fv!item,\n    ri!relationships\n  )\n)"
    },
    "_a-0000ebaa-19ba-8000-9ca6-011c48011c48_2097980": {
      "name": "CMGT_LA_UTIL_LoadBrandingMap",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_MergeMaps(\n  map1: rule!CMGT_UTIL_LoadBrandingMap(),\n  map2: a!localVariables(\n    local!limitedAccessBranding: getbrandingconfig(\n      cons!CMGT_LA_DOC_DEFAULT_BRANDING_CONFIG,\n      true\n    ),\n    local!output: reduce(\n      #\"urn:appian:function:v1:a:update\"(_, _, _),\n      a!map(),\n      merge(\n        {\n          local!limitedAccessBranding.defaultBranding.key,\n          local!limitedAccessBranding.customBranding.key\n        },\n        {\n          local!limitedAccessBranding.defaultBranding.value,\n          local!limitedAccessBranding.customBranding.value\n        }\n      )\n    ),\n    local!output\n  )\n)"
    },
    "_a-0000e98b-cfe0-8000-9ba5-011c48011c48_20741": {
      "name": "CMGT_QR_GetDocument",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_Document,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Document.caseId,\n      operator: \"=\",\n      value: ri!caseId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Document.taskId,\n      operator: \"=\",\n      value: ri!taskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Document.documentId,\n      operator: \"in\",\n      value: ri!documentId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Document.commentDocumentMap.commentId,\n      operator: \"=\",\n      value: ri!commentId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Document.documentName,\n      operator: \"in\",\n      value: ri!documentFileNames\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Document.modifiedOn,\n      operator: \"=\",\n      value: ri!includeModifiedOn\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Document.modifiedOn,\n      operator: \"<>\",\n      value: ri!excludeModifiedOn\n    )\n  },\n  fields: {\n    ri!fields,\n    recordType!CMGT_Document.case,\n    recordType!CMGT_Document.task,\n    recordType!CMGT_Document.createdByUser,\n    recordType!CMGT_Document.modifiedByUser\n  },\n  pagingInfo: ri!pagingInfo,\n  sort: a!defaultValue(\n    value: ri!sort,\n    default: #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_Document.createdOn,\n      ascending: false\n    )\n  ),\n  relatedRecordData: ri!relatedRecordData,\n  groupByFields: ri!groupByFields,\n  logicalExpressions: ri!additionalLogicalExpression,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_26020": {
      "name": "CMGT_QR_GetTag",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_Tag,\n  returnType: ri!returnType,\n  executeWhen: ri!executeWhen,\n  triggerRefresh: ri!triggerRefresh,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Tag.tagId,\n      operator: \"in\",\n      value: ri!tagId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Tag.tagName,\n      operator: \"=\",\n      value: ri!tagName\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Tag.caseTagMap.caseId,\n      operator: \"=\",\n      value: ri!caseId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Tag.isActive,\n      operator: \"=\",\n      value: ri!isActive\n    )\n  },\n  fields: ri!fields,\n  pagingInfo: ri!pagingInfo,\n  sort: a!defaultValue(\n    value: ri!sort,\n    default: #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_Tag.tagName,\n      ascending: true\n    )\n  ),\n  relatedRecordData: ri!relatedRecordData,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ec22-0443-8000-9cd2-011c48011c48_2678952": {
      "name": "CMGT_LA_MTR_UserEditsCaseMessage",
      "type": "Expression Rule",
      "sail_code": "now()"
    },
    "_a-0000ebb3-5308-8000-9cab-011c48011c48_2127473": {
      "name": "CMGT_LA_Email_CaseDetails_ReplacementParamsMap",
      "type": "Expression Rule",
      "sail_code": "{\n  /*Base Template Parameters*/\n  if(\n    #\"urn:appian:function:v1:a:isusermemberofgroup?okey=a!isUserMemberOfGroup\"(\n      ri!commentUserTag[recordType!CMGT_CommentUserTag.username],\n      cons!CMGT_GRP_INTERNAL_USERS\n    ),\n    rule!CMGT_Email_BaseTemplate_ReplacementParamsMap(\n      brandingMap: ri!brandingMap,\n      instructionSize: \"16px\",\n      instruction: #\"urn:appian:translation-string:v1:435c0a37-d89b-4a3e-95ae-d5276d6c92e4\"(\n        #\"urn:appian:translation-variable:v1:dc430918-f258-4f39-b93e-468c026d8699\": rule!CMGT_UTIL_DisplayUserFullName(\n          username: ri!comment[recordType!CMGT_Comment.modifiedBy]\n        )\n      ),\n      footerText: #\"urn:appian:translation-string:v1:4c227fd1-41e1-4c42-9137-c2d7fd5a31e5\",\n      buttonLabel: #\"urn:appian:translation-string:v1:6b5739b4-9591-445f-bc24-765a32e606a3\",\n      buttonLinkUrl: /*opens the messages view in workspace site*/\n      #\"urn:appian:function:v1:a:urlforrecord?okey=a!urlForRecord\"(\n        targetLocation: rule!CMGT_SITE_PAGE_CASES(),\n        recordType: recordType!CMGT_Case,\n        identifier: ri!case[recordType!CMGT_Case.caseId],\n        view: cons!CMGT_LA_TXT_URL_STUB_CASE_RECORD_MESSAGES_TAB\n      )      \n    ),\n    rule!CMGT_Email_BaseTemplate_ReplacementParamsMap(\n      brandingMap: ri!brandingMap,\n      footerText: concat(\n        \"<em>\",\n        #\"urn:appian:translation-string:v1:ebdc3e27-bbef-4258-a6ad-ea3c9f715b94\",\n        \"</em>\"\n      ),\n      buttonLabel: #\"urn:appian:translation-string:v1:f40e55e9-5bdd-4abb-98af-a075a68c16b1\",\n      buttonLinkUrl: /*opens my cases site of limited users*/\n      rule!CMGT_LA_UTIL_UrlForRecord(\n        recordType: recordType!CMGT_Case,\n        recordId: ri!case[recordType!CMGT_Case.caseId],\n        siteWebAddressIdentifier: cons!CMGT_LA_TXT_URL_ADDRESS_IDENTIFIER,\n        sitePage: cons!CMGT_LA_TXT_SITE_WEB_PAGE_MY_CASES\n      )\n    )\n  ),\n  /* Body */\n  if(\n    #\"urn:appian:function:v1:a:isusermemberofgroup?okey=a!isUserMemberOfGroup\"(\n      ri!commentUserTag[recordType!CMGT_CommentUserTag.username],\n      cons!CMGT_GRP_INTERNAL_USERS\n    ),\n    {\n      find: \"body\",\n      replace: rule!CMGT_UTIL_FillDocumentTemplate(\n        document: cons!CMGT_DOC_CASE_DETAILS_EMAIL_BODY_TEMPLATE,\n        replacementParams: {\n          {\n            find: \"caseTypeTextColor\",\n            replace: ri!brandingMap.secondaryTextColor\n          },\n          {\n            find: \"caseType\",\n            replace: ri!case[recordType!CMGT_Case.caseType.fullLabel],\n\n          },\n          {\n            find: \"caseTitleColor\",\n            replace: ri!brandingMap.StandardTextColor\n          },\n          {\n            find: \"caseTitle\",\n            replace: ri!case[recordType!CMGT_Case.title]\n          },\n          {\n            find: \"caseStatusBgColor\",\n            replace: rule!CMGT_UTIL_DisplayBranding(\n              brandingMap: ri!brandingMap,\n              key: ri!case[recordType!CMGT_Case.status.softColor]\n            )\n          },\n          {\n            find: \"caseStatusColor\",\n            replace: ri!brandingMap.StandardTextColor\n          },\n          {\n            find: \"caseStatus\",\n            replace: ri!case[recordType!CMGT_Case.status.statusLabel]\n          },\n          {\n            find: \"fieldNameColor\",\n            replace: ri!brandingMap.SecondaryTextColor\n          },\n          {\n            find: \"fieldName\",\n            replace: #\"urn:appian:translation-string:v1:eb2768f7-db59-4db5-825f-be3738d36b8a\"\n          },\n          { find: \"oldValue\", replace: \"\" },\n          {\n            find: \"newValueColor\",\n            replace: ri!brandingMap.StandardTextColor\n          },\n          {\n            find: \"newValue\",\n            replace: rule!CMGT_UTIL_TruncateText(\n              text: ri!comment[recordType!CMGT_Comment.commentText],\n              maxLength: cons!CMGT_INT_MAX_CHAR_LIMIT_MEDIUM\n            )\n          }\n        }\n      )\n    },\n    {\n      find: \"body\",\n      replace: rule!CMGT_UTIL_FillDocumentTemplate(\n        document: cons!CMGT_LA_MESSAGES_EMAIL_BODY_TEMPLATE,\n        replacementParams: {\n          {\n            find: \"caseFriendlyIdTextColor\",\n            replace: ri!brandingMap.secondaryTextColor\n          },\n          {\n            find: \"caseFriendlyId\",\n            replace: ri!case[recordType!CMGT_Case.friendlyId],\n\n          },\n          {\n            find: \"primaryTextColor\",\n            replace: ri!brandingMap.StandardTextColor\n          },\n          {\n            find: \"primaryText\",\n            replace: #\"urn:appian:translation-string:v1:218b22ce-a727-4922-9734-a86cad8398e5\"\n          },\n          {\n            find: \"secondaryTextColor\",\n            replace: ri!brandingMap.StandardTextColor\n          },\n          {\n            find: \"secondaryText\",\n            replace: #\"urn:appian:translation-string:v1:435c0a37-d89b-4a3e-95ae-d5276d6c92e4\"(\n              #\"urn:appian:translation-variable:v1:dc430918-f258-4f39-b93e-468c026d8699\": rule!CMGT_UTIL_DisplayUserFullName(\n                username: ri!comment[recordType!CMGT_Comment.modifiedBy]\n              )\n            )\n          },\n\n        }\n      )\n    }\n  )\n}"
    },
    "_a-0000e99c-1217-8000-9ba9-011c48011c48_56349": {
      "name": "CMGT_UTIL_FormatDateTime",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!dateTime),\n  \"\",\n  a!localVariables(\n    /*Converting dateTime to system time zone if  convertToSystemTimeZone is passed true */\n    local!dateTimeToFormat: if(\n      ri!convertToSystemTimeZone,\n      rule!CMGT_UTIL_ConvertDateTimeToTimezone(\n        dateTime: ri!dateTime,\n        timezone: rule!CMGT_UTIL_SystemTimezone()\n      ),\n      ri!dateTime\n    ),\n    if(\n      ri!returnTime,\n      text(local!dateTimeToFormat, \"h:mm a\"),\n      if(\n        ri!includeTime,\n        text(\n          local!dateTimeToFormat,\n          \"mmm d, yyyy h:mm a\"\n        ),\n        if(\n          ri!returnMonthAndDay,\n          text(local!dateTimeToFormat, \"mmm.d\"),\n          text(local!dateTimeToFormat, \"mmm d, yyyy\")\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e99c-1217-8000-9ba9-011c48011c48_56355": {
      "name": "CMGT_UTIL_SystemTimezone",
      "type": "Expression Rule",
      "sail_code": "usertimezone(\"Administrator\")"
    },
    "_a-0000e9fd-9441-8000-9bdc-011c48011c48_306412": {
      "name": "CMGT_EventHistory_Case_FormatDetails",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!details: cast(\n    'type!{http://www.appian.com/ae/types/2009}Map',\n    if(\n      a!isNotNullOrEmpty(\n        ri!data[recordType!CMGT_EventHistory_Case.details]\n      ),\n      #\"SYSTEM_SYSRULES_fromJson_v1\"(\n        ri!data[recordType!CMGT_EventHistory_Case.details]\n      ),\n      null\n    )\n  ),\n  a!match(\n    value: ri!data[recordType!CMGT_EventHistory_Case.caseEventTypeId],\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_CASE_ADD_RELATED_CASE,\n        cons!CMGT_REFID_EVENT_TYPE_CASE_REMOVE_RELATED_CASE\n      },\n      fv!value\n    ),\n    then: a!localVariables(\n      local!case: rule!CMGT_QR_GetCase(\n        returnType: \"SINGLE_OBJECT\",\n        executeWhen: a!isNotNullOrEmpty(\n          local!details.relatedCaseId\n        ),\n        caseId: local!details.relatedCaseId\n      ),\n      concat(\n        local!case[recordType!CMGT_Case.friendlyId],\n        \" | \",\n        local!case[recordType!CMGT_Case.title],\n        char(\n          10\n        ),\n        #\"urn:appian:translation-string:v1:802ce84a-8b69-44d9-acb6-b3f80a4fc7b7\"(\n          #\"urn:appian:translation-variable:v1:00cdd306-d8cf-499b-8b48-5ca77d333e58\": displayvalue(\n            tointeger(\n              local!details.relationshipMapTypeId\n            ),\n            ri!relationshipMapTypes[recordType!CMGT_CFG_RelationshipMapType.relationshipMapTypeId],\n            ri!relationshipMapTypes[recordType!CMGT_CFG_RelationshipMapType.relationship.label],\n            null\n          )\n        )\n      )\n    ),\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_CASE_ADD_RELATED_ENTITY,\n        cons!CMGT_REFID_EVENT_TYPE_CASE_REMOVE_RELATED_ENTITY\n      },\n      fv!value\n    ),\n    then: concat(\n      rule!CMGT_QR_GetEntity(\n        entityId: local!details.entityId,\n        includeInactive: true,\n        returnType: \"SINGLE_OBJECT\"\n      )[recordType!CMGT_Entity.title],\n      char(\n        10\n      ),\n      #\"urn:appian:translation-string:v1:c1b0a11b-bf1f-43dd-b003-1a2ff5f48d16\"(\n        #\"urn:appian:translation-variable:v1:7d7f6926-286a-47ee-8c24-53fbbaee0b5d\": displayvalue(\n          tointeger(\n            local!details.entityTypeId\n          ),\n          ri!entityTypes[recordType!CMGT_CFG_EntityType.entityTypeId],\n          ri!entityTypes[recordType!CMGT_CFG_EntityType.label],\n          null\n        )\n      )\n    ),\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_CASE_ADD_WATCHER,\n        cons!CMGT_REFID_EVENT_TYPE_CASE_REMOVED_WATCHER,\n        cons!CMGT_REFID_EVENT_TYPE_CASE_ADD_ASSIGNEE,\n        cons!CMGT_REFID_EVENT_TYPE_CASE_REMOVED_ASSIGNEE,\n        cons!CMGT_LA_REFID_EVENT_TYPE_CASE_ADD_SUBMITTER,\n        \n      },\n      fv!value\n    ),\n    then: if(\n      a!isNotNullOrEmpty(\n        local!details.groupId\n      ),\n      group(\n        tointeger(\n          local!details.groupId\n        ),\n        \"groupName\"\n      ),\n      rule!CMGT_UTIL_DisplayUserFullName(\n        username: local!details.user\n      )\n    ),\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_CASE_ADD_TAG,\n        cons!CMGT_REFID_EVENT_TYPE_CASE_REMOVE_TAG\n      },\n      fv!value\n    ),\n    then: rule!CMGT_QR_GetTag(\n      tagId: local!details.tagId,\n      returnType: \"SINGLE_OBJECT\"\n    )[recordType!CMGT_Tag.tagName],\n    whenTrue: fv!value = cons!CMGT_REFID_EVENT_TYPE_CASE_UPDATE_DUE_DATE,\n    then: rule!CMGT_UTIL_FormatDateTime(\n      dateTime: local!details.dueOn,\n      includeTime: false,\n      convertToSystemTimeZone: true\n    ),\n    whenTrue: fv!value = cons!CMGT_REFID_EVENT_TYPE_CASE_UPDATE_PRIORITY,\n    then: index(\n      rule!CMGT_QR_GetPriority(\n        priorityId: local!details.priorityId,\n        fields: recordType!CMGT_CFG_Priority.priorityName,\n        executeWhen: a!isNotNullOrEmpty(\n          value: local!details.priorityId\n        )\n      ),\n      recordType!CMGT_CFG_Priority.priorityName,\n      null\n    ),\n    whenTrue: fv!value = cons!CMGT_REFID_EVENT_TYPE_CASE_UPDATE_STATUS,\n    then: index(\n      rule!CMGT_QR_GetStatus(\n        statusId: local!details.statusId,\n        fields: recordType!CMGT_CFG_Status.statusLabel,\n        executeWhen: a!isNotNullOrEmpty(\n          value: local!details.statusId\n        )\n      ),\n      recordType!CMGT_CFG_Status.statusLabel,\n      null\n    ),\n    whenTrue: fv!value = cons!CMGT_REFID_EVENT_TYPE_CASE_UPDATE_CASE_TITLE,\n    then: local!details.title,\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_CASE_ADD_COMMENT,\n        cons!CMGT_REFID_EVENT_TYPE_CASE_UPDATE_COMMENT,\n        cons!CMGT_REFID_EVENT_TYPE_CASE_REPLY_TO_COMMENT,\n        cons!CMGT_REFID_EVENT_TYPE_CASE_DELETE_COMMENT\n      },\n      fv!value\n    ),\n    then: concat(\n      #\"urn:appian:translation-string:v1:b047f92a-3c3c-4104-9fab-4323d484d78f\"(\n        #\"urn:appian:translation-variable:v1:98579b94-57f7-41ee-8b4e-649f6147ac35\": rule!CMGT_UTIL_StripHtmlTags(\n          value: local!details.commentText,\n          isFormatted: true\n        )\n      ),\n      if(\n        rule!CMGT_UTIL_IsBlank(\n          local!details.taggedUsers\n        ),\n        \"\",\n        concat(\n          char(\n            10\n          ),\n          #\"urn:appian:translation-string:v1:1989f3c9-20e5-4be9-822b-7b1dc48f424b\"(\n            #\"urn:appian:translation-variable:v1:0ceb2d10-7e2a-44f9-919d-e51150bb29d3\": joinarray(\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: local!details.taggedUsers,\n                expression: rule!CMGT_UTIL_DisplayUserFullName(\n                  username: fv!item\n                )\n              ),\n              \", \"\n            )\n          )\n        )\n      ),\n      if(\n        rule!CMGT_UTIL_IsBlank(\n          local!details.documents\n        ),\n        \"\",\n        concat(\n          char(\n            10\n          ),\n          #\"urn:appian:translation-string:v1:c0d05eca-625c-4aba-afba-fda052e49cb2\"(\n            #\"urn:appian:translation-variable:v1:7299566d-8206-4962-bb5e-71475e411afb\": joinarray(\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: local!details.documents,\n                expression: fv!item\n              ),\n              \", \"\n            )\n          )\n        )\n      )\n    ),\n    whenTrue: fv!value = cons!CMGT_PORTAL_REFID_EVENT_TYPE_UPDATE_CASE_CONTACT,\n    then: joinarray(\n      rule!CMGT_UTIL_RejectBlank(\n        array: {\n          if(\n            rule!CMGT_UTIL_IsBlank(\n              local!details.firstName\n            ),\n            null,\n            #\"urn:appian:translation-string:v1:91fffdbd-a177-4f4f-b0e0-769b9475604b\"(\n              #\"urn:appian:translation-variable:v1:e6f9ee42-d08f-46cd-90ce-29e1ce3a8e07\": local!details.firstName\n            )\n          ),\n          if(\n            rule!CMGT_UTIL_IsBlank(\n              local!details.lastName\n            ),\n            null,\n            #\"urn:appian:translation-string:v1:33ebde45-da93-4bff-813c-aafee5c65dd6\"(\n              #\"urn:appian:translation-variable:v1:d44e0b68-4130-4944-a35b-19ac9d247a9d\": local!details.lastName\n            )\n          ),\n          if(\n            rule!CMGT_UTIL_IsBlank(\n              local!details.email\n            ),\n            null,\n            #\"urn:appian:translation-string:v1:8a2f3918-6edc-4aef-b7eb-eb84fd4d95ac\"(\n              #\"urn:appian:translation-variable:v1:325eca9c-740e-49e3-9a9f-6541520f32f8\": local!details.email\n            )\n          )\n        }\n      ),\n      char(\n        10\n      )\n    ),\n    whenTrue: contains(\n      {\n        cons!CMGT_LA_REFID_EVENT_TYPE_CASE_CREATE_MESSAGE,\n        cons!CMGT_LA_REFID_EVENT_TYPE_CASE_UPDATE_MESSAGE,\n        cons!CMGT_LA_REFID_EVENT_TYPE_CASE_REPLY_TO_MESSAGE,\n        cons!CMGT_LA_REFID_EVENT_TYPE_CASE_DELETE_MESSAGE\n      },\n      fv!value\n    ),\n    then: concat(\n      #\"urn:appian:translation-string:v1:48b61db9-42d4-44e5-988d-8ac713130a6c\"(\n        #\"urn:appian:translation-variable:v1:26bedc4f-aa52-4263-b7f2-7bdfc9a2c3de\": rule!CMGT_UTIL_StripHtmlTags(\n          value: local!details.commentText,\n          isFormatted: true\n        )\n      ),\n      if(\n        rule!CMGT_UTIL_IsBlank(\n          local!details.taggedUsers\n        ),\n        \"\",\n        concat(\n          char(\n            10\n          ),\n          #\"urn:appian:translation-string:v1:1989f3c9-20e5-4be9-822b-7b1dc48f424b\"(\n            #\"urn:appian:translation-variable:v1:0ceb2d10-7e2a-44f9-919d-e51150bb29d3\": joinarray(\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: local!details.taggedUsers,\n                expression: rule!CMGT_UTIL_DisplayUserFullName(\n                  username: fv!item\n                )\n              ),\n              \", \"\n            )\n          )\n        )\n      ),\n      if(\n        rule!CMGT_UTIL_IsBlank(\n          local!details.documents\n        ),\n        \"\",\n        concat(\n          char(\n            10\n          ),\n          #\"urn:appian:translation-string:v1:c0d05eca-625c-4aba-afba-fda052e49cb2\"(\n            #\"urn:appian:translation-variable:v1:7299566d-8206-4962-bb5e-71475e411afb\": joinarray(\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: local!details.documents,\n                expression: fv!item\n              ),\n              \", \"\n            )\n          )\n        )\n      )\n    ),\n    whenTrue: fv!value = cons!CMGT_EML_TRI_REFID_EVENT_TYPE_LINKED_THREAD,\n    then: #\"urn:appian:translation-string:v1:65c8bfe4-e5b7-48d1-b95f-7ff19b102d5c\"(\n      #\"urn:appian:translation-variable:v1:df0a14e0-2a2f-456a-a64b-d14a5258f50d\": index(\n        rule!CMGT_EML_TRI_QR_GetThreads(\n          threadIds: local!details.threadId,\n          fields: recordType!CMGT_EML_TRI_Thread.subject,\n          executeWhen: a!isNotNullOrEmpty(\n            value: local!details.threadId\n          )\n        ),\n        recordType!CMGT_EML_TRI_Thread.subject,\n        null\n      )\n    ),\n    default: local!details.value\n  )\n)"
    },
    "_a-0000eeba-7a31-8000-9dbb-011c48011c48_4842294": {
      "name": "CMGT_SMS_AI_MTR_UserClicksOnPreviousSmartSearch",
      "type": "Expression Rule",
      "sail_code": "now()"
    },
    "_a-0000eea8-05c2-8000-9db5-011c48011c48_4800243": {
      "name": "CMGT_SMS_AI_QR_GetSmartSearchResultsOnCases",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    rule!CMGT_UTIL_IsNotBlank(input: ri!searchTerm),\n    contains(ri!selectedCategory, { 1 })\n  ),\n  a!localVariables(\n    local!data: a!refreshVariable(\n      value: #\"SYSTEM_SYSRULES_queryRecordType_v4\"(\n        recordType: recordType!CMGT_Case,\n        filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n          operator: \"AND\",\n          logicalExpressions: {\n            #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n              operator: \"OR\",\n              filters: {\n                /*Case*/\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.description,\n                  operator: \"search\",\n                  value: ri!searchTerm,\n                  applyWhen: a!isNotNullOrEmpty(ri!searchTerm)\n                ),\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.title,\n                  operator: \"search\",\n                  value: ri!searchTerm,\n                  applyWhen: a!isNotNullOrEmpty(ri!searchTerm)\n                ),\n                /*Comments*/\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.comments.commentText,\n                  operator: \"search\",\n                  value: ri!searchTerm,\n                  applyWhen: a!isNotNullOrEmpty(ri!searchTerm)\n                ),\n                /*Milestone*/\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.milestones.label,\n                  operator: \"search\",\n                  value: ri!searchTerm,\n                  applyWhen: a!isNotNullOrEmpty(ri!searchTerm)\n                ),\n                /*Tag*/\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.tagMap.tag.tagName,\n                  operator: \"search\",\n                  value: ri!searchTerm,\n                  applyWhen: a!isNotNullOrEmpty(ri!searchTerm)\n                )\n              }\n            ),\n            #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n              operator: \"AND\",\n              filters: {\n                /*Assignee*/\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.roles.username,\n                  operator: \"in\",\n                  value: ri!assignee,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(ri!assignee)\n                ),\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.roles.roleTypeId,\n                  operator: \"=\",\n                  value: cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(ri!assignee)\n                )\n              }\n            ),\n            #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n              operator: \"AND\",\n              filters: {\n                /* Group Assignee*/\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.roles.groupId,\n                  operator: \"in\",\n                  value: ri!assignedGroup,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(ri!assignedGroup)\n                ),\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: recordType!CMGT_Case.roles.roleTypeId,\n                  operator: \"=\",\n                  value: cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(ri!assignedGroup)\n                )\n              }\n            )\n          },\n          filters: {\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Case.caseTypeUuid,\n              operator: \"in\",\n              value: ri!caseType,\n              applyWhen: rule!CMGT_UTIL_IsNotBlank(ri!caseType)\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!CMGT_Case.statusId,\n              operator: \"in\",\n              value: ri!status,\n              applyWhen: rule!CMGT_UTIL_IsNotBlank(ri!status)\n            )\n          }\n        ),\n        fields: {\n          /*Case Fields*/\n          recordType!CMGT_Case.friendlyId,\n          recordType!CMGT_Case.title,\n          recordType!CMGT_Case.description,\n          recordType!CMGT_Case.dueOn,\n          /*Case Type & Category Fields*/\n          recordType!CMGT_Case.caseType.name,\n          recordType!CMGT_Case.caseType.fullLabel,\n          recordType!CMGT_Case.caseType.parentCaseType.name,\n          /*Comment*/\n          recordType!CMGT_Case.comments.commentText,\n          /*Status*/\n          recordType!CMGT_Case.status.statusLabel,\n          recordType!CMGT_Case.status.textColor,\n          recordType!CMGT_Case.status.softColor,\n          /*Milestone*/\n          recordType!CMGT_Case.milestones.label,\n          /*Priority*/\n          recordType!CMGT_Case.priority.priorityName,\n          recordType!CMGT_Case.priority.icon,\n          recordType!CMGT_Case.priority.iconColor,\n          /*Roles*/\n          recordType!CMGT_Case.roles.userAssignee,\n          #\"urn:appian:record-field:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/07bc37b4-41ec-48e4-b08d-29d37608fe5c/6f0c8dbc-95d2-4ba7-9fb5-f0916efa0f08/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\",\n          recordType!CMGT_Case.roles.groupAssignee,\n          recordType!CMGT_Case.roles.roleType.label,\n          /*Tag*/\n          recordType!CMGT_Case.tagMap.tag.tagName,\n          /*All search Fields*/\n          #\"urn:appian:record-search-results:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/allSearchFields/all\"\n        },\n        relatedRecordData: {\n          #\"SYSTEM_SYSRULES_relatedRecordData\"(\n            relationship: recordType!CMGT_Case.roles,\n            /*This will put all users before groups*/\n            sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n              field: recordType!CMGT_Role.groupId,\n              ascending: true\n            ),\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_Role.roleTypeId,\n                operator: \"in\",\n                value: {\n                  cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n                  cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n                }\n              )\n            }\n          )\n        },\n        pagingInfo: a!defaultValue(ri!pagingInfo, #\"SYSTEM_SYSRULES_pagingInfo\"(1, 10)),\n        fetchTotalCount: true\n      ),\n      refreshOnVarChange: ri!triggerRefresh\n    ),\n    local!data\n  ),\n  {}\n)"
    },
    "_a-0000ebb3-5308-8000-9cab-011c48011c48_2128656": {
      "name": "CMGT_LA_UTIL_UrlForRecord",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Text',\n  if(\n    or(\n      isnull(ri!recordType),\n      isnull(ri!recordId)\n    ),\n    \"\",\n    concat(\n      rule!CMGT_UTIL_GetSiteUrl().authedPath,\n      \"/sites/\",\n      ri!siteWebAddressIdentifier,\n      if(\n        isnull(ri!sitePage),\n        \"\",\n        concat(\"/page/\", ri!sitePage)\n      ),\n      \"/record/\",\n      #\"SYSTEM_SYSRULES_recordLink\"(\n        recordType: ri!recordType,\n        identifier: ri!recordId\n      ).'@attributes'.'@anyAttribute'.'_recordRef',\n      \"/view/\",\n      a!defaultValue(value: ri!dashboard, default: \"summary\")\n    )\n  )\n)"
    },
    "af326a29-a1c8-4399-a28d-996f85819d9e": {
      "name": "CMGT_UTIL_Filter",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!fieldValuePairs: a!defaultValue(\n    ri!fieldValuePairs,\n    apply(\n      rule!CMGT_UTIL_Filter_CreateFieldValuePair(\n        field: _,\n        value: ri!value,\n        allFields: a!flatten(ri!field)\n      ),\n      a!flatten(ri!field)\n    )\n  ),\n  local!matchingCriteria: a!defaultValue(\n    value: ri!matchingCriteria,\n    default: \"ALL\"\n  ),\n  local!matchType: a!defaultValue(value: ri!matchType, default: \"EXACT\"),\n  local!matchIndices: if(\n    a!isNullOrEmpty(a!flatten(ri!records)),\n    tointeger({}),\n    reduce(\n      rule!CMGT_UTIL_Filter_Reducer(\n        matchingCriteria: local!matchingCriteria,\n        previousIndices: _,\n        records: a!flatten(ri!records),\n        fieldValuePair: _,\n        matchType: local!matchType\n      ),\n      a!match(\n        value: local!matchingCriteria,\n        equals: \"ALL\",\n        then: enumerate(count(a!flatten(ri!records))) + 1,\n        equals: \"ANY\",\n        then: {},\n        default: fn!error(\n          \"Invalid matchingCriteria, must be one of: ALL, ANY\"\n        )\n      ),\n      local!fieldValuePairs\n    )\n  ),\n  local!rejectIndices: difference(\n    if(\n      a!isNullOrEmpty(ri!records),\n      tointeger({}),\n      enumerate(count(a!flatten(ri!records))) + 1\n    ),\n    local!matchIndices\n  ),\n  local!matches: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!matchIndices, {})\n  ),\n  local!rejects: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!rejectIndices, {})\n  ),\n  local!output: a!match(\n    value: a!defaultValue(ri!filterType, \"FILTER\"),\n    equals: \"FILTER\",\n    then: local!matches,\n    equals: \"REJECT\",\n    then: local!rejects,\n    equals: \"FIRST_MATCH\",\n    then: index(local!matches, 1, null),\n    equals: \"FIRST_REJECT\",\n    then: index(local!rejects, 1, null),\n    equals: \"MATCH_COUNT\",\n    then: count(local!matchIndices),\n    equals: \"REJECT_COUNT\",\n    then: count(local!rejectIndices),\n    equals: \"MATCH_INDICES\",\n    then: local!matchIndices,\n    equals: \"REJECT_INDICES\",\n    then: local!rejectIndices,\n    equals: \"FULL_RESULT\",\n    then: a!map(\n      matches: local!matches,\n      rejects: local!rejects,\n      firstMatch: index(local!matches, 1, null),\n      firstReject: index(local!rejects, 1, null),\n      matchCount: count(local!matchIndices),\n      rejectCount: count(local!rejectIndices),\n      matchIndices: local!matchIndices,\n      rejectIndices: local!rejectIndices\n    ),\n    default: fn!error(\n      \"Invalid filterType, must be one of: FILTER, REJECT, FIRST_MATCH, FIRST_REJECT, MATCH_COUNT, REJECT_COUNT, MATCH_INDICES, REJECT_INDICES, FULL_RESULT\"\n    )\n  ),\n  local!output\n)"
    },
    "bd8f3e49-406c-4eab-a3a4-ce119dfbb5ce": {
      "name": "CMGT_UTIL_RichTextField",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  /*\n  This should never be above 4000 characters as it will go over the amount allowed in synced records\n  If using the RTE in other places for customization, the field length should be 4000 characters to allow for additional HTML to be added.\n  The RTE calculates the max length allowed on the front end for the end-user, but will not go over that amount on the back-end\n  */\n  local!maxSize: a!defaultValue(\n    value: ri!maxSize,\n    default: cons!CMGT_INT_MAX_CHAR_LIMIT_EXTRA_LARGE\n  ),\n  if(\n    cons!CMGT_BOL_AUTOMATION_TESTING_LABEL_SWITCH,\n    #\"SYSTEM_SYSRULES_paragraphField\"(\n      label: ri!label,\n      labelPosition: if(rule!CMGT_UTIL_IsBlank(ri!label),\"COLLAPSED\",ri!labelPosition),\n      instructions: ri!instructions,\n      helpTooltip: ri!helpToolTip,\n      placeholder: ri!placeholder,\n      value: rule!CMGT_UTIL_StripHtmlTags(value: ri!value, isFormatted: true),\n      saveInto: a!save(\n        ri!value,\n        \"<p>\" & substitute(save!value, char(10), \"<br>\") & \"</p>\"\n      ),\n      refreshAfter: ri!refreshAfter,\n      characterLimit: local!maxSize,\n      height: ri!height,\n      showWhen: ri!showWhen,\n      required: ri!required,\n      requiredMessage: ri!requiredMessage,\n      readOnly: ri!readOnly,\n      disabled: ri!disabled\n    ),\n    #\"SYSTEM_SYSRULES_styledTextEditorField\"(\n      label: ri!label,\n      labelPosition: if(rule!CMGT_UTIL_IsBlank(ri!label),\"COLLAPSED\",ri!labelPosition),\n      instructions: ri!instructions,\n      helpTooltip: ri!helpToolTip,\n      placeholder: ri!placeholder,\n      value: ri!value,\n      saveInto: {\n        ri!value,\n        ri!additionalSaves\n      },\n      sizeLimit: local!maxSize,\n      height: a!defaultValue(ri!height, \"SHORT_PLUS\"),\n      showWhen: ri!showWhen,\n      required: ri!required,\n      requiredMessage: ri!requiredMessage,\n      readOnly: ri!readOnly,\n      disabled: ri!disabled,\n      validations: ri!validations\n    )\n  )\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_24101": {
      "name": "CMGT_QR_GetEntityType",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_CFG_EntityType,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_EntityType.entityTypeId,\n      operator: \"in\",\n      value: ri!entityTypeId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_EntityType.isSystemOnly,\n      operator: \"=\",\n      value: false,\n      applyWhen: ri!ignoreSystemOnlyEntities = true\n    )\n  },\n  fields: ri!fields,\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000e98b-cfe0-8000-9ba5-011c48011c48_19509": {
      "name": "CMGT_QR_GetCase",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_Case,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Case.caseId,\n      operator: \"in\",\n      value: ri!caseId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Case.dueOn,\n      operator: \">\",\n      value: rule!CMGT_UTIL_ConvertDatetoDatetime(\n        date: ri!dueOnDate - 1,\n        useSystemTimeZone: a!defaultValue(ri!useSystemTimeZoneForDueOn,true)\n      )\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Case.dueOn,\n      operator: \"<=\",\n      value: rule!CMGT_UTIL_ConvertDatetoDatetime(\n        date: ri!dueOnDate,\n        useSystemTimeZone: a!defaultValue(ri!useSystemTimeZoneForDueOn,true)\n      )\n    )\n  },\n  logicalExpressions: ri!additionalLogicalExpression,\n  fields: {\n    ri!fields,\n    if(\n      ri!excludeRelatedRecords,\n      {},\n      {\n        recordType!CMGT_Case.status,\n        recordType!CMGT_Case.priority,\n        recordType!CMGT_Case.caseType\n      }\n    ),\n    if(\n      ri!includeAssignees,\n      {\n        recordType!CMGT_Case.roles,\n        recordType!CMGT_Case.roles\n      },\n      {}\n    ),\n    if(\n      ri!includePrimaryContact,\n      {\n        recordType!CMGT_Case.caseEntityMap,\n        #\"urn:appian:record-relationship:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/9455b8a8-142d-4976-8b8d-83403eedad6a/043457e2-ee0b-4c7a-8210-8671bbe73128/2a2b64c2-0530-4e0a-a173-d26a396e3cc9\"\n      },\n      {}\n    )\n  },\n  relatedRecordData: {\n    ri!relatedRecordData,\n    if(\n      ri!includePrimaryContact,\n      #\"SYSTEM_SYSRULES_relatedRecordData\"(\n        relationship: recordType!CMGT_Case.caseEntityMap,\n        limit: 1,\n        filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_CaseEntityMap.entity.entityTypeId,\n          operator: \"=\",\n          value: cons!CMGT_REFID_ENTITY_TYPE_CONTACT\n        )\n      ),\n      {}\n    ),\n    if(\n      ri!includeAssignees,\n      #\"SYSTEM_SYSRULES_relatedRecordData\"(\n        relationship: recordType!CMGT_Case.roles,\n        filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_Role.roleTypeId,\n          operator: \"in\",\n          value: {\n            cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n            cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n          }\n        )\n      ),\n      {}\n    )\n  },\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ea26-2ced-8000-9bf1-011c48011c48_583989": {
      "name": "CMGT_PLUGIN_ReadDocumentContent",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!documentContent: readdocumentcontent(ri!document),\n  if(\n    local!documentContent = \"null\",\n    \"\",\n    local!documentContent\n  )\n)"
    },
    "_a-0000ea95-307e-8000-9c1a-011c48011c48_940539": {
      "name": "CMGT_UTIL_DisplayUserAndGroupAssigneeList",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!distinctUsers: rule!CMGT_UTIL_Distinct(\n    reject(\n      a!isNullOrEmpty,\n      a!flatten(ri!assigneeList)\n    )\n  ),\n  local!formatUsers: fn!touniformstring(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!distinctUsers,\n      expression: if(\n        runtimetypeof(fv!item) = 'type!{http://www.appian.com/ae/types/2009}Group',\n        group(tointeger(fv!item), \"groupName\"),\n        fv!item\n      )\n    )\n  ),\n  local!formattedNamesBeforeOther: fn!touniformstring(\n    reject(\n      a!isNullOrEmpty,\n      index(\n        local!formatUsers,\n        enumerate(cons!CMGT_INT_BATCH_SIZE_EXTRA_SMALL - 1) + 1,\n        null\n      )\n    )\n  ),\n  local!formattedNamesForCaption: difference(\n    local!formatUsers,\n    local!formattedNamesBeforeOther\n  ),\n  local!distinctGroup: rule!CMGT_UTIL_Distinct(\n    reject(\n      a!isNullOrEmpty,\n      a!flatten(ri!groupList)\n    )\n  ),\n  local!formatGroup: fn!touniformstring(\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!distinctGroup,\n      expression: if(\n        runtimetypeof(fv!item) = 'type!{http://www.appian.com/ae/types/2009}Group',\n        group(tointeger(fv!item), \"groupName\"),\n        fv!item\n      )\n    )\n  ),\n  local!formattedNamesBeforeOtherGroups: fn!touniformstring(\n    reject(\n      a!isNullOrEmpty,\n      index(\n        local!formatGroup,\n        enumerate(cons!CMGT_INT_BATCH_SIZE_EXTRA_SMALL - 1) + 1,\n        null\n      )\n    )\n  ),\n  local!formattedNamesForCaptionGroup: difference(\n    local!formatGroup,\n    local!formattedNamesBeforeOtherGroups\n  ),\n  local!separator: a!defaultValue(ri!separator, char(10)),\n  /*Hide options > cons!CMGT_INT_NUM_OF_OBJECTS_TO_SHOW_BEFORE_HIDE, */\n  /*use the cons!CMGT_INT_NUM_OF_OBJECTS_TO_SHOW_BEFORE_HIDE object to be the \"show more\"*/\n  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n    label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"List\"),\n    labelPosition: \"COLLAPSED\",\n    value: {\n      if(\n        a!defaultValue(\n          value: ri!showGroupAssigneesOnly,\n          default: false\n        ),\n        {},\n        {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: rule!CMGT_displayListOfItems(\n              values: local!formattedNamesBeforeOther,\n              emptyLabel: ri!emptyLabel,\n              separator: local!separator\n            ),\n            color: a!defaultValue(\n              if(\n                a!isNullOrEmpty(local!distinctUsers),\n                ri!brandingMap.SecondaryTextColor,\n                ri!textColor\n              ),\n              ri!brandingMap.StandardTextColor\n            ),\n            size: a!defaultValue(ri!textSize, \"STANDARD\"),\n            style: if(\n              a!isNullOrEmpty(local!distinctUsers),\n              \"EMPHASIS\",\n              ri!textStyle\n            )\n          ),\n          if(\n            a!isNullOrEmpty(local!formattedNamesForCaption),\n            null,\n            {\n              local!separator,\n              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                icon: \"plus\",\n                caption: joinarray(local!formattedNamesForCaption, \", \"),\n                color: ri!brandingMap.SecondaryTextColor,\n                size: \"SMALL\"\n              ),\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: #\"urn:appian:translation-string:v1:138e2717-f77d-4cb5-9d38-6e79f12039c7\"(\n                  #\"urn:appian:translation-variable:v1:706bfb1d-813b-4e07-adb1-b21bb5d5018b\": count(local!formattedNamesForCaption)\n                ),\n                color: a!defaultValue(\n                  ri!textColor,\n                  ri!brandingMap.StandardTextColor\n                ),\n                size: a!defaultValue(ri!textSize, \"STANDARD\"),\n                style: ri!textStyle\n              )\n            }\n          ),\n          char(10)\n        }\n      ),\n      #\"SYSTEM_SYSRULES_richTextIcon\"(\n        icon: \"group\",\n        color: ri!brandingMap.SecondaryTextColor,\n        size: a!defaultValue(ri!textSize, \"SMALL\")\n      ),\n      \" \",\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: rule!CMGT_displayListOfItems(\n          values: local!formattedNamesBeforeOtherGroups,\n          emptyLabel: ri!emptyLabel,\n          separator: local!separator\n        ),\n        color: if(\n          a!isNullOrEmpty(local!formatGroup),\n          ri!brandingMap.SecondaryTextColor,\n          ri!brandingMap.StandardTextColor\n        ),\n        size: a!defaultValue(ri!textSize, \"SMALL\"),\n        style: if(\n          a!isNullOrEmpty(local!formatGroup),\n          \"EMPHASIS\",\n          ri!textStyle\n        )\n      ),\n      if(\n        a!isNullOrEmpty(local!formattedNamesForCaptionGroup),\n        null,\n        {\n          local!separator,\n          #\"SYSTEM_SYSRULES_richTextIcon\"(\n            icon: \"plus\",\n            caption: joinarray(\n              local!formattedNamesForCaptionGroup,\n              \", \"\n            ),\n            color: a!defaultValue(\n              if(\n                a!isNullOrEmpty(local!distinctGroup),\n                ri!brandingMap.SecondaryTextColor,\n                ri!brandingMap.SecondaryTextColor\n              ),\n              ri!brandingMap.SecondaryTextColor\n            ),\n            size: \"SMALL\"\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: #\"urn:appian:translation-string:v1:138e2717-f77d-4cb5-9d38-6e79f12039c7\"(\n              #\"urn:appian:translation-variable:v1:706bfb1d-813b-4e07-adb1-b21bb5d5018b\": count(local!formattedNamesForCaptionGroup)\n            ),\n            color: ri!brandingMap.StandardTextColor,\n            size: a!defaultValue(ri!textSize, \"SMALL\"),\n            style: ri!textStyle\n          )\n        }\n      )\n    },\n    showWhen: or(\n      a!isNotNullOrEmpty(local!formatGroup),\n      a!isNotNullOrEmpty(ri!emptyLabel)\n    ),\n    align: \"LEFT\",\n    marginAbove: a!defaultValue(\n      value: ri!marginAbove,\n      default: \"STANDARD\"\n    )\n  )\n)"
    },
    "5871189e-5b69-4276-978a-e1c5e4263102": {
      "name": "CMGT_QR_GetEntity",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_Entity,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Entity.entityId,\n      operator: \"in\",\n      value: ri!entityId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Entity.isActive,\n      operator: \"=\",\n      value: true,\n      applyWhen: not(\n        a!defaultValue(ri!includeInactive, false)\n      )\n    )\n  },\n  logicalExpressions: ri!additionalLogicalExpression,\n  fields: {\n    ri!fields,\n    if(\n      ri!excludeRelatedRecords,\n      {},\n      {\n        recordType!CMGT_Entity.entityType,\n        recordType!CMGT_Entity.entityCategory,\n        recordType!CMGT_Entity.person\n      }\n    )\n  },\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  relatedRecordData: ri!relatedRecordData,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ebb3-5308-8000-9cab-011c48011c48_2118347": {
      "name": "CMGT_LA_suggestUsersToTagOnAMessage",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!searchData: #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!options,\n    expression: if(\n      search(ri!searchText, fv!item) > 0,\n      fv!item,\n      {}\n    )\n  ),\n  #\"SYSTEM_SYSRULES_dataSubset\"(\n    data: local!searchData,\n    identifiers: local!searchData\n  )\n)"
    },
    "_a-0000e9a5-4cb8-8000-9bac-011c48011c48_69335": {
      "name": "CMGT_QR_GetStatus",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_CFG_Status,\n  returnType: ri!returnType,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_Status.type,\n      operator: \"=\",\n      value: ri!type\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_Status.isActive,\n      operator: \"=\",\n      value: ri!isActive\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_Status.statusId,\n      operator: \"<>\",\n      value: cons!CMGT_REFID_STATUS_TASK_QUEUED,\n      applyWhen: ri!excludeQueued = true\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_Status.statusId,\n      operator: \"in\",\n      value: ri!statusId\n    )\n  },\n  fields: ri!fields,\n  relatedRecordData: ri!relatedRecordData,\n  pagingInfo: ri!pagingInfo,\n  sort: a!defaultValue(\n    ri!sort,\n    #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_CFG_Status.sortOrder,\n      ascending: true\n    )\n  ),\n  triggerRefresh: ri!triggerRefresh,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ebb3-5308-8000-9cab-011c48011c48_2123332": {
      "name": "CMGT_LA_Email_EmailSettingMap_CommentCreation_NotifyCaseAssignees",
      "type": "Expression Rule",
      "sail_code": "a!flatten(\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!comments,\n    expression: a!localVariables(\n      local!comment: fv!item,\n      /*Gets the case associated with the new comment added*/\n      local!case: rule!CMGT_QR_GetCase(\n        caseId: local!comment[recordType!CMGT_Comment.caseId],\n        includeAssignees: true()\n      ),\n      /*Get assignees of the case*/\n      local!roles: rule!CMGT_UTIL_Filter(\n        records: a!flatten(\n          local!case[recordType!CMGT_Case.roles]\n        ),\n        field: recordType!CMGT_Role.username,\n        value: local!comment[recordType!CMGT_Comment.createdBy],\n        filterType: \"REJECT\"\n      ),\n      if(\n        rule!CMGT_UTIL_IsBlank(local!roles),\n        {},\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: local!roles,\n          expression: a!localVariables(\n            local!groupUsersCount: if(\n              tointeger(\n                fv!item[recordType!CMGT_Role.roleTypeId]\n              ) = cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE,\n              a!groupMembers(\n                group: togroup(\n                  fv!item[recordType!CMGT_Role.groupId]\n                ),\n                memberType: \"USER\",\n                pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(1, 0)\n              ).totalCount,\n              null\n            ),\n            local!subjectAndRecipients: a!match(\n              value: tointeger(\n                fv!item[recordType!CMGT_Role.roleTypeId]\n              ),\n              /* When a user is assigned with the case*/\n              equals: cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n              then: a!map(\n                subject: #\"urn:appian:translation-string:v1:896f8c6a-d8cb-4a23-a093-f3d7772eaf95\",\n                recipients: if(\n                  isusernametaken(\n                    fv!item[recordType!CMGT_Role.username]\n                  ),\n                  toemailrecipient(\n                    fv!item[recordType!CMGT_Role.username]\n                  ),\n                  null\n                )\n              ),\n              /* When a group is assigned with the case*/\n              equals: cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE,\n              then: a!map(\n                subject: #\"urn:appian:translation-string:v1:011e1c14-0d64-46a2-8267-51589bfba2d0\",\n                recipients: if(\n                  /* Checking if the group assignee contains a user */\n                  local!groupUsersCount > 0,\n                  toemailrecipient(\n                    togroup(\n                      fv!item[recordType!CMGT_Role.groupId]\n                    )\n                  ),\n                  null\n                )\n              ),\n              /*No email sent if the role type is a case watcher*/\n              default: {}\n            ),\n            a!map(\n              recipients: local!subjectAndRecipients.recipients,\n              subject: local!subjectAndRecipients.subject,\n              recipientEmailAddress: null,\n              replacementParams: rule!CMGT_LA_Email_CommentCreation_NotifyCaseAssignees_ReplacementParamsMap(\n                case: local!case,\n                commentCreatedBy: local!comment[recordType!CMGT_Comment.createdBy],\n                brandingMap: ri!brandingMap\n              )\n            )\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000ebb3-5308-8000-9cab-011c48011c48_2111010": {
      "name": "CMGT_LA_Comment_RecordAction_CreateOrUpdate",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!brandingMap: rule!CMGT_UTIL_LoadBrandingMap(),\n  local!isUpdate: a!isNotNullOrEmpty(\n    ri!comment[recordType!CMGT_Comment.commentId]\n  ),\n  #\"SYSTEM_SYSRULES_formLayout_v1\"(\n    label: if(\n      local!isUpdate,\n      #\"urn:appian:translation-string:v1:fe4df1c8-0c4b-4c83-b436-8bc774a7cf6a\",\n      #\"urn:appian:translation-string:v1:15a80821-8cd6-4134-afae-d7c7ba67383e\"\n    ),\n    contents: {\n      rule!CMGT_LA_Message_Sub_MessageInput(\n        comment: ri!comment,\n        required: false,\n        brandingMap: local!brandingMap,\n        includeExtraInput: true,\n        showInlineSaveButton: false,\n        caseId: ri!comment[recordType!CMGT_Comment.caseId],\n\n      ),\n\n    },\n    buttons: #\"SYSTEM_SYSRULES_ButtonLayout\"(\n      primaryButtons: {\n        #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          disabled: rule!CMGT_UTIL_IsBlank(\n            ri!comment[recordType!CMGT_Comment.commentText]\n          ),\n          label: if(\n            local!isUpdate,\n            #\"urn:appian:translation-string:v1:93ca0c5d-736b-4a58-b3c0-fdcd3e00dce4\",\n            #\"urn:appian:translation-string:v1:8ac60ac9-bbf9-4ebc-bc86-611ad6dd5e45\"\n          ),\n          submit: true,\n          style: \"SOLID\",\n          validate: true\n        )\n      },\n      secondaryButtons: {\n        #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          label: #\"urn:appian:translation-string:v1:78ce0929-a093-462b-a1b8-4a9da85be651\",\n          value: true,\n          saveInto: a!save(ri!comment, null),\n          submit: true,\n          style: \"OUTLINE\",\n          validate: false\n        )\n      }\n    )\n  )\n)"
    },
    "_a-0000eeba-7a31-8000-9dbb-011c48011c48_4846589": {
      "name": "CMGT_SMS_AI_SmartSearchResultsTab_Cases",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_cardLayout\"(\n  showBorder: false,\n  style: \"TRANSPARENT\",\n  padding: \"STANDARD\",\n  contents: {\n    /* Filters */\n    rule!CMGT_SMS_AI_SmartSearchCasesTabFilters(\n      selectedStatus: ri!selectedStatus,\n      selectedCaseTypes: ri!selectedCaseTypes,\n      selectedAssignees: ri!selectedAssignees,\n      selectedAssignedGroups: ri!selectedAssignedGroups\n    ),\n    /* Results */\n    #\"SYSTEM_SYSRULES_cardGroupLayout\"(\n      labelPosition: \"COLLAPSED\",\n      cards: {\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!searchResult.data,\n          expression: {\n            rule!CMGT_SMS_AI_SmartSearchCaseCard(\n              case: fv!item,\n              brandingMap: ri!brandingMap\n            )\n          }\n        )\n      },\n      cardWidth: \"WIDE\",\n      showWhen: rule!CMGT_UTIL_IsNotBlank(ri!searchResult.data)\n    ),\n    /* Custom Paging */\n    if(\n      ri!totalCount > cons!CMGT_INT_BATCH_SIZE_MEDIUM,\n      rule!CMGT_UTIL_CustomPaging(\n        pagingInfo: ri!pagingInfo,\n        totalCount: ri!totalCount,\n        brandingMap: ri!brandingMap\n      ),\n      {}\n    ),\n    /*Search Results - No Result found*/\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      marginAbove: \"MORE\",\n      marginBelow: \"MORE\",\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_stampField\"(\n              labelPosition: \"COLLAPSED\",\n              icon: \"search-minus\",\n              backgroundColor: ri!brandingMap.WhiteColor,\n              contentColor: ri!brandingMap.SecondaryTextColor,\n              size: \"MEDIUM\",\n              align: \"CENTER\",\n              marginBelow: \"STANDARD\",\n              shape: \"ROUNDED\"\n            ),\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              labelPosition: \"COLLAPSED\",\n              value: {\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: #\"urn:appian:translation-string:v1:6ad92534-fd9d-4c80-b325-728dd1392a18\",\n                  color: ri!brandingMap.StandardTextColor,\n                  size: \"MEDIUM\"\n                )\n              },\n              align: \"CENTER\"\n            )\n          },\n          width: if(\n            not(\n              #\"SYSTEM_SYSRULES_isPageWidth\"({ \"PHONE\", \"TABLET_PORTRAIT\" })\n            ),\n            \"MEDIUM_PLUS\",\n            \"WIDE_PLUS\"\n          )\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(contents: {})\n      },\n      showWhen: rule!CMGT_UTIL_IsBlank(ri!searchResult.data)\n    )\n  }\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_29477-cmgt": {
      "name": "CMGT_Comment_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!comments,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {\n      a!map(\n        field: recordType!CMGT_Comment.modifiedBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_Comment.modifiedOn,\n        value: now()\n      ),\n      /*Set hasBeenEdited if changed and not previously set*/\n      a!map(\n        field: recordType!CMGT_Comment.hasBeenEdited,\n        value: if(\n          fv!item[recordType!CMGT_Comment.hasBeenEdited],\n          true,\n          a!isNullOrEmpty(\n            fv!item[recordType!CMGT_Comment.commentId]\n          ),\n          false,\n          fv!item[recordType!CMGT_Comment.commentText] <> rule!CMGT_QR_GetComment(\n            commentId: fv!item[recordType!CMGT_Comment.commentId],\n            fields: recordType!CMGT_Comment.commentText,\n            returnType: \"SINGLE_OBJECT\"\n          )[recordType!CMGT_Comment.commentText]\n        )\n      )\n    },\n    /*Only modify these fields if they are currently null (default value)*/\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_Comment.createdBy,\n        value: ri!initiator\n      ),\n      a!map(\n        field: recordType!CMGT_Comment.createdOn,\n        value: now()\n      ),\n      a!map(\n        field: recordType!CMGT_Comment.isActive,\n        value: true\n      ),\n      a!map(\n        field: recordType!CMGT_Comment.isPrivate,\n        value: #\"urn:appian:function:v1:a:isusermemberofgroup?okey=a!isUserMemberOfGroup\"(\n          ri!initiator,\n          cons!CMGT_GRP_INTERNAL_USERS\n        )\n      ),\n      a!map(\n        field: recordType!CMGT_Comment.isBookmarked,\n        value: false\n      ),\n      /*Set caseId/taskId in case it's on the object and not the FK field*/\n      a!map(\n        field: recordType!CMGT_Comment.caseId,\n        value: fv!item[recordType!CMGT_Comment.case.caseId]\n      ),\n      a!map(\n        field: recordType!CMGT_Comment.taskId,\n        value: fv!item[recordType!CMGT_Comment.task.taskId]\n      )\n    },\n    /*Set metadata for all child relationships*/\n    childRelationships: {\n      a!map(\n        field: recordType!CMGT_Comment.userTags,\n        value: rule!CMGT_CommentUserTag_SetMetaData(\n          commentUserTags: fv!item[recordType!CMGT_Comment.userTags]\n        )\n      ),\n      a!map(\n        field: recordType!CMGT_Comment.commentDocumentMap,\n        value: rule!CMGT_CommentDocumentMap_SetMetaData(\n          commentDocumentMaps: fv!item[recordType!CMGT_Comment.commentDocumentMap]\n        )\n      )\n    }\n  )\n)"
    },
    "_a-0000ea2f-ac11-8000-9bf4-011c48011c48_598077": {
      "name": "CMGT_Email_BaseTemplate_ReplacementParamsMap",
      "type": "Expression Rule",
      "sail_code": "{\n  /* Header   */\n  {\n    find: \"headerBackgroundColor\",\n    replace: ri!brandingMap.DefaultBackgroundColor\n  },\n  {\n    find: \"logo\",\n    replace: ri!brandingMap.PublicLogoUrl\n  },\n  {\n    find: \"applicationNameColor\",\n    replace: ri!brandingMap.AccentColor\n  },\n  {\n    find: \"applicationName\",\n    replace: #\"urn:appian:translation-string:v1:311735dd-c418-42b1-9019-b3f175959489\"\n  },\n  /* Body   */\n  {\n    find: \"backgroundColor\",\n    replace: ri!brandingMap.DefaultBackgroundColor\n  },\n  {\n    find: \"contentBorderColor\",\n    replace: ri!brandingMap.DividerColor\n  },\n  {\n    find: \"instructionSize\",\n    replace: ri!instructionSize\n  },\n  {\n    find: \"instructionColor\",\n    replace: a!defaultValue(\n      value: ri!instructionColor,\n      default: ri!brandingMap.StandardTextColor\n    )\n  },\n  {\n    find: \"instruction\",\n    replace: ri!instruction\n  },\n  /* Button   */\n  {\n    find: \"buttonBackgroundColor\",\n    replace: ri!brandingMap.AccentColor\n  },\n  {\n    find: \"buttonLabelColor\",\n    replace: ri!brandingMap.WhiteColor\n  },\n  {\n    find: \"buttonLabel\",\n    replace: ri!buttonLabel\n  },\n  {\n    find: \"buttonLinkUrl\",\n    replace: ri!buttonLinkUrl\n  },\n  /*  Footer        */\n  {\n    find: \"footerTextColor\",\n    replace: ri!brandingMap.SecondaryTextColor\n  },\n  {\n    find: \"footerText\",\n    replace: ri!footerText\n  }\n}"
    },
    "_a-0000eaf1-7a52-8000-9c42-011c48011c48_1227353": {
      "name": "CMGT_UTIL_StripHtmlTags",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!replacedText: substitute(\n    substitute(ri!value, \"<p>\", \"\"),\n    \"</p>\",\n    \"\"\n  ),\n  if(\n    ri!isFormatted,\n    /*The striphtml() will automatically substitue char(10) for <br>*/striphtml(local!replacedText),\n    striphtml(\n      substitute(local!replacedText, \"<br>\", \" \")\n    )\n  )\n)"
    },
    "_a-0000eaba-1e20-8000-9c2a-011c48011c48_1034472": {
      "name": "CMGT_ENUM_BRAND_STANDARD_COLOR_SCHEMES",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  /*Note that this should really be COLOR_SCHEME_CHART*/\n  /*but due to backwards compatibility we cannot change it*/\n  /*Maps to: https://docs.appian.com/suite/help/latest/Chart_Color_Scheme.html*/\n  COLOR_SCHEME: a!map(\n    isArray: true,\n    colorSchemes: {\n      a!map(\n        key: \"CLASSIC\",\n        hexCodes: {\n          \"#619ed6\",\n          \"#6ba547\",\n          \"#f7d027\",\n          \"#e48f1b\",\n          \"#b77ea3\",\n          \"#e64345\",\n          \"#60ceed\",\n          \"#9cf168\",\n          \"#f7ea4a\",\n          \"#fbc543\",\n          \"#ffc9ed\",\n          \"#e6696e\"\n        }\n      ),\n      a!map(\n        key: \"MIDNIGHT\",\n        hexCodes: {\n          \"#97a1d9\",\n          \"#6978c9\",\n          \"#4a5596\",\n          \"#2c3365\",\n          \"#111539\"\n        }\n      ),\n      a!map(\n        key: \"OCEAN\",\n        hexCodes: {\n          \"#77c2fe\",\n          \"#249cff\",\n          \"#1578cf\",\n          \"#0a579e\",\n          \"#003870\"\n        }\n      ),\n      a!map(\n        key: \"MOSS\",\n        hexCodes: {\n          \"#62beb6\",\n          \"#0b9a8d\",\n          \"#077368\",\n          \"#034d44\",\n          \"#002b24\"\n        }\n      ),\n      a!map(\n        key: \"BERRY\",\n        hexCodes: {\n          \"#f88fb2\",\n          \"#ed5c8b\",\n          \"#d5255e\",\n          \"#a31246\",\n          \"#740030\"\n        }\n      ),\n      a!map(\n        key: \"PARACHUTE\",\n        hexCodes: {\n          \"#e65f8e\",\n          \"#a86bd1\",\n          \"#3aa5d1\",\n          \"#3bb58f\",\n          \"#3a63ad\"\n        }\n      ),\n      a!map(\n        key: \"RAINFOREST\",\n        hexCodes: {\n          \"#82c272\",\n          \"#00a88f\",\n          \"#0087ac\",\n          \"#005faa\",\n          \"#323b81\"\n        }\n      ),\n      a!map(\n        key: \"SUNSET\",\n        hexCodes: {\n          \"#ffca3e\",\n          \"#ff6f50\",\n          \"#d03454\",\n          \"#9c2162\",\n          \"#772f67\"\n        }\n      )\n    }\n  ),\n  /*Maps to: https://docs.appian.com/suite/help/latest/ux_header_content_layout.html#color-schemes*/\n  COLOR_SCHEME_PAGE_BACKGROUND: a!map(\n    isArray: false,\n    colorSchemes: {\n      a!map(key: \"WHITE\", hexCode: \"#ffffff\"),\n      a!map(key: \"TRANSPARENT\", hexCode: \"#ffffff\"),\n      a!map(\n        key: \"CHARCOAL_SCHEME\",\n        hexCode: \"#1b1e21\"\n      ),\n      a!map(key: \"NAVY_SCHEME\", hexCode: \"#19202a\"),\n      a!map(key: \"PLUM_SCHEME\", hexCode: \"#171522\")\n    }\n  ),\n  /*Maps to: https://docs.appian.com/suite/help/latest/Chart_Reference_Line_Component.html*/\n  COLOR_SCHEME_CHART_LINE: a!map(\n    isArray: false,\n    colorSchemes: {\n      a!map(key: \"ACCENT\", hexCode: \"#316598\"),\n      a!map(key: \"BLUEGRAY\", hexCode: \"#6e9dd1\"),\n      a!map(key: \"GREEN\", hexCode: \"#78a253\"),\n      a!map(key: \"GOLD\", hexCode: \"#f2cf50\"),\n      a!map(key: \"ORANGE\", hexCode: \"#d9923b\"),\n      a!map(key: \"PURPLE\", hexCode: \"#af81a1\"),\n      a!map(key: \"RED\", hexCode: \"#d5504c\"),\n      a!map(key: \"SKYBLUE\", hexCode: \"#7ccce9\"),\n      a!map(key: \"LIMEGREEN\", hexCode: \"#afed7a\"),\n      a!map(key: \"YELLOW\", hexCode: \"#f6e868\"),\n      a!map(key: \"AMBER\", hexCode: \"#f4c65c\"),\n      a!map(key: \"PINK\", hexCode: \"#f7cceb\"),\n      a!map(key: \"VIOLETRED\", hexCode: \"#d67071\")\n    }\n  )\n)"
    },
    "_a-0000e9dc-ab93-8000-9bc2-011c48011c48_189380": {
      "name": "CMGT_UTIL_DisplayListOfItems",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!distinctValues: rule!CMGT_UTIL_Distinct(\n    reject(a!isNullOrEmpty, a!flatten(ri!values))\n  ),\n  local!formatValues: #\"SYSTEM_SYSRULES_forEach\"(\n    items: local!distinctValues,\n    expression: if(\n      runtimetypeof(fv!item) = 'type!{http://www.appian.com/ae/types/2009}Group',\n      group(tointeger(fv!item), \"groupName\"),\n      fv!item\n    )\n  ),\n  local!formattedNamesBeforeOther: index(\n    local!formatValues,\n    enumerate(cons!CMGT_INT_BATCH_SIZE_EXTRA_SMALL - 1) + 1,\n    null\n  ),\n  local!formattedNamesForCaption: difference(\n    local!formatValues,\n    local!formattedNamesBeforeOther\n  ),\n  local!count: a!defaultValue(\n    ri!totalCount,\n    count(local!distinctValues)\n  ),\n  local!separator: a!defaultValue(ri!separator, char(10)),\n  /*Hide options > cons!CMGT_INT_NUM_OF_OBJECTS_TO_SHOW_BEFORE_HIDE,\n          use the cons!CMGT_INT_NUM_OF_OBJECTS_TO_SHOW_BEFORE_HIDE object to be the \"show more\"\n  */\n  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n    label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"List\"),\n    labelPosition: \"COLLAPSED\",\n    value: if(\n      local!count < cons!CMGT_INT_BATCH_SIZE_EXTRA_SMALL,\n      {\n        if(\n          a!isNotNullOrEmpty(value: ri!icon),\n          {\n            #\"SYSTEM_SYSRULES_richTextIcon\"(\n              icon: ri!icon,\n              caption: ri!iconCaption,\n              color: a!defaultValue(\n                ri!iconColor,\n                ri!brandingMap.SecondaryTextColor\n              ),\n              size: \"SMALL\"\n            ),\n            char(32)\n          },\n          {}\n        ),\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: if(\n            a!isNullOrEmpty(local!formatValues),\n            ri!emptyLabel,\n            joinarray(local!formatValues, local!separator)\n          ),\n          color: a!defaultValue(\n            if(\n              a!isNullOrEmpty(local!formatValues),\n              ri!brandingMap.SecondaryTextColor,\n              ri!textColor\n            ),\n            ri!brandingMap.StandardTextColor\n          ),\n          size: a!defaultValue(ri!textSize, \"STANDARD\"),\n          style: if(\n            a!isNullOrEmpty(local!formatValues),\n            \"EMPHASIS\",\n            ri!textStyle\n          )\n        )\n      },\n      {\n        if(\n          a!isNotNullOrEmpty(value: ri!icon),\n          {\n            #\"SYSTEM_SYSRULES_richTextIcon\"(\n              icon: ri!icon,\n              caption: ri!iconCaption,\n              color: a!defaultValue(\n                ri!iconColor,\n                ri!brandingMap.SecondaryTextColor\n              ),\n              size: \"SMALL\"\n            ),\n            char(32)\n          },\n          {}\n        ),\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: {\n            joinarray(\n              local!formattedNamesBeforeOther,\n              local!separator\n            ),\n            local!separator\n          },\n          color: a!defaultValue(\n            if(\n              a!isNullOrEmpty(local!distinctValues),\n              ri!brandingMap.SecondaryTextColor,\n              ri!textColor\n            ),\n            ri!brandingMap.StandardTextColor\n          ),\n          size: a!defaultValue(ri!textSize, \"STANDARD\"),\n          style: if(\n            a!isNullOrEmpty(local!distinctValues),\n            \"EMPHASIS\",\n            ri!textStyle\n          )\n        ),\n        #\"SYSTEM_SYSRULES_richTextIcon\"(\n          icon: \"plus\",\n          caption: joinarray(local!formattedNamesForCaption, \", \"),\n          color: ri!brandingMap.SecondaryTextColor,\n          size: \"SMALL\"\n        ),\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: a!localVariables(\n            local!countForMoreAvailable: (\n              local!count - cons!CMGT_INT_BATCH_SIZE_EXTRA_SMALL\n            ) + 1,\n            #\"urn:appian:translation-string:v1:138e2717-f77d-4cb5-9d38-6e79f12039c7\"(#\"urn:appian:translation-variable:v1:706bfb1d-813b-4e07-adb1-b21bb5d5018b\": local!countForMoreAvailable)\n          ),\n          color: a!defaultValue(\n            if(\n              a!isNullOrEmpty(local!distinctValues),\n              ri!brandingMap.SecondaryTextColor,\n              ri!textColor\n            ),\n            ri!brandingMap.StandardTextColor\n          ),\n          size: a!defaultValue(ri!textSize, \"STANDARD\"),\n          style: if(\n            a!isNullOrEmpty(local!formatValues),\n            \"EMPHASIS\",\n            ri!textStyle\n          )\n        )\n      }\n    ),\n    showWhen: or(\n      a!isNotNullOrEmpty(local!distinctValues),\n      a!isNotNullOrEmpty(ri!emptyLabel)\n    ),\n    align: \"LEFT\",\n    marginAbove: a!defaultValue(\n      value: ri!marginAbove,\n      default: \"STANDARD\"\n    ),\n    marginBelow: a!defaultValue(\n      value: ri!marginBelow,\n      default: \"STANDARD\"\n    ),\n\n  )\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_29424-cmgt": {
      "name": "CMGT_QR_GetComment",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_Comment,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Comment.caseId,\n      operator: \"=\",\n      value: ri!caseId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Comment.taskId,\n      operator: \"=\",\n      value: ri!taskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Comment.commentId,\n      operator: \"in\",\n      value: ri!commentId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Comment.parentCommentId,\n      operator: \"is null\",\n      applyWhen: ri!onlyParentComments = true\n    )\n  },\n  logicalExpressions: ri!additionalLogicalExpressions,\n  fields: {\n    ri!fields,\n    if(\n      ri!includeCase,\n      recordType!CMGT_Comment.case,\n      {}\n    ),\n    if(\n      ri!includeTask,\n      recordType!CMGT_Comment.task,\n      {}\n    ),\n    if(\n      ri!includeUserTagsAndDocumentMaps,\n      {\n        recordType!CMGT_Comment.userTags,\n        recordType!CMGT_Comment.userTags,\n        recordType!CMGT_Comment.commentDocumentMap,\n        recordType!CMGT_Comment.commentDocumentMap\n      },\n      {}\n    ),\n    if(\n      ri!includeChildComments,\n      {\n        recordType!CMGT_Comment.childComments,\n        if(\n          ri!includeUserTagsAndDocumentMaps,\n          {\n            recordType!CMGT_Comment.childComments,\n            #\"urn:appian:record-relationship:v1:e57250b0-f216-4a23-afd9-39e7d532d302-cmgt/3fbb8e70-35d5-460e-aee9-d05940b75a05/18e4567c-a0ea-4ba1-bcff-220a1ef13668-cmgt/e7ba3b0b-ab6f-4600-9551-ea4a0d70d530-cmgt\",\n            recordType!CMGT_Comment.childComments,\n            #\"urn:appian:record-relationship:v1:e57250b0-f216-4a23-afd9-39e7d532d302-cmgt/3fbb8e70-35d5-460e-aee9-d05940b75a05/4482fa71-8c71-40a5-98f2-773715556151/71840277-2340-479f-be2c-7d05e30ba12f\"\n          },\n          {}\n        )\n      },\n      {}\n    ),\n    recordType!CMGT_Comment.createdByUser\n  },\n  pagingInfo: ri!pagingInfo,\n  relatedRecordData: {\n    ri!relatedRecordData,\n    if(\n      ri!includeChildComments,\n      #\"SYSTEM_SYSRULES_relatedRecordData\"(\n        relationship: recordType!CMGT_Comment.childComments,\n        limit: 10,\n        sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!CMGT_Comment.createdOn,\n          ascending: true\n        )\n      ),\n      {}\n    )\n  },\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: {\n    recordType!CMGT_Comment.commentText,\n    #\"urn:appian:record-field:v1:e57250b0-f216-4a23-afd9-39e7d532d302-cmgt/18e4567c-a0ea-4ba1-bcff-220a1ef13668-cmgt/e7ba3b0b-ab6f-4600-9551-ea4a0d70d530-cmgt/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\",\n    if(\n      ri!includeChildComments,\n      {\n        recordType!CMGT_Comment.childComments.commentText,\n        #\"urn:appian:record-field:v1:e57250b0-f216-4a23-afd9-39e7d532d302-cmgt/3fbb8e70-35d5-460e-aee9-d05940b75a05/18e4567c-a0ea-4ba1-bcff-220a1ef13668-cmgt/e7ba3b0b-ab6f-4600-9551-ea4a0d70d530-cmgt/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\"\n      },\n      {}\n    )\n  },\n  sort: ri!sort\n)"
    },
    "_a-0000eeba-7a31-8000-9dbb-011c48011c48_4845374": {
      "name": "CMGT_SMS_AI_SmartSearchTasksTabFilters",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_sideBySideLayout\"(\n  items: {\n    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n      item: #\"SYSTEM_SYSRULES_multipleDropdownField_v1\"(\n        data: recordType!CMGT_CFG_TaskBehaviorType,\n        label: #\"urn:appian:translation-string:v1:1d58ff3b-5696-425d-aa68-e95d15a92988\",\n        placeholder: #\"urn:appian:translation-string:v1:1d58ff3b-5696-425d-aa68-e95d15a92988\",\n        value: ri!selectedTaskTypes,\n        choiceLabels: recordType!CMGT_CFG_TaskBehaviorType.label,\n        choiceValues: recordType!CMGT_CFG_TaskBehaviorType.taskBehaviorTypeId,\n        saveInto: ri!selectedTaskTypes\n      )\n    ),\n    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n      item: #\"SYSTEM_SYSRULES_multipleDropdownField_v1\"(\n        data: #\"SYSTEM_SYSRULES_recordData\"(\n          recordType: recordType!CMGT_CFG_Status,\n          filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_CFG_Status.type,\n                operator: \"=\",\n                value: \"TASK\"\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!CMGT_CFG_Status.isActive,\n                operator: \"=\",\n                value: true\n              )\n            }\n          )\n        ),\n        label: #\"urn:appian:translation-string:v1:952ff189-5287-445d-991e-730bfc34ae2e\",\n        placeholder: #\"urn:appian:translation-string:v1:952ff189-5287-445d-991e-730bfc34ae2e\",\n        value: ri!selectedStatus,\n        choiceLabels: recordType!CMGT_CFG_Status.statusLabel,\n        choiceValues: recordType!CMGT_CFG_Status.statusId,\n        saveInto: ri!selectedStatus\n      )\n    ),\n    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n      item: #\"SYSTEM_SYSRULES_pickerFieldUsers\"(\n        label: #\"urn:appian:translation-string:v1:6b6a9910-093f-4a1e-9807-d5d8b06daecc\",\n        labelPosition: \"ABOVE\",\n        placeholder: #\"urn:appian:translation-string:v1:6b6a9910-093f-4a1e-9807-d5d8b06daecc\",\n        maxSelections: 5,\n        groupFilter: cons!CMGT_GRP_INTERNAL_USERS,\n        value: ri!selectedAssignees,\n        saveInto: a!save(\n          ri!selectedAssignees,\n          rule!CMGT_UTIL_Distinct(save!value)\n        )\n      ),\n\n    ),\n    #\"SYSTEM_SYSRULES_sideBySideItem\"(\n      item: #\"SYSTEM_SYSRULES_pickerFieldGroups\"(\n        label: #\"urn:appian:translation-string:v1:e9f14855-a8fd-4654-9b29-5c0a16aba994\",\n        placeholder: #\"urn:appian:translation-string:v1:e9f14855-a8fd-4654-9b29-5c0a16aba994\",\n        labelPosition: \"ABOVE\",\n        maxSelections: 5,\n        groupFilter: cons!CMGT_GRP_BUSINESS_GROUPS,\n        value: ri!selectedAssignedGroups,\n        saveInto: a!save(\n          ri!selectedAssignedGroups,\n          rule!CMGT_UTIL_Distinct(save!value)\n        )\n      )\n    )\n  }\n)"
    },
    "_a-0000e9c0-fc38-8000-9bb5-011c48011c48_118180": {
      "name": "CMGT_CommentUserTag_SetMetaData",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!commentUserTags,\n  expression: rule!CMGT_UTIL_SetRecordFields(\n    record: fv!item,\n    /*Always set these fields with each update*/\n    alwaysOverwrite: {},\n    /*Only modify these fields if they are currently null (default value)*/\n    neverOverwrite: {\n      a!map(\n        field: recordType!CMGT_CommentUserTag.isActive,\n        value: true\n      )\n    }\n  )\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_33778": {
      "name": "CMGT_UTIL_SetRecordFields",
      "type": "Expression Rule",
      "sail_code": "/*\nFuture enhancement ideas:\n1 Parameter to skip update if the field isn't present in the object\n--- This would also apply to nested fields, as in, don't set a relationship field if the entire relationship object isn't there because it will instantiate it\n2 Parameter to overwrite based on more enhanced logic\n3 Allow list types for the `value`\n4 Allow reuse to apply setting metadata for nested relationships, but using their own set metadata rule\n--- e.g. CMGT_Entity_SetMetaData can be used in both the Case process and the individual Entity process\n*/\nif(\n  a!isNullOrEmpty(ri!record),\n  ri!record,\n  a!localVariables(\n    local!allUpdates: rule!CMGT_UTIL_RejectBlank(a!flatten(\n      {\n        ri!alwaysOverwrite,\n        ri!childRelationships,\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!neverOverwrite,\n          expression: #\"urn:appian:function:v1:a:update\"(\n            fv!item,\n            \"value\",\n            /*Specifically using this instead of a!defaultValue() to account for the `{null}` value*/\n            if(\n              rule!CMGT_UTIL_IsBlank(ri!record[fv!item.field]),\n              fv!item.value,\n              ri!record[fv!item.field]\n            )\n          )\n        )\n      }\n    )),\n    local!onlyChangedUpdates: a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!allUpdates,\n        expression: if(\n          or(\n            tostring(ri!record[fv!item.field]) = tostring(fv!item.value),\n            toboolean(fv!item.applyWhen) = false\n          ),\n          {},\n          fv!item\n        )\n      )\n    ),\n    if(\n      a!isNullOrEmpty(local!onlyChangedUpdates),\n      ri!record,\n      #\"urn:appian:function:v1:a:update\"(\n        data: ri!record,\n        index: local!onlyChangedUpdates.field,\n        value: local!onlyChangedUpdates.value\n      )\n    )\n  )\n)"
    },
    "_a-0000e9dc-ab93-8000-9bc2-011c48011c48_184972": {
      "name": "CMGT_Entity_RecordGrid",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_gridField_v2\"(\n  label: ri!label,\n  labelPosition: if(\n    rule!CMGT_UTIL_IsBlank(value: ri!labelPosition),\n    \"ABOVE\",\n    ri!labelPosition\n  ),\n  helpTooltip: ri!helpToolTip,\n  emptyGridMessage: #\"urn:appian:translation-string:v1:80c74347-3a46-4f46-b8f7-3ab7b9f07b03\",\n  data: #\"SYSTEM_SYSRULES_recordData\"(\n    recordType: recordType!CMGT_Entity,\n    filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n      operator: \"AND\",\n      logicalExpressions: ri!additionalFilters,\n      filters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_Entity.entityCategoryId,\n          operator: \"=\",\n          value: ri!entityCategoryId\n        )\n      },\n      ignoreFiltersWithEmptyValues: true\n    ),\n    fields: {\n      recordType!CMGT_Entity.title,\n      recordType!CMGT_Entity.entityId,\n      recordType!CMGT_Entity.isActive,\n      recordType!CMGT_Entity.identifyingAttribute1,\n      recordType!CMGT_Entity.entityCategory.icon,\n      recordType!CMGT_Entity.entityCategory.label,\n      recordType!CMGT_Entity.entityType.label,\n      recordType!CMGT_Entity.totalCaseCount,\n      recordType!CMGT_Entity.createdOn,\n      recordType!CMGT_Entity.createdByUser,\n      recordType!CMGT_Entity.createdBy,\n      recordType!CMGT_Entity.modifiedOn,\n      recordType!CMGT_Entity.modifiedByUser,\n      recordType!CMGT_Entity.modifiedBy\n    }\n  ),\n  columns: {\n    /*All Entities*/\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: if(\n        ri!context = \"RECORD_LIST\",\n        #\"urn:appian:translation-string:v1:b6952414-89c9-41ca-b623-3904e55c50b0\",\n        #\"urn:appian:translation-string:v1:b8e8db5e-80b7-4598-afe2-901a9aff8168\"\n      ),\n      sortField: recordType!CMGT_Entity.title,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: fv!row[recordType!CMGT_Entity.title],\n            link: #\"SYSTEM_SYSRULES_recordLink\"(\n              recordType: recordType!CMGT_Entity,\n              identifier: fv!row[recordType!CMGT_Entity.entityId],\n              openLinkIn: if(\n                contains({ \"CASE_CREATION\" }, ri!context),\n                \"NEW_TAB\",\n                \"SAME_TAB\"\n              )\n            ),\n            linkStyle: \"STANDALONE\",\n            color: ri!brandingMap.StandardTextColor,\n            style: \"STRONG\"\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: \" \" & #\"urn:appian:translation-string:v1:61203e58-0f38-464a-b414-c84844d9b15a\",\n            showWhen: fv!row[recordType!CMGT_Entity.isActive] = false,\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\",\n            style: \"EMPHASIS\"\n          ),\n          char(10),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: fv!row[recordType!CMGT_Entity.identifyingAttribute1],\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\"\n          )\n        }\n      ),\n      width: if(\n        contains({ \"RECORD_LIST\" }, ri!context),\n        \"MEDIUM_PLUS\",\n        \"AUTO\"\n      )\n    ),\n    /*Type*/\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:cfd938d0-1c74-423e-89ee-f71a530aaec0\",\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextIcon\"(\n            icon: fv!row[recordType!CMGT_Entity.entityCategory.icon],\n            caption: fv!row[recordType!CMGT_Entity.entityCategory.label],\n            color: ri!brandingMap.SecondaryTextColor\n          ),\n          char(32),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: if(\n              a!isNullOrEmpty(\n                fv!row[recordType!CMGT_Entity.entityType.label]\n              ),\n              \" \",\n              fv!row[recordType!CMGT_Entity.entityType.label]\n            )\n          )\n        }\n      )\n    ),\n    /*Related cases*/\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:fb7bc3fe-c4a0-4dd5-82fb-77c9c21f348a\",\n      sortField: recordType!CMGT_Entity.totalCaseCount,\n      value: fv!row[recordType!CMGT_Entity.totalCaseCount],\n      showWhen: contains({ \"RECORD_LIST\" }, ri!context),\n      align: \"END\"\n    ),\n    /*Create date*/\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:09205f3c-0c91-4e16-a1b5-c8085716bf98\",\n      sortField: recordType!CMGT_Entity.createdOn,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: rule!CMGT_UTIL_FormatDateTime(\n              dateTime: fv!row[recordType!CMGT_Entity.createdOn],\n              includeTime: false()\n            ),\n            color: ri!brandingMap.StandardTextColor\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              char(10),\n              rule!CMGT_UTIL_DisplayUser(\n                userRecord: fv!row[recordType!CMGT_Entity.createdByUser],\n                user: fv!row[recordType!CMGT_Entity.createdBy]\n              )\n            },\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\"\n          )\n        }\n      ),\n      showWhen: contains({ \"RECORD_LIST\" }, ri!context),\n      align: \"END\"\n    ),\n    /*Updated Date*/\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:11bd60d9-131f-4409-8bf0-7ef9c57dd366\",\n      sortField: recordType!CMGT_Entity.modifiedOn,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: rule!CMGT_UTIL_FormatDateTime(\n              dateTime: fv!row[recordType!CMGT_Entity.modifiedOn],\n              includeTime: false()\n            ),\n            color: ri!brandingMap.StandardTextColor\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              char(10),\n              rule!CMGT_UTIL_DisplayUser(\n                userRecord: fv!row[recordType!CMGT_Entity.modifiedByUser],\n                user: fv!row[recordType!CMGT_Entity.modifiedBy]\n              )\n            },\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\"\n          )\n        }\n      ),\n      showWhen: contains({ \"RECORD_LIST\" }, ri!context),\n      align: \"END\"\n    )\n  },\n  pageSize: a!defaultValue(\n    ri!pageSize,\n    cons!CMGT_INT_BATCH_SIZE_LARGE\n  ),\n  initialSorts: {\n    #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!CMGT_Entity.title,\n      ascending: true\n    )\n  },\n  showWhen: ri!showWhen,\n  selectable: a!defaultValue(ri!isSelectable, false),\n  selectionValue: ri!selectionValue,\n  selectionSaveInto: ri!selectionSaves,\n  selectionRequired: a!defaultValue(ri!selectionRequired, false),\n  borderStyle: \"LIGHT\",\n  shadeAlternateRows: a!defaultValue(ri!shadeAlternateRows, true),\n  /*\n  Used in accessibility;\n  if the first column shown is a new field, it must be added here\n  */\n  rowHeader: 1,\n  refreshAfter: \"RECORD_ACTION\",\n  userFilters: ri!userFilters,\n  showSearchBox: ri!showSearchBox,\n  showRefreshButton: a!defaultValue(ri!showRefreshButton, true),\n  showExportButton: a!defaultValue(ri!showExportButton, true),\n  recordActions: {\n    if(\n      contains({ \"COMPACT_LIST\" }, ri!context),\n      #\"SYSTEM_SYSRULES_recordActionItem\"(\n        action: #\"urn:appian:record-action:v1:ad3b988c-faba-4c39-9bda-be1ad52b4019/2fed3bba-1935-43a0-830a-55428610423c\"\n      ),\n      null\n    )\n  }\n)"
    },
    "_a-0000eea8-05c2-8000-9db5-011c48011c48_4799958": {
      "name": "CMGT_SMS_AI_ShowRecentSearches",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!metric,\n  #\"SYSTEM_SYSRULES_cardGroupLayout\"(\n    cards: #\"SYSTEM_SYSRULES_forEach\"(\n      items: ri!searchHistory,\n      expression: #\"SYSTEM_SYSRULES_cardLayout\"(\n        contents: {\n          #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            labelPosition: \"COLLAPSED\",\n            value: {\n              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                icon: \"history\",\n                altText: #\"urn:appian:translation-string:v1:4834bcfd-42db-4484-8b5a-2380038f38f4\"\n              ),\n              \" \",\n              fv!item[recordType!CMGT_SMS_AI_SearchHistory.searchText]\n            },\n            marginBelow: \"NONE\",\n            tooltip: fv!item[recordType!CMGT_SMS_AI_SearchHistory.searchText],\n            preventWrapping:true\n          )\n        },\n        link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n          saveInto: {\n            a!save(ri!displaySpace, (ri!displaySpace + 1)),\n            a!save(\n              { ri!searchText, ri!searchTextTemp },\n              fv!item[recordType!CMGT_SMS_AI_SearchHistory.searchText]\n            ),\n            a!save(\n              {\n                ri!selectedCategory,\n                ri!selectedCategoryTemp\n              },\n              fv!item[recordType!CMGT_SMS_AI_SearchHistory.searchHistoryCategoryMap.categoryId]\n            ),\n            a!save(ri!triggerRefresh, now()),\n            #\"SYSTEM_SYSRULES_writeRecords_v2\"(\n              records: rule!CMGT_SMS_AI_SearchHistory_SetMetaData(\n                searchHistory: fv!item,\n                initiator: loggedInUser()\n              )\n            ),\n            a!save(\n              local!metric,\n              rule!CMGT_SMS_AI_MTR_UserClicksOnPreviousSmartSearch()\n            )\n          }\n        ),\n        style: ri!brandingMap.ConfigBackgroundColor,\n        shape: \"SEMI_ROUNDED\",\n        padding: \"EVEN_LESS\",\n        marginBelow: \"NONE\",\n        showBorder: false,\n\n      )\n    ),\n    spacing: \"DENSE\",\n    cardWidth: if(\n      length(ri!searchHistory) > 4,\n      \"EXTRA_NARROW\",\n      \"NARROW\"\n    ),\n    cardHeight: \"AUTO\",\n    marginBelow: \"LESS\",\n    fillContainer: if(length(ri!searchHistory) > 4, true, false),\n    showWhen: rule!CMGT_UTIL_IsNotBlank(ri!searchHistory)\n  )\n)"
    },
    "_a-0000ea1d-36f5-8000-9bef-011c48011c48_551865": {
      "name": "CMGT_Comment_Sub_ManageUi_CommentUserTags_SaveLogic",
      "type": "Expression Rule",
      "sail_code": "/*Using the user tags for a comment, \nthis is the save logic used to identify tags that have been kept, added, and deleted*/\na!localVariables(\n  local!temp,\n  {\n    /*Decipher user tags to keep active and which to delete*/\n    a!save(\n      local!temp,\n      a!localVariables(\n        /*Get the unique selected values from the picker fields*/\n        local!uniqueSelectedValues: rule!CMGT_UTIL_Distinct(save!value),\n        local!allExistingCommentTagsForThisComment: cast(\n          typeof(ri!commentUserTags),\n          a!flatten(\n            {\n              ri!commentUserTags\n            }\n          )\n        ),\n        local!newCommentUserTagRecords: #\"SYSTEM_SYSRULES_forEach\"(\n          items: local!uniqueSelectedValues,\n          expression: displayvalue(\n            tostring(fv!item),\n            touniformstring(\n              local!allExistingCommentTagsForThisComment[recordType!CMGT_CommentUserTag.username]\n            ),\n            local!allExistingCommentTagsForThisComment,\n            recordType!CMGT_CommentUserTag(\n              recordType!CMGT_CommentUserTag.commentId: ri!commentId,\n              recordType!CMGT_CommentUserTag.username: fv!item,\n              recordType!CMGT_CommentUserTag.isActive: true\n            )\n          )\n        ),\n        local!deletedCommentUserTagRecords: a!flatten(\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!allExistingCommentTagsForThisComment,\n            expression: if(\n              and(\n                not(\n                  contains(\n                    touniformstring(local!uniqueSelectedValues),\n                    tostring(\n                      fv!item[recordType!CMGT_CommentUserTag.username]\n                    )\n                  )\n                ),\n                a!isNotNullOrEmpty(\n                  fv!item[recordType!CMGT_CommentUserTag.commentUserTagId]\n                )\n              ),\n              #\"urn:appian:function:v1:a:update\"(\n                fv!item,\n                recordType!CMGT_CommentUserTag.isActive,\n                false\n              )\n              ,\n              {}\n            )\n          )\n        ),\n        a!flatten(\n          {\n            local!newCommentUserTagRecords,\n            local!deletedCommentUserTagRecords\n          }\n        )\n      )\n    ),\n    /*Finally, save the map values back into their dedicated variables*/\n    a!save(ri!commentUserTags, local!temp)\n  }\n)"
    },
    "_a-0000e9c0-fc38-8000-9bb5-011c48011c48_128419": {
      "name": "CMGT_UTIL_TabLayout",
      "type": "Interface",
      "sail_code": "{\n  a!localVariables(\n    local!isMobileScreenSize: a!defaultValue(ri!isMobileScreenSize, false),\n    if(\n      local!isMobileScreenSize,\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_dropdownField_v1\"(\n                label: #\"urn:appian:translation-string:v1:2a5f4093-d5ab-4f98-9e91-6c882d53eddd\",\n                labelPosition: \"COLLAPSED\",\n                choiceLabels: #\"SYSTEM_SYSRULES_forEach\"(\n                  items: ri!tabs,\n                  expression: concat(\n                    fv!item.name,\n                    if(\n                      fv!item.showTabCount,\n                      concat(\" (\", fv!item.tabCount, \")\"),\n                      \"\"\n                    )\n                  )\n                ),\n                choiceValues: #\"SYSTEM_SYSRULES_forEach\"(items: ri!tabs, expression: fv!index),\n                value: ri!activeTab,\n                saveInto: {\n                  ri!activeTab,\n                  a!save(\n                    ri!metrics,\n                    index(\n                      ri!tabs,\n                      ri!activeTab,\n                      \"metricEvalRule\",\n                      null\n                    )\n                  )\n                }\n              )\n            }\n          )\n        },\n        showWhen: a!defaultValue(ri!showWhen, true)\n      ),\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!tabs,\n            expression: #\"SYSTEM_SYSRULES_columnLayout\"(\n              contents: {\n                #\"SYSTEM_SYSRULES_cardLayout\"(\n                  contents: {\n                    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                      items: {\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(width: \"AUTO\"),\n                        /* Display the icon */\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                            label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Tab\" & fv!index),\n                            labelPosition: \"COLLAPSED\",\n                            value: {\n                              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                                icon: fv!item.icon,\n                                color: ri!brandingMap.StandardTextColor,\n                                size: \"STANDARD\"\n                              )\n                            }\n                          ),\n                          width: \"MINIMIZE\",\n                          showWhen: a!isNotNullOrEmpty(fv!item.icon)\n                        ),\n                        /* Display the name */\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                            label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Tab\" & fv!index),\n                            labelPosition: \"COLLAPSED\",\n                            value: {\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: fv!item.name,\n                                linkStyle: \"STANDALONE\",\n                                color: ri!brandingMap.StandardTextColor,\n                                size: a!defaultValue(ri!size, \"STANDARD\"),\n                                style: if(fv!index = ri!activeTab, \"STRONG\", \"PLAIN\")\n                              )\n                            },\n                            align: \"CENTER\"\n                          ),\n                          width: \"MINIMIZE\"\n                        ),\n                        /*Display tab count*/\n                        if(\n                          fv!item.showTabCount,\n                          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                            item: #\"SYSTEM_SYSRULES_tagField\"(\n                              labelPosition: \"COLLAPSED\",\n                              tags: #\"SYSTEM_SYSRULES_tagItem\"(\n                                text: fv!item.tabCount,\n                                backgroundColor: ri!brandingMap.TagBackgroundColor,\n                                textColor: ri!brandingMap.TagTextColor\n                              ),\n                              size: \"SMALL\"\n                            ),\n                            width: \"MINIMIZE\"\n                          ),\n                          {}\n                        ),\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(width: \"AUTO\")\n                      },\n                      marginBelow: \"NONE\"\n                    )\n                  },\n                  link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                    label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Card Link\" & fv!index),\n                    value: fv!index,\n                    saveInto: {\n                      ri!activeTab,\n                      a!save(ri!metrics, fv!item.metricEvalRule)\n                    }\n                  ),\n                  style: if(\n                    fv!index = ri!activeTab,\n                    a!defaultValue(\n                      ri!activeTabBackgroundColor,\n                      \"TRANSPARENT\",\n\n                    ),\n                    \"TRANSPARENT\",\n\n                  ),\n                  padding: \"LESS\",\n                  height: \"AUTO\",\n                  marginBelow: \"NONE\",\n                  showBorder: false,\n                  accessibilityText: if(\n                    fv!index = ri!activeTab,\n                    #\"urn:appian:translation-string:v1:506805fb-4c0f-414b-90f2-023f86caf367\",\n                    \"\"\n                  )\n                ),\n                #\"SYSTEM_SYSRULES_horizontalLine\"(\n                  color: if(\n                    fv!index = ri!activeTab,\n                    a!defaultValue(\n                      ri!activeTabColor,\n                      ri!brandingMap.AccentColor\n                    ),\n                    ri!brandingMap.TertiaryBackgroundColor\n                  ),\n                  weight: \"MEDIUM\",\n                  marginBelow: \"LESS\"\n                )\n              },\n              width: \"NARROW\",\n              showWhen: fv!item.showTab\n            )\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_cardLayout\"(showBorder: false, style: \"TRANSPARENT\"),\n              #\"SYSTEM_SYSRULES_horizontalLine\"(\n                weight: \"MEDIUM\",\n                color: ri!brandingMap.TertiaryBackgroundColor,\n                marginBelow: \"LESS\"\n              )\n            },\n            width: \"AUTO\",\n            showWhen: a!defaultValue(ri!showAdditionalTabCard, true)\n          )\n        },\n        alignVertical: \"BOTTOM\",\n        marginBelow: \"NONE\",\n        marginAbove: \"STANDARD\",\n        spacing: \"NONE\",\n        showDividers: false,\n        showWhen: a!defaultValue(ri!showWhen, true)\n      )\n    )\n  )\n}"
    },
    "_a-0000eea8-05c2-8000-9db5-011c48011c48_4804560": {
      "name": "CMGT_SMS_AI_QR_GetCategory",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_SMS_AI_CFG_Category,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_SMS_AI_CFG_Category.isActive,\n      operator: \"=\",\n      value: true()\n    )\n  },\n  logicalExpressions: ri!additionalLogicalExpression,\n  fields: { ri!fields },\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort\n)"
    },
    "_a-0000e9fa-aa45-8000-9bda-011c48011c48_301090": {
      "name": "CMGT_UTIL_DisplayUser",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!user,\n  expression: a!localVariables(\n    local!currentUserRecord: if(\n      isusernametaken(fv!item),\n      rule!CMGT_UTIL_Filter(\n        records: ri!userRecord,\n        field: #\"urn:appian:record-field:v1:SYSTEM_RECORD_TYPE_USER/SYSTEM_RECORD_TYPE_USER_FIELD_username\",\n        value: fv!item\n      ),\n      null()\n    ),\n    cast(\n      'type!{http://www.appian.com/ae/types/2009}Text',\n      if(\n        rule!CMGT_UTIL_IsNotBlank(input: local!currentUserRecord),\n        if(\n          or(\n            local!currentUserRecord[#\"urn:appian:record-field:v1:SYSTEM_RECORD_TYPE_USER/SYSTEM_RECORD_TYPE_USER_FIELD_isServiceAccount\"] = true,\n            #\"urn:appian:function:v1:a:isusermemberofgroup?okey=a!isUserMemberOfGroup\"(\n              username: fv!item,\n              groups: cons!CMGT_GRP_SERVICE_ACCOUNTS\n            )\n          ),\n          cons!CMGT_TXT_AUTOMATED_SYSTEM,\n          local!currentUserRecord[#\"urn:appian:record-field:v1:SYSTEM_RECORD_TYPE_USER/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\"]\n        ),\n        if(\n          isnull(fv!item),\n          if(\n            ri!returnNullForEmpty,\n            null,\n            cons!CMGT_TXT_EMPTY_VALUE\n          ),\n          fv!item\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e9fd-9441-8000-9bdc-011c48011c48_317185": {
      "name": "CMGT_EventHistory_Entity_FormatDetails",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!details: cast(\n    'type!{http://www.appian.com/ae/types/2009}Map',\n    if(\n      a!isNotNullOrEmpty(\n        ri!data[recordType!CMGT_EventHistory_Entity.details]\n      ),\n      #\"SYSTEM_SYSRULES_fromJson_v1\"(\n        ri!data[recordType!CMGT_EventHistory_Entity.details]\n      ),\n      null\n    )\n  ),\n  a!match(\n    value: ri!data[recordType!CMGT_EventHistory_Entity.entityEventTypeId],\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_ENTITY_ADD_RELATED_ENTITY,\n        cons!CMGT_REFID_EVENT_TYPE_ENTITY_REMOVE_RELATED_ENTITY\n      },\n      fv!value\n    ),\n    then: concat(\n      rule!CMGT_QR_GetEntity(\n        entityId: local!details.relatedEntityId,\n        returnType: \"SINGLE_OBJECT\"\n      )[recordType!CMGT_Entity.title],\n      char(10),\n      #\"urn:appian:translation-string:v1:802ce84a-8b69-44d9-acb6-b3f80a4fc7b7\"(\n        #\"urn:appian:translation-variable:v1:00cdd306-d8cf-499b-8b48-5ca77d333e58\": displayvalue(\n          tointeger(local!details.relationshipTypeId),\n          ri!relationshipMapTypes[recordType!CMGT_CFG_RelationshipMapType.relationshipMapTypeId],\n          ri!relationshipMapTypes[recordType!CMGT_CFG_RelationshipMapType.relationship.label],\n          null\n        )\n      )\n    ),\n    whenTrue: contains(\n      {\n        cons!CMGT_REFID_EVENT_TYPE_ENTITY_ADD_RELATED_CASE,\n        cons!CMGT_REFID_EVENT_TYPE_ENTITY_REMOVE_RELATED_CASE\n      },\n      fv!value\n    ),\n    then: a!localVariables(\n      local!case: rule!CMGT_QR_GetCase(\n        returnType: \"SINGLE_OBJECT\",\n        caseId: local!details.caseId\n      ),\n      concat(\n        local!case[recordType!CMGT_Case.friendlyId],\n        \" | \",\n        local!case[recordType!CMGT_Case.title]\n      )\n    ),\n    default: local!details.value\n  )\n)"
    },
    "_a-0000e9dc-ab93-8000-9bc2-011c48011c48_205218": {
      "name": "CMGT_Case_Sub_DetailsSmall",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!noTasks: if(\n    tointeger(\n      ri!case[recordType!CMGT_Case.totalNonAutomatedTasks]\n    ) > 0,\n    false,\n    true\n  ),\n  {\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Case Identitifer\"),\n      labelPosition: \"COLLAPSED\",\n      value: {\n        #\"SYSTEM_SYSRULES_richTextIcon\"(\n          icon: ri!case[recordType!CMGT_Case.priority.icon],\n          altText: #\"urn:appian:translation-string:v1:62c1d184-cd2b-4147-82cc-a8c82f4e295f\",\n          caption: ri!case[recordType!CMGT_Case.priority.priorityName],\n          color: rule!CMGT_UTIL_DisplayBranding(\n            brandingMap: ri!brandingMap,\n            key: ri!case[recordType!CMGT_Case.priority.iconColor]\n          )\n        ),\n        \" \",\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: ri!case[recordType!CMGT_Case.friendlyId],\n          color: ri!brandingMap.SecondaryTextColor\n        )\n      },\n      marginBelow: \"EVEN_LESS\"\n    ),\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Case Title\"),\n      labelPosition: \"COLLAPSED\",\n      value: {\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: ri!case[recordType!CMGT_Case.title],\n          link: #\"SYSTEM_SYSRULES_recordLink\"(\n            recordType: recordType!CMGT_Case,\n            identifier: ri!case[recordType!CMGT_Case.caseId],\n            showWhen: ri!showRecordLink\n          ),\n          linkStyle: \"STANDALONE\",\n          color: ri!brandingMap.StandardTextColor,\n          size: \"STANDARD\",\n          style: \"STRONG\"\n        )\n      },\n      preventWrapping: true,\n      marginBelow: \"STANDARD\"\n    ),\n    #\"SYSTEM_SYSRULES_tagField\"(\n      label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Case Staus\"),\n      labelPosition: \"COLLAPSED\",\n      tags: #\"SYSTEM_SYSRULES_tagItem_v1\"(\n        text: ri!case[recordType!CMGT_Case.status.statusLabel],\n        backgroundColor: rule!CMGT_UTIL_DisplayBranding(\n          brandingMap: ri!brandingMap,\n          key: ri!case[recordType!CMGT_Case.status.softColor]\n        ),\n        textColor: rule!CMGT_UTIL_DisplayBranding(\n          brandingMap: ri!brandingMap,\n          key: ri!case[recordType!CMGT_Case.status.textColor]\n        )\n      ),\n      size: \"SMALL\"\n    ),\n    /*Case Progress Bar*/\n    #\"SYSTEM_SYSRULES_progressBarField\"(\n      label: rule!CMGT_UTIL_ReturnLabelGivenAutomationTestingSwitch(testingLabel: \"Task Progress\"),\n      labelPosition: \"COLLAPSED\",\n      percentage: if(\n        local!noTasks,\n        0,\n        round(\n          (\n            ri!case[recordType!CMGT_Case.resolvedNonAutomatedTasks] / ri!case[recordType!CMGT_Case.totalNonAutomatedTasks]\n          ) * 100,\n          0\n        )\n      ),\n      color: if(\n        local!noTasks,\n        ri!brandingMap.SelectedCardColor,\n        ri!brandingMap.AccentColor\n      ),\n      marginBelow: \"LESS\",\n      showPercentage: false\n    ),\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      label: \"Task Progress\",\n      labelPosition: \"COLLAPSED\",\n      value: {\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: #\"urn:appian:translation-string:v1:8a99825e-a1fa-4045-9d92-038d53ca38c4\",\n          size: \"SMALL\",\n          showWhen: local!noTasks\n        ),\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: ri!case[recordType!CMGT_Case.resolvedNonAutomatedTasks] & \"/\" & ri!case[recordType!CMGT_Case.totalNonAutomatedTasks],\n          size: \"SMALL\",\n          style: \"STRONG\",\n          showWhen: not(local!noTasks)\n        ),\n        char(32),\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: #\"urn:appian:translation-string:v1:0099b722-243f-4eeb-ac3f-09f2359228e5\",\n          size: \"SMALL\",\n          showWhen: not(local!noTasks)\n        )\n      },\n      align: \"RIGHT\"\n    ),\n    rule!CMGT_UTIL_DisplayDueDate(\n      dueOn: ri!case[recordType!CMGT_Case.dueOn],\n      showAsOverdueWhen: tointeger(\n        ri!case[recordType!CMGT_Case.statusId]\n      ) <> cons!CMGT_REFID_STATUS_CASE_CLOSED,\n      size: \"SMALL\",\n      align: \"LEFT\",\n      additionalText: #\"urn:appian:translation-string:v1:0fef6afa-51d1-49a6-8b45-055c403a05d3\",\n      defaultTextColor: ri!brandingMap.StandardTextColor,\n      brandingMap: ri!brandingMap\n    )\n  }\n)"
    },
    "_a-0000ecc8-2254-8000-9d00-011c48011c48_3281991": {
      "name": "CMGT_SITE_PAGE_CASES",
      "type": "Expression Rule",
      "sail_code": "#\"urn:appian:site-page:v1:df29c845-1565-45ce-8514-7af85f42ba63/d8f887ec-4aa6-4c57-9fb2-a9464fce89af\""
    },
    "_a-0000e9ae-873e-8000-9baf-011c48011c48_88409": {
      "name": "CMGT_Task_RecordGrid",
      "type": "Interface",
      "sail_code": "/*\nThe grid will dynamically show columns based on the passed in context.\n\nCurrently the context include:\n\"EXPANDED_VIEW\",\n\"CASE_SUMMARY\",\n\"COMPLETED_TASK\",\n\"MY_TASK_VIEW\",\n\"ABBREVIATED_VIEW\",\n\"MY_SHARED_QUEUE\"\n\nSearch for the specific context to find what will be displayed or use the context as the passed in rule input\n*/\n#\"SYSTEM_SYSRULES_gridField_v3\"(\n  label: ri!label,\n  labelPosition: \"COLLAPSED\",\n  emptyGridMessage: if(\n    contains(\n      { \"ABBREVIATED_VIEW\", \"EXPANDED_VIEW\" },\n      ri!context\n    ),\n    #\"urn:appian:translation-string:v1:6315d6b5-8590-4305-abf2-a55a5213c025\",\n    #\"urn:appian:translation-string:v1:9541cbd3-719b-4809-bfdc-ee599f8cbab7\"\n  ),\n  rowHeader: if(ri!milestonesExist, 2, 1),\n  data: #\"SYSTEM_SYSRULES_recordData\"(\n    recordType: recordType!CMGT_Task,\n    filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n      operator: \"AND\",\n      logicalExpressions: ri!logicalExpression,\n      filters: {\n        ri!filters,\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_Task.isActive,\n          operator: \"=\",\n          value: true\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_Task.isCurrent,\n          operator: \"=\",\n          value: true\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_Task.taskIntentionCode,\n          operator: \"=\",\n          value: cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_WORKFLOW\n        )\n      },\n      ignoreFiltersWithEmptyValues: true\n    ),\n    fields: {\n      recordType!CMGT_Task.title,\n      recordType!CMGT_Task.taskInstanceUuid,\n      recordType!CMGT_Task.taskResponseOptionId,\n      recordType!CMGT_Task.selectedTaskResponseOption,\n      recordType!CMGT_Task.taskResponseOptions,\n      recordType!CMGT_Task.dueOn,\n      recordType!CMGT_Task.isCompleted,\n      recordType!CMGT_Task.taskBehaviorTypeId,\n      recordType!CMGT_Task.taskBehaviorType.isAutomated,\n      recordType!CMGT_Task.taskBehaviorType.label,\n      recordType!CMGT_Task.taskBehaviorType.icon,\n      recordType!CMGT_Task.statusId,\n      recordType!CMGT_Task.status,\n      recordType!CMGT_Task.status.icon,\n      recordType!CMGT_Task.status.accentColor,\n      recordType!CMGT_Task.status.statusLabel,\n      recordType!CMGT_Task.caseId,\n      recordType!CMGT_Task.case.friendlyId,\n      recordType!CMGT_Task.case.title,\n      recordType!CMGT_Task.roles.username,\n      recordType!CMGT_Task.roles,\n      recordType!CMGT_Task.roles.groupAssignee,\n      recordType!CMGT_Task.milestone.label,\n      recordType!CMGT_Task.milestone.milestoneColor,\n      recordType!CMGT_Task.modifiedOn,\n      recordType!CMGT_Task.modifiedBy,\n      recordType!CMGT_Task.modifiedByUser,\n      recordType!CMGT_Task.completedOn,\n      recordType!CMGT_Task.completedBy,\n      recordType!CMGT_Task.completedByUser,\n      recordType!CMGT_Task.instanceCount\n    }\n  ),\n  columns: {\n    /*milestone for abbreviated view*/\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      sortField: recordType!CMGT_Task.milestone.label,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        value: if(\n          a!isNullOrEmpty(\n            value: fv!row[recordType!CMGT_Task.milestone.label]\n          ),\n          \"\",\n          {\n            #\"SYSTEM_SYSRULES_richTextIcon\"(\n              icon: \"circle\",\n              caption: if(\n                ri!context = \"ABBREVIATED_VIEW\",\n                #\"urn:appian:translation-string:v1:802692c1-f167-44d0-8058-196440edbb6a\" & \" - \",\n                null\n              ) & fv!row[recordType!CMGT_Task.milestone.label],\n              color: fv!row[recordType!CMGT_Task.milestone.milestoneColor],\n              size: \"STANDARD\",\n              altText: if(\n                ri!context = \"ABBREVIATED_VIEW\",\n                null,\n                #\"urn:appian:translation-string:v1:802692c1-f167-44d0-8058-196440edbb6a\"\n              )\n            )\n          }\n        )\n      ),\n      showWhen: and(\n        contains({ \"ABBREVIATED_VIEW\" }, ri!context),\n        ri!milestonesExist\n      ),\n      align: \"CENTER\",\n      width: \"ICON\"\n    ),\n    /*Title*/\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:fe962919-107c-4fbe-b95f-53eef9152c9f\",\n      sortField: recordType!CMGT_Task.title,\n      value: a!localVariables(\n        /*Logic to calculate the number of dependents and display them */\n        local!afterTaskBranchIndices: if(\n          rule!CMGT_UTIL_IsNotBlank(ri!taskBranchMaps),\n          rule!CMGT_UTIL_Filter(\n            records: ri!taskBranchMaps.afterTaskBranches,\n            fieldValuePairs: {\n              a!map(\n                field: recordType!CMGT_TaskBranch.beforeTaskInstanceUuid,\n                value: fv!row[recordType!CMGT_Task.taskInstanceUuid]\n              ),\n              a!map(\n                field: recordType!CMGT_TaskBranch.isActive,\n                value: { true, null }\n              )\n            },\n            filterType: \"MATCH_INDICES\"\n          ),\n          {}\n        ),\n        local!afterTasks: if(\n          rule!CMGT_UTIL_IsNotBlank(local!afterTaskBranchIndices),\n          rule!CMGT_UTIL_Filter(\n            records: ri!tasks,\n            field: recordType!CMGT_Task.taskInstanceUuid,\n            value: index(\n              a!flatten(ri!taskBranchMaps.afterTaskBranches)[local!afterTaskBranchIndices],\n              recordType!CMGT_TaskBranch.afterTaskInstanceUuid,\n              null\n            )\n          ),\n          {}\n        ),\n        local!dependents: if(\n          a!isNotNullOrEmpty(local!afterTasks),\n          joinarray(\n            local!afterTasks[recordType!CMGT_Task.title],\n            \", \"\n          ),\n          {}\n        ),\n        local!countOfDependents: if(\n          a!isNotNullOrEmpty(local!dependents),\n          length(local!afterTasks),\n          0\n        ),\n        #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          value: {\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: {\n                fv!row[recordType!CMGT_Task.title]\n              },\n              link: #\"SYSTEM_SYSRULES_recordLink\"(\n                recordType: recordType!CMGT_Task,\n                identifier: fv!identifier\n              ),\n              linkStyle: \"STANDALONE\",\n              color: ri!brandingMap.StandardTextColor,\n              style: \"STRONG\"\n            ),\n            if(\n              tointeger(\n                fv!row[recordType!CMGT_Task.instanceCount]\n              ) > 1,\n              {\n                char(32),\n                #\"SYSTEM_SYSRULES_richTextIcon\"(\n                  icon: \"refresh\",\n                  size: \"SMALL\",\n                  caption: if(\n                    tointeger(\n                      fv!row[recordType!CMGT_Task.instanceCount]\n                    ) - 1 > 1,\n                    #\"urn:appian:translation-string:v1:64d9fea3-366e-42fa-98e7-d799c8a56c28\"(\n                      #\"urn:appian:translation-variable:v1:bf400cdc-071c-434e-9ccf-a0b2dd2c0277\": tointeger(\n                        fv!row[recordType!CMGT_Task.instanceCount]\n                      ) - 1\n                    ),\n                    #\"urn:appian:translation-string:v1:fa272fac-20b3-41b4-aff4-4e2395054003\"\n                  ),\n                  color: ri!brandingMap.SecondaryTextColor\n                ),\n                char(32),\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: tointeger(\n                    fv!row[recordType!CMGT_Task.instanceCount]\n                  ) - 1,\n                  size: \"SMALL\",\n                  color: ri!brandingMap.SecondaryTextColor\n                )\n              },\n              {}\n            ),\n            char(10),\n            /*Task behavior type*/\n            #\"SYSTEM_SYSRULES_richTextIcon\"(\n              icon: fv!row[recordType!CMGT_Task.taskBehaviorType.icon],\n              size: \"SMALL\",\n              color: if(\n                tointeger(\n                  fv!row[recordType!CMGT_Task.taskBehaviorType.taskBehaviorTypeId]\n                ) = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n                ri!brandingMap.AccentColor,\n                ri!brandingMap.SecondaryTextColor\n              )\n            ),\n            char(32),\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: {\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: fv!row[recordType!CMGT_Task.taskBehaviorType.label],\n                  color: if(\n                    tointeger(\n                      fv!row[recordType!CMGT_Task.taskBehaviorType.taskBehaviorTypeId]\n                    ) = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n                    ri!brandingMap.AccentColor,\n                    ri!brandingMap.SecondaryTextColor\n                  ),\n                  size: \"SMALL\"\n                )\n              },\n              showWhen: contains(\n                {\n                  \"EXPANDED_VIEW\",\n                  \"CASE_SUMMARY\",\n                  \"COMPLETED_TASK\",\n                  \"MY_TASK_VIEW\",\n                  \"MY_SHARED_QUEUE\",\n                  \"ABBREVIATED_VIEW\"\n                },\n                ri!context\n              )\n            ),\n            char(32),\n            #\"SYSTEM_SYSRULES_richTextIcon\"(\n              icon: \"arrow-right\",\n              color: ri!brandingMap.SecondaryTextColor,\n              altText: #\"urn:appian:translation-string:v1:6fa1bc00-eaf5-45d0-966b-16d2a592ccaf\",\n              size: \"SMALL\",\n              caption: local!dependents,\n              showWhen: and(\n                contains(\n                  { \"EXPANDED_VIEW\", \"ABBREVIATED_VIEW\" },\n                  ri!context\n                ),\n                local!countOfDependents > 0\n              )\n            ),\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: {\n                concat(\n                  \" \",\n                  #\"urn:appian:translation-string:v1:0b9b52cc-25f5-4444-90b3-6d70a4491713\",\n                  \" \",\n                  local!countOfDependents,\n                  \" \",\n                  if(\n                    local!countOfDependents = 1,\n                    #\"urn:appian:translation-string:v1:f840e77d-0aae-4eeb-b795-0394d8bff5b4\",\n                    #\"urn:appian:translation-string:v1:7178a955-6103-460e-8886-24c185dc3faf\"\n                  )\n                )\n              },\n              color: ri!brandingMap.SecondaryTextColor,\n              size: \"SMALL\",\n              showWhen: and(\n                contains(\n                  { \"EXPANDED_VIEW\", \"ABBREVIATED_VIEW\" },\n                  ri!context\n                ),\n                local!countOfDependents > 0\n              )\n            )\n          }\n        )\n      )\n    ),\n    /*Status*/\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:7e0ce8d9-9374-4a9e-925a-fc30eb5ba4b6\",\n      sortField: recordType!CMGT_Task.status.statusLabel,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        value: {\n          #\"SYSTEM_SYSRULES_richTextIcon\"(\n            icon: fv!row[recordType!CMGT_Task.status.icon],\n            caption: if(\n              and(\n                fv!row[recordType!CMGT_Task.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION,\n                fv!row[recordType!CMGT_Task.statusId] = cons!CMGT_REFID_STATUS_TASK_COMPLETED\n              ),\n              fv!row[recordType!CMGT_Task.selectedTaskResponseOption.label],\n              \"\"\n            ),\n            color: rule!CMGT_UTIL_DisplayBranding(\n              brandingMap: ri!brandingMap,\n              key: fv!row[recordType!CMGT_Task.status.accentColor]\n            )\n          ),\n          \" \",\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: fv!row[recordType!CMGT_Task.status.statusLabel]\n          )\n        },\n        preventWrapping: true()\n      ),\n      showWhen: contains(\n        {\n          \"EXPANDED_VIEW\",\n          \"MY_TASK_VIEW\",\n          \"MY_SHARED_QUEUE\",\n          \"CASE_SUMMARY\",\n          \"ABBREVIATED_VIEW\"\n        },\n        ri!context\n      )\n    ),\n    /*Milestone*/\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:c29825ed-83d5-4ac7-9f29-775ca7c372a9\",\n      sortField: recordType!CMGT_Task.milestone.label,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        value: if(\n          a!isNullOrEmpty(\n            value: fv!row[recordType!CMGT_Task.milestone.label]\n          ),\n          cons!CMGT_TXT_EMPTY_VALUE,\n          {\n            #\"SYSTEM_SYSRULES_richTextIcon\"(\n              icon: \"circle\",\n              color: fv!row[recordType!CMGT_Task.milestone.milestoneColor],\n              size: \"STANDARD\"\n            ),\n            \" \",\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: fv!row[recordType!CMGT_Task.milestone.label]\n            )\n          }\n        )\n      ),\n      showWhen: contains({ \"EXPANDED_VIEW\" }, ri!context)\n    ),\n    /*Case*/\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:b5c1a7f9-aa4e-4105-b1e3-6bf63eef7ce7\",\n      value: #\"SYSTEM_SYSRULES_tagField\"(\n        tags: #\"SYSTEM_SYSRULES_tagItem_v1\"(\n          text: fv!row[recordType!CMGT_Task.case.friendlyId] & \" | \" & fv!row[recordType!CMGT_Task.case.title],\n          backgroundColor: ri!brandingMap.TagBackgroundColor,\n          textColor: ri!brandingMap.TagTextColor,\n          link: #\"SYSTEM_SYSRULES_recordLink\"(\n            recordType: recordType!CMGT_Case,\n            identifier: fv!row[recordType!CMGT_Task.caseId]\n          )\n        )\n      ),\n      showWhen: contains(\n        { \"MY_TASK_VIEW\", \"MY_SHARED_QUEUE\" },\n        ri!context\n      )\n    ),\n    /*Assignee*/\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: if(\n        contains({ \"MY_SHARED_QUEUE\" }, ri!context),\n        #\"urn:appian:translation-string:v1:559ce3f6-e852-4bee-b5b2-ca315e1ebbef\",\n        #\"urn:appian:translation-string:v1:7bcb0001-ac03-470f-a26b-be3786709f7e\"\n      ),\n      value: rule!CMGT_UTIL_DisplayUserAndGroupAssigneeList(\n        separator: \", \",\n        emptyLabel: #\"urn:appian:translation-string:v1:83cc28fc-8558-4039-804c-602530960d97\",\n        textSize: if(\n          contains({ \"MY_SHARED_QUEUE\" }, ri!context),\n          \"STANDARD\",\n          \"SMALL\"\n        ),\n        brandingMap: ri!brandingMap,\n        assigneeList: rule!CMGT_UTIL_DisplayUser(\n          userRecord: fv!row[recordType!CMGT_Task.roles],\n          user: fv!row[recordType!CMGT_Task.roles.username],\n          returnNullForEmpty: true\n        ),\n        groupList: togroup(\n          fv!row[recordType!CMGT_Task.roles.groupAssignee]\n        ),\n        showGroupAssigneesOnly: contains({ \"MY_SHARED_QUEUE\" }, ri!context)\n      ),\n      showWhen: contains(\n        {\n          \"EXPANDED_VIEW\",\n          \"CASE_SUMMARY\",\n          \"ABBREVIATED_VIEW\",\n          \"MY_SHARED_QUEUE\"\n        },\n        ri!context\n      )\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:0fef6afa-51d1-49a6-8b45-055c403a05d3\",\n      sortField: recordType!CMGT_Task.dueOn,\n      value: rule!CMGT_UTIL_DisplayDueDate(\n        dueOn: fv!row[recordType!CMGT_Task.dueOn],\n        showAsOverdueWhen: not(\n          fv!row[recordType!CMGT_Task.isCompleted]\n        ),\n        brandingMap: ri!brandingMap\n      ),\n      showWhen: not(\n        contains({ \"COMPLETED_TASK\" }, ri!context)\n      ),\n      align: \"START\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:11bd60d9-131f-4409-8bf0-7ef9c57dd366\",\n      sortField: recordType!CMGT_Task.modifiedOn,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: rule!CMGT_UTIL_FormatDateTime(\n              dateTime: fv!row[recordType!CMGT_Task.modifiedOn],\n              includeTime: false\n            ),\n            color: ri!brandingMap.SecondaryTextColor\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              char(10),\n              rule!CMGT_UTIL_DisplayUser(\n                userRecord: fv!row[recordType!CMGT_Task.modifiedByUser],\n                user: fv!row[recordType!CMGT_Task.modifiedBy]\n              )\n            },\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\"\n          )\n        }\n      ),\n      showWhen: contains({ \"EXPANDED_VIEW\" }, ri!context),\n      align: \"END\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:ebabcba9-7115-48c4-ac16-2ce757f8eeef\",\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextIcon\"(\n            icon: fv!row[recordType!CMGT_Task.status.icon],\n            color: rule!CMGT_UTIL_DisplayBranding(\n              brandingMap: ri!brandingMap,\n              key: fv!row[recordType!CMGT_Task.status.accentColor]\n            )\n          ),\n          \" \",\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: fv!row[recordType!CMGT_Task.status.statusLabel],\n            showWhen: not(\n              and(\n                fv!row[recordType!CMGT_Task.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION,\n                fv!row[recordType!CMGT_Task.statusId] = cons!CMGT_REFID_STATUS_TASK_COMPLETED\n              )\n            ),\n            color: ri!brandingMap.StandardTextColor\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: displayvalue(\n              fv!row[recordType!CMGT_Task.taskResponseOptionId],\n              fv!row[recordType!CMGT_Task.taskResponseOptions.taskResponseOptionId],\n              fv!row[recordType!CMGT_Task.taskResponseOptions.label],\n              null\n            ),\n            showWhen: and(\n              fv!row[recordType!CMGT_Task.taskBehaviorTypeId] = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_DECISION,\n              fv!row[recordType!CMGT_Task.statusId] = cons!CMGT_REFID_STATUS_TASK_COMPLETED\n            ),\n            color: ri!brandingMap.StandardTextColor\n          )\n        },\n        preventWrapping: true\n      ),\n      showWhen: contains({ \"COMPLETED_TASK\" }, ri!context)\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:0fef6afa-51d1-49a6-8b45-055c403a05d3\",\n      sortField: recordType!CMGT_Task.dueOn,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextIcon\"(\n            icon: \"calendar-o\",\n            color: ri!brandingMap.SecondaryTextColor\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              char(32),\n              if(\n                a!isNotNullOrEmpty(\n                  fv!row[recordType!CMGT_Task.dueOn]\n                ),\n                rule!CMGT_UTIL_FormatDateTime(\n                  dateTime: fv!row[recordType!CMGT_Task.dueOn],\n                  includeTime: true()\n                ),\n                cons!CMGT_TXT_EMPTY_VALUE\n              )\n            },\n            color: ri!brandingMap.StandardTextColor\n          )\n        }\n      ),\n      showWhen: contains({ \"COMPLETED_TASK\" }, ri!context),\n      align: \"START\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      label: #\"urn:appian:translation-string:v1:c7a9d224-fffe-40ac-b179-e65e46fb420a\",\n      sortField: recordType!CMGT_Task.completedOn,\n      value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              rule!CMGT_UTIL_FormatDateTime(\n                dateTime: fv!row[recordType!CMGT_Task.completedOn],\n                includeTime: true()\n              )\n            },\n            color: ri!brandingMap.StandardTextColor\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              char(10),\n              rule!CMGT_UTIL_DisplayUser(\n                userRecord: fv!row[recordType!CMGT_Task.completedByUser],\n                user: fv!row[recordType!CMGT_Task.completedBy]\n              )\n            },\n            color: ri!brandingMap.SecondaryTextColor,\n            size: \"SMALL\"\n          )\n        }\n      ),\n      showWhen: contains({ \"COMPLETED_TASK\" }, ri!context),\n      align: \"END\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      value: #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n        buttons: #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          icon: \"network-wired\",\n          tooltip: #\"urn:appian:translation-string:v1:0ad25875-aae9-47a9-b723-a6a8ec398a14\",\n          saveInto: a!save(\n            ri!selectedTaskId,\n            if(\n              ri!selectedTaskId = fv!identifier,\n              null,\n              fv!identifier\n            )\n          ),\n          size: \"SMALL\",\n          style: if(\n            ri!selectedTaskId = fv!identifier,\n            \"SOLID\",\n            \"LINK\"\n          ),\n          accessibilityText: if(\n            ri!selectedTaskId = fv!identifier,\n            #\"urn:appian:translation-string:v1:506805fb-4c0f-414b-90f2-023f86caf367\",\n            #\"urn:appian:translation-string:v1:db035ea0-e9e1-4b63-8c82-d4e470496d67\"\n          )\n        )\n      ),\n      showWhen: contains({ \"ABBREVIATED_VIEW\" }, ri!context),\n      align: \"CENTER\",\n      width: \"ICON\"\n    ),\n    #\"SYSTEM_SYSRULES_gridColumn\"(\n      value: #\"SYSTEM_SYSRULES_recordActionField_v1\"(\n        actions: {\n          #\"SYSTEM_SYSRULES_recordActionItem\"(\n            action: #\"urn:appian:record-action:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/9b915b1a-5e5f-4d3d-a2e4-16fc304ea6c1\",\n            identifier: fv!identifier\n          ),\n          #\"SYSTEM_SYSRULES_recordActionItem\"(\n            action: #\"urn:appian:record-action:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/9938f36f-4c12-42db-a5a9-1a39f1d67577\",\n            identifier: fv!identifier\n          ),\n          #\"SYSTEM_SYSRULES_recordActionItem\"(\n            action: #\"urn:appian:record-action:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/de7d4ece-19cc-474c-b0c4-855b09fb54d2\",\n            identifier: fv!identifier\n          ),\n          #\"SYSTEM_SYSRULES_recordActionItem\"(\n            action: #\"urn:appian:record-action:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/e7a6c53d-ad9d-4af4-b404-e0b2efb562a7\",\n            identifier: fv!identifier\n          ),\n          #\"SYSTEM_SYSRULES_recordActionItem\"(\n            action: #\"urn:appian:record-action:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/5dda9cee-1205-4428-9f12-d41ae975a6f5\",\n            identifier: fv!identifier\n          ),\n          #\"SYSTEM_SYSRULES_recordActionItem\"(\n            action: #\"urn:appian:record-action:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/41ccdca5-66f2-4a50-ac29-7832ddf38f44\",\n            identifier: fv!identifier\n          ),\n          #\"SYSTEM_SYSRULES_recordActionItem\"(\n            action: #\"urn:appian:record-action:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/a01acc5d-9da3-4aec-9205-4f4b0395c466\",\n            identifier: fv!identifier\n          )\n        },\n        style: \"MENU_ICON\",\n        securityOnDemand: not(\n          cons!CMGT_BOL_AUTOMATION_TESTING_LABEL_SWITCH\n        )\n      ),\n      align: \"CENTER\",\n      width: \"ICON\"\n    )\n  },\n  pageSize: a!defaultValue(\n    ri!pageSize,\n    cons!CMGT_INT_BATCH_SIZE_LARGE\n  ),\n  initialSorts: a!defaultValue(\n    value: ri!initialSorts,\n    default: {\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_Task.status.sortOrder,\n        ascending: true\n      ),\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_Task.completedOn,\n        ascending: true\n      ),\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_Task.dueOn,\n        ascending: true\n      )\n    }\n  ),\n  borderStyle: ri!borderStyle,\n  shadeAlternateRows: if(\n    contains({ \"EXPANDED_VIEW\" }, ri!context),\n    true,\n    false\n  ),\n  refreshOnVarChange: ri!triggerRefresh,\n  userFilters: if(\n    a!defaultValue(ri!showFilters, true),\n    {\n      if(\n        a!defaultValue(ri!showStatusFilter, true),\n        #\"urn:appian:user-filter:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/377a6a58-7b7d-4db8-9953-599083c0a77a\",\n        {}\n      ),\n      if(\n        a!defaultValue(ri!showAssigneeFilter, true),\n        {\n          /*only assigned group filter displayed for shared queue*/\n          if(\n            contains({ \"MY_SHARED_QUEUE\" }, ri!context),\n            {},\n            #\"urn:appian:user-filter:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/7916f828-8144-4846-acac-a401cf1a8cc4\"\n          ),\n          #\"urn:appian:user-filter:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/dec7db10-b62e-4eeb-9985-4504da31dfe1\"\n        },\n        {}\n      )\n    },\n    {}\n  ),\n  showSearchBox: a!defaultValue(ri!showSearchBox, false),\n  showRefreshButton: a!defaultValue(ri!showRefresh, true),\n  recordActions: #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!topGridRecordActions,\n    expression: if(\n      a!isNotNullOrEmpty(index(fv!item, \"action\", null)),\n      #\"SYSTEM_SYSRULES_recordActionItem\"(\n        action: fv!item.action,\n        identifier: fv!item.identifier\n      ),\n      null\n    )\n  )\n)"
    },
    "_a-0000e9ca-3659-8000-9bb8-011c48011c48_145917": {
      "name": "CMGT_UTIL_Distinct",
      "type": "Expression Rule",
      "sail_code": "cast(\n  runtimetypeof(ri!value),\n  union(\n    a!flatten(ri!value),\n    a!flatten(ri!value)\n  )\n)"
    },
    "_a-0000eeb1-4048-8000-9db7-011c48011c48_4825275": {
      "name": "CMGT_SMS_AI_SmartSearchTaskCard",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_cardLayout\"(\n  padding: \"STANDARD\",\n  contents: {\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      alignVertical: \"TOP\",\n      spacing: \"DENSE\",\n      stackWhen: {\n        \"TABLET_PORTRAIT\",\n        \"PHONE\"\n      },\n      showDividers: false,\n      marginBelow: \"STANDARD\",\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_columnsLayout\"(\n              marginBelow: \"NONE\",\n              spacing: \"DENSE\",\n              alignVertical: \"MIDDLE\",\n              columns: {\n                #\"SYSTEM_SYSRULES_columnLayout\"(\n                  width: \"EXTRA_NARROW\",\n                  contents: {\n                    #\"SYSTEM_SYSRULES_stampField\"(\n                      labelPosition: \"COLLAPSED\",\n                      align: if(\n                        #\"SYSTEM_SYSRULES_isPageWidth\"(\n                          \"PHONE\"\n                        ),\n                        \"START\",\n                        \"END\"\n                      ),\n                      shape: \"SEMI_ROUNDED\",\n                      size: \"SMALL\",\n                      text: \"Task\",\n                      icon: \"tasks-alt\",\n                      /*These colors are hardcoded since its not available in branding map*/\n                      backgroundColor: \"#E7F8F8\",\n                      contentColor: \"#2C6770\",\n                      marginBelow: \"NONE\"\n                    ),\n\n                  }\n                ),\n                #\"SYSTEM_SYSRULES_columnLayout\"(\n                  contents: {\n                    #\"SYSTEM_SYSRULES_headingField\"(\n                      text: ri!task[recordType!CMGT_Task.title],\n                      size: \"SMALL\",\n                      fontWeight: \"SEMI_BOLD\",\n                      marginBelow: \"EVEN_LESS\"\n                    ),\n                    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                      alignVertical: \"MIDDLE\",\n                      spacing: \"DENSE\",\n                      items: {\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                            labelPosition: \"COLLAPSED\",\n                            value: {\n                              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                                icon: \"clipboard-o\",\n                                color: ri!brandingMap.SecondaryTextColor,\n                                caption: \"Case\"\n                              ),\n                              \" \",\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: {\n                                  ri!task[recordType!CMGT_Task.case.friendlyId],\n                                  \" \",\n                                  ri!task[recordType!CMGT_Task.case.title]\n                                },\n                                link: #\"SYSTEM_SYSRULES_recordLink\"(\n                                  recordType: recordType!CMGT_Case,\n                                  identifier: ri!task[recordType!CMGT_Task.case.caseId],\n                                  openLinkIn: \"NEW_TAB\"\n                                ),\n                                linkStyle: \"STANDALONE\"\n                              )\n                            }\n                          ),\n\n                        )\n                      }\n                    ),\n\n                  }\n                ),\n\n              }\n            )\n          }\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          width: \"NARROW\",\n          contents: {\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              align: if(\n                #\"SYSTEM_SYSRULES_isPageWidth\"(\n                  {\n                    \"TABLET_PORTRAIT\",\n                    \"PHONE\"\n                  }\n                ),\n                \"LEFT\",\n                \"RIGHT\"\n              ),\n              labelPosition: \"COLLAPSED\",\n              marginBelow: \"NONE\",\n              value: {\n                #\"SYSTEM_SYSRULES_richTextIcon\"(\n                  icon: ri!task[recordType!CMGT_Task.status.icon],\n                  color: rule!CMGT_UTIL_DisplayBranding(\n                    brandingMap: ri!brandingMap,\n                    key: ri!task[recordType!CMGT_Task.status.accentColor]\n                  )\n                ),\n                \" \",\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: ri!task[recordType!CMGT_Task.status.statusLabel]\n                )\n              }\n            )\n          }\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n      alignVertical: \"MIDDLE\",\n      stackWhen: {\n        \"TABLET_PORTRAIT\",\n        \"PHONE\"\n      },\n      items: {\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          width: \"MINIMIZE\",\n          item: rule!CMGT_UTIL_DisplayDueDate(\n            dueOn: ri!task[recordType!CMGT_Task.dueOn],\n            showAsOverdueWhen: not(\n              ri!task[recordType!CMGT_Task.isCompleted]\n            ),\n            brandingMap: ri!brandingMap\n          )\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          width: \"MINIMIZE\",\n          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            marginBelow: \"NONE\",\n            labelPosition: \"COLLAPSED\",\n            value: {\n              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                icon: ri!task[recordType!CMGT_Task.taskBehaviorType.icon],\n                color: if(\n                  tointeger(\n                    ri!task[recordType!CMGT_Task.taskBehaviorType.taskBehaviorTypeId]\n                  ) = cons!CMGT_REFID_TASK_BEHAVIOR_TYPE_AUTOMATION,\n                  ri!brandingMap.AccentColor,\n                  ri!brandingMap.SecondaryTextColor\n                ),\n                caption: #\"urn:appian:translation-string:v1:53195930-c926-4ceb-a1ac-35fcc0546286\"\n              ),\n              \" \",\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: ri!task[recordType!CMGT_Task.taskBehaviorType.label],\n                color: ri!brandingMap.StandardTextColor\n              )\n            }\n          ),\n\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n      alignVertical: \"MIDDLE\",\n      stackWhen: {\n        \"TABLET_PORTRAIT\",\n        \"PHONE\"\n      },\n      items: {\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          width: \"MINIMIZE\",\n          item: rule!CMGT_UTIL_DisplayListOfItems(\n            values: rule!CMGT_UTIL_Filter(\n              records: ri!task[recordType!CMGT_Task.roles],\n              field: recordType!CMGT_Role.roleType.roleTypeId,\n              value: cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE\n            )[#\"urn:appian:record-field:v1:6799d796-883e-49ff-8975-297d87e40756/6f0c8dbc-95d2-4ba7-9fb5-f0916efa0f08/SYSTEM_RECORD_TYPE_USER_FIELD_firstAndLastName\"],\n            separator: \", \",\n            emptyLabel: #\"urn:appian:translation-string:v1:c25a86b2-435b-4f45-9f11-15b1f0b8415e\",\n            brandingMap: ri!brandingMap,\n            marginAbove: \"NONE\",\n            icon: \"user\",\n            iconColor: \"SECONDARY\",\n            marginBelow: \"EVEN_LESS\",\n            iconCaption: #\"urn:appian:translation-string:v1:4d270950-323f-42b7-ac89-630f33e2c96c\"\n          )\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: rule!CMGT_UTIL_DisplayListOfItems(\n            values: togroup(\n              rule!CMGT_UTIL_Filter(\n                records: ri!task[recordType!CMGT_Task.roles],\n                field: recordType!CMGT_Role.roleType.roleTypeId,\n                value: cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n              )[recordType!CMGT_Role.groupAssignee]\n            ),\n            separator: \", \",\n            emptyLabel: #\"urn:appian:translation-string:v1:c25a86b2-435b-4f45-9f11-15b1f0b8415e\",\n            brandingMap: ri!brandingMap,\n            marginAbove: \"NONE\",\n            icon: \"users\",\n            iconColor: \"SECONDARY\",\n            marginBelow: \"EVEN_LESS\",\n            iconCaption: #\"urn:appian:translation-string:v1:8d84d9ae-54ba-40f2-830b-c62a43069e5d\"\n          )\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_horizontalLine\"(),\n    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n      alignVertical: \"MIDDLE\",\n      spacing: \"DENSE\",\n      items: {\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          width: \"MINIMIZE\",\n          item: #\"SYSTEM_SYSRULES_imageField_v1\"(\n            marginBelow: \"NONE\",\n            labelPosition: \"COLLAPSED\",\n            images: #\"SYSTEM_SYSRULES_documentImage\"(\n              document: cons!CMGT_SMS_AI_DOC_IMG_SEARCH_RESULT_ICON\n            ),\n            size: \"ICON\"\n          )\n        ),\n        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            marginBelow: \"NONE\",\n            labelPosition: \"COLLAPSED\",\n            value: {\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: #\"urn:appian:translation-string:v1:e8ab34ff-ee52-4e67-867a-e0d29b9e1440\",\n                color: ri!brandingMap.InfoTextColor\n              ),\n              char(\n                32\n              ),\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: touniformstring(\n                  ri!task[#\"urn:appian:record-search-results:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/allSearchFields/sourceField\"]\n                ),\n                style: \"STRONG\",\n                color: ri!brandingMap.InfoTextColor\n              ),\n              /*Matched On Field - Incorporation*/\n\n            }\n          )\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_cardLayout\"(\n      style: ri!brandingMap.TertiaryBackgroundColor,\n      showBorder: false,\n      shape: \"SEMI_ROUNDED\",\n      contents: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: rule!CMGT_UTIL_StripHtmlTags(\n              value: ri!task[#\"urn:appian:record-search-results:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/allSearchFields/sourceContent\"]\n            )\n          ),\n          /*Matched On Content - Incorporation*/\n\n        }\n      )\n    ),\n\n  },\n  height: \"AUTO\",\n  showBorder: false,\n  style: \"NONE\",\n  marginBelow: \"STANDARD\",\n  shape: \"SEMI_ROUNDED\",\n  showShadow: true,\n  link: #\"SYSTEM_SYSRULES_recordLink\"(\n    recordType: recordType!CMGT_Task,\n    identifier: ri!task[recordType!CMGT_Task.taskId],\n    openLinkIn: \"NEW_TAB\"\n  )\n)"
    },
    "_a-0000ea0e-71db-8000-9be6-011c48011c48_460215": {
      "name": "CMGT_Workspace_InternalUser_Sub_CalendarDisplay",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!firstDate: rule!CMGT_UTIL_GetDateFromDateTime(\n    dateTimeValue: now(),\n    convertToSystemTimeZone: false\n  ),\n  /*\n  Logical expression to pull back:\n    - all OPEN cases/tasks\n    - WITH a populated dueOn\n    - ASSSIGNED to the logged in user via userAssignee\n  */\n  local!caseLogicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n    operator: \"AND\",\n    filters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_Case.dueOn,\n        operator: \"not null\"\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_Case.statusId,\n        operator: \"in\",\n        value: {\n          cons!CMGT_REFID_STATUS_CASE_IN_PROGRESS,\n          cons!CMGT_REFID_STATUS_CASE_OPEN\n        }\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_Case.roles.userAssignee,\n        operator: \"=\",\n        value: ri!loggedInUser\n      )\n    }\n  ),\n  local!taskLogicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n    operator: \"AND\",\n    filters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_Task.dueOn,\n        operator: \"not null\"\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_Task.statusId,\n        operator: \"in\",\n        value: {\n          cons!CMGT_REFID_STATUS_TASK_READY,\n          cons!CMGT_REFID_STATUS_TASK_IN_PROGRESS\n        }\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!CMGT_Task.roles.userAssignee,\n        operator: \"=\",\n        value: ri!loggedInUser\n      )\n    }\n  ),\n  local!datesWithItemsDue: a!refreshVariable(\n    refreshAfter: \"RECORD_ACTION\",\n    value: a!flatten(\n      {\n        #\"SYSTEM_SYSRULES_queryRecordType_v1\"(\n          recordType: recordType!CMGT_Case,\n          filters: local!caseLogicalExpression,\n          fields: #\"SYSTEM_SYSRULES_aggregationFields\"(\n            groupings: #\"SYSTEM_SYSRULES_grouping\"(\n              field: recordType!CMGT_Case.dueOn,\n              alias: \"dueOn\",\n\n            )\n          ),\n          pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n            startIndex: 1,\n            batchSize: cons!CMGT_INT_BATCH_SIZE_MAX,\n            sort: #\"SYSTEM_SYSRULES_sortInfo\"(field: \"dueOn\", ascending: true)\n          )\n        ).data.dueOn,\n        #\"SYSTEM_SYSRULES_queryRecordType_v1\"(\n          recordType: recordType!CMGT_Task,\n          filters: local!taskLogicalExpression,\n          fields: #\"SYSTEM_SYSRULES_aggregationFields\"(\n            groupings: #\"SYSTEM_SYSRULES_grouping\"(\n              field: recordType!CMGT_Task.dueOn,\n              alias: \"dueOn\",\n\n            )\n          ),\n          pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n            startIndex: 1,\n            batchSize: cons!CMGT_INT_BATCH_SIZE_MAX,\n            sort: #\"SYSTEM_SYSRULES_sortInfo\"(field: \"dueOn\", ascending: true)\n          )\n        ).data.dueOn\n      }\n    )\n  ),\n  /*Logic to take the first upcoming due date to drill down and show*/\n  local!selectedDate,\n  local!casesToDisplay: a!refreshVariable(\n    refreshAfter: \"RECORD_ACTION\",\n    value: rule!CMGT_QR_GetCase(\n      executeWhen: a!isNotNullOrEmpty(local!selectedDate),\n      dueOnDate: local!selectedDate,\n      additionalLogicalExpression: local!caseLogicalExpression,\n      includeAssignees: true,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: cons!CMGT_INT_BATCH_SIZE_MAX\n      ),\n      useSystemTimeZoneForDueOn: false\n    )\n  ),\n  local!tasksToDisplay: a!refreshVariable(\n    refreshAfter: \"RECORD_ACTION\",\n    value: rule!CMGT_QR_GetTask(\n      executeWhen: a!isNotNullOrEmpty(local!selectedDate),\n      dueOnDate: local!selectedDate,\n      additionalLogicalExpression: local!taskLogicalExpression,\n      includeRoles: true,\n      includeCase: true,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: cons!CMGT_INT_BATCH_SIZE_MAX\n      ),\n      useSystemTimeZoneForDueOn: false\n    )\n  ),\n  {\n    /*Calendar*/\n    rule!CMGT_UTIL_HeaderField(\n      label: #\"urn:appian:translation-string:v1:a3aa5599-663e-4a07-9712-830d55c50633\",\n      divider: \"NONE\",\n      brandingMap: ri!brandingMap,\n      marginBelow: \"NONE\"\n    ),\n    #\"SYSTEM_SYSRULES_cardLayout\"(\n      contents: {\n        rule!CMGT_UTIL_CalendarField(\n          selectedDate: local!selectedDate,\n          selectableDates: local!datesWithItemsDue,\n          firstDate: local!firstDate,\n          label: #\"urn:appian:translation-string:v1:a71fc65e-ffa2-4584-b2a5-542458192350\"\n        ),\n        #\"SYSTEM_SYSRULES_cardLayout\"(\n          contents: {\n            if(\n              and(\n                a!isNotNullOrEmpty(local!selectedDate),\n                or(\n                  rule!CMGT_UTIL_IsNotBlank(local!casesToDisplay),\n                  rule!CMGT_UTIL_IsNotBlank(local!tasksToDisplay)\n                )\n              ),\n              {\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  items: local!casesToDisplay,\n                  expression: #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n                    contents: #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                      items: {\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                            value: {\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: fv!item[recordType!CMGT_Case.title],\n                                link: #\"SYSTEM_SYSRULES_recordLink\"(\n                                  recordType: recordType!CMGT_Case,\n                                  identifier: fv!item[recordType!CMGT_Case.caseId]\n                                ),\n                                linkStyle: \"STANDALONE\",\n                                color: ri!brandingMap.StandardTextColor\n                              ),\n                              char(10),\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: #\"urn:appian:translation-string:v1:883db971-2aac-436c-91c8-f849bee53c45\"(\n                                  #\"urn:appian:translation-variable:v1:07f329a5-c33a-4596-bef6-7f9f89de2e3d\": fv!item[recordType!CMGT_Case.friendlyId]\n                                ),\n                                color: ri!brandingMap.SecondaryTextColor,\n                                size: \"SMALL\"\n                              ),\n                              char(32),\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: #\"urn:appian:translation-string:v1:0fef6afa-51d1-49a6-8b45-055c403a05d3\" & \" \" & rule!CMGT_UTIL_FormatDateTime(\n                                  dateTime: fv!item[recordType!CMGT_Case.dueOn],\n                                  returnTime: true\n                                ),\n                                color: ri!brandingMap.SecondaryTextColor,\n                                size: \"SMALL\"\n                              )\n                            }\n                          )\n                        )\n                      },\n                      marginAbove: \"NONE\",\n                      marginBelow: \"LESS\"\n                    ),\n                    divider: if(fv!isLast, \"NONE\", \"BELOW\"),\n                    dividerColor: ri!brandingMap.DividerColor,\n                    marginAbove: \"NONE\",\n                    marginBelow: \"NONE\"\n                  )\n                ),\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  items: local!tasksToDisplay,\n                  expression: #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n                    contents: #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                      items: {\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                            value: {\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: fv!item[recordType!CMGT_Task.title],\n                                link: #\"SYSTEM_SYSRULES_recordLink\"(\n                                  recordType: recordType!CMGT_Task,\n                                  identifier: fv!item[recordType!CMGT_Task.taskId]\n                                ),\n                                linkStyle: \"STANDALONE\",\n                                color: ri!brandingMap.StandardTextColor\n                              ),\n                              char(10),\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: #\"urn:appian:translation-string:v1:2e63e3fb-09f9-47b2-b247-f020d1c98fdc\"(\n                                  #\"urn:appian:translation-variable:v1:32fff202-08fb-4328-b7bf-3d5787655301\": fv!item[recordType!CMGT_Task.case.friendlyId]\n                                ),\n                                color: ri!brandingMap.SecondaryTextColor,\n                                size: \"SMALL\"\n                              ),\n                              char(32),\n                              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                                text: #\"urn:appian:translation-string:v1:0fef6afa-51d1-49a6-8b45-055c403a05d3\" & \" \" & rule!CMGT_UTIL_FormatDateTime(\n                                  dateTime: fv!item[recordType!CMGT_Task.dueOn],\n                                  returnTime: true\n                                ),\n                                color: ri!brandingMap.SecondaryTextColor,\n                                size: \"SMALL\"\n                              )\n                            },\n                            marginAbove: \"NONE\"\n                          )\n                        )\n                      },\n                      marginAbove: \"NONE\",\n                      marginBelow: \"LESS\"\n                    ),\n                    divider: if(fv!isLast, \"NONE\", \"BELOW\"),\n                    dividerColor: ri!brandingMap.DividerColor,\n                    marginAbove: \"NONE\",\n                    marginBelow: \"NONE\"\n                  )\n                )\n              },\n              if(\n                contains(\n                  text(local!datesWithItemsDue, \"mmm yyyy\"),\n                  text(local!firstDate, \"mmm yyyy\")\n                ),\n                #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                  value: {\n                    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                      text: #\"urn:appian:translation-string:v1:fa4dfe6d-9f1a-4a18-a925-2b92454b2ecb\",\n                      color: ri!brandingMap.SecondaryTextColor\n                    )\n                  },\n                  marginBelow: \"STANDARD\"\n                ),\n                #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                  value: {\n                    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                      text: #\"urn:appian:translation-string:v1:f4e9196b-ce6d-4017-a6a3-eb4840375c1b\",\n                      color: ri!brandingMap.SecondaryTextColor\n                    )\n                  },\n                  marginBelow: \"STANDARD\"\n                )\n              )\n            )\n          },\n          style: \"TRANSPARENT\",\n          marginAbove: \"LESS\",\n          showBorder: false,\n          showShadow: ri!brandingMap.CardShowShadow,\n          decorativeBarPosition: \"TOP\"\n        )\n      },\n      style: ri!brandingMap.CardBackgroundColor,\n      shape: ri!brandingMap.CardShape,\n      padding: \"NONE\",\n      marginAbove: \"NONE\",\n      showBorder: ri!brandingMap.CardShowBorder,\n      showShadow: ri!brandingMap.CardShowShadow\n    )\n  }\n)"
    },
    "_a-0000eb2c-b6af-8000-9c5d-011c48011c48_1476001": {
      "name": "CMGT_UTIL_DisplayBranding",
      "type": "Expression Rule",
      "sail_code": "/*\nNote that because a forEach that loops over a single item is significantly less performant than just calling the thing,\nwe only want to use forEach here if multiple keys are passed, since this rule is used on every text on every interface\n(many calls per page load).\n\nRather than create a separate rule that just adds to rule sprawl, we just commented the common blocks of identical code.\nUpdates to either one should be reflected in the other.\n*/\na!localVariables(\n  /*Using this to avoid re-evaluation on page interaction*/\n  local!output: cast(\n    /*Always ensure the key is returned as the same list-type of the input, especially for null/empty keys*/\n    runtimetypeof(ri!key),\n    if(\n      a!isNullOrEmpty(ri!key),\n      {},\n      if(\n        count(a!flatten(ri!key)) = 1,\n        a!localVariables(\n          local!key: a!flatten(ri!key)[1],\n          /*START OF COMMON CODE*/\n          local!rawLabel:a!defaultValue(ri!brandingMap[local!key], local!key),\n          /*END OF COMMON CODE*/\n          local!rawLabel\n        ),\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!key,\n          expression: a!localVariables(\n            local!key: fv!item,\n            /*START OF COMMON CODE*/\n            local!rawLabel: a!defaultValue(ri!brandingMap[local!key], local!key),\n            \n            /*END OF COMMON CODE*/\n            local!rawLabel\n          )\n        )\n      )\n    )\n  ),\n  local!output\n)"
    }
  }
}
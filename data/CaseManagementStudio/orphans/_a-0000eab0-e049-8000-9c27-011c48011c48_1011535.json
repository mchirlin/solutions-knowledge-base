{
  "uuid": "_a-0000eab0-e049-8000-9c27-011c48011c48_1011535",
  "name": "CMGT_UTIL_DropNonWritableRelationshipsFromRecord_Reducer",
  "type": "Expression Rule",
  "description": "Used by rule `CMGT_UTIL_DropNonWritableRelationshipsFromRecord`",
  "sail_code": "if(\n  rule!CMGT_UTIL_IsBlank(ri!record),\n  ri!record,\n  if(\n    or(\n      rule!CMGT_UTIL_IsNotBlank(ri!record[ri!relationship]),\n      contains(\n        touniformstring(\n          rule!CMGT_UTIL_DropNonWritableRelationshipsFromRecord_GetAllPresentRelationships(records: ri!record)\n        ),\n        tostring(ri!relationship)\n      )\n    ),\n    remove(ri!record, ri!relationship),\n    ri!record\n  )\n)",
  "calls": [
    {
      "name": "CMGT_UTIL_IsBlank",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_UTIL_IsNotBlank",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "CMGT_UTIL_DropNonWritableRelationshipsFromRecord_GetAllPresentRelationships",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    }
  ],
  "called_by": [
    {
      "name": "CMGT_UTIL_DropNonWritableRelationshipsFromRecord",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    }
  ]
}
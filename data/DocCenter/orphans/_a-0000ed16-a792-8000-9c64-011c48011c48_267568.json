{
  "uuid": "_a-0000ed16-a792-8000-9c64-011c48011c48_267568",
  "name": "AIA_RULE_ModelVersionFieldDropdown",
  "type": "Interface",
  "description": "Dropdown component to select an extraction model version field",
  "sail_code": "a!localVariables(\n  local!returnDataTypeId: a!defaultValue(\n    value: ri!returnDataTypeId,\n    default: false\n  ),\n  local!configureFieldColumns: a!defaultValue(\n    value: ri!configureFieldColumns,\n    default: false\n  ),\n  local!data: rule!AIA_Extraction_GetFieldsForModelVersionId(\n    modelVersionId: ri!modelVersionId\n  ),\n  local!selectedField: displayvalue(\n    ri!value,\n    local!data[recordType!AIA Extraction Model Version Field.key],\n    local!data,\n    null\n  ),\n  local!isTable: and(\n    a!isNotNullOrEmpty(value: local!selectedField),\n    contains(\n      cons!AIA_EXTRACTION_FIELD_TYPE_TABLE,\n      local!selectedField[recordType!AIA Extraction Model Version Field.type]\n    )\n  ),\n  local!tableMapping: #\"SYSTEM_SYSRULES_fromJson_v1\"(\n    jsonText: a!defaultValue(\n      value: null,\n      default: \"{}\"\n    )\n  ),\n  local!columns: if(\n    a!isNotNullOrEmpty(value: local!tableMapping),\n    a!keys(local!tableMapping),\n    {}\n  ),\n  local!selectedColumnMap: displayvalue(\n    ri!columnValue,\n    local!columns,\n    local!tableMapping,\n    null\n  ),\n  local!selectedColumn: displayvalue(\n    ri!columnValue,\n    local!columns,\n    local!columns,\n    null\n  ),\n  #\"SYSTEM_SYSRULES_dropdownField_v1\"(\n    choiceLabels: #\"SYSTEM_SYSRULES_forEach\"(\n      local!data,\n      fv!item[recordType!AIA Extraction Model Version Field.label] & \" (\" & fv!item[recordType!AIA Extraction Model Version Field.key] & \")\"\n    ),\n    choiceValues: local!data,\n    label: ri!label,\n    labelPosition: ri!labelPosition,\n    instructions: ri!instructions,\n    helpTooltip: ri!helpTooltip,\n    placeholder: a!defaultValue(\n      value: ri!placeholder,\n      default: \"Select an Extraction Field\"\n    ),\n    value: local!selectedField,\n    saveInto: {\n      a!save(ri!saveInto, save!value[recordType!AIA Extraction Model Version Field.key]),\n      /*Store data type if requested*/\n      if(\n        local!returnDataTypeId,\n        a!save(\n          ri!dataTypeId,\n          if(\n            a!isNotNullOrEmpty(save!value),\n            #\"fdd9ff20-6282-4e5b-9e15-f84ca247c5e7\"(\n              fieldType: save!value[recordType!AIA Extraction Model Version Field.type],\n              isMultiple: save!value[recordType!AIA Extraction Model Version Field.isMultiple]\n            ),\n            null\n          )\n        ),\n        null\n      )\n    },\n    searchDisplay: ri!searchDisplay,\n    showWhen: ri!showWhen,\n    required: ri!required,\n    requiredMessage: ri!requiredMessage,\n    disabled: ri!disabled,\n    validations: ri!validations,\n    validationGroup: ri!validationGroup,\n    accessibilityText: ri!accessibilityText\n  )\n)",
  "calls": [
    {
      "name": "AIA_Extraction_GetFieldsForModelVersionId",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "AIA_EXTRACTION_FIELD_TYPE_TABLE",
      "type": "Constant",
      "dep_type": "USES_CONSTANT"
    },
    {
      "name": "AIA_Test_GetLatestExtractionModelVersion",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    }
  ],
  "called_by": [
    {
      "name": "AIA_RULE_DynamicComponents",
      "type": "Interface",
      "dep_type": "CALLS"
    }
  ]
}
{
  "_metadata": {
    "bundle_id": "CMGT_EXT_DemoData_Clear"
  },
  "objects": {
    "_a-0000ec3d-b406-8000-9bb2-011c48011c48_361628": {
      "name": "CMGT_EXT_UpdateDemoIdsConstantByDataset",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!demoIdMaps: if(\n    rule!CMGT_UTIL_IsNotBlank(input: ri!demoIdMaps),\n    ri!demoIdMaps,\n    cast(\n      typeof({ a!map() }),\n      #\"SYSTEM_SYSRULES_fromJson_v1\"(cons!CMGT_EXT_JSON_GENERATED_DEMO_IDS)\n    )\n  ),\n  local!fullResult: rule!CMGT_UTIL_Filter(\n    records: local!demoIdMaps,\n    field: \"datasetUuids\",\n    value: ri!datasetUuids,\n    filterType: \"FULL_RESULT\"\n  ),\n  local!currentIdMap: index(\n    local!fullResult.matches,\n    1,\n    cast(\n      'type!{http://www.appian.com/ae/types/2009}Map',\n      null()\n    )\n  ),\n  local!updatedIdMap: a!map(\n    datasetUuids: ri!datasetUuids,\n    referenceTaskIds: tointeger(\n      a!defaultValue(\n        ri!referenceTaskIds,\n        local!currentIdMap.referenceTaskIds\n      )\n    ),\n    taskBlockIds: tointeger(\n      a!defaultValue(\n        ri!taskBlockIds,\n        local!currentIdMap.taskBlockIds\n      )\n    ),\n    tagIds: tointeger(\n      a!defaultValue(ri!tagIds, local!currentIdMap.tagIds)\n    ),\n    reportIds: tointeger(\n      a!defaultValue(\n        ri!reportIds,\n        local!currentIdMap.reportIds\n      )\n    ),\n    pageIds: tointeger(\n      a!defaultValue(ri!pageIds, local!currentIdMap.pageIds)\n    ),\n    collaborationIds: tointeger(\n      a!defaultValue(\n        ri!collaborationIds,\n        local!currentIdMap.collaborationIds\n      )\n    ),\n    homePageIds: tointeger(\n      a!defaultValue(\n        ri!homePageIds,\n        local!currentIdMap.homePageIds\n      )\n    ),\n    automationTaskIds: tointeger(\n      a!defaultValue(\n        ri!automationTaskIds,\n        local!currentIdMap.automationTaskIds\n      )\n    ),\n    automationTaskConditionSetIds: tointeger(\n      a!defaultValue(\n        ri!automationTaskConditionSetIds,\n        local!currentIdMap.automationTaskConditionSetIds\n      )\n    ),\n    automationTaskActionIds: tointeger(\n      a!defaultValue(\n        ri!automationTaskActionIds,\n        local!currentIdMap.automationTaskActionIds\n      )\n    ),\n    emailTemplateIds: tointeger(\n      a!defaultValue(\n        ri!emailTemplateIds,\n        local!currentIdMap.emailTemplateIds\n      )\n    )\n  ),\n  local!updatedValues: rule!CMGT_UTIL_Filter(\n    records: local!demoIdMaps,\n    field: \"datasetUuids\",\n    value: ri!datasetUuids,\n    filterType: \"REJECT\"\n  ),\n  if(\n    rule!CMGT_UTIL_IsNotBlank(local!currentIdMap),\n    if(\n      ri!removeDataset,\n      local!updatedValues,\n      #\"urn:appian:function:v1:a:update\"(\n        local!demoIdMaps,\n        local!fullResult.matchIndices,\n        local!updatedIdMap\n      ),\n      \n    ),\n    append(local!demoIdMaps, local!updatedIdMap)\n  )\n)"
    },
    "_a-0000ec18-c90d-8000-9baa-011c48011c48_26650": {
      "name": "CMGT_EXT_UpdateProcessExecutionHistory",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!processData: rule!CMGT_EXT_GetProcessExecutionStatus(\n    processId: a!defaultValue(\n      ri!processExecutionAudit[recordType!CMGT_EXT_ProcessExecutionAudit.processId],\n      ri!processId\n    ),\n    contextProcessModels: ri!contextProcessModels,\n    isMainProcessComplete: ri!isMainProcessComplete,\n    actionCode: ri!processExecutionAudit[recordType!CMGT_EXT_ProcessExecutionAudit.actionCode],\n    datasetUuids: ri!datasetUuids\n  ),\n  local!processExecutionAudit: rule!CMGT_EXT_QR_GetProcessExecutionAudit(\n    returnType: \"SINGLE_OBJECT\",\n    processId: a!defaultValue(\n      ri!processExecutionAudit[recordType!CMGT_EXT_ProcessExecutionAudit.processId],\n      ri!processId\n    ),\n    executeWhen: a!isNotNullOrEmpty(\n      a!defaultValue(\n        ri!processExecutionAudit[recordType!CMGT_EXT_ProcessExecutionAudit.processId],\n        ri!processId\n      )\n    )\n  ),\n  if(\n    rule!CMGT_UTIL_IsBlank(local!processExecutionAudit),\n    recordType!CMGT_EXT_ProcessExecutionAudit(\n      recordType!CMGT_EXT_ProcessExecutionAudit.processId: ri!processId,\n      recordType!CMGT_EXT_ProcessExecutionAudit.startedBy: ri!initiator,\n      recordType!CMGT_EXT_ProcessExecutionAudit.startedOn: now(),\n      recordType!CMGT_EXT_ProcessExecutionAudit.statusCode: ri!statusCode,\n      recordType!CMGT_EXT_ProcessExecutionAudit.actionCode: ri!actionCode,\n      recordType!CMGT_EXT_ProcessExecutionAudit.dataset: ri!datasetUuids\n    ),\n    #\"urn:appian:function:v1:a:update\"(\n      local!processExecutionAudit,\n      {\n        recordType!CMGT_EXT_ProcessExecutionAudit.errorMessage,\n        recordType!CMGT_EXT_ProcessExecutionAudit.statusCode,\n        recordType!CMGT_EXT_ProcessExecutionAudit.completedOn,\n        recordType!CMGT_EXT_ProcessExecutionAudit.completionPercentage\n      },\n      {\n        local!processData.errorMessage,\n        local!processData.statusCode,\n        index(local!processData, \"completedOn\", null),\n        local!processData.completionPercentage\n      }\n    )\n  )\n)"
    },
    "0016ec25-41d6-8000-fbcd-7f0000014e7a": {
      "name": "CMGT_EXT_DemoData_Clear",
      "type": "Process Model",
      "sail_code": "// Input: ?\nrule!CMGT_EXT_UpdateProcessExecutionHistory(\n  processId: pp!id,\n  processExecutionAudit: pv!processExecutionAudit,\n  contextProcessModels: cons!CMGT_EXT_PM_CLEAR_ERROR_TRACKING_PROCESS,\n  isMainProcessComplete: false,\n  dataset: pv!datasetUuids\n)\n\n// Input: ?\n=recordType!CMGT_EXT_ProcessExecutionAudit\n\n// Output: ?\nac!RecordsUpdated[recordType!CMGT_EXT_ProcessExecutionAudit.statusCode]\n\n// Input: ?\nrule!CMGT_EXT_UpdateProcessExecutionHistory(\n  processId: pp!id,\n  contextProcessModels: {\n    cons!CMGT_EXT_PM_CLEAR_ERROR_TRACKING_PROCESS\n  },\n  isMainProcessComplete: true,\n  processExecutionAudit:pv!processExecutionAudit,\n  dataset: pv!datasetUuids\n)\n\n// Input: ?\n=recordType!CMGT_EXT_ProcessExecutionAudit\n\n// Output: ?\nac!RecordsUpdated[recordType!CMGT_EXT_ProcessExecutionAudit.statusCode]\n\n// Input: ?\n= if( rule!CMGT_UTIL_IsBlank(pv!generatedDemoIds), \"[]\", concat(\"[\",#\"SYSTEM_SYSRULES_toJson_v1\"(pv!generatedDemoIds),\"]\"))\n\n// Input: ?\n=folderIds\n\n// Input: ?\n=pv!parentProcessId\n\n// Input: ?\n=\"jdbc/Appian\"\n\n// Input: ?\n= cons!CMGT_EXT_SP_EXECUTE_MULTIPLE_QUERIES\n\n// Input: ?\n=pv!spQueries\n\n// Output: ?\nAC!ResultSets\n\n// Output: ?\nAC!ErrorMessage\n\n// Output: ?\nrule!CMGT_EXT_UpdateDemoIdsConstantByDataset(\n  demoIdMaps: cast(\n    typeof({ a!map() }),\n    #\"SYSTEM_SYSRULES_fromJson_v1\"(cons!CMGT_EXT_JSON_GENERATED_DEMO_IDS)\n  ),\n  datasetUuids: tostring(pv!datasetUuids),\n  removeDataset: true()\n)\n\n// Input: ?\n={if(\n  a!isNotNullOrEmpty(pv!processExecutionAudit),\n  pv!processExecutionAudit,\n  rule!CMGT_EXT_UpdateProcessExecutionHistory(\n    processId: pp!id,\n    initiator: pp!initiator,\n    datasetUuids: pv!datasetUuids,\n    statusCode: cons!CMGT_EXT_PROCESS_STATUS_INPROGRESS,\n    actionCode: cons!CMGT_EXT_PROCESS_ACTION_CLEAR\n  )\n)}\n\n// Input: ?\n={recordType!CMGT_EXT_ProcessExecutionAudit}\n\n// Output: ?\nAC!RecordsUpdated\n\n// Output: ?\nac!RecordsUpdated[recordType!CMGT_EXT_ProcessExecutionAudit.statusCode]\n\n// Input: ?\n= index( rule!CMGT_UTIL_Filter( records: #\"SYSTEM_SYSRULES_fromJson_v1\"(cons!CMGT_EXT_JSON_GENERATED_DEMO_IDS), field: \"datasetUuids\", value: tostring(pv!datasetUuids) ), 1, null)\n\n// Output: ?\nrule!CMGT_EXT_QueryToClearData(\n  identifiersOfDataToBeDeleted: cast('type!{http://www.appian.com/ae/types/2009}Map',ac!generatedDemoIds)\n)\n\n// Output: ?\nrule!CMGT_EXT_ReturnValidFoldersForDeletion(\n  folderIds: rule!CMGT_QR_GetCase(\n    additionalFilters: #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Case.caseTypeUuid,\n      operator: \"in\",\n      value: cons!CMGT_EXT_TXT_GENERATED_CASE_TYPE_UUIDS,\n\n    )\n  )[recordType!CMGT_Case.folderId]\n)\n\n// Output: ?\nif(\n  pv!processExecutionAudit[recordType!CMGT_EXT_ProcessExecutionAudit.actionCode] = cons!CMGT_EXT_PROCESS_ACTION_CLEAR,\n  pp!id,\n  pv!parentProcessId\n)"
    },
    "_a-0000ec18-c90d-8000-9baa-011c48011c48_22631": {
      "name": "CMGT_EXT_filterExistingUsers",
      "type": "Expression Rule",
      "sail_code": "reject(fn!isusernametaken, ri!usernames)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_25890": {
      "name": "CMGT_UTIL_IsBlank",
      "type": "Expression Rule",
      "sail_code": "length(a!flatten(ri!value)) = 0"
    },
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_16434": {
      "name": "CMGT_EXT_QR_GetProcessExecutionAudit",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_EXT_ProcessExecutionAudit,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  logicalExpressions: ri!additionalLogicalExpressions,\n  executeWhen: a!defaultValue(ri!executeWhen, true),\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_EXT_ProcessExecutionAudit.processId,\n      operator: \"=\",\n      value: ri!processId\n    )\n  },\n  fields: ri!fields,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  relatedRecordData: ri!relatedRecordData,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_34666": {
      "name": "CMGT_WFL_QR_GetTaskBlockTask",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_WFL_CFG_TaskBlockTask,\n  executeWhen: ri!executeWhen,\n  returnType: ri!returnType,\n  sort: ri!sort,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockId,\n      operator: \"in\",\n      value: ri!taskBlockId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlock.isActive,\n      operator: \"=\",\n      value: true\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_TaskBlockTask.referenceTaskId,\n      operator: \"=\",\n      value: ri!referenceTaskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskId,\n      operator: \"in\",\n      value: ri!taskBlockTaskId\n    )\n  },\n  fields: {\n    ri!fields,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.referenceTask,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.taskBehaviorType,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.beforeTaskBlockTaskBranches,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.beforeTaskBlockTaskBranches,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlock,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.createCaseTaskBlockTask,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.sendEmailTaskBlockTask,\n    recordType!CMGT_WFL_CFG_TaskBlockTask.sendEmailTaskBlockTask,\n    #\"urn:appian:record-relationship:v1:671fbea8-6589-4ff6-8271-f692a237f4f4/924d5530-bf9b-4356-a967-499f27089d0d/6ea50f07-345d-4d73-b820-8b224ccbee99/516efecb-7202-4e04-a2fb-1da7c56053df\"\n  },\n  relatedRecordData: {\n    ri!relatedRecordData,\n    #\"SYSTEM_SYSRULES_relatedRecordData\"(\n      relationship:recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskResponseOptions,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field:recordType!CMGT_WFL_CFG_TaskBlockTaskResponseOption.sortOrder,\n        ascending: true\n      )\n    )\n  },\n  pagingInfo: ri!pagingInfo,\n  triggerRefresh: ri!triggerRefresh,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "0002ec42-4fee-8000-fd89-7f0000014e7a": {
      "name": "CMGT_EXT_DeleteCaseFolders",
      "type": "Process Model",
      "sail_code": "// Input: ?\n= pv!folderIds[tp!instanceindex]\n\n// Input: ?\n=pv!folderIds[tp!instanceindex]"
    },
    "_a-0000e9d3-70bf-8000-9bbd-011c48011c48_180568": {
      "name": "CMGT_UTIL_IsNotBlank",
      "type": "Expression Rule",
      "sail_code": "not(rule!CMGT_UTIL_IsBlank(ri!input))"
    },
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_16798": {
      "name": "CMGT_EXT_GetProcessExecutionStatus",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNotNullOrEmpty(ri!processId),\n  a!localVariables(\n    /*Get all process data for the given process id*/\n    local!processData: rule!CMGT_EXT_QPA_GetAuditProcessReportData(\n      processId: ri!processId,\n      contextProcessModels: ri!contextProcessModels\n    ),\n    /*Reject the completed process and the main process*/\n    local!errorSubProcess: rule!CMGT_UTIL_Filter(\n      records: local!processData,\n      fieldValuePairs: {\n        a!map(field: \"status\", value: 1),\n        a!map(field: \"processId\", value: ri!processId)\n      },\n      matchingCriteria: \"ANY\",\n      filterType: \"REJECT\"\n    ),\n    /*Check if the if all process are completed except the main process*/\n    local!areSubProcessesComplete: a!isNullOrEmpty(value: local!errorSubProcess),\n    /*CheckS if the main process is complete*/\n    local!isMainProcessComplete: a!defaultValue(ri!isMainProcessComplete, false),\n    if(\n      and(\n        local!areSubProcessesComplete,\n        local!isMainProcessComplete\n      ),\n      a!map(\n        statusCode: cons!CMGT_EXT_PROCESS_STATUS_COMPLETED,\n        errorMessage: null,\n        completedOn: now(),\n        completionPercentage: 100\n      ),\n      a!localVariables(\n        /*If there are no errors in subprocess then the issue is on main process\n      so add the main process */\n        local!errorProcess: if(\n          a!isNotNullOrEmpty(local!errorSubProcess),\n          local!errorSubProcess,\n          rule!CMGT_UTIL_Filter(\n            records: local!processData,\n            fieldValuePairs: {\n              a!map(field: \"processId\", value: ri!processId)\n            }\n          )\n        ),\n        /*This is to elimiate MNI process like create case*/\n        local!errorProcessModelIds: union(\n          index(\n            local!errorProcess,\n            \"processModelId\",\n            null\n          ),\n          index(\n            local!errorProcess,\n            \"processModelId\",\n            null\n          )\n        ),\n        local!errorMessage: \"Failure occurred while \" & a!match(\n          value: cast(1, local!errorProcessModelIds),\n         /*error message when CMGT_EXT_GetProcessExecutionStatus errors during the LOAD action*/\n          whenTrue: tointeger(\n            cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS[1]\n          ) = fv!value,\n          then: \"generating tasks or case types.\",\n          /*error message when CMGT_EXT_Case_Create or CMGT_EXT_Case_Maker errors during the LOAD action*/\n          whenTrue: contains(\n            tointeger(\n              index(\n                cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS,\n                { 2, 8 },\n                null\n              )\n            ),\n            fv!value\n          ),\n          then: \"generating cases.\",\n          /*error message when CMGT_EXT_Task_Create, CMGT_EXT_Task_Update, CMGT_EXT_SUB_OpenNextTasks errors during the LOAD action*/\n          whenTrue: contains(\n            tointeger(\n              index(\n                cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS,\n                { 3, 6, 7 },\n                null\n              )\n            ),\n            fv!value\n          ),\n          then: \"generating tasks for cases.\",\n          /*error message when CMGT_EXT_RelatedCaseMap_Create errors during the LOAD action*/\n          whenTrue: tointeger(\n            cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS[4]\n          ) = fv!value,\n          then: \"generating related cases.\",\n          /*error message when the overall parent process CMGT_EXT_Load_DemoData errors during the LOAD action*/\n          whenTrue: tointeger(\n            cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS[5]\n          ) = fv!value,\n          then: \"generating demo data.\",\n          /*error message when CMGT_EXT_Load_GenerateDemoUsers errors during the LOAD action*/\n          whenTrue: tointeger(\n            cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS[9]\n          ) = fv!value,\n          then: \"generating demo users.\",\n          /*error message when CMGT_EXT_Deployment errors*/\n          whenTrue: tointeger(\n            cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS[10]\n          ) = fv!value,\n          then: if(\n            /*if the context PM passed thorugh contains the CMGT_EXT_Clear_DemoData PM then show the CLEAR action message, \n            otherwise show the LOAD action message*/\n            contains(\n              ri!contextProcessModels,\n              cons!CMGT_EXT_PM_CLEAR_ERROR_TRACKING_PROCESS[3]\n            ),\n            \"deleting studio tables.\",\n            \"generating studio objects.\"\n          ),\n          /*error message when CMGT_EXT_Clear_DemoData errors*/\n          whenTrue: tointeger(\n            cons!CMGT_EXT_PM_CLEAR_ERROR_TRACKING_PROCESS[3]\n          ) = fv!value,\n          then: \"clearing demo data.\",\n          /*error message when CMGT_EXT_Reset_DemoData errors during the RESET action*/\n          whenTrue: tointeger(cons!CMGT_EXT_PM_RESET_DEMO_DATA) = fv!value,\n          then: \"executing reset.\",\n          default: null,\n\n        ) & \" Please contact your administrator for resolution.\",\n        a!map(\n          statusCode: cons!CMGT_EXT_PROCESS_STATUS_FAILED,\n          errorMessage: local!errorMessage,\n          completionPercentage: a!match(\n            value: ri!actionCode,\n            equals: cons!CMGT_EXT_PROCESS_ACTION_LOAD,\n            then: rule!CMGT_EXT_GetLoadProcessCompletionPercentage(\n              completedProcess: rule!CMGT_UTIL_Filter(\n                records: local!processData,\n                fieldValuePairs: { a!map(field: \"status\", value: 1) },\n                \n              ),\n              datasetUuids: ri!datasetUuids\n            ),\n            equals: cons!CMGT_EXT_PROCESS_ACTION_CLEAR,\n            then: rule!CMGT_EXT_GetClearProcessCompletionPercentage(\n              completedProcess: rule!CMGT_UTIL_Filter(\n                records: local!processData,\n                fieldValuePairs: { a!map(field: \"status\", value: 1) },\n                \n              ),\n              datasetUuids: ri!datasetUuids\n            ),\n            equals: cons!CMGT_EXT_PROCESS_ACTION_RESET,\n            then: rule!CMGT_EXT_GetResetProcessCompletionPercentage(\n              completedProcess: rule!CMGT_UTIL_Filter(\n                records: local!processData,\n                fieldValuePairs: { a!map(field: \"status\", value: 1) },\n                \n              ),\n              datasetUuids: ri!datasetUuids\n            ),\n            equals: cons!CMGT_EXT_PROCESS_ACTION_RETRY_LOAD,\n            then: rule!CMGT_EXT_GetResetProcessCompletionPercentage(\n              completedProcess: rule!CMGT_UTIL_Filter(\n                records: local!processData,\n                fieldValuePairs: { a!map(field: \"status\", value: 1) },\n\n              ),\n              datasetUuids: ri!datasetUuids\n            ),\n            default: 0\n          )\n        )\n      )\n    )\n  ),\n  null\n)"
    },
    "_a-0000ec22-03d4-8000-9bac-011c48011c48_50666": {
      "name": "CMGT_EXT_ReturnValidFoldersForDeletion",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_EXT_UTIL_rejectNullValuesFromArray(\n  #\"SYSTEM_SYSRULES_forEach\"(\n    ri!folderIds,\n    if(\n      search(\n        \"Type: Folder\",\n        touniformstring(getcontentobjectdetailsbyid(fv!item)),\n        1\n      ) <> 0,\n      fv!item,\n      null\n    )\n  )\n)"
    },
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_16774": {
      "name": "CMGT_EXT_QPA_GetAuditProcessReportData",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!defaultValue(value: ri!executeWhen, default: true()),\n  a!localVariables(\n    local!statuses: {\n      \"ACTIVE\",\n      \"COMPLETED\",\n      \"PAUSED\",\n      \"CANCELLED\",\n      \"PAUSED_BY_EXCEPTION\"\n    },\n    local!fieldMap: {\n      a!map(column: \"c0\", field: \"processName\"),\n      a!map(column: \"c1\", field: \"status\"),\n      a!map(column: \"c2\", field: \"startTime\"),\n      a!map(column: \"c3\", field: \"parentProcessId\"),\n      a!map(column: \"c4\", field: \"processId\"),\n      a!map(column: \"c6\", field: \"processModelId\"),\n      a!map(column: \"c7\", field: \"caseId\"),\n      a!map(column: \"c8\", field: \"processStatusCode\")\n    },\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: a!queryProcessAnalytics(\n        report: cons!CMGT_EXT_DOC_AUDIT_PROCESS_REPORT,\n        contextProcessModels: ri!contextProcessModels,\n        query: #\"SYSTEM_SYSRULES_query\"(\n          pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n            startIndex: 1,\n            batchSize: 50,\n            sort: #\"SYSTEM_SYSRULES_sortInfo\"(field: \"c2\", ascending: false)\n          ),\n          logicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            logicalExpressions: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n              operator: \"OR\",\n              filters: {\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: \"c3\",\n                  operator: \"=\",\n                  value: ri!processId,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!processId)\n                ),\n                #\"SYSTEM_SYSRULES_queryFilter\"(\n                  field: \"c4\",\n                  operator: \"=\",\n                  value: ri!processId,\n                  applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!processId)\n                )\n              }\n            ),\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: \"c1\",\n                operator: \"in\",\n                value: wherecontains(ri!status, local!statuses) - 1,\n                applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!status)\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: \"c8\",\n                operator: \"=\",\n                value: ri!processStatusCode,\n                applyWhen: rule!CMGT_UTIL_IsNotBlank(input: ri!processStatusCode)\n              )\n            }\n          )\n        )\n      ).data,\n      expression: reduce(\n        #\"urn:appian:function:v1:a:update\",\n        a!map(),\n        merge(\n          local!fieldMap.field,\n          apply(\n            index(fv!item, _, null()),\n            local!fieldMap.column\n          )\n        )\n      )\n    )\n  ),\n  {}\n)"
    },
    "_a-0000ec34-7771-8000-9bb0-011c48011c48_174185": {
      "name": "CMGT_EXT_Actions_ConfirmationScreen",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!data: rule!CMGT_EXT_DATA_ConfirmationScreenLabels(\n    dataSetUuids: ri!datasetUuids,\n    actionCode: ri!actionCode\n  ),\n  local!metric,\n  #\"SYSTEM_SYSRULES_formLayout_v2\"(\n    titleBar: local!data.title,\n    showTitleBarDivider: true,\n    contents: {\n      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(text: local!data.instruction),\n        marginBelow: \"LESS\"\n      ),\n      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        labelPosition: \"COLLAPSED\",\n        value: #\"SYSTEM_SYSRULES_richTextBulletedList\"(\n          items: #\"SYSTEM_SYSRULES_forEach\"(\n            items: local!data.contents,\n            expression: #\"SYSTEM_SYSRULES_richTextListItem\"(\n              text: {\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: joinarray({ fv!item.count, fv!item.label }, \" \"),\n                  style: \"STRONG\"\n                ),\n                char(32),\n                fv!item.data\n              }\n            )\n          )\n        ),\n        marginBelow: \"LESS\"\n      )\n    },\n    buttons: #\"SYSTEM_SYSRULES_ButtonLayout\"(\n      primaryButtons: {\n        #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          label: local!data.buttonLabel,\n          saveInto: {\n            if(\n              a!isNotNullOrEmpty(local!data.metricRule),\n            a!save(\n              local!metric,\n              local!data.metricRule()\n            ),\n            null\n            )\n          },\n          submit: true,\n          style: \"SOLID\"\n        )\n      },\n      secondaryButtons: {\n        #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          label: #\"urn:appian:translation-string:v1:36945a77-aa0c-4c0f-aff5-96eb2556aa52\",\n          value: true,\n          saveInto: {\n            a!save(ri!datasetUuids, null())\n          },\n          submit: true\n        )\n      }\n    )\n  )\n)"
    },
    "_a-0000ec3d-b406-8000-9bb2-011c48011c48_330692": {
      "name": "CMGT_EXT_GetClearProcessCompletionPercentage",
      "type": "Expression Rule",
      "sail_code": "/*Percentage contribution by each process\nClearing of Tables - 25%\nDrop studio tables  - 50%\nFolder Deletion - 25%\n*/\na!localVariables(\n  /*Check if any cases exists with the ID's stored in demo CMGT_EXT_JSON_GENERATED_DEMO_IDS*/\n  local!caseDeletionCompletionPercentage: a!refreshVariable(\n    value: if(\n      rule!CMGT_UTIL_IsBlank(\n        rule!CMGT_QR_GetCase(\n          additionalFilters: #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!CMGT_Case.caseTypeUuid,\n            operator: \"in\",\n            value: index(\n              index(\n                rule!CMGT_UTIL_Filter(\n                  records: #\"SYSTEM_SYSRULES_fromJson_v1\"(cons!CMGT_EXT_JSON_GENERATED_DEMO_IDS),\n                  field: \"datasetUuids\",\n                  value: ri!datasetUuids\n                ),\n                \"caseTypeIds\",\n                {}\n              ),\n              1,\n              {}\n            )\n          )\n        )[recordType!CMGT_Case.caseId]\n      ),\n      25,\n      0\n    ),\n    refreshOnVarChange: ri!triggerRefresh\n  ),\n  /*Check the completion of process CMGT_EXT_Deployment*/\n  local!studioObjectsPMCompletionPercentage: if(\n    rule!CMGT_UTIL_IsNotBlank(\n      rule!CMGT_UTIL_Filter(\n        records: ri!completedProcess,\n        fieldValuePairs: {\n          a!map(\n            field: \"processModelId\",\n            value: tointeger(\n              cons!CMGT_EXT_PM_CLEAR_ERROR_TRACKING_PROCESS[1]\n            )\n          )\n        }\n      )\n    ),\n    50,\n    0\n  ),\n  /*Check the completion of process CMGT_EXT_DeleteCaseFolders*/\n  local!folderDeletionPMCompletionPercentage: if(\n    rule!CMGT_UTIL_IsNotBlank(\n      rule!CMGT_UTIL_Filter(\n        records: ri!completedProcess,\n        fieldValuePairs: {\n          a!map(\n            field: \"processModelId\",\n            value: tointeger(\n              cons!CMGT_EXT_PM_CLEAR_ERROR_TRACKING_PROCESS[2]\n            )\n          )\n        }\n      )\n    ),\n    25,\n    0\n  ),\n  local!completionPercentage: sum(\n    local!caseDeletionCompletionPercentage,\n    local!studioObjectsPMCompletionPercentage,\n    local!folderDeletionPMCompletionPercentage,\n    \n  ),\n  local!completionPercentage\n)"
    },
    "_a-0000ec18-c90d-8000-9baa-011c48011c48_25491": {
      "name": "CMGT_EXT_GetLoadProcessCompletionPercentage",
      "type": "Expression Rule",
      "sail_code": "/*Percentage contribution by each process\nCreate Users - 10%\nStudio Objects Deployment - 10%\nConfiguration process - 20%\nCase Creation - 50%\nRelated Cases process - 10%\n*/\na!localVariables(\n  /*Check the completion of process CMGT_EXT_GenerateDemoUsers*/\n  local!userCreationPMCompletionPercentage: if(\n    rule!CMGT_UTIL_IsNotBlank(\n      rule!CMGT_UTIL_Filter(\n        records: ri!completedProcess,\n        fieldValuePairs: {\n          a!map(\n            field: \"processModelId\",\n            value: tointeger(\n              cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS[9]\n            )\n          )\n        }\n      )\n    ),\n    10,\n    0\n  ),\n  /*Check the completion of process CMGT_EXT_Deployment*/\n  local!studioObjectsPMCompletionPercentage: if(\n    rule!CMGT_UTIL_IsNotBlank(\n      rule!CMGT_UTIL_Filter(\n        records: ri!completedProcess,\n        fieldValuePairs: {\n          a!map(\n            field: \"processModelId\",\n            value: tointeger(\n              cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS[10]\n            )\n          )\n        }\n      )\n    ),\n    10,\n    0\n  ),\n  /*Check the completion of process CMGT_EXT_Write_Configuration_Data*/\n  local!configurationPMCompletionPercentage: if(\n    rule!CMGT_UTIL_IsNotBlank(\n      rule!CMGT_UTIL_Filter(\n        records: ri!completedProcess,\n        fieldValuePairs: {\n          a!map(\n            field: \"processModelId\",\n            value: tointeger(\n              cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS[1]\n            )\n          )\n        }\n      )\n    ),\n    20,\n    0\n  ),\n  /*Check the completion of process CMGT_EXT_Create_Case and CMGT_EXT_Task_Update.\n  It is sufficient to check the statsues of these 2 process where other PMs are called as the sync subprocess\n  in the above PMs*/\n  local!caseCreationProcess: rule!CMGT_UTIL_Filter(\n    records: ri!completedProcess,\n    fieldValuePairs: {\n      a!map(\n        field: \"processModelId\",\n        value: tointeger(\n          cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS[2]\n        )\n      ),\n      a!map(\n        field: \"processModelId\",\n        value: tointeger(\n          cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS[6]\n        )\n      )\n    },\n    matchingCriteria: \"ANY\"\n  ),\n  local!createdCasesIds: rule!CMGT_UTIL_RejectBlank(\n    array: #\"SYSTEM_SYSRULES_forEach\"(\n      items: rule!CMGT_UTIL_Distinct(\n        value: index(\n          local!caseCreationProcess,\n          \"caseId\",\n          null\n        )\n      ),\n      expression: if(\n        length(\n          rule!CMGT_UTIL_Filter(\n            records: local!caseCreationProcess,\n            field: \"caseId\",\n            value: fv!item\n          )\n        ) = 2,\n        /*Since we have only 2 process related to case creation*/\n        fv!item,\n        null\n      )\n    )\n  ),\n  /*Here we are taking the percentage of no of cases completed for 100% then we\n  are converting the value to 50%*/\n  local!caseCreationPMCompletionPercentage: (\n    (\n      (\n        length(local!createdCasesIds) / length(\n          a!match(\n            value: ri!datasetUuids,\n            equals: cons!CMGT_EXT_TXT_GENERATED_CASE_CATEGORY_UUIDS[2],\n            then: rule!CMGT_EXT_DATA_FraudulentTransactions_Case(),\n            equals:cons!CMGT_EXT_TXT_GENERATED_CASE_CATEGORY_UUIDS[1],\n            then: rule!CMGT_EXT_DATA_ResidentialPermit_Case(),\n            default: a!flatten(\n              {\n                rule!CMGT_EXT_DATA_FraudulentTransactions_Case(),\n                rule!CMGT_EXT_DATA_ResidentialPermit_Case()\n              }\n            )\n          )\n        )\n      ) * 100\n    ) * 50\n  ) / 100,\n  /*Check the completion of process CMGT_EXT_RelatedCaseMap_Create */\n  local!relatedCasesPMCompletionPercentage: if(\n    rule!CMGT_UTIL_IsNotBlank(\n      rule!CMGT_UTIL_Filter(\n        records: ri!completedProcess,\n        fieldValuePairs: {\n          a!map(\n            field: \"processModelId\",\n            value: tointeger(\n              cons!CMGT_EXT_PM_LOAD_ERROR_TRACKING_PROCESS[4]\n            )\n          )\n        }\n      )\n    ),\n    10,\n    0\n  ),\n  local!completionPercentage: sum(\n    local!userCreationPMCompletionPercentage,\n    local!studioObjectsPMCompletionPercentage,\n    local!configurationPMCompletionPercentage,\n    local!caseCreationPMCompletionPercentage,\n    local!relatedCasesPMCompletionPercentage\n  ),\n  local!completionPercentage\n)"
    },
    "_a-0000e990-c462-8000-9ba7-011c48011c48_29411": {
      "name": "CMGT_QR_GetTask",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_Task,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  groupByFields: ri!groupByFields,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.taskId,\n      operator: \"in\",\n      value: ri!taskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.caseId,\n      operator: \"in\",\n      value: ri!caseId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.statusId,\n      operator: \"in\",\n      value: ri!statusId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.dueOn,\n      operator: \">\",\n      value: rule!CMGT_UTIL_ConvertDatetoDatetime(\n        date: ri!dueOnDate - 1,\n        useSystemTimeZone: a!defaultValue(ri!useSystemTimeZoneForDueOn, true)\n      )\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.dueOn,\n      operator: \"<=\",\n      value: rule!CMGT_UTIL_ConvertDatetoDatetime(\n        date: ri!dueOnDate,\n        useSystemTimeZone: a!defaultValue(ri!useSystemTimeZoneForDueOn, true)\n      )\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.isActive,\n      operator: \"=\",\n      value: true,\n      applyWhen: ri!includeInactive <> true\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.isCurrent,\n      operator: \"=\",\n      value: a!defaultValue(ri!isCurrentTask, true),\n      applyWhen: a!defaultValue(ri!isCurrentTaskApplyWhen, true),\n      \n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Task.taskIntentionCode,\n      operator: \"in\",\n      value: a!defaultValue(\n        ri!taskIntentionCodes,\n        {\n          cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_WORKFLOW\n        }\n      )\n    ),\n    \n  },\n  fields: {\n    ri!fields,\n    if(\n      ri!includeRoles,\n      {\n        recordType!CMGT_Task.roles\n      },\n      {}\n    ),\n    if(\n      ri!includeMilestone,\n      {\n        recordType!CMGT_Task.milestone\n      },\n      {}\n    ),\n    if(\n      ri!includeCase,\n      {\n        recordType!CMGT_Task.case\n      },\n      {}\n    ),\n    if(\n      ri!includeBranches,\n      {\n        recordType!CMGT_Task.beforeTaskInstanceBranches,\n        recordType!CMGT_Task.beforeTaskInstanceBranches,\n        recordType!CMGT_Task.beforeTaskInstanceBranches,\n        #\"urn:appian:record-relationship:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/73a323c9-ce12-4212-97aa-f89df7d14c09/9644c5ba-af85-48a3-9cda-fcfb028d6113/3280de96-3518-4a9e-b8ae-854a84562f07\"\n      },\n      {}\n    ),\n    recordType!CMGT_Task.taskBehaviorType,\n    recordType!CMGT_Task.status,\n    recordType!CMGT_Task.taskResponseOptions,\n    recordType!CMGT_Task.selectedTaskResponseOption,\n    recordType!CMGT_Task.conditionSet,\n    recordType!CMGT_Task.conditionSet,\n    #\"urn:appian:record-relationship:v1:ee5aa46d-0228-430f-a794-1134a11fbcc0/5189c3ac-98e2-4a82-8598-2e9561baec9d/64b891e4-359b-48b4-9f47-2a3af4695c34/52813580-ecf3-49c7-be71-568ab452d54a\",\n    recordType!CMGT_Task.createCaseTask,\n    recordType!CMGT_Task.sendEmailTask,\n    recordType!CMGT_Task.sendEmailTask,\n    recordType!CMGT_Task.automationTaskAction\n  },\n  logicalExpressions: {\n    ri!additionalLogicalExpression,\n    rule!CMGT_Task_AutomationRuleGlobalLogicalExpression(\n      taskIntentionCodes: ri!taskIntentionCodes\n    )\n  },\n  pagingInfo: ri!pagingInfo,\n  relatedRecordData: ri!relatedRecordData,\n  sort: ri!sort,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_14005": {
      "name": "CMGT_EXT_UTIL_rejectNullValuesFromArray",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!array),\n  reject(\n    rule!CMGT_UTIL_IsBlank(_),\n    a!flatten(ri!array)\n  )\n)"
    },
    "_a-0000e98b-cfe0-8000-9ba5-011c48011c48_22352": {
      "name": "CMGT_UTIL_QueryRecord",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Chosen return type*/\n  local!returnType: a!defaultValue(ri!returnType, \"OBJECT_ARRAY\"),\n  /*Determine the query parameters to use by the return type*/\n  local!queryParams: a!match(\n    value: local!returnType,\n    equals: \"OBJECT_ARRAY\",\n    then: a!map(\n      castToType: if(\n        a!isNullOrEmpty(ri!groupByFields),\n        #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(ri!recordType),\n        'type!{http://www.appian.com/ae/types/2009}Map?list'\n      ),\n      fetchTotalCount: false,\n      isArray: true,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: a!defaultValue(\n          ri!pagingInfo.batchSize,\n          cons!CMGT_INT_BATCH_SIZE_MAX\n        ),\n        sort: { ri!pagingInfo.sort, ri!sort }\n      )\n    ),\n    equals: \"SINGLE_OBJECT\",\n    then: a!map(\n      castToType: if(\n        a!isNullOrEmpty(ri!groupByFields),\n        ri!recordType,\n        'type!{http://www.appian.com/ae/types/2009}Map'\n      ),\n      fetchTotalCount: false,\n      isArray: false,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: 1,\n        sort: { ri!pagingInfo.sort, ri!sort }\n      )\n    ),\n    equals: \"DATA_SUBSET\",\n    then: a!map(\n      castToType: 'type!{http://www.appian.com/ae/types/2009}DataSubset',\n      fetchTotalCount: true,\n      isArray: false,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: a!defaultValue(ri!pagingInfo.startIndex, 1),\n        batchSize: a!defaultValue(\n          ri!pagingInfo.batchSize,\n          cons!CMGT_INT_BATCH_SIZE_MAX\n        ),\n        sort: { ri!pagingInfo.sort, ri!sort }\n      )\n    ),\n    equals: \"TOTAL_COUNT\",\n    then: a!map(\n      castToType: 'type!{http://www.appian.com/ae/types/2009}Integer',\n      fetchTotalCount: true,\n      isArray: false,\n      pagingInfo: #\"SYSTEM_SYSRULES_pagingInfo\"(startIndex: 1, batchSize: 0)\n    ),\n    default: fn!error(\n      \"Invalid returnType, must be one of: OBJECT_ARRAY, SINGLE_OBJECT, DATA_SUBSET, TOTAL_COUNT\"\n    )\n  ),\n  if(\n    /*Early exit for skip execution*/\n    ri!executeWhen = false,\n    cast(\n      local!queryParams.castToType,\n      if(local!queryParams.isArray, {}, null)\n    ),\n    a!localVariables(\n      /*Run the query*/\n      local!queryResult: a!refreshVariable(\n        value: #\"SYSTEM_SYSRULES_queryRecordType_v2\"(\n          recordType: ri!recordType,\n          fields: if(\n            a!isNullOrEmpty(ri!groupByFields),\n            reject(\n              a!isNullOrEmpty,\n              a!flatten(\n                {\n                  ri!fields,\n                  index(ri!relatedRecordData, \"relationship\", {})\n                }\n              )\n            ),\n            #\"SYSTEM_SYSRULES_aggregationFields\"(\n              groupings: #\"SYSTEM_SYSRULES_forEach\"(\n                items: ri!groupByFields,\n                expression: #\"SYSTEM_SYSRULES_grouping\"(field: fv!item, alias: tostring(fv!item))\n              ),\n              measures: #\"SYSTEM_SYSRULES_measure\"(\n                field: ri!groupByFields[1],\n                function: \"COUNT\",\n                alias: \"count\"\n              )\n            )\n          ),\n          filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            ignoreFiltersWithEmptyValues: true,\n            logicalExpressions: {\n              ri!logicalExpressions,\n              if(\n                and(\n                  a!isNotNullOrEmpty(ri!searchFields),\n                  a!isNotNullOrEmpty(ri!searchTerm)\n                ),\n                #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                  operator: \"AND\",\n                  logicalExpressions: #\"SYSTEM_SYSRULES_forEach\"(\n                    items: split(trim(ri!searchTerm), \" \"),\n                    expression: a!localVariables(\n                      local!splitSearchTerm: fv!item,\n                      #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                        operator: \"OR\",\n                        filters: #\"SYSTEM_SYSRULES_forEach\"(\n                          items: ri!searchFields,\n                          expression: #\"SYSTEM_SYSRULES_queryFilter\"(\n                            field: fv!item,\n                            operator: \"includes\",\n                            value: local!splitSearchTerm\n                          )\n                        )\n                      )\n                    )\n                  )\n                ),\n                {}\n              )\n            },\n            filters: ri!filters\n          ),\n          pagingInfo: if(\n            a!isNullOrEmpty(ri!groupByFields),\n            local!queryParams.pagingInfo,\n            #\"urn:appian:function:v1:a:update\"(\n              local!queryParams.pagingInfo,\n              \"sort\",\n              null\n            )\n          ),\n          fetchTotalCount: local!queryParams.fetchTotalCount,\n          relatedRecordData: if(\n            a!isNullOrEmpty(ri!groupByFields),\n            ri!relatedRecordData,\n            {}\n          )\n        ),\n        refreshOnVarChange: ri!triggerRefresh,\n        refreshAfter: { \"RECORD_ACTION\" }\n      ),\n      /*Format the output*/\n      local!output: a!match(\n        value: local!returnType,\n        equals: \"OBJECT_ARRAY\",\n        then: cast(\n          local!queryParams.castToType,\n          local!queryResult.data\n        ),\n        equals: \"SINGLE_OBJECT\",\n        then: cast(\n          local!queryParams.castToType,\n          local!queryResult.data\n        ),\n        equals: \"DATA_SUBSET\",\n        then: cast(\n          local!queryParams.castToType,\n          local!queryResult\n        ),\n        equals: \"TOTAL_COUNT\",\n        then: local!queryResult.totalCount,\n        default: null\n      ),\n      local!output\n    )\n  )\n)"
    },
    "_a-0000ec06-54a3-8000-9cca-011c48011c48_2510021": {
      "name": "CMGT_EXT_DATA_CaseType",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!workflowMilestoneColorScheme: rule!CMGT_UTIL_LoadBrandingMap().WorkflowMilestoneColorScheme,\n  local!milestoneColors: split(local!workflowMilestoneColorScheme, \",\"),\n  local!residentialPermitCaseTypes: recordType!CMGT_CFG_CaseType(\n    recordType!CMGT_CFG_CaseType.name: \"Residential Permit (DEMO)\",\n    recordType!CMGT_CFG_CaseType.uuid: cons!CMGT_EXT_TXT_GENERATED_CASE_CATEGORY_UUIDS[1],\n    recordType!CMGT_CFG_CaseType.description: \"This case type focuses on managing and processing permit applications and approvals specifically related to residential properties, such as home construction, renovations, or additions.\",\n    recordType!CMGT_CFG_CaseType.icon: \"home\",\n    recordType!CMGT_CFG_CaseType.isCategory: true,\n    recordType!CMGT_CFG_CaseType.subCaseTypes: {\n      recordType!CMGT_CFG_CaseType(\n        recordType!CMGT_CFG_CaseType.name: \"Solar Permit (DEMO)\",\n        recordType!CMGT_CFG_CaseType.uuid: cons!CMGT_EXT_TXT_GENERATED_CASE_TYPE_UUIDS[1],\n        recordType!CMGT_CFG_CaseType.description: \"This case type focuses on managing and processing permit applications and approvals specifically related to solar energy installations, such as solar panel systems.\",\n        recordType!CMGT_CFG_CaseType.caseTypeMetadata:{\n         recordType!CMGT_CFG_CaseTypeMetadata( recordType!CMGT_CFG_CaseTypeMetadata.prefix: \"SOP\"),\n        },\n        recordType!CMGT_CFG_CaseType.icon: \"solar-panel\",\n        recordType!CMGT_CFG_CaseType.isCategory: false,\n        recordType!CMGT_CFG_CaseType.referenceMilestone: {\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Intake Review\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[1],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"ae683d8a-d40b-4ffb-af52-2e1625eaf1df\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"SME Review\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[2],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"696a4671-dad2-4670-be66-139e7c9096a0\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Payment\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[3],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"f774123a-2419-4a11-82ec-845ebeed018f\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Permit Issuance\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[4],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"16d93461-e7c7-454c-89fa-751825db4c10\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Inspections\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[5],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"fd4aa234-a3b7-4d4f-8c8f-f67699088ead\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Closure\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[6],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"5e11c3ef-5933-446a-8a9b-a6755e549f79\"\n          )\n        }\n      ),\n      recordType!CMGT_CFG_CaseType(\n        recordType!CMGT_CFG_CaseType.name: \"Addition Permit (DEMO)\",\n        recordType!CMGT_CFG_CaseType.uuid: cons!CMGT_EXT_TXT_GENERATED_CASE_TYPE_UUIDS[2],\n        recordType!CMGT_CFG_CaseType.description: \"This case type focuses on making significant changes to an existing structure, such as adding rooms or remodeling kitchens,bathrooms or parking\",\n        recordType!CMGT_CFG_CaseType.caseTypeMetadata:{\n          recordType!CMGT_CFG_CaseTypeMetadata( recordType!CMGT_CFG_CaseTypeMetadata.prefix: \"ADN\"),\n        },\n        recordType!CMGT_CFG_CaseType.icon: \"tools\",\n        recordType!CMGT_CFG_CaseType.isCategory: false,\n        recordType!CMGT_CFG_CaseType.referenceMilestone: {\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Intake Review\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[1],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"1c802cdc-82f4-4e19-8de2-7e5ad1d03709\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"SME Review\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[2],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"8057798f-3829-4d45-8161-893b44416640\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Payment\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[3],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"ed1c1d99-696f-495a-8fa2-b2c0327e1b74\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Permit Issuance\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[4],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"fc38dd97-fd07-422d-9aeb-74bb6bcc4810\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Inspections\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[5],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"6190fc30-c37a-4d7e-852d-474ff9133a4e\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Closure\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[6],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"5fe83e17-88ce-4ab2-b227-cfc15b6e0e05\"\n          )\n        }\n      )\n    }\n  ),\n  local!fraudulentTransactionsCaseType: recordType!CMGT_CFG_CaseType(\n    recordType!CMGT_CFG_CaseType.name: \"Fraudulent Transactions (DEMO)\",\n    recordType!CMGT_CFG_CaseType.uuid: cons!CMGT_EXT_TXT_GENERATED_CASE_CATEGORY_UUIDS[2],\n    recordType!CMGT_CFG_CaseType.description: \"This case type focusses on any unauthorised or illegal activity involving the use of payment systems typically for the purpose of obtaining money, goods, or services without proper consent or authorisation from the account holder.\",\n    recordType!CMGT_CFG_CaseType.icon: \"credit-card\",\n    recordType!CMGT_CFG_CaseType.isCategory: true,\n    recordType!CMGT_CFG_CaseType.subCaseTypes: {\n      recordType!CMGT_CFG_CaseType(\n        recordType!CMGT_CFG_CaseType.name: \"Credit Card Disputes (DEMO)\",\n        recordType!CMGT_CFG_CaseType.uuid: cons!CMGT_EXT_TXT_GENERATED_CASE_TYPE_UUIDS[3],\n        recordType!CMGT_CFG_CaseType.description: \"Credit card disputes are initiated by cardholders when they identify unauthorized charges, billing errors, or dissatisfaction with goods or services.\",\n        recordType!CMGT_CFG_CaseType.caseTypeMetadata:{\n          recordType!CMGT_CFG_CaseTypeMetadata( recordType!CMGT_CFG_CaseTypeMetadata.prefix: \"CCD\"),\n        },\n        recordType!CMGT_CFG_CaseType.icon: \"credit-card-solid\",\n        recordType!CMGT_CFG_CaseType.isCategory: false,\n        recordType!CMGT_CFG_CaseType.referenceMilestone: {\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Intake Review\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[1],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"6937ea73-3b8a-494b-b4ef-18a45c1862a9\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Issuer Processing\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[2],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"a47edc1d-4fa6-42cf-a982-6f48ce021468\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Issuer Decision\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[3],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"5fa6419f-5c32-42b7-8070-3dd91cab4c04\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Arbitrator Processing\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[4],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"18ccc205-a25d-43e5-ab56-6db782383cf9\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Arbitrator Decision\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[5],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"017dab9b-a60b-4377-a011-3b85fc36fe01\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Closure\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[6],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"2aeb984b-b036-4297-9a5b-2b1e7cf7591b\"\n          )\n        }\n      ),\n      recordType!CMGT_CFG_CaseType(\n        recordType!CMGT_CFG_CaseType.name: \"Automated Clearing House (DEMO)\",\n        recordType!CMGT_CFG_CaseType.uuid: cons!CMGT_EXT_TXT_GENERATED_CASE_TYPE_UUIDS[4],\n        recordType!CMGT_CFG_CaseType.description: \"Automated Clearing House refers to the disputes that can arise with ACH transactions. ACH transactions are electronic payments made through the ACH network, used for direct deposits, bill payments, and other financial transfers.\",\n        recordType!CMGT_CFG_CaseType.caseTypeMetadata:{\n          recordType!CMGT_CFG_CaseTypeMetadata( recordType!CMGT_CFG_CaseTypeMetadata.prefix: \"ACH\"),\n        },\n        recordType!CMGT_CFG_CaseType.icon: \"money\",\n        recordType!CMGT_CFG_CaseType.isCategory: false,\n        recordType!CMGT_CFG_CaseType.referenceMilestone: {\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Intake Review\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[1],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"eea5c551-839c-43ea-960c-50e537dbf430\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"ACH Processing\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[2],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"a481b76a-2775-431f-bbdf-021fae8c8307\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"ACH Decision\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[3],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"0aa4d105-062f-425a-b337-f0934a90b13a\"\n          ),\n          recordType!CMGT_WFL_CFG_ReferenceMilestone(\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.label: \"Closure\",\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneColor: local!milestoneColors[6],\n            recordType!CMGT_WFL_CFG_ReferenceMilestone.milestoneUuid: \"c5500af9-49cc-4b38-8ef8-159a014f5aac\"\n          )\n        }\n      )\n    }\n  ),\n  a!match(\n    value: ri!datasetUuids,\n    equals: cons!CMGT_EXT_TXT_GENERATED_CASE_CATEGORY_UUIDS[1],\n    then: local!residentialPermitCaseTypes,\n    equals:cons!CMGT_EXT_TXT_GENERATED_CASE_CATEGORY_UUIDS[2],\n    then: local!fraudulentTransactionsCaseType,\n    default: {\n      local!fraudulentTransactionsCaseType,\n      local!residentialPermitCaseTypes\n    }\n  )\n)"
    },
    "_a-0000ec0f-47ad-8000-9ba8-011c48011c48_16227": {
      "name": "CMGT_EXT_DATA_ResidentialPermit_Case",
      "type": "Expression Rule",
      "sail_code": "/*Execute all the testcases before saving*/\n/*The below is the structure definition of the map used in this rule*/\n/*a!map(\ntitle:Defines title of the case,\ndescription:Defines description of the case\nmapping the other values here so that the case looks same everytime it is created\n */\n{\n  /*Residential Permits*/\n  /* Solar Permit*/\n  a!map(\n    title: \"Commercial Solar Farm Approval\",\n    description: \"A company proposes a large-scale solar farm to power its operations and contribute excess energy to the grid. The case involves securing permits for land use, environmental impact assessments, and addressing concerns related to visual impact and wildlife preservation.\",\n    caseType: \"Solar Permit (DEMO)\",\n    status: cons!CMGT_REFID_STATUS_CASE_OPEN,\n    relatedCases: { \"Solar Expansion in Residential Areas\" }\n  ),\n  a!map(\n    title: \"Solar Expansion in Residential Areas\",\n    description: \"A residential community seeks permits to expand their solar panel installations. The case involves addressing zoning regulations, ensuring aesthetic compatibility, and addressing concerns from neighbors regarding the impact on property values.\",\n    caseType: \"Solar Permit (DEMO)\",\n    status: cons!CMGT_REFID_STATUS_CASE_IN_PROGRESS,\n    relatedCases: { \"Commercial Solar Farm Approval\" }\n  ),\n  /* Addition Permit */\n  a!map(\n    title: \"Urban Oasis Residence\",\n    description: \"A homeowner is applying for a residential permit to make enhancements to their property in an urban setting. The proposed changes involve landscaping, interior renovations, and the addition of a home office space. The project aims to create a comfortable and functional urban oasis without incorporating solar panels or a pool.\",\n    caseType: \"Addition Permit (DEMO)\",\n    status: cons!CMGT_REFID_STATUS_CASE_OPEN,\n    relatedCases: { \"Downtown Retreat Renovation\",  }\n  ),\n  a!map(\n    title: \"Downtown Retreat Renovation\",\n    description: \"A property owner is seeking approval for a residential permit to upgrade their downtown residence. The planned improvements include landscaping modifications, interior redesign, and the establishment of a dedicated home workspace. The objective is to transform the space into a tranquil and efficient downtown retreat, with no plans for solar panels or a swimming pool.\",\n    caseType: \"Addition Permit (DEMO)\",\n    status: cons!CMGT_REFID_STATUS_CASE_IN_PROGRESS,\n    relatedCases: { \"Urban Oasis Residence\",  }\n  ),\n  \n}"
    },
    "_a-0000ec34-7771-8000-9bb0-011c48011c48_156263": {
      "name": "CMGT_EXT_DATA_ConfirmationScreenLabels",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!dataSetDetails: rule!CMGT_EXT_UTIL_ReturnDatsetDetailsByDatasetName(datasetUuids: ri!dataSetUuids),\n  local!dataSetCaseType: rule!CMGT_EXT_DATA_CaseType(datasetUuids: ri!dataSetUuids),\n  local!properties: a!match(\n    value: ri!actionCode,\n    equals: cons!CMGT_EXT_PROCESS_ACTION_LOAD,\n    then: a!map(\n      title: #\"urn:appian:translation-string:v1:73b09516-a65f-49f2-9efd-4ec42db6f373\",\n      instruction: #\"urn:appian:translation-string:v1:b389d6bb-9813-4cca-82b3-677f1af010c1\",\n      buttonLabel: #\"urn:appian:translation-string:v1:776f1146-ae37-452d-80ba-42eda43720ac\",\n      metricRule: rule!CMGT_EXT_MTR_LoadDemoDataPack\n    ),\n    equals: cons!CMGT_EXT_PROCESS_ACTION_RESET,\n    then: a!map(\n      title: #\"urn:appian:translation-string:v1:cb0b5bcd-93bf-4735-a02a-dc64eec76730\",\n      instruction: #\"urn:appian:translation-string:v1:1364afe7-e828-4e61-8567-c447c623c491\",\n      buttonLabel: #\"urn:appian:translation-string:v1:63f45a36-821c-4b24-8d62-dfe736a958e7\",\n      metricRule: rule!CMGT_EXT_MTR_ResetDemoDataPack\n    ),\n    equals: cons!CMGT_EXT_PROCESS_ACTION_CLEAR,\n    then: a!map(\n      title: #\"urn:appian:translation-string:v1:5ece108b-56bb-446c-adf4-1c7c15eb5328\",\n      instruction: #\"urn:appian:translation-string:v1:beaf71f4-f9a7-445a-86b1-92c3abce9871\",\n      buttonLabel: #\"urn:appian:translation-string:v1:eb02e621-9200-494e-97b7-6388215b3f26\",\n      metricRule: rule!CMGT_EXT_MTR_ClearDemoDataPack\n    ),\n    equals: cons!CMGT_EXT_PROCESS_ACTION_RETRY_LOAD,\n    then: a!map(\n      title: #\"urn:appian:translation-string:v1:32649a0f-bf79-40d3-893f-3655e24acbab\",\n      instruction: #\"urn:appian:translation-string:v1:dc5de49f-228a-41fc-8fa8-4eb3f016454f\",\n      buttonLabel:#\"urn:appian:translation-string:v1:00b95cd7-9b99-4869-98ce-b40f9e655eb6\",\n      metricRule: rule!CMGT_EXT_MTR_ResetDemoDataPack\n    ),\n    default: {}\n  ),\n  local!categoryCount: count(\n    local!dataSetCaseType[recordType!CMGT_CFG_CaseType.name]\n  ),\n  local!caseTypeCount: count(\n    a!flatten(local!dataSetCaseType[recordType!CMGT_CFG_CaseType.subCaseTypes.name])\n  ),\n  local!configuredCasesCount: if(\n    rule!CMGT_UTIL_IsBlank(local!dataSetDetails.caseRule),\n    0,\n   count(a!flatten(#\"SYSTEM_SYSRULES_forEach\"(local!dataSetDetails, fv!item.caseRule())))\n  ),\n  local!taskCount: if(\n    rule!CMGT_UTIL_IsBlank(local!dataSetDetails.referenceTaskRule),\n    0,\n    count(a!flatten(#\"SYSTEM_SYSRULES_forEach\"(local!dataSetDetails, fv!item.referenceTaskRule())))\n  ),\n  local!taskBlockCount: if(\n    rule!CMGT_UTIL_IsBlank(local!dataSetDetails.taskBlockRule),\n    0,\n    count(a!flatten(#\"SYSTEM_SYSRULES_forEach\"(local!dataSetDetails, fv!item.taskBlockRule())))\n  ),\n  local!automationRuleCount: if(\n    rule!CMGT_UTIL_IsBlank(local!dataSetDetails.automationRule),\n    0,\n    count(a!flatten(#\"SYSTEM_SYSRULES_forEach\"(local!dataSetDetails, fv!item.automationRule()).caseTypeAutomationRules))\n  ),\n  local!doTestUsersExist: rule!CMGT_UTIL_IsBlank(\n    value: rule!CMGT_EXT_filterExistingUsers(\n      usernames: cons!CMGT_EXT_MAXIMUM_DATA_USERS\n    )\n  ),\n  local!userAccountCount: count(cons!CMGT_EXT_MAXIMUM_DATA_USERS),\n  local!contentDataMaps: \n    {\n      /*categories*/\n      a!map(\n        count: local!categoryCount,\n        label: if(\n          local!categoryCount = 1,\n          #\"urn:appian:translation-string:v1:f7aa6b62-4fa1-46db-9f42-f317fc763bc3\",\n          #\"urn:appian:translation-string:v1:296a8cce-fa50-4cc3-afc8-4c3bbbed90f2\"\n        ),\n        data:  joinarray(\n          local!dataSetCaseType[recordType!CMGT_CFG_CaseType.name],\n          \", \"\n        )\n      ),\n      /*caseTypes*/\n      a!map(\n        count: local!caseTypeCount,\n        label: if(\n          local!caseTypeCount = 1,\n          #\"urn:appian:translation-string:v1:fee97b26-e6f3-46bd-a889-a587eb93467d\",\n          #\"urn:appian:translation-string:v1:de07b6bb-ac90-416d-ad60-1092f6a3aa24\"\n        ),\n        data: joinarray(\n          local!dataSetCaseType[recordType!CMGT_CFG_CaseType.subCaseTypes.name],\n          \", \"\n        )\n      ),\n      /*automation rules*/\n      a!map(\n        count: local!automationRuleCount,\n        label: if(\n          local!automationRuleCount = 1,\n          #\"urn:appian:translation-string:v1:7d94a90c-cf4a-413c-9b5d-20a5179df122\",\n          #\"urn:appian:translation-string:v1:27bffe9c-2aae-4668-9e15-d6dd289a5caa\"\n        ),\n        data: \" \"\n      ),\n      /*configuredCases*/\n      a!map(\n        count: local!configuredCasesCount,\n        label: if(\n          local!configuredCasesCount = 1,\n          #\"urn:appian:translation-string:v1:6875dd61-3b5e-4bbc-9692-c94ac9a69bfc\",\n          #\"urn:appian:translation-string:v1:292eba95-18f5-4f56-83c1-a4270e499fde\"\n        ),\n        data: \"\"\n      ),\n      /*tasks*/\n      a!map(\n        count: local!taskCount,\n        label: if(\n          local!taskCount = 1,\n          #\"urn:appian:translation-string:v1:a92c5f1d-a9b1-43c8-8c7e-6de6e1405f5f\",\n          #\"urn:appian:translation-string:v1:c12047f3-89b3-4495-8949-33d3fcfd160c\"\n        ),\n        data: \"\"\n      ),\n      /*taskBlocks*/\n      a!map(\n        count: local!taskBlockCount,\n        label: if(\n          local!taskBlockCount = 1,\n          #\"urn:appian:translation-string:v1:4e9dff56-f40f-4287-b51a-9afb08f28d33\",\n          #\"urn:appian:translation-string:v1:f0a9fd0f-69b4-43af-9328-429b65e775ef\"\n        ),\n        data: \"\"\n      ),\n      if(\n        not(local!doTestUsersExist),\n        /*testUsers*/\n        a!map(\n          count: local!userAccountCount,\n          label: if(\n            local!userAccountCount = 1,\n            #\"urn:appian:translation-string:v1:162197f7-564f-4a45-b042-1d4581b3aec8\",\n            #\"urn:appian:translation-string:v1:bae8080b-8467-4c99-a60a-8408662b2326\"\n          ),\n          data: #\"urn:appian:translation-string:v1:a53c57cf-41d1-4483-9fb5-8589fa49787a\",\n          \n        ),\n        {}\n      )\n    },\n  #\"urn:appian:function:v1:a:update\"(\n    local!properties,\n    \"contents\",\n    local!contentDataMaps\n  )\n)"
    },
    "_a-0000ecbe-e702-8000-9cf8-011c48011c48_3255108": {
      "name": "CMGT_WFL_QR_GetConditionSet",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_CFG_ConditionSet,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  logicalExpressions: ri!additionalLogicalExpression,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_ConditionSet.conditionSetId,\n      operator: \"in\",\n      value: ri!cfgConditionSetId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_ConditionSet.conditionSetUuid,\n      operator: \"in\",\n      value: ri!cfgConditionSetUuid\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_ConditionSet.isActive,\n      operator: \"=\",\n      value: ri!isActive,\n      applyWhen: a!isNotNullOrEmpty(ri!isActive)\n    )\n  },\n  fields: {\n    ri!fields,\n    recordType!CMGT_CFG_ConditionSet.childConditionSet,\n    recordType!CMGT_CFG_ConditionSet.childConditionSet\n  },\n  relatedRecordData: { ri!relatedRecordData },\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "_a-0000ec34-7771-8000-9bb0-011c48011c48_101679": {
      "name": "CMGT_EXT_ENUM_DATASET",
      "type": "Expression Rule",
      "sail_code": "/*\nThe data rules for each type are mapped and retrieved with the dataset name where necessary.Here we are having the rule names without () and will be adding '()' in the rules where these rules are used\n    datasetName --> The constant containing the name of the dataset\n    caseRule-->The name of the rule containing the cases data for the dataset type\n    studioFieldsRule -->The name of the rule containing the studio fields data for the dataset type\n    referenceTaskRule --> The name of the rule containing the reference tasks data for the dataset type\n    taskBlockRule --> The name of the rule containing the task block rule for the dataset type\n    caseTypeWorkflowRule --> The name of the rule containing the case type workflow rule for the dataset type\n    documentRule --> The name of the rule containing the document rule for the dataset type\n    commentRule --> The name of the rule containing the comment rule for the dataset type\n    taskUpdateRule -->The name of the rule containing the task status update rule for the dataset type\n    deployments --> The respective dataset deployments needs to be passed in the below structure\n        a!map(\n            onInitialLoad: a!map(\n                              packageZip --> The package to be deployed only on initial deployment ,\n                              scripts--> The scriptsto be deployed only on initial deployment\n                              icfFile--> The ICF file to be deployed only on initial deployment\n                              ),\n            onEachLoad: a!map(\n                              packageZip --> The package to be deployed on each load except the initial load ,\n                              scripts--> The scripts to be deployed on each load except the initial load \n                              icfFile--> The ICF file to be deployed on each load except the initial load \n                              ),\n    )              \n-----------------------------------------------------------------------------------------------------------------------*/\n{\n  a!map(\n    datasetName: cons!CMGT_EXT_DATASET_RESIDENTIAL_PERMIT,\n    datasetUuid: cons!CMGT_EXT_TXT_GENERATED_CASE_CATEGORY_UUIDS[1],\n    caseRule: rule!CMGT_EXT_DATA_ResidentialPermit_Case,\n    studioFieldsRule: rule!CMGT_EXT_DATA_ResidentialPermit_CaseStudioFields,\n    referenceTaskRule: rule!CMGT_EXT_DATA_ResidentialPermit_ReferenceTasks,\n    taskBlockRule: rule!CMGT_EXT_DATA_ResidentialPermit_TaskBlocks,\n    caseTypeWorkflowRule: rule!CMGT_EXT_DATA_ResidentialPermit_WorkflowTasks,\n    documentRule: rule!CMGT_EXT_DATA_ResidentialPermit_Documents,\n    commentRule: rule!CMGT_EXT_DATA_ResidentialPermit_Comments,\n    taskUpdateRule: rule!CMGT_EXT_DATA_ResidentialPermit_Task_StatusUpdate,\n    automationRule: rule!CMGT_EXT_DATA_ResidentialPermit_AutomationRules,\n    emailTemplateRule: rule!CMGT_EXT_DATA_ResidentialPermit_EmailTemplates\n  ),\n  a!map(\n    datasetName: cons!CMGT_EXT_DATASET_FRAUDULENT_TRANSACTIONS,\n    datasetUuid: cons!CMGT_EXT_TXT_GENERATED_CASE_CATEGORY_UUIDS[2],\n    caseRule: rule!CMGT_EXT_DATA_FraudulentTransactions_Case,\n    studioFieldsRule: rule!CMGT_EXT_DATA_FraudulentTransactions_CaseStudioFields,\n    referenceTaskRule: rule!CMGT_EXT_DATA_FraudulentTransactions_ReferenceTasks,\n    taskBlockRule: rule!CMGT_EXT_DATA_FraudulentTransactions_TaskBlocks,\n    caseTypeWorkFlowRule: rule!CMGT_EXT_DATA_FraudulentTransactions_WorkflowTasks,\n    documentRule: rule!CMGT_EXT_DATA_FraudulentTransactions_Documents,\n    commentRule: rule!CMGT_EXT_DATA_FraudulentTransactions_Comments,\n    taskUpdateRule: rule!CMGT_EXT_DATA_FraudulentTransactions_Task_StatusUpdate,\n    automationRule: rule!CMGT_EXT_DATA_FraudulentTransactions_AutomationRules,\n    emailTemplateRule: rule!CMGT_EXT_DATA_FraudulentTransactions_EmailTemplates\n  )\n}"
    },
    "_a-0000ec3d-b406-8000-9bb2-011c48011c48_330684": {
      "name": "CMGT_EXT_GetResetProcessCompletionPercentage",
      "type": "Expression Rule",
      "sail_code": "/*Percentage contribution by each process\nDrop studio tables - 10%\nFolder Deletion -10%\nCreate Users - 10%\nStudio Objects Deployment - 10%\nConfiguration process - 20%\nCase Creation - 30%\nRelated Cases process - 10%\n\n*/\na!localVariables(\n  /*Check the completion of process CMGT_EXT_GenerateDemoUsers*/\n  local!userCreationPMCompletionPercentage: if(\n    rule!CMGT_UTIL_IsNotBlank(\n      rule!CMGT_UTIL_Filter(\n        records: ri!completedProcess,\n        fieldValuePairs: {\n          a!map(\n            field: \"processModelId\",\n            value: tointeger(\n              cons!CMGT_EXT_PM_RESET_ERROR_TRACKING_PROCESS[9]\n            )\n          )\n        }\n      )\n    ),\n    10,\n    0\n  ),\n  /*number of studio objects PM complete*/\n  local!numOfStudioObjectPMComplete: length(\n    a!defaultValue(\n      rule!CMGT_UTIL_Filter(\n        records: ri!completedProcess,\n        fieldValuePairs: {\n          a!map(\n            field: \"processModelId\",\n            value: tointeger(\n              cons!CMGT_EXT_PM_RESET_ERROR_TRACKING_PROCESS[10]\n            )\n          )\n        }\n      ),\n      {}\n    )\n  ),\n  /*Check the completion of process CMGT_EXT_Deployment*/\n  local!studioObjectsPMCompletionPercentage: a!match(\n    value: local!numOfStudioObjectPMComplete,\n    equals: 1,\n    then: 10,\n    equals: 2,\n    then: 20,\n    default: 0\n  ),\n  /*Check the completion of process CMGT_EXT_DeleteCaseFolders*/\n  local!folderDeletionPMCompletionPercentage: if(\n    rule!CMGT_UTIL_IsNotBlank(\n      rule!CMGT_UTIL_Filter(\n        records: ri!completedProcess,\n        fieldValuePairs: {\n          a!map(\n            field: \"processModelId\",\n            value: tointeger(\n              cons!CMGT_EXT_PM_RESET_ERROR_TRACKING_PROCESS[11]\n            )\n          )\n        }\n      )\n    ),\n    10,\n    0\n  ),\n  /*Check the completion of process CMGT_EXT_Write_Configuration_Data*/\n  local!configurationPMCompletionPercentage: if(\n    rule!CMGT_UTIL_IsNotBlank(\n      rule!CMGT_UTIL_Filter(\n        records: ri!completedProcess,\n        fieldValuePairs: {\n          a!map(\n            field: \"processModelId\",\n            value: tointeger(\n              cons!CMGT_EXT_PM_RESET_ERROR_TRACKING_PROCESS[1]\n            )\n          )\n        }\n      )\n    ),\n    20,\n    0\n  ),\n  /*Check the completion of process CMGT_EXT_Create_Case and CMGT_EXT_Task_Update.\n  It is sufficient to check the statsues of these 2 process where other PMs are called as the sync subprocess\n  in the above PMs*/\n  local!caseCreationProcess: rule!CMGT_UTIL_Filter(\n    records: ri!completedProcess,\n    fieldValuePairs: {\n      a!map(\n        field: \"processModelId\",\n        value: tointeger(\n          cons!CMGT_EXT_PM_RESET_ERROR_TRACKING_PROCESS[2]\n        )\n      ),\n      a!map(\n        field: \"processModelId\",\n        value: tointeger(\n          cons!CMGT_EXT_PM_RESET_ERROR_TRACKING_PROCESS[6]\n        )\n      )\n    },\n    matchingCriteria: \"ANY\"\n  ),\n  local!createdCasesIds: rule!CMGT_UTIL_RejectBlank(\n    array: #\"SYSTEM_SYSRULES_forEach\"(\n      items: rule!CMGT_UTIL_Distinct(\n        value: index(\n          local!caseCreationProcess,\n          \"caseId\",\n          null\n        )\n      ),\n      expression: if(\n        length(\n          rule!CMGT_UTIL_Filter(\n            records: local!caseCreationProcess,\n            field: \"caseId\",\n            value: fv!item\n          )\n        ) = 2,\n        /*Since we have only 2 process related to case creation*/\n        fv!item,\n        null\n      )\n    )\n  ),\n  /*Here we are taking the percentage of no of cases completed for 100% then we\n  are converting the value to 30%*/\n  local!caseCreationPMCompletionPercentage: (\n    (\n      (\n        length(local!createdCasesIds) / length(\n          a!match(\n            value: ri!datasetUuids,\n            equals: cons!CMGT_EXT_TXT_GENERATED_CASE_CATEGORY_UUIDS[2],\n            then: rule!CMGT_EXT_DATA_FraudulentTransactions_Case(),\n            equals:cons!CMGT_EXT_TXT_GENERATED_CASE_CATEGORY_UUIDS[1],\n            then: rule!CMGT_EXT_DATA_ResidentialPermit_Case(),\n            default: a!flatten(\n              {\n                rule!CMGT_EXT_DATA_FraudulentTransactions_Case(),\n                rule!CMGT_EXT_DATA_ResidentialPermit_Case()\n              }\n            )\n          )\n        )\n      ) * 100\n    ) * 30\n  ) / 100,\n  /*Check the completion of process CMGT_EXT_RelatedCaseMap_Create */\n  local!relatedCasesPMCompletionPercentage: if(\n    rule!CMGT_UTIL_IsNotBlank(\n      rule!CMGT_UTIL_Filter(\n        records: ri!completedProcess,\n        fieldValuePairs: {\n          a!map(\n            field: \"processModelId\",\n            value: tointeger(\n              cons!CMGT_EXT_PM_RESET_ERROR_TRACKING_PROCESS[4]\n            )\n          )\n        }\n      )\n    ),\n    10,\n    0\n  ),\n  local!completionPercentage: sum(\n    local!userCreationPMCompletionPercentage,\n    local!studioObjectsPMCompletionPercentage,\n    local!folderDeletionPMCompletionPercentage,\n    local!configurationPMCompletionPercentage,\n    local!caseCreationPMCompletionPercentage,\n    local!relatedCasesPMCompletionPercentage\n  ),\n  local!completionPercentage\n)"
    },
    "_a-0000ec22-03d4-8000-9bac-011c48011c48_50553": {
      "name": "CMGT_EXT_QueryToClearData",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!caseIds: rule!CMGT_QR_GetCase(\n    additionalFilters: #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Case.caseTypeUuid,\n      operator: \"in\",\n      value: ri!identifiersOfDataToBeDeleted.caseTypeIds\n    )\n  )[recordType!CMGT_Case.caseId],\n  local!taskBlockTasks: rule!CMGT_WFL_QR_GetTaskBlockTask(\n    additionalLogicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n      operator: \"OR\",\n      filters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_WFL_CFG_TaskBlockTask.referenceTaskId,\n          operator: \"in\",\n          value: ri!identifiersOfDataToBeDeleted.referenceTaskIds,\n          applyWhen: a!isNotNullOrEmpty(\n            ri!identifiersOfDataToBeDeleted.referenceTaskIds\n          )\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockId,\n          operator: \"in\",\n          value: ri!identifiersOfDataToBeDeleted.taskBlockIds,\n          applyWhen: a!isNotNullOrEmpty(\n            ri!identifiersOfDataToBeDeleted.taskBlockIds\n          )\n        )\n      }\n    ),\n    executeWhen: true\n  ),\n  local!taskBlockTasksUUIDs: #\"SYSTEM_SYSRULES_forEach\"(\n    local!taskBlockTasks[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskUuid],\n    concat(\"'\", fv!item, \"'\")\n  ),\n  local!caseTypeWorkflowTasks: rule!CMGT_WFL_QR_GetCaseTypeWorkflowTask(\n    additionalLogicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n      operator: \"OR\",\n      filters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTaskId,\n          operator: \"in\",\n          value: ri!identifiersOfDataToBeDeleted.referenceTaskIds,\n          applyWhen: a!isNotNullOrEmpty(\n            ri!identifiersOfDataToBeDeleted.referenceTaskIds\n          )\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBlockId,\n          operator: \"in\",\n          value: ri!identifiersOfDataToBeDeleted.taskBlockIds,\n          applyWhen: a!isNotNullOrEmpty(\n            ri!identifiersOfDataToBeDeleted.taskBlockIds\n          )\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeUuid,\n          operator: \"in\",\n          value: ri!identifiersOfDataToBeDeleted.caseTypeIds,\n          applyWhen: a!isNotNullOrEmpty(\n            ri!identifiersOfDataToBeDeleted.caseTypeIds\n          )\n        ),\n        /*automations*/\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid,\n          operator: \"in\",\n          value: {\n            \"de4e975a-c68b-4598-a54e-c6502ad25f81\",\n            \"da4bbbbe-b8dc-4706-a4fd-2e6e9db98518\",\n            \"4df0f6e0-eec4-4a7e-a736-f7ba16d83c03\"\n          },\n        ),\n      }\n    ),\n    executeWhen: true\n  ),\n  local!caseTypeWorkFlowTasksUUIDs: #\"SYSTEM_SYSRULES_forEach\"(\n    local!caseTypeWorkflowTasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskUuid],\n    concat(\"'\", fv!item, \"'\")\n  ),\n  local!workflowAutomationConditions: rule!CMGT_WFL_QR_GetConditionSet(\n    additionalFilters: #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_CFG_ConditionSet.caseTypeWorkflowTaskId,\n      operator: \"in\",\n      value: local!caseTypeWorkflowTasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskId]\n    )\n  ),\n  local!tasks: rule!CMGT_QR_GetTask(caseId: local!caseIds, ),\n  local!taskInstanceUUIDs: #\"SYSTEM_SYSRULES_forEach\"(\n    local!tasks[recordType!CMGT_Task.taskInstanceUuid],\n    concat(\"'\", fv!item, \"'\")\n  ),\n  if(\n    a!isNotNullOrEmpty(ri!identifiersOfDataToBeDeleted),\n    concat(\n      /*WFL Tables*/\n      /*Reference Task*/\n      \"DELETE FROM  CMGT_WFL_CFG_TASK_RESPONSE_OPTION WHERE REFERENCE_TASK_ID IN (\" & a!defaultValue(\n        joinarray(\n          ri!identifiersOfDataToBeDeleted.referenceTaskIds,\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM  CMGT_WFL_CFG_REFERENCE_TASK WHERE REFERENCE_TASK_ID IN (\" & a!defaultValue(\n        joinarray(\n          ri!identifiersOfDataToBeDeleted.referenceTaskIds,\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      /*Task Block*/\n      \"DELETE FROM  CMGT_WFL_CFG_TASK_BLOCK_TASK_BRANCH WHERE AFTER_TASK_BLOCK_TASK_UUID IN (\" & a!defaultValue(\n        joinarray(local!taskBlockTasksUUIDs, \",\"),\n        \"null\"\n      ) & \")OR BEFORE_TASK_BLOCK_TASK_UUID IN (\" & a!defaultValue(\n        joinarray(local!taskBlockTasksUUIDs, \",\"),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM  CMGT_WFL_CFG_TASK_BLOCK_TASK_RESPONSE_OPTION WHERE TASK_BLOCK_TASK_ID IN (\" & a!defaultValue(\n        joinarray(\n          local!taskBlockTasks[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskId],\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM  CMGT_WFL_CFG_TASK_BLOCK_TASK WHERE TASK_BLOCK_TASK_ID IN (\" & a!defaultValue(\n        joinarray(\n          local!taskBlockTasks[recordType!CMGT_WFL_CFG_TaskBlockTask.taskBlockTaskId],\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM  CMGT_WFL_CFG_TASK_BLOCK WHERE TASK_BLOCK_ID IN (\" & a!defaultValue(\n        joinarray(\n          ri!identifiersOfDataToBeDeleted.taskBlockIds,\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      /*Reference Milestone*/\n      \"DELETE FROM  CMGT_WFL_CFG_REFERENCE_MILESTONE WHERE CASE_TYPE_UUID  IN (\" & a!defaultValue(\n        joinarray(\n          #\"SYSTEM_SYSRULES_forEach\"(\n            cons!CMGT_EXT_TXT_GENERATED_CASE_TYPE_UUIDS,\n            concat(\"'\", fv!item, \"'\")\n          ),\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      /*Case Type Workflow*/\n      \"DELETE FROM  CMGT_WFL_CFG_CASE_TYPE_WORKFLOW_TASK_BRANCH WHERE AFTER_CASE_TYPE_WORKFLOW_TASK_UUID IN (\" & a!defaultValue(\n        joinarray(local!caseTypeWorkFlowTasksUUIDs, \",\"),\n        \"null\"\n      ) & \")OR BEFORE_CASE_TYPE_WORKFLOW_TASK_UUID IN (\" & a!defaultValue(\n        joinarray(local!caseTypeWorkFlowTasksUUIDs, \",\"),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM  CMGT_WFL_CFG_CASE_TYPE_WORKFLOW_TASK_RESPONSE_OPTION WHERE CASE_TYPE_WORKFLOW_TASK_ID IN (\" & a!defaultValue(\n        joinarray(\n          local!caseTypeWorkflowTasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskId],\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM  CMGT_WFL_CFG_SEND_EMAIL_CASE_TYPE_WORKFLOW_TASK WHERE CASE_TYPE_WORKFLOW_TASK_ID IN (\" & a!defaultValue(\n        joinarray(\n          local!caseTypeWorkflowTasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskId],\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM  CMGT_WFL_CFG_TASK_ACTIONS WHERE CASE_TYPE_WORKFLOW_TASK_UUID IN (\" & a!defaultValue(\n        joinarray(local!caseTypeWorkFlowTasksUUIDs, \",\"),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM  CMGT_CFG_CONDITION WHERE CONDITION_ID IN (\" & a!defaultValue(\n        joinarray(\n          local!workflowAutomationConditions[recordType!CMGT_CFG_ConditionSet.childConditionSet.condition.conditionId],\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM  CMGT_CFG_CONDITION_SET WHERE CONDITION_SET_ID IN (\" & a!defaultValue(\n        joinarray(\n          a!flatten(\n            {\n              local!workflowAutomationConditions[recordType!CMGT_CFG_ConditionSet.conditionSetId],\n              local!workflowAutomationConditions[recordType!CMGT_CFG_ConditionSet.childConditionSet.conditionSetId],\n            }\n          ),\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM  CMGT_WFL_CFG_CASE_TYPE_WORKFLOW_TASK WHERE CASE_TYPE_WORKFLOW_TASK_ID IN (\" & a!defaultValue(\n        joinarray(\n          local!caseTypeWorkflowTasks[recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskId],\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      /*Base Tables*/\n      \"DELETE FROM  CMGT_CASE WHERE CASE_ID IN (\" & a!defaultValue(joinarray(local!caseIds, \",\"), \"null\") & \");\",\n      \"DELETE FROM  CMGT_CASE_ENTITY_MAP WHERE CASE_ID IN (\" & a!defaultValue(joinarray(local!caseIds, \",\"), \"null\") & \");\",\n      \"DELETE FROM  CMGT_CASE_TAG_MAP WHERE CASE_ID IN (\" & a!defaultValue(joinarray(local!caseIds, \",\"), \"null\") & \");\",\n      \"DELETE FROM  CMGT_DOCUMENT WHERE CASE_ID IN (\" & a!defaultValue(joinarray(local!caseIds, \",\"), \"null\") & \") OR TASK_ID IN (\" & a!defaultValue(\n        joinarray(\n          local!tasks[recordType!CMGT_Task.taskId],\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM  CMGT_COMMENT_DOCUMENT_MAP WHERE COMMENT_ID IN (SELECT COMMENT_ID FROM CMGT_COMMENT WHERE CASE_ID IN (\" & a!defaultValue(joinarray(local!caseIds, \",\"), \"null\") & \"));\",\n      \"DELETE FROM  CMGT_COMMENT_USER_TAG WHERE COMMENT_ID IN (SELECT COMMENT_ID FROM CMGT_COMMENT WHERE CASE_ID IN (\" & a!defaultValue(joinarray(local!caseIds, \",\"), \"null\") & \"));\",\n      \"DELETE FROM  CMGT_COMMENT WHERE CASE_ID IN (\" & a!defaultValue(joinarray(local!caseIds, \",\"), \"null\") & \");\",\n      \"DELETE FROM  CMGT_EVENT_HISTORY_CASE WHERE CASE_ID IN (\" & a!defaultValue(joinarray(local!caseIds, \",\"), \"null\") & \");\",\n      \"DELETE FROM  CMGT_EVENT_HISTORY_TASK WHERE TASK_ID IN (\" & a!defaultValue(\n        joinarray(\n          local!tasks[recordType!CMGT_Task.taskId],\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM  CMGT_MILESTONE WHERE CASE_ID IN (\" & a!defaultValue(joinarray(local!caseIds, \",\"), \"null\") & \");\",\n      \"DELETE FROM  CMGT_RELATED_CASE_MAP WHERE CASE_ID IN (\" & a!defaultValue(joinarray(local!caseIds, \",\"), \"null\") & \");\",\n      \"DELETE FROM  CMGT_ROLE WHERE CASE_ID IN (\" & a!defaultValue(joinarray(local!caseIds, \",\"), \"null\") & \") OR TASK_ID IN (\" & a!defaultValue(\n        joinarray(\n          local!tasks[recordType!CMGT_Task.taskId],\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM  CMGT_CASE_TAG_MAP WHERE TAG_ID IN (\" & a!defaultValue(\n        joinarray(\n          ri!identifiersOfDataToBeDeleted.tagIds,\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM  CMGT_TAG WHERE TAG_ID IN (\" & a!defaultValue(\n        joinarray(\n          ri!identifiersOfDataToBeDeleted.tagIds,\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM CMGT_TASK_ACTIONS WHERE TASK_INSTANCE_UUID IN (\" & a!defaultValue(\n        joinarray(local!taskInstanceUUIDs, \",\"),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM CMGT_SEND_EMAIL_TASK WHERE TASK_ID IN (\" & a!defaultValue(\n        joinarray(\n          local!tasks[recordType!CMGT_Task.taskId],\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM CMGT_CONDITION WHERE CONDITION_SET_UUID IN (\" & a!defaultValue(\n        joinarray(\n          #\"SYSTEM_SYSRULES_forEach\"(\n            a!flatten(\n              {\n                local!tasks[recordType!CMGT_Task.conditionSet.conditionSetUuid],\n                local!tasks[recordType!CMGT_Task.conditionSet.childConditionSet.conditionSetUuid]\n              }\n            ),\n            concat(\"'\", fv!item, \"'\")\n          ),\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM CMGT_CONDITION_SET WHERE CONDITION_SET_UUID IN (\" & a!defaultValue(\n        joinarray(\n          #\"SYSTEM_SYSRULES_forEach\"(\n            local!tasks[recordType!CMGT_Task.conditionSet.conditionSetUuid],\n            concat(\"'\", fv!item, \"'\")\n          ),\n          \",\"\n        ),\n        \"null\"\n      ) & \")OR PARENT_CONDITION_SET_UUID  IN (\" & a!defaultValue(\n        joinarray(\n          #\"SYSTEM_SYSRULES_forEach\"(\n            local!tasks[recordType!CMGT_Task.conditionSet.conditionSetUuid],\n            concat(\"'\", fv!item, \"'\")\n          ),\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM CMGT_TASK_RESPONSE_OPTION WHERE TASK_ID IN (\" & a!defaultValue(\n        joinarray(\n          local!tasks[recordType!CMGT_Task.taskId],\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM  CMGT_TASK_BRANCH WHERE BEFORE_TASK_INSTANCE_UUID IN (\" & a!defaultValue(\n        joinarray(local!taskInstanceUUIDs, \",\"),\n        \"null\"\n      ) & \")OR AFTER_TASK_INSTANCE_UUID  IN (\" & a!defaultValue(\n        joinarray(local!taskInstanceUUIDs, \",\"),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM  CMGT_TASK WHERE TASK_ID IN (\" & a!defaultValue(\n        joinarray(\n          local!tasks[recordType!CMGT_Task.taskId],\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM  CMGT_CFG_CASE_TYPE_METADATA WHERE CASE_TYPE_UUID IN (\" & a!defaultValue(\n        joinarray(\n          #\"SYSTEM_SYSRULES_forEach\"(\n            cons!CMGT_EXT_TXT_GENERATED_CASE_TYPE_UUIDS,\n            concat(\"'\", fv!item, \"'\")\n          ),\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      /*Studio Tables*/\n      \"DELETE FROM  CMGT_CB_CASE_LEVEL_DATA WHERE CASE_ID IN (\" & a!defaultValue(joinarray(local!caseIds, \",\"), \"null\") & \");\",\n      /*Automation Rules*/\n      \"DELETE FROM  CMGT_CFG_ASSIGNMENT_RULE WHERE TASK_ACTION_ID  IN (\" & a!defaultValue(\n        joinarray(\n          ri!identifiersOfDataToBeDeleted.automationTaskActionIds,\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM  CMGT_WFL_CFG_TASK_ACTIONS WHERE TASK_ACTION_ID  IN (\" & a!defaultValue(\n        joinarray(\n          ri!identifiersOfDataToBeDeleted.automationTaskActionIds,\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM  CMGT_CFG_CONDITION WHERE CONDITION_SET_ID  IN (\" & a!defaultValue(\n        joinarray(\n          ri!identifiersOfDataToBeDeleted.automationTaskConditionSetIds,\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM  CMGT_CFG_CONDITION_SET WHERE CONDITION_SET_ID  IN (\" & a!defaultValue(\n        joinarray(\n          ri!identifiersOfDataToBeDeleted.automationTaskConditionSetIds,\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM  CMGT_WFL_CFG_CASE_TYPE_WORKFLOW_TASK WHERE CASE_TYPE_WORKFLOW_TASK_ID  IN (\" & a!defaultValue(\n        joinarray(\n          ri!identifiersOfDataToBeDeleted.automationTaskIds,\n          \",\"\n        ),\n        \"null\"\n      ) & \");\",\n      \"DELETE FROM  CMGT_WFL_CFG_EMAIL_TEMPLATE WHERE EMAIL_TEMPLATE_ID  IN (\" & a!defaultValue(\n        joinarray(\n          ri!identifiersOfDataToBeDeleted.emailTemplateIds,\n          \",\"\n        ),\n        \"null\"\n      ) & \");\"\n    ),\n    {\n      /*Dummy script added for default null case*/\n      \"DO 1;\"\n    }\n  )\n)"
    },
    "_a-0000e9ca-3659-8000-9bb8-011c48011c48_145917": {
      "name": "CMGT_UTIL_Distinct",
      "type": "Expression Rule",
      "sail_code": "cast(\n  runtimetypeof(ri!value),\n  union(\n    a!flatten(ri!value),\n    a!flatten(ri!value)\n  )\n)"
    },
    "_a-0000ec3d-b406-8000-9bb2-011c48011c48_217959": {
      "name": "CMGT_EXT_DATA_FraudulentTransactions_Case",
      "type": "Expression Rule",
      "sail_code": "/*Execute all the testcases before saving*/\n/*The below is the structure definition of the map used in this rule*/\n/*a!map(\ntitle:<Defines title of the case>,\ndescription:<Defines description of the case>,\ncaseType:<Defines the casetype of the case and the value can be either \"Credit Card Disputes\" or \"Automated Clearing House\">,\nstatus:<The value can be either cons!CMGT_REFID_STATUS_CASE_OPEN or cons!CMGT_REFID_STATUS_CASE_IN_PROGRESS>\nrelatedCases:<Related Case title>\n\nmapping the other values here so that the case looks same everytime it is created\n */\n{\n  /*Fraudulent Transactions*/\n  /*Credit Card Disputes*/\n  a!map(\n    title: \"Incorrect Amount Charged\",\n    description: \"Customer reported an incorrect charge on their credit card statement for a restaurant bill. Submitted bill and transaction details. Investigation confirmed error. Account adjusted.\",\n    caseType: \"Credit Card Disputes (DEMO)\",\n    status: cons!CMGT_REFID_STATUS_CASE_OPEN,\n    relatedCases: { \"Duplicate Transaction\" }\n  ),\n  a!map(\n    title: \"Duplicate Transaction\",\n    description: \"Customer reported a duplicate charge for a single purchase on their credit card. Provided receipt and statement. Investigation confirmed error with the store. Account credited.\",\n    caseType: \"Credit Card Disputes (DEMO)\",\n    status: cons!CMGT_REFID_STATUS_CASE_IN_PROGRESS,\n    relatedCases: { \"Incorrect Amount Charged\" }\n  ),\n  /* Automated Clearing House*/\n  a!map(\n    title: \"ACH Payment Not Received\",\n    description: \"Customer reported a missing ACH payment that was not credited to the recipient's account. Provided payment details and confirmation. Investigation traced and confirmed payment failure. Issue resolved.\",\n    caseType: \"Automated Clearing House (DEMO)\",\n    status: cons!CMGT_REFID_STATUS_CASE_OPEN,\n    relatedCases: { \"ACH Transaction Error\" }\n  ),\n  a!map(\n    title: \"ACH Transaction Error\",\n    description: \"Customer reported an error in an ACH transaction. Provided transaction details and error description. Investigation confirmed the error. Transaction corrected and funds adjusted.\",\n    caseType: \"Automated Clearing House (DEMO)\",\n    status: cons!CMGT_REFID_STATUS_CASE_IN_PROGRESS,\n    relatedCases: { \"ACH Payment Not Received\" }\n  ),\n  \n}"
    },
    "_a-0000e9f4-1323-8000-9bd3-011c48011c48_267840": {
      "name": "CMGT_UTIL_LoadBrandingMap",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!branding: getbrandingconfig(\n    cons!CMGT_DOC_DEFAULT_BRANDING_CONFIG,\n    true\n  ),\n  local!output: reduce(\n    #\"urn:appian:function:v1:a:update\"(_, _, _),\n    a!map(),\n    merge(\n      {\n        local!branding.defaultBranding.key,\n        local!branding.customBranding.key\n      },\n      {\n        local!branding.defaultBranding.value,\n        local!branding.customBranding.value\n      }\n    )\n  ),\n  local!output\n)"
    },
    "_a-0000e9d3-70bf-8000-9bbd-011c48011c48_180481": {
      "name": "CMGT_UTIL_RejectBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n  runtimetypeof(a!flatten(ri!array)),\n  reject(a!isNullOrEmpty(_), a!flatten(ri!array))\n)"
    },
    "_a-0000eb60-4595-8000-9c6e-011c48011c48_1742745": {
      "name": "CMGT_WFL_QR_GetCaseTypeWorkflowTask",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask,\n  executeWhen: ri!executeWhen,\n  returnType: ri!returnType,\n  sort: ri!sort,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBlockId,\n      operator: \"in\",\n      value: ri!taskBlockId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.milestoneId,\n      operator: \"=\",\n      value: ri!referenceMilestoneId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeUuid,\n      operator: \"=\",\n      value: ri!caseTypeUuid\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.isActive,\n      operator: \"in\",\n      value: {\n        true,\n        if(\n          a!defaultValue(ri!includeInactive, false),\n          false,\n          {}\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTaskId,\n      operator: \"=\",\n      value: ri!referenceTaskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskId,\n      operator: \"=\",\n      value: ri!caseTypeWorkflowTaskId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskIntentionCode,\n      operator: \"in\",\n      value: a!defaultValue(ri!taskIntentionCodes,{cons!CMGT_WFL_CASE_TYPE_TASK_INTENTION_CODE_WORKFLOW})\n    ),\n  },\n  fields: {\n    ri!fields,\n    if(\n      ri!includeMilestones,\n      {\n        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceMilestone\n      },\n      {}\n    ),\n    if(\n      ri!includeCaseType,\n      {\n        recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseType\n      },\n      {}\n    ),\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTask,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.referenceTask,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.taskBehaviorType,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskResponseOptions,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.beforeCaseTypeWorkflowTaskBranches,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet,\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.conditionSet,\n    #\"urn:appian:record-relationship:v1:d6ebee27-6e86-47e3-a9b8-71fdd0348854/ef9cc417-d6ce-4fee-bd86-fa71ab64f8a1/eb49dd52-e1ed-4e4c-a3ab-903f4eadb20c/aa71274b-fe14-4420-b400-573007a0049d\",\n    recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.automationTaskAction,\n  },\n  relatedRecordData: {\n    ri!relatedRecordData,\n    #\"SYSTEM_SYSRULES_relatedRecordData\"(\n      relationship: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTask.caseTypeWorkflowTaskResponseOptions,\n      sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!CMGT_WFL_CFG_CaseTypeWorkflowTaskResponseOption.sortOrder,\n        ascending: true\n      )\n    )\n  },\n  pagingInfo: ri!pagingInfo,\n  triggerRefresh: ri!triggerRefresh,\n  logicalExpressions: ri!additionalLogicalExpression,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    },
    "af326a29-a1c8-4399-a28d-996f85819d9e": {
      "name": "CMGT_UTIL_Filter",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!fieldValuePairs: a!defaultValue(\n    ri!fieldValuePairs,\n    apply(\n      rule!CMGT_UTIL_Filter_CreateFieldValuePair(\n        field: _,\n        value: ri!value,\n        allFields: a!flatten(ri!field)\n      ),\n      a!flatten(ri!field)\n    )\n  ),\n  local!matchingCriteria: a!defaultValue(\n    value: ri!matchingCriteria,\n    default: \"ALL\"\n  ),\n  local!matchType: a!defaultValue(value: ri!matchType, default: \"EXACT\"),\n  local!matchIndices: if(\n    a!isNullOrEmpty(a!flatten(ri!records)),\n    tointeger({}),\n    reduce(\n      rule!CMGT_UTIL_Filter_Reducer(\n        matchingCriteria: local!matchingCriteria,\n        previousIndices: _,\n        records: a!flatten(ri!records),\n        fieldValuePair: _,\n        matchType: local!matchType\n      ),\n      a!match(\n        value: local!matchingCriteria,\n        equals: \"ALL\",\n        then: enumerate(count(a!flatten(ri!records))) + 1,\n        equals: \"ANY\",\n        then: {},\n        default: fn!error(\n          \"Invalid matchingCriteria, must be one of: ALL, ANY\"\n        )\n      ),\n      local!fieldValuePairs\n    )\n  ),\n  local!rejectIndices: difference(\n    if(\n      a!isNullOrEmpty(ri!records),\n      tointeger({}),\n      enumerate(count(a!flatten(ri!records))) + 1\n    ),\n    local!matchIndices\n  ),\n  local!matches: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!matchIndices, {})\n  ),\n  local!rejects: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!rejectIndices, {})\n  ),\n  local!output: a!match(\n    value: a!defaultValue(ri!filterType, \"FILTER\"),\n    equals: \"FILTER\",\n    then: local!matches,\n    equals: \"REJECT\",\n    then: local!rejects,\n    equals: \"FIRST_MATCH\",\n    then: index(local!matches, 1, null),\n    equals: \"FIRST_REJECT\",\n    then: index(local!rejects, 1, null),\n    equals: \"MATCH_COUNT\",\n    then: count(local!matchIndices),\n    equals: \"REJECT_COUNT\",\n    then: count(local!rejectIndices),\n    equals: \"MATCH_INDICES\",\n    then: local!matchIndices,\n    equals: \"REJECT_INDICES\",\n    then: local!rejectIndices,\n    equals: \"FULL_RESULT\",\n    then: a!map(\n      matches: local!matches,\n      rejects: local!rejects,\n      firstMatch: index(local!matches, 1, null),\n      firstReject: index(local!rejects, 1, null),\n      matchCount: count(local!matchIndices),\n      rejectCount: count(local!rejectIndices),\n      matchIndices: local!matchIndices,\n      rejectIndices: local!rejectIndices\n    ),\n    default: fn!error(\n      \"Invalid filterType, must be one of: FILTER, REJECT, FIRST_MATCH, FIRST_REJECT, MATCH_COUNT, REJECT_COUNT, MATCH_INDICES, REJECT_INDICES, FULL_RESULT\"\n    )\n  ),\n  local!output\n)"
    },
    "_a-0000ec34-7771-8000-9bb0-011c48011c48_132003": {
      "name": "CMGT_EXT_UTIL_ReturnDatsetDetailsByDatasetName",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  rule!CMGT_UTIL_Filter(\n    records: rule!CMGT_EXT_ENUM_DATASET(),\n    field: \"datasetUuid\",\n    value: ri!datasetUuids\n  ),\n  cast(typeof(a!map()), fv!item)\n)"
    },
    "_a-0000e98b-cfe0-8000-9ba5-011c48011c48_19509": {
      "name": "CMGT_QR_GetCase",
      "type": "Expression Rule",
      "sail_code": "rule!CMGT_UTIL_QueryRecord(\n  recordType: recordType!CMGT_Case,\n  returnType: ri!returnType,\n  triggerRefresh: ri!triggerRefresh,\n  executeWhen: ri!executeWhen,\n  filters: {\n    ri!additionalFilters,\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Case.caseId,\n      operator: \"in\",\n      value: ri!caseId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Case.dueOn,\n      operator: \">\",\n      value: rule!CMGT_UTIL_ConvertDatetoDatetime(\n        date: ri!dueOnDate - 1,\n        useSystemTimeZone: a!defaultValue(ri!useSystemTimeZoneForDueOn,true)\n      )\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!CMGT_Case.dueOn,\n      operator: \"<=\",\n      value: rule!CMGT_UTIL_ConvertDatetoDatetime(\n        date: ri!dueOnDate,\n        useSystemTimeZone: a!defaultValue(ri!useSystemTimeZoneForDueOn,true)\n      )\n    )\n  },\n  logicalExpressions: ri!additionalLogicalExpression,\n  fields: {\n    ri!fields,\n    if(\n      ri!excludeRelatedRecords,\n      {},\n      {\n        recordType!CMGT_Case.status,\n        recordType!CMGT_Case.priority,\n        recordType!CMGT_Case.caseType\n      }\n    ),\n    if(\n      ri!includeAssignees,\n      {\n        recordType!CMGT_Case.roles,\n        recordType!CMGT_Case.roles\n      },\n      {}\n    ),\n    if(\n      ri!includePrimaryContact,\n      {\n        recordType!CMGT_Case.caseEntityMap,\n        #\"urn:appian:record-relationship:v1:d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f/9455b8a8-142d-4976-8b8d-83403eedad6a/043457e2-ee0b-4c7a-8210-8671bbe73128/2a2b64c2-0530-4e0a-a173-d26a396e3cc9\"\n      },\n      {}\n    )\n  },\n  relatedRecordData: {\n    ri!relatedRecordData,\n    if(\n      ri!includePrimaryContact,\n      #\"SYSTEM_SYSRULES_relatedRecordData\"(\n        relationship: recordType!CMGT_Case.caseEntityMap,\n        limit: 1,\n        filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_CaseEntityMap.entity.entityTypeId,\n          operator: \"=\",\n          value: cons!CMGT_REFID_ENTITY_TYPE_CONTACT\n        )\n      ),\n      {}\n    ),\n    if(\n      ri!includeAssignees,\n      #\"SYSTEM_SYSRULES_relatedRecordData\"(\n        relationship: recordType!CMGT_Case.roles,\n        filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!CMGT_Role.roleTypeId,\n          operator: \"in\",\n          value: {\n            cons!CMGT_REFID_ROLE_TYPE_USER_ASSIGNEE,\n            cons!CMGT_REFID_ROLE_TYPE_GROUP_ASSIGNEE\n          }\n        )\n      ),\n      {}\n    )\n  },\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  groupByFields: ri!groupByFields,\n  searchTerm: ri!searchTerm,\n  searchFields: ri!searchFields\n)"
    }
  }
}
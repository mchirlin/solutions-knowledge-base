{
  "_metadata": {
    "bundle_type": "process",
    "root_name": "CMGT_SUB_DocumentStorage",
    "parent_name": null,
    "total_objects": 12
  },
  "entry_point": {
    "complexity_score": 8.0,
    "total_nodes": 5,
    "start_form": null
  },
  "flow": {
    "process_model": {
      "name": "CMGT_SUB_DocumentStorage",
      "complexity_score": 8.0,
      "total_nodes": 5,
      "nodes": [
        {
          "name": "Start Node",
          "type": "START_EVENT",
          "next": [
            "Documents to move?"
          ]
        },
        {
          "name": "End Node",
          "type": "END_EVENT"
        },
        {
          "name": "Documents to move?",
          "type": "XOR_GATEWAY",
          "next": [
            "End Node",
            "Determine Default Document Folder"
          ]
        },
        {
          "name": "Determine Default Document Folder",
          "type": "SCRIPT_TASK",
          "next": [
            "Move Documents"
          ]
        },
        {
          "name": "Move Documents",
          "type": "Move Document",
          "next": [
            "End Node"
          ]
        }
      ]
    }
  },
  "objects": [
    {
      "uuid": "_a-0000e98b-cfe0-8000-9ba5-011c48011c48_18066",
      "name": "CMGT_FLD_TEMPORARY_DOCUMENTS",
      "type": "Constant",
      "description": "Value: CMGT Temporary Documents folder",
      "value": "_a-0000e98b-cfe0-8000-9ba5-011c48011c48_18060",
      "value_type": "http://www.appian.com/ae/types/2009:CollaborationFolder",
      "calls": [],
      "called_by": [
        "CMGT_Document_DetermineFolderForDocument"
      ]
    },
    {
      "uuid": "_a-0000e9e5-e5dd-8000-9bc7-011c48011c48_232739",
      "name": "CMGT_TXT_CASE_SUB_FOLDERS",
      "type": "Constant",
      "description": "Returns the list of sub-folders for a case. 1 - PRIVATE, 2 - PUBLIC.",
      "value": "\n                ",
      "value_type": "http://www.appian.com/ae/types/2009:Text?list",
      "calls": [],
      "called_by": [
        "CMGT_Document_DetermineFolderForDocument"
      ]
    },
    {
      "uuid": "_a-0000e9e5-e5dd-8000-9bc7-011c48011c48_232774",
      "name": "CMGT_Document_DetermineFolderForDocument",
      "type": "Expression Rule",
      "description": "Returns the folder for a document",
      "parameters": [],
      "calls": [
        "CMGT_Document",
        "CMGT_FLD_TEMPORARY_DOCUMENTS",
        "CMGT_TXT_CASE_SUB_FOLDERS",
        "CMGT_UTIL_GetSubFolderByType",
        "CMGT_UTIL_IsOnPortal"
      ],
      "called_by": [
        "CMGT_SUB_DocumentStorage"
      ]
    },
    {
      "uuid": "_a-0000e98b-cfe0-8000-9ba5-011c48011c48_19509",
      "name": "CMGT_QR_GetCase",
      "type": "Expression Rule",
      "description": "Queries the CMGT_Case record",
      "parameters": [],
      "calls": [
        "CMGT_Case"
      ],
      "called_by": [
        "CMGT_Case",
        "CMGT_SUB_DocumentStorage"
      ]
    },
    {
      "uuid": "_a-0000e9ca-3659-8000-9bb8-011c48011c48_145917",
      "name": "CMGT_UTIL_Distinct",
      "type": "Expression Rule",
      "description": "Returns the distinct values from a list",
      "parameters": [],
      "calls": [],
      "called_by": [
        "CMGT_SUB_DocumentStorage"
      ]
    },
    {
      "uuid": "af326a29-a1c8-4399-a28d-996f85819d9e",
      "name": "CMGT_UTIL_Filter",
      "type": "Expression Rule",
      "description": "Filters, rejects, or returns matching indices of a list of records by field-value filter combinations.",
      "parameters": [],
      "calls": [
        "CMGT_Case"
      ],
      "called_by": [
        "CMGT_SUB_DocumentStorage"
      ]
    },
    {
      "uuid": "_a-0000e9e5-e5dd-8000-9bc7-011c48011c48_232566",
      "name": "CMGT_UTIL_GetSubFolderByType",
      "type": "Expression Rule",
      "description": "Returns the sub-folder by its type, based on naming conventions. Searches for any child folder of the parentFolderId that contains the input folderType, and returns the parentFolderId if no child is found.",
      "parameters": [],
      "calls": [],
      "called_by": [
        "CMGT_Document_DetermineFolderForDocument"
      ]
    },
    {
      "uuid": "_a-0000e990-c462-8000-9ba7-011c48011c48_25890",
      "name": "CMGT_UTIL_IsBlank",
      "type": "Expression Rule",
      "description": "Evaluates if the provided value is empty/blank. Returns True or False.",
      "parameters": [],
      "calls": [],
      "called_by": [
        "CMGT_SUB_DocumentStorage"
      ]
    },
    {
      "uuid": "_a-0000e9ec-2a80-8000-9bc9-011c48011c48_246572",
      "name": "CMGT_UTIL_IsOnPortal",
      "type": "Expression Rule",
      "description": "Returns true if loggedInUser() = \"Anonymous\" meaning the context is on the portal",
      "parameters": [],
      "calls": [],
      "called_by": [
        "CMGT_Document_DetermineFolderForDocument"
      ]
    },
    {
      "uuid": "000ceab4-6919-8000-077c-7f0000014e7a",
      "name": "CMGT_SUB_DocumentStorage",
      "type": "Process Model",
      "description": "Process that every single document is run through on upload for storage logic (i.e. what Appian folder, what downstream system, etc.)",
      "calls": [
        "CMGT_Case",
        "CMGT_Document",
        "CMGT_Document_DetermineFolderForDocument",
        "CMGT_QR_GetCase",
        "CMGT_UTIL_Distinct",
        "CMGT_UTIL_Filter",
        "CMGT_UTIL_IsBlank"
      ],
      "called_by": []
    },
    {
      "uuid": "d81cdd0e-c54d-4b8e-beec-b7ae37fefe7f",
      "name": "CMGT_Case",
      "type": "Record Type",
      "description": "MODIFIED FOR 2.0 KB , EML MODULE RELEASE , SMART SEARCH - Cases.",
      "actions": [
        "createCase",
        "bulkUpdateCases",
        "updateCase",
        "updateProperty",
        "addEntityToCase",
        "updateRelatedCases",
        "manageAssignee",
        "manageWatcher",
        "addTags",
        "uploadDocuments",
        "addComment",
        "modifyWorkflow",
        "updateContact",
        "composeEmail"
      ],
      "views": [
        "#\"urn:appian:translation-string:v1:a3a3c015-e0c6-4bd2-b78a-aaf392495bdd\"",
        "#\"urn:appian:translation-string:v1:2f4f2cde-9986-47cb-ac2a-1ecfeeddc693\"",
        "#\"urn:appian:translation-string:v1:455edb96-9d9a-4038-b43e-d10aa9a3a811\"",
        "#\"urn:appian:translation-string:v1:6f32eac5-d5de-4502-9a1f-4d3184aac8d2\"",
        "#\"urn:appian:translation-string:v1:86481b57-9608-4720-9198-578bfd8b8385\"",
        "#\"urn:appian:translation-string:v1:297cf25d-abb6-4d91-b9ed-ab0139f56398\"",
        "List View"
      ],
      "calls": [
        "CMGT_Document",
        "CMGT_QR_GetCase"
      ],
      "called_by": [
        "CMGT_Document",
        "CMGT_QR_GetCase",
        "CMGT_SUB_DocumentStorage",
        "CMGT_UTIL_Filter"
      ]
    },
    {
      "uuid": "4fcbf8d2-f6f9-4a38-bbf1-d2722635282a",
      "name": "CMGT_Document",
      "type": "Record Type",
      "description": "Documents",
      "actions": [
        "deleteDocument"
      ],
      "views": [
        "#\"SYSTEM_SYSRULES_rtd_getDefaultSummaryViewName\"()",
        "List View"
      ],
      "calls": [
        "CMGT_Case"
      ],
      "called_by": [
        "CMGT_Case",
        "CMGT_Document_DetermineFolderForDocument",
        "CMGT_SUB_DocumentStorage"
      ]
    }
  ]
}
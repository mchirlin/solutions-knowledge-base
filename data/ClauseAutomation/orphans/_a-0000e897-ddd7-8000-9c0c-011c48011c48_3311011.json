{
  "uuid": "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3311011",
  "name": "DEPRECATED_AS_GCM_CRD_ruleCondition",
  "type": "Interface",
  "description": "To show the added rule conditions in a grid structure using cardlayout",
  "sail_code": "a!localVariables(\n  local!dropdownConfig: rule!AS_GCM_BL_ruleConditionDropdownConfig(\n    refData: ri!refData,\n    bundle: ri!bundle,\n    isGrid: true()\n  ),\n  #\"SYSTEM_SYSRULES_cardLayout\"(\n    contents: {\n      #\"SYSTEM_SYSRULES_columnsLayout\"(\n        columns: {\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                labelPosition: \"COLLAPSED\",\n                value: {\n                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                    text: \"Condition\",\n                    style: \"STRONG\"\n                  )\n                }\n              )\n            },\n            width: \"NARROW\"\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                labelPosition: \"COLLAPSED\",\n                value: {\n                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                    text: \"Clause Data\",\n                    style: \"STRONG\"\n                  )\n                },\n                marginBelow: \"STANDARD\"\n              )\n            },\n            width: \"MEDIUM\"\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                labelPosition: \"COLLAPSED\",\n                value: {\n                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                    text: \"\",\n                    style: \"STRONG\"\n                  )\n                },\n                marginBelow: \"STANDARD\"\n              )\n            },\n            width: \"NARROW\"\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                labelPosition: \"COLLAPSED\",\n                value: {\n                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                    text: \"Value\",\n                    style: \"STRONG\"\n                  )\n                },\n                marginBelow: \"STANDARD\"\n              )\n            },\n            width: \"WIDE\"\n          ),\n          #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}, width: \"NARROW\")\n        }\n      ),\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!ruleConditions,\n        expression: a!localVariables(\n          local!ruleConfigMap: rule!AS_GCM_BL_filterClauseDataRuleConfigMap(\n            clauseDataId: fv!item[recordType!AS GCM QNM T Rule Condition.refClauseDataId],\n            clauseDataRuleConfigMap: ri!ruleConfigMaps\n          ),\n          local!clauseDataLabel: joinarray(\n            {\n              rule!AS_CO_UT_indexWhere(\n                value: fv!item[recordType!AS GCM QNM T Rule Condition.refClauseDataId],\n                initialArray: local!dropdownConfig.clauseData.choiceValues,\n                finalArray: local!dropdownConfig.clauseData.choiceLabels\n              ),\n              /* If clauseDataId = cons!AS_GCM_REF_ID_QUESTIONNAIRE_QUESTION_DATA */\n              fv!item[recordType!AS GCM QNM T Rule Condition.question.label]\n            },\n            \" - \"\n          ),\n          {\n            #\"SYSTEM_SYSRULES_columnsLayout\"(\n              columns: {\n                #\"SYSTEM_SYSRULES_columnLayout\"(\n                  contents: a!match(\n                    /* Find the proper index from rule conditions where active conditions are present */\n                    value: count(\n                      where(\n                        index(\n                          ri!ruleConditions[recordType!AS GCM QNM T Rule Condition.isActive],\n                          enumerate(fv!index) + 1,\n                          false\n                        )\n                      )\n                    ),\n                    equals: 1,\n                    then: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                      value: \"Where\"\n                    ),\n                    equals: 2,\n                    then: #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                      items: {\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                          item: rule!AS_GCM_DPL_CO_dropdownField(\n                            label: local!dropdownConfig.ruleOperator.label,\n                            labelPosition: local!dropdownConfig.ruleOperator.labelPosition,\n                            placeholder: local!dropdownConfig.ruleOperator.placeHolder,\n                            choiceLabels: local!dropdownConfig.ruleOperator.choiceLabels,\n                            choiceValues: local!dropdownConfig.ruleOperator.choiceValues,\n                            required: local!dropdownConfig.ruleOperator.required,\n                            value: a!defaultValue(\n                              value: ri!rule[recordType!AS GCM QNM T Rule.refOperatorId],\n                              default: cons!AS_GCM_REF_ID_AND_OPERATOR\n                            ),\n                            saveInto: ri!rule[recordType!AS GCM QNM T Rule.refOperatorId],\n                            validationGroup: ri!validationGroupForForm\n                          ),\n                          width: \"MINIMIZE\"\n                        ),\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"()\n                      }\n                    ),\n                    default: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                      value: rule!AS_CO_UT_indexWhere(\n                        value: a!defaultValue(\n                          value: ri!rule[recordType!AS GCM QNM T Rule.refOperatorId],\n                          default: cons!AS_GCM_REF_ID_AND_OPERATOR\n                        ),\n                        initialArray: local!dropdownConfig.ruleOperator.choiceValues,\n                        finalArray: local!dropdownConfig.ruleOperator.choiceLabels\n                      )\n                    )\n                  ),\n                  width: \"NARROW\"\n                ),\n                #\"SYSTEM_SYSRULES_columnLayout\"(\n                  contents: {\n                    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                      labelPosition: \"COLLAPSED\",\n                      value: {\n                        #\"SYSTEM_SYSRULES_richTextItem_v1\"(text: local!clauseDataLabel)\n                      }\n                    )\n                  },\n                  width: \"MEDIUM\"\n                ),\n                #\"SYSTEM_SYSRULES_columnLayout\"(\n                  contents: {\n                    #\"SYSTEM_SYSRULES_textField\"(\n                      labelPosition: \"COLLAPSED\",\n                      value: rule!AS_CO_UT_indexWhere(\n                        value: fv!item[recordType!AS GCM QNM T Rule Condition.refOperatorId],\n                        initialArray: local!dropdownConfig.conditionOperators.choiceValues,\n                        finalArray: local!dropdownConfig.conditionOperators.choiceLabels\n                      ),\n                      readOnly: true\n                    )\n                  },\n                  width: \"NARROW\"\n                ),\n                #\"SYSTEM_SYSRULES_columnLayout\"(\n                  contents: if(\n                    tointeger(\n                      fv!item[recordType!AS GCM QNM T Rule Condition.refClauseDataId]\n                    ) = cons!AS_GCM_REF_ID_QUESTIONNAIRE_QUESTION_DATA,\n                    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                      labelPosition: \"COLLAPSED\",\n                      value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                        text: fv!item[recordType!AS GCM QNM T Rule Condition.response.label]\n                      )\n                    ),\n                    local!ruleConfigMap.interface(\n                      ruleCondition: fv!item,\n                      refData: local!ruleConfigMap.refData,\n                      readOnly: true,\n                      bundle: ri!bundle\n                    )\n                  ),\n                  width: \"WIDE\"\n                ),\n                #\"SYSTEM_SYSRULES_columnLayout\"(\n                  contents: {\n                    #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                      items: {\n                        #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                          item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                            label: \"Remove Field\",\n                            labelPosition: \"COLLAPSED\",\n                            value: {\n                              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                                icon: \"close\",\n                                color: \"NEGATIVE\",\n                                caption: \"Remove Field\",\n                                link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                                  saveInto: if(\n                                    a!isNotNullOrEmpty(\n                                      fv!item[recordType!AS GCM QNM T Rule Condition.mapId]\n                                    ),\n                                    a!save(\n                                      ri!ruleConditions[fv!index][recordType!AS GCM QNM T Rule Condition.isActive],\n                                      false\n                                    ),\n                                    a!save(\n                                      ri!ruleConditions,\n                                      remove(ri!ruleConditions, fv!index)\n                                    )\n                                  )\n                                ),\n                                linkStyle: \"STANDALONE\",\n                                size: \"STANDARD\",\n                                altText: local!clauseDataLabel\n                              )\n                            },\n                            align: \"RIGHT\",\n\n                          ),\n                          width: \"MINIMIZE\"\n                        )\n                      },\n                      showWhen: rule!AS_CO_UT_isNotBlank(ri!ruleConditions),\n                      alignVertical: \"MIDDLE\",\n                      spacing: \"SPARSE\"\n                    )\n                  },\n                  width: \"NARROW\"\n                )\n              },\n              marginAbove: \"STANDARD\",\n              showWhen: fv!item[recordType!AS GCM QNM T Rule Condition.isActive]\n            ),\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              marginAbove: \"STANDARD\",\n              showWhen: fv!item[recordType!AS GCM QNM T Rule Condition.isActive]\n            )\n          }\n        )\n      )\n    },\n    padding: \"STANDARD\",\n    showBorder: false(),\n    showWhen: and(\n      rule!AS_CO_UT_isNotBlank(ri!ruleConditions),\n      or(\n        toboolean(\n          ri!ruleConditions[recordType!AS GCM QNM T Rule Condition.isActive]\n        )\n      )\n    )\n  )\n)",
  "calls": [
    {
      "name": "AS_GCM_BL_ruleConditionDropdownConfig",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_GCM_BL_filterClauseDataRuleConfigMap",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_CO_UT_indexWhere",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_GCM_DPL_CO_dropdownField",
      "type": "Interface",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_CO_UT_isNotBlank",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_GCM_REF_ID_QUESTIONNAIRE_QUESTION_DATA",
      "type": "Constant",
      "dep_type": "USES_CONSTANT"
    },
    {
      "name": "AS_GCM_REF_ID_AND_OPERATOR",
      "type": "Constant",
      "dep_type": "USES_CONSTANT"
    },
    {
      "name": "AS_GCM_CO_UT_loadBundleFromFolder",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_CATEGORY",
      "type": "Constant",
      "dep_type": "USES_CONSTANT"
    },
    {
      "name": "AS_GCM_QR_getRefData",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_GCM_REF_TYPE_CONDITION_OPERATOR",
      "type": "Constant",
      "dep_type": "USES_CONSTANT"
    },
    {
      "name": "AS_GCM_REF_TYPE_RULE_OPERATOR",
      "type": "Constant",
      "dep_type": "USES_CONSTANT"
    },
    {
      "name": "AS_GCM_REF_TYPE_CLAUSESET_DATA",
      "type": "Constant",
      "dep_type": "USES_CONSTANT"
    },
    {
      "name": "AS_GCM_BL_clauseDataRuleConfigMap",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    }
  ],
  "called_by": []
}
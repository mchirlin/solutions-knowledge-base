{
  "_metadata": {
    "bundle_type": "process",
    "root_object": {
      "uuid": "0004e74e-d505-8000-fd79-7f0000014e7a",
      "name": "AS GSS Send Email",
      "object_type": "Process Model",
      "parent_name": null
    },
    "total_objects": 5
  },
  "process": {
    "process_model": {
      "uuid": "0004e74e-d505-8000-fd79-7f0000014e7a",
      "name": "AS GSS Send Email",
      "object_type": "Process Model",
      "description": "Common process model to Send email for GSS",
      "data": {
        "nodes": [
          {
            "node_id": "0000e74e-d505-8000-fd79-7f0000014e7a",
            "node_type": "core.0",
            "node_name": "Start Node",
            "gui_id": "0",
            "node_type_name": "Start Event",
            "node_category": "Core",
            "gateway_conditions": [],
            "form_expression": null,
            "interface_uuid": null,
            "interface_name": null,
            "pre_triggers": [],
            "subprocess_uuid": null,
            "subprocess_config": null,
            "timer_config": null,
            "inputs": [],
            "outputs": [],
            "properties": {}
          },
          {
            "node_id": "0001e74e-d505-8000-fd79-7f0000014e7a",
            "node_type": "core.1",
            "node_name": "End Node",
            "gui_id": "1",
            "node_type_name": "End Event",
            "node_category": "Core",
            "gateway_conditions": [],
            "form_expression": null,
            "interface_uuid": null,
            "interface_name": null,
            "pre_triggers": [],
            "subprocess_uuid": null,
            "subprocess_config": null,
            "timer_config": null,
            "inputs": [],
            "outputs": [],
            "properties": {}
          },
          {
            "node_id": "0002e74e-d505-8000-fd79-7f0000014e7a",
            "node_type": "internal.sendemail2",
            "node_name": "Send E-Mail",
            "gui_id": "2",
            "node_type_name": "internal.sendemail2",
            "node_category": "Activity",
            "gateway_conditions": [],
            "form_expression": null,
            "interface_uuid": null,
            "interface_name": null,
            "pre_triggers": [],
            "subprocess_uuid": null,
            "subprocess_config": null,
            "timer_config": null,
            "inputs": [
              {
                "input_name": "FromEmailValue",
                "input_expression": "=rule!AS_GSS_UT_createNoReplyEmailSender()"
              },
              {
                "input_name": "To",
                "input_expression": "=pv!sendTo"
              },
              {
                "input_name": "Subject",
                "input_expression": "=pv!subject"
              },
              {
                "input_name": "Email Sender Display Name",
                "input_expression": "=rule!AS_GSS_UT_displayEmailSenderName()"
              },
              {
                "input_name": "ae-key-fontFamily",
                "input_expression": "=pv!fontFamily"
              },
              {
                "input_name": "ae-key-closing",
                "input_expression": "=pv!closing"
              },
              {
                "input_name": "ae-key-closingSender",
                "input_expression": "=pv!closingSender"
              },
              {
                "input_name": "ae-key-greeting",
                "input_expression": "=pv!greeting"
              },
              {
                "input_name": "ae-key-content",
                "input_expression": "=pv!content"
              },
              {
                "input_name": "ae-key-backGroundColor",
                "input_expression": "=pv!backgroundColor"
              },
              {
                "input_name": "ae-key-fontSize",
                "input_expression": "=pv!fontSize"
              },
              {
                "input_name": "ae-key-fontColor",
                "input_expression": "=pv!fontColor"
              }
            ],
            "outputs": [],
            "properties": {}
          }
        ],
        "flows": [
          {
            "from_node_id": "0000e74e-d505-8000-fd79-7f0000014e7a",
            "to_node_id": "2",
            "flow_label": null,
            "flow_condition": null
          },
          {
            "from_node_id": "0002e74e-d505-8000-fd79-7f0000014e7a",
            "to_node_id": "1",
            "flow_label": null,
            "flow_condition": null
          }
        ],
        "variables": [
          {
            "variable_name": "backgroundColor",
            "variable_type": "xsd:string",
            "is_parameter": true,
            "default_value": null
          },
          {
            "variable_name": "closing",
            "variable_type": "xsd:string",
            "is_parameter": true,
            "default_value": null
          },
          {
            "variable_name": "closingSender",
            "variable_type": "xsd:string",
            "is_parameter": true,
            "default_value": null
          },
          {
            "variable_name": "content",
            "variable_type": "xsd:string",
            "is_parameter": true,
            "default_value": null
          },
          {
            "variable_name": "fontColor",
            "variable_type": "xsd:string",
            "is_parameter": true,
            "default_value": null
          },
          {
            "variable_name": "fontFamily",
            "variable_type": "xsd:string",
            "is_parameter": true,
            "default_value": null
          },
          {
            "variable_name": "fontSize",
            "variable_type": "xsd:string",
            "is_parameter": true,
            "default_value": null
          },
          {
            "variable_name": "greeting",
            "variable_type": "xsd:string",
            "is_parameter": true,
            "default_value": null
          },
          {
            "variable_name": "sendTo",
            "variable_type": "a:UserOrGroup?list",
            "is_parameter": true,
            "default_value": null
          },
          {
            "variable_name": "subject",
            "variable_type": "xsd:string",
            "is_parameter": true,
            "default_value": null
          }
        ],
        "total_nodes": 3,
        "total_flows": 2,
        "complexity_score": 3.0
      },
      "calls": [
        "AS_GSS_UT_createNoReplyEmailSender",
        "AS_GSS_UT_displayEmailSenderName"
      ],
      "called_by": []
    }
  },
  "interfaces": [],
  "supporting_objects": {
    "expression_rules": [
      {
        "uuid": "_a-0000e643-f7f1-8000-9bca-011c48011c48_1319026",
        "name": "AS_GSS_CO_UT_loadBundleFromFolder",
        "object_type": "Expression Rule",
        "description": "Loads a property bundle file by name from a folder, returns a dictionary of the key-value pairs",
        "data": {
          "sail_code": "with(\n  local!lang: \"en_US\",\n  /* below is deprecated for now, uncomment to support multi-language display */\n  /*if(*/\n  /*isnull(ri!langISOCode),*/\n  /*userlocale(loggedInUser()),*/\n  /*ri!langISOCode*/\n  /*),*/\n  local!bundleName: /*rule!AS_GCM_determineValueBySolutionFlavor(\n    options: cons!AS_GCM_TXT_VALID_SOLUTION_FLAVORS\n  )*/\"AS.GSS.General\",\n  /*local!bundleName*/\n  local!output: loadbundlepropertiesfile(\n    cons!AS_GSS_FLD_PROPERTIES_FILES,\n    local!lang,\n    local!bundleName\n  )[local!bundleName],\n  local!output\n)",
          "definition": "with(\n  local!lang: \"en_US\",\n  /* below is deprecated for now, uncomment to support multi-language display */\n  /*if(*/\n  /*isnull(ri!langISOCode),*/\n  /*userlocale(loggedInUser()),*/\n  /*ri!langISOCode*/\n  /*),*/\n  local!bundleName: /*rule!AS_GCM_determineValueBySolutionFlavor(\n    options: cons!AS_GCM_TXT_VALID_SOLUTION_FLAVORS\n  )*/\"AS.GSS.General\",\n  /*local!bundleName*/\n  local!output: loadbundlepropertiesfile(\n    cons!AS_GSS_FLD_PROPERTIES_FILES,\n    local!lang,\n    local!bundleName\n  )[local!bundleName],\n  local!output\n)",
          "inputs": [
            {
              "name": "langISOCode",
              "type": "http://www.w3.org/2001/XMLSchema:string",
              "data_type": "http://www.w3.org/2001/XMLSchema:string",
              "raw_type": "http://www.w3.org/2001/XMLSchema:string",
              "required": false,
              "description": null,
              "default_value": null,
              "display_order": 0
            }
          ],
          "security": [
            {
              "role_name": "readers",
              "permission_type": "VIEW",
              "inherit": true,
              "allow_for_all": false
            },
            {
              "role_name": "authors",
              "permission_type": "EDIT",
              "inherit": true,
              "allow_for_all": false
            },
            {
              "role_name": "administrators",
              "permission_type": "ADMIN",
              "inherit": true,
              "allow_for_all": false
            },
            {
              "role_name": "denyReaders",
              "permission_type": "DENY_VIEW",
              "inherit": false,
              "allow_for_all": false
            },
            {
              "role_name": "denyAuthors",
              "permission_type": "DENY_EDIT",
              "inherit": false,
              "allow_for_all": false
            },
            {
              "role_name": "denyAdministrators",
              "permission_type": "DENY_ADMIN",
              "inherit": false,
              "allow_for_all": false
            }
          ],
          "test_cases": [
            {
              "test_name": "EXCEPTION: It is not possible to have a test case with assertion for this rule",
              "display_order": 0,
              "test_inputs": [
                {
                  "input_name_ref": "langISOCode",
                  "input_value": null,
                  "value_type": "string",
                  "is_null": false,
                  "input_order": 0
                }
              ],
              "assertions": [
                {
                  "assertion_value": null,
                  "is_null": true,
                  "display_order": 0
                }
              ]
            }
          ]
        },
        "calls": [],
        "called_by": [
          "AS_GSS_UT_displayEmailSenderName"
        ]
      },
      {
        "uuid": "_a-0000e74f-57e8-8000-9be4-011c48011c48_1964391",
        "name": "AS_GSS_UT_createNoReplyEmailSender",
        "object_type": "Expression Rule",
        "description": "Rule to create no reply email for GSS application ",
        "data": {
          "sail_code": "a!localVariables(\n  local!siteUrl: rule!AS_CO_UT_getSiteUrl(),\n  local!substringStartIndex: search(\"//\", local!siteUrl) + 2,\n  local!substringNumChars: search(\"/suite\", local!siteUrl) - local!substringStartIndex,\n  local!subdomainAndDomain: mid(\n    local!siteUrl,\n    local!substringStartIndex,\n    local!substringNumChars\n  ),\n  concat(\"no-reply@\", local!subdomainAndDomain)\n)",
          "definition": "a!localVariables(\n  local!siteUrl: rule!AS_CO_UT_getSiteUrl(),\n  local!substringStartIndex: search(\"//\", local!siteUrl) + 2,\n  local!substringNumChars: search(\"/suite\", local!siteUrl) - local!substringStartIndex,\n  local!subdomainAndDomain: mid(\n    local!siteUrl,\n    local!substringStartIndex,\n    local!substringNumChars\n  ),\n  concat(\"no-reply@\", local!subdomainAndDomain)\n)",
          "inputs": [],
          "security": [
            {
              "role_name": "readers",
              "permission_type": "VIEW",
              "inherit": true,
              "allow_for_all": false
            },
            {
              "role_name": "authors",
              "permission_type": "EDIT",
              "inherit": true,
              "allow_for_all": false
            },
            {
              "role_name": "administrators",
              "permission_type": "ADMIN",
              "inherit": true,
              "allow_for_all": false
            },
            {
              "role_name": "denyReaders",
              "permission_type": "DENY_VIEW",
              "inherit": false,
              "allow_for_all": false
            },
            {
              "role_name": "denyAuthors",
              "permission_type": "DENY_EDIT",
              "inherit": false,
              "allow_for_all": false
            },
            {
              "role_name": "denyAdministrators",
              "permission_type": "DENY_ADMIN",
              "inherit": false,
              "allow_for_all": false
            }
          ],
          "test_cases": [
            {
              "test_name": "Valid no-reply email",
              "display_order": 0,
              "test_inputs": [],
              "assertions": [
                {
                  "assertion_value": "",
                  "is_null": false,
                  "display_order": 0
                }
              ]
            }
          ]
        },
        "calls": [
          "AS_CO_UT_getSiteUrl"
        ],
        "called_by": [
          "AS GSS Send Email"
        ]
      },
      {
        "uuid": "_a-0000e74f-57e8-8000-9be4-011c48011c48_1964349",
        "name": "AS_GSS_UT_displayEmailSenderName",
        "object_type": "Expression Rule",
        "description": "Rule to display GSS application email sender name",
        "data": {
          "sail_code": "a!localVariables(\n  local!i18nData: rule!AS_GSS_CO_UT_loadBundleFromFolder(langISOCode: null),\n  \"Source Selection\"\n)",
          "definition": "a!localVariables(\n  local!i18nData: rule!AS_GSS_CO_UT_loadBundleFromFolder(langISOCode: null),\n  \"Source Selection\"\n)",
          "inputs": [],
          "security": [
            {
              "role_name": "readers",
              "permission_type": "VIEW",
              "inherit": true,
              "allow_for_all": false
            },
            {
              "role_name": "authors",
              "permission_type": "EDIT",
              "inherit": true,
              "allow_for_all": false
            },
            {
              "role_name": "administrators",
              "permission_type": "ADMIN",
              "inherit": true,
              "allow_for_all": false
            },
            {
              "role_name": "denyReaders",
              "permission_type": "DENY_VIEW",
              "inherit": false,
              "allow_for_all": false
            },
            {
              "role_name": "denyAuthors",
              "permission_type": "DENY_EDIT",
              "inherit": false,
              "allow_for_all": false
            },
            {
              "role_name": "denyAdministrators",
              "permission_type": "DENY_ADMIN",
              "inherit": false,
              "allow_for_all": false
            }
          ],
          "test_cases": []
        },
        "calls": [
          "AS_GSS_CO_UT_loadBundleFromFolder"
        ],
        "called_by": [
          "AS GSS Send Email"
        ]
      },
      {
        "uuid": "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_100254",
        "name": "AS_CO_UT_getSiteUrl",
        "object_type": "Expression Rule",
        "description": "Returns the URL of the site, terminating in /suite/",
        "data": {
          "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  extract(linktodocument(0, \"doc\"), \"\"\"\", \"doc/\")\n)",
          "definition": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  extract(linktodocument(0, \"doc\"), \"\"\"\", \"doc/\")\n)",
          "inputs": [],
          "security": [
            {
              "role_name": "readers",
              "permission_type": "VIEW",
              "inherit": true,
              "allow_for_all": false
            },
            {
              "role_name": "authors",
              "permission_type": "EDIT",
              "inherit": true,
              "allow_for_all": false
            },
            {
              "role_name": "administrators",
              "permission_type": "ADMIN",
              "inherit": true,
              "allow_for_all": false
            },
            {
              "role_name": "denyReaders",
              "permission_type": "DENY_VIEW",
              "inherit": false,
              "allow_for_all": false
            },
            {
              "role_name": "denyAuthors",
              "permission_type": "DENY_EDIT",
              "inherit": false,
              "allow_for_all": false
            },
            {
              "role_name": "denyAdministrators",
              "permission_type": "DENY_ADMIN",
              "inherit": false,
              "allow_for_all": false
            }
          ],
          "test_cases": [
            {
              "test_name": "Sample Test Case",
              "display_order": 0,
              "test_inputs": [],
              "assertions": [
                {
                  "assertion_value": null,
                  "is_null": true,
                  "display_order": 0
                }
              ]
            },
            {
              "test_name": "Returns Text",
              "display_order": 1,
              "test_inputs": [],
              "assertions": [
                {
                  "assertion_value": "",
                  "is_null": false,
                  "display_order": 0
                }
              ]
            }
          ]
        },
        "calls": [],
        "called_by": [
          "AS_GSS_UT_createNoReplyEmailSender"
        ]
      }
    ]
  }
}
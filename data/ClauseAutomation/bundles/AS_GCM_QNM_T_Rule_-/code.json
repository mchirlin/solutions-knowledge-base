{
  "_metadata": {
    "bundle_id": "AS_GCM_QNM_T_Rule_-"
  },
  "objects": {
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81818": {
      "name": "AS_CO_I18N_UT_displayLabel",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Text',\n  with(\n    local!bundleKeyParse: rule!AS_CO_I18N_UT_parseBundleKey(bundleKey: ri!bundleKey),\n    local!label: if(\n      rule!AS_CO_UT_isBlank(local!bundleKeyParse.bundleName),\n      ri!i18nData[local!bundleKeyParse.labelKey],\n      ri!i18nData[local!bundleKeyParse.bundleName][local!bundleKeyParse.labelKey]\n    ),\n    local!updatedLabel: rule!AS_CO_UT_replaceNull(\n      nullableValue: local!label,\n      replacementValue: ri!bundleKey\n    ),\n    local!updatedLabelForArguments: if(\n      rule!AS_CO_UT_isBlank(ri!arguments),\n      local!updatedLabel,\n      reduce(\n        rule!AS_CO_I18N_UT_replaceArgument(input: _, index: _, arguments: ri!arguments),\n        local!updatedLabel,\n        enumerate(count(ri!arguments)) + 1\n      )\n    ),\n    local!updatedLabelForArguments\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75618": {
      "name": "AS_CO_UT_left",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  if(\n    rule!AS_CO_UT_isBlank(ri!text),\n    \"\",\n    left(\n      ri!text,\n      rule!AS_CO_UT_replaceNull(nullableValue: ri!numChars, replacementValue: len(ri!text))\n    )\n  )\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_1021202": {
      "name": "AS_GAM_UT_ArrayLength",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!array),\n  0,\n  length(ri!array)\n)"
    },
    "_a-0000e8cc-c513-8000-9c0f-011c48011c48_3411127": {
      "name": "AS_GCM_CPS_createRuleForQuestionnaireQuestion",
      "type": "Interface",
      "sail_code": "{\n  #\"SYSTEM_SYSRULES_columnsLayout\"(\n    alignVertical: \"BOTTOM\",\n    columns: {\n      /* Clause Data */\n      #\"SYSTEM_SYSRULES_columnLayout\"(\n        contents: {\n          /*Clausedata Dropdown*/\n          rule!AS_GCM_DPL_CO_dropdownField(\n            label: ri!dropdownConfig.clauseData.label,\n            labelPosition: ri!dropdownConfig.clauseData.labelPosition,\n            choiceLabels: ri!dropdownConfig.clauseData.choiceLabels,\n            choiceValues: ri!dropdownConfig.clauseData.choiceValues,\n            placeholder: ri!dropdownConfig.clauseData.placeHolder,\n            value: ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.refClauseDataId],\n            saveInto: {\n              a!save(\n                ri!ruleCondition,\n                recordType!AS GCM QNM T Rule Condition(\n                  recordType!AS GCM QNM T Rule Condition.mapId: ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.mapId],\n                  recordType!AS GCM QNM T Rule Condition.refClauseDataId: save!value,\n                  recordType!AS GCM QNM T Rule Condition.isActive: true\n                )\n              ),\n              a!save(\n                {\n                  ri!selectedQuestionnaireTemplateId,\n                  ri!ruleConfigMap\n                },\n                null()\n              ),\n              ri!additionalSaves\n            },\n            searchDisplay: \"ON\",\n            required: true\n          ),\n          /*Questionnaire Dropdown*/\n          rule!AS_GCM_DPL_CO_dropdownField(\n            label: ri!dropdownConfig.questionnaire.label,\n            labelPosition: ri!dropdownConfig.questionnaire.labelPosition,\n            choiceLabels: ri!dropdownConfig.questionnaire.choiceLabels,\n            choiceValues: ri!dropdownConfig.questionnaire.choiceValues,\n            data: ri!dropdownConfig.questionnaire.data,\n            sort: ri!dropdownConfig.questionnaire.sort,\n            placeholder: ri!dropdownConfig.questionnaire.placeholder,\n            value: ri!selectedQuestionnaireTemplateId,\n            saveInto: {\n              ri!selectedQuestionnaireTemplateId,\n              a!save(\n                ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.questionId],\n                null()\n              ),\n              a!save(\n                ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.refOperatorId],\n                null()\n              ),\n              a!save(\n                ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.responseId],\n                null()\n              ),\n              ri!additionalSaves\n            },\n            showWhen: ri!showWhen,\n            searchDisplay: \"ON\",\n            required: true\n          )\n        }\n      ),\n      #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}),\n      #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}),\n      #\"SYSTEM_SYSRULES_columnLayout\"(width: \"EXTRA_NARROW\", contents: {})\n    },\n    showWhen: ri!showWhen,\n    marginAbove: \"LESS\",\n    spacing: \"STANDARD\"\n  ),\n  #\"SYSTEM_SYSRULES_columnsLayout\"(\n    marginAbove: \"NONE\",\n    columns: {\n      #\"SYSTEM_SYSRULES_columnLayout\"(\n        contents: {\n          /*Question Dropdown*/\n          rule!AS_GCM_DPL_CO_dropdownField(\n            label: ri!dropdownConfig.question.label,\n            labelPosition: ri!dropdownConfig.question.labelPosition,\n            choiceLabels: ri!dropdownConfig.question.choiceLabels,\n            choiceValues: ri!dropdownConfig.question.choiceValues,\n            data: ri!dropdownConfig.question.data,\n            sort: ri!dropdownConfig.question.sort,\n            placeholder: ri!dropdownConfig.question.placeholder,\n            value: ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.questionId],\n            saveInto: {\n              ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.questionId],\n              a!save(\n                ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.refOperatorId],\n                null\n              ),\n              a!save(\n                ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.responseId],\n                null\n              ),\n              a!save(\n                ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.question],\n                rule!AS_GCM_QNM_QR_getQuestion_Template(\n                  fields: recordType!AS GCM QNM T Question.label,\n                  questionTemplateId: save!value,\n                  returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT\n                )\n              ),\n              ri!additionalSaves\n            },\n            showWhen: ri!showWhen,\n            searchDisplay: \"ON\",\n            required: true\n          )\n        }\n      ),\n      /* Operator */\n      #\"SYSTEM_SYSRULES_columnLayout\"(\n        contents: /*Operator Dropdown*/\n        {\n          rule!AS_GCM_DPL_CO_dropdownField(\n            label: ri!dropdownConfig.conditionOperators.label,\n            labelPosition: ri!dropdownConfig.conditionOperators.labelPosition,\n            choiceLabels: ri!dropdownConfig.conditionOperators.choiceLabels,\n            choiceValues: ri!dropdownConfig.conditionOperators.choiceValues,\n            placeholder: ri!dropdownConfig.conditionOperators.placeHolder,\n            value: ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.refOperatorId],\n            saveInto: {\n              ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.refOperatorId],\n              /* Saving null in Value, CompValue and response if operator is null */\n              a!save(\n                ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.value],\n                if(\n                  rule!AS_CO_UT_isBlank(save!value),\n                  null(),\n                  ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.value]\n                )\n              ),\n              a!save(\n                ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.compValue],\n                if(\n                  rule!AS_CO_UT_isBlank(save!value),\n                  null(),\n                  ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.compValue]\n                )\n              ),\n              a!save(\n                ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.responseId],\n                if(\n                  rule!AS_CO_UT_isBlank(save!value),\n                  null(),\n                  ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.responseId]\n                )\n              ),\n              ri!additionalSaves\n            },\n            showWhen: true(),\n            required: true\n          )\n        }\n      ),\n      /* Value */\n      #\"SYSTEM_SYSRULES_columnLayout\"(\n        contents: {\n          /* Clause Data = Questionnaire Question*/\n          rule!AS_GCM_DPL_CO_dropdownField(\n            label: ri!dropdownConfig.response.label,\n            labelPosition: ri!dropdownConfig.response.labelPosition,\n            choiceLabels: ri!dropdownConfig.response.choiceLabels,\n            choiceValues: ri!dropdownConfig.response.choiceValues,\n            data: ri!dropdownConfig.response.data,\n            sort: ri!dropdownConfig.response.sort,\n            placeholder: ri!dropdownConfig.response.placeholder,\n            value: ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.responseId],\n            saveInto: {\n              ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.responseId],\n              a!save(\n                ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.response],\n                rule!AS_GCM_QNM_QR_getQuestionResponse_Template(\n                  fields: recordType!AS GCM QNM T Response.label,\n                  responseTemplateId: save!value,\n                  returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT\n                )\n              ),\n              ri!additionalSaves\n            },\n            showWhen: and(\n              ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.refClauseDataId] = cons!AS_GCM_REF_ID_QUESTIONNAIRE_QUESTION_DATA,\n              rule!AS_CO_UT_isNotBlank(\n                ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.questionId]\n              )\n            ),\n            required: true\n          ),\n          /* Placeholder dropdown */\n          rule!AS_GCM_DPL_CO_dropdownField(\n            label: ri!dropdownConfig.placeholderDropdown.label,\n            labelPosition: ri!dropdownConfig.placeholderDropdown.labelPosition,\n            choiceLabels: ri!dropdownConfig.placeholderDropdown.choiceLabels,\n            choiceValues: ri!dropdownConfig.placeholderDropdown.choiceValues,\n            placeholder: ri!dropdownConfig.placeholderDropdown.placeholder,\n            value: {},\n            saveInto: {},\n            showWhen: or(\n              a!isNullOrEmpty(\n                ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.refClauseDataId]\n              ),\n              rule!AS_CO_UT_isBlank(\n                ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.questionId]\n              )\n            ),\n            required: true\n          )\n        }\n      ),\n      #\"SYSTEM_SYSRULES_columnLayout\"(\n        width: \"EXTRA_NARROW\",\n        contents: {\n          #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            value: {\n              #\"SYSTEM_SYSRULES_richTextIcon\"(\n                icon: \"times\",\n                color: if(ri!disableDelete,\"SECONDARY\",\"ACCENT\"),\n                linkStyle: \"STANDALONE\",\n                altText: if(\n                  ri!disableDelete,\n                  {},\n                  rule!AS_GAM_CO_I18N_UT_displayLabel(\n                    bundle: ri!bundle,\n                    bundleKey: \"acs_Delete\",\n                    arguments: a!defaultValue(\n                      value: index(\n                        rule!AS_GCM_filterRecords(\n                          records: ri!refData,\n                          field: recordType!AS GCM R Data.refDataId,\n                          value: ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.refClauseDataId]\n                        ),\n                        recordType!AS GCM R Data.refLabel,\n                        null\n                      ),\n                      default: \" \"\n                    )\n                  )),\n                  link: if(ri!disableDelete,{},#\"SYSTEM_SYSRULES_dynamicLink\"(\n                    saveInto: if(\n                      rule!AS_CO_UT_isBlank(\n                        ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.mapId]\n                      ),\n                      a!save(\n                        ri!ruleConditions,\n                        remove(ri!ruleConditions, ri!conditionIndex)\n                      ),\n                      {\n                        a!save(\n                          ri!ruleCondition,\n                          #\"urn:appian:function:v1:a:update\"(\n                            ri!ruleCondition,\n                            {\n                              recordType!AS GCM QNM T Rule Condition.isActive,\n                              recordType!AS GCM QNM T Rule Condition.modifiedBy,\n                              recordType!AS GCM QNM T Rule Condition.modifiedDatetime\n                            },\n                            { false, loggedInUser(), now() }\n                          )\n                        ),\n                        ri!additionalSaves\n                      }\n                    )\n                  )\n                  )\n\n              )\n            },\n            marginAbove: \"MORE\",\n            marginBelow: \"NONE\"\n          ),\n          #\"SYSTEM_SYSRULES_richTextDisplayField\"()\n        }\n      )\n    },\n    showWhen: ri!showWhen,\n    spacing: \"STANDARD\"\n  )\n}"
    },
    "_a-0000e675-e3a8-8000-9bcb-011c48011c48_1455426": {
      "name": "AS_GCM_QNM_CPS_includeAndExcludeClausesForRuleAndTemplate",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!triggerRefresh,\n  local!clausesToAdd: a!refreshVariable(\n    value: rule!AS_CO_UT_cast(\n      type: #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n        recordType!AS GCM R Clause\n      ),\n      value: {}\n    ),\n    refreshOnVarChange: { local!triggerRefresh, ri!triggerRefresh }\n  ),\n  local!clausesToRemove: a!refreshVariable(\n    value: rule!AS_CO_UT_cast(\n      type: #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n        recordType!AS GCM R Clause\n      ),\n      value: {}\n    ),\n    refreshOnVarChange: { local!triggerRefresh, ri!triggerRefresh }\n  ),\n  {\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            rule!AS_GCM_QNM_GRD_availableClausesCatalog(\n              availableRefClauses: local!clausesToAdd,\n              bundle: ri!bundle,\n              triggerRefresh: ri!triggerRefresh,\n              isIncludeClausesPage: ri!isIncludeClausesPage,\n              unavailableClauseIds: ri!unavailableClauseIds,\n              isTemplate: ri!isTemplate\n            )\n          }\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_forEach\"(\n              enumerate(30),\n              if(\n                fv!index < 16,\n                #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n                  showWhen: #\"SYSTEM_SYSRULES_isPageWidth\"(\n                    {\n                      \"DESKTOP_NARROW\",\n                      \"DESKTOP\",\n                      \"DESKTOP_WIDE\"\n                    }\n                  )\n                ),\n                #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n                  showWhen: #\"SYSTEM_SYSRULES_isPageWidth\"(\n                    {\n                      \"TABLET_PORTRAIT\",\n                      \"TABLET_LANDSCAPE\",\n                      \"DESKTOP_NARROW\",\n                      \"DESKTOP\",\n                      \"DESKTOP_WIDE\"\n                    }\n                  )\n                )\n              )\n            ),\n            #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n              buttons: {\n                #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                  label: rule!AS_GCM_returnValueBasedOnAutomationToggle(\n                    value: \"\"\n                  ),\n                  style: \"OUTLINE\",\n                  disabled: rule!AS_CO_UT_isBlank(local!clausesToAdd),\n                  saveInto: {\n                    if(\n                      ri!isTemplate,\n                      a!save(\n                        ri!templateClauses,\n                        append(\n                          ri!templateClauses,\n                          #\"SYSTEM_SYSRULES_forEach\"(\n                            items: local!clausesToAdd,\n                            expression: if(\n                              contains(\n                                tointeger(\n                                  ri!templateClauses[recordType!AS GCM Template Clause.refClauseId]\n                                ),\n                                tointeger(\n                                  fv!item[recordType!AS GCM R Clause.clauseId]\n                                )\n                              ),\n                              {},\n                              {\n                                recordType!AS GCM Template Clause(\n                                  recordType!AS GCM Template Clause.refClauseId: fv!item[recordType!AS GCM R Clause.clauseId],\n                                  recordType!AS GCM Template Clause.refUsageId: if(\n                                    ri!isIncludeClausesPage,\n                                    cons!AS_GCM_REF_ID_USAGE_INCLUDED,\n                                    cons!AS_GCM_REF_ID_USAGE_EXCLUDED\n                                  ),\n                                  recordType!AS GCM Template Clause.isActive: true\n                                )\n                              }\n                            )\n                          )\n                        )\n                      ),\n                      a!save(\n                        /* local variable hasn't been used for the reptitive \"if\" code because it\n                        didn't disable the row selection in available grid */\n                        ri!ruleClauses,\n                        append(\n                          ri!ruleClauses,\n                          #\"SYSTEM_SYSRULES_forEach\"(\n                            items: local!clausesToAdd,\n                            expression: recordType!AS GCM QNM T Rule Condition Clause(\n                              recordType!AS GCM QNM T Rule Condition Clause.refClauseId: fv!item[recordType!AS GCM R Clause.clauseId],\n                              recordType!AS GCM QNM T Rule Condition Clause.refUsageId: if(\n                                ri!isIncludeClausesPage,\n                                cons!AS_GCM_REF_ID_USAGE_INCLUDED,\n                                cons!AS_GCM_REF_ID_USAGE_EXCLUDED\n                              ),\n                              recordType!AS GCM QNM T Rule Condition Clause.isActive: true\n                            )\n                          )\n                        )\n                      )\n                    ),\n                    a!save(local!triggerRefresh, now()),\n                    if(\n                      ri!isTemplate,\n                      rule!AS_GCM_MTR_INCLUSION_addClauseToTemplate(),\n                      rule!AS_GCM_MTR_INCLUSION_addClauseToRule()\n                    )\n                  },\n                  icon: \"angle-right-bold\",\n                  tooltip: if(\n                    rule!AS_CO_UT_isBlank(local!clausesToAdd),\n                    {},\n                    rule!AS_GAM_CO_I18N_UT_displayLabel(\n                      bundle: ri!bundle,\n                      bundleKey: if(\n                        ri!isIncludeClausesPage,\n                        \"hlp_AddToIncluded\",\n                        \"hlp_AddToExcludedClauses\"\n                      )\n                    )\n                  )\n                )\n              },\n              align: \"CENTER\",\n              marginBelow: \"STANDARD\"\n            ),\n            #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n              buttons: {\n                #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                  label: rule!AS_GCM_returnValueBasedOnAutomationToggle(\n                    value: \"\"\n                  ),\n                  style: \"OUTLINE\",\n                  disabled: rule!AS_CO_UT_isBlank(local!clausesToRemove),\n                  saveInto: {\n                    if(\n                      ri!isTemplate,\n                      {\n                        a!save(\n                          ri!templateClauses[wherecontains(\n                            tointeger(\n                              local!clausesToRemove[recordType!AS GCM R Clause.clauseId]\n                            ),\n                            tointeger(\n                              ri!templateClauses[recordType!AS GCM Template Clause.refClauseId]\n                            )\n                          )][recordType!AS GCM Template Clause.isActive],\n                          false\n                        ),\n                        a!save(\n                          ri!templateClauses,\n                          remove(\n                            ri!templateClauses,\n                            rule!AS_GCM_filterRecords(\n                              records: ri!templateClauses,\n                              fieldValuePairs: {\n                                a!map(\n                                  field: recordType!AS GCM Template Clause.refClauseId,\n                                  value: tointeger(\n                                    local!clausesToRemove[recordType!AS GCM R Clause.clauseId]\n                                  )\n                                ),\n                                a!map(\n                                  field: recordType!AS GCM Template Clause.relationId,\n                                  value: null\n                                )\n                              },\n                              filterType: \"MATCH_INDICES\"\n                            )\n                          )\n                        ),\n                        rule!AS_GCM_MTR_EXCLUSION_excludeClauseFromTemplate()\n                      },\n                      /*A gist of #1 issue in GAM-2567: When a clause is added to exclude clauses and immediately removed back, it was not captured in the audit,But it is fixed in included clauses.\nSoitishandledinthesamewayforexcludedclausestoavoidthesameissueinaudit.*/\n                      {\n                        a!save(\n                          ri!ruleClauses[wherecontains(\n                            tointeger(\n                              local!clausesToRemove[recordType!AS GCM R Clause.clauseId]\n                            ),\n                            tointeger(\n                              ri!ruleClauses[recordType!AS GCM QNM T Rule Condition Clause.refClauseId]\n                            )\n                          )][recordType!AS GCM QNM T Rule Condition Clause.isActive],\n                          false\n                        ),\n                        a!save(\n                          ri!ruleClauses,\n                          remove(\n                            ri!ruleClauses,\n                            rule!AS_GCM_filterRecords(\n                              records: ri!ruleClauses,\n                              fieldValuePairs: {\n                                a!map(\n                                  field: recordType!AS GCM QNM T Rule Condition Clause.refClauseId,\n                                  value: tointeger(\n                                    local!clausesToRemove[recordType!AS GCM R Clause.clauseId]\n                                  )\n                                ),\n                                a!map(\n                                  field: recordType!AS GCM QNM T Rule Condition Clause.clauseMapId,\n                                  value: null\n                                )\n                              },\n                              filterType: \"MATCH_INDICES\"\n                            )\n                          )\n                        ),\n                        rule!AS_GCM_MTR_EXCLUSION_addClauseToRule()\n                      }\n                    ),\n                    a!save(local!triggerRefresh, now())\n                  },\n                  icon: \"angle-left-bold\",\n                  tooltip: if(\n                    rule!AS_CO_UT_isBlank(local!clausesToRemove),\n                    {},\n                    rule!AS_GAM_CO_I18N_UT_displayLabel(\n                      bundle: ri!bundle,\n                      bundleKey: if(\n                        ri!isIncludeClausesPage,\n                        \"hlp_RemoveFromIncluded\",\n                        \"hlp_RemoveFromExcludedClauses\"\n                      )\n                    )\n                  )\n                )\n              },\n              align: \"CENTER\",\n              marginBelow: \"STANDARD\"\n            )\n          },\n          width: \"EXTRA_NARROW\"\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            rule!AS_GCM_QNM_GRD_includedAndExcludedClauses(\n              selectedRefClauses: local!clausesToRemove,\n              addedClauseIds: if(\n                ri!isTemplate,\n                rule!AS_GCM_filterRecords(\n                  records: ri!templateClauses,\n                  field: recordType!AS GCM Template Clause.isActive,\n                  value: true\n                )[recordType!AS GCM Template Clause.refClauseId],\n                rule!AS_GCM_filterRecords(\n                  records: ri!ruleClauses,\n                  field: recordType!AS GCM QNM T Rule Condition Clause.isActive,\n                  value: true\n                )[recordType!AS GCM QNM T Rule Condition Clause.refClauseId]\n              ),\n              bundle: ri!bundle,\n              triggerRefresh: ri!triggerRefresh,\n              isIncludeClausesPage: ri!isIncludeClausesPage,\n              isTemplate: ri!isTemplate\n            )\n          }\n        )\n      },\n      alignVertical: \"TOP\",\n      showWhen: ri!showWhen,\n      spacing: \"STANDARD\",\n      showDividers: false\n    )\n  }\n)"
    },
    "_a-0000e69a-ff03-8000-9bd0-011c48011c48_1576513": {
      "name": "AS_GCM_QNM_ADT_BL_auditConfig_Rule",
      "type": "Expression Rule",
      "sail_code": "{\n  idField: \"ruleId\",\n  foreignIdField: \"\",\n  simpleFields: { \"ruleName\", \"refOperatorId\", \"isActive\" },\n  complexFields: {\n    rule!AS_GCM_ADT_BL_auditConfig_ruleConditions(),\n    rule!AS_GCM_ADT_BL_auditConfig_ruleConditionClauses(),\n    rule!AS_GCM_QNM_ADT_BL_auditConfig_RuleConditionGroups(depthLevel: 1)\n  }\n}"
    },
    "_a-0000e61a-f20f-8000-9ba5-011c48011c48_53654": {
      "name": "AS_GCM_CO_UT_loadBundleFromFolder",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!lang: \"en_US\",\n/* below is deprecated for now, uncomment to support multi-language display */\n  /*if(*/\n    /*isnull(ri!langISOCode),*/\n    /*userlocale(loggedInUser()),*/\n    /*ri!langISOCode*/\n  /*),*/\n  local!bundleName: rule!AS_GCM_determineValueBySolutionFlavor(\n    options: cons!AS_GCM_TXT_VALID_SOLUTION_FLAVORS\n  ),\n  /*local!bundleName*/\n  local!output: loadbundlepropertiesfile(\n    cons!AS_GCM_FLD_PROPERTIES_FILES,\n    local!lang,\n    local!bundleName\n  )[local!bundleName],\n  local!output\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73758": {
      "name": "AS_CO_UT_distinct",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!value),\n  union({ri!value}, {ri!value})\n)"
    },
    "_a-0000eef5-cf69-8000-9e5e-011c48011c48_17793424": {
      "name": "AS_GCM_CPS_DisplayFormattedRuleCondition",
      "type": "Interface",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!condition),\n  {},\n  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n    labelPosition: \"COLLAPSED\",\n    value: {\n      if(\n        ri!condition[recordType!AS GCM QNM T Rule Condition.refClauseDataId] = cons!AS_GCM_REF_ID_QUESTIONNAIRE_QUESTION_DATA,\n        {\n          \"Questionnaire Question\",\n          \" - \"\n        },\n        {}\n      ),\n      a!defaultValue(\n        value: ri!condition[recordType!AS GCM QNM T Rule Condition.question.label],\n        default: rule!AS_GAM_CO_I18N_UT_displayLabel(\n          bundle: ri!bundle,\n          bundleKey: ri!condition[recordType!AS GCM QNM T Rule Condition.refClauseData.refKey]\n        ),\n        default: rule!AS_GAM_CO_I18N_UT_displayLabel(\n          bundle: ri!bundle,\n          bundleKey: index(\n            index(\n              ri!refData,\n              wherecontains(\n                ri!condition[recordType!AS GCM QNM T Rule Condition.refClauseDataId],\n                ri!refData[recordType!AS GCM R Data.refDataId]\n              ),\n              null\n            ),\n            recordType!AS GCM R Data.refKey,\n            null\n          )\n        )\n      ),\n      char(32),\n      char(32),\n      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n        text: rule!AS_GAM_CO_I18N_UT_displayLabel(\n          bundle: ri!bundle,\n          bundleKey: index(\n            index(\n              ri!refData,\n              wherecontains(\n                ri!condition[recordType!AS GCM QNM T Rule Condition.refOperatorId],\n                ri!refData[recordType!AS GCM R Data.refDataId]\n              ),\n              null\n            ),\n            recordType!AS GCM R Data.refKey,\n            null\n          )\n        ),\n        color: rule!AS_GCM_getColorBasedOnColorName(colorName: \"GRAY_3\")\n      ),\n      char(32),\n      char(32),\n      a!match(\n        value: ri!condition[recordType!AS GCM QNM T Rule Condition.refClauseDataId],\n        equals: cons!AS_GCM_REF_ID_QUESTIONNAIRE_QUESTION_DATA,\n        then: ri!condition[recordType!AS GCM QNM T Rule Condition.response.label],\n        equals: cons!AS_GCM_REF_ID_CONTRACT_TYPE_DATA,\n        then: joinarray(\n          index(\n            index(\n              ri!contractTypes,\n              wherecontains(\n                tointeger(\n                  #\"SYSTEM_SYSRULES_fromJson_v1\"(\n                    ri!condition[recordType!AS GCM QNM T Rule Condition.value]\n                  )\n                ),\n                ri!contractTypes[recordType!AS GCM R Contract Type.contractTypeId]\n              ),\n              null\n            ),\n            recordType!AS GCM R Contract Type.displayValue,\n            null\n          ),\n          \", \"\n        ),\n        equals: cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_ESTIMATED_DOLLAR_AMOUNT,\n        then: a!localVariables(\n          /* 1. Define the formatted currency strings in a list */\n          local!formattedValues: {\n            /* First Currency */\n            if(\n              isnull(\n                ri!condition[recordType!AS GCM QNM T Rule Condition.value]\n              ),\n              null,\n              #\"urn:appian:function:v1:a:currency\"(\n                isoCode: \"USD\",\n                value: #\"SYSTEM_SYSRULES_fromJson_v1\"(\n                  ri!condition[recordType!AS GCM QNM T Rule Condition.value]\n                ),\n                decimalPlaces: 2,\n                showSeparators: true(),\n                format: \"SYMBOL\",\n                indicatorAlignment: \"START\"\n              )\n            ),\n            /* Second Currency */\n            if(\n              isnull(\n                ri!condition[recordType!AS GCM QNM T Rule Condition.compValue]\n              ),\n              null,\n              #\"urn:appian:function:v1:a:currency\"(\n                isoCode: \"USD\",\n                value: #\"SYSTEM_SYSRULES_fromJson_v1\"(\n                  ri!condition[recordType!AS GCM QNM T Rule Condition.compValue]\n                ),\n                decimalPlaces: 2,\n                showSeparators: true(),\n                format: \"SYMBOL\",\n                indicatorAlignment: \"START\"\n              )\n            )\n          },\n          /* 2. Remove the nulls and join with 'And' */\n          joinarray(\n            reject(fn!isnull, local!formattedValues),\n            concat(\n              \" \",\n              \"\",\n              \" \"\n            )\n          )\n        ),\n        equals: cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_PSC,\n        equals: cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_NAICS_CODE,\n        then: #\"SYSTEM_SYSRULES_fromJson_v1\"(\n          ri!condition[recordType!AS GCM QNM T Rule Condition.value]\n        ),\n        equals: cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACTING_OFFICER,\n        equals: cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_SPECIALIST,\n        equals: cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_OFFICER_REP,\n        then: rule!AS_CO_UT_displayUser(\n          user: #\"SYSTEM_SYSRULES_fromJson_v1\"(\n            ri!condition[recordType!AS GCM QNM T Rule Condition.value]\n          )\n        ),\n        equals: cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_START_DATE,\n        equals: cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_END_DATE,\n        then: joinarray(\n          {\n            rule!AS_CO_UT_formatDate(\n              date: #\"SYSTEM_SYSRULES_fromJson_v1\"(\n                ri!condition[recordType!AS GCM QNM T Rule Condition.value]\n              )\n            ),\n            rule!AS_CO_UT_formatDate(\n              date: #\"SYSTEM_SYSRULES_fromJson_v1\"(\n                /* Defaulting the value here as this can be null */\n                a!defaultValue(\n                  value: ri!condition[recordType!AS GCM QNM T Rule Condition.compValue],\n                  default: \"[]\"\n                )\n              )\n            )\n          },\n          \" \" & \"\" & \" \"\n        ),\n        equals: cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_CATEGORY,\n        equals: cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_METHOD,\n        equals: cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CLAUSE_SET_TYPE,\n        then: joinarray(\n          rule!AS_GAM_translateMultipleBundleKeys(\n            bundle: ri!bundle,\n            bundleKeys: index(\n              index(\n                ri!refData,\n                wherecontains(\n                  #\"SYSTEM_SYSRULES_fromJson_v1\"(\n                    ri!condition[recordType!AS GCM QNM T Rule Condition.value]\n                  ),\n                  ri!refData[recordType!AS GCM R Data.refDataId]\n                ),\n                null\n              ),\n              recordType!AS GCM R Data.refKey,\n              null\n            )\n          ),\n          \", \"\n        ),\n        default: #\"SYSTEM_SYSRULES_fromJson_v1\"(\n          ri!condition[recordType!AS GCM QNM T Rule Condition.value]\n        )\n      )\n    },\n    marginBelow: \"NONE\"\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73660": {
      "name": "AS_CO_UT_displayUser",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  if(\n    rule!AS_CO_UT_checkIfUserExists(user: ri!user),\n    concat(fn!user(ri!user, \"firstName\"), \" \", fn!user(ri!user, \"lastName\")),\n    if(\n      and(ri!showHyphenIfValueNull = true, isnull(ri!user)),\n      \"-\",\n      ri!user\n    )\n  )\n)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1467714": {
      "name": "AS_GCM_QNM_QR_getRule",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!useQueryRecordByidentifier: and(\n    ri!executeWhen,\n    all(\n      rule!AS_CO_UT_isBlank(_),\n      {\n        ri!additionalFilters,\n        ri!logicalExpression,\n        ri!aggregation\n      }\n    ),\n    rule!AS_GAM_UT_ArrayLength(ri!ruleIds) = 1,\n    not(\n      rule!AS_CO_UT_booleanDefaultFalse(ri!returnAllData)\n    )\n  ),\n  local!relatedRecordDataLimit: if(\n    local!useQueryRecordByidentifier,\n    100,\n    10\n  ),\n  local!relatedRecordData: a!flatten(\n    {\n      if(\n        ri!includeRelatedRecords,\n        {\n          #\"SYSTEM_SYSRULES_relatedRecordData\"(\n            relationship: recordType!AS GCM QNM T Rule.conditions,\n            limit: local!relatedRecordDataLimit,\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!AS GCM QNM T Rule Condition.mapId,\n                operator: \"in\",\n                value: ri!mapIds,\n                applyWhen: rule!AS_CO_UT_isNotBlank(ri!mapIds)\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!AS GCM QNM T Rule Condition.isActive,\n                operator: \"=\",\n                value: true,\n                applyWhen: ri!showInactive <> true\n              )\n            }\n          ),\n          #\"SYSTEM_SYSRULES_relatedRecordData\"(\n            relationship: recordType!AS GCM QNM T Rule.conditionClauses,\n            limit: local!relatedRecordDataLimit,\n            filters: {\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!AS GCM QNM T Rule Condition Clause.clauseMapId,\n                operator: \"in\",\n                value: ri!clauseMapIds,\n                applyWhen: rule!AS_CO_UT_isNotBlank(ri!clauseMapIds)\n              ),\n              #\"SYSTEM_SYSRULES_queryFilter\"(\n                field: recordType!AS GCM QNM T Rule Condition Clause.isActive,\n                operator: \"=\",\n                value: true,\n                applyWhen: ri!showInactive <> true\n              )\n            }\n          )\n        },\n        {}\n      ),\n      if(\n        ri!returnLatestRuleVersion,\n        {\n          #\"SYSTEM_SYSRULES_relatedRecordData\"(\n            relationship: recordType!AS GCM QNM T Rule.ruleVersions,\n            limit: 1,\n            sort: #\"SYSTEM_SYSRULES_sortInfo\"(\n              field: recordType!AS GCM QNM Rule Version.ruleVersion,\n              ascending: false\n            )\n          ),\n          #\"SYSTEM_SYSRULES_relatedRecordData\"(\n            relationship: recordType!AS GCM QNM T Rule.ruleVersions,\n            limit: local!relatedRecordDataLimit,\n            filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM QNM Rule Condition Version.ruleConditionGroupVersionId,\n              operator: \"is null\"\n            )\n          ),\n          #\"SYSTEM_SYSRULES_relatedRecordData\"(\n            relationship: recordType!AS GCM QNM T Rule.ruleVersions,\n            limit: local!relatedRecordDataLimit,\n            filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM QNM Rule Condition Group Version.parentConditionGroupVersionId,\n              operator: \"is null\"\n            )\n          ),\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: {\n              #\"urn:appian:record-relationship:v1:0e51d64b-81db-423f-87e6-ef610fc3274c/84044f63-97e7-40ee-800d-e10b7335b754/93bc1dae-3b06-448e-b601-6a151e256626/6473bca8-dd71-4cc3-9dae-22208fd859b4\",\n              #\"urn:appian:record-relationship:v1:0e51d64b-81db-423f-87e6-ef610fc3274c/84044f63-97e7-40ee-800d-e10b7335b754/93bc1dae-3b06-448e-b601-6a151e256626/794d60ae-9d8c-4ad5-84fa-8742a75efd67\",\n              #\"urn:appian:record-relationship:v1:0e51d64b-81db-423f-87e6-ef610fc3274c/84044f63-97e7-40ee-800d-e10b7335b754/93bc1dae-3b06-448e-b601-6a151e256626/794d60ae-9d8c-4ad5-84fa-8742a75efd67/6473bca8-dd71-4cc3-9dae-22208fd859b4\",\n              #\"urn:appian:record-relationship:v1:0e51d64b-81db-423f-87e6-ef610fc3274c/84044f63-97e7-40ee-800d-e10b7335b754/93bc1dae-3b06-448e-b601-6a151e256626/794d60ae-9d8c-4ad5-84fa-8742a75efd67/794d60ae-9d8c-4ad5-84fa-8742a75efd67\",\n              #\"urn:appian:record-relationship:v1:0e51d64b-81db-423f-87e6-ef610fc3274c/84044f63-97e7-40ee-800d-e10b7335b754/93bc1dae-3b06-448e-b601-6a151e256626/794d60ae-9d8c-4ad5-84fa-8742a75efd67/794d60ae-9d8c-4ad5-84fa-8742a75efd67/6473bca8-dd71-4cc3-9dae-22208fd859b4\",\n              #\"urn:appian:record-relationship:v1:0e51d64b-81db-423f-87e6-ef610fc3274c/84044f63-97e7-40ee-800d-e10b7335b754/93bc1dae-3b06-448e-b601-6a151e256626/794d60ae-9d8c-4ad5-84fa-8742a75efd67/794d60ae-9d8c-4ad5-84fa-8742a75efd67/794d60ae-9d8c-4ad5-84fa-8742a75efd67\"\n            },\n            expression: #\"SYSTEM_SYSRULES_relatedRecordData\"(\n              relationship: fv!item,\n              limit: local!relatedRecordDataLimit\n            )\n          )\n        },\n        {}\n      ),\n      ri!relatedRecordData\n    }\n  ),\n  if(\n    local!useQueryRecordByidentifier,\n    rule!AS_GCM_UT_queryRecordByIdentifier(\n      recordType: recordType!AS GCM QNM T Rule,\n      identifier: ri!ruleIds[1],\n      fields: { ri!fields },\n      triggerRefresh: ri!triggerRefresh,\n      executeWhen: ri!executeWhen,\n      relatedRecordData: local!relatedRecordData\n    ),\n    rule!AS_CO_UT_queryRecord(\n      recordType: recordType!AS GCM QNM T Rule,\n      returnType: a!defaultValue(\n        value: ri!returnType,\n        default: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT\n      ),\n      aggregationFields: ri!aggregation,\n      logicalExpression: ri!logicalExpression,\n      filters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM T Rule.ruleId,\n          operator: \"in\",\n          value: ri!ruleIds\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM T Rule.isActive,\n          operator: \"=\",\n          value: true(),\n          applyWhen: ri!showInactive <> true\n        ),\n        ri!additionalFilters\n      },\n      fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n        {\n          ri!fields,\n          index(\n            local!relatedRecordData,\n            \"relationship\",\n            null\n          )\n        }\n      ),\n      pagingInfo: ri!pagingInfo,\n      triggerRefresh: ri!triggerRefresh,\n      executeWhen: and(\n        ri!executeWhen,\n        or(\n          any(\n            rule!AS_CO_UT_isNotBlank(_),\n            {\n              ri!additionalFilters,\n              ri!logicalExpression,\n              ri!aggregation\n            }\n          ),\n          rule!AS_CO_UT_isNotBlank(ri!ruleIds),\n          rule!AS_CO_UT_booleanDefaultFalse(ri!returnAllData),\n          ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_TOTAL_COUNT\n        )\n      ),\n      relatedRecordData: local!relatedRecordData\n    )\n  )\n)"
    },
    "_a-0000e675-e3a8-8000-9bcb-011c48011c48_1455015": {
      "name": "AS_GCM_QNM_GRD_includedAndExcludedClauses",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n  label: rule!AS_GAM_CO_I18N_UT_displayLabel(\n    bundle: ri!bundle,\n    bundleKey: if(\n      ri!isIncludeClausesPage,\n      \"lbl_IncludedClauses\",\n      \"lbl_ExcludedClauses\"\n    )\n  ),\n  labelSize: \"MEDIUM\",\n  labelHeadingTag: \"H2\",\n  labelColor: \"SECONDARY\",\n  contents: {\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      labelPosition: \"COLLAPSED\",\n      instructions: \"\",\n      value: {\n        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n          text: rule!AS_GAM_CO_I18N_UT_displayLabel(\n            bundle: ri!bundle,\n            bundleKey: if(\n              ri!isIncludeClausesPage,\n              if(\n                ri!isTemplate,\n                \"ins_IncludedClauses\",\n                \"ins_SelectedClauses\"\n              ),\n              if(\n                ri!isTemplate,\n                \"ins_ExcludedClauses\",\n                \"ins_ExcludeClausesFromRule\"\n              )\n            )\n          ),\n          color: \"STANDARD\"\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_gridField_v2\"(\n      label: rule!AS_GAM_CO_I18N_UT_displayLabel(\n        bundle: ri!bundle,\n        bundleKey: if(\n          ri!isIncludeClausesPage,\n          \"lbl_IncludedClauses\",\n          \"lbl_ExcludedClauses\"\n        )\n      ),\n      labelPosition: \"COLLAPSED\",\n      emptyGridMessage: \"\",\n      data: #\"SYSTEM_SYSRULES_recordData\"(\n        recordType: recordType!AS GCM R Clause,\n        filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM R Clause.clauseId,\n          operator: \"in\",\n          value: { ri!addedClauseIds }\n        )\n      ),\n      columns: {\n        rule!AS_GCM_UI_refClauseTitleGridColumn(\n          bundle: ri!bundle,\n          linkShowWhen: false,\n          showTruncatedClauseTitle: true\n        )\n      },\n      pageSize: cons!AS_CO_ENUM_PAGE_SIZE_MEDIUM,\n      initialSorts: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!AS GCM R Clause.modifiedDatetime,\n        ascending: false()\n      ),\n      selectable: true,\n      selectionValue: a!flatten(ri!selectedRefClauses)[recordType!AS GCM R Clause.clauseId],\n      selectionSaveInto: {\n        rule!AS_CO_UT_simpleGridSelectionSaveInto(target: ri!selectedRefClauses)\n      },\n      validations: {},\n      shadeAlternateRows: false(),\n      rowHeader: 1,\n      refreshOnVarChange: ri!triggerRefresh,\n      refreshAfter: \"RECORD_ACTION\",\n      userFilters: {\n        #\"urn:appian:user-filter:v1:83b74fc4-71d0-456a-8b20-12ea04b76cd1/72b58b53-ced9-4027-afa2-5946c8a16f3e\",\n        #\"urn:appian:user-filter:v1:83b74fc4-71d0-456a-8b20-12ea04b76cd1/4b4bc120-45e6-45cf-962b-ddf5431b5fb8\"\n      },\n      showSearchBox: true,\n      showRefreshButton: false(),\n      showExportButton: false(),\n      actionsDisplay: \"LABEL_AND_ICON\"\n    )\n  },\n  marginBelow: \"NONE\"\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73624": {
      "name": "AS_CO_UT_compare",
      "type": "Expression Rule",
      "sail_code": "/*Do a \"fuzzy\" comparison where all we care about is the data*/\n/*This will match a list of variant/dictionary/cdt if their fields have the same values*/\ncast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  tostring(ri!value1) = tostring(ri!value2)\n)"
    },
    "_a-0000e752-5ddb-8000-9be7-011c48011c48_1985664": {
      "name": "AS_GCM_MTR_EXCLUSION_addClauseToRule",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(local!temp, a!save(local!temp, {}))"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_31679": {
      "name": "AS_CO_UT_formatDate",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  if(\n    rule!AS_CO_UT_isBlank(ri!date),\n    \"\",\n    if(\n      rule!AS_CO_I18N_UT_isUserLocaleEnglishUs(),\n      text(ri!date, \"mmm d, yyyy\"),\n      text(ri!date, \"d mmm yyyy\")\n    )\n  )\n)"
    },
    "_a-0000e3ff-a5bc-8000-9ba8-011c48011c48_39610": {
      "name": "AS_CO_UT_returnArrayTypeNumber",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer',\n  typeof(\n    a!flatten(\n      rule!AS_CO_UT_cast(\n        type: ri!type,\n        typeOf: ri!typeOf,\n        value: null\n      )\n    )\n  )\n)"
    },
    "_a-0000e61a-f20f-8000-9ba5-011c48011c48_53662": {
      "name": "AS_GAM_CO_I18N_UT_displayLabel",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Text',\n  a!localVariables(\n    local!result: a!refreshVariable(\n      value: if(\n        rule!AS_CO_UT_isBlank(ri!bundleKey),\n        null,\n        if(\n          rule!AS_CO_UT_isBlank(ri!arguments),\n          rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!bundle[ri!bundleKey],\n            replacementValue: ri!bundleKey\n          ),\n          rule!AS_GAM_CO_I18N_UT_replaceArguments(\n            bundleKey: ri!bundle[ri!bundleKey],\n            arguments: ri!arguments\n          )\n        )\n      ),\n      refreshAlways: true\n    ),\n    local!result\n  )\n)"
    },
    "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3328740": {
      "name": "AS_GCM_BL_filterClauseDataRuleConfigMap",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!clauseDataId),\n  null,\n  index(\n    rule!AS_CO_UT_filterCdtByField(\n      cdt: ri!clauseDataRuleConfigMap,\n      field: \"clauseDataId\",\n      value: ri!clauseDataId\n    ),\n    1,\n    null\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_112825": {
      "name": "AS_CO_UT_toString",
      "type": "Expression Rule",
      "sail_code": "if(\n/* to prevent modulus from breaking */\n  isnull(ri!value),\n  ri!value,\n  if(\n    todecimal(ri!value) = tostring(ri!value),\n    if(\n      mod(ri!value, 1) = 0,\n      text(\n        todecimal(ri!value), \"##\"\n      ),\n      text(\n        todecimal(ri!value), \"##.##\"\n      )\n    ),\n    ri!value\n  )\n)"
    },
    "_a-0000e3ff-a5bc-8000-9ba8-011c48011c48_39082": {
      "name": "AS_CO_UT_booleanDefaultTrue",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  if(\n    isnull(ri!boolean),\n    true,\n    ri!boolean\n  )\n)"
    },
    "_a-0000eef5-cf69-8000-9e5e-011c48011c48_17803467": {
      "name": "AS_GCM_updateSimpleFieldChangesForConditions",
      "type": "Expression Rule",
      "sail_code": "a!flatten(\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!conditionsChanges,\n    expression: if(\n      rule!AS_CO_UT_isNotBlank(fv!item.simpleFieldChanges),\n      a!localVariables(\n        local!currentConditionChanges: fv!item,\n        local!simpleFieldChanges: fv!item.simpleFieldChanges,\n        local!currentRuleCondition: index(\n          ri!ruleConditions,\n          wherecontains(\n            tointeger(local!currentConditionChanges.mapId),\n            tointeger(\n              ri!ruleConditions[recordType!AS GCM QNM T Rule Condition.mapId]\n            )\n          ),\n          {}\n        ),\n        #\"urn:appian:function:v1:a:update\"(\n          local!currentConditionChanges,\n          \"simpleFieldChanges\",\n          a!localVariables(\n            local!updatedSimpleFieldChanges: rule!AS_CO_UT_rejectNullValuesFromArray(\n              a!flatten(\n                #\"SYSTEM_SYSRULES_forEach\"(\n                  items: a!keys(ri!requiredFieldNamesMap),\n                  expression: if(\n                    contains(\n                      touniformstring(\n                        index(\n                          local!simpleFieldChanges,\n                          \"fieldName\",\n                          \"\"\n                        )\n                      ),\n                      tostring(ri!requiredFieldNamesMap[fv!item])\n                    ),\n                    index(\n                      local!simpleFieldChanges,\n                      wherecontains(\n                        tostring(ri!requiredFieldNamesMap[fv!item]),\n                        touniformstring(\n                          index(\n                            local!simpleFieldChanges,\n                            \"fieldName\",\n                            {}\n                          )\n                        )\n                      )\n                    ),\n                    if(\n                      rule!AS_CO_UT_isBlank(\n                        local!currentRuleCondition[ri!requiredFieldNamesMap[fv!item]]\n                      ),\n                      {},\n                      'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_A_T_Rule_Condition_Field'(\n                        mapAuditId: local!currentConditionChanges.mapAuditId,\n                        fieldName: fv!item,\n                        oldValue: local!currentRuleCondition[ri!requiredFieldNamesMap[fv!item]],\n                        newValue: local!currentRuleCondition[ri!requiredFieldNamesMap[fv!item]],\n                        \n                      )\n                    )\n                  )\n                )\n              )\n            ),\n            union(\n              local!updatedSimpleFieldChanges,\n              local!simpleFieldChanges\n            )\n          )\n        )\n      ),\n      {}\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75636": {
      "name": "AS_CO_UT_not",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  not(rule!AS_CO_UT_booleanDefaultFalse(ri!input))\n)\n\n/*True returns False*/\n/*False returns True*/\n/*Null returns True*/"
    },
    "_a-0000e752-5ddb-8000-9be7-011c48011c48_1975791": {
      "name": "AS_GCM_MTR_EXCLUSION_excludeClauseFromTemplate",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(local!temp, a!save(local!temp, {}))"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_165782-adt": {
      "name": "AS_ADT_UT_calculateAudit_MultipleObjects",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Get the distinct IDs*/\n  local!distinctIds: rule!AS_CO_UT_distinct(\n    tointeger(\n      {\n        index(\n          ri!originalObjects,\n          ri!auditConfig.idField,\n          {}\n        ),\n        index(\n          ri!newObjects,\n          ri!auditConfig.idField,\n          {}\n        )\n      }\n    )\n  ),\n  if(\n    rule!AS_CO_UT_isBlank(local!distinctIds),\n    {},\n    /*This flatten converts to a list of dictionary, which prevents odd behavior in the parent*/\n    a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!distinctIds,\n        expression: a!flatten(\n          rule!AS_ADT_UT_calculateAudit_SingleObject(\n            originalObject: index(\n              rule!AS_CO_UT_filterCdtByField(\n                cdt: ri!originalObjects,\n                field: ri!auditConfig.idField,\n                value: fv!item\n              ),\n              1,\n              {}\n            ),\n            newObject: index(\n              rule!AS_CO_UT_filterCdtByField(\n                cdt: ri!newObjects,\n                field: ri!auditConfig.idField,\n                value: fv!item\n              ),\n              1,\n              {}\n            ),\n            auditConfig: ri!auditConfig,\n            username: ri!username,\n            externalAction: ri!externalAction,\n            auditType: ri!auditType\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_157870": {
      "name": "AS_CO_UT_queryEntity",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS ON HOW TO USE\n\nPlease DO NOT auto-format this rule\n\n*/\n/*Error handling for invalid returnType or entityType*/\nif(\n  rule!AS_CO_UT_isBlank(ri!returnType),\n  fn!error(\n    concat(\n      \"Null `returnType` passed to AS_CO_UT_queryEntity for entityType `\",\n      ri!entityType,\n      \"`.  See documentation in AS_CO_UT_queryEntity for further information on how to use this parameter.\"\n    )\n  ),\n  if(\n    not(\n      contains(\n        rule!AS_CO_CONS_QE_RETURN_TYPES(),\n        ri!returnType\n      )\n    ),\n    fn!error(\n      concat(\n        \"Unknown `returnType` (\",\n        ri!returnType,\n        \") passed to AS_CO_UT_queryEntity for entityType `\",\n        ri!entityType,\n        \"`.  See documentation in AS_CO_UT_queryEntity for further information on how to use this parameter.\"\n      )\n    ),\n    if(\n      rule!AS_CO_UT_isBlank(ri!entityType),\n      fn!error(\n        concat(\n          \"Null `entityType` passed to AS_CO_UT_queryEntity for entity `\",\n          ri!entity,\n          \"`.  See documentation in AS_CO_UT_queryEntity for further information on how to use this parameter.\"\n        )\n      ),\n      if(\n        and(\n          ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n          rule!AS_CO_UT_isBlank(ri!pagingInfo)\n        ),\n        fn!error(\n          concat(\n            \"`pagingInfo` is required (cannot be null) for `returnType` DATA_SUBSET\"\n          )\n        ),\n        if(\n          and(\n            ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n            rule!AS_CO_UT_isNotBlank(ri!pagingInfo)\n          ),\n          fn!error(\n            concat(\n              \"`pagingInfo` must be null when the `returnType` is not DATA_SUBSET, instead use `sort` to pass custom sorting, `batchSize` to pass custom batch size, and `startIndex` & `batchSize` (if null) will be automatically calculated for you\"\n            )\n          ),\n          if(\n            and(\n              ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n              rule!AS_CO_UT_isBlank(ri!aggregation)\n            ),\n            fn!error(\n              \"You must provide an input for `aggregation` when `returnType` is AGGREGATION\"\n            ),\n            if(\n              and(\n                not(\n                  contains(\n                    {\n                      cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n                      cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET\n                    },\n                    ri!returnType\n                  )\n                ),\n                rule!AS_CO_UT_isNotBlank(ri!aggregation)\n              ),\n              fn!error(\n                \"You cannot provide an input for `aggregation` when `returnType` is not AGGREGATION or DATA_SUBSET\"\n              ),\n              a!localVariables(\n                /*Determine the castResultToType*/\n                local!castResultToType: rule!AS_CO_UT_displayValue(\n                  value: ri!returnType,\n                  inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n                  replacement: {\n                    /*DATA_SUBSET*/'type!{http://www.appian.com/ae/types/2009}DataSubset',\n                    /*SINGLE_OBJECT*/ri!entityType,\n                    /*OBJECT_ARRAY*/rule!AS_CO_UT_returnArrayTypeNumber(type: ri!entityType),\n                    /*AGGREGATION*/'type!{http://www.appian.com/ae/types/2009}Map?list',\n                    /*TOTAL_COUNT*/'type!{http://www.appian.com/ae/types/2009}Integer',\n                    \n                  }\n                ),\n                /*Determine the batchSize*/\n                local!batchSize: rule!AS_CO_UT_displayValue(\n                  value: ri!returnType,\n                  inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n                  replacement: {\n                    /*DATA_SUBSET*/ri!pagingInfo.batchSize,\n                    /*SINGLE_OBJECT*/1,\n                    /*OBJECT_ARRAY*/rule!AS_CO_UT_replaceNull(\n                      nullableValue: ri!batchSize,\n                      replacementValue: cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE\n                    ),\n                    /*AGGREGATION*/rule!AS_CO_UT_replaceNull(\n                      nullableValue: ri!batchSize,\n                      replacementValue: cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE\n                    ),\n                    /*TOTAL_COUNT*/0,\n                    \n                  }\n                ),\n                /*Determine the sort*/\n                local!sort: rule!AS_CO_UT_zInternal_queryEntity_determineSort(\n                  entityType: ri!entityType,\n                  returnType: ri!returnType,\n                  pagingInfo: ri!pagingInfo,\n                  sort: ri!sort,\n                  isAggregation: rule!AS_CO_UT_isNotBlank(ri!aggregation)\n                ),\n                /*Determine the pagingInfo*/\n                local!pagingInfo: if(\n                  ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n                  /*Use specific pagingInfo for DATA_SUBSET*/\n                  #\"SYSTEM_SYSRULES_pagingInfo\"(\n                    startIndex: ri!pagingInfo.startIndex,\n                    batchSize: ri!pagingInfo.batchSize,\n                    sort: local!sort\n                  ),\n                  /*Otherwise calculate pagingInfo for all other returnTypes*/\n                  #\"SYSTEM_SYSRULES_pagingInfo\"(\n                    startIndex: 1,\n                    batchSize: local!batchSize,\n                    sort: local!sort\n                  )\n                ),\n                /*Determine the fetchTotalCount*/\n                local!fetchTotalCount: rule!AS_CO_UT_displayValue(\n                  value: ri!returnType,\n                  inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n                  replacement: {\n                    /*DATA_SUBSET*/true,\n                    /*SINGLE_OBJECT*/false,\n                    /*OBJECT_ARRAY*/false,\n                    /*AGGREGATION*/false,\n                    /*TOTAL_COUNT*/true,\n                    \n                  }\n                ),\n                /*Execute the query*/\n                local!queryResult: a!refreshVariable(\n                  value: if(\n                    ri!executeWhen = false,\n                    null,\n                    #\"SYSTEM_SYSRULES_queryEntity_v1\"(\n                      entity: ri!entity,\n                      fetchTotalCount: local!fetchTotalCount,\n                      query: #\"SYSTEM_SYSRULES_query\"(\n                        pagingInfo: local!pagingInfo,\n                        aggregation: ri!aggregation,\n                        selection: if(\n                          and(\n                            ri!excludeNestedCdts = true,\n                            rule!AS_CO_UT_isBlank(ri!aggregation)\n                          ),\n                          #\"SYSTEM_SYSRULES_querySelection\"(\n                            columns: #\"SYSTEM_SYSRULES_forEach\"(\n                              items: rule!AS_CO_UT_returnCdtFields(\n                                type: ri!entityType,\n                                onlyPrimitiveFields: true\n                              ),\n                              expression: #\"SYSTEM_SYSRULES_queryColumn\"(field: fv!item)\n                            )\n                          ),\n                          null\n                        ),\n                        logicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                          operator: \"AND\",\n                          logicalExpressions: {\n                            #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                              operator: \"AND\",\n                              ignoreFiltersWithEmptyValues: true,\n                              filters: rule!AS_CO_UT_replaceNull(\n                                nullableValue: ri!filters,\n                                replacementValue: {}\n                              )\n                            ),\n                            rule!AS_CO_UT_replaceNull(\n                              nullableValue: ri!logicalExpression,\n                              replacementValue: {}\n                            )\n                          }\n                        )\n                      )\n                    )\n                  ),\n                  refreshOnVarChange: ri!triggerRefresh,\n                  refreshAfter: { \"RECORD_ACTION\" }\n                ),\n                /*Parse the queryResult*/\n                local!queryResultParse: choose(\n                  rule!AS_CO_UT_chooseWherecontainsHelper(\n                    value: ri!returnType,\n                    inArray: rule!AS_CO_CONS_QE_RETURN_TYPES()\n                  ),\n                  /*Default, required value based on how AS_CO_UT_chooseWherecontainsHelper operates*/\"\",\n                  /*DATA_SUBSET*/local!queryResult,\n                  /*SINGLE_OBJECT*/local!queryResult.data,\n                  /*OBJECT_ARRAY*/local!queryResult.data,\n                  /*AGGREGATION*/local!queryResult.data,\n                  /*TOTAL_COUNT*/local!queryResult.totalCount,\n                  \n                ),\n                rule!AS_CO_UT_cast(\n                  type: local!castResultToType,\n                  value: local!queryResultParse\n                )\n              )\n            )\n          )\n        )\n      )\n    )\n  )\n)/*\n\nDOCUMENTATION\n\nThis rule is designed to minimize the overhead with querying data and then casting the result\n\n\nRequired Inputs:\n\n1. entity \n- This is the data store entity you are querying\n-- e.g. cons!AS_DATA_STORE_ENTITY_CASES\n\n2. entityType\n- This is a type! input of the data type which maps to the underlying data store entity\n- Note that your type! input should not end in parenthesis; this is NOT designed to take in an empty CDT\n-- e.g. 'type!{urn:com:appian:types}Case'\n\n3. returnType\n- This depends on the purpose for the query, and should be one of the returnTypes in rule!AS_CO_CONS_QE_RETURN_TYPES\n-- DATA_SUBSET - This will return a DataSubset; pagingInfo is required\n-- SINGLE_OBJECT - This will return a single CDT whose type is the entityType; pagingInfo must be null\n-- OBJECT_ARRAY - This will return an array of CDTs whos type is an array of the entityType; pagingInfo must be null\n-- AGGREGATION - This will return an array of Dictionaries; pagingInfo must be null\n---- NOTE: If you need Aggregation with paging controls, such as for a grid, use returnType DATA_SUBSET\n-- TOTAL_COUNT - This will return an Integer of the total count; pagingInfo must be null\n\n\nOptional Inputs:\n\n4. executeWhen\n- The query will not execute if this is false, the query will execute if this is true or null\n-- This is meant to operate in a similar manner to the showWhen parameter of components\n- Usethistoskipexecutionofaquerywithoutneedingtowrapif()statementsaroundtherule\n-- Examples of this would be to skip querying if your filter value is a null ID\n- If the query does not execute, this will return a null value whose type is based on the returnType input\n\n5. triggerRefresh\n- By default, the query will always re-execute whenever any inputs change\n- However, by updating the value of triggerRefresh, you can also trigger a re-execution even if none of the other inputs change\n\n6. excludeNestedCdts\n- When true, this will exclude all nested CDTs from the query selection, and only include primitive fields\n- When false or null, all fields will be included in the query, including all nested CDTs\n\n7. filters\n- Array of filters to apply to the query, built with a!queryFilter()\n- These filters will be applied with an AND operator\n- These filters will apply in addition to the logicalExpression input, combining both with an AND operator\n\n8. logicalExpression\n- A logical expression to apply to the query, built with a!queryLogicalExpression()\n- This logical expression will apply in addition to the filters input, combining both with an AND operator\n\n9. aggregation\n- Aggregation to apply to the query, built with a!queryAggregation()\n\n10. pagingInfo\n- Paging info to apply to the query, built with a!pagingInfo() or derived from fv!pagingInfo in grids\n- This is required if passing returnType DATA_SUBSET, otherwise it must be null\n- For returnTypes that are not DATA_SUBSET, the batch size will be automatically calculated depending on the returnType\n-- For example, passing SINGLE_OBJECT will automatically apply a batch size of 1, whereas OBJECT_ARRAY and AGGREGATION will automatically apply a batch size of -1\n\n11. sort\n- Array of sort to apply to the query, built with a!sortInfo()\n- This is meant to be used with returnType OBJECT_ARRAY and AGGREGATION, since pagingInfo is not required for these, but a specified sort may be used\n\n12. batchSize\n- Batch size to apply to the query\n- This is meant to be used with returnType OBJECT_ARRAY and AGGREGATION, since pagingInfo is not required for these, but a specified batchSize may be used\n\n*/"
    },
    "_a-0000e415-3035-8000-9bb2-011c48011c48_291284": {
      "name": "AS_CO_CONS_PRIMITIVE_TYPE_ARRAY",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Type?list',\n  {\n    /* 1*/ 'type!{http://www.appian.com/ae/types/2009}Text',\n    /* 2*/ 'type!{http://www.appian.com/ae/types/2009}Integer',\n    /* 3*/ 'type!{http://www.appian.com/ae/types/2009}Decimal',\n    /* 4*/ 'type!{http://www.appian.com/ae/types/2009}Boolean',\n    /* 5*/ 'type!{http://www.appian.com/ae/types/2009}Date',\n    /* 6*/ 'type!{http://www.appian.com/ae/types/2009}Datetime',\n    /* 7*/ 'type!{http://www.appian.com/ae/types/2009}Time',\n    /* 8*/ 'type!{http://www.appian.com/ae/types/2009}User',\n    /* 9*/ 'type!{http://www.appian.com/ae/types/2009}Group',\n    /*10*/ 'type!{http://www.appian.com/ae/types/2009}UserOrGroup',\n    /*11*/ 'type!{http://www.appian.com/ae/types/2009}Document',\n    /*12*/ 'type!{http://www.appian.com/ae/types/2009}Folder',\n  }\n)"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9760853": {
      "name": "AS_GCM_setRecordFields",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNullOrEmpty(ri!record),\n  ri!record,\n  a!localVariables(\n    local!allUpdates: rule!AS_CO_UT_rejectNullValuesFromArray(\n      a!flatten(\n        {\n          ri!alwaysOverwrite,\n          ri!childRelationships,\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!neverOverwrite,\n            expression: #\"urn:appian:function:v1:a:update\"(\n              fv!item,\n              \"value\",\n              /*Specifically using this instead of a!defaultValue() to account for the `{null}` value*/\n              rule!AS_CO_UT_replaceNull(\n                nullableValue: ri!record[fv!item.field],\n                replacementValue: fv!item.value\n              )\n            )\n          )\n        }\n      )\n    ),\n    local!onlyChangedUpdates: a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!allUpdates,\n        expression: if(\n          or(\n            tostring(ri!record[fv!item.field]) = tostring(fv!item.value),\n            toboolean(fv!item.applyWhen) = false\n          ),\n          {},\n          fv!item\n        )\n      )\n    ),\n    if(\n      a!isNullOrEmpty(local!onlyChangedUpdates),\n      ri!record,\n      #\"urn:appian:function:v1:a:update\"(\n        data: ri!record,\n        index: local!onlyChangedUpdates.field,\n        value: local!onlyChangedUpdates.value\n      )\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73562": {
      "name": "AS_CO_INP_textField",
      "type": "Interface",
      "sail_code": "if(\n  ri!readOnly,\n  rule!AS_CO_DSP_standardReadOnlyField(\n    label: ri!label,\n    instructions: ri!instructions,\n    value: ri!value,\n    labelPosition: ri!labelPosition,\n    helpTooltip: ri!helpTooltip,\n    showWhen: ri!showWhen,\n    accessibilityText: ri!accessibilityText,\n    align: ri!align\n  ),\n  #\"SYSTEM_SYSRULES_textField\"(\n    label: ri!label,\n    labelPosition: rule!AS_CO_UT_getLabelPosition(\n      label: ri!label,\n      labelPosition: ri!labelPosition,\n      readOnly: false\n    ),\n    instructions: ri!instructions,\n    helpTooltip: ri!helpTooltip,\n    placeholder: ri!placeholder,\n    value: ri!value,\n    /* We are using nested saveIntos to automatically perform a trim on any value */\n    /* before executing the actual saves */\n    /* Saves can be nested in this format to allow for better reusability */\n    saveInto: a!save(ri!saveInto, trim(save!value)),\n    showWhen: ri!showWhen,\n    required: if(ri!readOnly, false, ri!required),\n    /* Updated requiredMessage parameter to show default validation text*/\n    requiredMessage: rule!AS_CO_UT_displayRequiredMessage(\n      label: ri!label,\n      requiredMessage: ri!requiredMessage\n    ),\n    readOnly: ri!readOnly,\n    disabled: ri!disabled,\n    masked: ri!masked,\n    validations: if(\n      ri!readOnly,\n      {},\n      a!flatten(\n        {\n          ri!validations,\n          rule!AS_CO_VD_textValidation(value: ri!value, maxLength: ri!maxLength)\n        }\n      )\n    ),\n    validationGroup: ri!validationGroup,\n    align: ri!align,\n    accessibilitytext: ri!accessibilityText,\n    refreshAfter: ri!refreshAfter,\n    characterLimit: ri!characterLimit,\n    showCharacterCount: ri!showCharacterCount,\n    inputPurpose: ri!inputPurpose\n  )\n)"
    },
    "_a-0000e4b1-2fbc-8000-9bc6-011c48011c48_852676-gcm": {
      "name": "AS_GCM_QNM_QR_getQuestion_Template",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    ri!getAllRelatedRecord,\n    a!isNullOrEmpty(ri!additionalFilters),\n    a!isNullOrEmpty(ri!logicalExpression),\n    rule!AS_GAM_UT_ArrayLength(ri!questionTemplateId) = 1\n  ),\n  rule!AS_GCM_UT_queryRecordByIdentifier(\n    recordType: recordType!AS GCM QNM T Question,\n    identifier: ri!questionTemplateId[1],\n    fields: rule!AS_CO_UT_rejectNullValuesFromArray(ri!fields),\n    relatedRecordData: rule!AS_CO_UT_rejectNullValuesFromArray(\n      {\n        #\"SYSTEM_SYSRULES_relatedRecordData\"(\n          relationship: recordType!AS GCM QNM T Question.responseOptions,\n          limit: 100\n        ),\n        #\"SYSTEM_SYSRULES_relatedRecordData\"(\n          relationship: recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n          limit: 100,\n          filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!AS GCM QNM T Question Precedent Set.isActive,\n            operator: \"in\",\n            value: rule!AS_CO_UT_replaceNull(\n              nullableValue: ri!isActive,\n              replacementValue: { true }\n            )\n          )\n        ),\n        #\"SYSTEM_SYSRULES_relatedRecordData\"(\n          relationship: recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n          limit: 100\n        ),\n        #\"SYSTEM_SYSRULES_relatedRecordData\"(\n          relationship: #\"urn:appian:record-relationship:v1:66fc3179-f0d8-4d6d-bbce-92b85f7c665a/35500f1d-7bad-40e6-8728-6bd75b0d3f03/8dca9ba9-cfbd-46c6-92b8-6a7d21aad4c4/b37fc648-4c9c-4add-b535-2cbb861e4e19\",\n          limit: 100\n        ),\n        ri!relatedRecordData\n      }\n    )\n  ),\n  rule!AS_CO_UT_queryRecord(\n    recordType: recordType!AS GCM QNM T Question,\n    returnType: a!defaultValue(\n      value: ri!returnType,\n      default: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n    ),\n    fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n      {\n        ri!fields,\n        if(\n          ri!includeRelatedRecords,\n          {\n            recordType!AS GCM QNM T Question.categories,\n            recordType!AS GCM QNM T Question.defaultResponses,\n            recordType!AS GCM QNM T Question.isDisplayedPrecedentSets,\n            recordType!AS GCM QNM T Question.refQuestion,\n            recordType!AS GCM QNM T Question.isRequiredPrecedentSets,\n            recordType!AS GCM QNM T Question.responseOptions,\n            recordType!AS GCM QNM T Question.responseRequirements\n          },\n          {}\n        )\n      }\n    ),\n    filters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Question.questionTemplateId,\n        operator: \"in\",\n        value: ri!questionTemplateId\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Question.questionCategoryTemplateId,\n        operator: \"in\",\n        value: ri!questionCategoryTemplateId\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Question.questionnaireTemplateId,\n        operator: \"=\",\n        value: ri!questionnaireTemplateId\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Question.isActive,\n        operator: \"in\",\n        value: {\n          rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!isActive,\n            replacementValue: true\n          )\n        }\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM QNM T Question.questionReferenceId,\n        operator: \"=\",\n        value: ri!questionReferenceId\n      ),\n      ri!additionalFilters\n    },\n    executeWhen: ri!executeWhen,\n    logicalExpression: ri!logicalExpression,\n    aggregationFields: ri!aggregationFields,\n    triggerRefresh: ri!triggerRefresh,\n    /*excludeNestedCdts: ri!excludeNestedCdts,*/\n    pagingInfo: ri!pagingInfo,\n    sort: if(\n      rule!AS_CO_UT_isBlank(ri!sort),\n      {\n        #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!AS GCM QNM T Question.groupNumber,\n          ascending: true\n        ),\n        #\"SYSTEM_SYSRULES_sortInfo\"(\n          field: recordType!AS GCM QNM T Question.orderNumber,\n          ascending: true\n        )\n      },\n      ri!sort\n    ),\n    relatedRecordData: ri!relatedRecordData\n  )\n)"
    },
    "_a-0000e615-fd0f-8000-9bc1-011c48011c48_1163967": {
      "name": "AS_GCM_DSP_clauseRecordTitle",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isNotBlank(ri!clauseTitle),\n  a!localVariables(\n    local!clauseTitle: if(\n      rule!AS_CO_UT_isBlank(ri!clauseTitleLength),\n      ri!clauseTitle,\n      rule!AS_CO_UT_left(\n        text: ri!clauseTitle,\n        numChars: ri!clauseTitleLength\n      ) & if(\n        len(ri!clauseTitle) > ri!clauseTitleLength,\n        \"...\",\n        null\n      )\n    ),\n    joinarray(\n      rule!AS_CO_UT_rejectNullValuesFromArray(\n        {\n          ri!clauseNumber,\n          local!clauseTitle,\n          if(\n            rule!AS_CO_UT_isBlank(ri!alternateValue),\n            null,\n            concat(\n              cons!AS_GCM_CLAUSE_TITLE_ALTERNATE,\n              char(32),\n              ri!alternateValue\n            )\n          ),\n          if(\n            rule!AS_CO_UT_booleanDefaultFalse(ri!deviation),\n            cons!AS_GCM_CLAUSE_TITLE_DEVIATION,\n            null\n          )\n        }\n      ),\n      \" | \"\n    )\n  ),\n  ri!clauseNumber\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_981349": {
      "name": "AS_GAM_ADT_UT_buildFieldLevelAuditEntityData",
      "type": "Expression Rule",
      "sail_code": "rule!AS_ADT_UT_calculateAudit(\n    originalObjects: ri!auditParams.originalObjects,\n    newObjects: ri!auditParams.newObjects,\n    objectTypeNumber: ri!auditParams.objectTypeNumber,\n    namespace: ri!auditParams.namespace,\n    username: ri!auditParams.username,\n    auditConfig: ri!auditParams.auditConfig,\n    externalAction:ri!auditParams.externalAction\n  )"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_161958-adt": {
      "name": "AS_ADT_UT_determineAuditActionCode",
      "type": "Expression Rule",
      "sail_code": "choose(\n  where(\n    {\n      rule!AS_CO_UT_isNotBlank(ri!externalAction),\n      rule!AS_CO_UT_isBlank(index(ri!originalObject, ri!auditConfig.idField, null)),\n      rule!AS_CO_UT_isBlank(index(ri!newObject, ri!auditConfig.idField, null)),\n      toboolean(index(ri!originalObject, \"isActive\", 1)) = toboolean(index(ri!newObject, \"isActive\", 1)),\n      toboolean(index(ri!originalObject, \"isActive\", false)),\n      toboolean(index(ri!newObject, \"isActive\", true))\n    }\n  )[1],\n  ri!externalAction,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_ADD,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DELETE,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_DEACTIVATE,\n  cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_REACTIVATE\n)"
    },
    "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3293862": {
      "name": "AS_GCM_BL_clauseDataRuleConfigMap",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!refData: rule!AS_GCM_QR_getRefData(\n    refTypes: {\n      cons!AS_GCM_REF_TYPE_SOLICITATION_TYPE,\n      cons!AS_GCM_REF_TYPE_CONTRACT_METHOD,\n      cons!AS_GCM_REF_TYPE_CLAUSE_SET_TYPE\n    }\n  ),\n  local!contractTypeList: rule!AS_GCM_QR_getRefContractTypeData(contractTypeIds: null()),\n  {\n    a!map(\n      clauseDataId: cons!AS_GCM_REF_ID_CONTRACT_TYPE_DATA,\n      operatorIdList: {\n        cons!AS_GCM_REF_ID_EQUALS_OPERATOR,\n        cons!AS_GCM_REF_ID_NOT_EQUALS_OPERATOR\n      },\n      interface: rule!AS_GCM_CPS_ruleConditionContractTypes,\n      refData: local!contractTypeList,\n      fieldName: \"\"\n    ),\n    a!map(\n      clauseDataId: cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_CATEGORY,\n      operatorIdList: {\n        cons!AS_GCM_REF_ID_EQUALS_OPERATOR,\n        cons!AS_GCM_REF_ID_NOT_EQUALS_OPERATOR\n      },\n      interface: rule!AS_GCM_CPS_ruleConditionContractCategory,\n      refData: rule!AS_CO_UT_filterCdtByField(\n        cdt: local!refData,\n        field: \"refType\",\n        value: cons!AS_GCM_REF_TYPE_SOLICITATION_TYPE\n      ),\n      fieldName: \"refCategory.refDataId\"\n    ),\n    a!map(\n      clauseDataId: cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_METHOD,\n      operatorIdList: {\n        cons!AS_GCM_REF_ID_EQUALS_OPERATOR,\n        cons!AS_GCM_REF_ID_NOT_EQUALS_OPERATOR\n      },\n      interface: rule!AS_GCM_CPS_ruleConditionContractMethod,\n      refData: rule!AS_CO_UT_filterCdtByField(\n        cdt: local!refData,\n        field: \"refType\",\n        value: cons!AS_GCM_REF_TYPE_CONTRACT_METHOD\n      ),\n      fieldName: \"refContractMethod.refDataId\"\n    ),\n    a!map(\n      clauseDataId: cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_ESTIMATED_DOLLAR_AMOUNT,\n      operatorIdList: {\n        cons!AS_GCM_REF_ID_GREATER_THAN_OPERATOR,\n        cons!AS_GCM_REF_ID_LESS_THAN_OPERATOR,\n        cons!AS_GCM_REF_ID_IS_BETWEEN_OPERATOR\n      },\n      interface: rule!AS_GCM_CPS_ruleConditionDollarAmount,\n      fieldName: \"estimatedDollarAmt\"\n    ),\n    a!map(\n      clauseDataId: cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_PSC,\n      operatorIdList: {\n        cons!AS_GCM_REF_ID_EQUALS_OPERATOR,\n        cons!AS_GCM_REF_ID_NOT_EQUALS_OPERATOR\n      },\n      interface: rule!AS_GCM_CPS_ruleConditionPSCCode,\n      fieldName: \"pscCode\"\n    ),\n    a!map(\n      clauseDataId: cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_NAICS_CODE,\n      operatorIdList: {\n        cons!AS_GCM_REF_ID_EQUALS_OPERATOR,\n        cons!AS_GCM_REF_ID_NOT_EQUALS_OPERATOR\n      },\n      interface: rule!AS_GCM_CPS_ruleConditionNAICSCode,\n      fieldName: \"naicsCode\"\n    ),\n    a!map(\n      clauseDataId: cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACTING_OFFICER,\n      operatorIdList: {\n        cons!AS_GCM_REF_ID_IS_OPERATOR,\n        cons!AS_GCM_REF_ID_IS_NOT_OPERATOR\n      },\n      interface: rule!AS_GCM_CPS_ruleConditionUser,\n      fieldName: \"contractingOfficer\"\n    ),\n    a!map(\n      clauseDataId: cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_SPECIALIST,\n      operatorIdList: {\n        cons!AS_GCM_REF_ID_IS_OPERATOR,\n        cons!AS_GCM_REF_ID_IS_NOT_OPERATOR\n      },\n      interface: rule!AS_GCM_CPS_ruleConditionUser,\n      fieldName: \"contractSpecialist\"\n    ),\n    a!map(\n      clauseDataId: cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_OFFICER_REP,\n      operatorIdList: {\n        cons!AS_GCM_REF_ID_IS_OPERATOR,\n        cons!AS_GCM_REF_ID_IS_NOT_OPERATOR\n      },\n      interface: rule!AS_GCM_CPS_ruleConditionUser,\n      fieldName: \"contractingOffcrRep\"\n    ),\n    a!map(\n      clauseDataId: cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_START_DATE,\n      operatorIdList: {\n        cons!AS_GCM_REF_ID_BEFORE_OPERATOR,\n        cons!AS_GCM_REF_ID_AFTER_OPERATOR,\n        cons!AS_GCM_REF_ID_IS_BETWEEN_OPERATOR\n      },\n      interface: rule!AS_GCM_CPS_ruleConditionDate,\n      fieldName: \"contractStartDate\"\n    ),\n    a!map(\n      clauseDataId: cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CONTRACT_END_DATE,\n      operatorIdList: {\n        cons!AS_GCM_REF_ID_BEFORE_OPERATOR,\n        cons!AS_GCM_REF_ID_AFTER_OPERATOR,\n        cons!AS_GCM_REF_ID_IS_BETWEEN_OPERATOR\n      },\n      interface: rule!AS_GCM_CPS_ruleConditionDate,\n      fieldName: \"contractEndDate\"\n    ),\n    /*As we don't have any specfic interface for Questionnaire Question, we not passing the interface */\n    a!map(\n      clauseDataId: cons!AS_GCM_REF_ID_QUESTIONNAIRE_QUESTION_DATA,\n      operatorIdList: {\n        cons!AS_GCM_REF_ID_EQUALS_OPERATOR,\n        cons!AS_GCM_REF_ID_NOT_EQUALS_OPERATOR\n      },\n      interface:{},\n      fieldName: \"\"\n    ),\n    a!map(\n      clauseDataId: cons!AS_GCM_REF_ID_CLAUSE_SET_DATA_CLAUSE_SET_TYPE,\n      operatorIdList: {\n        cons!AS_GCM_REF_ID_EQUALS_OPERATOR,\n        cons!AS_GCM_REF_ID_NOT_EQUALS_OPERATOR\n      },\n      interface:rule!AS_GCM_CPS_ruleConditionClauseSetType,\n      refData: rule!AS_CO_UT_filterCdtByField(\n        cdt: local!refData,\n        field: \"refType\",\n        value: cons!AS_GCM_REF_TYPE_CLAUSE_SET_TYPE\n      ),\n      fieldName: \"refType.refDataId\"\n    )\n\n  }\n)"
    },
    "5f18e821-865e-464d-b974-57c20096c58f": {
      "name": "AS_GCM_UT_getIdentifiersInBatches",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!identifiers),\n  null(),\n  a!localVariables(\n    /* Batching size to divide the identifiers into batches */\n    local!batchingSize: a!defaultValue(\n      value: ri!batchingSize,\n      default: cons!AS_GCM_INT_QUERY_BATCH_SIZE_TINY\n    ),\n    local!identifiers: if(\n      and(\n        ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n        ri!pagingInfo.batchSize <> - 1\n      ),\n      index(\n        ri!identifiers,\n        enumerate(\n          a!defaultValue(\n            value: ri!pagingInfo.batchSize,\n            default: local!batchingSize\n          )\n        ) + a!defaultValue(\n          value: ri!pagingInfo.startIndex,\n          default: 1\n        ),\n        null()\n      ),\n      ri!identifiers\n    ),\n    /* To divide the whole identifiers to the total Batch Size */\n    local!batches: if(\n      rule!AS_CO_UT_isBlank(local!identifiers),\n      null(),\n      enumerate(\n        ceiling(\n          length(local!identifiers) / local!batchingSize\n        )\n      )\n    ),\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: local!batches,\n      expression: a!localVariables(\n        local!itemCount: if(\n          fv!item * local!batchingSize + local!batchingSize < length(local!identifiers),\n          local!batchingSize,\n          length(local!identifiers) - fv!item * local!batchingSize\n        ),\n        a!map(\n          batch: fv!item,\n          identifiers: index(\n            local!identifiers,\n            enumerate(local!itemCount) + fv!item * local!batchingSize + 1,\n            null\n          )\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76367": {
      "name": "AS_CO_UT_rejectNullValuesFromArray",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!array),\n  reject(\n    rule!AS_CO_UT_isBlank(_),\n    a!flatten(ri!array)\n  )\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_84411": {
      "name": "AS_CO_I18N_UT_getAndDisplayLabelSingle",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  a!localVariables(\n  \n    local!bundleKeyParse: rule!AS_CO_I18N_UT_parseBundleKey(\n      bundleKey: ri!bundleKey\n    ),\n    \n    local!i18nData: rule!AS_CO_I18N_UT_loadBundleFromFolder(\n      bundleFolder: ri!bundleFolder,\n      bundleNames: local!bundleKeyParse.bundleName,\n      localeAgnostic: ri!localeAgnostic\n    ),\n    \n    rule!AS_CO_I18N_UT_displayLabel(\n      i18nData: local!i18nData,\n      bundleKey: ri!bundleKey,\n      arguments: ri!arguments\n    )\n  )\n)"
    },
    "_a-0000eee8-b1ee-8000-9e5a-011c48011c48_17687647": {
      "name": "AS_GCM_MapForeignKeysInRuleConditionGroupVersions_Recursion",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!ruleConditionGroupVersions),\n  {},\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!ruleConditionGroupVersions,\n    expression: a!localVariables(\n      local!updatedConditionGroupVersionData: #\"urn:appian:function:v1:a:update\"(\n        if(\n          rule!AS_CO_UT_isBlank(\n            fv!item[recordType!AS GCM QNM Rule Condition Group Version.ruleConditionVersion]\n          ),\n          fv!item,\n          #\"urn:appian:function:v1:a:update\"(\n            fv!item,\n            recordType!AS GCM QNM Rule Condition Group Version.ruleConditionVersion.ruleVersionId,\n            ri!ruleVersionId\n          )\n        ),\n        recordType!AS GCM QNM Rule Condition Group Version.ruleVersionId,\n        ri!ruleVersionId\n      ),\n      #\"urn:appian:function:v1:a:update\"(\n        local!updatedConditionGroupVersionData,\n        recordType!AS GCM QNM Rule Condition Group Version.ruleConditionGroupVersion,\n        rule!AS_GCM_MapForeignKeysInRuleConditionGroupVersions_Recursion(\n          ruleConditionGroupVersions: local!updatedConditionGroupVersionData[recordType!AS GCM QNM Rule Condition Group Version.ruleConditionGroupVersion],\n          ruleVersionId: ri!ruleVersionId\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000eb32-2fbb-8000-9d0d-011c48011c48_9761091": {
      "name": "AS_GCM_filterRecords",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!fieldValuePairs: a!defaultValue(\n    ri!fieldValuePairs,\n    #\"SYSTEM_SYSRULES_forEach\"(\n      items: a!flatten(ri!field),\n      expression: a!map(\n        field: fv!item,\n        value: if(\n          fv!itemCount = 1,\n          ri!value,\n          index(a!flatten(ri!value), fv!index, null)\n        )\n      )\n    )\n  ),\n  local!matchIndices: if(\n    a!isNullOrEmpty(a!flatten(ri!records)),\n    tointeger({}),\n    reduce(\n      rule!AS_GCM_filterRecords_Reducer(\n        previousIndices: _,\n        records: a!flatten(ri!records),\n        fieldValuePair: _\n      ),\n      enumerate(count(a!flatten(ri!records))) + 1,\n      local!fieldValuePairs\n    )\n  ),\n  local!rejectIndices: difference(\n    if(\n      a!isNullOrEmpty(ri!records),\n      tointeger({}),\n      enumerate(count(a!flatten(ri!records))) + 1\n    ),\n    local!matchIndices\n  ),\n  local!matches: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!matchIndices, {})\n  ),\n  local!rejects: cast(\n    runtimetypeof(ri!records),\n    index(ri!records, local!rejectIndices, {})\n  ),\n  local!output: a!match(\n    value: a!defaultValue(ri!filterType, \"FILTER\"),\n    equals: \"FILTER\",\n    then: local!matches,\n    equals: \"REJECT\",\n    then: local!rejects,\n    equals: \"FIRST_MATCH\",\n    then: index(local!matches, 1, null),\n    equals: \"FIRST_REJECT\",\n    then: index(local!rejects, 1, null),\n    equals: \"MATCH_COUNT\",\n    then: count(local!matchIndices),\n    equals: \"REJECT_COUNT\",\n    then: count(local!rejectIndices),\n    equals: \"MATCH_INDICES\",\n    then: local!matchIndices,\n    equals: \"REJECT_INDICES\",\n    then: local!rejectIndices,\n    equals: \"FULL_RESULT\",\n    then: a!map(\n      matches: local!matches,\n      rejects: local!rejects,\n      firstMatch: index(local!matches, 1, null),\n      firstReject: index(local!rejects, 1, null),\n      matchCount: count(local!matchIndices),\n      rejectCount: count(local!rejectIndices),\n      matchIndices: local!matchIndices,\n      rejectIndices: local!rejectIndices\n    ),\n    default: fn!error(\n      \"Invalid filterType, must be one of: FILTER, REJECT, FIRST_MATCH, FIRST_REJECT, MATCH_COUNT, REJECT_COUNT, MATCH_INDICES, REJECT_INDICES, FULL_RESULT\"\n    )\n  ),\n  local!output\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_983535": {
      "name": "AS_GAM_ADT_UT_constructFieldChangesDictionaryForManipulatedAudit",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Indexing 1 to convert list of dictionary to list*/\n  local!complexFieldConfig: index(\n    rule!AS_CO_UT_filterCdtByField(\n      cdt: ri!auditParams.auditConfig.complexFields,\n      field: \"auditFieldName\",\n      value: tostring(ri!auditParams.complexFieldName)\n    ),\n    1,\n    null\n  ),\n  local!foreignIdField: tostring(\n    a!flatten(\n      index(\n        local!complexFieldConfig,\n        \"foreignIdField\",\n        null\n      )\n    )\n  ),\n  local!auditConfig: rule!AS_CO_UT_dynamicDictionary(\n    fieldValuePairs: {\n      /*Field value pairs for parent object audit*/\n      { field: \"username\", value: ri!initiator },\n      { field: \"timestamp\", value: now() },\n      {\n        field: \"auditActionCode\",\n        value: ri!auditParams.externalAction\n      },\n      /*Indexing the \"idField\" of the parent object using \"foreignIdField\"*/\n      if(\n        rule!AS_CO_UT_isBlank(local!foreignIdField),\n        {},\n        {\n          field: ri!auditParams.auditConfig.idField,\n          value: tointeger(\n            rule!AS_CO_UT_replaceNull(\n              nullableValue: index(\n                rule!AS_CO_UT_indexPath(\n                  cdt: ri!auditParams.newObjects,\n                  field: ri!auditParams.auditConfig.idField\n                ),\n                1,\n                null\n              ),\n              replacementValue: index(\n                rule!AS_CO_UT_indexPath(\n                  cdt: ri!auditParams.newObjects,\n                  field: local!foreignIdField\n                ),\n                1,\n                null\n              )\n            )\n          )\n        }\n      ),\n      {\n        field: tostring(ri!auditParams.complexFieldName),\n        value: if(\n          rule!AS_CO_UT_isBlank(ri!auditParams.manipulationAudit),\n          /*If the audit calculation for the nested CDT involves generic field changes (i.e the manipulation audit is null), we can directly use the field change rule to calculate the audit*/\n          rule!AS_ADT_UT_calculateAudit(\n            originalObjects: rule!AS_CO_UT_castToDictionaryList(value: ri!auditParams.originalObjects),\n            newObjects: rule!AS_CO_UT_castToDictionaryList(value: ri!auditParams.newObjects),\n            objectTypeNumber: ri!auditParams.objectTypeNumber,\n            auditConfig: rule!AS_CO_UT_castToDictionary(value: local!complexFieldConfig),\n            namespace: ri!auditParams.namespace,\n            username: ri!initiator,\n            externalAction: null\n          ),\n          /*If the audit data is nested and is manipulated and passed from outsite, we can directly construct the audit entry for each ri!auditParams.manipulationAudit*/\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!auditParams.manipulationAudit,\n            expression: rule!AS_CO_UT_dynamicDictionary(\n              fieldValuePairs: {\n                if(\n                  rule!AS_CO_UT_isNotBlank(local!complexFieldConfig.idField),\n                  {\n                    field: local!complexFieldConfig.idField,\n                    value: index(\n                      ri!auditParams.newObjects,\n                      tostring(local!complexFieldConfig.idField),\n                      null\n                    )\n                  },\n                  {}\n                ),\n                { field: \"username\", value: ri!initiator },\n                { field: \"timestamp\", value: now() },\n                {\n                  field: \"auditActionCode\",\n                  value: /*If the action code varies for each manipulation audit, actionCode within auditParams.manipulationAudit will be used. Else, externalAction will be used*/\n                  rule!AS_CO_UT_replaceNull(\n                    nullableValue: fv!item.actionCode,\n                    replacementValue: ri!auditParams.externalAction\n                  )\n                },\n                if(\n                  rule!AS_CO_UT_isNotBlank(\n                    local!complexFieldConfig.foreignIdField\n                  ),\n                  {\n                    field: local!complexFieldConfig.foreignIdField,\n                    value: index(\n                      rule!AS_CO_UT_indexPath(\n                        cdt: ri!auditParams.newObjects,\n                        field: local!complexFieldConfig.foreignIdField\n                      ),\n                      1,\n                      null\n                    )\n                  },\n                  {}\n                ),\n                /*The field changes will be passed as label value pairs in \"fieldChanges\" column of auditParams.manipulationAudit\"*/\n                {\n                  field: \"simpleFieldChanges\",\n                  value: rule!AS_CO_UT_castToDictionaryList(value: fv!item.fieldChanges)\n                }\n              }\n            )\n          )\n        )\n      }\n    }\n  ),\n  if(\n    /*To make the action code \"UNCHANGED\" if the object is unmodified(excluding the metadata)*/\n    rule!AS_CO_UT_not(\n      contains(\n        a!flatten(\n          {\n            rule!AS_CO_UT_isBlank(\n              index(\n                rule!AS_CO_UT_indexPath(\n                  cdt: local!auditConfig,\n                  field: tostring(ri!auditParams.complexFieldName)\n                ),\n                \"simpleFieldChanges\",\n                null\n              )\n            ),\n            #\"SYSTEM_SYSRULES_forEach\"(\n              items: {\n                index(\n                  index(\n                    local!complexFieldConfig,\n                    \"complexFields\",\n                    null\n                  ),\n                  \"auditFieldName\",\n                  null\n                )\n              },\n              expression: rule!AS_CO_UT_isBlank(\n                rule!AS_CO_UT_rejectCdtByField(\n                  cdt: index(\n                    rule!AS_CO_UT_indexPath(\n                      cdt: local!auditConfig,\n                      field: tostring(ri!auditParams.complexFieldName)\n                    ),\n                    fv!item,\n                    null\n                  ),\n                  field: \"auditActionCode\",\n                  value: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n                )\n              )\n            )\n          }\n        ),\n        false\n      )\n    ),\n    rule!AS_CO_UT_updateCdtFields(\n      cdt: local!auditConfig,\n      fields: \"auditActionCode\",\n      newValues: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n    ),\n    local!auditConfig\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_74506": {
      "name": "AS_CO_CP_radioButtonField",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!displayValue: displayvalue(\n    ri!value,\n    ri!choiceValues,\n    ri!choiceLabels,\n    null\n  ),\n  if(\n    ri!readOnly,\n    rule!AS_CO_DSP_standardReadOnlyField(\n      label: ri!label,\n      instructions: ri!instructions,\n      value: if(\n        isnull(ri!readOnlyValue),\n        local!displayValue,\n        ri!readOnlyValue\n      ),\n      labelPosition: ri!labelPosition,\n      helpTooltip: ri!helpTooltip,\n      showWhen: ri!showWhen,\n      accessibilityText: ri!accessibilityText,\n    ),\n    #\"SYSTEM_SYSRULES_radioButtonField_v1\"(\n      label: ri!label,\n      labelPosition: rule!AS_CO_UT_getLabelPosition(\n        label: ri!label,\n        labelPosition: ri!labelPosition,\n        readOnly: ri!readOnly\n      ),\n      instructions: ri!instructions,\n      helpTooltip: ri!helpTooltip,\n      choiceLabels: ri!choiceLabels,\n      choiceValues: ri!choiceValues,\n      value: if(\n        isnull(local!displayValue),\n        null,\n        ri!value\n      ),\n      saveInto: ri!saveInto,\n      showWhen: if(isnull(ri!showWhen), true, ri!showWhen),\n      required: if(ri!readOnly, false, ri!required),\n      /* Updated requiredMessage parameter to show default validation text*/\n      requiredMessage: rule!AS_CO_UT_displayRequiredMessage(\n        label: ri!label,\n        requiredMessage: ri!requiredMessage\n      ),\n      disabled: ri!disabled,\n      choiceLayout: ri!choiceLayout,\n      validations: ri!validations,\n      validationGroup: ri!validationGroup,\n      accessibilityText: ri!accessibilityText,\n      choiceStyle: ri!choiceStyle\n    )\n  )\n)"
    },
    "_a-0000e69a-ff03-8000-9bd0-011c48011c48_1576649": {
      "name": "AS_GCM_QNM_UT_ruleStartAuditProcess_Parameters",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!originalRuleHelper: if(\n    or(\n      rule!AS_CO_UT_isNotBlank(ri!originalRuleClauses),\n      rule!AS_CO_UT_isNotBlank(ri!originalRule)\n    ),\n    rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n      cdt: rule!AS_CO_UT_cast(\n        type: #\"urn:appian:function:v1:a:listtype?okey=a!listType\"('type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_T_Rule'),\n        value: ri!originalRule\n      ),\n      fieldValuePairs: {\n        field: \"conditionClauses\",\n        value: ri!originalRuleClauses\n      }\n    ),\n    {}\n  ),\n  local!ruleHelper: rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n    cdt: rule!AS_CO_UT_cast(\n      type: #\"urn:appian:function:v1:a:listtype?okey=a!listType\"('type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_T_Rule'),\n      value: ri!rule\n    ),\n    fieldValuePairs: {\n      field: \"conditionClauses\",\n      value: ri!ruleClauses\n    }\n  ),\n  rule!AS_ADT_UT_startAuditProcess_Parameters(\n    newObjects: local!ruleHelper,\n    originalObjects: local!originalRuleHelper,\n    objectType: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_T_Rule',\n    auditDse: cons!AS_GCM_QNM_ENT_A_T_RULE,\n    auditConfig: rule!AS_GCM_QNM_ADT_BL_auditConfig_Rule(),\n    username: ri!initiator\n  ).auditParams\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_983591": {
      "name": "AS_GAM_ADT_UT_constructDynamicDictionaryForManipulatedAudit",
      "type": "Expression Rule",
      "sail_code": "/*If the audit data is not nested and is manipulated and passed from outsite, we can directly construct the audit entry for each ri!auditParams.manipulationAudit*/\n#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!auditParams.manipulationAudit,\n  expression: rule!AS_CO_UT_dynamicDictionary(\n    fieldValuePairs: {\n      if(\n        rule!AS_CO_UT_isBlank(\n          index(\n            ri!auditParams.auditConfig,\n            \"idField\",\n            null\n          )\n        ),\n        {},\n        {\n          field: ri!auditParams.auditConfig.idField,\n          value: index(\n            index(\n              ri!auditParams.newObjects,\n              tostring(ri!auditParams.auditConfig.idField),\n              null\n            ),\n            1,\n            null\n          )\n        }\n      ),\n      { field: \"username\", value: ri!initiator },\n      { field: \"timestamp\", value: now() },\n      {\n        field: \"auditActionCode\",\n        value: /*If the action code varies for each manipulation audit, actionCode within auditParams.manipulationAudit will be used. Else, externalAction will be used*/\n        rule!AS_CO_UT_replaceNull(\n          nullableValue: fv!item.actionCode,\n          replacementValue: ri!auditParams.externalAction\n        )\n      },\n      if(\n        rule!AS_CO_UT_isNotBlank(\n          ri!auditParams.auditConfig.foreignIdField\n        ),\n        {\n          field: ri!auditParams.auditConfig.foreignIdField,\n          value: index(\n            index(\n              ri!auditParams.newObjects,\n              tostring(\n                ri!auditParams.auditConfig.foreignIdField\n              ),\n              null\n            ),\n            1,\n            null\n          )\n        },\n        {}\n      ),\n      /*The field changes will be passed as label value pairs in \"fieldChanges\" column of auditParams.manipulationAudit\"*/\n      {\n        field: \"simpleFieldChanges\",\n        value: rule!AS_CO_UT_castToDictionaryList(value: fv!item.fieldChanges)\n      }\n    }\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_74260": {
      "name": "AS_CO_UT_formatFieldEntryPlaceHolder",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!placeholderTrim: trim(ri!placeholder),\n  if(\n    rule!AS_CO_UT_isBlank(local!placeholderTrim),\n    \"\",\n    if(\n      ri!wrapInMarkers,\n      concat(\"--- \", local!placeholderTrim, \" ---\"),\n      if(\n        ri!appendEllipsis,\n        concat(local!placeholderTrim, \"...\"),\n        local!placeholderTrim\n      )\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73536": {
      "name": "AS_CO_UT_isBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  length(a!flatten(ri!value)) = 0\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_74131": {
      "name": "AS_CO_DSP_standardReadOnlyField",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_textField\"(\n  label: ri!label,\n  labelPosition: rule!AS_CO_UT_getLabelPosition(\n    label: ri!label,\n    labelPosition: ri!labelPosition,\n    readOnly: true\n  ),\n  instructions: ri!instructions,\n  helpTooltip: ri!helpTooltip,\n  value: rule!AS_CO_UT_replaceNull(\n    nullableValue: ri!value,\n    replacementValue: if(\n      rule!AS_CO_UT_booleanDefaultTrue(\n        ri!showHyphenIfValueNull\n      ),\n      \"-\",\n      \"\"\n    )\n  ),\n  showWhen: ri!showWhen,\n  readOnly: true,\n  align: ri!align,\n  accessibilityText: ri!accessibilityText\n)"
    },
    "_a-0000e675-e3a8-8000-9bcb-011c48011c48_1453953": {
      "name": "AS_GCM_QNM_GRD_availableClausesCatalog",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n  label: if(\n    ri!isTemplate,\n    \"\",\n    \"\"\n  ),\n  labelSize: \"MEDIUM\",\n  labelHeadingTag: \"H2\",\n  labelColor: \"SECONDARY\",\n  contents: {\n    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n      labelPosition: \"COLLAPSED\",\n      instructions: \"\",\n      value: {\n        if(\n          ri!isTemplate,\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: \"Select the clauses to include in the template\",\n            color: \"STANDARD\"\n          ),\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: rule!AS_GAM_CO_I18N_UT_displayLabel(\n              bundle: ri!bundle,\n              bundleKey: if(\n                ri!isIncludeClausesPage,\n                \"ins_AvailableClauses\",\n                \"ins_ExcludeClauseFromRule\"\n              )\n            ),\n            color: \"STANDARD\"\n          )\n        )\n      }\n    ),\n    #\"SYSTEM_SYSRULES_gridField_v2\"(\n      label: if(\n        ri!isTemplate,\n        \"\",\n        \"\"\n      ),\n      labelPosition: \"COLLAPSED\",\n      emptyGridMessage: \"\",\n      data: #\"SYSTEM_SYSRULES_recordData\"(\n        recordType: recordType!AS GCM R Clause,\n        filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM R Clause.isActive,\n          operator: \"=\",\n          value: true\n        )\n      ),\n      columns: {\n        rule!AS_GCM_UI_refClauseTitleGridColumn(\n          bundle: ri!bundle,\n          linkShowWhen: false,\n          showTruncatedClauseTitle: true\n        )\n      },\n      pageSize: cons!AS_CO_ENUM_PAGE_SIZE_MEDIUM,\n      initialSorts: #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!AS GCM R Clause.modifiedDatetime,\n        ascending: false()\n      ),\n      selectable: true,\n      selectionValue: a!flatten(ri!availableRefClauses)[recordType!AS GCM R Clause.clauseId],\n      selectionSaveInto: {\n        rule!AS_CO_UT_simpleGridSelectionSaveInto(target: ri!availableRefClauses)\n      },\n      disableRowSelectionWhen: contains(ri!unavailableClauseIds, fv!identifier),\n      validations: {},\n      shadeAlternateRows: false(),\n      rowHeader: 1,\n      accessibilityText: if(\n        ri!isTemplate,\n        \"\",\n        \"\"\n      ),\n      refreshOnVarChange: ri!triggerRefresh,\n      refreshAfter: \"RECORD_ACTION\",\n      userFilters: {\n        #\"urn:appian:user-filter:v1:83b74fc4-71d0-456a-8b20-12ea04b76cd1/72b58b53-ced9-4027-afa2-5946c8a16f3e\",\n        #\"urn:appian:user-filter:v1:83b74fc4-71d0-456a-8b20-12ea04b76cd1/4b4bc120-45e6-45cf-962b-ddf5431b5fb8\"\n      },\n      showSearchBox: true,\n      showRefreshButton: false(),\n      showExportButton: false(),\n      actionsDisplay: \"LABEL_AND_ICON\"\n    )\n  },\n  marginBelow: \"NONE\"\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_260165": {
      "name": "AS_CO_UT_updateCdtFields",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    and(\n      rule!AS_CO_UT_isBlank(ri!cdt),\n      rule!AS_CO_UT_checkIfArrayType(\n        typeOf: ri!cdt\n      )\n    ),\n    ri!cdt,\n    reduce(\n      rule!AS_CO_UT_zINTERNAL_updateCdtFieldsByPath_handler(\n        cdt: _,\n        indices: ri!indices,\n        field: _,\n        newValue: _\n      ),\n      ri!cdt,\n      merge(\n        a!flatten(ri!fields),\n        a!flatten(ri!newValues)\n      )\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_74104": {
      "name": "AS_CO_VD_textValidation",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Text',\n  a!localVariables(\n    local!length: len(ri!value),\n    local!minLength: rule!AS_CO_UT_replaceNull(\n      nullableValue: ri!minLength,\n      replacementValue: 0\n    ),\n    if(\n      /* Does not meet exact length requirement */\n      and(\n        rule!AS_CO_UT_isNotBlank(ri!minLength),\n        rule!AS_CO_UT_isNotBlank(ri!maxLength),\n        ri!minLength = ri!maxLength,\n        local!length <> ri!minLength\n      ),\n      rule!AS_CO_UT_replaceNull(\n        nullableValue: rule!AS_CO_UT_replaceNull(\n          nullableValue: ri!maxLengthMessage,\n          replacementValue: ri!minLengthMessage\n        ),\n        replacementValue: rule!AS_CO_UT_displayCommonObjectBundleLabel(\n          bundleKey: if(\n            ri!minLength = 1,\n            \"AS.CO.CommonObjects.vld_EnterExactlySingle\",\n            \"AS.CO.CommonObjects.vld_EnterExactlyMultiple\"\n          ),\n          arguments: ri!minLength\n        )\n      ),\n      /*Too short*/\n      if(\n        local!length < ri!minLength,\n        rule!AS_CO_UT_replaceNull(\n          nullableValue: ri!minLengthMessage,\n          replacementValue: rule!AS_CO_UT_displayCommonObjectBundleLabel(\n            bundleKey: \"AS.CO.CommonObjects.vld_EnterAtLeast\",\n            arguments: local!minLength\n          )\n        ),\n        /*Too long*/\n        if(\n          and(\n            rule!AS_CO_UT_isNotBlank(ri!maxLength),\n            local!length > ri!maxLength\n          ),\n          rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!maxLengthMessage,\n            replacementValue: rule!AS_CO_UT_displayCommonObjectBundleLabel(\n              bundleKey: if(\n                ri!maxLength = 1,\n                \"AS.CO.CommonObjects.vld_EnterNoMoreThanSingle\",\n                \"AS.CO.CommonObjects.vld_EnterNoMoreThanMultiple\"\n              ),\n              arguments: ri!maxLength\n            )\n          ),\n          /*Valid*/\n          \"\"\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75660": {
      "name": "AS_CO_UT_returnCdtFields",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text?list',\n  with(\n    local!cdtFields: rule!AS_CO_UT_zINTERNAL_returnCdtFields_handler(\n      type: ri!type,\n      typeOf: ri!typeOf\n    ),\n    \n    if(\n      ri!onlyPrimitiveFields,\n      filter(\n        rule!AS_CO_UT_zINTERNAL_returnCdtFields_primitiveTypeCheckHandler(\n          singleType: rule!AS_CO_UT_returnSingleTypeObject(\n            type: ri!type,\n            typeOf: ri!typeOf\n          ),\n          field: _\n        ),\n        local!cdtFields\n      ),\n      ri!onlyComplexFields,\n      reject(\n        rule!AS_CO_UT_zINTERNAL_returnCdtFields_primitiveTypeCheckHandler(\n          singleType: rule!AS_CO_UT_returnSingleTypeObject(\n            type: ri!type,\n            typeOf: ri!typeOf\n          ),\n          field: _\n        ),\n        local!cdtFields\n      ),\n      local!cdtFields\n    )\n  )\n)"
    },
    "0002e67e-d5f8-8000-1c5a-7f0000014e7a": {
      "name": "AS GCM QNM Create or Edit Rule",
      "type": "Process Model",
      "sail_code": "// Input: ?\npv!rule\n\n// Input: ?\n=recordType!AS GCM QNM T Rule\n\n// Output: ?\nAC!RecordsUpdated\n\n// Output: ?\nrule!AS_GCM_QNM_incrementRuleVersion(rule: ac!RecordsUpdated)\n\n// Input: ?\n= rule!AS_GCM_setRecordFields( record: pv!originalRule, childRelationships: a!map( field: recordType!AS GCM QNM T Rule.conditionClauses, /* Retaining only the changed condition clauses for better performance */value: rule!AS_GCM_filterRecords( records: pv!originalRule[recordType!AS GCM QNM T Rule.conditionClauses], field: recordType!AS GCM QNM T Rule Condition Clause.clauseMapId, value: pv!rule[recordType!AS GCM QNM T Rule.conditionClauses.clauseMapId] ) ))\n\n// Output: ?\nrule!AS_GCM_QNM_setMetaDataForRuleRecord(\n  rule: pv!rule,\n  initiator: pp!initiator,\n  originalRule: ac!originalRule\n)\n\n// Output: ?\nif(\n  rule!AS_CO_UT_isBlank(\n    pv!rule[recordType!AS GCM QNM T Rule.conditionGroups]\n  ),\n  pv!rule,\n  #\"urn:appian:function:v1:a:update\"(\n    pv!rule,\n    recordType!AS GCM QNM T Rule.conditionGroups,\n    rule!AS_GCM_MapForeignKeysInRuleConditionGroups_Recursion(\n      ruleConditionGroups: pv!rule[recordType!AS GCM QNM T Rule.conditionGroups],\n      ruleId: pv!rule[recordType!AS GCM QNM T Rule.ruleId]\n    )\n  )\n)\n\n// Input: ?\npv!rule\n\n// Input: ?\n=recordType!AS GCM QNM T Rule\n\n// Output: ?\nAC!RecordsUpdated\n\n// Output: ?\nrule!AS_GCM_QNM_incrementRuleVersion(rule: ac!RecordsUpdated)\n\n// Output: ?\nif(\n  rule!AS_CO_UT_isBlank(\n    pv!ruleVersion[recordType!AS GCM QNM Rule Version.ruleConditionGroupVersions]\n  ),\n  pv!ruleVersion,\n  #\"urn:appian:function:v1:a:update\"(\n    pv!ruleVersion,\n    recordType!AS GCM QNM Rule Version.ruleConditionGroupVersions,\n    rule!AS_GCM_MapForeignKeysInRuleConditionGroupVersions_Recursion(\n      ruleConditionGroupVersions: pv!ruleVersion[recordType!AS GCM QNM Rule Version.ruleConditionGroupVersions],\n      ruleVersionId: pv!ruleVersion[recordType!AS GCM QNM Rule Version.ruleVersionId]\n    )\n  )\n)\n\n// Input: ?\n=pv!ruleVersion\n\n// Input: ?\n=recordType!AS GCM QNM Rule Version\n\n// Output: ?\nAC!RecordsUpdated\n\n// Input: ?\n={pv!ruleVersion}\n\n// Input: ?\n={recordType!AS GCM QNM Rule Version}\n\n// Input: ?\n=cons!AS_GCM_QNM_ENT_A_T_RULE\n\n// Input: ?\n=pv!ruleAudit\n\n// Output: ?\nAC!StoredValues\n\n// Input: ?\n= rule!AS_GCM_UT_captureAuditForRules( originalRule: pv!originalRule, rules: pv!rule, originalRuleClauses: pv!originalRule[recordType!AS GCM QNM T Rule.conditionClauses], ruleClauses: pv!rule[recordType!AS GCM QNM T Rule.conditionClauses], initiator: pp!initiator)\n\n// Output: ?\nindex(ac!StoredValues, 1, \"data\", {})\n\n// Input: ?\n=rule!AS_GCM_QE_getRefRuleAudits( returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY, ruleId: pv!rule[recordType!AS GCM QNM T Rule.ruleId], executeWhen: rule!AS_CO_UT_isNotBlank( pv!rule[recordType!AS GCM QNM T Rule.ruleId] ), includeUnchangedAudit: true, additionalFilters: #\"SYSTEM_SYSRULES_queryFilter\"( field: \"ruleAuditId\", operator: \"in\", value: { pv!ruleAudit.ruleAuditId } ))\n\n// Output: ?\nif(\n  and(\n    rule!AS_CO_UT_isBlank(ac!ruleAudit.conditionGroupsChanges),\n    rule!AS_CO_UT_isBlank(ac!ruleAudit.conditionsChanges)\n  ),\n  ac!ruleAudit,\n  rule!AS_GCM_updateRefRuleAudit(rule: pv!rule, ruleAudit: ac!ruleAudit)\n)"
    },
    "_a-0000ec50-376f-8000-9d94-011c48011c48_12909959": {
      "name": "AS_GCM_getColorBasedOnColorName",
      "type": "Expression Rule",
      "sail_code": "a!match(\n  value: ri!colorName,\n  /* White Colors */\n  equals: \"WHITE\",\n  then: cons!AS_GCM_HEX_CODE_WHITE,\n  equals: \"WHITE_2\",\n  then: cons!AS_GCM_HEX_CODE_WHITE_2,\n  /* Gray Colors */\n  equals: \"GRAY_0\",\n  then: cons!AS_GCM_HEX_CODE_GRAY_0,\n  equals: \"GRAY_1\",\n  then: \"#EDEDF2\",\n  equals: \"GRAY_2\",\n  then: \"#DCDCE5\",\n  equals: \"GRAY_3\",\n  then: cons!AS_GCM_HEX_CODE_GRAY_3,\n  equals: \"GRAY_4\",\n  then: \"#2E2E35\",\n  /* Orange Colors */\n  equals: \"ORANGE_1\",\n  then: \"#FFEED3\",\n  equals: \"ORANGE_2\",\n  then: \"#FFDCA3\",\n  equals: \"ORANGE_3\",\n  then: \"#FAA92F\",\n  equals: \"ORANGE_4\",\n  then: \"#995C00\",\n  /* Blue Colors */\n  equals: \"BLUE_0\",\n  then: cons!AS_GCM_HEX_CODE_BLUE_0,\n  equals: \"BLUE_1\",\n  then: cons!AS_GCM_HEX_CODE_BLUE_1,\n  equals: \"BLUE_2\",\n  then: \"#AFBFF8\",\n  equals: \"BLUE_3\",\n  then: \"#2322F0\",\n  equals: \"BLUE_4\",\n  then: cons!AS_GCM_HEX_CODE_BLUE_4,\n  equals: \"BLUE_5\",\n  then: \"#E9EDFC\",\n  equals: \"BLUE_6\",\n  then: \"#08088D\",\n  equals: \"BLUE_7\",\n  then: \"#DCDEF5\",\n  /* Green Colors  */\n  equals: \"GREEN_1\",\n  then: \"#E3FBDF\",\n  equals: \"GREEN_4\",\n  then: \"#117C00\",\n  /* Teal Colors */\n  equals: \"TEAL_1\",\n  then: \"#E2FAF9\",\n  equals: \"TEAL_3\",\n  then: \"#56ADC0\",\n  equals: \"TEAL_4\",\n  then: \"#2C6770\",\n  /* Purple Colors */\n  equals: \"PURPLE_1\",\n  then: \"#F2E9FF\",\n  equals: \"PURPLE_3\",\n  then: \"#B561FF\",\n  equals: \"PURPLE_4\",\n  then: \"#790DA1\",\n  /* Red Colors */\n  equals: \"RED_4\",\n  then: \"#9F0019\",\n  /* Yellow Colors */\n  equals: \"YELLOW_0\",\n  then: \"#FFFCEB\",\n  equals: \"YELLOW_1\",\n  then: \"#FFF6C9\",\n  equals: \"YELLOW_4\",\n  then: \"#856C00\",\n  /* Appian Colors */\n  equals: \"APPIAN_BACKGROUND\",\n  then: cons!AS_GCM_HEX_CODE_APPIAN_BACKGROUND,\n  equals: \"ACCENT\",\n  then: \"#2322f0\",\n  default: ri!colorName\n)"
    },
    "_a-0000ea95-3eb3-8000-9cc0-011c48011c48_8052294": {
      "name": "AS_GCM_blankSave",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(local!temp, a!save(local!temp, {}))"
    },
    "_a-0000eef1-ed02-8000-9e5c-011c48011c48_17783431": {
      "name": "AS_GCM_QNM_ADT_BL_auditConfig_RuleConditionGroups",
      "type": "Expression Rule",
      "sail_code": "{\n  fieldName: \"conditionGroups\",\n  idField: \"ruleConditionGroupId\",\n  auditFieldName: \"conditionGroupsChanges\",\n  foreignIdField: \"\",\n  simpleFields: {\n    \"orderNumber\",\n    \"parentConditionGroupId\",\n    \"ruleId\",\n    \"ruleConditionGroupName\",\n    \"refOperatorId\",\n    \"depthLevel\",\n    \"isActive\"\n  },\n  complexFields: {\n    rule!AS_GCM_ADT_BL_auditConfig_ruleConditions(),\n    if(\n      ri!depthLevel = cons!AS_GCM_INT_MAX_RULE_CONDITION_GROUP_NESTING_LEVEL,\n      {},\n      rule!AS_GCM_QNM_ADT_BL_auditConfig_RuleConditionGroups(\n        a!defaultValue(value: ri!depthLevel, default: 1) + 1\n      )\n    )\n  }\n}"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_272151": {
      "name": "AS_CO_UT_whereContains",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer?list',\n  with(\n    local!array: a!flatten(ri!array),\n  \n    if(\n    \n      /*Have to handle separately for document types due to how it casts to string*/\n      rule!AS_CO_UT_typeCompare(\n        value1: local!array,\n        value2: {todocument(null)}\n      ),\n      wherecontains(\n        todocument(ri!values),\n        local!array\n      ),\n    \n      /*Have to handle separately for group types due to how it casts to string*/\n      rule!AS_CO_UT_typeCompare(\n        value1: local!array,\n        value2: {togroup(null)}\n      ),\n      wherecontains(\n        togroup(ri!values),\n        local!array\n      ),\n    \n      /*Casting to string accounts for any primitive type (integer, boolean, ect.)*/\n      wherecontains(\n        if(\n          rule!AS_CO_UT_isBlank(ri!values),\n          touniformstring(ri!values),\n          touniformstring(a!flatten(ri!values))\n        ),\n        touniformstring(local!array)\n      )\n    )\n  )\n)"
    },
    "_a-0000ec50-376f-8000-9d94-011c48011c48_12937069": {
      "name": "AS_GCM_UT_queryRecordByIdentifier",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS ON HOW TO USE\n\nPlease DO NOT auto-format this rule\n\n*/\na!localVariables(\n  /*Determine the castResultToType*/\n  local!castResultToType: a!defaultValue(ri!castToCdtType, ri!recordType),\n  /*Execute the query*/\n  local!queryResult: a!refreshVariable(\n    value: if(\n      ri!executeWhen = false,\n      null(ri!recordType),\n      #\"SYSTEM_SYSRULES_queryRecordByIdentifier\"(\n        recordType: ri!recordType,\n        identifier: ri!identifier,\n        fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n          {\n            ri!fields,\n            index(\n              ri!relatedRecordData,\n              \"relationship\",\n              null\n            )\n          }\n        ),\n        relatedRecordData: ri!relatedRecordData\n      )\n    ),\n    refreshOnVarChange: ri!triggerRefresh,\n    refreshInterval: ri!refreshInterval,\n    refreshAfter: { \"RECORD_ACTION\" }\n  ),\n  rule!AS_CO_UT_cast(\n    type: local!castResultToType,\n    value: local!queryResult\n  )\n)/*\n\nDOCUMENTATION\n\nThis rule is designed to minimize the overhead with querying data and then casting the result\n\n\nRequired Inputs:\n\n1. recordType\n- This is a recordtype! input of the data type to be queried against\n\n2. identifier\n- The primary key of the record type which needs to be queried\n\nOptional Inputs:\n\n3. executeWhen\n- The query will not execute if this is false, the query will execute if this is true or null\n-- This is meant to operate in a similar manner to the showWhen parameter of components\n- Use this to skip execution of a query without needing to wrap if() statements around the rule\n-- Examples of this would be to skip querying if your filter value is a null ID\n- If the query does not execute, this will return a null value whose type is based on the returnType input\n\n4. triggerRefresh\n- By default, the query will always re-execute whenever any inputs change\n- However, by updating the value of triggerRefresh, you can also trigger a re-execution even if none of the other inputs change (e.g. after a record action)\n\n5. castToCdtType\n- Any cdt type to the cast the result set. \n\n6. fields\n- The record fields that need to be queried\n\n7. relatedRecordData\n- the relatedRecordData in which the filters and limit can be specified for each relationship\n\n*/"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_279147": {
      "name": "AS_CO_UT_castToDictionary",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  if(\n    rule!AS_CO_UT_isBlank(ri!value),\n    null,\n    ri!value\n  )\n)"
    },
    "_a-0000ebe1-785a-8000-9d61-011c48011c48_11907922": {
      "name": "AS_GCM_QNM_setMetaDataForRuleConditionClausesRecord",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!ruleClauses,\n  expression: a!localVariables(\n    local!isUpdated: not(\n      rule!AS_CO_UT_compare(\n        value1: fv!item,\n        value2: rule!AS_GCM_filterRecords(\n          records: ri!originalRuleClauses,\n          field: recordType!AS GCM QNM T Rule Condition Clause.clauseMapId,\n          value: fv!item[recordType!AS GCM QNM T Rule Condition Clause.clauseMapId]\n        )\n      )\n    ),\n    rule!AS_GCM_setRecordFields(\n      record: fv!item,\n      neverOverwrite: {\n        a!map(\n          field: recordType!AS GCM QNM T Rule Condition Clause.createdBy,\n          value: ri!initiator\n        ),\n        a!map(\n          field: recordType!AS GCM QNM T Rule Condition Clause.createdDatetime,\n          value: now()\n        ),\n        a!map(\n          field: recordType!AS GCM QNM T Rule Condition Clause.isActive,\n          value: true()\n        )\n      },\n      alwaysOverwrite: {\n        a!map(\n          field: recordType!AS GCM QNM T Rule Condition Clause.modifiedBy,\n          value: ri!initiator,\n          applyWhen: local!isUpdated\n        ),\n        a!map(\n          field: recordType!AS GCM QNM T Rule Condition Clause.modifiedDatetime,\n          value: now(),\n          applyWhen: local!isUpdated\n        )\n      }\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75782": {
      "name": "AS_CO_UT_isNotBlank",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  not(rule!AS_CO_UT_isBlank(ri!input))\n)"
    },
    "_a-0000e61a-f20f-8000-9ba5-011c48011c48_53557": {
      "name": "AS_GCM_CO_DSP_primaryRecordListField",
      "type": "Expression Rule",
      "sail_code": "#\"SYSTEM_SYSRULES_richTextItem_v1\"(\n  text: {\n    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n      text: { #\"SYSTEM_SYSRULES_richTextIcon\"(icon: ri!icon), \" \" },\n      showWhen: rule!AS_CO_UT_isNotBlank(ri!icon)\n    ),\n    ri!recordTitle\n  },\n  link: #\"SYSTEM_SYSRULES_recordLink\"(\n    label: ri!recordTitle,\n    recordtype: ri!recordType,\n    identifier: ri!recordIdentifier,\n    showWhen: ri!linkShowWhen\n  ),\n  linkStyle: \"STANDALONE\",\n  size: \"STANDARD\",\n  style: ri!style,\n  showWhen: ri!showWhen,\n  color: ri!color\n)"
    },
    "_a-0000e3c8-6861-8000-9ba2-011c48011c48_124064": {
      "name": "AS_CO_UT_triggerRefresh",
      "type": "Expression Rule",
      "sail_code": "/*\n\nUse this rule in any saveInto to update the value of a local variable triggerRefresh.\n\nIt should be used in conjunction with a local variable configured to refresh\nwhenever this rule is executed. To configure the local variable you intend to refresh,\nset it up like this:\n\na!localVariables(\n  local!triggerRefresh: now(),\n\n  local!data: a!refreshVariable(\n    value: ..(value definition)..,\n    refreshOnVarChange: local!triggerRefresh\n  )\n)\n\n*/\n\na!save(\n  ri!triggerRefresh,\n  now()\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_237233-adt": {
      "name": "AS_ADT_UT_buildSimpleFieldChanges",
      "type": "Expression Rule",
      "sail_code": "a!flatten(\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!simpleFields,\n    expression: rule!AS_ADT_UT_buildSimpleFieldChangesDictionary(\n      simpleFieldName: fv!item,\n      originalObject: ri!originalObject,\n      newObject: ri!newObject\n    )\n  )\n)"
    },
    "_a-0000e675-e3a8-8000-9bcb-011c48011c48_1456472": {
      "name": "AS_GCM_QNM_CPS_ruleConditions",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!refData: rule!AS_GCM_QR_getRefData(refTypes: {}, doCastToCdt: false),\n  local!contractTypes: rule!AS_GCM_QR_getRefContractTypeData(\n    doCastToCdt: false,\n    includeRelatedRecords: false\n  ),\n  local!ruleConfigMaps: rule!AS_GCM_BL_clauseDataRuleConfigMap(),\n  local!isPreview: false,\n  {\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            rule!AS_CO_INP_textField(\n              label: \"\",\n              required: true,\n              value: ri!rule[recordType!AS GCM QNM T Rule.ruleName],\n              validations: rule!AS_GCM_VD_duplicateValidationForRuleName(rule: ri!rule, bundle: ri!bundle),\n              saveInto: ri!rule[recordType!AS GCM QNM T Rule.ruleName],\n              maxLength: cons!AS_CO_ENUM_TEXT_LENGTH_LONG,\n              refreshAfter: \"UNFOCUS\"\n            )\n          }\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            rule!AS_CO_CP_radioButtonField(\n              label: \"\",\n              required: true,\n              choiceLabels: {\n                \"\",\n                \"\"\n              },\n              choiceValues: { true, false },\n              value: rule!AS_CO_UT_replaceNull(\n                nullableValue: ri!rule[recordType!AS GCM QNM T Rule.isActive],\n                replacementValue: true\n              ),\n              saveInto: ri!rule[recordType!AS GCM QNM T Rule.isActive],\n              labelPosition: \"ABOVE\",\n              choiceLayout: \"COMPACT\"\n            )\n          }\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"()\n      },\n      showWhen: ri!showWhen,\n      marginAbove: \"STANDARD\"\n    ),\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      alignVertical: \"BOTTOM\",\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_headingField\"(\n              text: \"\",\n              size: \"SMALL\",\n              headingTag: \"H2\",\n              color: \"STANDARD\",\n              fontWeight: \"SEMI_BOLD\",\n              marginAbove: \"STANDARD\",\n              marginBelow: \"NONE\"\n            ),\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              labelPosition: \"COLLAPSED\",\n              value: {\n                #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                  text: \"Ensure multiple conditions of the same clause data type aren't pointing to multiple different values\",\n                  size: \"STANDARD\",\n                  color: rule!AS_GCM_getColorBasedOnColorName(\"GRAY_3\")\n                )\n              },\n              align: \"LEFT\",\n              marginAbove: \"NONE\",\n              marginBelow: \"LESS\"\n            )\n          },\n          width: \"\"\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          width: \"MEDIUM\",\n          contents: {\n            #\"SYSTEM_SYSRULES_cardLayout\"(\n              contents: {\n                #\"SYSTEM_SYSRULES_columnsLayout\"(\n                  columns: {\n                    #\"SYSTEM_SYSRULES_columnLayout\"(\n                      contents: {\n                        #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n                          buttons: {\n                            #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                              width: \"FILL\",\n                              color: if(\n                                not(local!isPreview),\n                                rule!AS_GCM_getColorBasedOnColorName(\"WHITE\"),\n                                \"#434343\"\n                              ),\n                              label: \"\",\n                              value: false,\n                              saveInto: local!isPreview,\n                              size: \"SMALL\",\n                              icon: \"pencil-square-o\",\n                              style: if(not(local!isPreview), \"SOLID\", \"LINK\"),\n                              accessibilityText: if(not(local!isPreview),\"Selected\",{})\n                            ),\n\n                          },\n                          marginBelow: \"NONE\",\n                          marginAbove: \"NONE\",\n                          align: \"START\"\n                        )\n                      },\n\n                    ),\n                    #\"SYSTEM_SYSRULES_columnLayout\"(\n                      contents: {\n                        #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n                          buttons: {\n                            #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                              width: \"FILL\",\n                              label: \"Preview\",\n                              validate: true,\n                              color: if(\n                                local!isPreview,\n                                rule!AS_GCM_getColorBasedOnColorName(\"WHITE\"),\n                                \"#434343\"\n                              ),\n                              size: \"SMALL\",\n                              value: true,\n                              saveInto: local!isPreview,\n                              icon: \"list-alt\",\n                              style: if(local!isPreview, \"SOLID\", \"LINK\"),\n                              accessibilityText: if(local!isPreview,\"Selected\",{})\n                            )\n                          },\n                          marginBelow: \"NONE\",\n                          marginAbove: \"NONE\",\n                          align: \"END\"\n                        )\n                      }\n                    )\n                  },\n                  marginBelow: \"NONE\",\n                  marginAbove: \"NONE\",\n                  alignVertical: \"MIDDLE\"\n                )\n              },\n              marginBelow: \"NONE\",\n              marginAbove: \"NONE\",\n              height: \"AUTO\",\n              style: rule!AS_GCM_getColorBasedOnColorName(\"GRAY_0\"),\n              showBorder: false,\n              padding: \"EVEN_LESS\"\n            )\n          },\n          showWhen: or(\n            ri!rule[recordType!AS GCM QNM T Rule.conditions.isActive],\n            ri!rule[recordType!AS GCM QNM T Rule.conditionGroups.isActive]\n          )\n        )\n      },\n      showWhen: ri!showWhen\n    ),\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      columns: {\n        #\"SYSTEM_SYSRULES_columnLayout\"(showWhen: local!isPreview),\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          width: if(local!isPreview, \"WIDE_PLUS\", \"\"),\n          contents: {\n            a!match(\n              value: local!isPreview,\n              whenTrue: fv!value,\n              then: rule!AS_GCM_CRD_RuleConditionsPreview_Recursion(\n                bundle: ri!bundle,\n                refData: local!refData,\n                contractTypes: local!contractTypes,\n                ruleConfigMaps: local!ruleConfigMaps,\n                matchValue: ri!rule[recordType!AS GCM QNM T Rule.refOperatorId],\n                ruleConditions: ri!rule[recordType!AS GCM QNM T Rule.conditions],\n                ruleConditionGroups: ri!rule[recordType!AS GCM QNM T Rule.conditionGroups]\n              ),\n              whenTrue: or(\n                ri!rule[recordType!AS GCM QNM T Rule.conditions.isActive],\n                ri!rule[recordType!AS GCM QNM T Rule.conditionGroups.isActive]\n              ),\n              then: rule!AS_GCM_CRD_ManageRuleConditions_Recursion(\n                matchValue: ri!rule[recordType!AS GCM QNM T Rule.refOperatorId],\n                ruleConditions: ri!rule[recordType!AS GCM QNM T Rule.conditions],\n                ruleConditionGroups: ri!rule[recordType!AS GCM QNM T Rule.conditionGroups],\n                bundle: ri!bundle,\n                refData: local!refData,\n                ruleConfigMaps: local!ruleConfigMaps,\n                originalRuleConditions: ri!originalRule[recordType!AS GCM QNM T Rule.conditions],\n                originalRuleConditionGroups: ri!originalRule[recordType!AS GCM QNM T Rule.conditionGroups]\n              ),\n              default: rule!AS_GCM_QNM_COL_ruleConditions_emptyState(bundle: ri!bundle, rule: ri!rule)\n            )\n          }\n        ),\n        #\"SYSTEM_SYSRULES_columnLayout\"(showWhen: local!isPreview)\n      },\n      showWhen: ri!showWhen\n    )\n  }\n)"
    },
    "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3088168": {
      "name": "AS_GCM_QR_getTemplateClauseDetails",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryRecord(\n  recordType: recordType!AS GCM Template Clause,\n  returnType: a!defaultValue(\n    value: ri!returnType,\n    default: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n  ),\n  executeWhen: and(\n    ri!executeWhen,\n    or(\n      any(\n        rule!AS_CO_UT_isNotBlank(_),\n        {\n          ri!additionalFilters,\n          ri!logicalExpression,\n          ri!aggregation\n        }\n      ),\n      rule!AS_CO_UT_isNotBlank(ri!templateIds),\n      rule!AS_CO_UT_isNotBlank(ri!relationIds)\n    )\n  ),\n  /* To ensure proper null checks, we'll force all queryFilter values to not be null */\n  logicalExpression: ri!logicalExpression,\n  pagingInfo: ri!pagingInfo,\n  sort: ri!sort,\n  triggerRefresh: ri!triggerRefresh,\n  fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n    {\n      ri!fields,\n      if(\n        ri!includeRelatedRecords,\n        {\n          recordType!AS GCM Template Clause.refClause,\n          recordType!AS GCM Template Clause.refTemplate,\n          recordType!AS GCM Template Clause.refUsage\n        },\n        {}\n      )\n    }\n  ),\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM Template Clause.relationId,\n      operator: \"in\",\n      value: ri!relationIds\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM Template Clause.templateId,\n      operator: \"in\",\n      value: ri!templateIds\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM Template Clause.isActive,\n      operator: \"=\",\n      value: true(),\n      applyWhen: ri!showInActive <> true()\n    ),\n    ri!additionalFilters\n  }\n)"
    },
    "_a-0000eef1-ed02-8000-9e5c-011c48011c48_17783555": {
      "name": "AS_GCM_MapForeignKeysInRuleConditionGroupsAudit_Recursion",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!ruleConditionGroupsAudit),\n  {},\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!ruleConditionGroupsAudit,\n    expression: a!localVariables(\n      local!ruleConditions: a!flatten(\n        index(\n          ri!ruleConditionGroups[recordType!AS GCM QNM T Rule Condition Group.conditions],\n          wherecontains(\n            tointeger(fv!item.ruleConditionGroupId),\n            tointeger(\n              ri!ruleConditionGroups[recordType!AS GCM QNM T Rule Condition Group.ruleConditionGroupId]\n            )\n          ),\n          {}\n        )\n      ),\n      local!auditWithUpdateSimpleFieldChanges: if(\n        rule!AS_CO_UT_isBlank(fv!item.conditionsChanges),\n        fv!item,\n        #\"urn:appian:function:v1:a:update\"(\n          fv!item,\n          \"conditionsChanges\",\n          rule!AS_GCM_updateSimpleFieldChangesForConditions(\n            conditionsChanges: fv!item.conditionsChanges,\n            ruleConditions: local!ruleConditions,\n            requiredFieldNamesMap: ri!requiredFieldNamesMap\n          )\n        )\n      ),\n      local!updatedConditionGroupAuditData: #\"urn:appian:function:v1:a:update\"(\n        if(\n          rule!AS_CO_UT_isBlank(\n            local!auditWithUpdateSimpleFieldChanges.conditionsChanges\n          ),\n          local!auditWithUpdateSimpleFieldChanges,\n          #\"urn:appian:function:v1:a:update\"(\n            local!auditWithUpdateSimpleFieldChanges,\n            \"conditionsChanges\",\n            #\"urn:appian:function:v1:a:update\"(\n              local!auditWithUpdateSimpleFieldChanges.conditionsChanges,\n              \"ruleAuditId\",\n              ri!ruleAuditId\n            )\n          )\n        ),\n        \"ruleAuditId\",\n        ri!ruleAuditId\n      ),\n      #\"urn:appian:function:v1:a:update\"(\n        local!updatedConditionGroupAuditData,\n        \"conditionGroupsChanges\",\n        rule!AS_GCM_MapForeignKeysInRuleConditionGroupsAudit_Recursion(\n          ruleConditionGroupsAudit: local!updatedConditionGroupAuditData[\"conditionGroupsChanges\"],\n          ruleAuditId: ri!ruleAuditId,\n          ruleConditionGroups: ri!ruleConditionGroups[recordType!AS GCM QNM T Rule Condition Group.conditionGroups],\n          requiredFieldNamesMap: ri!requiredFieldNamesMap\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1539099": {
      "name": "AS_GCM_VD_duplicateValidationForRuleName",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isNotBlank(\n    rule!AS_GCM_QNM_QR_getRule(\n      returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT,\n      additionalFilters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM T Rule.ruleId,\n          operator: \"<>\",\n          value: ri!rule[recordType!AS GCM QNM T Rule.ruleId],\n          applyWhen: rule!AS_CO_UT_isNotBlank(\n            ri!rule[recordType!AS GCM QNM T Rule.ruleId]\n          )\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM QNM T Rule.ruleName,\n          operator: \"=\",\n          value: ri!rule[recordType!AS GCM QNM T Rule.ruleName],\n          applyWhen: rule!AS_CO_UT_isNotBlank(\n            ri!rule[recordType!AS GCM QNM T Rule.ruleName]\n          )\n        )\n      },\n      showInactive: true,\n      fields: recordType!AS GCM QNM T Rule.ruleName\n    )\n  ),\n  \"\",\n  null()\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76004": {
      "name": "AS_CO_I18N_UT_getUserLocale",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  userlocale(ri!user)\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_33160": {
      "name": "AS_CO_UT_displayCommonObjectBundleLabel",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  rule!AS_CO_I18N_UT_getAndDisplayLabelSingle(\n    bundleFolder: cons!AS_CO_I18N_FLD_INTERNATIONALIZATION_FILES,\n    bundleKey: ri!bundleKey,\n    arguments: ri!arguments,\n    localeAgnostic: false\n  )\n)"
    },
    "_a-0000eee8-b1ee-8000-9e5a-011c48011c48_17685700": {
      "name": "AS_GCM_MapForeignKeysInRuleConditionGroups_Recursion",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!ruleConditionGroups),\n  {},\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!ruleConditionGroups,\n    expression: a!localVariables(\n      local!updatedConditionGroupData: #\"urn:appian:function:v1:a:update\"(\n        if(\n          rule!AS_CO_UT_isBlank(\n            fv!item[recordType!AS GCM QNM T Rule Condition Group.conditions]\n          ),\n          fv!item,\n          #\"urn:appian:function:v1:a:update\"(\n            fv!item,\n            recordType!AS GCM QNM T Rule Condition Group.conditions.ruleId,\n            ri!ruleId\n          )\n        ),\n        recordType!AS GCM QNM T Rule Condition Group.ruleId,\n        ri!ruleId\n      ),\n      #\"urn:appian:function:v1:a:update\"(\n        local!updatedConditionGroupData,\n        recordType!AS GCM QNM T Rule Condition Group.conditionGroups,\n        rule!AS_GCM_MapForeignKeysInRuleConditionGroups_Recursion(\n          ruleConditionGroups: local!updatedConditionGroupData[recordType!AS GCM QNM T Rule Condition Group.conditionGroups],\n          ruleId: ri!ruleId\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e99c-12b8-8000-9c55-011c48011c48_4960869": {
      "name": "AS_GAM_translateMultipleBundleKeys",
      "type": "Expression Rule",
      "sail_code": "/*Translates a list of bundle keys*/\n#\"SYSTEM_SYSRULES_forEach\"(\n  items: ri!bundleKeys,\n  expression: rule!AS_GAM_CO_I18N_UT_displayLabel(bundle: ri!bundle, bundleKey: fv!item)\n)"
    },
    "_a-0000e5bc-4a9a-8000-9bbc-011c48011c48_936866": {
      "name": "AS_GAM_ADT_UT_constructManipulatedAuditData",
      "type": "Expression Rule",
      "sail_code": "/* This rule is used to construct the manipulated audit data*/\n/*The manipulated audit data can be multiple. We are constructing the audit data for each manipulationAudit in auditParams*/\nif(\n  rule!AS_CO_UT_isNotBlank(ri!auditParams.complexFieldName),\n  /*When the audit is captured as nested even when the concerned object cdts are not nested \n    Eg: AS_GSS_Evaluation and AS_GSS_EvaluationDocume nt are not nested but AS_GSS_A_R_Evaluation and AS_GSS_A_R_EvaluationDocument are nested*/\n  rule!AS_GAM_ADT_UT_constructFieldChangesDictionaryForManipulatedAudit(\n    initiator: ri!initiator,\n    auditParams: ri!auditParams\n  ),\n  /*If the audit data is not nested and is manipulated and passed from outsite, we can directly construct the audit entry for each ri!auditParams.manipulationAudit*/\n  rule!AS_GAM_ADT_UT_constructDynamicDictionaryForManipulatedAudit(\n    initiator: ri!initiator,\n    auditParams: ri!auditParams\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_165180-adt": {
      "name": "AS_ADT_UT_calculateAudit_SingleObject",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    rule!AS_CO_UT_compareStrong(\n      value1: ri!originalObject,\n      value2: ri!newObject\n    ),\n    ri!externalAction <> cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_INITIATED\n  ),\n  {},\n  a!localVariables(\n    local!auditConfig: rule!AS_CO_UT_dynamicDictionary(\n      fieldValuePairs: {\n        {\n          field: ri!auditConfig.idField,\n          value: rule!AS_CO_UT_replaceNull(\n            nullableValue: index(\n              ri!originalObject,\n              ri!auditConfig.idField,\n              null\n            ),\n            replacementValue: index(\n              ri!newObject,\n              ri!auditConfig.idField,\n              null\n            )\n          )\n        },\n        if(\n          rule!AS_CO_UT_isNotBlank(ri!auditConfig.foreignIdField),\n          {\n            field: if(\n              length(\n                split(ri!auditConfig.foreignIdField, \".\")\n              ) = 2,\n              split(ri!auditConfig.foreignIdField, \".\")[2],\n              split(ri!auditConfig.foreignIdField, \".\")[1]\n            ),\n            value: rule!AS_CO_UT_replaceNull(\n              nullableValue: rule!AS_CO_UT_indexPath(\n                cdt: ri!originalObject,\n                field: ri!auditConfig.foreignIdField\n              ),\n              replacementValue: rule!AS_CO_UT_indexPath(\n                cdt: ri!newObject,\n                field: ri!auditConfig.foreignIdField\n              )\n            )\n          },\n          {}\n        ),\n        { field: \"username\", value: ri!username },\n        { field: \"timestamp\", value: now() },\n        { field: \"auditType\", value: ri!auditType },\n        {\n          field: \"auditActionCode\",\n          value: rule!AS_ADT_UT_determineAuditActionCode(\n            originalObject: ri!originalObject,\n            newObject: ri!newObject,\n            auditConfig: ri!auditConfig,\n            externalAction: ri!externalAction\n          )\n        },\n        {\n          field: \"simpleFieldChanges\",\n          value: rule!AS_ADT_UT_buildSimpleFieldChanges(\n            simpleFields: ri!auditConfig.simpleFields,\n            originalObject: ri!originalObject,\n            newObject: ri!newObject\n          )\n        },\n        if(\n          rule!AS_CO_UT_isBlank(ri!auditConfig.complexFields),\n          {},\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!auditConfig.complexFields,\n            expression: {\n              field: fv!item.auditFieldName,\n              value: rule!AS_ADT_UT_calculateAudit_MultipleObjects(\n                originalObjects: index(ri!originalObject, fv!item.fieldName, {}),\n                newObjects: index(ri!newObject, fv!item.fieldName, {}),\n                auditConfig: fv!item,\n                username: ri!username,\n                externalAction: ri!externalAction\n              )\n            }\n          )\n        )\n      }\n    ),\n    if(\n      /*To make the action code \"UNCHANGED\" if the object is unmodified(excluding the metadata)*/\n      and(\n        rule!AS_CO_UT_not(\n          contains(\n            a!flatten(\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: {\n                  \"simpleFieldChanges\",\n                  index(\n                    ri!auditConfig.complexFields,\n                    \"auditFieldName\",\n                    null\n                  )\n                },\n                expression: or(\n                  rule!AS_CO_UT_isBlank(index(local!auditConfig, fv!item, null)),\n                  if(\n                    contains(\n                      touniformstring(\n                        index(\n                          ri!auditConfig.complexFields,\n                          \"auditFieldName\",\n                          null\n                        )\n                      ),\n                      tostring(fv!item)\n                    ),\n                    not(\n                      contains(\n                        #\"SYSTEM_SYSRULES_forEach\"(\n                          items: rule!AS_CO_UT_indexPath(cdt: local!auditConfig, field: fv!item),\n                          expression: tostring(fv!item.auditActionCode) = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n                        ),\n                        false\n                      )\n                    ),\n                    false\n                  )\n                )\n              )\n            ),\n            false\n          )\n        ),\n        or(\n          tostring(\n            index(\n              local!auditConfig,\n              \"auditActionCode\",\n              null\n            )\n          ) = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MODIFY,\n          ri!externalAction = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MANUAL_UPDATE,\n          ri!externalAction = cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_MANUAL_SYNC\n        )\n      ),\n      rule!AS_CO_UT_updateCdtFields(\n        cdt: local!auditConfig,\n        fields: \"auditActionCode\",\n        newValues: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED\n      ),\n      local!auditConfig\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75800": {
      "name": "AS_CO_UT_filterCdtByField",
      "type": "Expression Rule",
      "sail_code": "/*Take the input of a cdt, field, and value and returns the matching cdt data\n\nex. cdt of users, filter by field isActive and value of true to find your active users\n*/\ncast(\n  typeof(ri!cdt),\n  index(\n    a!flatten(ri!cdt),\n    rule!AS_CO_UT_returnCdtIndicesByField(\n      cdt: ri!cdt,\n      field: ri!field,\n      value: ri!value\n    ),\n    {}\n  )\n)"
    },
    "_a-0000eee5-fecf-8000-9e58-011c48011c48_17671830": {
      "name": "AS_GCM_ConstructRuleConditionGroupVersion_Recursion",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!ruleConditionGroups),\n  {},\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: index(\n      ri!ruleConditionGroups,\n      wherecontains(\n        true,\n        toboolean(\n          ri!ruleConditionGroups[recordType!AS GCM QNM T Rule Condition Group.isActive]\n        )\n      ),\n      {}\n    ),\n    expression: recordType!AS GCM QNM Rule Condition Group Version(\n      recordType!AS GCM QNM Rule Condition Group Version.ruleConditionGroupId: fv!item[recordType!AS GCM QNM T Rule Condition Group.ruleConditionGroupId],\n      recordType!AS GCM QNM Rule Condition Group Version.ruleConditionGroupName: fv!item[recordType!AS GCM QNM T Rule Condition Group.ruleConditionGroupName],\n      recordType!AS GCM QNM Rule Condition Group Version.refOperatorId: fv!item[recordType!AS GCM QNM T Rule Condition Group.refOperatorId],\n      recordType!AS GCM QNM Rule Condition Group Version.depthLevel: fv!item[recordType!AS GCM QNM T Rule Condition Group.depthLevel],\n      recordType!AS GCM QNM Rule Condition Group Version.ruleConditionVersion: #\"SYSTEM_SYSRULES_forEach\"(\n        items: index(\n          fv!item[recordType!AS GCM QNM T Rule Condition Group.conditions],\n          wherecontains(\n            true,\n            toboolean(\n              fv!item[recordType!AS GCM QNM T Rule Condition Group.conditions.isActive]\n            )\n          ),\n          {}\n        ),\n        expression: recordType!AS GCM QNM Rule Condition Version(\n          recordType!AS GCM QNM Rule Condition Version.ruleConditionId: fv!item[recordType!AS GCM QNM T Rule Condition.mapId],\n          recordType!AS GCM QNM Rule Condition Version.questionTemplateId: fv!item[recordType!AS GCM QNM T Rule Condition.questionId],\n          recordType!AS GCM QNM Rule Condition Version.refOperatorId: fv!item[recordType!AS GCM QNM T Rule Condition.refOperatorId],\n          recordType!AS GCM QNM Rule Condition Version.responseTemplateId: fv!item[recordType!AS GCM QNM T Rule Condition.responseId],\n          recordType!AS GCM QNM Rule Condition Version.refClauseDataId: fv!item[recordType!AS GCM QNM T Rule Condition.refClauseDataId],\n          recordType!AS GCM QNM Rule Condition Version.value: fv!item[recordType!AS GCM QNM T Rule Condition.value],\n          recordType!AS GCM QNM Rule Condition Version.compValue: fv!item[recordType!AS GCM QNM T Rule Condition.compValue]\n        )\n      ),\n      recordType!AS GCM QNM Rule Condition Group Version.ruleConditionGroupVersion: rule!AS_GCM_ConstructRuleConditionGroupVersion_Recursion(\n        ruleConditionGroups: fv!item[recordType!AS GCM QNM T Rule Condition Group.conditionGroups]\n      )\n    )\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_157503": {
      "name": "AS_CO_UT_returnTypeNumber",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Integer',\n  if(\n    isnull(ri!type),\n    typeof(ri!typeOf),\n    typeof(cast(ri!type, null))\n  )\n)"
    },
    "_a-0000eecd-8420-8000-9e53-011c48011c48_17522713": {
      "name": "AS_GCM_CPS_createOrUpdateRule_milestone",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_milestoneField\"(\n  labelPosition: \"COLLAPSED\",\n  steps: ri!stepChoiceLabels,\n  links: {},\n  active: ri!activeStep,\n  stepStyle: \"DOT\",\n  marginAbove: \"NONE\",\n  marginBelow: \"STANDARD\"\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_243040": {
      "name": "AS_CO_UT_compareStrong",
      "type": "Expression Rule",
      "sail_code": "/*Do a strict comarison against types*/\ncast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  and(\n    rule!AS_CO_UT_typeCompare(\n      value1: ri!value1,\n      value2: ri!value2\n    ),\n    ri!value1 = ri!value2\n  )\n)"
    },
    "_a-0000eee8-b1ee-8000-9e5a-011c48011c48_17699868": {
      "name": "AS_GCM_RemoveFieldsFromRuleConditionGroupVersions_Recursion",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!ruleConditionGroupVersions),\n  {},\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!ruleConditionGroupVersions,\n    expression: #\"urn:appian:function:v1:a:update\"(\n      remove(fv!item, ri!fields),\n      recordType!AS GCM QNM Rule Condition Group Version.ruleConditionGroupVersion,\n      rule!AS_GCM_RemoveFieldsFromRuleConditionGroupVersions_Recursion(\n        ruleConditionGroupVersions: fv!item[recordType!AS GCM QNM Rule Condition Group Version.ruleConditionGroupVersion],\n        fields: ri!fields\n      )\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73980": {
      "name": "AS_CO_UT_replaceNull",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!nullableValue),\n  ri!replacementValue,\n  ri!nullableValue\n)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1464969": {
      "name": "AS_GCM_QNM_FM_createOrUpdateRule",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!triggerRefresh,\n  local!activeStep: 1,\n  local!bundle: rule!AS_GCM_CO_UT_loadBundleFromFolder(langISOCode: null()),\n  local!milestoneSteps: {\n    \"\",\n    \"Include Clauses\",\n    \"Exclude Clauses\"\n  },\n  local!originalRule: a!refreshVariable(\n    value: ri!rule,\n    refreshOnReferencedVarChange: false\n  ),\n  local!includedClauses: cast(\n    #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n      recordType!AS GCM QNM T Rule Condition Clause\n    ),\n    rule!AS_GCM_filterRecords(\n      records: ri!rule[recordType!AS GCM QNM T Rule.conditionClauses],\n      field: recordType!AS GCM QNM T Rule Condition Clause.refUsageId,\n      value: cons!AS_GCM_REF_ID_USAGE_INCLUDED\n    )\n  ),\n  local!excludedClauses: cast(\n    #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n      recordType!AS GCM QNM T Rule Condition Clause\n    ),\n    rule!AS_GCM_filterRecords(\n      records: ri!rule[recordType!AS GCM QNM T Rule.conditionClauses],\n      field: recordType!AS GCM QNM T Rule Condition Clause.refUsageId,\n      value: cons!AS_GCM_REF_ID_USAGE_EXCLUDED\n    )\n  ),\n  local!unavailableClauses: rule!AS_GCM_filterRecords(\n    records: append(\n      local!includedClauses,\n      local!excludedClauses\n    ),\n    field: recordType!AS GCM QNM T Rule Condition Clause.isActive,\n    value: true\n  ),\n  #\"SYSTEM_SYSRULES_formLayout_v2\"(\n    titleBar: #\"SYSTEM_SYSRULES_headerTemplateSimple\"(\n      title: if(\n        rule!AS_CO_UT_isBlank(\n          ri!rule[recordType!AS GCM QNM T Rule.ruleId]\n        ),\n        \"\",\n        \"\"\n      ),\n      secondaryText: \"Required fields are marked with an asterisk (*)\",\n      secondaryTextColor: rule!AS_GCM_getColorBasedOnColorName(\"GRAY_3\")\n    ),\n    showTitleBarDivider: true,\n    showButtonDivider: true,\n    contentsWidth: \"FULL\",\n    contents: {\n      rule!AS_GCM_CPS_createOrUpdateRule_milestone(\n        stepChoiceLabels: local!milestoneSteps,\n        activeStep: local!activeStep\n      ),\n      rule!AS_GCM_QNM_CPS_ruleConditions(\n        bundle: local!bundle,\n        rule: ri!rule,\n        originalRule: local!originalRule,\n        showWhen: local!activeStep = 1\n      ),\n      rule!AS_GCM_QNM_CPS_includeAndExcludeClausesForRuleAndTemplate(\n        ruleClauses: local!includedClauses,\n        bundle: local!bundle,\n        showWhen: local!activeStep = 2,\n        triggerRefresh: local!triggerRefresh,\n        unavailableClauseIds: local!unavailableClauses[recordType!AS GCM QNM T Rule Condition Clause.refClauseId],\n        isIncludeClausesPage: true,\n        isTemplate: false\n      ),\n      rule!AS_GCM_QNM_CPS_includeAndExcludeClausesForRuleAndTemplate(\n        ruleClauses: local!excludedClauses,\n        bundle: local!bundle,\n        showWhen: local!activeStep = 3,\n        triggerRefresh: local!triggerRefresh,\n        unavailableClauseIds: local!unavailableClauses[recordType!AS GCM QNM T Rule Condition Clause.refClauseId],\n        isIncludeClausesPage: false,\n        isTemplate: false\n      )\n    },\n    focusOnFirstInput: false,\n    buttons: #\"SYSTEM_SYSRULES_ButtonLayout\"(\n      primaryButtons: {\n        #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          label: \"Next\",\n          value: cons!AS_CO_ENUM_USER_ACTION_NEXT,\n          saveInto: {\n            ri!userAction,\n            rule!AS_CO_UT_triggerRefresh(triggerRefresh: local!triggerRefresh),\n\n            a!save(local!activeStep, local!activeStep + 1)\n          },\n          submit: false,\n          style: \"SOLID\",\n          showWhen: local!activeStep <> length(local!milestoneSteps),\n          validate: true,\n          accessibilityText: \"\",\n          disabled: not(\n            or(\n              ri!rule[recordType!AS GCM QNM T Rule.conditions.isActive],\n              ri!rule[recordType!AS GCM QNM T Rule.conditionGroups.isActive]\n            )\n          ),\n          validationGroup: \"NEXT\"\n        ),\n        #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          label: if(\n            rule!AS_CO_UT_isBlank(\n              ri!rule[recordType!AS GCM QNM T Rule.ruleId]\n            ),\n            \"\",\n            \"\"\n          ),\n          value: cons!AS_CO_ENUM_USER_ACTION_SAVE,\n          saveInto: {\n            ri!userAction,\n            a!save(\n              ri!rule,\n\n                rule!AS_GCM_setRecordFields(\n                  record: ri!rule,\n                  childRelationships: {\n                    a!map(\n                      field: recordType!AS GCM QNM T Rule.conditionClauses,\n                      value: difference(\n                        {\n                          local!includedClauses,\n                          local!excludedClauses\n                        },\n                        cast(\n                          #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(\n                            recordType!AS GCM QNM T Rule Condition Clause\n                          ),\n                          local!originalRule[recordType!AS GCM QNM T Rule.conditionClauses]\n                        )\n                      )\n                    )\n                  }\n                )\n\n\n            ),\n            a!save(ri!originalRule, local!originalRule),\n            if(\n              rule!AS_CO_UT_isBlank(\n                ri!rule[recordType!AS GCM QNM T Rule.ruleId]\n              ),\n              {\n                rule!AS_GCM_MTR_SAVE_createRule(),\n                a!save(\n                  ri!rule,\n                  #\"urn:appian:function:v1:a:update\"(\n                    ri!rule,\n                    {\n                      recordType!AS GCM QNM T Rule.createdBy,\n                      recordType!AS GCM QNM T Rule.createdDatetime,\n                      recordType!AS GCM QNM T Rule.modifiedBy,\n                      recordType!AS GCM QNM T Rule.modifiedDatetime\n                    },\n                    { loggedInUser(), now(), loggedInUser(), now() }\n                  )\n                )\n              },\n              {\n                a!save(\n                  ri!rule,\n                  #\"urn:appian:function:v1:a:update\"(\n                    ri!rule,\n                    {\n                      recordType!AS GCM QNM T Rule.modifiedBy,\n                      recordType!AS GCM QNM T Rule.modifiedDatetime\n                    },\n                    { loggedInUser(), now() }\n                  )\n                )\n              }\n            )\n          },\n          submit: true,\n          style: \"SOLID\",\n          showWhen: local!activeStep = length(local!milestoneSteps),\n          validate: true,\n          accessibilityText: \"\"\n        )\n      },\n      secondaryButtons: {\n        #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          label: \"Back\",\n          value: false(),\n          saveInto: {\n            a!save(local!activeStep, local!activeStep - 1)\n          },\n          submit: false,\n          style: \"OUTLINE\",\n          showWhen: local!activeStep <> 1,\n          validate: false,\n          accessibilityText: \"\"\n        ),\n        #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n          label: \"Cancel\",\n          value: cons!AS_CO_ENUM_USER_ACTION_CANCEL,\n          saveInto: ri!userAction,\n          submit: true,\n          style: \"LINK\",\n          validate: false,\n          accessibilityText: \"\"\n        )\n      }\n    )\n  )\n)"
    },
    "_a-0000ebe1-785a-8000-9d61-011c48011c48_11915827": {
      "name": "AS_GCM_QNM_incrementRuleVersion",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!currentRuleVersion: cast(\n    recordType!AS GCM QNM Rule Version,\n    rule!AS_GCM_QNM_QR_getRule(\n      ruleIds: ri!rule[recordType!AS GCM QNM T Rule.ruleId],\n      executeWhen: and(\n        a!isNotNullOrEmpty(\n          ri!rule[recordType!AS GCM QNM T Rule.ruleId]\n        ),\n        ri!rule[recordType!AS GCM QNM T Rule.isActive]\n      ),\n      returnLatestRuleVersion: true\n    )[recordType!AS GCM QNM T Rule.ruleVersions]\n  ),\n  local!latestRuleVersion: recordType!AS GCM QNM Rule Version(\n    recordType!AS GCM QNM Rule Version.refOperatorId: ri!rule[recordType!AS GCM QNM T Rule.refOperatorId],\n    recordType!AS GCM QNM Rule Version.ruleId: ri!rule[recordType!AS GCM QNM T Rule.ruleId],\n    recordType!AS GCM QNM Rule Version.ruleVersion: a!defaultValue(\n      value: local!currentRuleVersion[recordType!AS GCM QNM Rule Version.ruleVersion],\n      default: 0\n    ) + 1,\n    recordType!AS GCM QNM Rule Version.ruleConditionVersions: #\"SYSTEM_SYSRULES_forEach\"(\n      items: rule!AS_GCM_filterRecords(\n        records: ri!rule[recordType!AS GCM QNM T Rule.conditions],\n        field: recordType!AS GCM QNM T Rule Condition.isActive,\n        value: true\n      ),\n      expression: recordType!AS GCM QNM Rule Condition Version(\n        recordType!AS GCM QNM Rule Condition Version.ruleConditionId: fv!item[recordType!AS GCM QNM T Rule Condition.mapId],\n        recordType!AS GCM QNM Rule Condition Version.questionTemplateId: fv!item[recordType!AS GCM QNM T Rule Condition.questionId],\n        recordType!AS GCM QNM Rule Condition Version.refOperatorId: fv!item[recordType!AS GCM QNM T Rule Condition.refOperatorId],\n        recordType!AS GCM QNM Rule Condition Version.responseTemplateId: fv!item[recordType!AS GCM QNM T Rule Condition.responseId],\n        recordType!AS GCM QNM Rule Condition Version.refClauseDataId: fv!item[recordType!AS GCM QNM T Rule Condition.refClauseDataId],\n        recordType!AS GCM QNM Rule Condition Version.value: fv!item[recordType!AS GCM QNM T Rule Condition.value],\n        recordType!AS GCM QNM Rule Condition Version.compValue: fv!item[recordType!AS GCM QNM T Rule Condition.compValue]\n      )\n    ),\n    recordType!AS GCM QNM Rule Version.ruleConditionGroupVersions: rule!AS_GCM_ConstructRuleConditionGroupVersion_Recursion(\n      ruleConditionGroups: ri!rule[recordType!AS GCM QNM T Rule.conditionGroups]\n    )\n  ),\n  if(\n    /*  Only incrementing the version for active rules when there is a change or creating a new version for the new rule.   */\n    and(\n      ri!rule[recordType!AS GCM QNM T Rule.isActive],\n      or(\n        a!isNullOrEmpty(local!currentRuleVersion),\n        not(\n          rule!AS_GCM_flexiCompare(\n            value1: #\"urn:appian:function:v1:a:update\"(\n              local!currentRuleVersion,\n              recordType!AS GCM QNM Rule Version.ruleConditionGroupVersions,\n              rule!AS_GCM_RemoveFieldsFromRuleConditionGroupVersions_Recursion(\n                ruleConditionGroupVersions: local!currentRuleVersion[recordType!AS GCM QNM Rule Version.ruleConditionGroupVersions],\n                fields: {\n                  recordType!AS GCM QNM Rule Condition Group Version.ruleConditionGroupVersionId,\n                  recordType!AS GCM QNM Rule Condition Group Version.ruleVersionId,\n                  recordType!AS GCM QNM Rule Condition Group Version.parentConditionGroupVersionId,\n                  recordType!AS GCM QNM Rule Condition Group Version.ruleConditionVersion.ruleConditionVersionId,\n                  recordType!AS GCM QNM Rule Condition Group Version.ruleConditionVersion.ruleVersionId,\n                  recordType!AS GCM QNM Rule Condition Group Version.ruleConditionVersion.ruleConditionGroupVersionId\n                }\n              )\n            ),\n            value2: local!latestRuleVersion,\n            ignoreFields: {\n              recordType!AS GCM QNM Rule Version.ruleVersionId,\n              recordType!AS GCM QNM Rule Version.ruleVersion,\n              recordType!AS GCM QNM Rule Version.ruleConditionVersions.ruleConditionVersionId,\n              recordType!AS GCM QNM Rule Version.ruleConditionVersions.ruleVersionId,\n              recordType!AS GCM QNM Rule Version.ruleConditionVersions.ruleConditionGroupVersionId\n            }\n          )\n        )\n      )\n    ),\n    local!latestRuleVersion,\n    null\n  )\n)"
    },
    "_a-0000eef1-ed02-8000-9e5c-011c48011c48_17785899": {
      "name": "AS_GCM_CRD_RuleConditionsPreview_Recursion",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!activeCount: count(\n    a!flatten(\n      {\n        where(\n          index(\n            ri!ruleConditions,\n            recordType!AS GCM QNM T Rule Condition.isActive,\n            {}\n          )\n        ),\n        where(\n          index(\n            ri!ruleConditionGroups,\n            recordType!AS GCM QNM T Rule Condition Group.isActive,\n            {}\n          )\n        )\n      }\n    )\n  ),\n\n  #\"SYSTEM_SYSRULES_cardLayout\"(\n    contents: {\n      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n        showWhen: rule!AS_CO_UT_isNotBlank(ri!parentConditionGroupName),\n        labelPosition: \"COLLAPSED\",\n        value: {\n          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n            text: {\n              \"Condition Group\",\n              \" \",\n              ri!parentConditionGroupName\n            },\n            color: rule!AS_GCM_getColorBasedOnColorName(colorName: \"GRAY_4\"),\n            size: \"STANDARD\",\n            style: \"STRONG\"\n          )\n        },\n        marginAbove: \"NONE\",\n        marginBelow: \"STANDARD\"\n      ),\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: index(\n          ri!ruleConditions,\n          where(\n            index(\n              ri!ruleConditions,\n              recordType!AS GCM QNM T Rule Condition.isActive,\n              {}\n            )\n          ),\n          {}\n        ),\n        expression: {\n          #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            labelPosition: \"COLLAPSED\",\n            showWhen: and(\n              contains(\n                ldrop(\n                  where(\n                    ri!ruleConditions[recordType!AS GCM QNM T Rule Condition.isActive]\n                  ),\n                  1\n                ),\n                fv!index\n              ),\n              local!activeCount > 1\n            ),\n            value: {\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: upper(\n                  displayvalue(\n                    ri!matchValue,\n                    {\n                      cons!AS_GCM_REF_ID_AND_OPERATOR,\n                      cons!AS_GCM_REF_ID_OR_OPERATOR\n                    },\n                    {\n                      \"\",\n                      \"Or\"\n                    },\n                    {}\n                  )\n                ),\n                color: rule!AS_GCM_getColorBasedOnColorName(colorName: \"GRAY_3\"),\n                size: \"SMALL\",\n                style: \"STRONG\"\n              )\n            },\n            marginAbove: \"EVEN_LESS\",\n            marginBelow: \"LESS\"\n          ),\n          #\"SYSTEM_SYSRULES_cardLayout\"(\n            style: rule!AS_GCM_getColorBasedOnColorName(\n              colorName: if(\n                mod(\n                  a!defaultValue(value: ri!depthLevel, default: 0),\n                  2\n                ) = 0,\n                \"APPIAN_BACKGROUND\",\n                \"WHITE\"\n              )\n            ),\n            contents: {\n              rule!AS_GCM_CPS_DisplayFormattedRuleCondition(\n                bundle: ri!bundle,\n                refData: ri!refData,\n                condition: fv!item,\n                contractTypes: ri!contractTypes\n              )\n            },\n            height: \"AUTO\",\n            shape: \"SEMI_ROUNDED\",\n            marginBelow: \"LESS\",\n            showBorder: true,\n            borderColor: rule!AS_GCM_getColorBasedOnColorName(colorName: \"GRAY_1\")\n          )\n        }\n      ),\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: index(\n          ri!ruleConditionGroups,\n          where(\n            index(\n              ri!ruleConditionGroups,\n              recordType!AS GCM QNM T Rule Condition Group.isActive,\n              {}\n            )\n          ),\n          {}\n        ),\n        expression: {\n          #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n            labelPosition: \"COLLAPSED\",\n            showWhen: and(\n              or(\n                index(\n                  ri!ruleConditions,\n                  recordType!AS GCM QNM T Rule Condition.isActive,\n                  false\n                ),\n                contains(\n                  ldrop(\n                    where(\n                      ri!ruleConditionGroups[recordType!AS GCM QNM T Rule Condition Group.isActive]\n                    ),\n                    1\n                  ),\n                  fv!index\n                )\n              ),\n              local!activeCount > 1\n            ),\n            value: {\n              #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                text: upper(\n                  displayvalue(\n                    ri!matchValue,\n                    {\n                      cons!AS_GCM_REF_ID_AND_OPERATOR,\n                      cons!AS_GCM_REF_ID_OR_OPERATOR\n                    },\n                    {\n                      \"\",\n                      \"Or\"\n                    },\n                    {}\n                  )\n                ),\n                color: rule!AS_GCM_getColorBasedOnColorName(colorName: \"GRAY_3\"),\n                size: \"SMALL\",\n                style: \"STRONG\"\n              )\n            },\n            marginAbove: \"EVEN_LESS\",\n            marginBelow: \"LESS\"\n          ),\n          rule!AS_GCM_CRD_RuleConditionsPreview_Recursion(\n            refData: ri!refData,\n            bundle: ri!bundle,\n            ruleConfigMaps: ri!ruleConfigMaps,\n            contractTypes: ri!contractTypes,\n            depthLevel: a!defaultValue(value: ri!depthLevel, default: 0)+1,\n            matchValue: fv!item[recordType!AS GCM QNM T Rule Condition Group.refOperatorId],\n            parentConditionGroupName: fv!item[recordType!AS GCM QNM T Rule Condition Group.ruleConditionGroupName],\n            ruleConditions: fv!item[recordType!AS GCM QNM T Rule Condition Group.conditions],\n            ruleConditionGroups: fv!item[recordType!AS GCM QNM T Rule Condition Group.conditionGroups]\n          )\n        }\n      )\n    },\n    height: \"AUTO\",\n    style: rule!AS_GCM_getColorBasedOnColorName(\n      colorName: if(\n        mod(\n          a!defaultValue(value: ri!depthLevel, default: 0),\n          2\n        ) = 0,\n        \"WHITE\",\n        \"APPIAN_BACKGROUND\"\n\n      )\n    ),\n    shape: \"SEMI_ROUNDED\",\n    padding: \"STANDARD\",\n    marginBelow: \"STANDARD\",\n    marginAbove: \"LESS\",\n    showBorder: true,\n    borderColor: rule!AS_GCM_getColorBasedOnColorName(colorName: \"GRAY_1\")\n  )\n)"
    },
    "_a-0000eed7-628f-8000-9e56-011c48011c48_17581509": {
      "name": "AS_GCM_AddEmptyRuleCondition",
      "type": "Expression Rule",
      "sail_code": "a!save(\n  ri!ruleConditions,\n  append(\n    ri!ruleConditions,\n    recordType!AS GCM QNM T Rule Condition(\n      recordType!AS GCM QNM T Rule Condition.ruleConditionGroupId: ri!ruleConditionGroupId,\n      recordType!AS GCM QNM T Rule Condition.isActive: true,\n      recordType!AS GCM QNM T Rule Condition.createdBy: loggedInUser(),\n      recordType!AS GCM QNM T Rule Condition.createdDatetime: now(),\n      recordType!AS GCM QNM T Rule Condition.modifiedBy: loggedInUser(),\n      recordType!AS GCM QNM T Rule Condition.modifiedDatetime: now()\n    )\n  )\n)"
    },
    "_a-0000e615-fd0f-8000-9bc1-011c48011c48_1164426": {
      "name": "AS_GCM_QR_getRefData",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryRecord(\n  recordType: recordType!AS GCM R Data,\n  returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n  fields: ri!fields,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM R Data.isActive,\n      operator: \"=\",\n      value: true,\n      applyWhen: not(\n        rule!AS_CO_UT_booleanDefaultFalse(boolean: ri!returnAllData)\n      )\n    )\n  },\n  logicalExpression: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n    operator: \"OR\",\n    filters: {\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM R Data.refType,\n        operator: \"in\",\n        value: ri!refTypes\n      ),\n      #\"SYSTEM_SYSRULES_queryFilter\"(\n        field: recordType!AS GCM R Data.refDataId,\n        operator: \"in\",\n        value: ri!refDataId\n      )\n    },\n    ignoreFiltersWithEmptyValues: true()\n  ),\n  sort: a!defaultValue(\n    value: ri!sortInfo,\n    default: {\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!AS GCM R Data.sortOrder,\n        ascending: true\n      ),\n      #\"SYSTEM_SYSRULES_sortInfo\"(\n        field: recordType!AS GCM R Data.refLabel,\n        ascending: true\n      )\n    }\n  ),\n  castToCdtType: if(\n    rule!AS_CO_UT_booleanDefaultTrue(boolean: ri!doCastToCdt),\n    'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Data',\n    null\n  )\n)"
    },
    "_a-0000eef5-cf69-8000-9e5e-011c48011c48_17803488": {
      "name": "AS_GCM_returnRequiredFieldMapsForRuleConditionAudit",
      "type": "Expression Rule",
      "sail_code": "a!map(\n  \"refClauseDataId\": recordType!AS GCM QNM T Rule Condition.refClauseDataId,\n  \"questionId\": recordType!AS GCM QNM T Rule Condition.questionId,\n  \"refOperatorId\": recordType!AS GCM QNM T Rule Condition.refOperatorId,\n  \"responseId\": recordType!AS GCM QNM T Rule Condition.responseId,\n  \"value\": recordType!AS GCM QNM T Rule Condition.value,\n  \"compValue\": recordType!AS GCM QNM T Rule Condition.compValue\n)"
    },
    "_a-0000eb44-a528-8000-9d15-011c48011c48_9978504": {
      "name": "AS_CO_UT_displayRequiredMessage",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNotNullOrEmpty(\n    ri!label\n  ),\n  a!defaultValue(\n    value: ri!requiredMessage,\n    default: rule!AS_CO_UT_displayCommonObjectBundleLabel(\n      bundleKey: \"AS.CO.CommonObjects.vld_RequiredMessage\",\n      arguments: stripwith(ri!label, \"*\")\n    )\n  ),\n  ri!requiredMessage\n)"
    },
    "_a-0000e8cc-c513-8000-9c0f-011c48011c48_3411278": {
      "name": "AS_GCM_CPS_createRuleForClauseData",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_columnsLayout\"(\n  columns: {\n    /* Clause Data */\n    #\"SYSTEM_SYSRULES_columnLayout\"(\n      contents: {\n        /*Clausedata Dropdown*/\n        rule!AS_GCM_DPL_CO_dropdownField(\n          label: ri!dropdownConfig.clauseData.label,\n          labelPosition: ri!dropdownConfig.clauseData.labelPosition,\n          placeholder: ri!dropdownConfig.clauseData.placeHolder,\n          choiceLabels: ri!dropdownConfig.clauseData.choiceLabels,\n          choiceValues: ri!dropdownConfig.clauseData.choiceValues,\n          value: ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.refClauseDataId],\n          saveInto: {\n            a!save(\n              ri!ruleCondition,\n              recordType!AS GCM QNM T Rule Condition(\n                recordType!AS GCM QNM T Rule Condition.mapId: ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.mapId],\n                recordType!AS GCM QNM T Rule Condition.refClauseDataId: save!value,\n                recordType!AS GCM QNM T Rule Condition.isActive: true\n              )\n            ),\n            a!save(\n              {\n                ri!selectedQuestionnaireTemplateId,\n                ri!ruleConfigMap\n              },\n              null()\n            ),\n            ri!additionalSaves\n          },\n          searchDisplay: \"ON\",\n          required: true\n        )\n      }\n    ),\n    /* Operator */\n    #\"SYSTEM_SYSRULES_columnLayout\"(\n      contents: /*Operator Dropdown*/\n      rule!AS_GCM_DPL_CO_dropdownField(\n        label: ri!dropdownConfig.conditionOperators.label,\n        labelPosition: ri!dropdownConfig.conditionOperators.labelPosition,\n        placeholder: ri!dropdownConfig.conditionOperators.placeHolder,\n        choiceLabels: ri!dropdownConfig.conditionOperators.choiceLabels,\n        choiceValues: ri!dropdownConfig.conditionOperators.choiceValues,\n        value: ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.refOperatorId],\n        saveInto: {\n          ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.refOperatorId],\n          /* Saving null in Value, CompValue and response if operator is null */\n          a!save(\n            ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.value],\n            if(\n              rule!AS_CO_UT_isBlank(save!value),\n              null(),\n              ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.value]\n            )\n          ),\n          a!save(\n            ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.compValue],\n            if(\n              or(\n                rule!AS_CO_UT_isBlank(save!value),\n                save!value <> cons!AS_GCM_REF_ID_IS_BETWEEN_OPERATOR\n              ),\n              null(),\n              ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.compValue]\n            )\n          ),\n          a!save(\n            ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.responseId],\n            if(\n              rule!AS_CO_UT_isBlank(save!value),\n              null(),\n              ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.responseId]\n            )\n          ),\n          ri!additionalSaves\n        },\n        showWhen: true(),\n        required: true\n      )\n    ),\n    /* Value */\n    #\"SYSTEM_SYSRULES_columnLayout\"(\n      contents: if(\n        and(\n          a!isNotNullOrEmpty(\n            ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.refClauseDataId]\n          ),\n          a!isNotNullOrEmpty(ri!ruleConfigMap.interface)\n        ),\n        {\n          /* Clause Data <> Questionnaire Question*/\n          ri!ruleConfigMap.interface(\n            ruleCondition: ri!ruleCondition,\n            required: true,\n            readOnly: false,\n            refData: ri!ruleConfigMap.refData,\n            bundle: ri!bundle,\n            validationGroup: \"Add Condition\",\n            additionalSaves: ri!additionalSaves\n          )\n        },\n        /* Placeholder dropdown */\n        rule!AS_GCM_DPL_CO_dropdownField(\n          label: ri!dropdownConfig.placeholderDropdown.label,\n          labelPosition: ri!dropdownConfig.placeholderDropdown.labelPosition,\n          placeholder: ri!dropdownConfig.placeholderDropdown.placeholder,\n          choiceLabels: ri!dropdownConfig.placeholderDropdown.choiceLabels,\n          choiceValues: ri!dropdownConfig.placeholderDropdown.choiceValues,\n          value: {},\n          saveInto: {},\n          showWhen: or(\n            a!isNullOrEmpty(\n              ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.refClauseDataId]\n            ),\n            rule!AS_CO_UT_isBlank(ri!ruleConfigMap.interface)\n          ),\n          required: true\n        )\n      )\n    ),\n    #\"SYSTEM_SYSRULES_columnLayout\"(\n      width: \"EXTRA_NARROW\",\n      contents: {\n        #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n          labelPosition: \"\",\n          value: {\n            #\"SYSTEM_SYSRULES_richTextIcon\"(\n              icon: \"times\",\n              color: if(ri!disableDelete, \"SECONDARY\", \"ACCENT\"),\n              linkStyle: \"STANDALONE\",\n              altText: if(\n                ri!disableDelete,\n                {},\n                rule!AS_GAM_CO_I18N_UT_displayLabel(\n                  bundle: ri!bundle,\n                  bundleKey: \"acs_Delete\",\n                  arguments: a!defaultValue(\n                    value: index(\n                      rule!AS_GCM_filterRecords(\n                        records: ri!refData,\n                        field: recordType!AS GCM R Data.refDataId,\n                        value: ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.refClauseDataId]\n                      ),\n                      recordType!AS GCM R Data.refLabel,\n                      null\n                    ),\n                    default: \" \"\n                  )\n                )\n              ),\n              link: if(\n                ri!disableDelete,\n                {},\n                #\"SYSTEM_SYSRULES_dynamicLink\"(\n                  saveInto: if(\n                    rule!AS_CO_UT_isBlank(\n                      ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.mapId]\n                    ),\n                    a!save(\n                      ri!ruleConditions,\n                      remove(ri!ruleConditions, ri!conditionIndex)\n                    ),\n                    {\n                      a!save(\n                        ri!ruleCondition,\n                        #\"urn:appian:function:v1:a:update\"(\n                          ri!ruleCondition,\n                          {\n                            recordType!AS GCM QNM T Rule Condition.isActive,\n                            recordType!AS GCM QNM T Rule Condition.modifiedBy,\n                            recordType!AS GCM QNM T Rule Condition.modifiedDatetime\n                          },\n                          { false, loggedInUser(), now() }\n                        )\n                      ),\n                      ri!additionalSaves\n                    }\n                  )\n                )\n              )\n            )\n          },\n          marginAbove: \"MORE\",\n          marginBelow: \"NONE\"\n        )\n      }\n    )\n  },\n  marginAbove: \"LESS\",\n  spacing: \"STANDARD\",\n  showWhen: ri!showWhen\n)"
    },
    "f28850a6-d0cc-4841-a587-a36a568d70a3": {
      "name": "AS_GCM_UT_nullifyEmptyNestedCdtFields",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  /*Returning only nested fields to null nested empty cdts*/\n  local!nestedFieldNames: difference(\n    touniformstring(\n      rule!AS_CO_UT_returnCdtFields(\n        typeOf: ri!cdt,\n        onlyPrimitiveFields: false()\n      )\n    ),\n    touniformstring(\n      rule!AS_CO_UT_returnCdtFields(\n        typeOf: ri!cdt,\n        onlyPrimitiveFields: true()\n      )\n    )\n  ),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!cdt,\n    expression: rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n      cdt: fv!item,\n      fieldValuePairs: a!localVariables(\n        local!cdt: fv!item,\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: local!nestedFieldNames,\n          expression: {\n            field: fv!item,\n            value: if(\n              rule!AS_CO_UT_isBlank(\n                rule!AS_CO_UT_indexPath(\n                  cdt: local!cdt,\n                  field: fv!item & \".\" & rule!AS_GCM_UT_getPrimaryKeyFieldByType(cdt: index(local!cdt, fv!item)),\n                  indexDefault: null()\n                )\n              ),\n              null,\n              index(local!cdt, fv!item, null())\n            )\n          }\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3258893": {
      "name": "AS_GCM_BL_generateOperatorByClauseData",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!selectedConfig: rule!AS_CO_UT_filterCdtByField(\n    cdt: ri!clauseDataConfigMap,\n    field: \"clauseDataId\",\n    value: ri!clauseDataId\n  ),\n  rule!AS_GCM_filterRecords(\n    records: ri!operatorRefData,\n    field: recordType!AS GCM R Data.refDataId,\n    value: local!selectedConfig.operatorIdList\n  )\n)"
    },
    "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3318985": {
      "name": "AS_GCM_CRD_ManageRuleConditions_Recursion",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!activeCount: count(\n    a!flatten(\n      {\n        where(\n          index(\n            ri!ruleConditions,\n            recordType!AS GCM QNM T Rule Condition.isActive,\n            {}\n          )\n        ),\n        where(\n          index(\n            ri!ruleConditionGroups,\n            recordType!AS GCM QNM T Rule Condition Group.isActive,\n            {}\n          )\n        )\n      }\n    )\n  ),\n  {\n    #\"SYSTEM_SYSRULES_cardLayout\"(\n      padding: \"STANDARD\",\n      contents: #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n        label: if(\n          rule!AS_CO_UT_isNotBlank(ri!ruleConditionGroupName),\n          concat(\n            \"Condition Group\",\n            \" \",\n            ri!ruleConditionGroupName\n          ),\n          null\n        ),\n        contents: {\n          #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n            items: {\n              #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                item: rule!AS_CO_CP_radioButtonField(\n                  label: \"Match\",\n                  choiceLabels: {\n                    \"All Condition (AND)\",\n                    \"Any Condition (OR)\"\n                  },\n                  choiceValues: {\n                    cons!AS_GCM_REF_ID_AND_OPERATOR,\n                    cons!AS_GCM_REF_ID_OR_OPERATOR\n                  },\n                  required: true,\n                  choiceLayout: \"COMPACT\",\n                  value: a!defaultValue(\n                    value: ri!matchValue,\n                    default: cons!AS_GCM_REF_ID_AND_OPERATOR\n                  ),\n                  saveInto: { ri!matchValue, ri!additionalSaves },\n                  disabled: local!activeCount < 2\n                ),\n                width: \"MINIMIZE\"\n              ),\n              #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                  labelPosition: \"COLLAPSED\",\n                  value: {\n                    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                      text: {\n                        #\"SYSTEM_SYSRULES_richTextIcon\"(\n                          icon: \"trash-o\",\n                          altText: rule!AS_GAM_CO_I18N_UT_displayLabel(\n                            bundle: ri!bundle,\n                            bundleKey: \"acs_DeleteConditionGroup\",\n                            arguments: ri!ruleConditionGroupName\n                          )\n                        ),\n                        \"\",\n                        rule!AS_GAM_CO_I18N_UT_displayLabel(\n                          bundle: ri!bundle,\n                          bundleKey: \"txt_DeleteGroup\",\n                          arguments: ri!ruleConditionGroupName\n                        )\n                      },\n                      linkStyle: \"STANDALONE\",\n                      link: if(\n                        and(\n                          ri!disableConditionGroupDelete,\n                          ri!depthLevel > 1\n                        ),\n                        {},\n                        #\"SYSTEM_SYSRULES_dynamicLink\"(\n                          saveInto: if(\n                            rule!AS_CO_UT_isBlank(ri!ruleConditionGroupId),\n                            a!save(\n                              ri!parentLevelConditionGroupList,\n                              remove(\n                                ri!parentLevelConditionGroupList,\n                                ri!ruleConditionGroupIndex\n                              )\n                            ),\n                            a!save(\n                              ri!parentLevelConditionGroupList[ri!ruleConditionGroupIndex],\n                              rule!AS_GCM_DeleteRuleConditionGroup_Recursion(\n                                ruleConditionGroup: ri!parentLevelConditionGroupList[ri!ruleConditionGroupIndex]\n                              )\n                            )\n                          )\n                        )\n                      ),\n                      color: if(\n                        and(\n                          ri!disableConditionGroupDelete,\n                          ri!depthLevel > 1\n                        ),\n                        \"SECONDARY\",\n                        \"ACCENT\"\n                      )\n                    )\n                  },\n                  align: \"RIGHT\"\n                ),\n                showWhen: rule!AS_CO_UT_isNotBlank(ri!ruleConditionGroupName)\n              )\n            },\n            alignVertical: \"MIDDLE\"\n\n          ),\n          #\"SYSTEM_SYSRULES_horizontalLine\"(),\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!ruleConditions,\n            expression: {\n              if(\n                fv!item[recordType!AS GCM QNM T Rule Condition.isActive],\n                a!localVariables(\n                  local!originalCondition: a!refreshVariable(\n                    value: index(\n                      ri!originalRuleConditions,\n                      wherecontains(\n                        tointeger(\n                          index(\n                            fv!item,\n                            recordType!AS GCM QNM T Rule Condition.mapId,\n                            {}\n                          )\n                        ),\n                        tointeger(\n                          index(\n                            ri!originalRuleConditions,\n                            recordType!AS GCM QNM T Rule Condition.mapId,\n                            {}\n                          )\n                        )\n                      ),\n                      {}\n                    ),\n                    refreshOnReferencedVarChange: false\n                  ),\n                  local!selectedQuestionnaireTemplateId: a!refreshVariable(\n                    value: fv!item[recordType!AS GCM QNM T Rule Condition.question.questionnaireTemplateId],\n                    refreshOnReferencedVarChange: false\n                  ),\n                  local!ruleConfigMap: rule!AS_GCM_BL_filterClauseDataRuleConfigMap(\n                    clauseDataId: fv!item[recordType!AS GCM QNM T Rule Condition.refClauseDataId],\n                    clauseDataRuleConfigMap: ri!ruleConfigMaps\n                  ),\n                  local!dropdownConfig: rule!AS_GCM_BL_ruleConditionDropdownConfig(\n                    refData: ri!refData,\n                    bundle: ri!bundle,\n                    clauseDataId: fv!item[recordType!AS GCM QNM T Rule Condition.refClauseDataId],\n                    ruleConfigMaps: ri!ruleConfigMaps,\n                    ruleCondition: fv!item,\n                    questionnaireTemplateId: local!selectedQuestionnaireTemplateId\n                  ),\n                  local!disableDelete: and(\n                    not(\n                      or(\n                        index(\n                          ri!ruleConditionGroups,\n                          recordType!AS GCM QNM T Rule Condition Group.isActive,\n                          {}\n                        )\n                      )\n                    ),\n                    fv!index = where(\n                      index(\n                        ri!ruleConditions,\n                        recordType!AS GCM QNM T Rule Condition.isActive,\n                        false\n                      )\n                    )[1],\n                    count(\n                      where(\n                        index(\n                          ri!ruleConditions,\n                          recordType!AS GCM QNM T Rule Condition.isActive,\n                          false\n                        )\n                      )\n                    ) = 1,\n                    ri!depthLevel > 0\n                  ),\n                  {\n                    #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                      labelPosition: \"COLLAPSED\",\n                      showWhen: and(\n                        contains(\n                          ldrop(\n                            where(\n                              ri!ruleConditions[recordType!AS GCM QNM T Rule Condition.isActive]\n                            ),\n                            1\n                          ),\n                          fv!index\n                        ),\n                        local!activeCount > 1\n                      ),\n                      value: {\n                        #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                          text: upper(\n                            displayvalue(\n                              ri!matchValue,\n                              {\n                                cons!AS_GCM_REF_ID_AND_OPERATOR,\n                                cons!AS_GCM_REF_ID_OR_OPERATOR\n                              },\n                              {\n                                \"\",\n                                \"Or\"\n                              },\n                              {}\n                            )\n                          ),\n                          color: rule!AS_GCM_getColorBasedOnColorName(colorName: \"GRAY_3\"),\n                          style: \"STRONG\"\n                        )\n                      },\n                      marginAbove: \"STANDARD\",\n                      marginBelow: \"STANDARD\"\n                    ),\n                    /* Questionnaire Question */\n                    rule!AS_GCM_CPS_createRuleForQuestionnaireQuestion(\n                      refData: ri!refData,\n                      disableDelete: local!disableDelete,\n                      conditionIndex: fv!index,\n                      ruleConditions: ri!ruleConditions,\n                      bundle: ri!bundle,\n                      dropdownConfig: local!dropdownConfig,\n                      ruleConfigMap: local!ruleConfigMap,\n                      ruleCondition: fv!item,\n                      selectedQuestionnaireTemplateId: local!selectedQuestionnaireTemplateId,\n                      showWhen: tointeger(\n                        fv!item[recordType!AS GCM QNM T Rule Condition.refClauseDataId]\n                      ) = cons!AS_GCM_REF_ID_QUESTIONNAIRE_QUESTION_DATA,\n                      additionalSaves: rule!AS_GCM_updateRuleConditionMetadata(\n                        originalCondition: local!originalCondition,\n                        ruleCondition: fv!item\n                      )\n                    ),\n                    /* Clause Data other than questionnaire question */\n                    rule!AS_GCM_CPS_createRuleForClauseData(\n                      refData: ri!refData,\n                      disableDelete: local!disableDelete,\n                      conditionIndex: fv!index,\n                      bundle: ri!bundle,\n                      dropdownConfig: local!dropdownConfig,\n                      ruleConfigMap: local!ruleConfigMap,\n                      ruleCondition: fv!item,\n                      ruleConditions: ri!ruleConditions,\n                      selectedQuestionnaireTemplateId: local!selectedQuestionnaireTemplateId,\n                      showWhen: or(\n                        a!isNullOrEmpty(\n                          fv!item[recordType!AS GCM QNM T Rule Condition.refClauseDataId]\n                        ),\n                        tointeger(\n                          fv!item[recordType!AS GCM QNM T Rule Condition.refClauseDataId]\n                        ) <> cons!AS_GCM_REF_ID_QUESTIONNAIRE_QUESTION_DATA\n                      ),\n                      additionalSaves: rule!AS_GCM_updateRuleConditionMetadata(\n                        originalCondition: local!originalCondition,\n                        ruleCondition: fv!item\n                      )\n                    )\n                  }\n                ),\n                {}\n              )\n            }\n          ),\n          #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n            items: {\n              #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                  labelPosition: \"COLLAPSED\",\n                  value: {\n                    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                      text: {\n                        #\"SYSTEM_SYSRULES_richTextIcon\"(\n                          icon: \"plus-circle\",\n                          altText: if(\n                            rule!AS_CO_UT_isBlank(ri!ruleConditionGroupName),\n                            \"\",\n                            rule!AS_GAM_CO_I18N_UT_displayLabel(\n                              bundle: ri!bundle,\n                              bundleKey: \"acs_AddConditionOrConditionGroup\",\n                              arguments: { ri!ruleConditionGroupName }\n                            )\n                          )\n                        ),\n                        \" \",\n                        \"\"\n                      },\n                      color: \"ACCENT\",\n                      linkStyle: \"STANDALONE\",\n                      link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                        saveInto: {\n                          rule!AS_GCM_AddEmptyRuleCondition(\n                            ruleConditionGroupId: ri!ruleConditionGroupId,\n                            ruleConditions: ri!ruleConditions\n                          ),\n                          if(\n                            rule!AS_CO_UT_isBlank(ri!matchValue),\n                            a!save(\n                              ri!matchValue,\n                              cons!AS_GCM_REF_ID_AND_OPERATOR\n                            ),\n                            {}\n                          )\n                        }\n                      )\n                    )\n                  }\n                ),\n                width: \"MINIMIZE\"\n              )\n            },\n            spacing: \"SPARSE\",\n            marginAbove: \"STANDARD\",\n            showWhen: rule!AS_GAM_UT_ArrayLength(\n              array: wherecontains(\n                true,\n                toboolean(\n                  index(\n                    ri!ruleConditions,\n                    recordType!AS GCM QNM T Rule Condition.isActive,\n                    {}\n                  )\n                )\n              )\n            ) > 0\n          ),\n          #\"SYSTEM_SYSRULES_cardLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                labelPosition: \"COLLAPSED\",\n                value: {\n                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                    text: \"Condition goes here\",\n                    color: rule!AS_GCM_getColorBasedOnColorName(colorName: \"GRAY_3\")\n                  )\n                },\n                marginBelow: \"NONE\",\n                align: \"CENTER\"\n              ),\n              #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                labelPosition: \"COLLAPSED\",\n                value: {\n                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                    text: {\n                      #\"SYSTEM_SYSRULES_richTextIcon\"(\n                        icon: \"plus-circle\",\n                        altText: if(\n                          rule!AS_CO_UT_isBlank(ri!ruleConditionGroupName),\n                          \"\",\n                          rule!AS_GAM_CO_I18N_UT_displayLabel(\n                            bundle: ri!bundle,\n                            bundleKey: \"acs_AddConditionOrConditionGroup\",\n                            arguments: { ri!ruleConditionGroupName }\n                          )\n                        )\n                      ),\n                      \" \",\n                      \"\"\n                    },\n                    color: \"ACCENT\",\n                    linkStyle: \"STANDALONE\",\n                    link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                      saveInto: {\n                        rule!AS_GCM_AddEmptyRuleCondition(\n                          ruleConditionGroupId: ri!ruleConditionGroupId,\n                          ruleConditions: ri!ruleConditions\n                        ),\n                        if(\n                          rule!AS_CO_UT_isBlank(ri!matchValue),\n                          a!save(\n                            ri!matchValue,\n                            cons!AS_GCM_REF_ID_AND_OPERATOR\n                          ),\n                          {}\n                        )\n                      }\n                    )\n                  )\n                },\n                marginAbove: \"EVEN_LESS\",\n                align: \"CENTER\"\n              )\n            },\n            marginBelow: \"STANDARD\",\n            height: \"AUTO\",\n            style: rule!AS_GCM_getColorBasedOnColorName(colorName: \"GRAY_0\"),\n            borderColor: rule!AS_GCM_getColorBasedOnColorName(colorName: \"GRAY_1\"),\n            padding: \"LESS\",\n            shape: \"SEMI_ROUNDED\",\n            showWhen: rule!AS_GAM_UT_ArrayLength(\n              array: wherecontains(\n                true,\n                toboolean(\n                  index(\n                    ri!ruleConditions,\n                    recordType!AS GCM QNM T Rule Condition.isActive,\n                    {}\n                  )\n                )\n              )\n            ) = 0\n          ),\n          #\"SYSTEM_SYSRULES_forEach\"(\n            items: ri!ruleConditionGroups,\n            expression: if(\n              fv!item[recordType!AS GCM QNM T Rule Condition Group.isActive],\n              a!localVariables(\n                local!conditionGroupCopy: a!refreshVariable(\n                  value: fv!item,\n                  refreshOnReferencedVarChange: false\n                ),\n                {\n                  #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                    labelPosition: \"COLLAPSED\",\n                    showWhen: and(\n                      or(\n                        index(\n                          ri!ruleConditions,\n                          recordType!AS GCM QNM T Rule Condition.isActive,\n                          false\n                        ),\n                        contains(\n                          ldrop(\n                            where(\n                              ri!ruleConditionGroups[recordType!AS GCM QNM T Rule Condition Group.isActive]\n                            ),\n                            1\n                          ),\n                          fv!index\n                        )\n                      ),\n                      local!activeCount > 1\n                    ),\n                    value: {\n                      #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                        text: upper(\n                          displayvalue(\n                            ri!matchValue,\n                            {\n                              cons!AS_GCM_REF_ID_AND_OPERATOR,\n                              cons!AS_GCM_REF_ID_OR_OPERATOR\n                            },\n                            {\n                              \"\",\n                              \"Or\"\n                            },\n                            {}\n                          )\n                        ),\n                        color: rule!AS_GCM_getColorBasedOnColorName(colorName: \"GRAY_3\"),\n                        style: \"STRONG\"\n                      )\n                    },\n                    marginAbove: \"STANDARD\",\n                    marginBelow: \"STANDARD\"\n                  ),\n                  rule!AS_GCM_CRD_ManageRuleConditions_Recursion(\n                    ruleConditionGroupId: fv!item[recordType!AS GCM QNM T Rule Condition Group.ruleConditionGroupId],\n                    ruleConditionGroupName: fv!item[recordType!AS GCM QNM T Rule Condition Group.ruleConditionGroupName],\n                    matchValue: fv!item[recordType!AS GCM QNM T Rule Condition Group.refOperatorId],\n                    additionalSaves: {\n                      if(\n                        fv!item[recordType!AS GCM QNM T Rule Condition Group.refOperatorId] = local!conditionGroupCopy[recordType!AS GCM QNM T Rule Condition Group.refOperatorId],\n                        {\n                          a!save(\n                            fv!item[recordType!AS GCM QNM T Rule Condition Group.modifiedBy],\n                            local!conditionGroupCopy[recordType!AS GCM QNM T Rule Condition Group.modifiedBy]\n                          ),\n                          a!save(\n                            fv!item[recordType!AS GCM QNM T Rule Condition Group.modifiedDatetime],\n                            local!conditionGroupCopy[recordType!AS GCM QNM T Rule Condition Group.modifiedBy]\n                          )\n                        },\n                        {\n                          a!save(\n                            fv!item[recordType!AS GCM QNM T Rule Condition Group.modifiedBy],\n                            loggedInUser()\n                          ),\n                          a!save(\n                            fv!item[recordType!AS GCM QNM T Rule Condition Group.modifiedDatetime],\n                            now()\n                          )\n                        }\n                      )\n                    },\n                    ruleConditions: fv!item[recordType!AS GCM QNM T Rule Condition Group.conditions],\n                    ruleConditionGroups: fv!item[recordType!AS GCM QNM T Rule Condition Group.conditionGroups],\n                    disableConditionGroupDelete: local!activeCount = 1,\n                    depthLevel: a!defaultValue(value: ri!depthLevel, default: 0) + 1,\n                    ruleConditionGroupIndex: fv!index,\n                    parentLevelConditionGroupList: ri!ruleConditionGroups,\n                    refData: ri!refData,\n                    ruleConfigMaps: ri!ruleConfigMaps,\n                    bundle: ri!bundle,\n                    originalRuleConditions: index(\n                      ri!originalRuleConditionGroups,\n                      wherecontains(\n                        tointeger(\n                          index(\n                            fv!item,\n                            recordType!AS GCM QNM T Rule Condition Group.ruleConditionGroupId,\n                            null\n                          )\n                        ),\n                        tointeger(\n                          index(\n                            ri!originalRuleConditionGroups,\n                            recordType!AS GCM QNM T Rule Condition Group.ruleConditionGroupId,\n                            null\n                          )\n                        )\n                      ),\n                      recordType!AS GCM QNM T Rule Condition Group.conditions,\n                      {}\n                    ),\n                    originalRuleConditionGroups: index(\n                      ri!originalRuleConditionGroups,\n                      wherecontains(\n                        tointeger(\n                          index(\n                            fv!item,\n                            recordType!AS GCM QNM T Rule Condition Group.ruleConditionGroupId,\n                            null\n                          )\n                        ),\n                        tointeger(\n                          index(\n                            ri!originalRuleConditionGroups,\n                            recordType!AS GCM QNM T Rule Condition Group.ruleConditionGroupId,\n                            null\n                          )\n                        )\n                      ),\n                      recordType!AS GCM QNM T Rule Condition Group.conditionGroups,\n                      {}\n                    )\n                  )\n                }\n              ),\n              {}\n            )\n          ),\n          #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n            showWhen: and(\n              rule!AS_GAM_UT_ArrayLength(\n                array: wherecontains(\n                  true,\n                  toboolean(\n                    index(\n                      ri!ruleConditionGroups,\n                      recordType!AS GCM QNM T Rule Condition Group.isActive,\n                      {}\n                    )\n                  )\n                )\n              ) > 0,\n              ri!depthLevel < cons!AS_GCM_INT_MAX_RULE_CONDITION_GROUP_NESTING_LEVEL\n            ),\n            items: {\n              #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                item: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                  labelPosition: \"COLLAPSED\",\n                  value: {\n                    #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                      text: {\n                        #\"SYSTEM_SYSRULES_richTextIcon\"(\n                          icon: \"plus-circle\",\n                          altText: if(\n                            rule!AS_CO_UT_isBlank(ri!ruleConditionGroupName),\n                            \"\",\n                            rule!AS_GAM_CO_I18N_UT_displayLabel(\n                              bundle: ri!bundle,\n                              bundleKey: \"acs_AddConditionOrConditionGroup\",\n                              arguments: { ri!ruleConditionGroupName }\n                            )\n                          )\n                        ),\n                        \" \",\n                        \"Add Condition Group\"\n                      },\n                      color: \"ACCENT\",\n                      linkStyle: \"STANDALONE\",\n                      link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                        saveInto: {\n                          rule!AS_GCM_AddEmptyRuleConditionGroup(\n                            depthLevel: a!defaultValue(value: ri!depthLevel, default: 0) + 1,\n                            parentConditionGroupName: ri!ruleConditionGroupName,\n                            ruleConditionGroups: ri!ruleConditionGroups\n                          ),\n                          if(\n                            rule!AS_CO_UT_isBlank(ri!matchValue),\n                            a!save(\n                              ri!matchValue,\n                              cons!AS_GCM_REF_ID_AND_OPERATOR\n                            ),\n                            {}\n                          )\n                        }\n                      )\n                    )\n                  }\n                ),\n                width: \"MINIMIZE\"\n              )\n            },\n            spacing: \"SPARSE\",\n            marginAbove: \"STANDARD\"\n          ),\n          #\"SYSTEM_SYSRULES_cardLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                labelPosition: \"COLLAPSED\",\n                value: {\n                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                    text: \"Condition group goes here\",\n                    color: rule!AS_GCM_getColorBasedOnColorName(colorName: \"GRAY_3\")\n                  )\n                },\n                marginBelow: \"NONE\",\n                align: \"CENTER\"\n              ),\n              #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                labelPosition: \"COLLAPSED\",\n                value: {\n                  #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                    text: {\n                      #\"SYSTEM_SYSRULES_richTextIcon\"(\n                        icon: \"plus-circle\",\n                        altText: if(\n                          rule!AS_CO_UT_isBlank(ri!ruleConditionGroupName),\n                          \"\",\n                          rule!AS_GAM_CO_I18N_UT_displayLabel(\n                            bundle: ri!bundle,\n                            bundleKey: \"acs_AddConditionOrConditionGroup\",\n                            arguments: { ri!ruleConditionGroupName }\n                          )\n                        )\n                      ),\n                      \" \",\n                      \"Add Condition Group\",\n\n                    },\n                    color: \"ACCENT\",\n                    linkStyle: \"STANDALONE\",\n                    link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                      saveInto: {\n                        rule!AS_GCM_AddEmptyRuleConditionGroup(\n                          depthLevel: a!defaultValue(value: ri!depthLevel, default: 0) + 1,\n                          parentConditionGroupName: ri!ruleConditionGroupName,\n                          ruleConditionGroups: ri!ruleConditionGroups\n                        ),\n                        if(\n                          rule!AS_CO_UT_isBlank(ri!matchValue),\n                          a!save(\n                            ri!matchValue,\n                            cons!AS_GCM_REF_ID_AND_OPERATOR\n                          ),\n                          {}\n                        )\n                      }\n                    )\n                  )\n                },\n                marginAbove: \"EVEN_LESS\",\n                align: \"CENTER\"\n              )\n            },\n            marginBelow: \"STANDARD\",\n            height: \"AUTO\",\n            style: rule!AS_GCM_getColorBasedOnColorName(colorName: \"GRAY_0\"),\n            borderColor: rule!AS_GCM_getColorBasedOnColorName(colorName: \"GRAY_1\"),\n            padding: \"LESS\",\n            shape: \"SEMI_ROUNDED\",\n            showWhen: and(\n              rule!AS_GAM_UT_ArrayLength(\n                array: wherecontains(\n                  true,\n                  toboolean(\n                    index(\n                      ri!ruleConditionGroups,\n                      recordType!AS GCM QNM T Rule Condition Group.isActive,\n                      {}\n                    )\n                  )\n                )\n              ) = 0,\n              ri!depthLevel < cons!AS_GCM_INT_MAX_RULE_CONDITION_GROUP_NESTING_LEVEL\n            )\n          )\n        },\n        labelHeadingTag: \"H3\",\n        accessibilityText: if(\n          rule!AS_CO_UT_isNotBlank(ri!ruleConditionGroupName),\n          concat(\n            \"Condition Group\",\n            \" \",\n            ri!ruleConditionGroupName\n          ),\n          null\n        ),\n        labelSize: \"EXTRA_SMALL\",\n        labelColor: rule!AS_GCM_getColorBasedOnColorName(colorName: \"BLUE_4\")\n      ),\n      height: \"AUTO\",\n      style: rule!AS_GCM_getColorBasedOnColorName(\n        colorName: if(\n          mod(\n            a!defaultValue(value: ri!depthLevel, default: 0),\n            2\n          ) = 0,\n          \"APPIAN_BACKGROUND\",\n          \"WHITE\"\n        )\n      ),\n      shape: \"SEMI_ROUNDED\",\n      marginAbove: \"STANDARD\",\n      marginBelow: \"STANDARD\",\n      borderColor: rule!AS_GCM_getColorBasedOnColorName(colorName: \"GRAY_1\")\n    )\n  }\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81749": {
      "name": "AS_CO_UT_checkIfUserExists",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  and(\n    rule!AS_CO_UT_isNotBlank(ri!user),\n    isusernametaken(ri!user)\n  )\n)"
    },
    "_a-0000e438-fdf5-8000-9ba8-011c48011c48_19869": {
      "name": "AS_CO_I18N_UT_parseBundleKey",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  with(\n    local!split: split(\n      ri!bundleKey,\n      \".\"\n    ),\n    local!bundleName: joinarray(\n      remove(\n        local!split,\n        count(\n          local!split\n        )\n      ),\n      \".\"\n    ),\n    local!labelKey: local!split[count(\n      local!split\n    )],\n    {\n      bundleName: local!bundleName,\n      labelKey: local!labelKey\n    }\n  )\n)"
    },
    "_a-0000e74f-57e8-8000-9be4-011c48011c48_1968757": {
      "name": "AS_GCM_MTR_INCLUSION_addClauseToTemplate",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(local!temp, a!save(local!temp, {}))"
    },
    "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3261182": {
      "name": "AS_GCM_UT_formatDataBasedOnReturnType",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!datasubset: todatasubset(\n    /* Output Modifier   */\n    rule!AS_GCM_updateDataByModifierMaps(\n      data: ri!data,\n      modifierMaps: ri!modifierMaps\n    ),\n    ri!pagingInfo\n  ),\n  a!match(\n    value: ri!returnType,\n    equals: cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    then: local!datasubset,\n    /* When the data is null then just return the same    */\n    whenTrue: rule!AS_CO_UT_isBlank(ri!data),\n    then: ri!data,\n    /* When the return type is SINGLE_OBJECT then type cast to its corresponding single object type   */\n    equals: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT,\n    then: rule!AS_CO_UT_cast(\n      typeOf: a!flatten(ri!data)[1],\n      value: index(local!datasubset.data, 1, null)\n    ),\n    default: rule!AS_CO_UT_cast(\n      typeOf: ri!data,\n      value: local!datasubset.data\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73856": {
      "name": "AS_CO_UT_dynamicDictionary",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n    cdt: rule!AS_CO_UT_returnNullDictionary(),\n    fieldValuePairs: ri!fieldValuePairs\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_157603": {
      "name": "AS_CO_UT_cast",
      "type": "Expression Rule",
      "sail_code": "with(  \n  local!typeNumber: rule!AS_CO_UT_returnTypeNumber(\n    type: ri!type,\n    typeOf: ri!typeOf\n  ),\n\n  /* If the object is empty, use null or {} depending on if it is array type or not */\n  local!objectToCast: if(\n    rule!AS_CO_UT_isNotBlank(ri!value),\n    ri!value,\n    rule!AS_CO_UT_checkIfSingleType(\n      type: ri!type,\n      typeOf: ri!typeOf\n    ),\n    null,\n    {}\n  ),\n\n  cast(\n    local!typeNumber,\n    local!objectToCast\n  )\n  \n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_91550": {
      "name": "AS_CO_I18N_UT_replaceArgument",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  if(\n    isnull(ri!input),\n    ri!input,\n    substitute(\n      ri!input,\n      /*The standard argument format is `[%x]` where `x` is the argument position*/\n      concat(\"[%\", ri!index, \"]\"),\n      fn!index(ri!arguments, ri!index, \"\")\n    )\n  )\n)"
    },
    "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3311861": {
      "name": "AS_GCM_BL_ruleConditionDropdownConfig",
      "type": "Expression Rule",
      "sail_code": "if(\n  rule!AS_CO_UT_isBlank(ri!refData),\n  {},\n  a!localVariables(\n    local!refRuleOperators: rule!AS_GCM_filterRecords(\n      records: ri!refData,\n      field: recordType!AS GCM R Data.refType,\n      value: cons!AS_GCM_REF_TYPE_RULE_OPERATOR\n    ),\n    local!refConditionOperators: if(\n      ri!isGrid,\n      rule!AS_GCM_filterRecords(\n        records: ri!refData,\n        field: recordType!AS GCM R Data.refType,\n        value: cons!AS_GCM_REF_TYPE_CONDITION_OPERATOR\n      ),\n      rule!AS_GCM_BL_generateOperatorByClauseData(\n        clauseDataId: ri!clauseDataId,\n        operatorRefData: rule!AS_GCM_filterRecords(\n          records: ri!refData,\n          field: recordType!AS GCM R Data.refType,\n          value: cons!AS_GCM_REF_TYPE_CONDITION_OPERATOR\n        ),\n        clauseDataConfigMap: ri!ruleConfigMaps\n      )\n    ),\n    local!refClauseDataTypes: rule!AS_GCM_filterRecords(\n      records: ri!refData,\n      field: recordType!AS GCM R Data.refType,\n      value: cons!AS_GCM_REF_TYPE_CLAUSESET_DATA\n    ),\n    a!map(\n      /* Rule Operator */\n      ruleOperator: a!map(\n        label: \"\",\n        labelPosition: \"ABOVE\",\n        placeholder: \"\",\n        required: true(),\n        choiceLabels: rule!AS_GAM_translateMultipleBundleKeys(\n          bundle: ri!bundle,\n          bundleKeys: local!refRuleOperators[recordType!AS GCM R Data.refKey]\n        ),\n        choiceValues: local!refRuleOperators[recordType!AS GCM R Data.refDataId]\n      ),\n      /* Clause Data */\n      clauseData: a!map(\n        label: \"Clause Data\",\n        labelPosition: \"ABOVE\",\n        placeholder: \"Choose piece of clause data\",\n        choiceLabels: rule!AS_GAM_translateMultipleBundleKeys(\n          bundle: ri!bundle,\n          bundleKeys: local!refClauseDataTypes[recordType!AS GCM R Data.refKey]\n        ),\n        choiceValues: local!refClauseDataTypes[recordType!AS GCM R Data.refDataId]\n      ),\n      /* Questionnaire */\n      questionnaire: a!map(\n        label: \"Questionnaire\",\n        labelPosition: \"ABOVE\",\n        placeholder: \"\",\n        choiceLabels: recordType!AS GCM QNM T Questionnaire.name,\n        choiceValues: recordType!AS GCM QNM T Questionnaire.questionnaireTemplateId,\n        data: #\"SYSTEM_SYSRULES_recordData\"(\n          recordType: recordType!AS GCM QNM T Questionnaire,\n          filters: #\"SYSTEM_SYSRULES_queryFilter\"(\n            field: recordType!AS GCM QNM T Questionnaire.isActive,\n            operator: \"=\",\n            value: true()\n          )\n        ),\n        sort: {\n          #\"SYSTEM_SYSRULES_sortInfo\"(\n            field: recordType!AS GCM QNM T Questionnaire.name,\n            ascending: true\n          )\n        }\n      ),\n      /* Question */\n      question: a!map(\n        label: \"Question\",\n        labelPosition: \"ABOVE\",\n        placeholder: \"\",\n        choiceLabels: recordType!AS GCM QNM T Question.label,\n        choiceValues: recordType!AS GCM QNM T Question.questionTemplateId,\n        data: #\"SYSTEM_SYSRULES_recordData\"(\n          recordType: recordType!AS GCM QNM T Question,\n          filters: {\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM QNM T Question.questionnaireTemplateId,\n              operator: \"=\",\n              /*  When questionnaire is not seleted, defaulting to -1 as we don't want to show any question        */\n              value: a!defaultValue(\n                value: ri!questionnaireTemplateId,\n                default: - 1\n              )\n            ),\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM QNM T Question.isActive,\n              operator: \"=\",\n              value: true()\n            )\n          }\n        ),\n        sort: {\n          #\"SYSTEM_SYSRULES_sortInfo\"(\n            field: recordType!AS GCM QNM T Question.groupNumber,\n            ascending: true\n          ),\n          #\"SYSTEM_SYSRULES_sortInfo\"(\n            field: recordType!AS GCM QNM T Question.orderNumber,\n            ascending: true\n          )\n        }\n      ),\n      /* Condition operator */\n      conditionOperators: a!map(\n        label: \"\",\n        labelPosition: \"ABOVE\",\n        placeholder: rule!AS_GAM_CO_I18N_UT_displayLabel(\n          bundle: ri!bundle,\n          bundleKey: if(\n            a!isNullOrEmpty(ri!clauseDataId),\n            \"plc_ChooseClauseDataFirst\",\n            \"plc_SelectOperator\"\n          )\n        ),\n        choiceLabels: rule!AS_GAM_translateMultipleBundleKeys(\n          bundle: ri!bundle,\n          bundleKeys: local!refConditionOperators[recordType!AS GCM R Data.refKey]\n        ),\n        choiceValues: local!refConditionOperators[recordType!AS GCM R Data.refDataId]\n      ),\n      /* Response */\n      response: a!map(\n        label: \"Value\",\n        labelPosition: \"ABOVE\",\n        placeholder: \"\",\n        choiceLabels: recordType!AS GCM QNM T Response.label,\n        choiceValues: recordType!AS GCM QNM T Response.responseTemplateId,\n        data: #\"SYSTEM_SYSRULES_recordData\"(\n          recordType: recordType!AS GCM QNM T Response,\n          filters: {\n            #\"SYSTEM_SYSRULES_queryFilter\"(\n              field: recordType!AS GCM QNM T Response.qstnTmpltIdRspnseOption,\n              operator: \"=\",\n              value: ri!ruleCondition[recordType!AS GCM QNM T Rule Condition.questionId]\n            )\n          }\n        ),\n        sort: {}\n      ),\n      /* Placeholder dropdown */\n      placeholderDropdown: a!map(\n        label: \"Value\",\n        labelPosition: \"ABOVE\",\n        placeholder: rule!AS_GAM_CO_I18N_UT_displayLabel(\n          bundle: ri!bundle,\n          bundleKey: if(\n            ri!clauseDataId = cons!AS_GCM_REF_ID_QUESTIONNAIRE_QUESTION_DATA,\n            \"plc_ChooseQuestionnaireDetails\",\n            \"plc_ChooseClauseDataFirst\"\n          )\n        ),\n        choiceLabels: {},\n        choiceValues: {}\n      )\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75842": {
      "name": "AS_CO_UT_returnSingleTypeObject",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!typeOf: if(\n    isnull(ri!type),\n    ri!typeOf,\n    cast(\n      ri!type,\n      {}\n    )\n  ),\n\n  index(\n    cast(\n      typeof({local!typeOf}), \n      updatearray({local!typeOf}, 1, {})\n    ), \n    1,\n    {}\n  )\n)"
    },
    "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3128144": {
      "name": "AS_GCM_QR_getTemplateClauseDetailsWithBatching",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!relationIds: a!defaultValue(\n    value: ri!relationIds,\n    default: rule!AS_CO_UT_queryRecord(\n      recordType: recordType!AS GCM Template Clause,\n      returnType: a!defaultValue(\n        value: ri!returnType,\n        default: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n      ),\n      pagingInfo: if(ri!returnType =cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET, #\"SYSTEM_SYSRULES_pagingInfo\"(1,cons!AS_GCM_INT_QUERY_BATCH_SIZE_EXTRA_LARGE),null),\n      filters: {\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM Template Clause.templateId,\n          operator: \"in\",\n          value: ri!templateIds\n        ),\n        #\"SYSTEM_SYSRULES_queryFilter\"(\n          field: recordType!AS GCM Template Clause.isActive,\n          operator: \"=\",\n          value: true(),\n          applyWhen: ri!showInActive <> true()\n        ),\n        ri!additionalFilters\n      },\n      fields: {\n        recordType!AS GCM Template Clause.relationId\n      },\n      logicalExpression: ri!logicalExpression,\n      triggerRefresh: ri!triggerRefresh,\n      executeWhen: and(\n        ri!executeWhen,\n        or(\n          any(\n            rule!AS_CO_UT_isNotBlank(_),\n            {\n              ri!additionalFilters,\n              ri!logicalExpression,\n              ri!aggregation\n            }\n          ),\n          rule!AS_CO_UT_isNotBlank(ri!templateIds),\n          rule!AS_CO_UT_isNotBlank(ri!relationIds)\n        )\n      )\n    )[recordType!AS GCM Template Clause.relationId],\n    \n  ),\n  local!batches: rule!AS_GCM_UT_getIdentifiersInBatches(\n    identifiers: rule!AS_CO_UT_rejectNullValuesFromArray(array: local!relationIds),\n    batchingSize: a!defaultValue(\n      ri!batchingSize,\n      cons!AS_GCM_INT_QUERY_BATCH_SIZE_TINY\n    ),\n    returnType: ri!returnType,\n    pagingInfo: ri!pagingInfo\n  ),\n  local!selectionColumns: a!defaultValue(\n    value: ri!selectionColumns,\n    default: if(\n      ri!getOnlySimpleFields = true(),\n      rule!AS_CO_UT_rejectNullValuesFromArray(\n        array: {\n          recordType!AS GCM Template Clause.relationId,\n          recordType!AS GCM Template Clause.refClause.clauseId,\n          recordType!AS GCM Template Clause.templateId,\n          recordType!AS GCM Template Clause.refUsage.refDataId,\n          recordType!AS GCM Template Clause.createdBy,\n          recordType!AS GCM Template Clause.createdDatetime,\n          recordType!AS GCM Template Clause.modifiedBy,\n          recordType!AS GCM Template Clause.modifiedDatetime,\n          recordType!AS GCM Template Clause.isActive,\n          ri!selectAdditionalFieldsForWrite\n        }\n      ),\n      {}\n    )\n  ),\n  local!data: if(\n    rule!AS_CO_UT_isBlank(local!relationIds),\n    {},\n    a!flatten(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: local!batches,\n        expression: if(\n          and(\n            rule!AS_CO_UT_isNotBlank(input: local!selectionColumns),\n            rule!AS_CO_UT_isBlank(value: ri!aggregation)\n          ),\n          rule!AS_GCM_UT_nullifyEmptyNestedCdtFields(\n            cdt: rule!AS_CO_UT_cast(\n              \n              type: #\"urn:appian:function:v1:a:listtype?okey=a!listType\"(recordType!AS GCM Template Clause),\n              value: rule!AS_CO_UT_queryRecord(\n                recordType: recordType!AS GCM Template Clause,\n                returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n                \n                filters: {\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: recordType!AS GCM Template Clause.relationId,\n                    operator: \"in\",\n                    value: tointeger(fv!item.identifiers)\n                  ),\n                  #\"SYSTEM_SYSRULES_queryFilter\"(\n                    field: recordType!AS GCM Template Clause.isActive,\n                    operator: \"=\",\n                    value: true(),\n                    applyWhen: ri!showInActive <> true()\n                  ),\n                  ri!additionalFilters\n                },\n                fields: local!selectionColumns,\n                logicalExpression: ri!logicalExpression,\n                triggerRefresh: ri!triggerRefresh,\n                executeWhen: and(\n                  ri!executeWhen,\n                  rule!AS_CO_UT_isNotBlank(input: fv!item.identifiers)\n                )\n              )\n            )\n          ),\n          rule!AS_GCM_QR_getTemplateClauseDetails(\n            relationIds: fv!item.identifiers,\n            returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n            executeWhen: and(\n              ri!executeWhen,\n              rule!AS_CO_UT_isNotBlank(input: fv!item.identifiers)\n            ),\n            aggregation: ri!aggregation,\n            logicalExpression: ri!logicalExpression,\n            additionalFilters: ri!additionalFilters,\n            \n            triggerRefresh: ri!triggerRefresh,\n            sort: ri!sort,\n            showInActive: ri!showInActive\n          )\n        )\n      )\n    )\n  ),\n  rule!AS_GCM_UT_formatDataBasedOnReturnType(\n    data: local!data,\n    pagingInfo: ri!pagingInfo,\n    returnType: ri!returnType\n  )\n)"
    },
    "_a-0000eef5-cf69-8000-9e5e-011c48011c48_17798497": {
      "name": "AS_GCM_updateRuleConditionMetadata",
      "type": "Expression Rule",
      "sail_code": "if(\n  a!isNotNullOrEmpty(\n    index(ri!ruleCondition,recordType!AS GCM QNM T Rule Condition.mapId,null)\n  ),\n  if(\n    all(\n      rule!AS_GCM_compareRecordFields(\n        record: ri!ruleCondition,\n        recordCopy: ri!originalCondition,\n        recordField: _\n      ),\n      {\n        recordType!AS GCM QNM T Rule Condition.questionId,\n        recordType!AS GCM QNM T Rule Condition.refOperatorId,\n        recordType!AS GCM QNM T Rule Condition.responseId,\n        recordType!AS GCM QNM T Rule Condition.refClauseDataId,\n        recordType!AS GCM QNM T Rule Condition.value,\n        recordType!AS GCM QNM T Rule Condition.compValue,\n        recordType!AS GCM QNM T Rule Condition.isActive\n      }\n    ),\n    a!save(\n      ri!ruleCondition,\n      #\"urn:appian:function:v1:a:update\"(\n        ri!ruleCondition,\n        {\n          recordType!AS GCM QNM T Rule Condition.modifiedBy,\n          recordType!AS GCM QNM T Rule Condition.modifiedDatetime\n        },\n        {\n          index(ri!originalCondition,recordType!AS GCM QNM T Rule Condition.modifiedBy,null),\n          index(ri!originalCondition,recordType!AS GCM QNM T Rule Condition.modifiedDatetime,null)\n        }\n      )\n    ),\n    a!save(\n      ri!ruleCondition,\n      #\"urn:appian:function:v1:a:update\"(\n        ri!ruleCondition,\n        {\n          recordType!AS GCM QNM T Rule Condition.modifiedBy,\n          recordType!AS GCM QNM T Rule Condition.modifiedDatetime\n        },\n        { loggedInUser(), now() }\n      )\n    )\n  ),\n  a!save(\n    ri!ruleCondition,\n    #\"urn:appian:function:v1:a:update\"(\n      ri!ruleCondition,\n      {\n        recordType!AS GCM QNM T Rule Condition.createdBy,\n        recordType!AS GCM QNM T Rule Condition.createdDatetime,\n        recordType!AS GCM QNM T Rule Condition.modifiedBy,\n        recordType!AS GCM QNM T Rule Condition.modifiedDatetime\n      },\n      {\n        loggedInUser(),\n        now(),\n        loggedInUser(),\n        now()\n      }\n    )\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_269546": {
      "name": "AS_CO_UT_returnCdtIndicesByField",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Integer?list',\n  rule!AS_CO_UT_whereContains(\n    values: ri!value,\n    array: rule!AS_CO_UT_indexPath(\n      cdt: a!flatten(ri!cdt),\n      field: ri!field,\n      indexDefault: null\n    )\n  )\n)"
    },
    "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3284363": {
      "name": "AS_GCM_UT_getPrimaryKeyFieldByType",
      "type": "Expression Rule",
      "sail_code": "displayvalue(\n  typeof(ri!cdt),\n  apply(\n    fn!typeof,\n    {\n      /*AS_GCM_R_Data*/\n      'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Data'(),\n      /*AS_GCM_R_Clause*/\n      'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Clause'(),\n      /*AS_GCM_ClauseSet_ClauseSection*/\n      'type!{urn:com:appian:types:AS:GCM}AS_GCM_ClauseSet_ClauseSection'(),\n      /*AS_GCM_R_Section*/\n      'type!{urn:com:appian:types:AS:GCM}AS_GCM_R_Section'()\n    }\n  ),\n  {\n    /*AS_GCM_R_Data*/\n    \"refDataId\",\n    /*AS_GCM_R_Clause*/\n    \"clauseId\",\n    /*AS_GCM_ClauseSet_ClauseSection*/\n    \"sectionId\",\n    /*AS_GCM_R_Section*/\n    \"sectionId\"\n  },\n  \"\"\n)"
    },
    "_a-0000e752-5ddb-8000-9be7-011c48011c48_1973212": {
      "name": "AS_GCM_MTR_INCLUSION_addClauseToRule",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(local!temp, a!save(local!temp, {}))"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81720": {
      "name": "AS_CO_I18N_UT_loadBundleFromFolder",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  a!localVariables(\n    \n    local!locale: if(\n      ri!localeAgnostic,\n      null,\n      rule!AS_CO_I18N_UT_getUserLocale(user: loggedInUser())\n    ),\n    \n    if(\n      rule!AS_CO_UT_isBlank(ri!bundleFolder),\n      \n      null,\n      \n      a!localVariables(\n        /*Wrapping this in a local variable to ensure caching -- it will only re-execute if inputs change*/\n        local!bundleData: loadbundlepropertiesfile(\n          ri!bundleFolder,\n          local!locale,\n          a!flatten(ri!bundleNames)\n        ),\n        \n        local!bundleData\n      )\n    )\n  )\n)"
    },
    "_a-0000e2cd-bc96-8000-9ba2-011c48011c48_101148": {
      "name": "AS_CO_UT_returnNullDictionary",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary',\n  null\n)"
    },
    "_a-0000e5da-a251-8000-9bbe-011c48011c48_958752": {
      "name": "AS_GAM_ADT_UT_buildAuditEntityData",
      "type": "Expression Rule",
      "sail_code": "if(\n  /*Action only audit*/\n  ri!auditParams.auditType = cons!AS_GAM_ADT_TXT_AUDIT_TYPE_ACTION_ONLY,\n  rule!AS_GAM_ADT_UT_constructActionOnlyAuditData(\n    initiator: ri!initiator,\n    auditParams: ri!auditParams\n  ),\n  /*Manipulation Audit*/\n  if(\n    ri!auditParams.auditType = cons!AS_GAM_ADT_TXT_AUDIT_TYPE_MANIPULATION,\n    rule!AS_GAM_ADT_UT_constructManipulatedAuditData(\n      initiator: ri!initiator,\n      auditParams: ri!auditParams\n    ),\n    /*Generic field level audit*/\n    rule!AS_GAM_ADT_UT_buildFieldLevelAuditEntityData(auditParams: ri!auditParams)\n  )\n)"
    },
    "_a-0000e415-3035-8000-9bb2-011c48011c48_292117": {
      "name": "AS_CO_UT_castToDictionaryList",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Dictionary?list',\n  if(\n    rule!AS_CO_UT_isBlank(ri!value),\n    {},\n    ri!value\n  )\n)"
    },
    "_a-0000e447-91f4-8000-9bc0-011c48011c48_584965-adt": {
      "name": "AS_ADT_UT_startAuditProcess_Parameters",
      "type": "Expression Rule",
      "sail_code": "{\n  auditParams: 'type!{urn:com:appian:types:AS:ADT}AS_ADT_P_AuditProcessParameters'(\n    newObjects: rule!AS_CO_UT_cast(\n      value: ri!newObjects,\n      type: rule!AS_CO_UT_returnArrayTypeNumber(type: ri!objectType),\n      \n    ),\n    originalObjects: rule!AS_CO_UT_cast(\n      value: ri!originalObjects,\n      type: rule!AS_CO_UT_returnArrayTypeNumber(type: ri!objectType),\n      \n    ),\n    objectTypeNumber: rule!AS_CO_UT_returnTypeNumber(type: ri!objectType),\n    namespace: rule!AS_CO_UT_getTypeNamespace(type: ri!objectType),\n    objectDse: ri!objectDse,\n    auditDse: ri!auditDse,\n    username: rule!AS_CO_UT_replaceNull(\n      nullableValue: ri!username,\n      replacementValue: loggedInUser()\n    ),\n    externalAction: ri!externalAction,\n    auditConfig: ri!auditConfig,\n    auditType: ri!auditType,\n    manipulationAudit: ri!manipulationAudit,\n    complexFieldName: ri!complexFieldName\n  )\n}"
    },
    "_a-0000e6d1-2aad-8000-9bdd-011c48011c48_1776190": {
      "name": "AS_GCM_QE_getRefRuleAudits",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryEntity(\n  entity: cons!AS_GCM_QNM_ENT_A_T_RULE,\n  entityType: 'type!{urn:com:appian:types:AS:GCM:QNM}AS_GCM_QNM_A_T_Rule',\n  returnType: ri!returnType,\n  executeWhen: and(\n    ri!executeWhen,\n    or(\n      any(\n        rule!AS_CO_UT_isNotBlank(_),\n        {\n          ri!additionalFilters,\n          ri!logicalExpression,\n          ri!aggregation\n        }\n      ),\n      rule!AS_CO_UT_isNotBlank(ri!ruleId)\n    )\n  ),\n  /* To ensure proper null checks, we'll force all queryFilter values to not be null */\n  logicalExpression: ri!logicalExpression,\n  pagingInfo: ri!pagingInfo,\n  triggerRefresh: ri!triggerRefresh,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"ruleId\",\n      operator: \"in\",\n      value: ri!ruleId\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: \"auditActionCode\",\n      operator: \"<>\",\n      value: cons!AS_ADT_ENUM_AUDIT_ACTION_CODE_UNCHANGED,\n      applyWhen: not(\n        rule!AS_CO_UT_booleanDefaultFalse(ri!includeUnchangedAudit)\n      )\n    ),\n    ri!additionalFilters\n  },\n  aggregation: ri!aggregation,\n  sort: ri!sort\n)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1466356": {
      "name": "AS_GCM_QNM_setMetaDataForRuleRecord",
      "type": "Expression Rule",
      "sail_code": "rule!AS_GCM_setRecordFields(\n  record: ri!rule,\n  neverOverwrite: {\n    a!map(\n      field: recordType!AS GCM QNM T Rule.refOperatorId,\n      value: cons!AS_GCM_REF_ID_AND_OPERATOR\n    ),\n    a!map(\n      field: recordType!AS GCM QNM T Rule.createdBy,\n      value: ri!initiator\n    ),\n    a!map(\n      field: recordType!AS GCM QNM T Rule.createdDatetime,\n      value: now()\n    ),\n    a!map(\n      field: recordType!AS GCM QNM T Rule.isActive,\n      value: true(),\n      applyWhen: toboolean(ri!rule[recordType!AS GCM QNM T Rule.isDraft]) <> true()\n    )\n  },\n  alwaysOverwrite: {\n    a!map(\n      field: recordType!AS GCM QNM T Rule.modifiedBy,\n      value: ri!initiator\n    ),\n    a!map(\n      field: recordType!AS GCM QNM T Rule.modifiedDatetime,\n      value: now()\n    )\n  },\n  childRelationships: {\n    a!map(\n      field: recordType!AS GCM QNM T Rule.conditionClauses,\n      value: rule!AS_GCM_QNM_setMetaDataForRuleConditionClausesRecord(\n        initiator: ri!initiator,\n        ruleClauses: ri!rule[recordType!AS GCM QNM T Rule.conditionClauses],\n        originalRuleClauses: ri!originalRule[recordType!AS GCM QNM T Rule.conditionClauses]\n      )\n    )\n  }\n)"
    },
    "_a-0000e6e4-7cee-8000-9bde-011c48011c48_1803218": {
      "name": "AS_GCM_QNM_QR_getQuestionResponse_Template",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryRecord(\n  recordType: recordType!AS GCM QNM T Response,\n  returnType: a!defaultValue(\n    value: ri!returnType,\n    default: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY\n  ),\n  fields: ri!fields,\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM QNM T Response.responseTemplateId,\n      operator: \"in\",\n      value: ri!responseTemplateId\n    )\n  },\n  executeWhen: ri!executeWhen,\n  triggerRefresh: ri!triggerRefresh,\n  pagingInfo: ri!pagingInfo,\n  sort: if(\n    rule!AS_CO_UT_isBlank(ri!sort),\n    #\"SYSTEM_SYSRULES_sortInfo\"(\n      field: recordType!AS GCM QNM T Response.responseTemplateId,\n      ascending: true\n    ),\n    ri!sort\n  )\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_174191": {
      "name": "AS_CO_UT_getTypeNamespace",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  extract(ri!type, \"{\", \"}\")\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_271202": {
      "name": "AS_CO_UT_rejectCdtByField",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    rule!AS_CO_UT_isBlank(ri!cdt),\n    ri!cdt,\n    remove(\n      a!flatten(ri!cdt),\n      rule!AS_CO_UT_returnCdtIndicesByField(\n        cdt: ri!cdt,\n        field: ri!field,\n        value: ri!value\n      )\n    )\n  )\n)"
    },
    "_a-0000e447-933d-8000-9baa-011c48011c48_31790": {
      "name": "AS_CO_I18N_UT_isUserLocaleEnglishUs",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  rule!AS_CO_I18N_UT_getUserLocale(user: loggedInUser()) = cons!AS_CO_I18N_TXT_ENGLISH_US_LOCALE\n)"
    },
    "_a-0000e3ff-79a3-8000-7714-45ef9045ef90_8682-adt": {
      "name": "AS_ADT_BL_auditConfig_SAMPLE_Parent",
      "type": "Expression Rule",
      "sail_code": "/*\nAudit config for 'type!{urn:com:appian:types:AS:ADT}AS_ADT_SAMPLE_Parent'\n*/\n{\n  idField: \"parentId\",\n  foreignIdField:\"foreignId\",\n  simpleFields: {\n    \"text\",\n    \"date\",\n    \"referenceChild.childId\",\n    \"complexChildSingle.text\",\n    \"complexChildSingle.date\",\n    \"complexChildSingle.referenceChild.childId\",\n    \"isActive\"\n  },\n  complexFields: {\n    {\n      fieldName: \"complexChildMultiple\",\n      auditFieldName: \"complexChildMultipleChanges\",\n      idField: \"childId\",\n      simpleFields: {\n        \"text\",\n        \"date\",\n        \"referenceChild.childId\"\n      },\n      complexFields: {}\n    }\n  }\n}"
    },
    "_a-0000eecd-8420-8000-9e53-011c48011c48_17525334": {
      "name": "AS_GCM_QNM_COL_ruleConditions_emptyState",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_columnsLayout\"(\n  columns: {\n    #\"SYSTEM_SYSRULES_columnLayout\"(contents: {}),\n    #\"SYSTEM_SYSRULES_columnLayout\"(\n      contents: {\n        #\"SYSTEM_SYSRULES_cardLayout\"(\n          contents: {\n            #\"SYSTEM_SYSRULES_imageField_v1\"(\n              labelPosition: \"COLLAPSED\",\n              images: {\n                #\"SYSTEM_SYSRULES_documentImage\"(\n                  document: cons!AS_GCM_DOC_RULE_CONDITIONS_EMPTY_STATE\n                )\n              },\n              size: \"EXTRA_SMALL\",\n              isThumbnail: false,\n              style: \"STANDARD\",\n              align: \"CENTER\"\n            ),\n            #\"SYSTEM_SYSRULES_headingField\"(\n              text: \"No conditions found\",\n              size: \"EXTRA_SMALL\",\n              headingTag: \"H3\",\n              fontWeight: \"SEMI_BOLD\",\n              align: \"CENTER\",\n              marginBelow: \"EVEN_LESS\"\n            ),\n            #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n              labelPosition: \"COLLAPSED\",\n              value: {\n                \"You havent added any conditions yet.\"\n              },\n              align: \"CENTER\",\n              marginAbove: \"NONE\",\n              marginBelow: \"EVEN_LESS\"\n            ),\n            #\"SYSTEM_SYSRULES_ButtonArrayLayout\"(\n              buttons: {\n                #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                  label: \"Add Condition\",\n                  icon: \"plus-circle\",\n                  size: \"SMALL\",\n                  style: \"OUTLINE\",\n                  saveInto: {\n                    a!save(\n                      ri!rule[recordType!AS GCM QNM T Rule.refOperatorId],\n                      cons!AS_GCM_REF_ID_AND_OPERATOR\n                    ),\n                    rule!AS_GCM_AddEmptyRuleCondition(\n                      ruleConditions: ri!rule[recordType!AS GCM QNM T Rule.conditions]\n\n                    )\n                  }\n                ),\n                #\"SYSTEM_SYSRULES_buttonWidget_v1\"(\n                  label: \"Add Condition Group\",\n                  icon: \"plus-circle\",\n                  size: \"SMALL\",\n                  style: \"OUTLINE\",\n                  saveInto: {\n                    a!save(\n                      ri!rule[recordType!AS GCM QNM T Rule.refOperatorId],\n                      cons!AS_GCM_REF_ID_AND_OPERATOR\n                    ),\n                    rule!AS_GCM_AddEmptyRuleConditionGroup(\n                      depthLevel: 1,\n                      ruleConditionGroups: ri!rule[recordType!AS GCM QNM T Rule.conditionGroups]\n                    )\n                  }\n                )\n              },\n              align: \"CENTER\",\n              marginAbove: \"EVEN_LESS\",\n              marginBelow: \"NONE\"\n            )\n          },\n          height: \"AUTO\",\n          style: \"#fafafc\",\n          shape: \"SEMI_ROUNDED\",\n          padding: \"STANDARD\",\n          marginBelow: \"STANDARD\",\n          showBorder: false\n        )\n      },\n      width: \"MEDIUM_PLUS\"\n    ),\n    #\"SYSTEM_SYSRULES_columnLayout\"(contents: {})\n  },\n  marginAbove: \"STANDARD\"\n)"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_162769": {
      "name": "AS_CO_UT_typeCompare",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  typeof(ri!value1) = typeof(ri!value2)\n)"
    },
    "_a-0000e8cc-c513-8000-9c0f-011c48011c48_3366792": {
      "name": "AS_GCM_ADT_BL_auditConfig_ruleConditions",
      "type": "Expression Rule",
      "sail_code": "{\n  fieldName: \"conditions\",\n  auditFieldName: \"conditionsChanges\",\n  idField: \"mapId\",\n  simpleFields: {\n    \"ruleId\",\n    \"ruleConditionGroupId\",\n    \"questionId\",\n    \"refOperatorId\",\n    \"responseId\",\n    \"refClauseDataId\",\n    \"value\",\n    \"compValue\",\n    \"isActive\"\n  },\n  complexFields: {}\n}"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_162005-adt": {
      "name": "AS_ADT_UT_buildSimpleFieldChangesDictionary",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!oldValue: rule!AS_CO_UT_toString(\n    value: rule!AS_CO_UT_indexPath(\n      cdt: ri!originalObject,\n      field: ri!simpleFieldName\n    )\n  ),\n  local!newValue: rule!AS_CO_UT_toString(\n    value: rule!AS_CO_UT_indexPath(\n      cdt: ri!newObject,\n      field: ri!simpleFieldName\n    )\n  ),\n  if(\n    rule!AS_CO_UT_compare(\n      value1: local!oldValue,\n      value2: local!newValue\n    ),\n    {},\n    rule!AS_CO_UT_dynamicDictionary(\n      fieldValuePairs: {\n        {\n          field: \"fieldName\",\n          value: ri!simpleFieldName\n        },\n        { field: \"oldValue\", value: local!oldValue },\n        { field: \"newValue\", value: local!newValue }\n      }\n    )\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76433": {
      "name": "AS_CO_UT_indexPath",
      "type": "Expression Rule",
      "sail_code": "with(\n  local!fieldsAndIndices: rule!AS_CO_UT_zINTERNAL_indexPath_nestedFieldArrayHandler(field: ri!field),\n\n  reduce(\n    index(_, _, ri!indexDefault),\n    ri!cdt,\n    local!fieldsAndIndices\n  )\n)"
    },
    "_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73568": {
      "name": "AS_CO_UT_getLabelPosition",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text',\n  rule!AS_CO_UT_replaceNull(\n    nullableValue: ri!labelPosition,\n    replacementValue: if(\n      rule!AS_CO_UT_isBlank(ri!label),\n      \"COLLAPSED\",\n      if(ri!readOnly, \"ADJACENT\", \"ABOVE\")\n    )\n  )\n)"
    },
    "_a-0000e67d-efac-8000-9bcd-011c48011c48_1488711": {
      "name": "AS_GCM_MTR_SAVE_createRule",
      "type": "Expression Rule",
      "sail_code": "rule!AS_GCM_blankSave()"
    },
    "_a-0000e8cc-c513-8000-9c0f-011c48011c48_3405575": {
      "name": "AS_GCM_DPL_CO_dropdownField",
      "type": "Interface",
      "sail_code": "a!localVariables(\n  local!displayValue: displayvalue(\n    ri!value,\n    ri!choiceValues,\n    ri!choiceLabels,\n    null\n  ),\n  if(\n    ri!readOnly,\n    rule!AS_CO_DSP_standardReadOnlyField(\n      label: ri!label,\n      instructions: ri!instructions,\n      value: if(\n        isnull(ri!readOnlyValue),\n        local!displayValue,\n        ri!readOnlyValue\n      ),\n      labelPosition: ri!labelPosition,\n      helpTooltip: ri!helpTooltip,\n      showWhen: ri!showWhen,\n      accessibilityText: ri!accessibilityText\n    ),\n    #\"SYSTEM_SYSRULES_dropdownField_v1\"(\n      label: ri!label,\n      labelPosition: rule!AS_CO_UT_getLabelPosition(\n        label: ri!label,\n        labelPosition: ri!labelPosition,\n        readOnly: ri!readOnly\n      ),\n      data: ri!data,\n      sort: ri!sort,\n      instructions: ri!instructions,\n      helpTooltip: ri!helpTooltip,\n      placeholder: if(\n        ri!noPlaceholder,\n        null,\n        rule!AS_CO_UT_formatFieldEntryPlaceHolder(\n          wrapInMarkers: false(),\n          placeholder: rule!AS_CO_UT_replaceNull(\n            nullableValue: ri!placeholder,\n            replacementValue: rule!AS_CO_UT_displayCommonObjectBundleLabel(\n              bundleKey: \"AS.CO.CommonObjects.lbl_co_2\"\n            )\n          )\n        )\n      ),\n      choiceLabels: ri!choiceLabels,\n      choiceValues: ri!choiceValues,\n      value: if(\n        and(\n          a!isNullOrEmpty(local!displayValue),\n          a!isNullOrEmpty(ri!data)\n        ),\n        null,\n        ri!value\n      ),\n      saveInto: ri!saveInto,\n      showWhen: if(isnull(ri!showWhen), true, ri!showWhen),\n      required: if(ri!readOnly, false, ri!required),\n      requiredMessage: rule!AS_CO_UT_displayRequiredMessage(\n        label: ri!label,\n        requiredMessage: ri!requiredMessage\n      ),\n      disabled: ri!disabled,\n      validations: ri!validations,\n      validationGroup: ri!validationGroup,\n      accessibilityText: ri!accessibilityText,\n      searchDisplay: ri!searchDisplay,\n      marginAbove: ri!marginAbove\n    )\n  )\n)"
    },
    "_a-0000e3ff-a5bc-8000-9ba8-011c48011c48_39070": {
      "name": "AS_CO_UT_booleanDefaultFalse",
      "type": "Expression Rule",
      "sail_code": "cast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  if(\n    isnull(ri!boolean),\n    false,\n    ri!boolean\n  )\n)"
    },
    "_a-0000ec50-376f-8000-9d94-011c48011c48_12873326": {
      "name": "AS_GCM_returnValueBasedOnAutomationToggle",
      "type": "Expression Rule",
      "sail_code": "if(\n  cons!AS_GCM_TOGGLE_AUTOMATION_TESTING_ENABLED,\n  ri!value,\n  \"\"\n)"
    },
    "_a-0000e5bc-4a9a-8000-9bbc-011c48011c48_936427": {
      "name": "AS_GAM_ADT_UT_constructActionOnlyAuditData",
      "type": "Expression Rule",
      "sail_code": "/* This rule is used to construct the action only audit data (Simple / Complex field changes will be null)*/\nrule!AS_CO_UT_dynamicDictionary(\n  fieldValuePairs: {\n    {\n      field: ri!auditParams.auditConfig.idField,\n      value: index(\n        ri!auditParams.newObjects,\n        ri!auditParams.auditConfig.idField,\n        null\n      )\n    },\n    { field: \"username\", value: ri!initiator },\n    { field: \"timestamp\", value: now() },\n    {\n      field: \"auditActionCode\",\n      value: ri!auditParams.externalAction\n    },\n    if(\n      rule!AS_CO_UT_isNotBlank(\n        ri!auditParams.auditConfig.foreignIdField\n      ),\n      {\n        field: ri!auditParams.auditConfig.foreignIdField,\n        value: index(\n          ri!auditParams.newObjects,\n          ri!auditParams.auditConfig.foreignIdField,\n          null\n        )\n      },\n      {}\n    )\n  }\n)"
    },
    "_a-0000eb97-b2e8-8000-9d39-011c48011c48_11129558": {
      "name": "AS_GCM_UI_refClauseTitleGridColumn",
      "type": "Interface",
      "sail_code": "#\"SYSTEM_SYSRULES_gridColumn\"(\n  label: \"\",\n  sortField: if(\n    rule!AS_CO_UT_booleanDefaultFalse(ri!disableSorting),\n    {},\n    recordType!AS GCM R Clause.fullClauseTitle\n  ),\n  value: #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n    value: #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n      text: {\n        rule!AS_GCM_CO_DSP_primaryRecordListField(\n          recordTitle: a!match(\n            value: rule!AS_CO_UT_booleanDefaultFalse(ri!showTruncatedClauseTitle),\n            whenTrue: and(\n              rule!AS_CO_UT_isNotBlank(ri!customTruncationLimit),\n              len(\n                fv!row[recordType!AS GCM R Clause.clauseTitle]\n              ) > ri!customTruncationLimit\n            ),\n            then: rule!AS_GCM_DSP_clauseRecordTitle(\n              clauseNumber: fv!row[recordType!AS GCM R Clause.clauseNumber],\n              clauseTitle: fv!row[recordType!AS GCM R Clause.clauseTitle],\n              clauseTitleLength: ri!customTruncationLimit,\n              alternateValue: fv!row[recordType!AS GCM R Clause.alternateValue],\n              deviation: fv!row[recordType!AS GCM R Clause.deviation]\n            ),\n            whenTrue: fv!value,\n            then: fv!row[recordType!AS GCM R Clause.truncatedClauseTitle],\n            default: fv!row[recordType!AS GCM R Clause.fullClauseTitle]\n          ),\n          recordType: recordType!AS GCM R Clause,\n          recordIdentifier: fv!row[recordType!AS GCM R Clause.clauseId],\n          linkShowWhen: ri!linkShowWhen\n        ),\n        if(\n          or(\n            rule!AS_CO_UT_booleanDefaultTrue(ri!showType),\n            rule!AS_CO_UT_booleanDefaultTrue(ri!showSource),\n            rule!AS_CO_UT_booleanDefaultTrue(ri!showEffectiveDate)\n          ),\n          {\n            char(10),\n            #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n              text: joinarray(\n                {\n                  index(\n                    {\n                      rule!AS_GAM_CO_I18N_UT_displayLabel(\n                        bundle: ri!bundle,\n                        bundleKey: fv!row[recordType!AS GCM R Clause.refType.refKey]\n                      ),\n                      rule!AS_GAM_CO_I18N_UT_displayLabel(\n                        bundle: ri!bundle,\n                        bundleKey: fv!row[recordType!AS GCM R Clause.refSource.refKey]\n                      ),\n                      fv!row[recordType!AS GCM R Clause.effectiveDate]\n                    },\n                    {\n                      where(\n                        {\n                          rule!AS_CO_UT_booleanDefaultTrue(ri!showType),\n                          rule!AS_CO_UT_booleanDefaultTrue(ri!showSource),\n                          rule!AS_CO_UT_booleanDefaultTrue(ri!showEffectiveDate)\n                        }\n                      )\n                    },\n                    null\n                  )\n                },\n                \"  \"\n              ),\n              color: rule!AS_GCM_getColorBasedOnColorName(colorName: \"GRAY_3\"),\n              size: \"SMALL\"\n            )\n          },\n          {}\n        )\n      }\n    ),\n    tooltip: if(\n      and(\n        or(\n          and(\n            rule!AS_CO_UT_isNotBlank(ri!customTruncationLimit),\n            len(\n              fv!row[recordType!AS GCM R Clause.clauseTitle]\n            ) > ri!customTruncationLimit\n          ),\n          and(\n            rule!AS_CO_UT_booleanDefaultFalse(ri!showTruncatedClauseTitle),\n            len(\n              fv!row[recordType!AS GCM R Clause.clauseTitle]\n            ) > cons!AS_GCM_ENUM_TEXT_LIMIT_FOR_CLAUSE_TITLE\n          )\n        ),\n        not(\n          rule!AS_CO_UT_booleanDefaultFalse(ri!preventWrapping)\n        )\n      ),\n      fv!row[recordType!AS GCM R Clause.fullClauseTitle],\n      {}\n    ),\n    preventWrapping: rule!AS_CO_UT_booleanDefaultFalse(ri!preventWrapping)\n  ),\n  align: \"START\",\n  width: a!defaultValue(value: ri!width, default: null)\n)"
    },
    "_a-0000e415-3035-8000-9bb2-011c48011c48_291236": {
      "name": "AS_CO_UT_zINTERNAL_returnCdtFields_handler",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Text?list',\n  with(\n    local!blankCdt: rule!AS_CO_UT_returnSingleTypeObject(\n      type: ri!type,\n      typeOf: ri!typeOf\n    ),\n    split(\n      extract(\n        substitute(\n          tostring(\n            local!blankCdt\n          ),\n          \"[Document:]\",\n          \"\"\n        ),\n        \"[\",\n        \"=]\"\n      ),\n      \"=, \"\n    )\n  )\n)"
    },
    "_a-0000ec90-d194-8000-9dac-011c48011c48_13571757": {
      "name": "AS_GCM_updateDataByModifierMaps_Reducer",
      "type": "Expression Rule",
      "sail_code": "if(\n  and(\n    rule!AS_CO_UT_isNotBlank(\n      input: index(ri!data, ri!modifierMap.field, null)\n    ),\n    ri!modifierMap.applyWhen\n  ),\n  #\"urn:appian:function:v1:a:update\"(\n    ri!data,\n    ri!modifierMap.field,\n    a!match(\n      value: ri!modifierMap,\n      whenTrue: and(\n        a!isNotNullOrEmpty(ri!modifierMap.findRegex),\n        a!isNotNullOrEmpty(ri!modifierMap.find)\n      ),\n      then: error(\n        \"Only one of two parameters should have values: findRegex or find\"\n      ),\n      whenTrue: a!isNotNullOrEmpty(ri!modifierMap.findRegex),\n      then: if(\n        a!isNotNullOrEmpty(ri!modifierMap.instanceNum),\n        error(\n          \"instanceNum should be null when passing a value to findRegex\"\n        ),\n        regexreplaceall(\n          ri!modifierMap.findRegex,\n          ri!data[ri!modifierMap.field],\n          ri!modifierMap.replaceWith\n        )\n      ),\n      whenTrue: a!isNotNullOrEmpty(ri!modifierMap.find),\n      then: rule!AS_GCM_substituteListFromTextUsingReduce(\n        text: ri!data[ri!modifierMap.field],\n        find: ri!modifierMap.find,\n        replaceWith: ri!modifierMap.replaceWith,\n        instanceNum: ri!modifierMap.instanceNum,\n        replaceAllInstances: a!defaultValue(\n          value: ri!modifierMap.replaceAllInstances,\n          default: a!isNullOrEmpty(ri!modifierMap.instanceNum)\n        )\n      ),\n      default: error(\n        \"Alteast one of two parameters should have values: findRegex or find\"\n      )\n    )\n  ),\n  ri!data\n)"
    },
    "_a-0000ec90-d194-8000-9dac-011c48011c48_13571682": {
      "name": "AS_GCM_updateDataByModifierMaps",
      "type": "Expression Rule",
      "sail_code": "/*\nThe modifierMaps should have the below structure\n{\na!map(\nfield: <The field which needs to be modified>,\nfind: Optional when findRegex is provided - The value to find,\nfindRegex: Optional when find is provided - The regex search performed to replace the value,\nreplaceWith: The value to replace with. When left blank the find values will be removed,\ninstanceNum: The instance number to which replace. Use only when the find is passed,\nreplaceAllInstances: Default true - Determines whether all the instances need to be replaced\napplyWhen: When false this map will be skipped\n),\n...\n}\n*/\nif(\n  rule!AS_CO_UT_isNotBlank(ri!modifierMaps),\n  #\"SYSTEM_SYSRULES_forEach\"(\n    items: ri!data,\n    expression: reduce(\n      rule!AS_GCM_updateDataByModifierMaps_Reducer(data: _, modifierMap: _),\n      fv!item,\n      ri!modifierMaps\n    )\n  ),\n  ri!data\n)"
    },
    "_a-0000e6c8-d132-8000-9bbe-011c48011c48_469266": {
      "name": "AS_CO_UT_queryRecord",
      "type": "Expression Rule",
      "sail_code": "/*\n\nPLEASE REFER TO THE BOTTOM OF THIS RULE FOR INSTRUCTIONS ON HOW TO USE\n\nPlease DO NOT auto-format this rule\n\n*/\n\n\n/*Error handling*/\nif(\n  rule!AS_CO_UT_isBlank(ri!returnType),\n  fn!error(concat(\"Null `returnType` passed to AS_CO_UT_queryRecord for recordType `\", ri!recordType, \"`.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  not(contains(rule!AS_CO_CONS_QE_RETURN_TYPES(), ri!returnType)),\n  fn!error(concat(\"Unknown `returnType` passed to AS_CO_UT_queryRecord for recordType `\", ri!recordType, \"`.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  rule!AS_CO_UT_isBlank(ri!recordType),\n  fn!error(concat(\"Null `recordType` passed to AS_CO_UT_queryRecord.  See documentation in AS_CO_UT_queryRecord for further information on how to use this parameter.\")),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    rule!AS_CO_UT_isBlank(ri!pagingInfo)\n  ),\n  fn!error(concat(\"`pagingInfo` is required (cannot be null) for `returnType` DATA_SUBSET\")),\n  and(\n    ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n    rule!AS_CO_UT_isNotBlank(ri!pagingInfo)\n  ),\n  fn!error(concat(\"`pagingInfo` must be null when the `returnType` is not DATA_SUBSET, instead use `sort` to pass custom-sorting and `startIndex` & `batchSize` will be automatically calculated for you\")),\n  and(\n    not(isnull(ri!pagingInfo)),\n    rule!AS_CO_UT_isNotBlank(ri!sort)\n  ),\n  fn!error(concat(\"`sort` parameter must be null when `pagingInfo` is provided.  Use the sort field of the provided `pagingInfo` instead.\")),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isBlank(ri!aggregationFields)\n  ),\n  fn!error(\"You must provide an input for `aggregationFields` when `returnType` is AGGREGATION\"),\n  and(\n    ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isNotBlank(ri!fields)\n  ),\n  fn!error(\"You cannot provide an input for `fields` when `returnType` is AGGREGATION.  Use `aggregationFields` instead.\"),\n  and(\n    ri!returnType <> cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n    rule!AS_CO_UT_isNotBlank(ri!aggregationFields)\n  ),\n  fn!error(\"You cannot provide an input for `aggregationFields` when `returnType` is not AGGREGATION.  Use `fields` instead.\"),\n  and(\n    rule!AS_CO_UT_isNotBlank(ri!castToCdtType),\n    not(contains(\n      {cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY, cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT, cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET},\n      ri!returnType\n    )),\n  ),\n  fn!error(\"'castToCdtType' is only supported for SINGLE_OBJECT, OBJECT_ARRAY, and DATA_SUBSET return types\"),\n\n  a!localVariables(\n\n    /*Determine the castResultToType*/\n    local!castResultToType: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   'type!{http://www.appian.com/ae/types/2009}Map',\n        /*SINGLE_OBJECT*/ a!defaultValue(ri!castToCdtType, ri!recordType),\n        /*OBJECT_ARRAY*/  rule!AS_CO_UT_returnArrayTypeNumber(type: a!defaultValue(ri!castToCdtType, ri!recordType)),\n        /*AGGREGATION*/   'type!{http://www.appian.com/ae/types/2009}Map?list',\n        /*TOTAL_COUNT*/   'type!{http://www.appian.com/ae/types/2009}Integer',\n      }\n    ),\n\n    /*Determine the batchSize*/\n    local!batchSize: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   ri!pagingInfo.batchSize,\n        /*SINGLE_OBJECT*/ 1,\n        /*OBJECT_ARRAY*/  a!defaultValue(ri!pagingInfo.batchSize, cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE),\n        /*AGGREGATION*/   cons!AS_CO_INT_QUERY_MAX_BATCH_SIZE,\n        /*TOTAL_COUNT*/   1,\n      }\n    ),\n\n    /*Determine the pagingInfo*/\n    local!pagingInfo: if(\n      ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_DATA_SUBSET,\n      /*Use specific pagingInfo for DATA_SUBSET*/\n      ri!pagingInfo,\n      /*Otherwise calculate pagingInfo for all other returnTypes*/\n      #\"SYSTEM_SYSRULES_pagingInfo\"(\n        startIndex: 1,\n        batchSize: local!batchSize,\n        sort: ri!sort\n      )\n    ),\n\n    /*Determine the fetchTotalCount*/\n    local!fetchTotalCount: rule!AS_CO_UT_displayValue(\n      value: ri!returnType,\n      inArray: rule!AS_CO_CONS_QE_RETURN_TYPES(),\n      replacement: {\n        /*DATA_SUBSET*/   true,\n        /*SINGLE_OBJECT*/ false,\n        /*OBJECT_ARRAY*/  false,\n        /*AGGREGATION*/   false,\n        /*TOTAL_COUNT*/   true,\n      }\n    ),\n\n    /*Execute the query*/\n    local!queryResult: a!refreshVariable(\n      value: if(\n        ri!executeWhen = false,\n        null(\n          if(\n            ri!returnType = cons!AS_CO_ENUM_QE_RETURN_TYPE_AGGREGATION,\n            rule!AS_CO_TYPE_Dictionary(),\n            ri!recordType\n          )\n        ),\n        #\"SYSTEM_SYSRULES_queryRecordType_v1\"(\n          recordType: ri!recordType,\n          fields: a!defaultValue(\n            ri!fields,\n            ri!aggregationFields\n          ),\n          filters: #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n            operator: \"AND\",\n            logicalExpressions: {\n              #\"SYSTEM_SYSRULES_queryLogicalExpression\"(\n                operator: \"AND\",\n                ignoreFiltersWithEmptyValues: true,\n                filters: a!defaultValue(ri!filters, {})\n              ),\n              a!defaultValue(ri!logicalExpression, {})\n            }\n          ),\n          pagingInfo: local!pagingInfo,\n          fetchTotalCount: local!fetchTotalCount,\n          relatedRecordData: ri!relatedRecordData\n        )\n      ),\n      refreshOnVarChange: ri!triggerRefresh,\n      refreshAfter: {\"RECORD_ACTION\"}\n    ),\n\n    /*Parse the queryResult*/\n    local!queryResultParse: choose(\n      rule!AS_CO_UT_chooseWherecontainsHelper(\n        value: ri!returnType,\n        inArray: rule!AS_CO_CONS_QE_RETURN_TYPES()\n      ),\n      /*Default, required value based on how AS_CO_UT_chooseWherecontainsHelper operates*/ \"\",\n      /*DATA_SUBSET*/   if(\n        rule!AS_CO_UT_isNotBlank(ri!castToCdtType),\n        /*Note that for a data subset, the parent is a map, but we allow casting the child 'data' field as well*/\n        rule!AS_CO_UT_updateCdtFieldsByFieldValuePairs(\n          cdt: local!queryResult,\n          fieldValuePairs: {\n            field: \"data\",\n            value: cast(\n              rule!AS_CO_UT_returnArrayTypeNumber(type: ri!castToCdtType),\n              local!queryResult.data\n            )\n          }\n        ),\n        local!queryResult\n      ),\n      /*SINGLE_OBJECT*/ local!queryResult.data,\n      /*OBJECT_ARRAY*/  local!queryResult.data,\n      /*AGGREGATION*/   local!queryResult.data,\n      /*TOTAL_COUNT*/   local!queryResult.totalCount,\n    ),\n\n    rule!AS_CO_UT_cast(\n      type: local!castResultToType,\n      value: local!queryResultParse\n    )\n  )\n)\n\n/*\n\nDOCUMENTATION\n\nThis rule is designed to minimize the overhead with querying data and then casting the result\n\n\nRequired Inputs:\n\n1. recordType\n- This is a recordtype! input of the data type to be queried against\n\n2. returnType\n- This depends on the purpose for the query, and should be one of the returnTypes in rule!AS_CO_CONS_QE_RETURN_TYPES\n-- DATA_SUBSET - This will return a DataSubset; pagingInfo is required\n-- SINGLE_OBJECT - This will return a single record whose type is the recordType; pagingInfo must be null\n-- ARRAY_OBJECT - This will return an array of records whose type is an array of the recordType; pagingInfo must be null\n-- AGGREGATION - This will return an array of Dictionaries; pagingInfo must be null\n---- NOTE: If you need Aggregation with paging controls, such as for a grid, use returnType DATA_SUBSET\n-- TOTAL_COUNT - This will return an Integer of the total count; pagingInfo must be null\n\n\nOptional Inputs:\n\n3. executeWhen\n- The query will not execute if this is false, the query will execute if this is true or null\n-- This is meant to operate in a similar manner to the showWhen parameter of components\n- Use this to skip execution of a query without needing to wrap if() statements around the rule\n-- Examples of this would be to skip querying if your filter value is a null ID\n- If the query does not execute, this will return a null value whose type is based on the returnType input\n\n4. triggerRefresh\n- By default, the query will always re-execute whenever any inputs change\n- However, by updating the value of triggerRefresh, you can also trigger a re-execution even if none of the other inputs change (e.g. after a record action)\n\n5. filters\n- Array of filters to apply to the query, built with a!queryFilter()\n- These filters will be applied with an AND operator\n- These filters will apply in addition to the logicalExpression input, combining both with an AND operator\n\n6. logicalExpression\n- A logical expression to apply to the query, built with a!queryLogicalExpression()\n- This logical expression will apply in addition to the filters input, combining both with an AND operator\n\n7. aggregationFields\n- Aggregation to apply to the query, built with a!aggregationField()\n\n8. fields\n- List of recordFields and relatedRecordFields to return.  When querying a record, any relatedRecordFields are not returned\nby default, and must be specifically requested.\n\n9. pagingInfo\n- Paging info to apply to the query, built with a!pagingInfo() or derived from fv!pagingInfo in grids\n- This is required if passing returnType DATA_SUBSET, otherwise it must be null\n- For returnTypes that are not DATA_SUBSET, the batch size will be automatically calculated depending on the returnType\n-- For example, passing SINGLE_OBJECT will automatically apply a batch size of 1, whereas ARRAY_OBJECT and AGGREGATION will automatically apply a batch size of the defined query batch size maximum\n\n10. sort\n- Array of sort to apply to the query, built with a!sortInfo()\n- This is meant to be used with returnType ARRAY_OBJECT and AGGREGATION, since pagingInfo is not required for these, but a specified sort may be used\n- Cannot be used in conjunction with pagingInfo.sort\n\n11. castToCdtType\n- Any cdt type to the cast the result set. \n- This is meant to be used with only returnType OBJECT_ARRAY and SINGLE_OBJECT.\n\n*/"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_161361-adt": {
      "name": "AS_ADT_UT_calculateAudit",
      "type": "Expression Rule",
      "sail_code": "rule!AS_ADT_UT_calculateAudit_MultipleObjects(\n  originalObjects: ri!originalObjects,\n  newObjects: ri!newObjects,\n  auditConfig: ri!auditConfig,\n  username: ri!username,\n  externalAction: ri!externalAction,\n  auditType: ri!auditType\n)"
    },
    "_a-0000e897-ddd7-8000-9c0c-011c48011c48_3318977": {
      "name": "AS_GCM_UT_captureAuditForRules",
      "type": "Expression Rule",
      "sail_code": "/*No assertion: As the output involves Entity DSE*/\na!localVariables(\n  local!ruleAudit: rule!AS_GAM_ADT_UT_buildAuditEntityData(\n    auditParams: rule!AS_GCM_QNM_UT_ruleStartAuditProcess_Parameters(\n      originalRule: ri!originalRule,\n      rule: ri!rules,\n      originalRuleClauses: ri!originalRuleClauses,\n      ruleClauses: ri!ruleClauses,\n      initiator: ri!initiator\n    ),\n    initiator: ri!initiator\n  ),\n  /*Audit will be written only if any of the field values are updated*/\n  {\n    if(\n      rule!AS_CO_UT_isBlank(local!ruleAudit),\n      {},\n      {\n        entity: cons!AS_GCM_QNM_ENT_A_T_RULE,\n        data: local!ruleAudit\n      }\n    )\n  }\n)"
    },
    "_a-0000eef5-cf69-8000-9e5e-011c48011c48_17798521": {
      "name": "AS_GCM_compareRecordFields",
      "type": "Expression Rule",
      "sail_code": "tostring(index(ri!record, ri!recordField, null)) = tostring(index(ri!recordCopy, ri!recordField, null))"
    },
    "_a-0000e3e6-fb42-8000-9ba5-011c48011c48_186770": {
      "name": "AS_CO_UT_simpleGridSelectionSaveInto",
      "type": "Expression Rule",
      "sail_code": "a!save(\n  ri!target,\n  difference(\n    rule!AS_CO_UT_cast(\n      typeOf: a!flatten(ri!target),\n      value: append(\n        ri!target,\n        fv!selectedRows\n      )\n    ),\n    rule!AS_CO_UT_cast(\n      typeOf: a!flatten(ri!target),\n      value: fv!deselectedRows\n    )\n  )\n)"
    },
    "_a-0000ebe1-785a-8000-9d61-011c48011c48_11915599": {
      "name": "AS_GCM_flexiCompare",
      "type": "Expression Rule",
      "sail_code": "/*Do a \"fuzzy\" comparison where all we care about is the data*/\n/*This will match a list of variant/dictionary/cdt if their fields have the same values*/\ncast(\n  'type!{http://www.appian.com/ae/types/2009}Boolean',\n  if(\n    all(\n      rule!AS_CO_UT_isNotBlank,\n      { ri!value1, ri!value2, ri!ignoreFields }\n    ),\n    tostring(remove(ri!value1, ri!ignoreFields)) = tostring(remove(ri!value2, ri!ignoreFields)),\n    tostring(ri!value1) = tostring(ri!value2)\n  )\n)"
    },
    "_a-0000eef5-cf69-8000-9e5e-011c48011c48_17803520": {
      "name": "AS_GCM_updateRefRuleAudit",
      "type": "Expression Rule",
      "sail_code": "a!localVariables(\n  local!requiredFieldNamesMap: rule!AS_GCM_returnRequiredFieldMapsForRuleConditionAudit(),\n  local!auditWithUpdatedConditionChanges: if(\n    rule!AS_CO_UT_isBlank(ri!ruleAudit.conditionsChanges),\n    ri!ruleAudit,\n    #\"urn:appian:function:v1:a:update\"(\n      ri!ruleAudit,\n      \"conditionsChanges\",\n      rule!AS_GCM_updateSimpleFieldChangesForConditions(\n        conditionsChanges: ri!ruleAudit.conditionsChanges,\n        ruleConditions: ri!rule[recordType!AS GCM QNM T Rule.conditions],\n        requiredFieldNamesMap: local!requiredFieldNamesMap\n      )\n    )\n  ),\n  if(\n    rule!AS_CO_UT_isBlank(\n      local!auditWithUpdatedConditionChanges.conditionGroupsChanges\n    ),\n    local!auditWithUpdatedConditionChanges,\n    #\"urn:appian:function:v1:a:update\"(\n      local!auditWithUpdatedConditionChanges,\n      \"conditionGroupsChanges\",\n      rule!AS_GCM_MapForeignKeysInRuleConditionGroupsAudit_Recursion(\n        ruleConditionGroupsAudit: local!auditWithUpdatedConditionChanges.conditionGroupsChanges,\n        ruleAuditId: ri!ruleAudit.ruleAuditId,\n        ruleConditionGroups: ri!rule[recordType!AS GCM QNM T Rule.conditionGroups],\n        requiredFieldNamesMap: local!requiredFieldNamesMap\n      )\n    )\n  )\n)"
    },
    "_a-0000e8cc-c513-8000-9c0f-011c48011c48_3366908": {
      "name": "AS_GCM_ADT_BL_auditConfig_ruleConditionClauses",
      "type": "Expression Rule",
      "sail_code": "{\n  fieldName: \"conditionClauses\",\n  auditFieldName: \"conditionClausesChanges\",\n  idField: \"clauseMapId\",\n  simpleFields: {\n    \"ruleId\",\n    \"refClauseId\",\n    \"refUsageId\",\n    \"isActive\"\n  },\n  complexFields: {}\n}"
    },
    "_a-0000e36c-7599-8000-9ba2-011c48011c48_64438": {
      "name": "AS_CO_UT_zINTERNAL_returnCdtFields_primitiveTypeCheckHandler",
      "type": "Expression Rule",
      "sail_code": "cast(\n   'type!{http://www.appian.com/ae/types/2009}Boolean',\n  any(\n    rule!AS_CO_UT_typeCompare(\n      value1: ri!singleType[ri!field],\n      value2: _\n    ),\n    apply(\n      cast(\n        _,\n        null\n      ),\n      rule!AS_CO_CONS_PRIMITIVE_TYPE_ARRAY()\n    )\n  )\n)"
    },
    "_a-0000e40a-de32-8000-9ba8-011c48011c48_269170": {
      "name": "AS_CO_UT_updateCdtFieldsByFieldValuePairs",
      "type": "Expression Rule",
      "sail_code": "cast(\n  typeof(ri!cdt),\n  if(\n    and(\n      rule!AS_CO_UT_isBlank(ri!cdt),\n      rule!AS_CO_UT_checkIfArrayType(\n        typeOf: ri!cdt\n      )\n    ),\n    ri!cdt,\n    reduce(\n      rule!AS_CO_UT_zINTERNAL_updateCdtFieldsByPathComplex_handler(\n        cdt: _,\n        fieldValuePair: _\n      ),\n      ri!cdt,\n      a!flatten(ri!fieldValuePairs)\n    )\n  )\n)"
    },
    "_a-0000e915-02bc-8000-9c1f-011c48011c48_3773120": {
      "name": "AS_GCM_substituteListFromTextUsingReduce",
      "type": "Expression Rule",
      "sail_code": "/*This rule with replace all texts in ri!find with \"\" if null is passed to ri!replaceWith\n  If null is passed to ri!instanceNum then only the first instance of ri!find will be replaced \n*/\nif(\n  rule!AS_CO_UT_isBlank(ri!find),\n  ri!text,\n  reduce(\n    fn!substitute,\n    ri!text,\n    if(\n      ri!replaceAllInstances = true(),\n      merge(\n        ri!find,\n        a!defaultValue(\n          value: ri!replaceWith,\n          default: repeat(length(ri!find), \"\")\n        )\n      ),\n      merge(\n        ri!find,\n        a!defaultValue(\n          value: ri!replaceWith,\n          default: repeat(length(ri!find), \"\")\n        ),\n        a!defaultValue(\n          value: ri!instanceNum,\n          default: repeat(length(ri!find), 1)\n        )\n      )\n    )\n  )\n)"
    },
    "_a-0000eed7-628f-8000-9e56-011c48011c48_17582655": {
      "name": "AS_GCM_AddEmptyRuleConditionGroup",
      "type": "Expression Rule",
      "sail_code": "a!save(\n  ri!ruleConditionGroups,\n  append(\n    ri!ruleConditionGroups,\n    recordType!AS GCM QNM T Rule Condition Group(\n      recordType!AS GCM QNM T Rule Condition Group.refOperatorId: cons!AS_GCM_REF_ID_AND_OPERATOR,\n      recordType!AS GCM QNM T Rule Condition Group.ruleConditionGroupName: joinarray(\n        {\n          ri!parentConditionGroupName,\n          if(\n            rule!AS_CO_UT_isBlank(ri!ruleConditionGroups),\n            1,\n            max(\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: ri!ruleConditionGroups[recordType!AS GCM QNM T Rule Condition Group.ruleConditionGroupName],\n                expression: reverse(split(fv!item, \".\"))[1]\n              )\n            ) + 1\n          )\n        },\n        \".\"\n      ),\n      recordType!AS GCM QNM T Rule Condition Group.depthLevel: ri!depthLevel,\n      recordType!AS GCM QNM T Rule Condition Group.createdBy: loggedInUser(),\n      recordType!AS GCM QNM T Rule Condition Group.createdDatetime: now(),\n      recordType!AS GCM QNM T Rule Condition Group.modifiedBy: loggedInUser(),\n      recordType!AS GCM QNM T Rule Condition Group.modifiedDatetime: now(),\n      recordType!AS GCM QNM T Rule Condition Group.isActive: true,\n      recordType!AS GCM QNM T Rule Condition Group.conditions: recordType!AS GCM QNM T Rule Condition(\n        recordType!AS GCM QNM T Rule Condition.isActive: true,\n        recordType!AS GCM QNM T Rule Condition.createdBy: loggedInUser(),\n        recordType!AS GCM QNM T Rule Condition.createdDatetime: now(),\n        recordType!AS GCM QNM T Rule Condition.modifiedBy: loggedInUser(),\n        recordType!AS GCM QNM T Rule Condition.modifiedDatetime: now()\n      )\n    )\n  )\n)"
    },
    "_a-0000eed7-628f-8000-9e56-011c48011c48_17657418": {
      "name": "AS_GCM_DeleteRuleConditionGroup_Recursion",
      "type": "Expression Rule",
      "sail_code": "#\"urn:appian:function:v1:a:update\"(\n  #\"urn:appian:function:v1:a:update\"(\n    #\"urn:appian:function:v1:a:update\"(\n      ri!ruleConditionGroup,\n      recordType!AS GCM QNM T Rule Condition Group.conditions,\n      rule!AS_CO_UT_rejectNullValuesFromArray(\n        #\"SYSTEM_SYSRULES_forEach\"(\n          items: ri!ruleConditionGroup[recordType!AS GCM QNM T Rule Condition Group.conditions],\n          expression: if(\n            rule!AS_CO_UT_isBlank(\n              fv!item[recordType!AS GCM QNM T Rule Condition.mapId]\n            ),\n            {},\n            #\"urn:appian:function:v1:a:update\"(\n              fv!item,\n              {\n                recordType!AS GCM QNM T Rule Condition.isActive,\n                recordType!AS GCM QNM T Rule Condition.modifiedBy,\n                recordType!AS GCM QNM T Rule Condition.modifiedDatetime\n              },\n              { false, loggedInUser(), now() }\n            )\n          )\n        )\n      )\n    ),\n    recordType!AS GCM QNM T Rule Condition Group.conditionGroups,\n    rule!AS_CO_UT_rejectNullValuesFromArray(\n      #\"SYSTEM_SYSRULES_forEach\"(\n        items: ri!ruleConditionGroup[recordType!AS GCM QNM T Rule Condition Group.conditionGroups],\n        expression: if(\n          rule!AS_CO_UT_isBlank(\n            fv!item[recordType!AS GCM QNM T Rule Condition Group.ruleConditionGroupId]\n          ),\n          {},\n          rule!AS_GCM_DeleteRuleConditionGroup_Recursion(ruleConditionGroup: fv!item)\n        )\n      )\n    )\n  ),\n  {\n    recordType!AS GCM QNM T Rule Condition Group.isActive,\n    recordType!AS GCM QNM T Rule Condition Group.modifiedBy,\n    recordType!AS GCM QNM T Rule Condition Group.modifiedDatetime\n  },\n  { false, loggedInUser(), now() }\n)"
    },
    "_a-0000e7f8-737a-8000-9bf7-011c48011c48_2512353": {
      "name": "AS_GCM_QR_getRefContractTypeData",
      "type": "Expression Rule",
      "sail_code": "rule!AS_CO_UT_queryRecord(\n  recordType: recordType!AS GCM R Contract Type,\n  returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_OBJECT_ARRAY,\n  castToCdtType: if(\n    rule!AS_CO_UT_booleanDefaultTrue(boolean: ri!doCastToCdt),\n    'type!{urn:com:appian:types}AS_GCM_R_Contract_Type',\n    null\n  ),\n  filters: {\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM R Contract Type.refPricingTypeId,\n      operator: \"in\",\n      value: ri!refPricingTypes\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM R Contract Type.refContractTypeId,\n      operator: \"in\",\n      value: ri!refContractTypes\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM R Contract Type.contractTypeId,\n      operator: \"in\",\n      value: ri!contractTypeIds\n    ),\n    #\"SYSTEM_SYSRULES_queryFilter\"(\n      field: recordType!AS GCM R Contract Type.isActive,\n      operator: \"=\",\n      value: true,\n      applyWhen: not(\n        rule!AS_CO_UT_booleanDefaultFalse(boolean: ri!returnAllData)\n      )\n    )\n  },\n  fields: rule!AS_CO_UT_rejectNullValuesFromArray(\n    {\n      ri!fields,\n      if(\n        rule!AS_CO_UT_booleanDefaultTrue(boolean: ri!includeRelatedRecords),\n        {\n          recordType!AS GCM R Contract Type.refContractType,\n          recordType!AS GCM R Contract Type.refPricingType\n        },\n        {}\n      )\n    }\n  ),\n  executeWhen: ri!executeWhen\n)"
    }
  }
}
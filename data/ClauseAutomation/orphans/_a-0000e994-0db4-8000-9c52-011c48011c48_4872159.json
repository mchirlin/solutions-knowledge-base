{
  "uuid": "_a-0000e994-0db4-8000-9c52-011c48011c48_4872159",
  "name": "AS_GCM_CPS_navigationSectionsInClausesTab",
  "type": "Interface",
  "description": "GCA-GCW Integration: The interface contains a side navigation bar for the clauses tab in the left panel",
  "sail_code": "a!localVariables(\n  local!bundle: rule!AS_GCM_CO_UT_loadBundleFromFolder(langISOCode: null),\n  local!activeStep: 1,\n  local!triggerRefresh: a!refreshVariable(\n    value: now(),\n    refreshAfter: \"RECORD_ACTION\",\n    refreshOnVarChange: local!activeStep\n  ),\n  local!clauseSet: rule!AS_GCM_QE_getClauseSetDetails(\n    returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT,\n    awardId: property(ri!clauseSetContext, \"awardId\", null()),\n    solicitationId: property(\n      ri!clauseSetContext,\n      \"solicitationId\",\n      null()\n    ),\n    triggerRefresh: local!triggerRefresh\n  ),\n  local!clauseSetRecord: rule!AS_GCM_QE_getClauseSetDetails(\n    returnType: cons!AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT,\n    setId: index(local!clauseSet, \"setId\", null),\n    executeWhen: rule!AS_CO_UT_isNotBlank(local!clauseSet),\n    triggerRefresh: local!triggerRefresh,\n    useQueryRecord: true\n  ),\n  local!navigationSections: if(\n    rule!AS_CO_UT_isBlank(local!clauseSet),\n    {},\n    {\n      a!map(\n        name: \"Summary\"\n      ),\n      a!map(\n        name: \"Questionnaire\"\n      ),\n      a!map(\n        name: \"\"\n      ),\n      a!map(\n        name: \"\"\n      )\n    }\n  ),\n  local!updatedClauseSetContext: #\"urn:appian:function:v1:a:update\"(\n    ri!clauseSetContext,\n    \"setId\",\n    index(local!clauseSet, \"setId\", null())\n  ),\n  if(\n    rule!AS_CO_UT_isBlank(local!navigationSections),\n    {},\n    #\"SYSTEM_SYSRULES_columnsLayout\"(\n      columns: {\n        /*Navigation bars*/\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: #\"SYSTEM_SYSRULES_cardLayout\"(\n            contents: {\n              #\"SYSTEM_SYSRULES_forEach\"(\n                items: local!navigationSections,\n                expression: {\n                  #\"SYSTEM_SYSRULES_cardLayout\"(\n                    contents: {\n                      #\"SYSTEM_SYSRULES_richTextDisplayField\"(\n                        labelPosition: \"COLLAPSED\",\n                        value: {\n                          #\"SYSTEM_SYSRULES_richTextItem_v1\"(\n                            text: fv!item.name,\n                            color: \"STANDARD\",\n                            size: \"STANDARD\",\n                            style: if(\n                              local!activeStep = fv!index,\n                              \"STRONG\",\n                              \"PLAIN\"\n                            )\n                          )\n                        },\n                        marginAbove: \"EVEN_LESS\",\n                        marginBelow: \"EVEN_LESS\"\n                      )\n                    },\n                    link: #\"SYSTEM_SYSRULES_dynamicLink\"(\n                      label: if(\n                        cons!AS_GCM_TOGGLE_AUTOMATION_TESTING_ENABLED,\n                        fv!item.name,\n                        \"\"\n                      ),\n                      value: fv!index,\n                      saveInto: local!activeStep\n                    ),\n                    height: \"AUTO\",\n                    style: if(\n                      local!activeStep = fv!index,\n                      \"#F5F9FF\",\n                      \"#ffffff\"\n                    ),\n                    shape: \"SEMI_ROUNDED\",\n                    padding: \"LESS\",\n                    marginAbove: \"NONE\",\n                    marginBelow: \"LESS\",\n                    showBorder: false,\n                    decorativeBarPosition: \"START\",\n                    decorativeBarColor: if(\n                      local!activeStep = fv!index,\n                      \"ACCENT\",\n                      \"#ffffff\"\n                    ),\n                    accessibilityText: if(\n                      local!activeStep = fv!index,\n                      \"Selected\",\n                      \"\"\n                    )\n                  )\n                }\n              )\n            },\n            showBorder: false,\n            showShadow: false,\n            padding: \"NONE\"\n          ),\n          width: \"NARROW\",\n          showWhen: true\n        ),\n        /*Main*/\n        #\"SYSTEM_SYSRULES_columnLayout\"(\n          contents: {\n            /*Header*/\n            {\n              #\"SYSTEM_SYSRULES_columnsLayout\"(\n                columns: {\n                  #\"SYSTEM_SYSRULES_columnLayout\"(\n                    contents: {\n                      #\"SYSTEM_SYSRULES_sectionLayout_v1\"(\n                        label: index(local!clauseSet, \"setNumber\", null()),\n                        labelSize: \"MEDIUM_PLUS\",\n                        labelColor: \"STANDARD\"\n                      )\n                    },\n                    width: \"AUTO\"\n                  ),\n                  #\"SYSTEM_SYSRULES_columnLayout\"(\n                    contents: {\n                      #\"SYSTEM_SYSRULES_sideBySideLayout\"(\n                        items: {\n                          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                            item: rule!AS_GCM_CP_recordActionField(\n                              actions: #\"urn:appian:record-action:v1:ed8d90b9-2edd-444c-911c-f72dfcfe12b3/7faa39e8-d349-4bff-8b5c-1363e4028f7e\",\n                              identifier: externalize(\n                                a!map(context: local!updatedClauseSetContext)\n                              ),\n                              style: \"TOOLBAR\",\n                              display: \"LABEL\",\n                              align: \"END\"\n                            )\n                          ),\n                          #\"SYSTEM_SYSRULES_sideBySideItem\"(\n                            item: rule!AS_GCM_CP_recordActionField(\n                              actions: #\"urn:appian:record-action:v1:474117cd-fb9d-413e-9656-09e5f8bd3f06/1de46815-d53a-4c4e-9dbc-9121af1ce816\",\n                              identifier: index(local!clauseSet, \"setId\", null()),\n                              style: \"TOOLBAR\",\n                              display: \"LABEL\",\n                              align: \"END\"\n                            )\n                          )\n                        },\n                        showWhen: rule!AS_CO_UT_booleanDefaultTrue(\n                          ri!clauseSetContext.relatedActionVisiblity\n                        )\n                      )\n                    },\n                    width: \"NARROW_PLUS\"\n                  )\n                },\n                showWhen: local!activeStep <> 4\n              )\n            },\n            /*Content*/\n            choose(\n              local!activeStep,\n              /*Summary*/\n              rule!AS_GCM_CPS_clauseSetAndAppliedClausesSectionDetails(\n                clauseSetId: local!clauseSet.setId,\n                isExternalSource: true,\n                relatedActionVisibility: rule!AS_CO_UT_booleanDefaultTrue(\n                  ri!clauseSetContext.relatedActionVisiblity\n                ),\n                clauseSet: local!clauseSetRecord,\n                triggerRefresh: local!triggerRefresh\n              ),\n              /*Questionnaire*/\n              rule!AS_GCM_questionnaireViewForClauseSetRecord(\n                clauseSetId: local!clauseSet.setId,\n                triggerRefresh: local!triggerRefresh\n              ),\n              /*Excluded Clauses*/\n              rule!AS_GCM_CPS_ExcludedClausesList(\n                clauseSetId: local!clauseSet.setId,\n                bundle: local!bundle,\n                triggerRefresh: local!triggerRefresh\n              ),\n              /*Clause Set History*/\n              rule!AS_GCM_FM_clauseSetAuditHistory(\n                clauseSet: local!clauseSet,\n                triggerRefresh: local!triggerRefresh,\n                isContractWriting: true\n              )\n            )\n          },\n          width: \"AUTO\",\n          showWhen: true\n        )\n      },\n      spacing: \"SPARSE\",\n      showDividers: true\n    )\n  )\n)",
  "calls": [
    {
      "name": "AS_GCM_CO_UT_loadBundleFromFolder",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_GCM_QE_getClauseSetDetails",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_CO_UT_isNotBlank",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_CO_UT_isBlank",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_GCM_CP_recordActionField",
      "type": "Interface",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_CO_UT_booleanDefaultTrue",
      "type": "Expression Rule",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_GCM_CPS_clauseSetAndAppliedClausesSectionDetails",
      "type": "Interface",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_GCM_questionnaireViewForClauseSetRecord",
      "type": "Interface",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_GCM_CPS_ExcludedClausesList",
      "type": "Interface",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_GCM_FM_clauseSetAuditHistory",
      "type": "Interface",
      "dep_type": "CALLS"
    },
    {
      "name": "AS_CO_ENUM_QE_RETURN_TYPE_SINGLE_OBJECT",
      "type": "Constant",
      "dep_type": "USES_CONSTANT"
    },
    {
      "name": "AS_GCM_TOGGLE_AUTOMATION_TESTING_ENABLED",
      "type": "Constant",
      "dep_type": "USES_CONSTANT"
    },
    {
      "name": "AS GCM DRCA Dynamic Record Context Action",
      "type": "Record Type",
      "dep_type": "USES_RECORD_TYPE"
    },
    {
      "name": "AS GCM Clause Set",
      "type": "Record Type",
      "dep_type": "USES_RECORD_TYPE"
    }
  ],
  "called_by": [
    {
      "name": "AS_GCM_clauseSetDetailsForSolicitationOrAward",
      "type": "Interface",
      "dep_type": "CALLS"
    }
  ]
}